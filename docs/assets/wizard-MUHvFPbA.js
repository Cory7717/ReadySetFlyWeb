import{r as n,f as G,u as Y,g as Z,j as e,h as z,R as Q,P as k,i as E,I as ee,k as S,l as se,m as ae,n as te,o as B,p as oe,t as _,C as b,q as u,s as re,B as N}from"./index-umuuNHW5.js";import{S as ie}from"./StudentLayout-WUZeSZ-N.js";import{N as A}from"./NextStepCTA-Dpv35yEy.js";import{u as ne}from"./useStudentProfile-BRpavieF.js";var I="Radio",[de,D]=z(I),[le,ce]=de(I),M=n.forwardRef((o,l)=>{const{__scopeRadio:a,name:p,checked:i=!1,required:c,disabled:t,value:m="on",onCheck:h,form:v,...g}=o,[x,j]=n.useState(null),d=E(l,y=>j(y)),s=n.useRef(!1),r=x?v||!!x.closest("form"):!0;return e.jsxs(le,{scope:a,checked:i,disabled:t,children:[e.jsx(k.button,{type:"button",role:"radio","aria-checked":i,"data-state":T(i),"data-disabled":t?"":void 0,disabled:t,value:m,...g,ref:d,onClick:S(o.onClick,y=>{i||h==null||h(),r&&(s.current=y.isPropagationStopped(),s.current||y.stopPropagation())})}),r&&e.jsx(L,{control:x,bubbles:!s.current,name:p,value:m,checked:i,required:c,disabled:t,form:v,style:{transform:"translateX(-100%)"}})]})});M.displayName=I;var $="RadioIndicator",J=n.forwardRef((o,l)=>{const{__scopeRadio:a,forceMount:p,...i}=o,c=ce($,a);return e.jsx(se,{present:p||c.checked,children:e.jsx(k.span,{"data-state":T(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:l})})});J.displayName=$;var ue="RadioBubbleInput",L=n.forwardRef(({__scopeRadio:o,control:l,checked:a,bubbles:p=!0,...i},c)=>{const t=n.useRef(null),m=E(t,c),h=ae(a),v=te(l);return n.useEffect(()=>{const g=t.current;if(!g)return;const x=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==a&&d){const s=new Event("click",{bubbles:p});d.call(g,a),g.dispatchEvent(s)}},[h,a,p]),e.jsx(k.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:m,style:{...i.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L.displayName=ue;function T(o){return o?"checked":"unchecked"}var me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R="RadioGroup",[pe]=z(R,[G,D]),q=G(),O=D(),[he,xe]=pe(R),V=n.forwardRef((o,l)=>{const{__scopeRadioGroup:a,name:p,defaultValue:i,value:c,required:t=!1,disabled:m=!1,orientation:h,dir:v,loop:g=!0,onValueChange:x,...j}=o,d=q(a),s=Y(v),[r,y]=Z({prop:c,defaultProp:i??null,onChange:x,caller:R});return e.jsx(he,{scope:a,name:p,required:t,disabled:m,value:r,onValueChange:y,children:e.jsx(Q,{asChild:!0,...d,orientation:h,dir:s,loop:g,children:e.jsx(k.div,{role:"radiogroup","aria-required":t,"aria-orientation":h,"data-disabled":m?"":void 0,dir:s,...j,ref:l})})})});V.displayName=R;var K="RadioGroupItem",U=n.forwardRef((o,l)=>{const{__scopeRadioGroup:a,disabled:p,...i}=o,c=xe(K,a),t=c.disabled||p,m=q(a),h=O(a),v=n.useRef(null),g=E(l,v),x=c.value===i.value,j=n.useRef(!1);return n.useEffect(()=>{const d=r=>{me.includes(r.key)&&(j.current=!0)},s=()=>j.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",s)}},[]),e.jsx(ee,{asChild:!0,...m,focusable:!t,active:x,children:e.jsx(M,{disabled:t,required:c.required,checked:x,...h,...i,name:c.name,ref:g,onCheck:()=>c.onValueChange(i.value),onKeyDown:S(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:S(i.onFocus,()=>{var d;j.current&&((d=v.current)==null||d.click())})})})});U.displayName=K;var fe="RadioGroupIndicator",H=n.forwardRef((o,l)=>{const{__scopeRadioGroup:a,...p}=o,i=O(a);return e.jsx(J,{...i,...p,ref:l})});H.displayName=fe;var W=V,X=U,ve=H;const w=n.forwardRef(({className:o,...l},a)=>e.jsx(W,{className:B("grid gap-2",o),...l,ref:a}));w.displayName=W.displayName;const f=n.forwardRef(({className:o,...l},a)=>e.jsx(X,{ref:a,className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),...l,children:e.jsx(ve,{className:"flex items-center justify-center",children:e.jsx(oe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));f.displayName=X.displayName;const C=["Goals","Budget","Time","Medical","Location","Summary"];function we(){var v,g,x,j,d;const{profile:o,saveProfile:l}=ne(),[a,p]=n.useState(0),[i,c]=n.useState(!1),[t,m]=n.useState({goals:((v=o.wizardJson)==null?void 0:v.goals)||"hobby",budget:((g=o.wizardJson)==null?void 0:g.budget)||"10k-20k",time:((x=o.wizardJson)==null?void 0:x.time)||"4-6",medical:((j=o.wizardJson)==null?void 0:j.medical)||"unknown",location:((d=o.wizardJson)==null?void 0:d.location)||""});n.useEffect(()=>{_("student_page_view",{page:"wizard"})},[]),n.useEffect(()=>{var s,r,y,P,F;i||(o.wizardJson&&m({goals:((s=o.wizardJson)==null?void 0:s.goals)||"hobby",budget:((r=o.wizardJson)==null?void 0:r.budget)||"10k-20k",time:((y=o.wizardJson)==null?void 0:y.time)||"4-6",medical:((P=o.wizardJson)==null?void 0:P.medical)||"unknown",location:((F=o.wizardJson)==null?void 0:F.location)||""}),c(!0))},[o.wizardJson,i]),n.useEffect(()=>{l({wizardJson:t})},[t]);const h=n.useMemo(()=>{const s=t.goals==="career"?"Structured training with focused timeline":t.goals==="hobby"?"Flexible training pace with weekend sessions":"Start with a discovery flight and adjust after",r=t.time==="1-2"?"12–18 months":t.time==="3-4"?"8–12 months":"5–9 months",y=t.budget==="5k-10k"?"$12k–$18k":t.budget==="10k-20k"?"$15k–$22k":"$20k–$28k";return{pathway:s,timeline:r,cost:y}},[t]);return e.jsxs(ie,{title:"Can I Become a Pilot?",subtitle:"Answer a few quick questions to get a tailored training summary.",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((s,r)=>e.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${r===a?"bg-primary text-primary-foreground":"text-muted-foreground"}`,children:s},s))}),a===0&&e.jsxs(b,{className:"p-4 space-y-3",children:[e.jsx(u,{children:"What is your primary goal?"}),e.jsxs(w,{value:t.goals,onValueChange:s=>m(r=>({...r,goals:s})),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"hobby",id:"goal-hobby"}),e.jsx(u,{htmlFor:"goal-hobby",children:"Hobby / Personal travel"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"career",id:"goal-career"}),e.jsx(u,{htmlFor:"goal-career",children:"Career / Professional track"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"undecided",id:"goal-undecided"}),e.jsx(u,{htmlFor:"goal-undecided",children:"Undecided"})]})]})]}),a===1&&e.jsxs(b,{className:"p-4 space-y-3",children:[e.jsx(u,{children:"Budget range"}),e.jsxs(w,{value:t.budget,onValueChange:s=>m(r=>({...r,budget:s})),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"5k-10k",id:"budget-low"}),e.jsx(u,{htmlFor:"budget-low",children:"$5k–$10k"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"10k-20k",id:"budget-mid"}),e.jsx(u,{htmlFor:"budget-mid",children:"$10k–$20k"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"20k+",id:"budget-high"}),e.jsx(u,{htmlFor:"budget-high",children:"$20k+"})]})]})]}),a===2&&e.jsxs(b,{className:"p-4 space-y-3",children:[e.jsx(u,{children:"Time available (hours per week)"}),e.jsxs(w,{value:t.time,onValueChange:s=>m(r=>({...r,time:s})),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"1-2",id:"time-low"}),e.jsx(u,{htmlFor:"time-low",children:"1–2 hrs/week"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"3-4",id:"time-mid"}),e.jsx(u,{htmlFor:"time-mid",children:"3–4 hrs/week"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"4-6",id:"time-high"}),e.jsx(u,{htmlFor:"time-high",children:"4–6 hrs/week"})]})]})]}),a===3&&e.jsxs(b,{className:"p-4 space-y-3",children:[e.jsx(u,{children:"Medical status (non-medical advice)"}),e.jsxs(w,{value:t.medical,onValueChange:s=>m(r=>({...r,medical:s})),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"unknown",id:"med-unknown"}),e.jsx(u,{htmlFor:"med-unknown",children:"Not sure yet"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"ok",id:"med-ok"}),e.jsx(u,{htmlFor:"med-ok",children:"Likely OK"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{value:"concerns",id:"med-concerns"}),e.jsx(u,{htmlFor:"med-concerns",children:"Have concerns"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This is not medical advice. Always consult an FAA medical examiner."})]}),a===4&&e.jsxs(b,{className:"p-4 space-y-3",children:[e.jsx(u,{children:"Location (city/state or ZIP)"}),e.jsx(re,{placeholder:"Austin, TX or 78701",value:t.location,onChange:s=>m(r=>({...r,location:s.target.value}))})]}),a===5&&e.jsxs(b,{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Recommended pathway"}),e.jsx("div",{className:"font-semibold",children:h.pathway})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated timeline"}),e.jsx("div",{className:"font-semibold",children:h.timeline})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated cost range"}),e.jsx("div",{className:"font-semibold",children:h.cost})]}),e.jsxs("ul",{className:"text-sm text-muted-foreground list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Book a discovery flight"}),e.jsx("li",{children:"Talk with a flight school or CFI about pacing"}),e.jsx("li",{children:"Schedule your medical exam"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(A,{label:"Book a Discovery Flight",type:"flight-school",location:t.location,tags:["discovery-flight"]}),e.jsx(A,{label:"Find a Flight School",type:"flight-school",location:t.location})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{variant:"outline",onClick:()=>p(s=>Math.max(0,s-1)),disabled:a===0,children:"Back"}),a<C.length-1?e.jsx(N,{onClick:()=>p(s=>Math.min(C.length-1,s+1)),children:"Next"}):e.jsx(N,{onClick:()=>_("student_wizard_complete",{location:t.location}),children:"Done"})]})]})}export{we as default};
