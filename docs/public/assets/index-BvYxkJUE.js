var KL=Object.defineProperty;var O0=t=>{throw TypeError(t)};var GL=(t,e,n)=>e in t?KL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var T=(t,e,n)=>GL(t,typeof e!="symbol"?e+"":e,n),Dg=(t,e,n)=>e.has(t)||O0("Cannot "+n);var S=(t,e,n)=>(Dg(t,e,"read from private field"),n?n.call(t):e.get(t)),G=(t,e,n)=>e.has(t)?O0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Y=(t,e,n,r)=>(Dg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ce=(t,e,n)=>(Dg(t,e,"access private method"),n);var Am=(t,e,n,r)=>({set _(i){Y(t,e,i,n)},get _(){return S(t,e,r)}});function QL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RT={exports:{}},lx={},IT={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=Symbol.for("react.element"),YL=Symbol.for("react.portal"),XL=Symbol.for("react.fragment"),ZL=Symbol.for("react.strict_mode"),JL=Symbol.for("react.profiler"),e$=Symbol.for("react.provider"),t$=Symbol.for("react.context"),s$=Symbol.for("react.forward_ref"),n$=Symbol.for("react.suspense"),r$=Symbol.for("react.memo"),i$=Symbol.for("react.lazy"),M0=Symbol.iterator;function a$(t){return t===null||typeof t!="object"?null:(t=M0&&t[M0]||t["@@iterator"],typeof t=="function"?t:null)}var DT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OT=Object.assign,MT={};function kd(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||DT}kd.prototype.isReactComponent={};kd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LT(){}LT.prototype=kd.prototype;function db(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||DT}var ub=db.prototype=new LT;ub.constructor=db;OT(ub,kd.prototype);ub.isPureReactComponent=!0;var L0=Array.isArray,$T=Object.prototype.hasOwnProperty,hb={current:null},UT={key:!0,ref:!0,__self:!0,__source:!0};function BT(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)$T.call(e,r)&&!UT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:im,type:t,key:a,ref:o,props:i,_owner:hb.current}}function o$(t,e){return{$$typeof:im,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===im}function l$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $0=/\/+/g;function Og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l$(""+t.key):e.toString(36)}function xf(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case im:case YL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Og(o,0):r,L0(i)?(n="",t!=null&&(n=t.replace($0,"$&/")+"/"),xf(i,e,n,"",function(d){return d})):i!=null&&(mb(i)&&(i=o$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",L0(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Og(a,l);o+=xf(a,e,n,c,i)}else if(c=a$(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Og(a,l++),o+=xf(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rm(t,e,n){if(t==null)return t;var r=[],i=0;return xf(t,r,"","",function(a){return e.call(n,a,i++)}),r}function c$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},gf={transition:null},d$={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:gf,ReactCurrentOwner:hb};function VT(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Rm,forEach:function(t,e,n){Rm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rm(t,function(){e++}),e},toArray:function(t){return Rm(t,function(e){return e})||[]},only:function(t){if(!mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ft.Component=kd;ft.Fragment=XL;ft.Profiler=JL;ft.PureComponent=db;ft.StrictMode=ZL;ft.Suspense=n$;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d$;ft.act=VT;ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OT({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=hb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$T.call(e,c)&&!UT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:im,type:t.type,key:i,ref:a,props:r,_owner:o}};ft.createContext=function(t){return t={$$typeof:t$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e$,_context:t},t.Consumer=t};ft.createElement=BT;ft.createFactory=function(t){var e=BT.bind(null,t);return e.type=t,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(t){return{$$typeof:s$,render:t}};ft.isValidElement=mb;ft.lazy=function(t){return{$$typeof:i$,_payload:{_status:-1,_result:t},_init:c$}};ft.memo=function(t,e){return{$$typeof:r$,type:t,compare:e===void 0?null:e}};ft.startTransition=function(t){var e=gf.transition;gf.transition={};try{t()}finally{gf.transition=e}};ft.unstable_act=VT;ft.useCallback=function(t,e){return Sn.current.useCallback(t,e)};ft.useContext=function(t){return Sn.current.useContext(t)};ft.useDebugValue=function(){};ft.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};ft.useEffect=function(t,e){return Sn.current.useEffect(t,e)};ft.useId=function(){return Sn.current.useId()};ft.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};ft.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};ft.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};ft.useMemo=function(t,e){return Sn.current.useMemo(t,e)};ft.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};ft.useRef=function(t){return Sn.current.useRef(t)};ft.useState=function(t){return Sn.current.useState(t)};ft.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};ft.useTransition=function(){return Sn.current.useTransition()};ft.version="18.3.1";IT.exports=ft;var f=IT.exports;const Xe=fa(f),cx=QL({__proto__:null,default:Xe},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u$=f,h$=Symbol.for("react.element"),m$=Symbol.for("react.fragment"),f$=Object.prototype.hasOwnProperty,p$=u$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x$={key:!0,ref:!0,__self:!0,__source:!0};function zT(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)f$.call(e,r)&&!x$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:h$,type:t,key:a,ref:o,props:i,_owner:p$.current}}lx.Fragment=m$;lx.jsx=zT;lx.jsxs=zT;RT.exports=lx;var s=RT.exports,qT={exports:{}},nr={},HT={exports:{}},WT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,F){var D=B.length;B.push(F);e:for(;0<D;){var le=D-1>>>1,fe=B[le];if(0<i(fe,F))B[le]=F,B[D]=fe,D=le;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],D=B.pop();if(D!==F){B[0]=D;e:for(var le=0,fe=B.length,qe=fe>>>1;le<qe;){var Ke=2*(le+1)-1,Ct=B[Ke],st=Ke+1,je=B[st];if(0>i(Ct,D))st<fe&&0>i(je,Ct)?(B[le]=je,B[st]=D,le=st):(B[le]=Ct,B[Ke]=D,le=Ke);else if(st<fe&&0>i(je,D))B[le]=je,B[st]=D,le=st;else break e}}return F}function i(B,F){var D=B.sortIndex-F.sortIndex;return D!==0?D:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,y=!1,b=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=B)r(d),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(d)}}function N(B){if(j=!1,w(B),!b)if(n(c)!==null)b=!0,K(_);else{var F=n(d);F!==null&&de(N,F.startTime-B)}}function _(B,F){b=!1,j&&(j=!1,p(P),P=-1),y=!0;var D=m;try{for(w(F),h=n(c);h!==null&&(!(h.expirationTime>F)||B&&!L());){var le=h.callback;if(typeof le=="function"){h.callback=null,m=h.priorityLevel;var fe=le(h.expirationTime<=F);F=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(c)&&r(c),w(F)}else r(c);h=n(c)}if(h!==null)var qe=!0;else{var Ke=n(d);Ke!==null&&de(N,Ke.startTime-F),qe=!1}return qe}finally{h=null,m=D,y=!1}}var C=!1,k=null,P=-1,M=5,R=-1;function L(){return!(t.unstable_now()-R<M)}function V(){if(k!==null){var B=t.unstable_now();R=B;var F=!0;try{F=k(!0,B)}finally{F?Z():(C=!1,k=null)}}else C=!1}var Z;if(typeof x=="function")Z=function(){x(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,E=se.port2;se.port1.onmessage=V,Z=function(){E.postMessage(null)}}else Z=function(){v(V,0)};function K(B){k=B,C||(C=!0,Z())}function de(B,F){P=v(function(){B(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,K(_))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var D=m;m=F;try{return B()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var D=m;m=B;try{return F()}finally{m=D}},t.unstable_scheduleCallback=function(B,F,D){var le=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?le+D:le):D=le,B){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=D+fe,B={id:u++,callback:F,priorityLevel:B,startTime:D,expirationTime:fe,sortIndex:-1},D>le?(B.sortIndex=D,e(d,B),n(c)===null&&B===n(d)&&(j?(p(P),P=-1):j=!0,de(N,D-le))):(B.sortIndex=fe,e(c,B),b||y||(b=!0,K(_))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var F=m;return function(){var D=m;m=F;try{return B.apply(this,arguments)}finally{m=D}}}})(WT);HT.exports=WT;var g$=HT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y$=f,sr=g$;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KT=new Set,Bu={};function Al(t,e){ld(t,e),ld(t+"Capture",e)}function ld(t,e){for(Bu[t]=e,t=0;t<e.length;t++)KT.add(e[t])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xy=Object.prototype.hasOwnProperty,v$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U0={},B0={};function j$(t){return Xy.call(B0,t)?!0:Xy.call(U0,t)?!1:v$.test(t)?B0[t]=!0:(U0[t]=!0,!1)}function b$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w$(t,e,n,r){if(e===null||typeof e>"u"||b$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Xs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xs[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xs[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xs[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xs[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xs[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xs[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xs[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xs[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xs[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function pb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fb,pb);Xs[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fb,pb);Xs[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fb,pb);Xs[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xs[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xs.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xs[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xb(t,e,n,r){var i=Xs.hasOwnProperty(e)?Xs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w$(e,n,i,r)&&(n=null),r||i===null?j$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pa=y$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Im=Symbol.for("react.element"),tc=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),QT=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),vb=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),YT=Symbol.for("react.offscreen"),V0=Symbol.iterator;function zd(t){return t===null||typeof t!="object"?null:(t=V0&&t[V0]||t["@@iterator"],typeof t=="function"?t:null)}var is=Object.assign,Mg;function au(t){if(Mg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mg=e&&e[1]||""}return`
`+Mg+t}var Lg=!1;function $g(t,e){if(!t||Lg)return"";Lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?au(t):""}function N$(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sc:return"Fragment";case tc:return"Portal";case Zy:return"Profiler";case gb:return"StrictMode";case Jy:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QT:return(t.displayName||"Context")+".Consumer";case GT:return(t._context.displayName||"Context")+".Provider";case yb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vb:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case Pa:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function S$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===gb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function no(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C$(t){var e=XT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dm(t){t._valueTracker||(t._valueTracker=C$(t))}function ZT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sv(t,e){var n=e.checked;return is({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=no(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JT(t,e){e=e.checked,e!=null&&xb(t,"checked",e,!1)}function nv(t,e){JT(t,e);var n=no(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rv(t,e.type,n):e.hasOwnProperty("defaultValue")&&rv(t,e.type,no(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rv(t,e,n){(e!=="number"||Uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ou=Array.isArray;function pc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+no(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return is({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(ou(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:no(n)}}function eE(t,e){var n=no(e.value),r=no(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function W0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Om,sE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Om=Om||document.createElement("div"),Om.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Om.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_$=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(t){_$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ju[e]=ju[t]})});function nE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ju.hasOwnProperty(t)&&ju[t]?(""+e).trim():e+"px"}function rE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var k$=is({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ov(t,e){if(e){if(k$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function jb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dv=null,xc=null,gc=null;function K0(t){if(t=lm(t)){if(typeof dv!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=fx(e),dv(t.stateNode,t.type,e))}}function iE(t){xc?gc?gc.push(t):gc=[t]:xc=t}function aE(){if(xc){var t=xc,e=gc;if(gc=xc=null,K0(t),e)for(t=0;t<e.length;t++)K0(e[t])}}function oE(t,e){return t(e)}function lE(){}var Ug=!1;function cE(t,e,n){if(Ug)return t(e,n);Ug=!0;try{return oE(t,e,n)}finally{Ug=!1,(xc!==null||gc!==null)&&(lE(),aE())}}function zu(t,e){var n=t.stateNode;if(n===null)return null;var r=fx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var uv=!1;if(aa)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){uv=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{uv=!1}function P$(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var bu=!1,Bf=null,Vf=!1,hv=null,T$={onError:function(t){bu=!0,Bf=t}};function E$(t,e,n,r,i,a,o,l,c){bu=!1,Bf=null,P$.apply(T$,arguments)}function A$(t,e,n,r,i,a,o,l,c){if(E$.apply(this,arguments),bu){if(bu){var d=Bf;bu=!1,Bf=null}else throw Error(xe(198));Vf||(Vf=!0,hv=d)}}function Fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G0(t){if(Fl(t)!==t)throw Error(xe(188))}function F$(t){var e=t.alternate;if(!e){if(e=Fl(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return G0(i),t;if(a===r)return G0(i),e;a=a.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function uE(t){return t=F$(t),t!==null?hE(t):null}function hE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hE(t);if(e!==null)return e;t=t.sibling}return null}var mE=sr.unstable_scheduleCallback,Q0=sr.unstable_cancelCallback,R$=sr.unstable_shouldYield,I$=sr.unstable_requestPaint,vs=sr.unstable_now,D$=sr.unstable_getCurrentPriorityLevel,bb=sr.unstable_ImmediatePriority,fE=sr.unstable_UserBlockingPriority,zf=sr.unstable_NormalPriority,O$=sr.unstable_LowPriority,pE=sr.unstable_IdlePriority,dx=null,vi=null;function M$(t){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(dx,t,void 0,(t.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:U$,L$=Math.log,$$=Math.LN2;function U$(t){return t>>>=0,t===0?32:31-(L$(t)/$$|0)|0}var Mm=64,Lm=4194304;function lu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=lu(l):(a&=o,a!==0&&(r=lu(a)))}else o=n&~i,o!==0?r=lu(o):a!==0&&(r=lu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vr(e),i=1<<n,r|=t[n],e&=~i;return r}function B$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Vr(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=B$(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xE(){var t=Mm;return Mm<<=1,!(Mm&4194240)&&(Mm=64),t}function Bg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function am(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vr(e),t[e]=n}function z$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function wb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ft=0;function gE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yE,Nb,vE,jE,bE,fv=!1,$m=[],Ka=null,Ga=null,Qa=null,qu=new Map,Hu=new Map,Aa=[],q$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y0(t,e){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Hd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=lm(e),e!==null&&Nb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function H$(t,e,n,r,i){switch(e){case"focusin":return Ka=Hd(Ka,t,e,n,r,i),!0;case"dragenter":return Ga=Hd(Ga,t,e,n,r,i),!0;case"mouseover":return Qa=Hd(Qa,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return qu.set(a,Hd(qu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hu.set(a,Hd(Hu.get(a)||null,t,e,n,r,i)),!0}return!1}function wE(t){var e=Io(t.target);if(e!==null){var n=Fl(e);if(n!==null){if(e=n.tag,e===13){if(e=dE(n),e!==null){t.blockedOn=e,bE(t.priority,function(){vE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cv=r,n.target.dispatchEvent(r),cv=null}else return e=lm(n),e!==null&&Nb(e),t.blockedOn=n,!1;e.shift()}return!0}function X0(t,e,n){yf(t)&&n.delete(e)}function W$(){fv=!1,Ka!==null&&yf(Ka)&&(Ka=null),Ga!==null&&yf(Ga)&&(Ga=null),Qa!==null&&yf(Qa)&&(Qa=null),qu.forEach(X0),Hu.forEach(X0)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,W$)))}function Wu(t){function e(i){return Wd(i,t)}if(0<$m.length){Wd($m[0],t);for(var n=1;n<$m.length;n++){var r=$m[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ka!==null&&Wd(Ka,t),Ga!==null&&Wd(Ga,t),Qa!==null&&Wd(Qa,t),qu.forEach(e),Hu.forEach(e),n=0;n<Aa.length;n++)r=Aa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)wE(n),n.blockedOn===null&&Aa.shift()}var yc=pa.ReactCurrentBatchConfig,Hf=!0;function K$(t,e,n,r){var i=Ft,a=yc.transition;yc.transition=null;try{Ft=1,Sb(t,e,n,r)}finally{Ft=i,yc.transition=a}}function G$(t,e,n,r){var i=Ft,a=yc.transition;yc.transition=null;try{Ft=4,Sb(t,e,n,r)}finally{Ft=i,yc.transition=a}}function Sb(t,e,n,r){if(Hf){var i=pv(t,e,n,r);if(i===null)Xg(t,e,r,Wf,n),Y0(t,r);else if(H$(i,t,e,n,r))r.stopPropagation();else if(Y0(t,r),e&4&&-1<q$.indexOf(t)){for(;i!==null;){var a=lm(i);if(a!==null&&yE(a),a=pv(t,e,n,r),a===null&&Xg(t,e,r,Wf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Xg(t,e,r,null,n)}}var Wf=null;function pv(t,e,n,r){if(Wf=null,t=jb(r),t=Io(t),t!==null)if(e=Fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wf=t,null}function NE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D$()){case bb:return 1;case fE:return 4;case zf:case O$:return 16;case pE:return 536870912;default:return 16}default:return 16}}var qa=null,Cb=null,vf=null;function SE(){if(vf)return vf;var t,e=Cb,n=e.length,r,i="value"in qa?qa.value:qa.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return vf=i.slice(t,1<r?1-r:void 0)}function jf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Um(){return!0}function Z0(){return!1}function rr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Um:Z0,this.isPropagationStopped=Z0,this}return is(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Um)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Um)},persist:function(){},isPersistent:Um}),e}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_b=rr(Pd),om=is({},Pd,{view:0,detail:0}),Q$=rr(om),Vg,zg,Kd,ux=is({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kd&&(Kd&&t.type==="mousemove"?(Vg=t.screenX-Kd.screenX,zg=t.screenY-Kd.screenY):zg=Vg=0,Kd=t),Vg)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),J0=rr(ux),Y$=is({},ux,{dataTransfer:0}),X$=rr(Y$),Z$=is({},om,{relatedTarget:0}),qg=rr(Z$),J$=is({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),e6=rr(J$),t6=is({},Pd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s6=rr(t6),n6=is({},Pd,{data:0}),e1=rr(n6),r6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a6[t])?!!e[t]:!1}function kb(){return o6}var l6=is({},om,{key:function(t){if(t.key){var e=r6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(t){return t.type==="keypress"?jf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c6=rr(l6),d6=is({},ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t1=rr(d6),u6=is({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),h6=rr(u6),m6=is({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),f6=rr(m6),p6=is({},ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x6=rr(p6),g6=[9,13,27,32],Pb=aa&&"CompositionEvent"in window,wu=null;aa&&"documentMode"in document&&(wu=document.documentMode);var y6=aa&&"TextEvent"in window&&!wu,CE=aa&&(!Pb||wu&&8<wu&&11>=wu),s1=" ",n1=!1;function _E(t,e){switch(t){case"keyup":return g6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nc=!1;function v6(t,e){switch(t){case"compositionend":return kE(e);case"keypress":return e.which!==32?null:(n1=!0,s1);case"textInput":return t=e.data,t===s1&&n1?null:t;default:return null}}function j6(t,e){if(nc)return t==="compositionend"||!Pb&&_E(t,e)?(t=SE(),vf=Cb=qa=null,nc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CE&&e.locale!=="ko"?null:e.data;default:return null}}var b6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b6[t.type]:e==="textarea"}function PE(t,e,n,r){iE(r),e=Kf(e,"onChange"),0<e.length&&(n=new _b("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nu=null,Ku=null;function w6(t){$E(t,0)}function hx(t){var e=ac(t);if(ZT(e))return t}function N6(t,e){if(t==="change")return e}var TE=!1;if(aa){var Hg;if(aa){var Wg="oninput"in document;if(!Wg){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),Wg=typeof i1.oninput=="function"}Hg=Wg}else Hg=!1;TE=Hg&&(!document.documentMode||9<document.documentMode)}function a1(){Nu&&(Nu.detachEvent("onpropertychange",EE),Ku=Nu=null)}function EE(t){if(t.propertyName==="value"&&hx(Ku)){var e=[];PE(e,Ku,t,jb(t)),cE(w6,e)}}function S6(t,e,n){t==="focusin"?(a1(),Nu=e,Ku=n,Nu.attachEvent("onpropertychange",EE)):t==="focusout"&&a1()}function C6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hx(Ku)}function _6(t,e){if(t==="click")return hx(e)}function k6(t,e){if(t==="input"||t==="change")return hx(e)}function P6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:P6;function Gu(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xy.call(e,i)||!Wr(t[i],e[i]))return!1}return!0}function o1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l1(t,e){var n=o1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o1(n)}}function AE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FE(){for(var t=window,e=Uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uf(t.document)}return e}function Tb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T6(t){var e=FE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AE(n.ownerDocument.documentElement,n)){if(r!==null&&Tb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=l1(n,a);var o=l1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E6=aa&&"documentMode"in document&&11>=document.documentMode,rc=null,xv=null,Su=null,gv=!1;function c1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gv||rc==null||rc!==Uf(r)||(r=rc,"selectionStart"in r&&Tb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Gu(Su,r)||(Su=r,r=Kf(xv,"onSelect"),0<r.length&&(e=new _b("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rc)))}function Bm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ic={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},Kg={},RE={};aa&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function mx(t){if(Kg[t])return Kg[t];if(!ic[t])return t;var e=ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RE)return Kg[t]=e[n];return t}var IE=mx("animationend"),DE=mx("animationiteration"),OE=mx("animationstart"),ME=mx("transitionend"),LE=new Map,d1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(t,e){LE.set(t,e),Al(e,[t])}for(var Gg=0;Gg<d1.length;Gg++){var Qg=d1[Gg],A6=Qg.toLowerCase(),F6=Qg[0].toUpperCase()+Qg.slice(1);bo(A6,"on"+F6)}bo(IE,"onAnimationEnd");bo(DE,"onAnimationIteration");bo(OE,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(ME,"onTransitionEnd");ld("onMouseEnter",["mouseout","mouseover"]);ld("onMouseLeave",["mouseout","mouseover"]);ld("onPointerEnter",["pointerout","pointerover"]);ld("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R6=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function u1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A$(r,e,void 0,t),t.currentTarget=null}function $E(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;u1(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;u1(i,l,d),a=c}}}if(Vf)throw t=hv,Vf=!1,hv=null,t}function qt(t,e){var n=e[wv];n===void 0&&(n=e[wv]=new Set);var r=t+"__bubble";n.has(r)||(UE(e,t,2,!1),n.add(r))}function Yg(t,e,n){var r=0;e&&(r|=4),UE(n,t,r,e)}var Vm="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[Vm]){t[Vm]=!0,KT.forEach(function(n){n!=="selectionchange"&&(R6.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vm]||(e[Vm]=!0,Yg("selectionchange",!1,e))}}function UE(t,e,n,r){switch(NE(e)){case 1:var i=K$;break;case 4:i=G$;break;default:i=Sb}n=i.bind(null,e,n,t),i=void 0,!uv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Io(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}cE(function(){var d=a,u=jb(n),h=[];e:{var m=LE.get(t);if(m!==void 0){var y=_b,b=t;switch(t){case"keypress":if(jf(n)===0)break e;case"keydown":case"keyup":y=c6;break;case"focusin":b="focus",y=qg;break;case"focusout":b="blur",y=qg;break;case"beforeblur":case"afterblur":y=qg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=J0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=X$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=h6;break;case IE:case DE:case OE:y=e6;break;case ME:y=f6;break;case"scroll":y=Q$;break;case"wheel":y=x6;break;case"copy":case"cut":case"paste":y=s6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=t1}var j=(e&4)!==0,v=!j&&t==="scroll",p=j?m!==null?m+"Capture":null:m;j=[];for(var x=d,w;x!==null;){w=x;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,p!==null&&(N=zu(x,p),N!=null&&j.push(Yu(x,N,w)))),v)break;x=x.return}0<j.length&&(m=new y(m,b,null,n,u),h.push({event:m,listeners:j}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==cv&&(b=n.relatedTarget||n.fromElement)&&(Io(b)||b[oa]))break e;if((y||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?Io(b):null,b!==null&&(v=Fl(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(j=J0,N="onMouseLeave",p="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(j=t1,N="onPointerLeave",p="onPointerEnter",x="pointer"),v=y==null?m:ac(y),w=b==null?m:ac(b),m=new j(N,x+"leave",y,n,u),m.target=v,m.relatedTarget=w,N=null,Io(u)===d&&(j=new j(p,x+"enter",b,n,u),j.target=w,j.relatedTarget=v,N=j),v=N,y&&b)t:{for(j=y,p=b,x=0,w=j;w;w=ql(w))x++;for(w=0,N=p;N;N=ql(N))w++;for(;0<x-w;)j=ql(j),x--;for(;0<w-x;)p=ql(p),w--;for(;x--;){if(j===p||p!==null&&j===p.alternate)break t;j=ql(j),p=ql(p)}j=null}else j=null;y!==null&&h1(h,m,y,j,!1),b!==null&&v!==null&&h1(h,v,b,j,!0)}}e:{if(m=d?ac(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=N6;else if(r1(m))if(TE)_=k6;else{_=C6;var C=S6}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=_6);if(_&&(_=_(t,d))){PE(h,_,n,u);break e}C&&C(t,m,d),t==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&rv(m,"number",m.value)}switch(C=d?ac(d):window,t){case"focusin":(r1(C)||C.contentEditable==="true")&&(rc=C,xv=d,Su=null);break;case"focusout":Su=xv=rc=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,c1(h,n,u);break;case"selectionchange":if(E6)break;case"keydown":case"keyup":c1(h,n,u)}var k;if(Pb)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nc?_E(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(CE&&n.locale!=="ko"&&(nc||P!=="onCompositionStart"?P==="onCompositionEnd"&&nc&&(k=SE()):(qa=u,Cb="value"in qa?qa.value:qa.textContent,nc=!0)),C=Kf(d,P),0<C.length&&(P=new e1(P,t,null,n,u),h.push({event:P,listeners:C}),k?P.data=k:(k=kE(n),k!==null&&(P.data=k)))),(k=y6?v6(t,n):j6(t,n))&&(d=Kf(d,"onBeforeInput"),0<d.length&&(u=new e1("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=k))}$E(h,e)})}function Yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zu(t,n),a!=null&&r.unshift(Yu(t,a,i)),a=zu(t,e),a!=null&&r.push(Yu(t,a,i))),t=t.return}return r}function ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h1(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=zu(n,a),c!=null&&o.unshift(Yu(n,c,l))):i||(c=zu(n,a),c!=null&&o.push(Yu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I6=/\r\n?/g,D6=/\u0000|\uFFFD/g;function m1(t){return(typeof t=="string"?t:""+t).replace(I6,`
`).replace(D6,"")}function zm(t,e,n){if(e=m1(e),m1(t)!==e&&n)throw Error(xe(425))}function Gf(){}var yv=null,vv=null;function jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,O6=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,M6=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(t){return f1.resolve(null).then(t).catch(L6)}:bv;function L6(t){setTimeout(function(){throw t})}function Zg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wu(e)}function Ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Td=Math.random().toString(36).slice(2),pi="__reactFiber$"+Td,Xu="__reactProps$"+Td,oa="__reactContainer$"+Td,wv="__reactEvents$"+Td,$6="__reactListeners$"+Td,U6="__reactHandles$"+Td;function Io(t){var e=t[pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oa]||n[pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p1(t);t!==null;){if(n=t[pi])return n;t=p1(t)}return e}t=n,n=t.parentNode}return null}function lm(t){return t=t[pi]||t[oa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function fx(t){return t[Xu]||null}var Nv=[],oc=-1;function wo(t){return{current:t}}function Ht(t){0>oc||(t.current=Nv[oc],Nv[oc]=null,oc--)}function Ut(t,e){oc++,Nv[oc]=t.current,t.current=e}var ro={},an=wo(ro),Mn=wo(!1),ml=ro;function cd(t,e){var n=t.type.contextTypes;if(!n)return ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Qf(){Ht(Mn),Ht(an)}function x1(t,e,n){if(an.current!==ro)throw Error(xe(168));Ut(an,e),Ut(Mn,n)}function BE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xe(108,S$(t)||"Unknown",i));return is({},n,r)}function Yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ro,ml=an.current,Ut(an,t),Ut(Mn,Mn.current),!0}function g1(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=BE(t,e,ml),r.__reactInternalMemoizedMergedChildContext=t,Ht(Mn),Ht(an),Ut(an,t)):Ht(Mn),Ut(Mn,n)}var Bi=null,px=!1,Jg=!1;function VE(t){Bi===null?Bi=[t]:Bi.push(t)}function B6(t){px=!0,VE(t)}function No(){if(!Jg&&Bi!==null){Jg=!0;var t=0,e=Ft;try{var n=Bi;for(Ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bi=null,px=!1}catch(i){throw Bi!==null&&(Bi=Bi.slice(t+1)),mE(bb,No),i}finally{Ft=e,Jg=!1}}return null}var lc=[],cc=0,Xf=null,Zf=0,cr=[],dr=0,fl=null,Ji=1,ea="";function Po(t,e){lc[cc++]=Zf,lc[cc++]=Xf,Xf=t,Zf=e}function zE(t,e,n){cr[dr++]=Ji,cr[dr++]=ea,cr[dr++]=fl,fl=t;var r=Ji;t=ea;var i=32-Vr(r)-1;r&=~(1<<i),n+=1;var a=32-Vr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-Vr(e)+i|n<<i|r,ea=a+t}else Ji=1<<a|n<<i|r,ea=t}function Eb(t){t.return!==null&&(Po(t,1),zE(t,1,0))}function Ab(t){for(;t===Xf;)Xf=lc[--cc],lc[cc]=null,Zf=lc[--cc],lc[cc]=null;for(;t===fl;)fl=cr[--dr],cr[dr]=null,ea=cr[--dr],cr[dr]=null,Ji=cr[--dr],cr[dr]=null}var Jn=null,Xn=null,Yt=!1,Dr=null;function qE(t,e){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jn=t,Xn=Ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fl!==null?{id:Ji,overflow:ea}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jn=t,Xn=null,!0):!1;default:return!1}}function Sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cv(t){if(Yt){var e=Xn;if(e){var n=e;if(!y1(t,e)){if(Sv(t))throw Error(xe(418));e=Ya(n.nextSibling);var r=Jn;e&&y1(t,e)?qE(r,n):(t.flags=t.flags&-4097|2,Yt=!1,Jn=t)}}else{if(Sv(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Yt=!1,Jn=t}}}function v1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jn=t}function qm(t){if(t!==Jn)return!1;if(!Yt)return v1(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jv(t.type,t.memoizedProps)),e&&(e=Xn)){if(Sv(t))throw HE(),Error(xe(418));for(;e;)qE(t,e),e=Ya(e.nextSibling)}if(v1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Jn?Ya(t.stateNode.nextSibling):null;return!0}function HE(){for(var t=Xn;t;)t=Ya(t.nextSibling)}function dd(){Xn=Jn=null,Yt=!1}function Fb(t){Dr===null?Dr=[t]:Dr.push(t)}var V6=pa.ReactCurrentBatchConfig;function Gd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function Hm(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j1(t){var e=t._init;return e(t._payload)}function WE(t){function e(p,x){if(t){var w=p.deletions;w===null?(p.deletions=[x],p.flags|=16):w.push(x)}}function n(p,x){if(!t)return null;for(;x!==null;)e(p,x),x=x.sibling;return null}function r(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function i(p,x){return p=eo(p,x),p.index=0,p.sibling=null,p}function a(p,x,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<x?(p.flags|=2,x):w):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,x,w,N){return x===null||x.tag!==6?(x=ay(w,p.mode,N),x.return=p,x):(x=i(x,w),x.return=p,x)}function c(p,x,w,N){var _=w.type;return _===sc?u(p,x,w.props.children,N,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pa&&j1(_)===x.type)?(N=i(x,w.props),N.ref=Gd(p,x,w),N.return=p,N):(N=kf(w.type,w.key,w.props,null,p.mode,N),N.ref=Gd(p,x,w),N.return=p,N)}function d(p,x,w,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=oy(w,p.mode,N),x.return=p,x):(x=i(x,w.children||[]),x.return=p,x)}function u(p,x,w,N,_){return x===null||x.tag!==7?(x=cl(w,p.mode,N,_),x.return=p,x):(x=i(x,w),x.return=p,x)}function h(p,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ay(""+x,p.mode,w),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Im:return w=kf(x.type,x.key,x.props,null,p.mode,w),w.ref=Gd(p,null,x),w.return=p,w;case tc:return x=oy(x,p.mode,w),x.return=p,x;case Pa:var N=x._init;return h(p,N(x._payload),w)}if(ou(x)||zd(x))return x=cl(x,p.mode,w,null),x.return=p,x;Hm(p,x)}return null}function m(p,x,w,N){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(p,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Im:return w.key===_?c(p,x,w,N):null;case tc:return w.key===_?d(p,x,w,N):null;case Pa:return _=w._init,m(p,x,_(w._payload),N)}if(ou(w)||zd(w))return _!==null?null:u(p,x,w,N,null);Hm(p,w)}return null}function y(p,x,w,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(w)||null,l(x,p,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Im:return p=p.get(N.key===null?w:N.key)||null,c(x,p,N,_);case tc:return p=p.get(N.key===null?w:N.key)||null,d(x,p,N,_);case Pa:var C=N._init;return y(p,x,w,C(N._payload),_)}if(ou(N)||zd(N))return p=p.get(w)||null,u(x,p,N,_,null);Hm(x,N)}return null}function b(p,x,w,N){for(var _=null,C=null,k=x,P=x=0,M=null;k!==null&&P<w.length;P++){k.index>P?(M=k,k=null):M=k.sibling;var R=m(p,k,w[P],N);if(R===null){k===null&&(k=M);break}t&&k&&R.alternate===null&&e(p,k),x=a(R,x,P),C===null?_=R:C.sibling=R,C=R,k=M}if(P===w.length)return n(p,k),Yt&&Po(p,P),_;if(k===null){for(;P<w.length;P++)k=h(p,w[P],N),k!==null&&(x=a(k,x,P),C===null?_=k:C.sibling=k,C=k);return Yt&&Po(p,P),_}for(k=r(p,k);P<w.length;P++)M=y(k,p,P,w[P],N),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?P:M.key),x=a(M,x,P),C===null?_=M:C.sibling=M,C=M);return t&&k.forEach(function(L){return e(p,L)}),Yt&&Po(p,P),_}function j(p,x,w,N){var _=zd(w);if(typeof _!="function")throw Error(xe(150));if(w=_.call(w),w==null)throw Error(xe(151));for(var C=_=null,k=x,P=x=0,M=null,R=w.next();k!==null&&!R.done;P++,R=w.next()){k.index>P?(M=k,k=null):M=k.sibling;var L=m(p,k,R.value,N);if(L===null){k===null&&(k=M);break}t&&k&&L.alternate===null&&e(p,k),x=a(L,x,P),C===null?_=L:C.sibling=L,C=L,k=M}if(R.done)return n(p,k),Yt&&Po(p,P),_;if(k===null){for(;!R.done;P++,R=w.next())R=h(p,R.value,N),R!==null&&(x=a(R,x,P),C===null?_=R:C.sibling=R,C=R);return Yt&&Po(p,P),_}for(k=r(p,k);!R.done;P++,R=w.next())R=y(k,p,P,R.value,N),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?P:R.key),x=a(R,x,P),C===null?_=R:C.sibling=R,C=R);return t&&k.forEach(function(V){return e(p,V)}),Yt&&Po(p,P),_}function v(p,x,w,N){if(typeof w=="object"&&w!==null&&w.type===sc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Im:e:{for(var _=w.key,C=x;C!==null;){if(C.key===_){if(_=w.type,_===sc){if(C.tag===7){n(p,C.sibling),x=i(C,w.props.children),x.return=p,p=x;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pa&&j1(_)===C.type){n(p,C.sibling),x=i(C,w.props),x.ref=Gd(p,C,w),x.return=p,p=x;break e}n(p,C);break}else e(p,C);C=C.sibling}w.type===sc?(x=cl(w.props.children,p.mode,N,w.key),x.return=p,p=x):(N=kf(w.type,w.key,w.props,null,p.mode,N),N.ref=Gd(p,x,w),N.return=p,p=N)}return o(p);case tc:e:{for(C=w.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(p,x.sibling),x=i(x,w.children||[]),x.return=p,p=x;break e}else{n(p,x);break}else e(p,x);x=x.sibling}x=oy(w,p.mode,N),x.return=p,p=x}return o(p);case Pa:return C=w._init,v(p,x,C(w._payload),N)}if(ou(w))return b(p,x,w,N);if(zd(w))return j(p,x,w,N);Hm(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(p,x.sibling),x=i(x,w),x.return=p,p=x):(n(p,x),x=ay(w,p.mode,N),x.return=p,p=x),o(p)):n(p,x)}return v}var ud=WE(!0),KE=WE(!1),Jf=wo(null),ep=null,dc=null,Rb=null;function Ib(){Rb=dc=ep=null}function Db(t){var e=Jf.current;Ht(Jf),t._currentValue=e}function _v(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vc(t,e){ep=t,Rb=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(Rb!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(ep===null)throw Error(xe(308));dc=t,ep.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var Do=null;function Ob(t){Do===null?Do=[t]:Do.push(t)}function GE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ob(e)):(n.next=i.next,i.next=n),e.interleaved=n,la(t,r)}function la(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ta=!1;function Mb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function na(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,la(t,n)}return i=r.interleaved,i===null?(e.next=e,Ob(r)):(e.next=i.next,i.next=e),r.interleaved=e,la(t,n)}function bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wb(t,n)}}function b1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tp(t,e,n,r){var i=t.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,j=l;switch(m=e,y=n,j.tag){case 1:if(b=j.payload,typeof b=="function"){h=b.call(y,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,m=typeof b=="function"?b.call(y,h,m):b,m==null)break e;h=is({},h,m);break e;case 2:Ta=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);xl|=o,t.lanes=o,t.memoizedState=h}}function w1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var cm={},ji=wo(cm),Zu=wo(cm),Ju=wo(cm);function Oo(t){if(t===cm)throw Error(xe(174));return t}function Lb(t,e){switch(Ut(Ju,e),Ut(Zu,t),Ut(ji,cm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}Ht(ji),Ut(ji,e)}function hd(){Ht(ji),Ht(Zu),Ht(Ju)}function YE(t){Oo(Ju.current);var e=Oo(ji.current),n=av(e,t.type);e!==n&&(Ut(Zu,t),Ut(ji,n))}function $b(t){Zu.current===t&&(Ht(ji),Ht(Zu))}var ss=wo(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ey=[];function Ub(){for(var t=0;t<ey.length;t++)ey[t]._workInProgressVersionPrimary=null;ey.length=0}var wf=pa.ReactCurrentDispatcher,ty=pa.ReactCurrentBatchConfig,pl=0,rs=null,Fs=null,Bs=null,np=!1,Cu=!1,eh=0,z6=0;function en(){throw Error(xe(321))}function Bb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function Vb(t,e,n,r,i,a){if(pl=a,rs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=t===null||t.memoizedState===null?K6:G6,t=n(r,i),Cu){a=0;do{if(Cu=!1,eh=0,25<=a)throw Error(xe(301));a+=1,Bs=Fs=null,e.updateQueue=null,wf.current=Q6,t=n(r,i)}while(Cu)}if(wf.current=rp,e=Fs!==null&&Fs.next!==null,pl=0,Bs=Fs=rs=null,np=!1,e)throw Error(xe(300));return t}function zb(){var t=eh!==0;return eh=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?rs.memoizedState=Bs=t:Bs=Bs.next=t,Bs}function gr(){if(Fs===null){var t=rs.alternate;t=t!==null?t.memoizedState:null}else t=Fs.next;var e=Bs===null?rs.memoizedState:Bs.next;if(e!==null)Bs=e,Fs=t;else{if(t===null)throw Error(xe(310));Fs=t,t={memoizedState:Fs.memoizedState,baseState:Fs.baseState,baseQueue:Fs.baseQueue,queue:Fs.queue,next:null},Bs===null?rs.memoizedState=Bs=t:Bs=Bs.next=t}return Bs}function th(t,e){return typeof e=="function"?e(t):e}function sy(t){var e=gr(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=Fs,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((pl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,rs.lanes|=u,xl|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Wr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,rs.lanes|=a,xl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ny(t){var e=gr(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Wr(a,e.memoizedState)||(In=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function XE(){}function ZE(t,e){var n=rs,r=gr(),i=e(),a=!Wr(r.memoizedState,i);if(a&&(r.memoizedState=i,In=!0),r=r.queue,qb(tA.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Bs!==null&&Bs.memoizedState.tag&1){if(n.flags|=2048,sh(9,eA.bind(null,n,r,i,e),void 0,null),zs===null)throw Error(xe(349));pl&30||JE(n,e,i)}return i}function JE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rs.updateQueue,e===null?(e={lastEffect:null,stores:null},rs.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eA(t,e,n,r){e.value=n,e.getSnapshot=r,sA(e)&&nA(t)}function tA(t,e,n){return n(function(){sA(e)&&nA(t)})}function sA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function nA(t){var e=la(t,1);e!==null&&zr(e,t,1,-1)}function N1(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:t},e.queue=t,t=t.dispatch=W6.bind(null,rs,t),[e.memoizedState,t]}function sh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rs.updateQueue,e===null?(e={lastEffect:null,stores:null},rs.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rA(){return gr().memoizedState}function Nf(t,e,n,r){var i=ii();rs.flags|=t,i.memoizedState=sh(1|e,n,void 0,r===void 0?null:r)}function xx(t,e,n,r){var i=gr();r=r===void 0?null:r;var a=void 0;if(Fs!==null){var o=Fs.memoizedState;if(a=o.destroy,r!==null&&Bb(r,o.deps)){i.memoizedState=sh(e,n,a,r);return}}rs.flags|=t,i.memoizedState=sh(1|e,n,a,r)}function S1(t,e){return Nf(8390656,8,t,e)}function qb(t,e){return xx(2048,8,t,e)}function iA(t,e){return xx(4,2,t,e)}function aA(t,e){return xx(4,4,t,e)}function oA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lA(t,e,n){return n=n!=null?n.concat([t]):null,xx(4,4,oA.bind(null,e,t),n)}function Hb(){}function cA(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dA(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uA(t,e,n){return pl&21?(Wr(n,e)||(n=xE(),rs.lanes|=n,xl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function q6(t,e){var n=Ft;Ft=n!==0&&4>n?n:4,t(!0);var r=ty.transition;ty.transition={};try{t(!1),e()}finally{Ft=n,ty.transition=r}}function hA(){return gr().memoizedState}function H6(t,e,n){var r=Ja(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mA(t))fA(e,n);else if(n=GE(t,e,n,r),n!==null){var i=bn();zr(n,t,r,i),pA(n,e,r)}}function W6(t,e,n){var r=Ja(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mA(t))fA(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Wr(l,o)){var c=e.interleaved;c===null?(i.next=i,Ob(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=GE(t,e,i,r),n!==null&&(i=bn(),zr(n,t,r,i),pA(n,e,r))}}function mA(t){var e=t.alternate;return t===rs||e!==null&&e===rs}function fA(t,e){Cu=np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wb(t,n)}}var rp={readContext:xr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},K6={readContext:xr,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:S1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4194308,4,oA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nf(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ii();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H6.bind(null,rs,t),[r.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:Hb,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=q6.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rs,i=ii();if(Yt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),zs===null)throw Error(xe(349));pl&30||JE(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,S1(tA.bind(null,r,a,t),[t]),r.flags|=2048,sh(9,eA.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ii(),e=zs.identifierPrefix;if(Yt){var n=ea,r=Ji;n=(r&~(1<<32-Vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G6={readContext:xr,useCallback:cA,useContext:xr,useEffect:qb,useImperativeHandle:lA,useInsertionEffect:iA,useLayoutEffect:aA,useMemo:dA,useReducer:sy,useRef:rA,useState:function(){return sy(th)},useDebugValue:Hb,useDeferredValue:function(t){var e=gr();return uA(e,Fs.memoizedState,t)},useTransition:function(){var t=sy(th)[0],e=gr().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:ZE,useId:hA,unstable_isNewReconciler:!1},Q6={readContext:xr,useCallback:cA,useContext:xr,useEffect:qb,useImperativeHandle:lA,useInsertionEffect:iA,useLayoutEffect:aA,useMemo:dA,useReducer:ny,useRef:rA,useState:function(){return ny(th)},useDebugValue:Hb,useDeferredValue:function(t){var e=gr();return Fs===null?e.memoizedState=t:uA(e,Fs.memoizedState,t)},useTransition:function(){var t=ny(th)[0],e=gr().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:ZE,useId:hA,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=is({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:is({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gx={isMounted:function(t){return(t=t._reactInternals)?Fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ja(t),a=na(r,i);a.payload=e,n!=null&&(a.callback=n),e=Xa(t,a,i),e!==null&&(zr(e,t,i,r),bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Ja(t),a=na(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Xa(t,a,i),e!==null&&(zr(e,t,i,r),bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Ja(t),i=na(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(zr(e,t,r,n),bf(e,t,r))}};function C1(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,a):!0}function xA(t,e,n){var r=!1,i=ro,a=e.contextType;return typeof a=="object"&&a!==null?a=xr(a):(i=Ln(e)?ml:an.current,r=e.contextTypes,a=(r=r!=null)?cd(t,i):ro),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function _1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gx.enqueueReplaceState(e,e.state,null)}function Pv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=xr(a):(a=Ln(e)?ml:an.current,i.context=cd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gx.enqueueReplaceState(i,i.state,null),tp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function md(t,e){try{var n="",r=e;do n+=N$(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ry(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y6=typeof WeakMap=="function"?WeakMap:Map;function gA(t,e,n){n=na(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ap||(ap=!0,$v=r),Tv(t,e)},n}function yA(t,e,n){n=na(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Tv(t,e),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function k1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dU.bind(null,t,e,n),e.then(t,t))}function P1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=na(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var X6=pa.ReactCurrentOwner,In=!1;function gn(t,e,n,r){e.child=t===null?KE(e,null,n,r):ud(e,t.child,n,r)}function E1(t,e,n,r,i){n=n.render;var a=e.ref;return vc(e,i),r=Vb(t,e,n,r,a,i),n=zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ca(t,e,i)):(Yt&&n&&Eb(e),e.flags|=1,gn(t,e,r,i),e.child)}function A1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Jb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,vA(t,e,a,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(o,r)&&t.ref===e.ref)return ca(t,e,i)}return e.flags|=1,t=eo(a,r),t.ref=e.ref,t.return=e,e.child=t}function vA(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Gu(a,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,ca(t,e,i)}return Ev(t,e,n,r,i)}function jA(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(hc,Vn),Vn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(hc,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ut(hc,Vn),Vn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ut(hc,Vn),Vn|=r;return gn(t,e,i,n),e.child}function bA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ev(t,e,n,r,i){var a=Ln(n)?ml:an.current;return a=cd(e,a),vc(e,i),n=Vb(t,e,n,r,a,i),r=zb(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ca(t,e,i)):(Yt&&r&&Eb(e),e.flags|=1,gn(t,e,n,i),e.child)}function F1(t,e,n,r,i){if(Ln(n)){var a=!0;Yf(e)}else a=!1;if(vc(e,i),e.stateNode===null)Sf(t,e),xA(e,n,r),Pv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=xr(d):(d=Ln(n)?ml:an.current,d=cd(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&_1(e,o,r,d),Ta=!1;var m=e.memoizedState;o.state=m,tp(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Mn.current||Ta?(typeof u=="function"&&(kv(e,n,u,r),c=e.memoizedState),(l=Ta||C1(e,n,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Nr(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Ln(n)?ml:an.current,c=cd(e,c));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&_1(e,o,r,c),Ta=!1,m=e.memoizedState,o.state=m,tp(e,r,o,i);var b=e.memoizedState;l!==h||m!==b||Mn.current||Ta?(typeof y=="function"&&(kv(e,n,y,r),b=e.memoizedState),(d=Ta||C1(e,n,d,r,m,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Av(t,e,n,r,a,i)}function Av(t,e,n,r,i,a){bA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g1(e,n,!1),ca(t,e,a);r=e.stateNode,X6.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ud(e,t.child,null,a),e.child=ud(e,null,l,a)):gn(t,e,l,a),e.memoizedState=r.state,i&&g1(e,n,!0),e.child}function wA(t){var e=t.stateNode;e.pendingContext?x1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x1(t,e.context,!1),Lb(t,e.containerInfo)}function R1(t,e,n,r,i){return dd(),Fb(i),e.flags|=256,gn(t,e,n,r),e.child}var Fv={dehydrated:null,treeContext:null,retryLane:0};function Rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function NA(t,e,n){var r=e.pendingProps,i=ss.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ut(ss,i&1),t===null)return Cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jx(o,r,0,null),t=cl(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Rv(n),e.memoizedState=Fv,t):Wb(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Z6(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=eo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=eo(l,a):(a=cl(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Rv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Fv,r}return a=t.child,t=a.sibling,r=eo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wb(t,e){return e=jx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wm(t,e,n,r){return r!==null&&Fb(r),ud(e,t.child,null,n),t=Wb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z6(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ry(Error(xe(422))),Wm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=jx({mode:"visible",children:r.children},i,0,null),a=cl(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&ud(e,t.child,null,o),e.child.memoizedState=Rv(o),e.memoizedState=Fv,a);if(!(e.mode&1))return Wm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(xe(419)),r=ry(a,r,void 0),Wm(t,e,o,r)}if(l=(o&t.childLanes)!==0,In||l){if(r=zs,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,la(t,i),zr(r,t,i,-1))}return Zb(),r=ry(Error(xe(421))),Wm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Xn=Ya(i.nextSibling),Jn=e,Yt=!0,Dr=null,t!==null&&(cr[dr++]=Ji,cr[dr++]=ea,cr[dr++]=fl,Ji=t.id,ea=t.overflow,fl=e),e=Wb(e,r.children),e.flags|=4096,e)}function I1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_v(t.return,e,n)}function iy(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function SA(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(gn(t,e,r.children,n),r=ss.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I1(t,n,e);else if(t.tag===19)I1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ut(ss,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iy(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iy(e,!0,n,null,a);break;case"together":iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ca(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J6(t,e,n){switch(e.tag){case 3:wA(e),dd();break;case 5:YE(e);break;case 1:Ln(e.type)&&Yf(e);break;case 4:Lb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ut(Jf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ut(ss,ss.current&1),e.flags|=128,null):n&e.child.childLanes?NA(t,e,n):(Ut(ss,ss.current&1),t=ca(t,e,n),t!==null?t.sibling:null);Ut(ss,ss.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(ss,ss.current),r)break;return null;case 22:case 23:return e.lanes=0,jA(t,e,n)}return ca(t,e,n)}var CA,Iv,_A,kA;CA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iv=function(){};_A=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(ji.current);var a=null;switch(n){case"input":i=sv(t,i),r=sv(t,r),a=[];break;case"select":i=is({},i,{value:void 0}),r=is({},r,{value:void 0}),a=[];break;case"textarea":i=iv(t,i),r=iv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gf)}ov(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&qt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};kA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qd(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eU(t,e,n){var r=e.pendingProps;switch(Ab(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Ln(e.type)&&Qf(),tn(e),null;case 3:return r=e.stateNode,hd(),Ht(Mn),Ht(an),Ub(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(Vv(Dr),Dr=null))),Iv(t,e),tn(e),null;case 5:$b(e);var i=Oo(Ju.current);if(n=e.type,t!==null&&e.stateNode!=null)_A(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return tn(e),null}if(t=Oo(ji.current),qm(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[pi]=e,r[Xu]=a,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<cu.length;i++)qt(cu[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":z0(r,a),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qt("invalid",r);break;case"textarea":H0(r,a),qt("invalid",r)}ov(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&zm(r.textContent,l,t),i=["children",""+l]):Bu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qt("scroll",r)}switch(n){case"input":Dm(r),q0(r,a,!0);break;case"textarea":Dm(r),W0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pi]=e,t[Xu]=r,CA(t,e,!1,!1),e.stateNode=t;e:{switch(o=lv(n,r),n){case"dialog":qt("cancel",t),qt("close",t),i=r;break;case"iframe":case"object":case"embed":qt("load",t),i=r;break;case"video":case"audio":for(i=0;i<cu.length;i++)qt(cu[i],t);i=r;break;case"source":qt("error",t),i=r;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=r;break;case"details":qt("toggle",t),i=r;break;case"input":z0(t,r),i=sv(t,r),qt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=is({},r,{value:void 0}),qt("invalid",t);break;case"textarea":H0(t,r),i=iv(t,r),qt("invalid",t);break;default:i=r}ov(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rE(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sE(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vu(t,c):typeof c=="number"&&Vu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&qt("scroll",t):c!=null&&xb(t,a,c,o))}switch(n){case"input":Dm(t),q0(t,r,!1);break;case"textarea":Dm(t),W0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+no(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?pc(t,!!r.multiple,a,!1):r.defaultValue!=null&&pc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)kA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=Oo(Ju.current),Oo(ji.current),qm(e)){if(r=e.stateNode,n=e.memoizedProps,r[pi]=e,(a=r.nodeValue!==n)&&(t=Jn,t!==null))switch(t.tag){case 3:zm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pi]=e,e.stateNode=r}return tn(e),null;case 13:if(Ht(ss),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&Xn!==null&&e.mode&1&&!(e.flags&128))HE(),dd(),e.flags|=98560,a=!1;else if(a=qm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(xe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(xe(317));a[pi]=e}else dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),a=!1}else Dr!==null&&(Vv(Dr),Dr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ss.current&1?Ms===0&&(Ms=3):Zb())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return hd(),Iv(t,e),t===null&&Qu(e.stateNode.containerInfo),tn(e),null;case 10:return Db(e.type._context),tn(e),null;case 17:return Ln(e.type)&&Qf(),tn(e),null;case 19:if(Ht(ss),a=e.memoizedState,a===null)return tn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Qd(a,!1);else{if(Ms!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sp(t),o!==null){for(e.flags|=128,Qd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ut(ss,ss.current&1|2),e.child}t=t.sibling}a.tail!==null&&vs()>fd&&(e.flags|=128,r=!0,Qd(a,!1),e.lanes=4194304)}else{if(!r)if(t=sp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Yt)return tn(e),null}else 2*vs()-a.renderingStartTime>fd&&n!==1073741824&&(e.flags|=128,r=!0,Qd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vs(),e.sibling=null,n=ss.current,Ut(ss,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Xb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function tU(t,e){switch(Ab(e),e.tag){case 1:return Ln(e.type)&&Qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hd(),Ht(Mn),Ht(an),Ub(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $b(e),null;case 13:if(Ht(ss),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(ss),null;case 4:return hd(),null;case 10:return Db(e.type._context),null;case 22:case 23:return Xb(),null;case 24:return null;default:return null}}var Km=!1,nn=!1,sU=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function uc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cs(t,e,r)}else n.current=null}function Dv(t,e,n){try{n()}catch(r){cs(t,e,r)}}var D1=!1;function nU(t,e){if(yv=Hf,t=FE(),Tb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vv={focusedElem:t,selectionRange:n},Hf=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,v=b.memoizedState,p=e.stateNode,x=p.getSnapshotBeforeUpdate(e.elementType===e.type?j:Nr(e.type,j),v);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(N){cs(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return b=D1,D1=!1,b}function _u(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Dv(e,n,a)}i=i.next}while(i!==r)}}function yx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ov(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PA(t){var e=t.alternate;e!==null&&(t.alternate=null,PA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pi],delete e[Xu],delete e[wv],delete e[$6],delete e[U6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TA(t){return t.tag===5||t.tag===3||t.tag===4}function O1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gf));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lv(t,e,n),t=t.sibling;t!==null;)Lv(t,e,n),t=t.sibling}var Ks=null,Fr=!1;function ja(t,e,n){for(n=n.child;n!==null;)EA(t,e,n),n=n.sibling}function EA(t,e,n){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(dx,n)}catch{}switch(n.tag){case 5:nn||uc(n,e);case 6:var r=Ks,i=Fr;Ks=null,ja(t,e,n),Ks=r,Fr=i,Ks!==null&&(Fr?(t=Ks,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ks.removeChild(n.stateNode));break;case 18:Ks!==null&&(Fr?(t=Ks,n=n.stateNode,t.nodeType===8?Zg(t.parentNode,n):t.nodeType===1&&Zg(t,n),Wu(t)):Zg(Ks,n.stateNode));break;case 4:r=Ks,i=Fr,Ks=n.stateNode.containerInfo,Fr=!0,ja(t,e,n),Ks=r,Fr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Dv(n,e,o),i=i.next}while(i!==r)}ja(t,e,n);break;case 1:if(!nn&&(uc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){cs(n,e,l)}ja(t,e,n);break;case 21:ja(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,ja(t,e,n),nn=r):ja(t,e,n);break;default:ja(t,e,n)}}function M1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sU),e.forEach(function(r){var i=hU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ks=l.stateNode,Fr=!1;break e;case 3:Ks=l.stateNode.containerInfo,Fr=!0;break e;case 4:Ks=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(Ks===null)throw Error(xe(160));EA(a,o,i),Ks=null,Fr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){cs(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AA(e,t),e=e.sibling}function AA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),si(t),r&4){try{_u(3,t,t.return),yx(3,t)}catch(j){cs(t,t.return,j)}try{_u(5,t,t.return)}catch(j){cs(t,t.return,j)}}break;case 1:br(e,t),si(t),r&512&&n!==null&&uc(n,n.return);break;case 5:if(br(e,t),si(t),r&512&&n!==null&&uc(n,n.return),t.flags&32){var i=t.stateNode;try{Vu(i,"")}catch(j){cs(t,t.return,j)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&JT(i,a),lv(l,o);var d=lv(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?rE(i,h):u==="dangerouslySetInnerHTML"?sE(i,h):u==="children"?Vu(i,h):xb(i,u,h,d)}switch(l){case"input":nv(i,a);break;case"textarea":eE(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?pc(i,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?pc(i,!!a.multiple,a.defaultValue,!0):pc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xu]=a}catch(j){cs(t,t.return,j)}}break;case 6:if(br(e,t),si(t),r&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(j){cs(t,t.return,j)}}break;case 3:if(br(e,t),si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(e.containerInfo)}catch(j){cs(t,t.return,j)}break;case 4:br(e,t),si(t);break;case 13:br(e,t),si(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qb=vs())),r&4&&M1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(d=nn)||u,br(e,t),nn=d):br(e,t),si(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Oe=t,u=t.child;u!==null;){for(h=Oe=u;Oe!==null;){switch(m=Oe,y=m.child,m.tag){case 0:case 11:case 14:case 15:_u(4,m,m.return);break;case 1:uc(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(j){cs(r,n,j)}}break;case 5:uc(m,m.return);break;case 22:if(m.memoizedState!==null){$1(h);continue}}y!==null?(y.return=m,Oe=y):$1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nE("display",o))}catch(j){cs(t,t.return,j)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){cs(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),si(t),r&4&&M1(t);break;case 21:break;default:br(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TA(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vu(i,""),r.flags&=-33);var a=O1(t);Lv(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=O1(t);Mv(t,l,o);break;default:throw Error(xe(161))}}catch(c){cs(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rU(t,e,n){Oe=t,FA(t)}function FA(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Km;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||nn;l=Km;var d=nn;if(Km=o,(nn=c)&&!d)for(Oe=i;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?U1(i):c!==null?(c.return=o,Oe=c):U1(i);for(;a!==null;)Oe=a,FA(a),a=a.sibling;Oe=i,Km=l,nn=d}L1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Oe=a):L1(t)}}function L1(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||yx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&w1(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Wu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}nn||e.flags&512&&Ov(e)}catch(m){cs(e,e.return,m)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function $1(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function U1(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yx(4,e)}catch(c){cs(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){cs(e,i,c)}}var a=e.return;try{Ov(e)}catch(c){cs(e,a,c)}break;case 5:var o=e.return;try{Ov(e)}catch(c){cs(e,o,c)}}}catch(c){cs(e,e.return,c)}if(e===t){Oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Oe=l;break}Oe=e.return}}var iU=Math.ceil,ip=pa.ReactCurrentDispatcher,Kb=pa.ReactCurrentOwner,mr=pa.ReactCurrentBatchConfig,St=0,zs=null,Ps=null,Qs=0,Vn=0,hc=wo(0),Ms=0,nh=null,xl=0,vx=0,Gb=0,ku=null,Rn=null,Qb=0,fd=1/0,Ui=null,ap=!1,$v=null,Za=null,Gm=!1,Ha=null,op=0,Pu=0,Uv=null,Cf=-1,_f=0;function bn(){return St&6?vs():Cf!==-1?Cf:Cf=vs()}function Ja(t){return t.mode&1?St&2&&Qs!==0?Qs&-Qs:V6.transition!==null?(_f===0&&(_f=xE()),_f):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:NE(t.type)),t):1}function zr(t,e,n,r){if(50<Pu)throw Pu=0,Uv=null,Error(xe(185));am(t,n,r),(!(St&2)||t!==zs)&&(t===zs&&(!(St&2)&&(vx|=n),Ms===4&&Fa(t,Qs)),$n(t,r),n===1&&St===0&&!(e.mode&1)&&(fd=vs()+500,px&&No()))}function $n(t,e){var n=t.callbackNode;V$(t,e);var r=qf(t,t===zs?Qs:0);if(r===0)n!==null&&Q0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q0(n),e===1)t.tag===0?B6(B1.bind(null,t)):VE(B1.bind(null,t)),M6(function(){!(St&6)&&No()}),n=null;else{switch(gE(r)){case 1:n=bb;break;case 4:n=fE;break;case 16:n=zf;break;case 536870912:n=pE;break;default:n=zf}n=UA(n,RA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RA(t,e){if(Cf=-1,_f=0,St&6)throw Error(xe(327));var n=t.callbackNode;if(jc()&&t.callbackNode!==n)return null;var r=qf(t,t===zs?Qs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lp(t,r);else{e=r;var i=St;St|=2;var a=DA();(zs!==t||Qs!==e)&&(Ui=null,fd=vs()+500,ll(t,e));do try{lU();break}catch(l){IA(t,l)}while(!0);Ib(),ip.current=a,St=i,Ps!==null?e=0:(zs=null,Qs=0,e=Ms)}if(e!==0){if(e===2&&(i=mv(t),i!==0&&(r=i,e=Bv(t,i))),e===1)throw n=nh,ll(t,0),Fa(t,r),$n(t,vs()),n;if(e===6)Fa(t,r);else{if(i=t.current.alternate,!(r&30)&&!aU(i)&&(e=lp(t,r),e===2&&(a=mv(t),a!==0&&(r=a,e=Bv(t,a))),e===1))throw n=nh,ll(t,0),Fa(t,r),$n(t,vs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:To(t,Rn,Ui);break;case 3:if(Fa(t,r),(r&130023424)===r&&(e=Qb+500-vs(),10<e)){if(qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bv(To.bind(null,t,Rn,Ui),e);break}To(t,Rn,Ui);break;case 4:if(Fa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=vs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iU(r/1960))-r,10<r){t.timeoutHandle=bv(To.bind(null,t,Rn,Ui),r);break}To(t,Rn,Ui);break;case 5:To(t,Rn,Ui);break;default:throw Error(xe(329))}}}return $n(t,vs()),t.callbackNode===n?RA.bind(null,t):null}function Bv(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(ll(t,e).flags|=256),t=lp(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&Vv(e)),t}function Vv(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function aU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fa(t,e){for(e&=~Gb,e&=~vx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vr(e),r=1<<n;t[n]=-1,e&=~r}}function B1(t){if(St&6)throw Error(xe(327));jc();var e=qf(t,0);if(!(e&1))return $n(t,vs()),null;var n=lp(t,e);if(t.tag!==0&&n===2){var r=mv(t);r!==0&&(e=r,n=Bv(t,r))}if(n===1)throw n=nh,ll(t,0),Fa(t,e),$n(t,vs()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,Rn,Ui),$n(t,vs()),null}function Yb(t,e){var n=St;St|=1;try{return t(e)}finally{St=n,St===0&&(fd=vs()+500,px&&No())}}function gl(t){Ha!==null&&Ha.tag===0&&!(St&6)&&jc();var e=St;St|=1;var n=mr.transition,r=Ft;try{if(mr.transition=null,Ft=1,t)return t()}finally{Ft=r,mr.transition=n,St=e,!(St&6)&&No()}}function Xb(){Vn=hc.current,Ht(hc)}function ll(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O6(n)),Ps!==null)for(n=Ps.return;n!==null;){var r=n;switch(Ab(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qf();break;case 3:hd(),Ht(Mn),Ht(an),Ub();break;case 5:$b(r);break;case 4:hd();break;case 13:Ht(ss);break;case 19:Ht(ss);break;case 10:Db(r.type._context);break;case 22:case 23:Xb()}n=n.return}if(zs=t,Ps=t=eo(t.current,null),Qs=Vn=e,Ms=0,nh=null,Gb=vx=xl=0,Rn=ku=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Do=null}return t}function IA(t,e){do{var n=Ps;try{if(Ib(),wf.current=rp,np){for(var r=rs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}np=!1}if(pl=0,Bs=Fs=rs=null,Cu=!1,eh=0,Kb.current=null,n===null||n.return===null){Ms=1,nh=e,Ps=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=Qs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=P1(o);if(y!==null){y.flags&=-257,T1(y,o,l,a,e),y.mode&1&&k1(a,d,e),e=y,c=d;var b=e.updateQueue;if(b===null){var j=new Set;j.add(c),e.updateQueue=j}else b.add(c);break e}else{if(!(e&1)){k1(a,d,e),Zb();break e}c=Error(xe(426))}}else if(Yt&&l.mode&1){var v=P1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),T1(v,o,l,a,e),Fb(md(c,l));break e}}a=c=md(c,l),Ms!==4&&(Ms=2),ku===null?ku=[a]:ku.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=gA(a,c,e);b1(a,p);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Za===null||!Za.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=yA(a,l,e);b1(a,N);break e}}a=a.return}while(a!==null)}MA(n)}catch(_){e=_,Ps===n&&n!==null&&(Ps=n=n.return);continue}break}while(!0)}function DA(){var t=ip.current;return ip.current=rp,t===null?rp:t}function Zb(){(Ms===0||Ms===3||Ms===2)&&(Ms=4),zs===null||!(xl&268435455)&&!(vx&268435455)||Fa(zs,Qs)}function lp(t,e){var n=St;St|=2;var r=DA();(zs!==t||Qs!==e)&&(Ui=null,ll(t,e));do try{oU();break}catch(i){IA(t,i)}while(!0);if(Ib(),St=n,ip.current=r,Ps!==null)throw Error(xe(261));return zs=null,Qs=0,Ms}function oU(){for(;Ps!==null;)OA(Ps)}function lU(){for(;Ps!==null&&!R$();)OA(Ps)}function OA(t){var e=$A(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?MA(t):Ps=e,Kb.current=null}function MA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tU(n,e),n!==null){n.flags&=32767,Ps=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ms=6,Ps=null;return}}else if(n=eU(n,e,Vn),n!==null){Ps=n;return}if(e=e.sibling,e!==null){Ps=e;return}Ps=e=t}while(e!==null);Ms===0&&(Ms=5)}function To(t,e,n){var r=Ft,i=mr.transition;try{mr.transition=null,Ft=1,cU(t,e,n,r)}finally{mr.transition=i,Ft=r}return null}function cU(t,e,n,r){do jc();while(Ha!==null);if(St&6)throw Error(xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(z$(t,a),t===zs&&(Ps=zs=null,Qs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gm||(Gm=!0,UA(zf,function(){return jc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mr.transition,mr.transition=null;var o=Ft;Ft=1;var l=St;St|=4,Kb.current=null,nU(t,n),AA(n,t),T6(vv),Hf=!!yv,vv=yv=null,t.current=n,rU(n),I$(),St=l,Ft=o,mr.transition=a}else t.current=n;if(Gm&&(Gm=!1,Ha=t,op=i),a=t.pendingLanes,a===0&&(Za=null),M$(n.stateNode),$n(t,vs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ap)throw ap=!1,t=$v,$v=null,t;return op&1&&t.tag!==0&&jc(),a=t.pendingLanes,a&1?t===Uv?Pu++:(Pu=0,Uv=t):Pu=0,No(),null}function jc(){if(Ha!==null){var t=gE(op),e=mr.transition,n=Ft;try{if(mr.transition=null,Ft=16>t?16:t,Ha===null)var r=!1;else{if(t=Ha,Ha=null,op=0,St&6)throw Error(xe(331));var i=St;for(St|=4,Oe=t.current;Oe!==null;){var a=Oe,o=a.child;if(Oe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Oe=d;Oe!==null;){var u=Oe;switch(u.tag){case 0:case 11:case 15:_u(8,u,a)}var h=u.child;if(h!==null)h.return=u,Oe=h;else for(;Oe!==null;){u=Oe;var m=u.sibling,y=u.return;if(PA(u),u===d){Oe=null;break}if(m!==null){m.return=y,Oe=m;break}Oe=y}}}var b=a.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var v=j.sibling;j.sibling=null,j=v}while(j!==null)}}Oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Oe=o;else e:for(;Oe!==null;){if(a=Oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_u(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Oe=p;break e}Oe=a.return}}var x=t.current;for(Oe=x;Oe!==null;){o=Oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Oe=w;else e:for(o=x;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yx(9,l)}}catch(_){cs(l,l.return,_)}if(l===o){Oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Oe=N;break e}Oe=l.return}}if(St=i,No(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(dx,t)}catch{}r=!0}return r}finally{Ft=n,mr.transition=e}}return!1}function V1(t,e,n){e=md(n,e),e=gA(t,e,1),t=Xa(t,e,1),e=bn(),t!==null&&(am(t,1,e),$n(t,e))}function cs(t,e,n){if(t.tag===3)V1(t,t,n);else for(;e!==null;){if(e.tag===3){V1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){t=md(n,t),t=yA(e,t,1),e=Xa(e,t,1),t=bn(),e!==null&&(am(e,1,t),$n(e,t));break}}e=e.return}}function dU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,zs===t&&(Qs&n)===n&&(Ms===4||Ms===3&&(Qs&130023424)===Qs&&500>vs()-Qb?ll(t,0):Gb|=n),$n(t,e)}function LA(t,e){e===0&&(t.mode&1?(e=Lm,Lm<<=1,!(Lm&130023424)&&(Lm=4194304)):e=1);var n=bn();t=la(t,e),t!==null&&(am(t,e,n),$n(t,n))}function uU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LA(t,n)}function hU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),LA(t,n)}var $A;$A=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,J6(t,e,n);In=!!(t.flags&131072)}else In=!1,Yt&&e.flags&1048576&&zE(e,Zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sf(t,e),t=e.pendingProps;var i=cd(e,an.current);vc(e,n),i=Vb(null,e,r,t,i,n);var a=zb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(a=!0,Yf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mb(e),i.updater=gx,e.stateNode=i,i._reactInternals=e,Pv(e,r,t,n),e=Av(null,e,r,!0,a,n)):(e.tag=0,Yt&&a&&Eb(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fU(r),t=Nr(r,t),i){case 0:e=Ev(null,e,r,t,n);break e;case 1:e=F1(null,e,r,t,n);break e;case 11:e=E1(null,e,r,t,n);break e;case 14:e=A1(null,e,r,Nr(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Ev(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),F1(t,e,r,i,n);case 3:e:{if(wA(e),t===null)throw Error(xe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,QE(t,e),tp(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=md(Error(xe(423)),e),e=R1(t,e,r,n,i);break e}else if(r!==i){i=md(Error(xe(424)),e),e=R1(t,e,r,n,i);break e}else for(Xn=Ya(e.stateNode.containerInfo.firstChild),Jn=e,Yt=!0,Dr=null,n=KE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dd(),r===i){e=ca(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return YE(e),t===null&&Cv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,jv(r,i)?o=null:a!==null&&jv(r,a)&&(e.flags|=32),bA(t,e),gn(t,e,o,n),e.child;case 6:return t===null&&Cv(e),null;case 13:return NA(t,e,n);case 4:return Lb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ud(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),E1(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ut(Jf,r._currentValue),r._currentValue=o,a!==null)if(Wr(a.value,o)){if(a.children===i.children&&!Mn.current){e=ca(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=na(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),_v(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(xe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_v(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vc(e,n),i=xr(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),A1(t,e,r,i,n);case 15:return vA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Sf(t,e),e.tag=1,Ln(r)?(t=!0,Yf(e)):t=!1,vc(e,n),xA(e,r,i),Pv(e,r,i,n),Av(null,e,r,!0,t,n);case 19:return SA(t,e,n);case 22:return jA(t,e,n)}throw Error(xe(156,e.tag))};function UA(t,e){return mE(t,e)}function mU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new mU(t,e,n,r)}function Jb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fU(t){if(typeof t=="function")return Jb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yb)return 11;if(t===vb)return 14}return 2}function eo(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Jb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sc:return cl(n.children,i,a,e);case gb:o=8,i|=8;break;case Zy:return t=ur(12,n,e,i|2),t.elementType=Zy,t.lanes=a,t;case Jy:return t=ur(13,n,e,i),t.elementType=Jy,t.lanes=a,t;case ev:return t=ur(19,n,e,i),t.elementType=ev,t.lanes=a,t;case YT:return jx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GT:o=10;break e;case QT:o=9;break e;case yb:o=11;break e;case vb:o=14;break e;case Pa:o=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=ur(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function cl(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function jx(t,e,n,r){return t=ur(22,t,r,e),t.elementType=YT,t.lanes=n,t.stateNode={isHidden:!1},t}function ay(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function oy(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bg(0),this.expirationTimes=Bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ew(t,e,n,r,i,a,o,l,c){return t=new pU(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ur(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mb(a),t}function xU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BA(t){if(!t)return ro;t=t._reactInternals;e:{if(Fl(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Ln(n))return BE(t,n,e)}return e}function VA(t,e,n,r,i,a,o,l,c){return t=ew(n,r,!0,t,i,a,o,l,c),t.context=BA(null),n=t.current,r=bn(),i=Ja(n),a=na(r,i),a.callback=e??null,Xa(n,a,i),t.current.lanes=i,am(t,i,r),$n(t,r),t}function bx(t,e,n,r){var i=e.current,a=bn(),o=Ja(i);return n=BA(n),e.context===null?e.context=n:e.pendingContext=n,e=na(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,o),t!==null&&(zr(t,i,o,a),bf(t,i,o)),o}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tw(t,e){z1(t,e),(t=t.alternate)&&z1(t,e)}function gU(){return null}var zA=typeof reportError=="function"?reportError:function(t){console.error(t)};function sw(t){this._internalRoot=t}wx.prototype.render=sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));bx(t,e,null,null)};wx.prototype.unmount=sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){bx(null,t,null,null)}),e[oa]=null}};function wx(t){this._internalRoot=t}wx.prototype.unstable_scheduleHydration=function(t){if(t){var e=jE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Aa.length&&e!==0&&e<Aa[n].priority;n++);Aa.splice(n,0,t),n===0&&wE(t)}};function nw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q1(){}function yU(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=cp(o);a.call(d)}}var o=VA(e,r,t,0,null,!1,!1,"",q1);return t._reactRootContainer=o,t[oa]=o.current,Qu(t.nodeType===8?t.parentNode:t),gl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=cp(c);l.call(d)}}var c=ew(t,0,!1,null,null,!1,!1,"",q1);return t._reactRootContainer=c,t[oa]=c.current,Qu(t.nodeType===8?t.parentNode:t),gl(function(){bx(e,c,n,r)}),c}function Sx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=cp(o);l.call(c)}}bx(e,o,t,i)}else o=yU(n,e,t,i,r);return cp(o)}yE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lu(e.pendingLanes);n!==0&&(wb(e,n|1),$n(e,vs()),!(St&6)&&(fd=vs()+500,No()))}break;case 13:gl(function(){var r=la(t,1);if(r!==null){var i=bn();zr(r,t,1,i)}}),tw(t,1)}};Nb=function(t){if(t.tag===13){var e=la(t,134217728);if(e!==null){var n=bn();zr(e,t,134217728,n)}tw(t,134217728)}};vE=function(t){if(t.tag===13){var e=Ja(t),n=la(t,e);if(n!==null){var r=bn();zr(n,t,e,r)}tw(t,e)}};jE=function(){return Ft};bE=function(t,e){var n=Ft;try{return Ft=t,e()}finally{Ft=n}};dv=function(t,e,n){switch(e){case"input":if(nv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fx(r);if(!i)throw Error(xe(90));ZT(r),nv(r,i)}}}break;case"textarea":eE(t,n);break;case"select":e=n.value,e!=null&&pc(t,!!n.multiple,e,!1)}};oE=Yb;lE=gl;var vU={usingClientEntryPoint:!1,Events:[lm,ac,fx,iE,aE,Yb]},Yd={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jU={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uE(t),t===null?null:t.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||gU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{dx=Qm.inject(jU),vi=Qm}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vU;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nw(e))throw Error(xe(200));return xU(t,e,null,n)};nr.createRoot=function(t,e){if(!nw(t))throw Error(xe(299));var n=!1,r="",i=zA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ew(t,1,!1,null,null,n,!1,r,i),t[oa]=e.current,Qu(t.nodeType===8?t.parentNode:t),new sw(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=uE(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return gl(t)};nr.hydrate=function(t,e,n){if(!Nx(e))throw Error(xe(200));return Sx(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!nw(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=zA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VA(e,null,t,1,n??null,i,!1,a,o),t[oa]=e.current,Qu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wx(e)};nr.render=function(t,e,n){if(!Nx(e))throw Error(xe(200));return Sx(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Nx(t))throw Error(xe(40));return t._reactRootContainer?(gl(function(){Sx(null,null,t,!1,function(){t._reactRootContainer=null,t[oa]=null})}),!0):!1};nr.unstable_batchedUpdates=Yb;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nx(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Sx(t,e,n,!1,r)};nr.version="18.3.1-next-f1338f8080-20240426";function qA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qA)}catch(t){console.error(t)}}qA(),qT.exports=nr;var Rl=qT.exports;const bU=fa(Rl);var HA,H1=Rl;HA=H1.createRoot,H1.hydrateRoot;function wU(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var WA={exports:{}},KA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=f;function NU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SU=typeof Object.is=="function"?Object.is:NU,CU=pd.useState,_U=pd.useEffect,kU=pd.useLayoutEffect,PU=pd.useDebugValue;function TU(t,e){var n=e(),r=CU({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return kU(function(){i.value=n,i.getSnapshot=e,ly(i)&&a({inst:i})},[t,n,e]),_U(function(){return ly(i)&&a({inst:i}),t(function(){ly(i)&&a({inst:i})})},[t]),PU(n),n}function ly(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!SU(t,n)}catch{return!0}}function EU(t,e){return e()}var AU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EU:TU;KA.useSyncExternalStore=pd.useSyncExternalStore!==void 0?pd.useSyncExternalStore:AU;WA.exports=KA;var GA=WA.exports;const FU=cx.useInsertionEffect,RU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IU=RU?f.useLayoutEffect:f.useEffect,DU=FU||IU,QA=t=>{const e=f.useRef([t,(...n)=>e[0](...n)]).current;return DU(()=>{e[0]=t}),e[1]},OU="popstate",rw="pushState",iw="replaceState",MU="hashchange",W1=[OU,rw,iw,MU],LU=t=>{for(const e of W1)addEventListener(e,t);return()=>{for(const e of W1)removeEventListener(e,t)}},YA=(t,e)=>GA.useSyncExternalStore(LU,t,e),K1=()=>location.search,$U=({ssrSearch:t}={})=>YA(K1,t!=null?()=>t:K1),G1=()=>location.pathname,UU=({ssrPath:t}={})=>YA(G1,t!=null?()=>t:G1),BU=(t,{replace:e=!1,state:n=null}={})=>history[e?iw:rw](n,"",t),VU=(t={})=>[UU(t),BU],Q1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Q1]>"u"){for(const t of[rw,iw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Q1,{value:!0})}const zU=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",XA=(t="")=>t==="/"?"":t,qU=(t,e)=>t[0]==="~"?t.slice(1):XA(e)+t,HU=(t="",e)=>zU(Y1(XA(t)),Y1(e)),Y1=t=>{try{return decodeURI(t)}catch{return t}},ZA={hook:VU,searchHook:$U,parser:wU,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,e,n)=>t(e,n)},JA=f.createContext(ZA),Ed=()=>f.useContext(JA),e4={},t4=f.createContext(e4),WU=()=>f.useContext(t4),Cx=t=>{const[e,n]=t.hook(t);return[HU(t.base,e),QA((r,i)=>t.aroundNav(n,qU(r,t.base),i))]},Zs=()=>Cx(Ed()),aw=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},_x=t=>aw(Ed().parser,t,Zs()[0]),KU=({children:t,...e})=>{var u,h,m;const n=Ed(),r=e.hook?ZA:n;let i=r;const[a,o=e.ssrSearch??""]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((m=e.hook)==null?void 0:m.searchHook);let l=f.useRef({}),c=l.current,d=c;for(let y in r){const b=y==="base"?r[y]+(e[y]??""):e[y]??r[y];c===d&&b!==d[y]&&(l.current=d={...d}),d[y]=b,(b!==r[y]||b!==i[y])&&(i=d)}return f.createElement(JA.Provider,{value:i,children:t})},X1=({children:t,component:e},n)=>e?f.createElement(e,{params:n}):typeof t=="function"?t(n):t,GU=t=>{let e=f.useRef(e4);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},tt=({path:t,nest:e,match:n,...r})=>{const i=Ed(),[a]=Cx(i),[o,l,c]=n??aw(i.parser,t,a,e),d=GU({...WU(),...l});if(!o)return null;const u=c?f.createElement(KU,{base:c},X1(r,d)):X1(r,d);return f.createElement(t4.Provider,{value:d,children:u})},vt=f.forwardRef((t,e)=>{const n=Ed(),[r,i]=Cx(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,transition:y,...b}=t,j=QA(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(l==null||l(p),p.defaultPrevented||(p.preventDefault(),i(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&f.isValidElement(d)?f.cloneElement(d,{onClick:j,href:v}):f.createElement("a",{...b,onClick:j,href:v,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),s4=t=>Array.isArray(t)?t.flatMap(e=>s4(e&&e.type===f.Fragment?e.props.children:e)):[t],QU=({children:t,location:e})=>{const n=Ed(),[r]=Cx(n);for(const i of s4(t)){let a=0;if(f.isValidElement(i)&&(a=aw(n.parser,i.props.path,e||r,i.props.nest))[0])return f.cloneElement(i,{match:a})}return null};var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YU={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ra,cb,O2,XU=(O2=class{constructor(){G(this,Ra,YU);G(this,cb,!1)}setTimeoutProvider(t){Y(this,Ra,t)}setTimeout(t,e){return S(this,Ra).setTimeout(t,e)}clearTimeout(t){S(this,Ra).clearTimeout(t)}setInterval(t,e){return S(this,Ra).setInterval(t,e)}clearInterval(t){S(this,Ra).clearInterval(t)}},Ra=new WeakMap,cb=new WeakMap,O2),Mo=new XU;function ZU(t){setTimeout(t,0)}var yl=typeof window>"u"||"Deno"in globalThis;function yn(){}function JU(t,e){return typeof t=="function"?t(e):t}function zv(t){return typeof t=="number"&&t>=0&&t!==1/0}function n4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function to(t,e){return typeof t=="function"?t(e):t}function lr(t,e){return typeof t=="function"?t(e):t}function Z1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==ow(o,e.options))return!1}else if(!rh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function J1(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(vl(e.options.mutationKey)!==vl(a))return!1}else if(!rh(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ow(t,e){return((e==null?void 0:e.queryKeyHashFn)||vl)(t)}function vl(t){return JSON.stringify(t,(e,n)=>qv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function rh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>rh(t[n],e[n])):!1}var e8=Object.prototype.hasOwnProperty;function r4(t,e){if(t===e)return t;const n=eS(t)&&eS(e);if(!n&&!(qv(t)&&qv(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d],h=t[u],m=e[u];if(h===m){l[u]=h,(n?d<i:e8.call(t,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const y=r4(h,m);l[u]=y,y===h&&c++}return i===o&&c===i?t:l}function dp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function eS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qv(t){if(!tS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tS(t){return Object.prototype.toString.call(t)==="[object Object]"}function t8(t){return new Promise(e=>{Mo.setTimeout(e,t)})}function Hv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?r4(t,e):e}function s8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function n8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lw=Symbol();function i4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cw(t,e){return typeof t=="function"?t(...e):!!t}function r8(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Vo,Ia,Ec,M2,i8=(M2=class extends Ad{constructor(){super();G(this,Vo);G(this,Ia);G(this,Ec);Y(this,Ec,e=>{if(!yl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Ia)||this.setEventListener(S(this,Ec))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Ia))==null||e.call(this),Y(this,Ia,void 0))}setEventListener(e){var n;Y(this,Ec,e),(n=S(this,Ia))==null||n.call(this),Y(this,Ia,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,Vo)!==e&&(Y(this,Vo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,Vo)=="boolean"?S(this,Vo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vo=new WeakMap,Ia=new WeakMap,Ec=new WeakMap,M2),dw=new i8;function Wv(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var a8=ZU;function o8(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=a8;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Is=o8(),Ac,Da,Fc,L2,l8=(L2=class extends Ad{constructor(){super();G(this,Ac,!0);G(this,Da);G(this,Fc);Y(this,Fc,e=>{if(!yl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Da)||this.setEventListener(S(this,Fc))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Da))==null||e.call(this),Y(this,Da,void 0))}setEventListener(e){var n;Y(this,Fc,e),(n=S(this,Da))==null||n.call(this),Y(this,Da,e(this.setOnline.bind(this)))}setOnline(e){S(this,Ac)!==e&&(Y(this,Ac,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,Ac)}},Ac=new WeakMap,Da=new WeakMap,Fc=new WeakMap,L2),up=new l8;function c8(t){return Math.min(1e3*2**t,3e4)}function a4(t){return(t??"online")==="online"?up.isOnline():!0}var Kv=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function o4(t){let e=!1,n=0,r;const i=Wv(),a=()=>i.status!=="pending",o=j=>{var v;if(!a()){const p=new Kv(j);m(p),(v=t.onCancel)==null||v.call(t,p)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>dw.isFocused()&&(t.networkMode==="always"||up.isOnline())&&t.canRun(),u=()=>a4(t.networkMode)&&t.canRun(),h=j=>{a()||(r==null||r(),i.resolve(j))},m=j=>{a()||(r==null||r(),i.reject(j))},y=()=>new Promise(j=>{var v;r=p=>{(a()||d())&&j(p)},(v=t.onPause)==null||v.call(t)}).then(()=>{var j;r=void 0,a()||(j=t.onContinue)==null||j.call(t)}),b=()=>{if(a())return;let j;const v=n===0?t.initialPromise:void 0;try{j=v??t.fn()}catch(p){j=Promise.reject(p)}Promise.resolve(j).then(h).catch(p=>{var C;if(a())return;const x=t.retry??(yl?0:3),w=t.retryDelay??c8,N=typeof w=="function"?w(n,p):w,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,p);if(e||!_){m(p);return}n++,(C=t.onFail)==null||C.call(t,n,p),t8(N).then(()=>d()?void 0:y()).then(()=>{e?m(p):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():y().then(b),i)}}var zo,$2,l4=($2=class{constructor(){G(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zv(this.gcTime)&&Y(this,zo,Mo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yl?1/0:5*60*1e3))}clearGcTimeout(){S(this,zo)&&(Mo.clearTimeout(S(this,zo)),Y(this,zo,void 0))}},zo=new WeakMap,$2),qo,Rc,ir,Ho,$s,Rh,Wo,Sr,Mi,U2,d8=(U2=class extends l4{constructor(e){super();G(this,Sr);G(this,qo);G(this,Rc);G(this,ir);G(this,Ho);G(this,$s);G(this,Rh);G(this,Wo);Y(this,Wo,!1),Y(this,Rh,e.defaultOptions),this.setOptions(e.options),this.observers=[],Y(this,Ho,e.client),Y(this,ir,S(this,Ho).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Y(this,qo,nS(this.options)),this.state=e.state??S(this,qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,$s))==null?void 0:e.promise}setOptions(e){if(this.options={...S(this,Rh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=nS(this.options);n.data!==void 0&&(this.setState(sS(n.data,n.dataUpdatedAt)),Y(this,qo,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,ir).remove(this)}setData(e,n){const r=Hv(this.state.data,e,this.options);return ce(this,Sr,Mi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ce(this,Sr,Mi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=S(this,$s))==null?void 0:r.promise;return(i=S(this,$s))==null||i.cancel(e),n?n.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,qo))}isActive(){return this.observers.some(e=>lr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>to(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!n4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,$s))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,$s))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,ir).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,$s)&&(S(this,Wo)?S(this,$s).cancel({revert:!0}):S(this,$s).cancelRetry()),this.scheduleGc()),S(this,ir).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,Sr,Mi).call(this,{type:"invalidate"})}async fetch(e,n){var c,d,u,h,m,y,b,j,v,p,x,w;if(this.state.fetchStatus!=="idle"&&((c=S(this,$s))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,$s))return S(this,$s).continueRetry(),S(this,$s).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(_=>_.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Y(this,Wo,!0),r.signal)})},a=()=>{const N=i4(this.options,n),C=(()=>{const k={client:S(this,Ho),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return Y(this,Wo,!1),this.options.persister?this.options.persister(N,C,this):N(C)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,Ho),state:this.state,fetchFn:a};return i(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),Y(this,Rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ce(this,Sr,Mi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Y(this,$s,o4({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Kv&&N.revert&&this.setState({...S(this,Rc),fetchStatus:"idle"}),r.abort()},onFail:(N,_)=>{ce(this,Sr,Mi).call(this,{type:"failed",failureCount:N,error:_})},onPause:()=>{ce(this,Sr,Mi).call(this,{type:"pause"})},onContinue:()=>{ce(this,Sr,Mi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await S(this,$s).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(y=(m=S(this,ir).config).onSuccess)==null||y.call(m,N,this),(j=(b=S(this,ir).config).onSettled)==null||j.call(b,N,this.state.error,this),N}catch(N){if(N instanceof Kv){if(N.silent)return S(this,$s).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ce(this,Sr,Mi).call(this,{type:"error",error:N}),(p=(v=S(this,ir).config).onError)==null||p.call(v,N,this),(w=(x=S(this,ir).config).onSettled)==null||w.call(x,this.state.data,N,this),N}finally{this.scheduleGc()}}},qo=new WeakMap,Rc=new WeakMap,ir=new WeakMap,Ho=new WeakMap,$s=new WeakMap,Rh=new WeakMap,Wo=new WeakMap,Sr=new WeakSet,Mi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...c4(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...sS(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,Rc,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Is.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,ir).notify({query:this,type:"updated",action:e})})},U2);function c4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sS(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tn,yt,Ih,un,Ko,Ic,zi,Oa,Dh,Dc,Oc,Go,Qo,Ma,Mc,Tt,du,Gv,Qv,Yv,Xv,Zv,Jv,ej,d4,B2,u8=(B2=class extends Ad{constructor(e,n){super();G(this,Tt);G(this,Tn);G(this,yt);G(this,Ih);G(this,un);G(this,Ko);G(this,Ic);G(this,zi);G(this,Oa);G(this,Dh);G(this,Dc);G(this,Oc);G(this,Go);G(this,Qo);G(this,Ma);G(this,Mc,new Set);this.options=n,Y(this,Tn,e),Y(this,Oa,null),Y(this,zi,Wv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,yt).addObserver(this),rS(S(this,yt),this.options)?ce(this,Tt,du).call(this):this.updateResult(),ce(this,Tt,Xv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tj(S(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tj(S(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,Tt,Zv).call(this),ce(this,Tt,Jv).call(this),S(this,yt).removeObserver(this)}setOptions(e){const n=this.options,r=S(this,yt);if(this.options=S(this,Tn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof lr(this.options.enabled,S(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,Tt,ej).call(this),S(this,yt).setOptions(this.options),n._defaulted&&!dp(this.options,n)&&S(this,Tn).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,yt),observer:this});const i=this.hasListeners();i&&iS(S(this,yt),r,this.options,n)&&ce(this,Tt,du).call(this),this.updateResult(),i&&(S(this,yt)!==r||lr(this.options.enabled,S(this,yt))!==lr(n.enabled,S(this,yt))||to(this.options.staleTime,S(this,yt))!==to(n.staleTime,S(this,yt)))&&ce(this,Tt,Gv).call(this);const a=ce(this,Tt,Qv).call(this);i&&(S(this,yt)!==r||lr(this.options.enabled,S(this,yt))!==lr(n.enabled,S(this,yt))||a!==S(this,Ma))&&ce(this,Tt,Yv).call(this,a)}getOptimisticResult(e){const n=S(this,Tn).getQueryCache().build(S(this,Tn),e),r=this.createResult(n,e);return m8(this,r)&&(Y(this,un,r),Y(this,Ic,this.options),Y(this,Ko,S(this,yt).state)),r}getCurrentResult(){return S(this,un)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,zi).status==="pending"&&S(this,zi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){S(this,Mc).add(e)}getCurrentQuery(){return S(this,yt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=S(this,Tn).defaultQueryOptions(e),r=S(this,Tn).getQueryCache().build(S(this,Tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ce(this,Tt,du).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,un)))}createResult(e,n){var M;const r=S(this,yt),i=this.options,a=S(this,un),o=S(this,Ko),l=S(this,Ic),d=e!==r?e.state:S(this,Ih),{state:u}=e;let h={...u},m=!1,y;if(n._optimisticResults){const R=this.hasListeners(),L=!R&&rS(e,n),V=R&&iS(e,r,n,i);(L||V)&&(h={...h,...c4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:v}=h;y=h.data;let p=!1;if(n.placeholderData!==void 0&&y===void 0&&v==="pending"){let R;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=a.data,p=!0):R=typeof n.placeholderData=="function"?n.placeholderData((M=S(this,Oc))==null?void 0:M.state.data,S(this,Oc)):n.placeholderData,R!==void 0&&(v="success",y=Hv(a==null?void 0:a.data,R,n),m=!0)}if(n.select&&y!==void 0&&!p)if(a&&y===(o==null?void 0:o.data)&&n.select===S(this,Dh))y=S(this,Dc);else try{Y(this,Dh,n.select),y=n.select(y),y=Hv(a==null?void 0:a.data,y,n),Y(this,Dc,y),Y(this,Oa,null)}catch(R){Y(this,Oa,R)}S(this,Oa)&&(b=S(this,Oa),y=S(this,Dc),j=Date.now(),v="error");const x=h.fetchStatus==="fetching",w=v==="pending",N=v==="error",_=w&&x,C=y!==void 0,P={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:N,isInitialLoading:_,isLoading:_,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&C,isStale:uw(e,n),refetch:this.refetch,promise:S(this,zi),isEnabled:lr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=Z=>{P.status==="error"?Z.reject(P.error):P.data!==void 0&&Z.resolve(P.data)},L=()=>{const Z=Y(this,zi,P.promise=Wv());R(Z)},V=S(this,zi);switch(V.status){case"pending":e.queryHash===r.queryHash&&R(V);break;case"fulfilled":(P.status==="error"||P.data!==V.value)&&L();break;case"rejected":(P.status!=="error"||P.error!==V.reason)&&L();break}}return P}updateResult(){const e=S(this,un),n=this.createResult(S(this,yt),this.options);if(Y(this,Ko,S(this,yt).state),Y(this,Ic,this.options),S(this,Ko).data!==void 0&&Y(this,Oc,S(this,yt)),dp(n,e))return;Y(this,un,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!S(this,Mc).size)return!0;const o=new Set(a??S(this,Mc));return this.options.throwOnError&&o.add("error"),Object.keys(S(this,un)).some(l=>{const c=l;return S(this,un)[c]!==e[c]&&o.has(c)})};ce(this,Tt,d4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,Tt,Xv).call(this)}},Tn=new WeakMap,yt=new WeakMap,Ih=new WeakMap,un=new WeakMap,Ko=new WeakMap,Ic=new WeakMap,zi=new WeakMap,Oa=new WeakMap,Dh=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,Go=new WeakMap,Qo=new WeakMap,Ma=new WeakMap,Mc=new WeakMap,Tt=new WeakSet,du=function(e){ce(this,Tt,ej).call(this);let n=S(this,yt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(yn)),n},Gv=function(){ce(this,Tt,Zv).call(this);const e=to(this.options.staleTime,S(this,yt));if(yl||S(this,un).isStale||!zv(e))return;const r=n4(S(this,un).dataUpdatedAt,e)+1;Y(this,Go,Mo.setTimeout(()=>{S(this,un).isStale||this.updateResult()},r))},Qv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,yt)):this.options.refetchInterval)??!1},Yv=function(e){ce(this,Tt,Jv).call(this),Y(this,Ma,e),!(yl||lr(this.options.enabled,S(this,yt))===!1||!zv(S(this,Ma))||S(this,Ma)===0)&&Y(this,Qo,Mo.setInterval(()=>{(this.options.refetchIntervalInBackground||dw.isFocused())&&ce(this,Tt,du).call(this)},S(this,Ma)))},Xv=function(){ce(this,Tt,Gv).call(this),ce(this,Tt,Yv).call(this,ce(this,Tt,Qv).call(this))},Zv=function(){S(this,Go)&&(Mo.clearTimeout(S(this,Go)),Y(this,Go,void 0))},Jv=function(){S(this,Qo)&&(Mo.clearInterval(S(this,Qo)),Y(this,Qo,void 0))},ej=function(){const e=S(this,Tn).getQueryCache().build(S(this,Tn),this.options);if(e===S(this,yt))return;const n=S(this,yt);Y(this,yt,e),Y(this,Ih,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},d4=function(e){Is.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(S(this,un))}),S(this,Tn).getQueryCache().notify({query:S(this,yt),type:"observerResultsUpdated"})})},B2);function h8(t,e){return lr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function rS(t,e){return h8(t,e)||t.state.data!==void 0&&tj(t,e,e.refetchOnMount)}function tj(t,e,n){if(lr(e.enabled,t)!==!1&&to(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&uw(t,e)}return!1}function iS(t,e,n,r){return(t!==e||lr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&uw(t,n)}function uw(t,e){return lr(e.enabled,t)!==!1&&t.isStaleByTime(to(e.staleTime,t))}function m8(t,e){return!dp(t.getCurrentResult(),e)}function aS(t){return{onFetch:(e,n)=>{var u,h,m,y,b;const r=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let j=!1;const v=w=>{r8(w,()=>e.signal,()=>j=!0)},p=i4(e.options,e.fetchOptions),x=async(w,N,_)=>{if(j)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:N,direction:_?"backward":"forward",meta:e.options.meta};return v(L),L})(),P=await p(k),{maxPages:M}=e.options,R=_?n8:s8;return{pages:R(w.pages,P,M),pageParams:R(w.pageParams,N,M)}};if(i&&a.length){const w=i==="backward",N=w?f8:oS,_={pages:a,pageParams:o},C=N(r,_);l=await x(_,C,w)}else{const w=t??a.length;do{const N=c===0?o[0]??r.initialPageParam:oS(r,l);if(c>0&&N==null)break;l=await x(l,N),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var j,v;return(v=(j=e.options).persister)==null?void 0:v.call(j,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function oS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Oh,oi,hn,Yo,li,Ca,V2,p8=(V2=class extends l4{constructor(e){super();G(this,li);G(this,Oh);G(this,oi);G(this,hn);G(this,Yo);Y(this,Oh,e.client),this.mutationId=e.mutationId,Y(this,hn,e.mutationCache),Y(this,oi,[]),this.state=e.state||u4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,oi).includes(e)||(S(this,oi).push(e),this.clearGcTimeout(),S(this,hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Y(this,oi,S(this,oi).filter(n=>n!==e)),this.scheduleGc(),S(this,hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,oi).length||(this.state.status==="pending"?this.scheduleGc():S(this,hn).remove(this))}continue(){var e;return((e=S(this,Yo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,m,y,b,j,v,p,x,w,N,_,C,k,P,M;const n=()=>{ce(this,li,Ca).call(this,{type:"continue"})},r={client:S(this,Oh),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,Yo,o4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,L)=>{ce(this,li,Ca).call(this,{type:"failed",failureCount:R,error:L})},onPause:()=>{ce(this,li,Ca).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,hn).canRun(this)}));const i=this.state.status==="pending",a=!S(this,Yo).canStart();try{if(i)n();else{ce(this,li,Ca).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=S(this,hn).config).onMutate)==null?void 0:l.call(o,e,this,r));const L=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,r));L!==this.state.context&&ce(this,li,Ca).call(this,{type:"pending",context:L,variables:e,isPaused:a})}const R=await S(this,Yo).start();return await((h=(u=S(this,hn).config).onSuccess)==null?void 0:h.call(u,R,e,this.state.context,this,r)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,R,e,this.state.context,r)),await((j=(b=S(this,hn).config).onSettled)==null?void 0:j.call(b,R,null,this.state.variables,this.state.context,this,r)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,R,null,e,this.state.context,r)),ce(this,li,Ca).call(this,{type:"success",data:R}),R}catch(R){try{await((w=(x=S(this,hn).config).onError)==null?void 0:w.call(x,R,e,this.state.context,this,r))}catch(L){Promise.reject(L)}try{await((_=(N=this.options).onError)==null?void 0:_.call(N,R,e,this.state.context,r))}catch(L){Promise.reject(L)}try{await((k=(C=S(this,hn).config).onSettled)==null?void 0:k.call(C,void 0,R,this.state.variables,this.state.context,this,r))}catch(L){Promise.reject(L)}try{await((M=(P=this.options).onSettled)==null?void 0:M.call(P,void 0,R,e,this.state.context,r))}catch(L){Promise.reject(L)}throw ce(this,li,Ca).call(this,{type:"error",error:R}),R}finally{S(this,hn).runNext(this)}}},Oh=new WeakMap,oi=new WeakMap,hn=new WeakMap,Yo=new WeakMap,li=new WeakSet,Ca=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Is.batch(()=>{S(this,oi).forEach(r=>{r.onMutationUpdate(e)}),S(this,hn).notify({mutation:this,type:"updated",action:e})})},V2);function u4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qi,Cr,Mh,z2,x8=(z2=class extends Ad{constructor(e={}){super();G(this,qi);G(this,Cr);G(this,Mh);this.config=e,Y(this,qi,new Set),Y(this,Cr,new Map),Y(this,Mh,0)}build(e,n,r){const i=new p8({client:e,mutationCache:this,mutationId:++Am(this,Mh)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){S(this,qi).add(e);const n=Ym(e);if(typeof n=="string"){const r=S(this,Cr).get(n);r?r.push(e):S(this,Cr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(S(this,qi).delete(e)){const n=Ym(e);if(typeof n=="string"){const r=S(this,Cr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&S(this,Cr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ym(e);if(typeof n=="string"){const r=S(this,Cr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Ym(e);if(typeof n=="string"){const i=(r=S(this,Cr).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Is.batch(()=>{S(this,qi).forEach(e=>{this.notify({type:"removed",mutation:e})}),S(this,qi).clear(),S(this,Cr).clear()})}getAll(){return Array.from(S(this,qi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>J1(n,r))}findAll(e={}){return this.getAll().filter(n=>J1(e,n))}notify(e){Is.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Is.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},qi=new WeakMap,Cr=new WeakMap,Mh=new WeakMap,z2);function Ym(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Hi,La,En,Wi,ia,Pf,sj,q2,g8=(q2=class extends Ad{constructor(n,r){super();G(this,ia);G(this,Hi);G(this,La);G(this,En);G(this,Wi);Y(this,Hi,n),this.setOptions(r),this.bindMethods(),ce(this,ia,Pf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=S(this,Hi).defaultMutationOptions(n),dp(this.options,r)||S(this,Hi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,En),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vl(r.mutationKey)!==vl(this.options.mutationKey)?this.reset():((i=S(this,En))==null?void 0:i.state.status)==="pending"&&S(this,En).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,En))==null||n.removeObserver(this)}onMutationUpdate(n){ce(this,ia,Pf).call(this),ce(this,ia,sj).call(this,n)}getCurrentResult(){return S(this,La)}reset(){var n;(n=S(this,En))==null||n.removeObserver(this),Y(this,En,void 0),ce(this,ia,Pf).call(this),ce(this,ia,sj).call(this)}mutate(n,r){var i;return Y(this,Wi,r),(i=S(this,En))==null||i.removeObserver(this),Y(this,En,S(this,Hi).getMutationCache().build(S(this,Hi),this.options)),S(this,En).addObserver(this),S(this,En).execute(n)}},Hi=new WeakMap,La=new WeakMap,En=new WeakMap,Wi=new WeakMap,ia=new WeakSet,Pf=function(){var r;const n=((r=S(this,En))==null?void 0:r.state)??u4();Y(this,La,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},sj=function(n){Is.batch(()=>{var r,i,a,o,l,c,d,u;if(S(this,Wi)&&this.hasListeners()){const h=S(this,La).variables,m=S(this,La).context,y={client:S(this,Hi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=S(this,Wi)).onSuccess)==null||i.call(r,n.data,h,m,y)}catch(b){Promise.reject(b)}try{(o=(a=S(this,Wi)).onSettled)==null||o.call(a,n.data,null,h,m,y)}catch(b){Promise.reject(b)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=S(this,Wi)).onError)==null||c.call(l,n.error,h,m,y)}catch(b){Promise.reject(b)}try{(u=(d=S(this,Wi)).onSettled)==null||u.call(d,void 0,n.error,h,m,y)}catch(b){Promise.reject(b)}}}this.listeners.forEach(h=>{h(S(this,La))})})},q2),ci,H2,y8=(H2=class extends Ad{constructor(e={}){super();G(this,ci);this.config=e,Y(this,ci,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??ow(i,n);let o=this.get(a);return o||(o=new d8({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){S(this,ci).has(e.queryHash)||(S(this,ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,ci).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Is.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,ci).get(e)}getAll(){return[...S(this,ci).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Z1(e,r)):n}notify(e){Is.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Is.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Is.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ci=new WeakMap,H2),as,$a,Ua,Lc,$c,Ba,Uc,Bc,W2,v8=(W2=class{constructor(t={}){G(this,as);G(this,$a);G(this,Ua);G(this,Lc);G(this,$c);G(this,Ba);G(this,Uc);G(this,Bc);Y(this,as,t.queryCache||new y8),Y(this,$a,t.mutationCache||new x8),Y(this,Ua,t.defaultOptions||{}),Y(this,Lc,new Map),Y(this,$c,new Map),Y(this,Ba,0)}mount(){Am(this,Ba)._++,S(this,Ba)===1&&(Y(this,Uc,dw.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,as).onFocus())})),Y(this,Bc,up.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,as).onOnline())})))}unmount(){var t,e;Am(this,Ba)._--,S(this,Ba)===0&&((t=S(this,Uc))==null||t.call(this),Y(this,Uc,void 0),(e=S(this,Bc))==null||e.call(this),Y(this,Bc,void 0))}isFetching(t){return S(this,as).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,$a).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,as).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=S(this,as).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(to(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return S(this,as).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=S(this,as).get(r.queryHash),a=i==null?void 0:i.state.data,o=JU(e,a);if(o!==void 0)return S(this,as).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Is.batch(()=>S(this,as).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,as).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,as);Is.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,as);return Is.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Is.batch(()=>S(this,as).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,e={}){return Is.batch(()=>(S(this,as).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Is.batch(()=>S(this,as).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(yn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,as).build(this,e);return n.isStaleByTime(to(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=aS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=aS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return up.isOnline()?S(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,as)}getMutationCache(){return S(this,$a)}getDefaultOptions(){return S(this,Ua)}setDefaultOptions(t){Y(this,Ua,t)}setQueryDefaults(t,e){S(this,Lc).set(vl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,Lc).values()],n={};return e.forEach(r=>{rh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){S(this,$c).set(vl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,$c).values()],n={};return e.forEach(r=>{rh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,Ua).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ow(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,Ua).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,as).clear(),S(this,$a).clear()}},as=new WeakMap,$a=new WeakMap,Ua=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Ba=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,W2),h4=f.createContext(void 0),dm=t=>{const e=f.useContext(h4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},j8=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(h4.Provider,{value:t,children:e})),m4=f.createContext(!1),b8=()=>f.useContext(m4);m4.Provider;function w8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var N8=f.createContext(w8()),S8=()=>f.useContext(N8),C8=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?cw(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},_8=t=>{f.useEffect(()=>{t.clearReset()},[t])},k8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||cw(n,[t.error,r])),P8=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},T8=(t,e)=>t.isLoading&&t.isFetching&&!e,E8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function A8(t,e,n){var m,y,b,j;const r=b8(),i=S8(),a=dm(),o=a.defaultQueryOptions(t);(y=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",P8(o),C8(o,i,l),_8(i);const c=!a.getQueryCache().get(o.queryHash),[d]=f.useState(()=>new e(a,o)),u=d.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(v=>{const p=h?d.subscribe(Is.batchCalls(v)):yn;return d.updateResult(),p},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f.useEffect(()=>{d.setOptions(o)},[o,d]),E8(o,u))throw lS(o,d,i);if(k8({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw u.error;if((j=(b=a.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||j.call(b,o,u),o.experimental_prefetchInRender&&!yl&&T8(u,r)){const v=c?lS(o,d,i):l==null?void 0:l.promise;v==null||v.catch(yn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function Ve(t,e){return A8(t,u8)}function Ae(t,e){const n=dm(),[r]=f.useState(()=>new g8(n,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const i=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(Is.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((o,l)=>{r.mutate(o,l).catch(yn)},[r]);if(i.error&&cw(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const cy={},F8=typeof window<"u"&&window.location.hostname.includes("localhost")?"":"https://readysetfly-api.onrender.com",dy=typeof import.meta<"u"&&(cy==null?void 0:cy.VITE_API_BASE_URL)||typeof window<"u"&&window.__API_BASE_URL__||F8;function f4(t){return!dy||/^https?:\/\//i.test(t)?t:t.startsWith("/")?`${dy}${t}`:`${dy}/${t}`}function Il(t){return f4(t)}function R8(t,e){return fetch(f4(t),e)}async function p4(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function De(t,e,n){const r=await fetch(Il(e),{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await p4(r),r}const I8=({on401:t})=>async({queryKey:e})=>{const n=await fetch(Il(e.join("/")),{credentials:"include"});return await p4(n),await n.json()},_e=new v8({defaultOptions:{queries:{queryFn:I8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),D8=1,O8=1e6;let uy=0;function M8(){return uy=(uy+1)%Number.MAX_SAFE_INTEGER,uy.toString()}const hy=new Map,cS=t=>{if(hy.has(t))return;const e=setTimeout(()=>{hy.delete(t),Tu({type:"REMOVE_TOAST",toastId:t})},O8);hy.set(t,e)},L8=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,D8)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?cS(n):t.toasts.forEach(r=>{cS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tf=[];let Ef={toasts:[]};function Tu(t){Ef=L8(Ef,t),Tf.forEach(e=>{e(Ef)})}function $8({...t}){const e=M8(),n=i=>Tu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Tu({type:"DISMISS_TOAST",toastId:e});return Tu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Bt(){const[t,e]=f.useState(Ef);return f.useEffect(()=>(Tf.push(e),()=>{const n=Tf.indexOf(e);n>-1&&Tf.splice(n,1)}),[t]),{...t,toast:$8,dismiss:n=>Tu({type:"DISMISS_TOAST",toastId:n})}}function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xa(...t){return e=>{let n=!1;const r=t.map(i=>{const a=dS(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():dS(t[i],null)}}}}function it(...t){return f.useCallback(xa(...t),t)}function U8(t,e){const n=f.createContext(e),r=a=>{const{children:o,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function _n(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o),c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:y,...b}=h,j=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,v=f.useMemo(()=>b,Object.values(b));return s.jsx(j.Provider,{value:v,children:y})};d.displayName=a+"Provider";function u(h,m){var j;const y=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,b=f.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,B8(i,...e)]}function B8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function uS(t){const e=V8(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(q8);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function V8(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=W8(i),l=H8(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var z8=Symbol("radix.slottable");function q8(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===z8}function H8(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function W8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kx(t){const e=t+"CollectionProvider",[n,r]=_n(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:v,children:p}=j,x=Xe.useRef(null),w=Xe.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=uS(l),d=Xe.forwardRef((j,v)=>{const{scope:p,children:x}=j,w=a(l,p),N=it(v,w.collectionRef);return s.jsx(c,{ref:N,children:x})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=uS(u),y=Xe.forwardRef((j,v)=>{const{scope:p,children:x,...w}=j,N=Xe.useRef(null),_=it(v,N),C=a(u,p);return Xe.useEffect(()=>(C.itemMap.set(N,{ref:N,...w}),()=>void C.itemMap.delete(N))),s.jsx(m,{[h]:"",ref:_,children:x})});y.displayName=u;function b(j){const v=a(t+"CollectionConsumer",j);return Xe.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((C,k)=>w.indexOf(C.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,r]}function K8(t){const e=G8(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(Y8);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function G8(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=Z8(i),l=X8(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Q8=Symbol("radix.slottable");function Y8(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Q8}function X8(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Z8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var J8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=J8.reduce((t,e)=>{const n=K8(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hw(t,e){t&&Rl.flushSync(()=>t.dispatchEvent(e))}function ds(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function eB(t,e=globalThis==null?void 0:globalThis.document){const n=ds(t);f.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tB="DismissableLayer",nj="dismissableLayer.update",sB="dismissableLayer.pointerDownOutside",nB="dismissableLayer.focusOutside",hS,x4=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=f.useContext(x4),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),b=it(e,k=>h(k)),j=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=j.indexOf(v),x=u?j.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=x>=p,_=iB(k=>{const P=k.target,M=[...d.branches].some(R=>R.contains(P));!N||M||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),C=aB(k=>{const P=k.target;[...d.branches].some(R=>R.contains(P))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return eB(k=>{x===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(hS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),mS(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=hS)}},[u,m,n,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),mS())},[u,d]),f.useEffect(()=>{const k=()=>y({});return document.addEventListener(nj,k),()=>document.removeEventListener(nj,k)},[]),s.jsx(Be.div,{...c,ref:b,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,C.onFocusCapture),onBlurCapture:be(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,_.onPointerDownCapture)})});Fd.displayName=tB;var rB="DismissableLayerBranch",g4=f.forwardRef((t,e)=>{const n=f.useContext(x4),r=f.useRef(null),i=it(e,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Be.div,{...t,ref:i})});g4.displayName=rB;function iB(t,e=globalThis==null?void 0:globalThis.document){const n=ds(t),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){y4(sB,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function aB(t,e=globalThis==null?void 0:globalThis.document){const n=ds(t),r=f.useRef(!1);return f.useEffect(()=>{const i=a=>{a.target&&!r.current&&y4(nB,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mS(){const t=new CustomEvent(nj);document.dispatchEvent(t)}function y4(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hw(i,a):i.dispatchEvent(a)}var oB=Fd,lB=g4,hs=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},cB="Portal",um=f.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=f.useState(!1);hs(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?bU.createPortal(s.jsx(Be.div,{...r,ref:e}),o):null});um.displayName=cB;function dB(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var Js=t=>{const{present:e,children:n}=t,r=uB(e),i=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=it(r.ref,hB(i));return typeof n=="function"||r.isPresent?f.cloneElement(i,{ref:a}):null};Js.displayName="Presence";function uB(t){const[e,n]=f.useState(),r=f.useRef(null),i=f.useRef(t),a=f.useRef("none"),o=t?"mounted":"unmounted",[l,c]=dB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Xm(r.current);a.current=l==="mounted"?d:"none"},[l]),hs(()=>{const d=r.current,u=i.current;if(u!==t){const m=a.current,y=Xm(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),hs(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=y=>{const j=Xm(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&j&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=y=>{y.target===e&&(a.current=Xm(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Xm(t){return(t==null?void 0:t.animationName)||"none"}function hB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mB=cx[" useInsertionEffect ".trim().toString()]||hs;function Kr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=fB({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const u=f.useRef(t!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=f.useCallback(u=>{var h;if(l){const m=pB(u)?u(t):u;m!==t&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,t,a,o]);return[c,d]}function fB({defaultProp:t,onChange:e}){const[n,r]=f.useState(t),i=f.useRef(n),a=f.useRef(e);return mB(()=>{a.current=e},[e]),f.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function pB(t){return typeof t=="function"}var v4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xB="VisuallyHidden",Px=f.forwardRef((t,e)=>s.jsx(Be.span,{...t,ref:e,style:{...v4,...t.style}}));Px.displayName=xB;var gB=Px,mw="ToastProvider",[fw,yB,vB]=kx("Toast"),[j4]=_n("Toast",[vB]),[jB,Tx]=j4(mw),b4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mw}\`. Expected non-empty \`string\`.`),s.jsx(fw.Provider,{scope:e,children:s.jsx(jB,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(y=>y+1),[]),onToastRemove:f.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};b4.displayName=mw;var w4="ToastViewport",bB=["F8"],rj="toast.viewportPause",ij="toast.viewportResume",N4=f.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=bB,label:i="Notifications ({hotkey})",...a}=t,o=Tx(w4,n),l=yB(n),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=it(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;f.useEffect(()=>{const v=p=>{var w;r.length!==0&&r.every(N=>p[N]||p.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),f.useEffect(()=>{const v=c.current,p=h.current;if(b&&v&&p){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(rj);p.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(ij);p.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!v.contains(C.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",N),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const j=f.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const N=w.ref.current,_=[N,...IB(N)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return f.useEffect(()=>{const v=h.current;if(v){const p=x=>{var _,C,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const P=document.activeElement,M=x.shiftKey;if(x.target===v&&M){(_=d.current)==null||_.focus();return}const V=j({tabbingDirection:M?"backwards":"forwards"}),Z=V.findIndex(se=>se===P);my(V.slice(Z+1))?x.preventDefault():M?(C=d.current)==null||C.focus():(k=u.current)==null||k.focus()}};return v.addEventListener("keydown",p),()=>v.removeEventListener("keydown",p)}},[l,j]),s.jsxs(lB,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(aj,{ref:d,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"forwards"});my(v)}}),s.jsx(fw.Slot,{scope:n,children:s.jsx(Be.ol,{tabIndex:-1,...a,ref:m})}),b&&s.jsx(aj,{ref:u,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"backwards"});my(v)}})]})});N4.displayName=w4;var S4="ToastFocusProxy",aj=f.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Tx(S4,n);return s.jsx(Px,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});aj.displayName=S4;var hm="Toast",wB="toast.swipeStart",NB="toast.swipeMove",SB="toast.swipeCancel",CB="toast.swipeEnd",C4=f.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=Kr({prop:r,defaultProp:i??!0,onChange:a,caller:hm});return s.jsx(Js,{present:n||l,children:s.jsx(PB,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ds(t.onPause),onResume:ds(t.onResume),onSwipeStart:be(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:be(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});C4.displayName=hm;var[_B,kB]=j4(hm,{onClose(){}}),PB=f.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:y,...b}=t,j=Tx(hm,n),[v,p]=f.useState(null),x=it(e,se=>p(se)),w=f.useRef(null),N=f.useRef(null),_=i||j.duration,C=f.useRef(0),k=f.useRef(_),P=f.useRef(0),{onToastAdd:M,onToastRemove:R}=j,L=ds(()=>{var E;(v==null?void 0:v.contains(document.activeElement))&&((E=j.viewport)==null||E.focus()),o()}),V=f.useCallback(se=>{!se||se===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(L,se))},[L]);f.useEffect(()=>{const se=j.viewport;if(se){const E=()=>{V(k.current),d==null||d()},K=()=>{const de=new Date().getTime()-C.current;k.current=k.current-de,window.clearTimeout(P.current),c==null||c()};return se.addEventListener(rj,K),se.addEventListener(ij,E),()=>{se.removeEventListener(rj,K),se.removeEventListener(ij,E)}}},[j.viewport,_,c,d,V]),f.useEffect(()=>{a&&!j.isClosePausedRef.current&&V(_)},[a,_,j.isClosePausedRef,V]),f.useEffect(()=>(M(),()=>R()),[M,R]);const Z=f.useMemo(()=>v?F4(v):null,[v]);return j.viewport?s.jsxs(s.Fragment,{children:[Z&&s.jsx(TB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Z}),s.jsx(_B,{scope:n,onClose:L,children:Rl.createPortal(s.jsx(fw.ItemSlot,{scope:n,children:s.jsx(oB,{asChild:!0,onEscapeKeyDown:be(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||L(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":j.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,se=>{se.key==="Escape"&&(l==null||l(se.nativeEvent),se.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:be(t.onPointerDown,se=>{se.button===0&&(w.current={x:se.clientX,y:se.clientY})}),onPointerMove:be(t.onPointerMove,se=>{if(!w.current)return;const E=se.clientX-w.current.x,K=se.clientY-w.current.y,de=!!N.current,B=["left","right"].includes(j.swipeDirection),F=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,D=B?F(0,E):0,le=B?0:F(0,K),fe=se.pointerType==="touch"?10:2,qe={x:D,y:le},Ke={originalEvent:se,delta:qe};de?(N.current=qe,Zm(NB,h,Ke,{discrete:!1})):fS(qe,j.swipeDirection,fe)?(N.current=qe,Zm(wB,u,Ke,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(E)>fe||Math.abs(K)>fe)&&(w.current=null)}),onPointerUp:be(t.onPointerUp,se=>{const E=N.current,K=se.target;if(K.hasPointerCapture(se.pointerId)&&K.releasePointerCapture(se.pointerId),N.current=null,w.current=null,E){const de=se.currentTarget,B={originalEvent:se,delta:E};fS(E,j.swipeDirection,j.swipeThreshold)?Zm(CB,y,B,{discrete:!0}):Zm(SB,m,B,{discrete:!0}),de.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),TB=t=>{const{__scopeToast:e,children:n,...r}=t,i=Tx(hm,e),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return FB(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(um,{asChild:!0,children:s.jsx(Px,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},EB="ToastTitle",_4=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Be.div,{...r,ref:e})});_4.displayName=EB;var AB="ToastDescription",k4=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Be.div,{...r,ref:e})});k4.displayName=AB;var P4="ToastAction",T4=f.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(A4,{altText:n,asChild:!0,children:s.jsx(pw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${P4}\`. Expected non-empty \`string\`.`),null)});T4.displayName=P4;var E4="ToastClose",pw=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=kB(E4,n);return s.jsx(A4,{asChild:!0,children:s.jsx(Be.button,{type:"button",...r,ref:e,onClick:be(t.onClick,i.onClose)})})});pw.displayName=E4;var A4=f.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function F4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),RB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...F4(r))}}),e}function Zm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hw(i,a):i.dispatchEvent(a)}var fS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function FB(t=()=>{}){const e=ds(t);hs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function RB(t){return t.nodeType===t.ELEMENT_NODE}function IB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function my(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var DB=b4,R4=N4,I4=C4,D4=_4,O4=k4,M4=T4,L4=pw;function $4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function U4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$4(t))&&(r&&(r+=" "),r+=e);return r}const pS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xS=U4,mm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=n==null?void 0:n[d],h=a==null?void 0:a[d];if(u===null)return null;const m=pS(u)||pS(h);return i[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...y}=u;return Object.entries(y).every(b=>{let[j,v]=b;return Array.isArray(v)?v.includes({...a,...l}[j]):{...a,...l}[j]===v})?[...d,h,m]:d},[]);return xS(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...MB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:B4("lucide",i),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=f.forwardRef(({className:r,...i},a)=>f.createElement(LB,{ref:a,iconNode:e,className:B4(`lucide-${OB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ke("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ke("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ke("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ke("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ke("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ke("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ke("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=ke("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yw="-",oV=t=>{const e=cV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(yw);return l[0]===""&&l.length!==1&&l.shift(),Y4(l,e)||lV(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Y4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Y4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(yw);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},NS=/^\[(.+)\]$/,lV=t=>{if(NS.test(t)){const e=NS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uV(Object.entries(t.classGroups),n).forEach(([a,o])=>{lj(o,r,a,e)}),r},lj=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:SS(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(dV(i)){lj(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{lj(o,SS(e,a),n,r)})})},SS=(t,e)=>{let n=t;return e.split(yw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dV=t=>t.isThemeGetter,uV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,hV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},X4="!",mV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let p=l[v];if(d===0){if(p===i&&(r||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(p==="/"){h=v;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(u),y=m.startsWith(X4),b=y?m.substring(1):m,j=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:j}};return n?l=>n({className:l,parseClassName:o}):o},fV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pV=t=>({cache:hV(t.cacheSize),parseClassName:mV(t),...oV(t)}),xV=/\s+/,gV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(xV);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let b=!!y,j=r(b?m.substring(0,y):m);if(!j){if(!b){l=d+(l.length>0?" "+l:l);continue}if(j=r(m),!j){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=fV(u).join(":"),p=h?v+X4:v,x=p+j;if(a.includes(x))continue;a.push(x);const w=i(j,b);for(let N=0;N<w.length;++N){const _=w[N];a.push(p+_)}l=d+(l.length>0?" "+l:l)}return l};function yV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Z4(e))&&(r&&(r+=" "),r+=n);return r}const Z4=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Z4(t[r]))&&(n&&(n+=" "),n+=e);return n};function vV(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=pV(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=gV(c,n);return i(c,u),u}return function(){return a(yV.apply(null,arguments))}}const zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},J4=/^\[(?:([a-z-]+):)?(.+)\]$/i,jV=/^\d+\/\d+$/,bV=new Set(["px","full","screen"]),wV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Di=t=>bc(t)||bV.has(t)||jV.test(t),ba=t=>Rd(t,"length",IV),bc=t=>!!t&&!Number.isNaN(Number(t)),xy=t=>Rd(t,"number",bc),Xd=t=>!!t&&Number.isInteger(Number(t)),kV=t=>t.endsWith("%")&&bc(t.slice(0,-1)),dt=t=>J4.test(t),wa=t=>wV.test(t),PV=new Set(["length","size","percentage"]),TV=t=>Rd(t,PV,eF),EV=t=>Rd(t,"position",eF),AV=new Set(["image","url"]),FV=t=>Rd(t,AV,OV),RV=t=>Rd(t,"",DV),Zd=()=>!0,Rd=(t,e,n)=>{const r=J4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},IV=t=>NV.test(t)&&!SV.test(t),eF=()=>!1,DV=t=>CV.test(t),OV=t=>_V.test(t),MV=()=>{const t=zt("colors"),e=zt("spacing"),n=zt("blur"),r=zt("brightness"),i=zt("borderColor"),a=zt("borderRadius"),o=zt("borderSpacing"),l=zt("borderWidth"),c=zt("contrast"),d=zt("grayscale"),u=zt("hueRotate"),h=zt("invert"),m=zt("gap"),y=zt("gradientColorStops"),b=zt("gradientColorStopPositions"),j=zt("inset"),v=zt("margin"),p=zt("opacity"),x=zt("padding"),w=zt("saturate"),N=zt("scale"),_=zt("sepia"),C=zt("skew"),k=zt("space"),P=zt("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",dt,e],V=()=>[dt,e],Z=()=>["",Di,ba],se=()=>["auto",bc,dt],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",dt],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[bc,dt];return{cacheSize:500,separator:":",theme:{colors:[Zd],spacing:[Di,ba],blur:["none","",wa,dt],brightness:le(),borderColor:[t],borderRadius:["none","","full",wa,dt],borderSpacing:V(),borderWidth:Z(),contrast:le(),grayscale:F(),hueRotate:le(),invert:F(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[kV,ba],inset:L(),margin:L(),opacity:le(),padding:V(),saturate:le(),scale:le(),sepia:F(),skew:le(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),dt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xd,dt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Xd,dt]}],"grid-cols":[{"grid-cols":[Zd]}],"col-start-end":[{col:["auto",{span:["full",Xd,dt]},dt]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[Zd]}],"row-start-end":[{row:["auto",{span:[Xd,dt]},dt]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,e]}],"min-w":[{"min-w":[dt,e,"min","max","fit"]}],"max-w":[{"max-w":[dt,e,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xy]}],"font-family":[{font:[Zd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",bc,xy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Di,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Di,ba]}],"underline-offset":[{"underline-offset":["auto",Di,dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),EV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Di,dt]}],"outline-w":[{outline:[Di,ba]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Di,ba]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wa,RV]}],"shadow-color":[{shadow:[Zd]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wa,dt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Xd,dt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Di,ba,xy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LV=vV(MV);function Se(...t){return LV(U4(t))}const $V=DB,tF=f.forwardRef(({className:t,...e},n)=>s.jsx(R4,{ref:n,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tF.displayName=R4.displayName;const UV=mm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sF=f.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(I4,{ref:r,className:Se(UV({variant:e}),t),...n}));sF.displayName=I4.displayName;const BV=f.forwardRef(({className:t,...e},n)=>s.jsx(M4,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));BV.displayName=M4.displayName;const nF=f.forwardRef(({className:t,...e},n)=>s.jsx(L4,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(xm,{className:"h-4 w-4"})}));nF.displayName=L4.displayName;const rF=f.forwardRef(({className:t,...e},n)=>s.jsx(D4,{ref:n,className:Se("text-sm font-semibold",t),...e}));rF.displayName=D4.displayName;const iF=f.forwardRef(({className:t,...e},n)=>s.jsx(O4,{ref:n,className:Se("text-sm opacity-90",t),...e}));iF.displayName=O4.displayName;function VV(){const{toasts:t}=Bt();return s.jsxs($V,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(sF,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(rF,{children:n}),r&&s.jsx(iF,{children:r})]}),i,s.jsx(nF,{})]},e)}),s.jsx(tF,{})]})}var zV=cx[" useId ".trim().toString()]||(()=>{}),qV=0;function fr(t){const[e,n]=f.useState(zV());return hs(()=>{n(r=>r??String(qV++))},[t]),e?`radix-${e}`:""}const HV=["top","right","bottom","left"],io=Math.min,Wn=Math.max,xp=Math.round,Jm=Math.floor,bi=t=>({x:t,y:t}),WV={left:"right",right:"left",bottom:"top",top:"bottom"},KV={start:"end",end:"start"};function cj(t,e,n){return Wn(t,io(e,n))}function ua(t,e){return typeof t=="function"?t(e):t}function ha(t){return t.split("-")[0]}function Id(t){return t.split("-")[1]}function vw(t){return t==="x"?"y":"x"}function jw(t){return t==="y"?"height":"width"}const GV=new Set(["top","bottom"]);function gi(t){return GV.has(ha(t))?"y":"x"}function bw(t){return vw(gi(t))}function QV(t,e,n){n===void 0&&(n=!1);const r=Id(t),i=bw(t),a=jw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=gp(o)),[o,gp(o)]}function YV(t){const e=gp(t);return[dj(t),e,dj(e)]}function dj(t){return t.replace(/start|end/g,e=>KV[e])}const CS=["left","right"],_S=["right","left"],XV=["top","bottom"],ZV=["bottom","top"];function JV(t,e,n){switch(t){case"top":case"bottom":return n?e?_S:CS:e?CS:_S;case"left":case"right":return e?XV:ZV;default:return[]}}function ez(t,e,n,r){const i=Id(t);let a=JV(ha(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(dj)))),a}function gp(t){return t.replace(/left|right|bottom|top/g,e=>WV[e])}function tz(t){return{top:0,right:0,bottom:0,left:0,...t}}function aF(t){return typeof t!="number"?tz(t):{top:t,right:t,bottom:t,left:t}}function yp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function kS(t,e,n){let{reference:r,floating:i}=t;const a=gi(e),o=bw(e),l=jw(o),c=ha(e),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:u,y:r.y-i.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Id(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const sz=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=kS(d,r,c),m=r,y={},b=0;for(let j=0;j<l.length;j++){const{name:v,fn:p}=l[j],{x,y:w,data:N,reset:_}=await p({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});u=x??u,h=w??h,y={...y,[v]:{...y[v],...N}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:h}=kS(d,m,c)),j=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:y}};async function ah(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=ua(e,t),b=aF(y),v=l[m?h==="floating"?"reference":"floating":h],p=yp(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=yp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(p.top-_.top+b.top)/N.y,bottom:(_.bottom-p.bottom+b.bottom)/N.y,left:(p.left-_.left+b.left)/N.x,right:(_.right-p.right+b.right)/N.x}}const nz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=ua(t,e)||{};if(d==null)return{};const h=aF(u),m={x:n,y:r},y=bw(i),b=jw(y),j=await o.getDimensions(d),v=y==="y",p=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=a.reference[b]+a.reference[y]-m[y]-a.floating[b],_=m[y]-a.reference[y],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=C?C[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[w]||a.floating[b]);const P=N/2-_/2,M=k/2-j[b]/2-1,R=io(h[p],M),L=io(h[x],M),V=R,Z=k-j[b]-L,se=k/2-j[b]/2+P,E=cj(V,se,Z),K=!c.arrow&&Id(i)!=null&&se!==E&&a.reference[b]/2-(se<V?R:L)-j[b]/2<0,de=K?se<V?se-V:se-Z:0;return{[y]:m[y]+de,data:{[y]:E,centerOffset:se-E-de,...K&&{alignmentOffset:de}},reset:K}}}),rz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...v}=ua(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=ha(i),x=gi(l),w=ha(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(w||!j?[gp(l)]:YV(l)),C=b!=="none";!m&&C&&_.push(...ez(l,j,b,N));const k=[l,..._],P=await ah(e,v),M=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&M.push(P[p]),h){const se=QV(i,o,N);M.push(P[se[0]],P[se[1]])}if(R=[...R,{placement:i,overflows:M}],!M.every(se=>se<=0)){var L,V;const se=(((L=a.flip)==null?void 0:L.index)||0)+1,E=k[se];if(E&&(!(h==="alignment"?x!==gi(E):!1)||R.every(B=>gi(B.placement)===x?B.overflows[0]>0:!0)))return{data:{index:se,overflows:R},reset:{placement:E}};let K=(V=R.filter(de=>de.overflows[0]<=0).sort((de,B)=>de.overflows[1]-B.overflows[1])[0])==null?void 0:V.placement;if(!K)switch(y){case"bestFit":{var Z;const de=(Z=R.filter(B=>{if(C){const F=gi(B.placement);return F===x||F==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((B,F)=>B[1]-F[1])[0])==null?void 0:Z[0];de&&(K=de);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function PS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TS(t){return HV.some(e=>t[e]>=0)}const iz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ua(t,e);switch(r){case"referenceHidden":{const a=await ah(e,{...i,elementContext:"reference"}),o=PS(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TS(o)}}}case"escaped":{const a=await ah(e,{...i,altBoundary:!0}),o=PS(a,n.floating);return{data:{escapedOffsets:o,escaped:TS(o)}}}default:return{}}}}},oF=new Set(["left","top"]);async function az(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ha(n),l=Id(n),c=gi(n)==="y",d=oF.has(o)?-1:1,u=a&&c?-1:1,h=ua(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*u,y:m*d}:{x:m*d,y:y*u}}const oz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await az(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},lz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:p,y:x}=v;return{x:p,y:x}}},...c}=ua(t,e),d={x:n,y:r},u=await ah(e,c),h=gi(ha(i)),m=vw(h);let y=d[m],b=d[h];if(a){const v=m==="y"?"top":"left",p=m==="y"?"bottom":"right",x=y+u[v],w=y-u[p];y=cj(x,y,w)}if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",x=b+u[v],w=b-u[p];b=cj(x,b,w)}const j=l.fn({...e,[m]:y,[h]:b});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[m]:a,[h]:o}}}}}},cz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ua(t,e),u={x:n,y:r},h=gi(i),m=vw(h);let y=u[m],b=u[h];const j=ua(l,e),v=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(c){const w=m==="y"?"height":"width",N=a.reference[m]-a.floating[w]+v.mainAxis,_=a.reference[m]+a.reference[w]-v.mainAxis;y<N?y=N:y>_&&(y=_)}if(d){var p,x;const w=m==="y"?"width":"height",N=oF.has(ha(i)),_=a.reference[h]-a.floating[w]+(N&&((p=o.offset)==null?void 0:p[h])||0)+(N?0:v.crossAxis),C=a.reference[h]+a.reference[w]+(N?0:((x=o.offset)==null?void 0:x[h])||0)-(N?v.crossAxis:0);b<_?b=_:b>C&&(b=C)}return{[m]:y,[h]:b}}}},dz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=ua(t,e),u=await ah(e,d),h=ha(i),m=Id(i),y=gi(i)==="y",{width:b,height:j}=a.floating;let v,p;h==="top"||h==="bottom"?(v=h,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,v=m==="end"?"top":"bottom");const x=j-u.top-u.bottom,w=b-u.left-u.right,N=io(j-u[v],x),_=io(b-u[p],w),C=!e.middlewareData.shift;let k=N,P=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=x),C&&!m){const R=Wn(u.left,0),L=Wn(u.right,0),V=Wn(u.top,0),Z=Wn(u.bottom,0);y?P=b-2*(R!==0||L!==0?R+L:Wn(u.left,u.right)):k=j-2*(V!==0||Z!==0?V+Z:Wn(u.top,u.bottom))}await c({...e,availableWidth:P,availableHeight:k});const M=await o.getDimensions(l.floating);return b!==M.width||j!==M.height?{reset:{rects:!0}}:{}}}};function Ax(){return typeof window<"u"}function Dd(t){return lF(t)?(t.nodeName||"").toLowerCase():"#document"}function er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ei(t){var e;return(e=(lF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lF(t){return Ax()?t instanceof Node||t instanceof er(t).Node:!1}function Gr(t){return Ax()?t instanceof Element||t instanceof er(t).Element:!1}function Si(t){return Ax()?t instanceof HTMLElement||t instanceof er(t).HTMLElement:!1}function ES(t){return!Ax()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof er(t).ShadowRoot}const uz=new Set(["inline","contents"]);function gm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!uz.has(i)}const hz=new Set(["table","td","th"]);function mz(t){return hz.has(Dd(t))}const fz=[":popover-open",":modal"];function Fx(t){return fz.some(e=>{try{return t.matches(e)}catch{return!1}})}const pz=["transform","translate","scale","rotate","perspective"],xz=["transform","translate","scale","rotate","perspective","filter"],gz=["paint","layout","strict","content"];function ww(t){const e=Nw(),n=Gr(t)?Qr(t):t;return pz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xz.some(r=>(n.willChange||"").includes(r))||gz.some(r=>(n.contain||"").includes(r))}function yz(t){let e=ao(t);for(;Si(e)&&!gd(e);){if(ww(e))return e;if(Fx(e))return null;e=ao(e)}return null}function Nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vz=new Set(["html","body","#document"]);function gd(t){return vz.has(Dd(t))}function Qr(t){return er(t).getComputedStyle(t)}function Rx(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ao(t){if(Dd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ES(t)&&t.host||Ei(t);return ES(e)?e.host:e}function cF(t){const e=ao(t);return gd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Si(e)&&gm(e)?e:cF(e)}function oh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=cF(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=er(i);if(a){const l=uj(o);return e.concat(o,o.visualViewport||[],gm(i)?i:[],l&&n?oh(l):[])}return e.concat(i,oh(i,[],n))}function uj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dF(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Si(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=xp(n)!==a||xp(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Sw(t){return Gr(t)?t:t.contextElement}function wc(t){const e=Sw(t);if(!Si(e))return bi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=dF(e);let o=(a?xp(n.width):n.width)/r,l=(a?xp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jz=bi(0);function uF(t){const e=er(t);return!Nw()||!e.visualViewport?jz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==er(t)?!1:e}function bl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Sw(t);let o=bi(1);e&&(r?Gr(r)&&(o=wc(r)):o=wc(t));const l=bz(a,n,r)?uF(a):bi(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=er(a),y=r&&Gr(r)?er(r):r;let b=m,j=uj(b);for(;j&&r&&y!==b;){const v=wc(j),p=j.getBoundingClientRect(),x=Qr(j),w=p.left+(j.clientLeft+parseFloat(x.paddingLeft))*v.x,N=p.top+(j.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=N,b=er(j),j=uj(b)}}return yp({width:u,height:h,x:c,y:d})}function Ix(t,e){const n=Rx(t).scrollLeft;return e?e.left+n:bl(Ei(t)).left+n}function hF(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ix(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function wz(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Ei(r),l=e?Fx(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=bi(1);const u=bi(0),h=Si(r);if((h||!h&&!a)&&((Dd(r)!=="body"||gm(o))&&(c=Rx(r)),Si(r))){const y=bl(r);d=wc(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const m=o&&!h&&!a?hF(o,c):bi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function Nz(t){return Array.from(t.getClientRects())}function Sz(t){const e=Ei(t),n=Rx(t),r=t.ownerDocument.body,i=Wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ix(t);const l=-n.scrollTop;return Qr(r).direction==="rtl"&&(o+=Wn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const AS=25;function Cz(t,e){const n=er(t),r=Ei(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=Nw();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Ix(r);if(d<=0){const u=r.ownerDocument,h=u.body,m=getComputedStyle(h),y=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-y);b<=AS&&(a-=b)}else d<=AS&&(a+=d);return{width:a,height:o,x:l,y:c}}const _z=new Set(["absolute","fixed"]);function kz(t,e){const n=bl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Si(t)?wc(t):bi(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function FS(t,e,n){let r;if(e==="viewport")r=Cz(t,n);else if(e==="document")r=Sz(Ei(t));else if(Gr(e))r=kz(e,n);else{const i=uF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yp(r)}function mF(t,e){const n=ao(t);return n===e||!Gr(n)||gd(n)?!1:Qr(n).position==="fixed"||mF(n,e)}function Pz(t,e){const n=e.get(t);if(n)return n;let r=oh(t,[],!1).filter(l=>Gr(l)&&Dd(l)!=="body"),i=null;const a=Qr(t).position==="fixed";let o=a?ao(t):t;for(;Gr(o)&&!gd(o);){const l=Qr(o),c=ww(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&_z.has(i.position)||gm(o)&&!c&&mF(t,o))?r=r.filter(u=>u!==o):i=l,o=ao(o)}return e.set(t,r),r}function Tz(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Fx(e)?[]:Pz(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=FS(e,u,i);return d.top=Wn(h.top,d.top),d.right=io(h.right,d.right),d.bottom=io(h.bottom,d.bottom),d.left=Wn(h.left,d.left),d},FS(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ez(t){const{width:e,height:n}=dF(t);return{width:e,height:n}}function Az(t,e,n){const r=Si(e),i=Ei(e),a=n==="fixed",o=bl(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=bi(0);function d(){c.x=Ix(i)}if(r||!r&&!a)if((Dd(e)!=="body"||gm(i))&&(l=Rx(e)),r){const y=bl(e,!0,a,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();a&&!r&&i&&d();const u=i&&!r&&!a?hF(i,l):bi(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function gy(t){return Qr(t).position==="static"}function RS(t,e){if(!Si(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ei(t)===n&&(n=n.ownerDocument.body),n}function fF(t,e){const n=er(t);if(Fx(t))return n;if(!Si(t)){let i=ao(t);for(;i&&!gd(i);){if(Gr(i)&&!gy(i))return i;i=ao(i)}return n}let r=RS(t,e);for(;r&&mz(r)&&gy(r);)r=RS(r,e);return r&&gd(r)&&gy(r)&&!ww(r)?n:r||yz(t)||n}const Fz=async function(t){const e=this.getOffsetParent||fF,n=this.getDimensions,r=await n(t.floating);return{reference:Az(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rz(t){return Qr(t).direction==="rtl"}const Iz={convertOffsetParentRelativeRectToViewportRelativeRect:wz,getDocumentElement:Ei,getClippingRect:Tz,getOffsetParent:fF,getElementRects:Fz,getClientRects:Nz,getDimensions:Ez,getScale:wc,isElement:Gr,isRTL:Rz};function pF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dz(t,e){let n=null,r;const i=Ei(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:y}=d;if(l||e(),!m||!y)return;const b=Jm(h),j=Jm(i.clientWidth-(u+m)),v=Jm(i.clientHeight-(h+y)),p=Jm(u),w={rootMargin:-b+"px "+-j+"px "+-v+"px "+-p+"px",threshold:Wn(0,io(1,c))||1};let N=!0;function _(C){const k=C[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!pF(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(t)}return o(!0),a}function Oz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Sw(t),u=i||a?[...d?oh(d):[],...oh(e)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const h=d&&l?Dz(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(p=>{let[x]=p;x&&x.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let b,j=c?bl(t):null;c&&v();function v(){const p=bl(t);j&&!pF(j,p)&&n(),j=p,b=requestAnimationFrame(v)}return n(),()=>{var p;u.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const Mz=oz,Lz=lz,$z=rz,Uz=dz,Bz=iz,IS=nz,Vz=cz,zz=(t,e,n)=>{const r=new Map,i={platform:Iz,...n},a={...i.platform,_c:r};return sz(t,e,{...i,platform:a})};var qz=typeof document<"u",Hz=function(){},Af=qz?f.useLayoutEffect:Hz;function vp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!vp(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function xF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DS(t,e){const n=xF(t);return Math.round(e*n)/n}function yy(t){const e=f.useRef(t);return Af(()=>{e.current=t}),e}function Wz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=f.useState(r);vp(m,r)||y(r);const[b,j]=f.useState(null),[v,p]=f.useState(null),x=f.useCallback(B=>{B!==C.current&&(C.current=B,j(B))},[]),w=f.useCallback(B=>{B!==k.current&&(k.current=B,p(B))},[]),N=a||b,_=o||v,C=f.useRef(null),k=f.useRef(null),P=f.useRef(u),M=c!=null,R=yy(c),L=yy(i),V=yy(d),Z=f.useCallback(()=>{if(!C.current||!k.current)return;const B={placement:e,strategy:n,middleware:m};L.current&&(B.platform=L.current),zz(C.current,k.current,B).then(F=>{const D={...F,isPositioned:V.current!==!1};se.current&&!vp(P.current,D)&&(P.current=D,Rl.flushSync(()=>{h(D)}))})},[m,e,n,L,V]);Af(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[d]);const se=f.useRef(!1);Af(()=>(se.current=!0,()=>{se.current=!1}),[]),Af(()=>{if(N&&(C.current=N),_&&(k.current=_),N&&_){if(R.current)return R.current(N,_,Z);Z()}},[N,_,Z,R,M]);const E=f.useMemo(()=>({reference:C,floating:k,setReference:x,setFloating:w}),[x,w]),K=f.useMemo(()=>({reference:N,floating:_}),[N,_]),de=f.useMemo(()=>{const B={position:n,left:0,top:0};if(!K.floating)return B;const F=DS(K.floating,u.x),D=DS(K.floating,u.y);return l?{...B,transform:"translate("+F+"px, "+D+"px)",...xF(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,l,K.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:Z,refs:E,elements:K,floatingStyles:de}),[u,Z,E,K,de])}const Kz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?IS({element:r.current,padding:i}).fn(n):{}:r?IS({element:r,padding:i}).fn(n):{}}}},Gz=(t,e)=>({...Mz(t),options:[t,e]}),Qz=(t,e)=>({...Lz(t),options:[t,e]}),Yz=(t,e)=>({...Vz(t),options:[t,e]}),Xz=(t,e)=>({...$z(t),options:[t,e]}),Zz=(t,e)=>({...Uz(t),options:[t,e]}),Jz=(t,e)=>({...Bz(t),options:[t,e]}),e9=(t,e)=>({...Kz(t),options:[t,e]});var t9="Arrow",gF=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Be.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gF.displayName=t9;var s9=gF;function Cw(t){const[e,n]=f.useState(void 0);return hs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _w="Popper",[yF,Od]=_n(_w),[n9,vF]=yF(_w),jF=t=>{const{__scopePopper:e,children:n}=t,[r,i]=f.useState(null);return s.jsx(n9,{scope:e,anchor:r,onAnchorChange:i,children:n})};jF.displayName=_w;var bF="PopperAnchor",wF=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=vF(bF,n),o=f.useRef(null),l=it(e,o),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(Be.div,{...i,ref:l})});wF.displayName=bF;var kw="PopperContent",[r9,i9]=yF(kw),NF=f.forwardRef((t,e)=>{var je,$e,nt,Je,Me,pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...j}=t,v=vF(kw,n),[p,x]=f.useState(null),w=it(e,He=>x(He)),[N,_]=f.useState(null),C=Cw(N),k=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,M=r+(a!=="center"?"-"+a:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],V=L.length>0,Z={padding:R,boundary:L.filter(o9),altBoundary:V},{refs:se,floatingStyles:E,placement:K,isPositioned:de,middlewareData:B}=Wz({strategy:"fixed",placement:M,whileElementsMounted:(...He)=>Oz(...He,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[Gz({mainAxis:i+P,alignmentAxis:o}),c&&Qz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Yz():void 0,...Z}),c&&Xz({...Z}),Zz({...Z,apply:({elements:He,rects:ct,availableWidth:Dt,availableHeight:Zt})=>{const{width:Vt,height:Pn}=ct.reference,js=He.floating.style;js.setProperty("--radix-popper-available-width",`${Dt}px`),js.setProperty("--radix-popper-available-height",`${Zt}px`),js.setProperty("--radix-popper-anchor-width",`${Vt}px`),js.setProperty("--radix-popper-anchor-height",`${Pn}px`)}}),N&&e9({element:N,padding:l}),l9({arrowWidth:k,arrowHeight:P}),m&&Jz({strategy:"referenceHidden",...Z})]}),[F,D]=_F(K),le=ds(b);hs(()=>{de&&(le==null||le())},[de,le]);const fe=(je=B.arrow)==null?void 0:je.x,qe=($e=B.arrow)==null?void 0:$e.y,Ke=((nt=B.arrow)==null?void 0:nt.centerOffset)!==0,[Ct,st]=f.useState();return hs(()=>{p&&st(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:de?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ct,"--radix-popper-transform-origin":[(Je=B.transformOrigin)==null?void 0:Je.x,(Me=B.transformOrigin)==null?void 0:Me.y].join(" "),...((pe=B.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(r9,{scope:n,placedSide:F,onArrowChange:_,arrowX:fe,arrowY:qe,shouldHideArrow:Ke,children:s.jsx(Be.div,{"data-side":F,"data-align":D,...j,ref:w,style:{...j.style,animation:de?void 0:"none"}})})})});NF.displayName=kw;var SF="PopperArrow",a9={top:"bottom",right:"left",bottom:"top",left:"right"},CF=f.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=i9(SF,r),o=a9[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(s9,{...i,ref:n,style:{...i.style,display:"block"}})})});CF.displayName=SF;function o9(t){return t!==null}var l9=t=>({name:"transformOrigin",options:t,fn(e){var v,p,x;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=_F(n),h={start:"0%",center:"50%",end:"100%"}[u],m=(((p=i.arrow)==null?void 0:p.x)??0)+l/2,y=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let b="",j="";return d==="bottom"?(b=o?h:`${m}px`,j=`${-c}px`):d==="top"?(b=o?h:`${m}px`,j=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,j=o?h:`${y}px`):d==="left"&&(b=`${r.floating.width+c}px`,j=o?h:`${y}px`),{data:{x:b,y:j}}}});function _F(t){const[e,n="center"]=t.split("-");return[e,n]}var Pw=jF,Tw=wF,Ew=NF,Aw=CF,c9=Symbol("radix.slottable");function d9(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=c9,e}var[Dx]=_n("Tooltip",[Od]),Ox=Od(),kF="TooltipProvider",u9=700,hj="tooltip.open",[h9,Fw]=Dx(kF),PF=t=>{const{__scopeTooltip:e,delayDuration:n=u9,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(h9,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};PF.displayName=kF;var lh="Tooltip",[m9,Mx]=Dx(lh),TF=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=Fw(lh,t.__scopeTooltip),d=Ox(e),[u,h]=f.useState(null),m=fr(),y=f.useRef(0),b=o??c.disableHoverableContent,j=l??c.delayDuration,v=f.useRef(!1),[p,x]=Kr({prop:r,defaultProp:i??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(hj))):c.onClose(),a==null||a(k)},caller:lh}),w=f.useMemo(()=>p?v.current?"delayed-open":"instant-open":"closed",[p]),N=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v.current=!1,x(!0)},[x]),_=f.useCallback(()=>{window.clearTimeout(y.current),y.current=0,x(!1)},[x]),C=f.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{v.current=!0,x(!0),y.current=0},j)},[j,x]);return f.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),s.jsx(Pw,{...d,children:s.jsx(m9,{scope:e,contentId:m,open:p,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?C():N()},[c.isOpenDelayedRef,C,N]),onTriggerLeave:f.useCallback(()=>{b?_():(window.clearTimeout(y.current),y.current=0)},[_,b]),onOpen:N,onClose:_,disableHoverableContent:b,children:n})})};TF.displayName=lh;var mj="TooltipTrigger",EF=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Mx(mj,n),a=Fw(mj,n),o=Ox(n),l=f.useRef(null),c=it(e,l,i.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Tw,{asChild:!0,...o,children:s.jsx(Be.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:be(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:be(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:be(t.onBlur,i.onClose),onClick:be(t.onClick,i.onClose)})})});EF.displayName=mj;var f9="TooltipPortal",[Qse,p9]=Dx(f9,{forceMount:void 0}),yd="TooltipContent",AF=f.forwardRef((t,e)=>{const n=p9(yd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=Mx(yd,t.__scopeTooltip);return s.jsx(Js,{present:r||o.open,children:o.disableHoverableContent?s.jsx(FF,{side:i,...a,ref:e}):s.jsx(x9,{side:i,...a,ref:e})})}),x9=f.forwardRef((t,e)=>{const n=Mx(yd,t.__scopeTooltip),r=Fw(yd,t.__scopeTooltip),i=f.useRef(null),a=it(e,i),[o,l]=f.useState(null),{trigger:c,onClose:d}=n,u=i.current,{onPointerInTransitChange:h}=r,m=f.useCallback(()=>{l(null),h(!1)},[h]),y=f.useCallback((b,j)=>{const v=b.currentTarget,p={x:b.clientX,y:b.clientY},x=b9(p,v.getBoundingClientRect()),w=w9(p,x),N=N9(j.getBoundingClientRect()),_=C9([...w,...N]);l(_),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const b=v=>y(v,u),j=v=>y(v,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",j),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",j)}}},[c,u,y,m]),f.useEffect(()=>{if(o){const b=j=>{const v=j.target,p={x:j.clientX,y:j.clientY},x=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!S9(p,o);x?m():w&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,m]),s.jsx(FF,{...t,ref:a})}),[g9,y9]=Dx(lh,{isInside:!1}),v9=d9("TooltipContent"),FF=f.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Mx(yd,n),d=Ox(n),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(hj,u),()=>document.removeEventListener(hj,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(Ew,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(v9,{children:r}),s.jsx(g9,{scope:n,isInside:!0,children:s.jsx(gB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});AF.displayName=yd;var RF="TooltipArrow",j9=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ox(n);return y9(RF,n).isInside?null:s.jsx(Aw,{...i,...r,ref:e})});j9.displayName=RF;function b9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function w9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function N9(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function S9(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function C9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_9(e)}function _9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var k9=PF,P9=TF,T9=EF,IF=AF;const E9=k9,Na=P9,Sa=T9,Li=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(IF,{ref:r,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Li.displayName=IF.displayName;const DF=f.createContext(void 0);function A9({children:t,defaultTheme:e="light"}){const[n,r]=f.useState(()=>localStorage.getItem("theme")||e);f.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(n),localStorage.setItem("theme",n)},[n]);const i={theme:n,setTheme:r};return s.jsx(DF.Provider,{value:i,children:t})}function F9(){const t=f.useContext(DF);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}var R9=Symbol.for("react.lazy"),jp=cx[" use ".trim().toString()];function I9(t){return typeof t=="object"&&t!==null&&"then"in t}function OF(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===R9&&"_payload"in t&&I9(t._payload)}function ym(t){const e=D9(t),n=f.forwardRef((r,i)=>{let{children:a,...o}=r;OF(a)&&typeof jp=="function"&&(a=jp(a._payload));const l=f.Children.toArray(a),c=l.find(M9);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var MF=ym("Slot");function D9(t){const e=f.forwardRef((n,r)=>{let{children:i,...a}=n;if(OF(i)&&typeof jp=="function"&&(i=jp(i._payload)),f.isValidElement(i)){const o=$9(i),l=L9(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var O9=Symbol("radix.slottable");function M9(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O9}function L9(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function $9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Rw=mm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),O=f.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?MF:"button";return s.jsx(o,{className:Se(Rw({variant:e,size:n,className:t})),ref:a,...i})});O.displayName="Button";const U9=mm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Q({className:t,variant:e,...n}){return s.jsx("div",{className:Se(U9({variant:e}),t),...n})}function B9(){const{theme:t,setTheme:e}=F9();return s.jsxs(O,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[s.jsx(nV,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(QB,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}function ln(){const{data:t,isLoading:e}=Ve({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function V9(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:y,...b}=h,j=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,v=f.useMemo(()=>b,Object.values(b));return s.jsx(j.Provider,{value:v,children:y})};d.displayName=a+"Provider";function u(h,m){var j;const y=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,b=f.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,z9(i,...e)]}function z9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var q9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Iw=q9.reduce((t,e)=>{const n=ym(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function H9(){return GA.useSyncExternalStore(W9,()=>!0,()=>!1)}function W9(){return()=>{}}var Dw="Avatar",[K9]=V9(Dw),[G9,LF]=K9(Dw),$F=f.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=f.useState("idle");return s.jsx(G9,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Iw.span,{...r,ref:e})})});$F.displayName=Dw;var UF="AvatarImage",BF=f.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=LF(UF,n),l=Q9(r,a),c=ds(d=>{i(d),o.onImageLoadingStatusChange(d)});return hs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Iw.img,{...a,ref:e,src:r}):null});BF.displayName=UF;var VF="AvatarFallback",zF=f.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=LF(VF,n),[o,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Iw.span,{...i,ref:e}):null});zF.displayName=VF;function OS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Q9(t,{referrerPolicy:e,crossOrigin:n}){const r=H9(),i=f.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=f.useState(()=>OS(a,t));return hs(()=>{l(OS(a,t))},[a,t]),hs(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,n,e]),o}var qF=$F,HF=BF,WF=zF;const Ci=f.forwardRef(({className:t,...e},n)=>s.jsx(qF,{ref:n,className:Se(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Ci.displayName=qF.displayName;const _i=f.forwardRef(({className:t,...e},n)=>s.jsx(HF,{ref:n,className:Se("aspect-square h-full w-full",t),...e}));_i.displayName=HF.displayName;const ki=f.forwardRef(({className:t,...e},n)=>s.jsx(WF,{ref:n,className:Se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ki.displayName=WF.displayName;var Y9=f.createContext(void 0);function vm(t){const e=f.useContext(Y9);return t||e||"ltr"}var vy=0;function Ow(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MS()),document.body.insertAdjacentElement("beforeend",t[1]??MS()),vy++,()=>{vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vy--}},[])}function MS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jy="focusScope.autoFocusOnMount",by="focusScope.autoFocusOnUnmount",LS={bubbles:!1,cancelable:!0},X9="FocusScope",Lx=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=f.useState(null),d=ds(i),u=ds(a),h=f.useRef(null),m=it(e,j=>c(j)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let j=function(w){if(y.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:_a(h.current,{select:!0})},v=function(w){if(y.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||_a(h.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&_a(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",v);const x=new MutationObserver(p);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",v),x.disconnect()}}},[r,l,y.paused]),f.useEffect(()=>{if(l){US.add(y);const j=document.activeElement;if(!l.contains(j)){const p=new CustomEvent(jy,LS);l.addEventListener(jy,d),l.dispatchEvent(p),p.defaultPrevented||(Z9(n7(KF(l)),{select:!0}),document.activeElement===j&&_a(l))}return()=>{l.removeEventListener(jy,d),setTimeout(()=>{const p=new CustomEvent(by,LS);l.addEventListener(by,u),l.dispatchEvent(p),p.defaultPrevented||_a(j??document.body,{select:!0}),l.removeEventListener(by,u),US.remove(y)},0)}}},[l,d,u,y]);const b=f.useCallback(j=>{if(!n&&!r||y.paused)return;const v=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,p=document.activeElement;if(v&&p){const x=j.currentTarget,[w,N]=J9(x);w&&N?!j.shiftKey&&p===N?(j.preventDefault(),n&&_a(w,{select:!0})):j.shiftKey&&p===w&&(j.preventDefault(),n&&_a(N,{select:!0})):p===x&&j.preventDefault()}},[n,r,y.paused]);return s.jsx(Be.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});Lx.displayName=X9;function Z9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_a(r,{select:e}),document.activeElement!==n)return}function J9(t){const e=KF(t),n=$S(e,t),r=$S(e.reverse(),t);return[n,r]}function KF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $S(t,e){for(const n of t)if(!e7(n,{upTo:e}))return n}function e7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function t7(t){return t instanceof HTMLInputElement&&"select"in t}function _a(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&t7(t)&&e&&t.select()}}var US=s7();function s7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BS(t,e),t.unshift(e)},remove(e){var n;t=BS(t,e),(n=t[0])==null||n.resume()}}}function BS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function n7(t){return t.filter(e=>e.tagName!=="A")}var wy="rovingFocusGroup.onEntryFocus",r7={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[fj,GF,i7]=kx(jm),[a7,$x]=_n(jm,[i7]),[o7,l7]=a7(jm),QF=f.forwardRef((t,e)=>s.jsx(fj.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(fj.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(c7,{...t,ref:e})})}));QF.displayName=jm;var c7=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=f.useRef(null),y=it(e,m),b=vm(a),[j,v]=Kr({prop:o,defaultProp:l??null,onChange:c,caller:jm}),[p,x]=f.useState(!1),w=ds(d),N=GF(n),_=f.useRef(!1),[C,k]=f.useState(0);return f.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(wy,w),()=>P.removeEventListener(wy,w)},[w]),s.jsx(o7,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:j,onItemFocus:f.useCallback(P=>v(P),[v]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:f.useCallback(()=>k(P=>P-1),[]),children:s.jsx(Be.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{_.current=!0}),onFocus:be(t.onFocus,P=>{const M=!_.current;if(P.target===P.currentTarget&&M&&!p){const R=new CustomEvent(wy,r7);if(P.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=N().filter(K=>K.focusable),V=L.find(K=>K.active),Z=L.find(K=>K.id===j),E=[V,Z,...L].filter(Boolean).map(K=>K.ref.current);ZF(E,u)}}_.current=!1}),onBlur:be(t.onBlur,()=>x(!1))})})}),YF="RovingFocusGroupItem",XF=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=fr(),d=a||c,u=l7(YF,n),h=u.currentTabStopId===d,m=GF(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:j}=u;return f.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),s.jsx(fj.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,v=>{r?u.onItemFocus(d):v.preventDefault()}),onFocus:be(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:be(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=h7(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=u.loop?m7(w,N+1):w.slice(N+1)}setTimeout(()=>ZF(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:j!=null}):o})})});XF.displayName=YF;var d7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function u7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h7(t,e,n){const r=u7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return d7[r]}function ZF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function m7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JF=QF,eR=XF;function f7(t){const e=p7(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(g7);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function p7(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=v7(i),l=y7(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var x7=Symbol("radix.slottable");function g7(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===x7}function y7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function v7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var j7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,ef=new WeakMap,tf={},Ny=0,tR=function(t){return t&&(t.host||tR(t.parentNode))},b7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},w7=function(t,e,n,r){var i=b7(e,Array.isArray(t)?t:[t]);tf[n]||(tf[n]=new WeakMap);var a=tf[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var y=m.getAttribute(r),b=y!==null&&y!=="false",j=(Wl.get(m)||0)+1,v=(a.get(m)||0)+1;Wl.set(m,j),a.set(m,v),o.push(m),j===1&&b&&ef.set(m,!0),v===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return u(e),l.clear(),Ny++,function(){o.forEach(function(h){var m=Wl.get(h)-1,y=a.get(h)-1;Wl.set(h,m),a.set(h,y),m||(ef.has(h)||h.removeAttribute(r),ef.delete(h)),y||h.removeAttribute(n)}),Ny--,Ny||(Wl=new WeakMap,Wl=new WeakMap,ef=new WeakMap,tf={})}},Mw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=j7(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),w7(r,i,n,"aria-hidden")):function(){return null}},xi=function(){return xi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xi.apply(this,arguments)};function sR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Ff="right-scroll-bar-position",Rf="width-before-scroll-bar",S7="with-scroll-bars-hidden",C7="--removed-body-scroll-bar-size";function Sy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _7(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var k7=typeof window<"u"?f.useLayoutEffect:f.useEffect,VS=new WeakMap;function P7(t,e){var n=_7(null,function(r){return t.forEach(function(i){return Sy(i,r)})});return k7(function(){var r=VS.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||Sy(l,null)}),a.forEach(function(l){i.has(l)||Sy(l,o)})}VS.set(n,t)},[t]),n}function T7(t){return t}function E7(t,e){e===void 0&&(e=T7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return i}function A7(t){t===void 0&&(t={});var e=E7(null);return e.options=xi({async:!0,ssr:!1},t),e}var nR=function(t){var e=t.sideCar,n=sR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,xi({},n))};nR.isSideCarExport=!0;function F7(t,e){return t.useMedium(e),nR}var rR=A7(),Cy=function(){},Ux=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:Cy,onWheelCapture:Cy,onTouchMoveCapture:Cy}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,y=t.noRelative,b=t.noIsolation,j=t.inert,v=t.allowPinchZoom,p=t.as,x=p===void 0?"div":p,w=t.gapMode,N=sR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=P7([n,e]),k=xi(xi({},N),i);return f.createElement(f.Fragment,null,u&&f.createElement(_,{sideCar:rR,removeScrollBar:d,shards:h,noRelative:y,noIsolation:b,inert:j,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?f.cloneElement(f.Children.only(l),xi(xi({},k),{ref:C})):f.createElement(x,xi({},k,{className:c,ref:C}),l))});Ux.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ux.classNames={fullWidth:Rf,zeroRight:Ff};var R7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R7();return e&&t.setAttribute("nonce",e),t}function D7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=I7())&&(D7(e,n),O7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},L7=function(){var t=M7();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iR=function(){var t=L7(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$7={left:0,top:0,right:0,gap:0},_y=function(t){return parseInt(t||"",10)||0},U7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[_y(n),_y(r),_y(i)]},B7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $7;var e=U7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},V7=iR(),Nc="data-scroll-locked",z7=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(S7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Nc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ff,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rf," .").concat(Rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nc,`] {
    `).concat(C7,": ").concat(l,`px;
  }
`)},zS=function(){var t=parseInt(document.body.getAttribute(Nc)||"0",10);return isFinite(t)?t:0},q7=function(){f.useEffect(function(){return document.body.setAttribute(Nc,(zS()+1).toString()),function(){var t=zS()-1;t<=0?document.body.removeAttribute(Nc):document.body.setAttribute(Nc,t.toString())}},[])},H7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;q7();var a=f.useMemo(function(){return B7(i)},[i]);return f.createElement(V7,{styles:z7(a,!e,i,n?"":"!important")})},pj=!1;if(typeof window<"u")try{var sf=Object.defineProperty({},"passive",{get:function(){return pj=!0,!0}});window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{pj=!1}var Kl=pj?{passive:!1}:!1,W7=function(t){return t.tagName==="TEXTAREA"},aR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!W7(t)&&n[e]==="visible")},K7=function(t){return aR(t,"overflowY")},G7=function(t){return aR(t,"overflowX")},qS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oR(t,r);if(i){var a=lR(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oR=function(t,e){return t==="v"?K7(e):G7(e)},lR=function(t,e){return t==="v"?Q7(e):Y7(e)},X7=function(t,e){return t==="h"&&e==="rtl"?-1:1},Z7=function(t,e,n,r,i){var a=X7(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var y=lR(t,l),b=y[0],j=y[1],v=y[2],p=j-v-a*b;(b||p)&&oR(t,l)&&(h+=p,m+=b);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},nf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HS=function(t){return[t.deltaX,t.deltaY]},WS=function(t){return t&&"current"in t?t.current:t},J7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tq=0,Gl=[];function sq(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(tq++)[0],a=f.useState(iR)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=N7([t.lockRef.current],(t.shards||[]).map(WS),!0).filter(Boolean);return j.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(j,v){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var p=nf(j),x=n.current,w="deltaX"in j?j.deltaX:x[0]-p[0],N="deltaY"in j?j.deltaY:x[1]-p[1],_,C=j.target,k=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in j&&k==="h"&&C.type==="range")return!1;var P=window.getSelection(),M=P&&P.anchorNode,R=M?M===C||M.contains(C):!1;if(R)return!1;var L=qS(k,C);if(!L)return!0;if(L?_=k:(_=k==="v"?"h":"v",L=qS(k,C)),!L)return!1;if(!r.current&&"changedTouches"in j&&(w||N)&&(r.current=_),!_)return!0;var V=r.current||_;return Z7(V,v,j,V==="h"?w:N)},[]),c=f.useCallback(function(j){var v=j;if(!(!Gl.length||Gl[Gl.length-1]!==a)){var p="deltaY"in v?HS(v):nf(v),x=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&J7(_.delta,p)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(WS).filter(Boolean).filter(function(_){return _.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),d=f.useCallback(function(j,v,p,x){var w={name:j,delta:v,target:p,should:x,shadowParent:nq(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),u=f.useCallback(function(j){n.current=nf(j),r.current=void 0},[]),h=f.useCallback(function(j){d(j.type,HS(j),j.target,l(j,t.lockRef.current))},[]),m=f.useCallback(function(j){d(j.type,nf(j),j.target,l(j,t.lockRef.current))},[]);f.useEffect(function(){return Gl.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Kl),document.addEventListener("touchmove",c,Kl),document.addEventListener("touchstart",u,Kl),function(){Gl=Gl.filter(function(j){return j!==a}),document.removeEventListener("wheel",c,Kl),document.removeEventListener("touchmove",c,Kl),document.removeEventListener("touchstart",u,Kl)}},[]);var y=t.removeScrollBar,b=t.inert;return f.createElement(f.Fragment,null,b?f.createElement(a,{styles:eq(i)}):null,y?f.createElement(H7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rq=F7(rR,sq);var Bx=f.forwardRef(function(t,e){return f.createElement(Ux,xi({},t,{ref:e,sideCar:rq}))});Bx.classNames=Ux.classNames;var xj=["Enter"," "],iq=["ArrowDown","PageUp","Home"],cR=["ArrowUp","PageDown","End"],aq=[...iq,...cR],oq={ltr:[...xj,"ArrowRight"],rtl:[...xj,"ArrowLeft"]},lq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bm="Menu",[ch,cq,dq]=kx(bm),[Dl,dR]=_n(bm,[dq,Od,$x]),Vx=Od(),uR=$x(),[uq,Ol]=Dl(bm),[hq,wm]=Dl(bm),hR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=Vx(e),[c,d]=f.useState(null),u=f.useRef(!1),h=ds(a),m=vm(i);return f.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(Pw,{...l,children:s.jsx(uq,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(hq,{scope:e,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};hR.displayName=bm;var mq="MenuAnchor",Lw=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Vx(n);return s.jsx(Tw,{...i,...r,ref:e})});Lw.displayName=mq;var $w="MenuPortal",[fq,mR]=Dl($w,{forceMount:void 0}),fR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Ol($w,e);return s.jsx(fq,{scope:e,forceMount:n,children:s.jsx(Js,{present:n||a.open,children:s.jsx(um,{asChild:!0,container:i,children:r})})})};fR.displayName=$w;var pr="MenuContent",[pq,Uw]=Dl(pr),pR=f.forwardRef((t,e)=>{const n=mR(pr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ol(pr,t.__scopeMenu),o=wm(pr,t.__scopeMenu);return s.jsx(ch.Provider,{scope:t.__scopeMenu,children:s.jsx(Js,{present:r||a.open,children:s.jsx(ch.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(xq,{...i,ref:e}):s.jsx(gq,{...i,ref:e})})})})}),xq=f.forwardRef((t,e)=>{const n=Ol(pr,t.__scopeMenu),r=f.useRef(null),i=it(e,r);return f.useEffect(()=>{const a=r.current;if(a)return Mw(a)},[]),s.jsx(Bw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gq=f.forwardRef((t,e)=>{const n=Ol(pr,t.__scopeMenu);return s.jsx(Bw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yq=f7("MenuContent.ScrollLock"),Bw=f.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...j}=t,v=Ol(pr,n),p=wm(pr,n),x=Vx(n),w=uR(n),N=cq(n),[_,C]=f.useState(null),k=f.useRef(null),P=it(e,k,v.onContentChange),M=f.useRef(0),R=f.useRef(""),L=f.useRef(0),V=f.useRef(null),Z=f.useRef("right"),se=f.useRef(0),E=b?Bx:f.Fragment,K=b?{as:yq,allowPinchZoom:!0}:void 0,de=F=>{var je,$e;const D=R.current+F,le=N().filter(nt=>!nt.disabled),fe=document.activeElement,qe=(je=le.find(nt=>nt.ref.current===fe))==null?void 0:je.textValue,Ke=le.map(nt=>nt.textValue),Ct=Eq(Ke,D,qe),st=($e=le.find(nt=>nt.textValue===Ct))==null?void 0:$e.ref.current;(function nt(Je){R.current=Je,window.clearTimeout(M.current),Je!==""&&(M.current=window.setTimeout(()=>nt(""),1e3))})(D),st&&setTimeout(()=>st.focus())};f.useEffect(()=>()=>window.clearTimeout(M.current),[]),Ow();const B=f.useCallback(F=>{var le,fe;return Z.current===((le=V.current)==null?void 0:le.side)&&Fq(F,(fe=V.current)==null?void 0:fe.area)},[]);return s.jsx(pq,{scope:n,searchRef:R,onItemEnter:f.useCallback(F=>{B(F)&&F.preventDefault()},[B]),onItemLeave:f.useCallback(F=>{var D;B(F)||((D=k.current)==null||D.focus(),C(null))},[B]),onTriggerLeave:f.useCallback(F=>{B(F)&&F.preventDefault()},[B]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(F=>{V.current=F},[]),children:s.jsx(E,{...K,children:s.jsx(Lx,{asChild:!0,trapped:i,onMountAutoFocus:be(a,F=>{var D;F.preventDefault(),(D=k.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:y,children:s.jsx(JF,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:be(c,F=>{p.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ew,{role:"menu","aria-orientation":"vertical","data-state":AR(v.open),"data-radix-menu-content":"",dir:p.dir,...x,...j,ref:P,style:{outline:"none",...j.style},onKeyDown:be(j.onKeyDown,F=>{const le=F.target.closest("[data-radix-menu-content]")===F.currentTarget,fe=F.ctrlKey||F.altKey||F.metaKey,qe=F.key.length===1;le&&(F.key==="Tab"&&F.preventDefault(),!fe&&qe&&de(F.key));const Ke=k.current;if(F.target!==Ke||!aq.includes(F.key))return;F.preventDefault();const st=N().filter(je=>!je.disabled).map(je=>je.ref.current);cR.includes(F.key)&&st.reverse(),Pq(st)}),onBlur:be(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(M.current),R.current="")}),onPointerMove:be(t.onPointerMove,dh(F=>{const D=F.target,le=se.current!==F.clientX;if(F.currentTarget.contains(D)&&le){const fe=F.clientX>se.current?"right":"left";Z.current=fe,se.current=F.clientX}}))})})})})})})});pR.displayName=pr;var vq="MenuGroup",Vw=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Be.div,{role:"group",...r,ref:e})});Vw.displayName=vq;var jq="MenuLabel",xR=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Be.div,{...r,ref:e})});xR.displayName=jq;var bp="MenuItem",KS="menu.itemSelect",zx=f.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=f.useRef(null),o=wm(bp,t.__scopeMenu),l=Uw(bp,t.__scopeMenu),c=it(e,a),d=f.useRef(!1),u=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(KS,{bubbles:!0,cancelable:!0});h.addEventListener(KS,y=>r==null?void 0:r(y),{once:!0}),hw(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(gR,{...i,ref:c,disabled:n,onClick:be(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:be(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:be(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||xj.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});zx.displayName=bp;var gR=f.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=Uw(bp,n),l=uR(n),c=f.useRef(null),d=it(e,c),[u,h]=f.useState(!1),[m,y]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&y((b.textContent??"").trim())},[a.children]),s.jsx(ch.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(eR,{asChild:!0,...l,focusable:!r,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:be(t.onPointerMove,dh(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,dh(b=>o.onItemLeave(b))),onFocus:be(t.onFocus,()=>h(!0)),onBlur:be(t.onBlur,()=>h(!1))})})})}),bq="MenuCheckboxItem",yR=f.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(NR,{scope:t.__scopeMenu,checked:n,children:s.jsx(zx,{role:"menuitemcheckbox","aria-checked":wp(n)?"mixed":n,...i,ref:e,"data-state":qw(n),onSelect:be(i.onSelect,()=>r==null?void 0:r(wp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});yR.displayName=bq;var vR="MenuRadioGroup",[wq,Nq]=Dl(vR,{value:void 0,onValueChange:()=>{}}),jR=f.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=ds(r);return s.jsx(wq,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(Vw,{...i,ref:e})})});jR.displayName=vR;var bR="MenuRadioItem",wR=f.forwardRef((t,e)=>{const{value:n,...r}=t,i=Nq(bR,t.__scopeMenu),a=n===i.value;return s.jsx(NR,{scope:t.__scopeMenu,checked:a,children:s.jsx(zx,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":qw(a),onSelect:be(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});wR.displayName=bR;var zw="MenuItemIndicator",[NR,Sq]=Dl(zw,{checked:!1}),SR=f.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=Sq(zw,n);return s.jsx(Js,{present:r||wp(a.checked)||a.checked===!0,children:s.jsx(Be.span,{...i,ref:e,"data-state":qw(a.checked)})})});SR.displayName=zw;var Cq="MenuSeparator",CR=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});CR.displayName=Cq;var _q="MenuArrow",_R=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Vx(n);return s.jsx(Aw,{...i,...r,ref:e})});_R.displayName=_q;var kq="MenuSub",[Yse,kR]=Dl(kq),hu="MenuSubTrigger",PR=f.forwardRef((t,e)=>{const n=Ol(hu,t.__scopeMenu),r=wm(hu,t.__scopeMenu),i=kR(hu,t.__scopeMenu),a=Uw(hu,t.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Lw,{asChild:!0,...d,children:s.jsx(gR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":AR(n.open),...t,ref:xa(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,dh(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:be(t.onPointerLeave,dh(h=>{var y,b;u();const m=(y=n.content)==null?void 0:y.getBoundingClientRect();if(m){const j=(b=n.content)==null?void 0:b.dataset.side,v=j==="right",p=v?-5:5,x=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+p,y:h.clientY},{x,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x,y:m.bottom}],side:j}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,h=>{var y;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||oq[r.dir].includes(h.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),h.preventDefault())})})})});PR.displayName=hu;var TR="MenuSubContent",ER=f.forwardRef((t,e)=>{const n=mR(pr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ol(pr,t.__scopeMenu),o=wm(pr,t.__scopeMenu),l=kR(TR,t.__scopeMenu),c=f.useRef(null),d=it(e,c);return s.jsx(ch.Provider,{scope:t.__scopeMenu,children:s.jsx(Js,{present:r||a.open,children:s.jsx(ch.Slot,{scope:t.__scopeMenu,children:s.jsx(Bw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:be(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:be(t.onKeyDown,u=>{var y;const h=u.currentTarget.contains(u.target),m=lq[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),u.preventDefault())})})})})})});ER.displayName=TR;function AR(t){return t?"open":"closed"}function wp(t){return t==="indeterminate"}function qw(t){return wp(t)?"indeterminate":t?"checked":"unchecked"}function Pq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Tq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Eq(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Tq(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Aq(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function Fq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Aq(n,e)}function dh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Rq=hR,Iq=Lw,Dq=fR,Oq=pR,Mq=Vw,Lq=xR,$q=zx,Uq=yR,Bq=jR,Vq=wR,zq=SR,qq=CR,Hq=_R,Wq=PR,Kq=ER,qx="DropdownMenu",[Gq]=_n(qx,[dR]),kn=dR(),[Qq,FR]=Gq(qx),RR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=kn(e),d=f.useRef(null),[u,h]=Kr({prop:i,defaultProp:a??!1,onChange:o,caller:qx});return s.jsx(Qq,{scope:e,triggerId:fr(),triggerRef:d,contentId:fr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(Rq,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};RR.displayName=qx;var IR="DropdownMenuTrigger",DR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=FR(IR,n),o=kn(n);return s.jsx(Iq,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:xa(e,a.triggerRef),onPointerDown:be(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:be(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DR.displayName=IR;var Yq="DropdownMenuPortal",OR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=kn(e);return s.jsx(Dq,{...r,...n})};OR.displayName=Yq;var MR="DropdownMenuContent",LR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=FR(MR,n),a=kn(n),o=f.useRef(!1);return s.jsx(Oq,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LR.displayName=MR;var Xq="DropdownMenuGroup",Zq=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Mq,{...i,...r,ref:e})});Zq.displayName=Xq;var Jq="DropdownMenuLabel",$R=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Lq,{...i,...r,ref:e})});$R.displayName=Jq;var eH="DropdownMenuItem",UR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx($q,{...i,...r,ref:e})});UR.displayName=eH;var tH="DropdownMenuCheckboxItem",BR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Uq,{...i,...r,ref:e})});BR.displayName=tH;var sH="DropdownMenuRadioGroup",nH=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Bq,{...i,...r,ref:e})});nH.displayName=sH;var rH="DropdownMenuRadioItem",VR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Vq,{...i,...r,ref:e})});VR.displayName=rH;var iH="DropdownMenuItemIndicator",zR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(zq,{...i,...r,ref:e})});zR.displayName=iH;var aH="DropdownMenuSeparator",qR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(qq,{...i,...r,ref:e})});qR.displayName=aH;var oH="DropdownMenuArrow",lH=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Hq,{...i,...r,ref:e})});lH.displayName=oH;var cH="DropdownMenuSubTrigger",HR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Wq,{...i,...r,ref:e})});HR.displayName=cH;var dH="DropdownMenuSubContent",WR=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kn(n);return s.jsx(Kq,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WR.displayName=dH;var uH=RR,hH=DR,mH=OR,KR=LR,GR=$R,QR=UR,YR=BR,XR=VR,ZR=zR,JR=qR,eI=HR,tI=WR;const fH=uH,pH=hH,xH=f.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(eI,{ref:i,className:Se("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(zB,{className:"ml-auto"})]}));xH.displayName=eI.displayName;const gH=f.forwardRef(({className:t,...e},n)=>s.jsx(tI,{ref:n,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));gH.displayName=tI.displayName;const sI=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(mH,{children:s.jsx(KR,{ref:r,sideOffset:e,className:Se("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));sI.displayName=KR.displayName;const ri=f.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(QR,{ref:r,className:Se("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));ri.displayName=QR.displayName;const yH=f.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(YR,{ref:i,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZR,{children:s.jsx(ih,{className:"h-4 w-4"})})}),e]}));yH.displayName=YR.displayName;const vH=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(XR,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ZR,{children:s.jsx(HB,{className:"h-2 w-2 fill-current"})})}),e]}));vH.displayName=XR.displayName;const nI=f.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(GR,{ref:r,className:Se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));nI.displayName=GR.displayName;const If=f.forwardRef(({className:t,...e},n)=>s.jsx(JR,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));If.displayName=JR.displayName;const jH="/assets/RSFOpaqueLogo_1761494760586-CszXmNPH.png";function bH(){var o;const[t]=Zs(),{user:e}=ln(),n=t==="/rentals"||t.startsWith("/aircraft"),r=t.startsWith("/marketplace"),i=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.email)||"User",a=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`:((o=e==null?void 0:e.email)==null?void 0:o[0].toUpperCase())||"U";return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between gap-2 sm:gap-4",children:[s.jsxs(vt,{href:"/",className:"flex items-center gap-1 sm:gap-2 hover-elevate active-elevate-2 rounded-md px-1 sm:px-2 py-1 flex-shrink-0","data-testid":"link-home",children:[s.jsx("img",{src:jH,alt:"Ready Set Fly",className:"h-8 w-8 sm:h-[2.6rem] sm:w-[2.6rem]"}),s.jsx("span",{className:"font-display text-sm sm:text-xl font-bold hidden min-[400px]:inline",children:"Ready Set Fly"})]}),s.jsxs("nav",{className:"flex items-center gap-0.5 sm:gap-1 rounded-full bg-muted p-0.5 sm:p-1",role:"navigation","aria-label":"Main navigation",children:[s.jsx(vt,{href:"/rentals","data-testid":"link-rentals",children:s.jsx(O,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${n?"bg-background shadow-sm":""}`,children:"Rentals"})}),s.jsx(vt,{href:"/marketplace","data-testid":"link-marketplace",children:s.jsx(O,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${r?"bg-background shadow-sm":""}`,children:"Marketplace"})})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e&&s.jsx(vt,{href:"/list-aircraft","data-testid":"link-list-aircraft",className:"hidden sm:block",children:s.jsx(O,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-list-aircraft",children:"List Your Aircraft"})}),e&&s.jsxs(O,{variant:"ghost",size:"icon",className:"relative hidden sm:flex","data-testid":"button-notifications","aria-label":"Notifications",children:[s.jsx(oj,{className:"h-5 w-5"}),s.jsx(Q,{className:"absolute -right-1 -top-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]}),s.jsx(B9,{}),e?s.jsxs(s.Fragment,{children:[e.isSuperAdmin&&s.jsx(Q,{variant:"default",className:"bg-primary text-primary-foreground","data-testid":"badge-super-admin",children:"Super Admin"}),s.jsxs(fH,{children:[s.jsx(pH,{asChild:!0,children:s.jsx(O,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-profile-menu","aria-label":"User menu",children:s.jsxs(Ci,{className:"h-9 w-9",children:[s.jsx(_i,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:i}),s.jsx(ki,{children:a})]})})}),s.jsxs(sI,{align:"end",className:"w-56",children:[s.jsx(nI,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:i}),(e==null?void 0:e.isSuperAdmin)&&s.jsx(Q,{variant:"default",className:"text-xs h-5 bg-primary text-primary-foreground",children:"Super Admin"})]}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email})]})}),s.jsx(If,{}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/dashboard","data-testid":"link-dashboard",children:"Dashboard"})}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/profile","data-testid":"link-profile",children:"Profile"})}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/my-listings","data-testid":"link-my-listings",children:"My Listings"})}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/messages","data-testid":"link-messages",children:"Messages"})}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/logbook","data-testid":"link-logbook",children:"Pilot Logbook"})}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/pilot-tools","data-testid":"link-pilot-tools",children:"Pilot Tools"})}),(e==null?void 0:e.isAdmin)&&s.jsxs(s.Fragment,{children:[s.jsx(If,{}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/admin","data-testid":"link-admin",className:"text-primary font-medium",children:" Admin Dashboard"})})]}),s.jsx(If,{}),s.jsx(ri,{asChild:!0,children:s.jsx(vt,{href:"/settings","data-testid":"link-settings",children:"Settings"})}),s.jsx(ri,{asChild:!0,children:s.jsxs("a",{href:Il("/api/logout"),"data-testid":"button-logout",children:[s.jsx(GB,{className:"mr-2 h-4 w-4"}),"Log out"]})})]})]})]}):s.jsx(vt,{href:"/login",children:s.jsx(O,{variant:"default","data-testid":"button-login",children:"Sign In"})})]})]})})})}var Nm=t=>t.type==="checkbox",Uo=t=>t instanceof Date,Fn=t=>t==null;const rI=t=>typeof t=="object";var Ts=t=>!Fn(t)&&!Array.isArray(t)&&rI(t)&&!Uo(t),iI=t=>Ts(t)&&t.target?Nm(t.target)?t.target.checked:t.target.value:t,wH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aI=(t,e)=>t.has(wH(e)),NH=t=>{const e=t.constructor&&t.constructor.prototype;return Ts(e)&&e.hasOwnProperty("isPrototypeOf")},Hw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bs(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(Hw&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(Ts(t)&&NH(t)))return t;const r=n?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=bs(t[i]));return r}var Hx=t=>/^\w*$/.test(t),Kt=t=>t===void 0,Ww=t=>Array.isArray(t)?t.filter(Boolean):[],Kw=t=>Ww(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(t,e,n)=>{if(!e||!Ts(t))return n;const r=(Hx(e)?[e]:Kw(e)).reduce((i,a)=>Fn(i)?i:i[a],t);return Kt(r)||r===t?Kt(t[e])?n:t[e]:r},Hn=t=>typeof t=="boolean",jn=t=>typeof t=="function",Et=(t,e,n)=>{let r=-1;const i=Hx(e)?[e]:Kw(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=Ts(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Np={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gw=Xe.createContext(null);Gw.displayName="HookFormContext";const Wx=()=>Xe.useContext(Gw),SH=t=>{const{children:e,...n}=t;return Xe.createElement(Gw.Provider,{value:n},e)};var oI=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Lr.all&&(e._proxyFormState[o]=!r||Lr.all),n&&(n[o]=!0),t[o]}});return i};const Qw=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;function CH(t){const e=Wx(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=Xe.useState(n._formState),c=Xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Qw(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),Xe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Xe.useMemo(()=>oI(o,n,c.current,!1),[o,n])}var Qn=t=>typeof t=="string",gj=(t,e,n,r,i)=>Qn(t)?(r&&e.watch.add(t),Pe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Pe(n,a))):(r&&(e.watchAll=!0),n),yj=t=>Fn(t)||!rI(t);function $r(t,e,n=new WeakSet){if(yj(t)||yj(e))return Object.is(t,e);if(Uo(t)&&Uo(e))return Object.is(t.getTime(),e.getTime());const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(Uo(o)&&Uo(l)||Ts(o)&&Ts(l)||Array.isArray(o)&&Array.isArray(l)?!$r(o,l,n):!Object.is(o,l))return!1}}return!0}function _H(t){const e=Wx(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=Xe.useRef(i),d=Xe.useRef(l),u=Xe.useRef(void 0),h=Xe.useRef(n),m=Xe.useRef(r);d.current=l;const[y,b]=Xe.useState(()=>{const N=n._getWatch(r,c.current);return d.current?d.current(N):N}),j=Xe.useCallback(N=>{const _=gj(r,n._names,N||n._formValues,!1,c.current);return d.current?d.current(_):_},[n._formValues,n._names,r]),v=Xe.useCallback(N=>{if(!a){const _=gj(r,n._names,N||n._formValues,!1,c.current);if(d.current){const C=d.current(_);$r(C,u.current)||(b(C),u.current=C)}else b(_)}},[n._formValues,n._names,a,r]);Qw(()=>((h.current!==n||!$r(m.current,r))&&(h.current=n,m.current=r,v()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:N=>{v(N.values)}})),[n,o,r,v]),Xe.useEffect(()=>n._removeUnmounted());const p=h.current!==n,x=m.current,w=Xe.useMemo(()=>{if(a)return null;const N=!p&&!$r(x,r);return p||N?j():null},[a,p,r,x,j]);return w!==null?w:y}function kH(t){const e=Wx(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=t,c=aI(i._names.array,n),d=Xe.useMemo(()=>Pe(i._formValues,n,Pe(i._defaultValues,n,o)),[i,n,o]),u=_H({control:i,name:n,defaultValue:d,exact:l}),h=CH({control:i,name:n,exact:l}),m=Xe.useRef(t),y=Xe.useRef(void 0),b=Xe.useRef(i.register(n,{...t.rules,value:u,...Hn(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const j=Xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(h.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(h.errors,n)}}),[h,n]),v=Xe.useCallback(N=>b.current.onChange({target:{value:iI(N),name:n},type:Np.CHANGE}),[n]),p=Xe.useCallback(()=>b.current.onBlur({target:{value:Pe(i._formValues,n),name:n},type:Np.BLUR}),[n,i._formValues]),x=Xe.useCallback(N=>{const _=Pe(i._fields,n);_&&_._f&&N&&(_._f.ref={focus:()=>jn(N.focus)&&N.focus(),select:()=>jn(N.select)&&N.select(),setCustomValidity:C=>jn(N.setCustomValidity)&&N.setCustomValidity(C),reportValidity:()=>jn(N.reportValidity)&&N.reportValidity()})},[i._fields,n]),w=Xe.useMemo(()=>({name:n,value:u,...Hn(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:v,onBlur:p,ref:x}),[n,r,h.disabled,v,p,x,u]);return Xe.useEffect(()=>{const N=i._options.shouldUnregister||a,_=y.current;_&&_!==n&&!c&&i.unregister(_),i.register(n,{...m.current.rules,...Hn(m.current.disabled)?{disabled:m.current.disabled}:{}});const C=(k,P)=>{const M=Pe(i._fields,k);M&&M._f&&(M._f.mount=P)};if(C(n,!0),N){const k=bs(Pe(i._options.defaultValues,n,m.current.defaultValue));Et(i._defaultValues,n,k),Kt(Pe(i._formValues,n))&&Et(i._formValues,n,k)}return!c&&i.register(n),y.current=n,()=>{(c?N&&!i._state.action:N)?i.unregister(n):C(n,!1)}},[n,i,c,a]),Xe.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Xe.useMemo(()=>({field:w,formState:h,fieldState:j}),[w,h,j])}const PH=t=>t.render(kH(t));var lI=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Iu=t=>Array.isArray(t)?t:[t],GS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function cI(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&Ts(i)&&a){const o=cI(i,a);Ts(o)&&(n[r]=o)}else t[r]&&(n[r]=a)}return n}var fn=t=>Ts(t)&&!Object.keys(t).length,Yw=t=>t.type==="file",Sp=t=>{if(!Hw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dI=t=>t.type==="select-multiple",Xw=t=>t.type==="radio",TH=t=>Xw(t)||Nm(t),ky=t=>Sp(t)&&t.isConnected;function EH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Kt(t)?r++:t[e[r++]];return t}function AH(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function ws(t,e){const n=Array.isArray(e)?e:Hx(e)?[e]:Kw(e),r=n.length===1?t:EH(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Ts(r)&&fn(r)||Array.isArray(r)&&AH(r))&&ws(t,n.slice(0,-1)),t}var FH=t=>{for(const e in t)if(jn(t[e]))return!0;return!1};function uI(t){return Array.isArray(t)||Ts(t)&&!FH(t)}function vj(t,e={}){for(const n in t){const r=t[n];uI(r)?(e[n]=Array.isArray(r)?[]:{},vj(r,e[n])):Kt(r)||(e[n]=!0)}return e}function Jl(t,e,n){n||(n=vj(e));for(const r in t){const i=t[r];if(uI(i))Kt(e)||yj(n[r])?n[r]=vj(i,Array.isArray(i)?[]:{}):Jl(i,Fn(e)?{}:e[r],n[r]);else{const a=e[r];n[r]=!$r(i,a)}}return n}const QS={value:!1,isValid:!1},YS={value:!0,isValid:!0};var hI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?YS:{value:t[0].value,isValid:!0}:YS:QS}return QS},mI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Kt(t)?t:e?t===""?NaN:t&&+t:n&&Qn(t)?new Date(t):r?r(t):t;const XS={isValid:!1,value:null};var fI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,XS):XS;function ZS(t){const e=t.ref;return Yw(e)?e.files:Xw(e)?fI(t.refs).value:dI(e)?[...e.selectedOptions].map(({value:n})=>n):Nm(e)?hI(t.refs).value:mI(Kt(e.value)?t.ref.value:e.value,t)}var RH=(t,e,n,r)=>{const i={};for(const a of t){const o=Pe(e,a);o&&Et(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Cp=t=>t instanceof RegExp,Jd=t=>Kt(t)?t:Cp(t)?t.source:Ts(t)?Cp(t.value)?t.value.source:t.value:t,JS=t=>({isOnSubmit:!t||t===Lr.onSubmit,isOnBlur:t===Lr.onBlur,isOnChange:t===Lr.onChange,isOnAll:t===Lr.all,isOnTouch:t===Lr.onTouched});const eC="AsyncFunction";var IH=t=>!!t&&!!t.validate&&!!(jn(t.validate)&&t.validate.constructor.name===eC||Ts(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eC)),DH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),tC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Du=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Pe(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Du(l,e))break}else if(Ts(l)&&Du(l,e))break}}};function sC(t,e,n){const r=Pe(t,n);if(r||Hx(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Pe(e,a),l=Pe(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var OH=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return fn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Lr.all))},MH=(t,e,n)=>!t||!e||t===e||Iu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),LH=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,$H=(t,e)=>!Ww(Pe(t,e)).length&&ws(t,e),UH=(t,e,n)=>{const r=Iu(Pe(t,n));return Et(r,"root",e[n]),Et(t,n,r),t};function nC(t,e,n="validate"){if(Qn(t)||Array.isArray(t)&&t.every(Qn)||Hn(t)&&!t)return{type:n,message:Qn(t)?t:"",ref:e}}var Ql=t=>Ts(t)&&!Cp(t)?t:{value:t,message:""},rC=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:y,validate:b,name:j,valueAsNumber:v,mount:p}=t._f,x=Pe(n,j);if(!p||e.has(j))return{};const w=l?l[0]:o,N=V=>{i&&w.reportValidity&&(w.setCustomValidity(Hn(V)?"":V||""),w.reportValidity())},_={},C=Xw(o),k=Nm(o),P=C||k,M=(v||Yw(o))&&Kt(o.value)&&Kt(x)||Sp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,R=lI.bind(null,j,r,_),L=(V,Z,se,E=Oi.maxLength,K=Oi.minLength)=>{const de=V?Z:se;_[j]={type:V?E:K,message:de,ref:o,...R(V?E:K,de)}};if(a?!Array.isArray(x)||!x.length:c&&(!P&&(M||Fn(x))||Hn(x)&&!x||k&&!hI(l).isValid||C&&!fI(l).isValid)){const{value:V,message:Z}=Qn(c)?{value:!!c,message:c}:Ql(c);if(V&&(_[j]={type:Oi.required,message:Z,ref:w,...R(Oi.required,Z)},!r))return N(Z),_}if(!M&&(!Fn(h)||!Fn(m))){let V,Z;const se=Ql(m),E=Ql(h);if(!Fn(x)&&!isNaN(x)){const K=o.valueAsNumber||x&&+x;Fn(se.value)||(V=K>se.value),Fn(E.value)||(Z=K<E.value)}else{const K=o.valueAsDate||new Date(x),de=D=>new Date(new Date().toDateString()+" "+D),B=o.type=="time",F=o.type=="week";Qn(se.value)&&x&&(V=B?de(x)>de(se.value):F?x>se.value:K>new Date(se.value)),Qn(E.value)&&x&&(Z=B?de(x)<de(E.value):F?x<E.value:K<new Date(E.value))}if((V||Z)&&(L(!!V,se.message,E.message,Oi.max,Oi.min),!r))return N(_[j].message),_}if((d||u)&&!M&&(Qn(x)||a&&Array.isArray(x))){const V=Ql(d),Z=Ql(u),se=!Fn(V.value)&&x.length>+V.value,E=!Fn(Z.value)&&x.length<+Z.value;if((se||E)&&(L(se,V.message,Z.message),!r))return N(_[j].message),_}if(y&&!M&&Qn(x)){const{value:V,message:Z}=Ql(y);if(Cp(V)&&!x.match(V)&&(_[j]={type:Oi.pattern,message:Z,ref:o,...R(Oi.pattern,Z)},!r))return N(Z),_}if(b){if(jn(b)){const V=await b(x,n),Z=nC(V,w);if(Z&&(_[j]={...Z,...R(Oi.validate,Z.message)},!r))return N(Z.message),_}else if(Ts(b)){let V={};for(const Z in b){if(!fn(V)&&!r)break;const se=nC(await b[Z](x,n),w,Z);se&&(V={...se,...R(Z,se.message)},N(se.message),r&&(_[j]=V))}if(!fn(V)&&(_[j]={ref:w,...V},!r))return _}}return N(!0),_};const BH={mode:Lr.onSubmit,reValidateMode:Lr.onChange,shouldFocusError:!0};function VH(t={}){let e={...BH,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:jn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ts(e.defaultValues)||Ts(e.values)?bs(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:bs(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...u};let m={...h};const y={array:GS(),state:GS()},b=e.criteriaMode===Lr.all,j=I=>H=>{clearTimeout(d),d=setTimeout(I,H)},v=async I=>{if(!o.keepIsValid&&!e.disabled&&(h.isValid||m.isValid||I)){let H;e.resolver?(H=fn((await P()).errors),p()):H=await R(r,!0),H!==n.isValid&&y.state.next({isValid:H})}},p=(I,H)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((I||Array.from(l.mount)).forEach(X=>{X&&(H?Et(n.validatingFields,X,H):ws(n.validatingFields,X))}),y.state.next({validatingFields:n.validatingFields,isValidating:!fn(n.validatingFields)}))},x=(I,H=[],X,Te,ve=!0,ge=!0)=>{if(Te&&X&&!e.disabled){if(o.action=!0,ge&&Array.isArray(Pe(r,I))){const Ue=X(Pe(r,I),Te.argA,Te.argB);ve&&Et(r,I,Ue)}if(ge&&Array.isArray(Pe(n.errors,I))){const Ue=X(Pe(n.errors,I),Te.argA,Te.argB);ve&&Et(n.errors,I,Ue),$H(n.errors,I)}if((h.touchedFields||m.touchedFields)&&ge&&Array.isArray(Pe(n.touchedFields,I))){const Ue=X(Pe(n.touchedFields,I),Te.argA,Te.argB);ve&&Et(n.touchedFields,I,Ue)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Jl(i,a)),y.state.next({name:I,isDirty:V(I,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Et(a,I,H)},w=(I,H)=>{Et(n.errors,I,H),y.state.next({errors:n.errors})},N=I=>{n.errors=I,y.state.next({errors:n.errors,isValid:!1})},_=(I,H,X,Te)=>{const ve=Pe(r,I);if(ve){const ge=Pe(a,I,Kt(X)?Pe(i,I):X);Kt(ge)||Te&&Te.defaultChecked||H?Et(a,I,H?ge:ZS(ve._f)):E(I,ge),o.mount&&!o.action&&v()}},C=(I,H,X,Te,ve)=>{let ge=!1,Ue=!1;const xt={name:I};if(!e.disabled){if(!X||Te){(h.isDirty||m.isDirty)&&(Ue=n.isDirty,n.isDirty=xt.isDirty=V(),ge=Ue!==xt.isDirty);const gt=$r(Pe(i,I),H);Ue=!!Pe(n.dirtyFields,I),gt?ws(n.dirtyFields,I):Et(n.dirtyFields,I,!0),xt.dirtyFields=n.dirtyFields,ge=ge||(h.dirtyFields||m.dirtyFields)&&Ue!==!gt}if(X){const gt=Pe(n.touchedFields,I);gt||(Et(n.touchedFields,I,X),xt.touchedFields=n.touchedFields,ge=ge||(h.touchedFields||m.touchedFields)&&gt!==X)}ge&&ve&&y.state.next(xt)}return ge?xt:{}},k=(I,H,X,Te)=>{const ve=Pe(n.errors,I),ge=(h.isValid||m.isValid)&&Hn(H)&&n.isValid!==H;if(e.delayError&&X?(c=j(()=>w(I,X)),c(e.delayError)):(clearTimeout(d),c=null,X?Et(n.errors,I,X):ws(n.errors,I)),(X?!$r(ve,X):ve)||!fn(Te)||ge){const Ue={...Te,...ge&&Hn(H)?{isValid:H}:{},errors:n.errors,name:I};n={...n,...Ue},y.state.next(Ue)}},P=async I=>(p(I,!0),await e.resolver(a,e.context,RH(I||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),M=async I=>{const{errors:H}=await P(I);if(p(I),I)for(const X of I){const Te=Pe(H,X);Te?Et(n.errors,X,Te):ws(n.errors,X)}else n.errors=H;return H},R=async(I,H,X={valid:!0})=>{for(const Te in I){const ve=I[Te];if(ve){const{_f:ge,...Ue}=ve;if(ge){const xt=l.array.has(ge.name),gt=ve._f&&IH(ve._f);gt&&h.validatingFields&&p([ge.name],!0);const ht=await rC(ve,l.disabled,a,b,e.shouldUseNativeValidation&&!H,xt);if(gt&&h.validatingFields&&p([ge.name]),ht[ge.name]&&(X.valid=!1,H||t.shouldUseNativeValidation))break;!H&&(Pe(ht,ge.name)?xt?UH(n.errors,ht,ge.name):Et(n.errors,ge.name,ht[ge.name]):ws(n.errors,ge.name))}!fn(Ue)&&await R(Ue,H,X)}}return X.valid},L=()=>{for(const I of l.unMount){const H=Pe(r,I);H&&(H._f.refs?H._f.refs.every(X=>!ky(X)):!ky(H._f.ref))&&$e(I)}l.unMount=new Set},V=(I,H)=>!e.disabled&&(I&&H&&Et(a,I,H),!$r(le(),i)),Z=(I,H,X)=>gj(I,l,{...o.mount?a:Kt(H)?i:Qn(I)?{[I]:H}:H},X,H),se=I=>Ww(Pe(o.mount?a:i,I,e.shouldUnregister?Pe(i,I,[]):[])),E=(I,H,X={})=>{const Te=Pe(r,I);let ve=H;if(Te){const ge=Te._f;ge&&(!ge.disabled&&Et(a,I,mI(H,ge)),ve=Sp(ge.ref)&&Fn(H)?"":H,dI(ge.ref)?[...ge.ref.options].forEach(Ue=>Ue.selected=ve.includes(Ue.value)):ge.refs?Nm(ge.ref)?ge.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(ve)?Ue.checked=!!ve.find(xt=>xt===Ue.value):Ue.checked=ve===Ue.value||!!ve)}):ge.refs.forEach(Ue=>Ue.checked=Ue.value===ve):Yw(ge.ref)?ge.ref.value="":(ge.ref.value=ve,ge.ref.type||y.state.next({name:I,values:bs(a)})))}(X.shouldDirty||X.shouldTouch)&&C(I,ve,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&D(I)},K=(I,H,X)=>{for(const Te in H){if(!H.hasOwnProperty(Te))return;const ve=H[Te],ge=I+"."+Te,Ue=Pe(r,ge);(l.array.has(I)||Ts(ve)||Ue&&!Ue._f)&&!Uo(ve)?K(ge,ve,X):E(ge,ve,X)}},de=(I,H,X={})=>{const Te=Pe(r,I),ve=l.array.has(I),ge=bs(H);Et(a,I,ge),ve?(y.array.next({name:I,values:bs(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&X.shouldDirty&&y.state.next({name:I,dirtyFields:Jl(i,a),isDirty:V(I,ge)})):Te&&!Te._f&&!Fn(ge)?K(I,ge,X):E(I,ge,X),tC(I,l)?y.state.next({...n,name:I,values:bs(a)}):y.state.next({name:o.mount?I:void 0,values:bs(a)})},B=async I=>{o.mount=!0;const H=I.target;let X=H.name,Te=!0;const ve=Pe(r,X),ge=gt=>{Te=Number.isNaN(gt)||Uo(gt)&&isNaN(gt.getTime())||$r(gt,Pe(a,X,gt))},Ue=JS(e.mode),xt=JS(e.reValidateMode);if(ve){let gt,ht;const Ot=H.type?ZS(ve._f):iI(I),Es=I.type===Np.BLUR||I.type===Np.FOCUS_OUT,Fi=!DH(ve._f)&&!e.resolver&&!Pe(n.errors,X)&&!ve._f.deps||LH(Es,Pe(n.touchedFields,X),n.isSubmitted,xt,Ue),ya=tC(X,l,Es);Et(a,X,Ot),Es?(!H||!H.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(I),c&&c(0)):ve._f.onChange&&ve._f.onChange(I);const va=C(X,Ot,Es),cn=!fn(va)||ya;if(!Es&&y.state.next({name:X,type:I.type,values:bs(a)}),Fi)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Es&&v():Es||v()),cn&&y.state.next({name:X,...ya?{}:va});if(!Es&&ya&&y.state.next({...n}),e.resolver){const{errors:Mt}=await P([X]);if(p([X]),ge(Ot),Te){const ms=sC(n.errors,r,X),Ge=sC(Mt,r,ms.name||X);gt=Ge.error,X=Ge.name,ht=fn(Mt)}}else p([X],!0),gt=(await rC(ve,l.disabled,a,b,e.shouldUseNativeValidation))[X],p([X]),ge(Ot),Te&&(gt?ht=!1:(h.isValid||m.isValid)&&(ht=await R(r,!0)));Te&&(ve._f.deps&&(!Array.isArray(ve._f.deps)||ve._f.deps.length>0)&&D(ve._f.deps),k(X,ht,gt,va))}},F=(I,H)=>{if(Pe(n.errors,H)&&I.focus)return I.focus(),1},D=async(I,H={})=>{let X,Te;const ve=Iu(I);if(e.resolver){const ge=await M(Kt(I)?I:ve);X=fn(ge),Te=I?!ve.some(Ue=>Pe(ge,Ue)):X}else I?(Te=(await Promise.all(ve.map(async ge=>{const Ue=Pe(r,ge);return await R(Ue&&Ue._f?{[ge]:Ue}:Ue)}))).every(Boolean),!(!Te&&!n.isValid)&&v()):Te=X=await R(r);return y.state.next({...!Qn(I)||(h.isValid||m.isValid)&&X!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:X}:{},errors:n.errors}),H.shouldFocus&&!Te&&Du(r,F,I?ve:l.mount),Te},le=(I,H)=>{let X={...o.mount?a:i};return H&&(X=cI(H.dirtyFields?n.dirtyFields:n.touchedFields,X)),Kt(I)?X:Qn(I)?Pe(X,I):I.map(Te=>Pe(X,Te))},fe=(I,H)=>({invalid:!!Pe((H||n).errors,I),isDirty:!!Pe((H||n).dirtyFields,I),error:Pe((H||n).errors,I),isValidating:!!Pe(n.validatingFields,I),isTouched:!!Pe((H||n).touchedFields,I)}),qe=I=>{I&&Iu(I).forEach(H=>ws(n.errors,H)),y.state.next({errors:I?n.errors:{}})},Ke=(I,H,X)=>{const Te=(Pe(r,I,{_f:{}})._f||{}).ref,ve=Pe(n.errors,I)||{},{ref:ge,message:Ue,type:xt,...gt}=ve;Et(n.errors,I,{...gt,...H,ref:Te}),y.state.next({name:I,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&Te&&Te.focus&&Te.focus()},Ct=(I,H)=>jn(I)?y.state.subscribe({next:X=>"values"in X&&I(Z(void 0,H),X)}):Z(I,H,!0),st=I=>y.state.subscribe({next:H=>{MH(I.name,H.name,I.exact)&&OH(H,I.formState||h,Pn,I.reRenderRoot)&&I.callback({values:{...a},...n,...H,defaultValues:i})}}).unsubscribe,je=I=>(o.mount=!0,m={...m,...I.formState},st({...I,formState:{...u,...I.formState}})),$e=(I,H={})=>{for(const X of I?Iu(I):l.mount)l.mount.delete(X),l.array.delete(X),H.keepValue||(ws(r,X),ws(a,X)),!H.keepError&&ws(n.errors,X),!H.keepDirty&&ws(n.dirtyFields,X),!H.keepTouched&&ws(n.touchedFields,X),!H.keepIsValidating&&ws(n.validatingFields,X),!e.shouldUnregister&&!H.keepDefaultValue&&ws(i,X);y.state.next({values:bs(a)}),y.state.next({...n,...H.keepDirty?{isDirty:V()}:{}}),!H.keepIsValid&&v()},nt=({disabled:I,name:H})=>{(Hn(I)&&o.mount||I||l.disabled.has(H))&&(I?l.disabled.add(H):l.disabled.delete(H))},Je=(I,H={})=>{let X=Pe(r,I);const Te=Hn(H.disabled)||Hn(e.disabled);return Et(r,I,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:I}},name:I,mount:!0,...H}}),l.mount.add(I),X?nt({disabled:Hn(H.disabled)?H.disabled:e.disabled,name:I}):_(I,!0,H.value),{...Te?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Jd(H.min),max:Jd(H.max),minLength:Jd(H.minLength),maxLength:Jd(H.maxLength),pattern:Jd(H.pattern)}:{},name:I,onChange:B,onBlur:B,ref:ve=>{if(ve){Je(I,H),X=Pe(r,I);const ge=Kt(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Ue=TH(ge),xt=X._f.refs||[];if(Ue?xt.find(gt=>gt===ge):ge===X._f.ref)return;Et(r,I,{_f:{...X._f,...Ue?{refs:[...xt.filter(ky),ge,...Array.isArray(Pe(i,I))?[{}]:[]],ref:{type:ge.type,name:I}}:{ref:ge}}}),_(I,!1,void 0,ge)}else X=Pe(r,I,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(aI(l.array,I)&&o.action)&&l.unMount.add(I)}}},Me=()=>e.shouldFocusError&&Du(r,F,l.mount),pe=I=>{Hn(I)&&(y.state.next({disabled:I}),Du(r,(H,X)=>{const Te=Pe(r,X);Te&&(H.disabled=Te._f.disabled||I,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(ve=>{ve.disabled=Te._f.disabled||I}))},0,!1))},He=(I,H)=>async X=>{let Te;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ve=bs(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:ge,values:Ue}=await P();p(),n.errors=ge,ve=bs(Ue)}else await R(r);if(l.disabled.size)for(const ge of l.disabled)ws(ve,ge);if(ws(n.errors,"root"),fn(n.errors)){y.state.next({errors:{}});try{await I(ve,X)}catch(ge){Te=ge}}else H&&await H({...n.errors},X),Me(),setTimeout(Me);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},ct=(I,H={})=>{Pe(r,I)&&(Kt(H.defaultValue)?de(I,bs(Pe(i,I))):(de(I,H.defaultValue),Et(i,I,bs(H.defaultValue))),H.keepTouched||ws(n.touchedFields,I),H.keepDirty||(ws(n.dirtyFields,I),n.isDirty=H.defaultValue?V(I,bs(Pe(i,I))):V()),H.keepError||(ws(n.errors,I),h.isValid&&v()),y.state.next({...n}))},Dt=(I,H={})=>{const X=I?bs(I):i,Te=bs(X),ve=fn(I),ge=ve?i:Te;if(H.keepDefaultValues||(i=X),!H.keepValues){if(H.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(Jl(i,a))]);for(const xt of Array.from(Ue)){const gt=Pe(n.dirtyFields,xt),ht=Pe(a,xt),Ot=Pe(ge,xt);gt&&!Kt(ht)?Et(ge,xt,ht):!gt&&!Kt(Ot)&&de(xt,Ot)}}else{if(Hw&&Kt(I))for(const Ue of l.mount){const xt=Pe(r,Ue);if(xt&&xt._f){const gt=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(Sp(gt)){const ht=gt.closest("form");if(ht){ht.reset();break}}}}if(H.keepFieldsRef)for(const Ue of l.mount)de(Ue,Pe(ge,Ue));else r={}}a=e.shouldUnregister?H.keepDefaultValues?bs(i):{}:bs(ge),y.array.next({values:{...ge}}),y.state.next({values:{...ge}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!e.shouldUnregister&&!fn(ge),o.watch=!!e.shouldUnregister,o.keepIsValid=!!H.keepIsValid,o.action=!1,H.keepErrors||(n.errors={}),y.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!$r(I,i)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Jl(i,a):n.dirtyFields:H.keepDefaultValues&&I?Jl(i,I):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Zt=(I,H)=>Dt(jn(I)?I(a):I,{...e.resetOptions,...H}),Vt=(I,H={})=>{const X=Pe(r,I),Te=X&&X._f;if(Te){const ve=Te.refs?Te.refs[0]:Te.ref;ve.focus&&setTimeout(()=>{ve.focus(),H.shouldSelect&&jn(ve.select)&&ve.select()})}},Pn=I=>{n={...n,...I}},Bn={control:{register:Je,unregister:$e,getFieldState:fe,handleSubmit:He,setError:Ke,_subscribe:st,_runSchema:P,_updateIsValidating:p,_focusError:Me,_getWatch:Z,_getDirty:V,_setValid:v,_setFieldArray:x,_setDisabledField:nt,_setErrors:N,_getFieldArray:se,_reset:Dt,_resetDefaultValues:()=>jn(e.defaultValues)&&e.defaultValues().then(I=>{Zt(I,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:pe,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(I){o=I},get _defaultValues(){return i},get _names(){return l},set _names(I){l=I},get _formState(){return n},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:je,trigger:D,register:Je,handleSubmit:He,watch:Ct,setValue:de,getValues:le,reset:Zt,resetField:ct,clearErrors:qe,unregister:$e,setError:Ke,setFocus:Vt,getFieldState:fe};return{...Bn,formControl:Bn}}function Kn(t={}){const e=Xe.useRef(void 0),n=Xe.useRef(void 0),[r,i]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:jn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:jn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!jn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=VH(t);e.current={...l,formState:r}}const a=e.current.control;return a._options=t,Qw(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Xe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Xe.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Xe.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Xe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Xe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Xe.useEffect(()=>{var o;t.values&&!$r(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),Xe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=oI(r,a),e.current}const iC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},pI=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?iC(r.ref,n,t):r.refs&&r.refs.forEach(i=>iC(i,n,t))}},zH=(t,e)=>{e.shouldUseNativeValidation&&pI(t,e);const n={};for(const r in t){const i=Pe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(qH(e.names||Object.keys(t),r)){const o=Object.assign({},Pe(n,r));Et(o,"root",a),Et(n,r,o)}else Et(n,r,a)}return n},qH=(t,e)=>t.some(n=>n.startsWith(e+"."));var HH=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=lI(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Gn=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&pI({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:zH(HH(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},bt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(bt||(bt={}));var jj;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jj||(jj={}));const Ie=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vi=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},me=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),WH=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class tr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof tr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}tr.create=t=>new tr(t);const vd=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,bt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${bt.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${bt.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${bt.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:bt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,bt.assertNever(t)}return{message:n}};let xI=vd;function KH(t){xI=t}function _p(){return xI}const kp=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},GH=[];function Ee(t,e){const n=_p(),r=kp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vd?void 0:vd].filter(i=>!!i)});t.common.issues.push(r)}class on{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return on.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Qe;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Qe=Object.freeze({status:"aborted"}),mc=t=>({status:"dirty",value:t}),Nn=t=>({status:"valid",value:t}),bj=t=>t.status==="aborted",wj=t=>t.status==="dirty",wl=t=>t.status==="valid",uh=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));class Pi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aC=(t,e)=>{if(wl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new tr(t.common.issues);return this._error=n,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class ut{get description(){return this._def.description}_getType(e){return Vi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new on,ctx:{common:e.parent.common,data:e.data,parsedType:Vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(uh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return aC(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return wl(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>wl(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vi(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(uh(i)?i:Promise.resolve(i));return aC(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Yr({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return wi.create(this,this._def)}nullable(){return uo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qr.create(this)}promise(){return bd.create(this,this._def)}or(e){return ph.create([this,e],this._def)}and(e){return xh.create(this,e,this._def)}transform(e){return new Yr({...ot(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bh({...ot(this._def),innerType:this,defaultValue:n,typeName:Ze.ZodDefault})}brand(){return new Zw({typeName:Ze.ZodBranded,type:this,...ot(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wh({...ot(this._def),innerType:this,catchValue:n,typeName:Ze.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Sm.create(this,e)}readonly(){return Nh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QH=/^c[^\s-]{8,}$/i,YH=/^[0-9a-z]+$/,XH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JH=/^[a-z0-9_-]{21}$/i,eW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Py;const rW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dW=new RegExp(`^${gI}$`);function yI(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function uW(t){return new RegExp(`^${yI(t)}$`)}function vI(t){let e=`${gI}T${yI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function hW(t,e){return!!((e==="v4"||!e)&&rW.test(t)||(e==="v6"||!e)&&aW.test(t))}function mW(t,e){if(!eW.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function fW(t,e){return!!((e==="v4"||!e)&&iW.test(t)||(e==="v6"||!e)&&oW.test(t))}class Br extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const a=this._getOrReturnCtx(e);return Ee(a,{code:me.invalid_type,expected:Ie.string,received:a.parsedType}),Qe}const r=new on;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Ee(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ee(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")sW.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"email",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Py||(Py=new RegExp(nW,"u")),Py.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"emoji",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")ZH.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"uuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")JH.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"nanoid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")QH.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")YH.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid2",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")XH.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ulid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ee(i,{validation:"url",code:me.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"regex",code:me.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?vI(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?dW.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?uW(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?tW.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"duration",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?hW(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ip",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?mW(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"jwt",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?fW(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cidr",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?lW.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?cW.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64url",code:me.invalid_string,message:a.message}),r.dirty()):bt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:me.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new Br({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Br.create=t=>new Br({checks:[],typeName:Ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});function pW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class oo extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const a=this._getOrReturnCtx(e);return Ee(a,{code:me.invalid_type,expected:Ie.number,received:a.parsedType}),Qe}let r;const i=new on;for(const a of this._def.checks)a.kind==="int"?bt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?pW(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.not_finite,message:a.message}),i.dirty()):bt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new oo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}oo.create=t=>new oo({checks:[],typeName:Ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class lo extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let r;const i=new on;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):bt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:me.invalid_type,expected:Ie.bigint,received:n.parsedType}),Qe}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new lo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new lo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lo.create=t=>new lo({checks:[],typeName:Ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});class hh extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.boolean,received:r.parsedType}),Qe}return Nn(e.data)}}hh.create=t=>new hh({typeName:Ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Nl extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const a=this._getOrReturnCtx(e);return Ee(a,{code:me.invalid_type,expected:Ie.date,received:a.parsedType}),Qe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ee(a,{code:me.invalid_date}),Qe}const r=new on;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):bt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Nl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Nl.create=t=>new Nl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ze.ZodDate,...ot(t)});class Pp extends ut{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.symbol,received:r.parsedType}),Qe}return Nn(e.data)}}Pp.create=t=>new Pp({typeName:Ze.ZodSymbol,...ot(t)});class mh extends ut{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.undefined,received:r.parsedType}),Qe}return Nn(e.data)}}mh.create=t=>new mh({typeName:Ze.ZodUndefined,...ot(t)});class fh extends ut{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.null,received:r.parsedType}),Qe}return Nn(e.data)}}fh.create=t=>new fh({typeName:Ze.ZodNull,...ot(t)});class jd extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return Nn(e.data)}}jd.create=t=>new jd({typeName:Ze.ZodAny,...ot(t)});class ul extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nn(e.data)}}ul.create=t=>new ul({typeName:Ze.ZodUnknown,...ot(t)});class ma extends ut{_parse(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:me.invalid_type,expected:Ie.never,received:n.parsedType}),Qe}}ma.create=t=>new ma({typeName:Ze.ZodNever,...ot(t)});class Tp extends ut{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.void,received:r.parsedType}),Qe}return Nn(e.data)}}Tp.create=t=>new Tp({typeName:Ze.ZodVoid,...ot(t)});class qr extends ut{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ie.array)return Ee(n,{code:me.invalid_type,expected:Ie.array,received:n.parsedType}),Qe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Ee(n,{code:o?me.too_big:me.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ee(n,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ee(n,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Pi(n,o,n.path,l)))).then(o=>on.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Pi(n,o,n.path,l)));return on.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new qr({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new qr({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new qr({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}qr.create=(t,e)=>new qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...ot(e)});function ec(t){if(t instanceof es){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=wi.create(ec(r))}return new es({...t._def,shape:()=>e})}else return t instanceof qr?new qr({...t._def,type:ec(t.element)}):t instanceof wi?wi.create(ec(t.unwrap())):t instanceof uo?uo.create(ec(t.unwrap())):t instanceof Ti?Ti.create(t.items.map(e=>ec(e))):t}class es extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=bt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const d=this._getOrReturnCtx(e);return Ee(d,{code:me.invalid_type,expected:Ie.object,received:d.parsedType}),Qe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Pi(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ma){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Ee(i,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Pi(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>on.mergeObjectSync(r,d)):on.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new es({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new es({...this._def,unknownKeys:"strip"})}passthrough(){return new es({...this._def,unknownKeys:"passthrough"})}extend(e){return new es({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new es({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ze.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new es({...this._def,catchall:e})}pick(e){const n={};for(const r of bt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new es({...this._def,shape:()=>n})}omit(e){const n={};for(const r of bt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new es({...this._def,shape:()=>n})}deepPartial(){return ec(this)}partial(e){const n={};for(const r of bt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new es({...this._def,shape:()=>n})}required(e){const n={};for(const r of bt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof wi;)a=a._def.innerType;n[r]=a}return new es({...this._def,shape:()=>n})}keyof(){return jI(bt.objectKeys(this.shape))}}es.create=(t,e)=>new es({shape:()=>t,unknownKeys:"strip",catchall:ma.create(),typeName:Ze.ZodObject,...ot(e)});es.strictCreate=(t,e)=>new es({shape:()=>t,unknownKeys:"strict",catchall:ma.create(),typeName:Ze.ZodObject,...ot(e)});es.lazycreate=(t,e)=>new es({shape:t,unknownKeys:"strip",catchall:ma.create(),typeName:Ze.ZodObject,...ot(e)});class ph extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new tr(l.ctx.common.issues));return Ee(n,{code:me.invalid_union,unionErrors:o}),Qe}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new tr(c));return Ee(n,{code:me.invalid_union,unionErrors:l}),Qe}}get options(){return this._def.options}}ph.create=(t,e)=>new ph({options:t,typeName:Ze.ZodUnion,...ot(e)});const $i=t=>t instanceof yh?$i(t.schema):t instanceof Yr?$i(t.innerType()):t instanceof vh?[t.value]:t instanceof co?t.options:t instanceof jh?bt.objectValues(t.enum):t instanceof bh?$i(t._def.innerType):t instanceof mh?[void 0]:t instanceof fh?[null]:t instanceof wi?[void 0,...$i(t.unwrap())]:t instanceof uo?[null,...$i(t.unwrap())]:t instanceof Zw||t instanceof Nh?$i(t.unwrap()):t instanceof wh?$i(t._def.innerType):[];class Kx extends ut{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.object)return Ee(n,{code:me.invalid_type,expected:Ie.object,received:n.parsedType}),Qe;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ee(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=$i(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Kx({typeName:Ze.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ot(r)})}}function Nj(t,e){const n=Vi(t),r=Vi(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&r===Ie.object){const i=bt.objectKeys(e),a=bt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Nj(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ie.array&&r===Ie.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Nj(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ie.date&&r===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xh extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(bj(a)||bj(o))return Qe;const l=Nj(a.value,o.value);return l.valid?((wj(a)||wj(o))&&n.dirty(),{status:n.value,value:l.data}):(Ee(r,{code:me.invalid_intersection_types}),Qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xh.create=(t,e,n)=>new xh({left:t,right:e,typeName:Ze.ZodIntersection,...ot(n)});class Ti extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return Ee(r,{code:me.invalid_type,expected:Ie.array,received:r.parsedType}),Qe;if(r.data.length<this._def.items.length)return Ee(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Pi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>on.mergeArray(n,o)):on.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ti({...this._def,rest:e})}}Ti.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ti({items:t,typeName:Ze.ZodTuple,rest:null,...ot(e)})};class gh extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Ee(r,{code:me.invalid_type,expected:Ie.object,received:r.parsedType}),Qe;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Pi(r,l,r.path,l)),value:o._parse(new Pi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?on.mergeObjectAsync(n,i):on.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ut?new gh({keyType:e,valueType:n,typeName:Ze.ZodRecord,...ot(r)}):new gh({keyType:Br.create(),valueType:e,typeName:Ze.ZodRecord,...ot(n)})}}class Ep extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return Ee(r,{code:me.invalid_type,expected:Ie.map,received:r.parsedType}),Qe;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Pi(r,l,r.path,[d,"key"])),value:a._parse(new Pi(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Qe;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Qe;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Ep.create=(t,e,n)=>new Ep({valueType:e,keyType:t,typeName:Ze.ZodMap,...ot(n)});class Sl extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return Ee(r,{code:me.invalid_type,expected:Ie.set,received:r.parsedType}),Qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ee(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ee(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Qe;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Pi(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Sl({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new Sl({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Sl.create=(t,e)=>new Sl({valueType:t,minSize:null,maxSize:null,typeName:Ze.ZodSet,...ot(e)});class Sc extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.function)return Ee(n,{code:me.invalid_type,expected:Ie.function,received:n.parsedType}),Qe;function r(l,c){return kp({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_p(),vd].filter(d=>!!d),issueData:{code:me.invalid_arguments,argumentsError:c}})}function i(l,c){return kp({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_p(),vd].filter(d=>!!d),issueData:{code:me.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof bd){const l=this;return Nn(async function(...c){const d=new tr([]),u=await l._def.args.parseAsync(c,a).catch(y=>{throw d.addIssue(r(c,y)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(y=>{throw d.addIssue(i(h,y)),d})})}else{const l=this;return Nn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new tr([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new tr([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Sc({...this._def,args:Ti.create(e).rest(ul.create())})}returns(e){return new Sc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Sc({args:e||Ti.create([]).rest(ul.create()),returns:n||ul.create(),typeName:Ze.ZodFunction,...ot(r)})}}class yh extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yh.create=(t,e)=>new yh({getter:t,typeName:Ze.ZodLazy,...ot(e)});class vh extends ut{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ee(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}vh.create=(t,e)=>new vh({value:t,typeName:Ze.ZodLiteral,...ot(e)});function jI(t,e){return new co({values:t,typeName:Ze.ZodEnum,...ot(e)})}class co extends ut{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{expected:bt.joinValues(r),received:n.parsedType,code:me.invalid_type}),Qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{received:n.data,code:me.invalid_enum_value,options:r}),Qe}return Nn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return co.create(e,{...this._def,...n})}exclude(e,n=this._def){return co.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}co.create=jI;class jh extends ut{_parse(e){const n=bt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const i=bt.objectValues(n);return Ee(r,{expected:bt.joinValues(i),received:r.parsedType,code:me.invalid_type}),Qe}if(this._cache||(this._cache=new Set(bt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=bt.objectValues(n);return Ee(r,{received:r.data,code:me.invalid_enum_value,options:i}),Qe}return Nn(e.data)}get enum(){return this._def.values}}jh.create=(t,e)=>new jh({values:t,typeName:Ze.ZodNativeEnum,...ot(e)});class bd extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return Ee(n,{code:me.invalid_type,expected:Ie.promise,received:n.parsedType}),Qe;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return Nn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bd.create=(t,e)=>new bd({type:t,typeName:Ze.ZodPromise,...ot(e)});class Yr extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ee(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Qe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Qe:c.status==="dirty"||n.value==="dirty"?mc(c.value):c});{if(n.value==="aborted")return Qe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Qe:l.status==="dirty"||n.value==="dirty"?mc(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wl(o))return Qe;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>wl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Qe);bt.assertNever(i)}}Yr.create=(t,e,n)=>new Yr({schema:t,typeName:Ze.ZodEffects,effect:e,...ot(n)});Yr.createWithPreprocess=(t,e,n)=>new Yr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ze.ZodEffects,...ot(n)});class wi extends ut{_parse(e){return this._getType(e)===Ie.undefined?Nn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:Ze.ZodOptional,...ot(e)});class uo extends ut{_parse(e){return this._getType(e)===Ie.null?Nn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uo.create=(t,e)=>new uo({innerType:t,typeName:Ze.ZodNullable,...ot(e)});class bh extends ut{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bh.create=(t,e)=>new bh({innerType:t,typeName:Ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class wh extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return uh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new tr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new tr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wh.create=(t,e)=>new wh({innerType:t,typeName:Ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class Ap extends ut{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return Ee(r,{code:me.invalid_type,expected:Ie.nan,received:r.parsedType}),Qe}return{status:"valid",value:e.data}}}Ap.create=t=>new Ap({typeName:Ze.ZodNaN,...ot(t)});const xW=Symbol("zod_brand");class Zw extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sm extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Qe:a.status==="dirty"?(n.dirty(),mc(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Sm({in:e,out:n,typeName:Ze.ZodPipeline})}}class Nh extends ut{_parse(e){const n=this._def.innerType._parse(e),r=i=>(wl(i)&&(i.value=Object.freeze(i.value)),i);return uh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Nh.create=(t,e)=>new Nh({innerType:t,typeName:Ze.ZodReadonly,...ot(e)});function oC(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Jw(t,e={},n){return t?jd.create().superRefine((r,i)=>{const a=t(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=oC(e,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=oC(e,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):jd.create()}const gW={object:es.lazycreate};var Ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const bI=(t,e={message:`Input not instance of ${t.name}`})=>Jw(n=>n instanceof t,e),te=Br.create,Vs=oo.create,yW=Ap.create,vW=lo.create,ra=hh.create,jW=Nl.create,bW=Pp.create,wW=mh.create,wI=fh.create,hl=jd.create,NW=ul.create,SW=ma.create,CW=Tp.create,Xr=qr.create,Un=es.create,_W=es.strictCreate,eN=ph.create,kW=Kx.create,PW=xh.create,TW=Ti.create,NI=gh.create,EW=Ep.create,AW=Sl.create,FW=Sc.create,RW=yh.create,IW=vh.create,Ys=co.create,DW=jh.create,OW=bd.create,lC=Yr.create,MW=wi.create,LW=uo.create,$W=Yr.createWithPreprocess,UW=Sm.create,BW=()=>te().optional(),VW=()=>Vs().optional(),zW=()=>ra().optional(),Yn={string:t=>Br.create({...t,coerce:!0}),number:t=>oo.create({...t,coerce:!0}),boolean:t=>hh.create({...t,coerce:!0}),bigint:t=>lo.create({...t,coerce:!0}),date:t=>Nl.create({...t,coerce:!0})},qW=Qe,HW=Object.freeze(Object.defineProperty({__proto__:null,BRAND:xW,DIRTY:mc,EMPTY_PATH:GH,INVALID:Qe,NEVER:qW,OK:Nn,ParseStatus:on,Schema:ut,ZodAny:jd,ZodArray:qr,ZodBigInt:lo,ZodBoolean:hh,ZodBranded:Zw,ZodCatch:wh,ZodDate:Nl,ZodDefault:bh,ZodDiscriminatedUnion:Kx,ZodEffects:Yr,ZodEnum:co,ZodError:tr,get ZodFirstPartyTypeKind(){return Ze},ZodFunction:Sc,ZodIntersection:xh,ZodIssueCode:me,ZodLazy:yh,ZodLiteral:vh,ZodMap:Ep,ZodNaN:Ap,ZodNativeEnum:jh,ZodNever:ma,ZodNull:fh,ZodNullable:uo,ZodNumber:oo,ZodObject:es,ZodOptional:wi,ZodParsedType:Ie,ZodPipeline:Sm,ZodPromise:bd,ZodReadonly:Nh,ZodRecord:gh,ZodSchema:ut,ZodSet:Sl,ZodString:Br,ZodSymbol:Pp,ZodTransformer:Yr,ZodTuple:Ti,ZodType:ut,ZodUndefined:mh,ZodUnion:ph,ZodUnknown:ul,ZodVoid:Tp,addIssueToContext:Ee,any:hl,array:Xr,bigint:vW,boolean:ra,coerce:Yn,custom:Jw,date:jW,datetimeRegex:vI,defaultErrorMap:vd,discriminatedUnion:kW,effect:lC,enum:Ys,function:FW,getErrorMap:_p,getParsedType:Vi,instanceof:bI,intersection:PW,isAborted:bj,isAsync:uh,isDirty:wj,isValid:wl,late:gW,lazy:RW,literal:IW,makeIssue:kp,map:EW,nan:yW,nativeEnum:DW,never:SW,null:wI,nullable:LW,number:Vs,object:Un,get objectUtil(){return jj},oboolean:zW,onumber:VW,optional:MW,ostring:BW,pipeline:UW,preprocess:$W,promise:OW,quotelessJson:WH,record:NI,set:AW,setErrorMap:KH,strictObject:_W,string:te,symbol:bW,transformer:lC,tuple:TW,undefined:wW,union:eN,unknown:NW,get util(){return bt},void:CW},Symbol.toStringTag,{value:"Module"}));var WW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KW=WW.reduce((t,e)=>{const n=ym(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),GW="Separator",cC="horizontal",QW=["horizontal","vertical"],SI=f.forwardRef((t,e)=>{const{decorative:n,orientation:r=cC,...i}=t,a=YW(r)?r:cC,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(KW.div,{"data-orientation":a,...l,...i,ref:e})});SI.displayName=GW;function YW(t){return QW.includes(t)}var CI=SI;const rt=f.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(CI,{ref:i,decorative:n,orientation:e,className:Se("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));rt.displayName=CI.displayName;function XW(t){const e=ZW(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(eK);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function ZW(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=sK(i),l=tK(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JW=Symbol("radix.slottable");function eK(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JW}function tK(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function sK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Gx="Dialog",[_I,kI]=_n(Gx),[nK,ei]=_I(Gx),PI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=f.useRef(null),c=f.useRef(null),[d,u]=Kr({prop:r,defaultProp:i??!1,onChange:a,caller:Gx});return s.jsx(nK,{scope:e,triggerRef:l,contentRef:c,contentId:fr(),titleId:fr(),descriptionId:fr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};PI.displayName=Gx;var TI="DialogTrigger",EI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ei(TI,n),a=it(e,i.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nN(i.open),...r,ref:a,onClick:be(t.onClick,i.onOpenToggle)})});EI.displayName=TI;var tN="DialogPortal",[rK,AI]=_I(tN,{forceMount:void 0}),FI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=ei(tN,e);return s.jsx(rK,{scope:e,forceMount:n,children:f.Children.map(r,o=>s.jsx(Js,{present:n||a.open,children:s.jsx(um,{asChild:!0,container:i,children:o})}))})};FI.displayName=tN;var Fp="DialogOverlay",RI=f.forwardRef((t,e)=>{const n=AI(Fp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ei(Fp,t.__scopeDialog);return a.modal?s.jsx(Js,{present:r||a.open,children:s.jsx(aK,{...i,ref:e})}):null});RI.displayName=Fp;var iK=XW("DialogOverlay.RemoveScroll"),aK=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ei(Fp,n);return s.jsx(Bx,{as:iK,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Be.div,{"data-state":nN(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cl="DialogContent",II=f.forwardRef((t,e)=>{const n=AI(Cl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ei(Cl,t.__scopeDialog);return s.jsx(Js,{present:r||a.open,children:a.modal?s.jsx(oK,{...i,ref:e}):s.jsx(lK,{...i,ref:e})})});II.displayName=Cl;var oK=f.forwardRef((t,e)=>{const n=ei(Cl,t.__scopeDialog),r=f.useRef(null),i=it(e,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return Mw(a)},[]),s.jsx(DI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault())})}),lK=f.forwardRef((t,e)=>{const n=ei(Cl,t.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return s.jsx(DI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),DI=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=ei(Cl,n),c=f.useRef(null),d=it(e,c);return Ow(),s.jsxs(s.Fragment,{children:[s.jsx(Lx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Fd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nN(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(dK,{titleId:l.titleId}),s.jsx(hK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sN="DialogTitle",OI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ei(sN,n);return s.jsx(Be.h2,{id:i.titleId,...r,ref:e})});OI.displayName=sN;var MI="DialogDescription",LI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ei(MI,n);return s.jsx(Be.p,{id:i.descriptionId,...r,ref:e})});LI.displayName=MI;var $I="DialogClose",UI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ei($I,n);return s.jsx(Be.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});UI.displayName=$I;function nN(t){return t?"open":"closed"}var BI="DialogTitleWarning",[cK,VI]=U8(BI,{contentName:Cl,titleName:sN,docsSlug:"dialog"}),dK=({titleId:t})=>{const e=VI(BI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uK="DialogDescriptionWarning",hK=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VI(uK).contentName}}.`;return f.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zI=PI,qI=EI,HI=FI,rN=RI,iN=II,aN=OI,oN=LI,lN=UI;const ts=zI,WI=qI,mK=HI,KI=f.forwardRef(({className:t,...e},n)=>s.jsx(rN,{ref:n,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KI.displayName=rN.displayName;const Gt=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(mK,{children:[s.jsx(KI,{}),s.jsxs(iN,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(lN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(xm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gt.displayName=iN.displayName;const os=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});os.displayName="DialogHeader";const xn=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xn.displayName="DialogFooter";const ls=f.forwardRef(({className:t,...e},n)=>s.jsx(aN,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));ls.displayName=aN.displayName;const ps=f.forwardRef(({className:t,...e},n)=>s.jsx(oN,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));ps.displayName=oN.displayName;const W=f.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Se("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));W.displayName="Input";const Qt=f.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Qt.displayName="Textarea";var fK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pK=fK.reduce((t,e)=>{const n=ym(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xK="Label",GI=f.forwardRef((t,e)=>s.jsx(pK.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GI.displayName=xK;var QI=GI;const gK=mm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=f.forwardRef(({className:t,...e},n)=>s.jsx(QI,{ref:n,className:Se(gK(),t),...e}));Ce.displayName=QI.displayName;const Mr=SH,YI=f.createContext({}),ne=({...t})=>s.jsx(YI.Provider,{value:{name:t.name},children:s.jsx(PH,{...t})}),Qx=()=>{const t=f.useContext(YI),e=f.useContext(XI),{getFieldState:n,formState:r}=Wx(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},XI=f.createContext({}),J=f.forwardRef(({className:t,...e},n)=>{const r=f.useId();return s.jsx(XI.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Se("space-y-2",t),...e})})});J.displayName="FormItem";const ee=f.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Qx();return s.jsx(Ce,{ref:n,className:Se(r&&"text-destructive",t),htmlFor:i,...e})});ee.displayName="FormLabel";const ie=f.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Qx();return s.jsx(MF,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});ie.displayName="FormControl";const Ss=f.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Qx();return s.jsx("p",{ref:n,id:r,className:Se("text-sm text-muted-foreground",t),...e})});Ss.displayName="FormDescription";const oe=f.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=Qx(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:Se("text-sm font-medium text-destructive",t),...n,children:o}):null});oe.displayName="FormMessage";const yK=Un({firstName:te().min(1,"First name is required"),lastName:te().min(1,"Last name is required"),email:te().email("Valid email is required"),subject:te().min(1,"Subject is required"),message:te().min(10,"Message must be at least 10 characters")});function vK(){const[t,e]=f.useState(!1),{toast:n}=Bt(),r=Kn({resolver:Gn(yK),defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:""}}),i=Ae({mutationFn:async a=>await De("POST","/api/contact",a),onSuccess:()=>{n({title:"Message sent",description:"We'll get back to you as soon as possible."}),r.reset(),e(!1)},onError:a=>{n({title:"Error",description:a.message||"Failed to send message",variant:"destructive"})}});return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"mt-auto border-t bg-muted/30",children:s.jsx("div",{className:"container px-4 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Ready Set Fly. All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[s.jsx("button",{onClick:()=>e(!0),className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"button-contact-us",children:"Contact Us"}),s.jsx(rt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(vt,{href:"/privacy-policy",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-privacy-policy",children:"Privacy Policy"}),s.jsx(rt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(vt,{href:"/terms-of-service",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-terms-of-service",children:"Terms of Service"}),s.jsx(rt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(vt,{href:"/delete-account",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-delete-account",children:"Delete Account"})]})]})})}),s.jsx(ts,{open:t,onOpenChange:e,children:s.jsxs(Gt,{className:"max-w-md","data-testid":"dialog-contact-us",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Contact Us"}),s.jsx(ps,{children:"Have a question or feedback? Send us a message and we'll get back to you soon."})]}),s.jsx(Mr,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(a=>i.mutate(a)),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:r.control,name:"firstName",render:({field:a})=>s.jsxs(J,{children:[s.jsx(ee,{children:"First Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"John",...a,"data-testid":"input-contact-first-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:r.control,name:"lastName",render:({field:a})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Last Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Doe",...a,"data-testid":"input-contact-last-name"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:r.control,name:"email",render:({field:a})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Email"}),s.jsx(ie,{children:s.jsx(W,{type:"email",placeholder:"john@example.com",...a,"data-testid":"input-contact-email"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:r.control,name:"subject",render:({field:a})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Subject"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"How can we help?",...a,"data-testid":"input-contact-subject"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:r.control,name:"message",render:({field:a})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Message"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Tell us what's on your mind...",className:"min-h-[120px]",...a,"data-testid":"textarea-contact-message"})}),s.jsx(oe,{})]})}),s.jsxs(xn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{e(!1),r.reset()},"data-testid":"button-cancel-contact",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:i.isPending,"data-testid":"button-submit-contact",children:i.isPending?"Sending...":"Send Message"})]})]})})]})})]})}function Sj(t,[e,n]){return Math.min(n,Math.max(e,t))}function jK(t){const e=bK(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(NK);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function bK(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=CK(i),l=SK(a,i.props);return i.type!==f.Fragment&&(l.ref=r?xa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wK=Symbol("radix.slottable");function NK(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wK}function SK(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function CK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cN(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _K=[" ","Enter","ArrowUp","ArrowDown"],kK=[" ","Enter"],_l="Select",[Yx,Xx,PK]=kx(_l),[Md]=_n(_l,[PK,Od]),Zx=Od(),[TK,So]=Md(_l),[EK,AK]=Md(_l),ZI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:y,form:b}=t,j=Zx(e),[v,p]=f.useState(null),[x,w]=f.useState(null),[N,_]=f.useState(!1),C=vm(d),[k,P]=Kr({prop:r,defaultProp:i??!1,onChange:a,caller:_l}),[M,R]=Kr({prop:o,defaultProp:l,onChange:c,caller:_l}),L=f.useRef(null),V=v?b||!!v.closest("form"):!0,[Z,se]=f.useState(new Set),E=Array.from(Z).map(K=>K.props.value).join(";");return s.jsx(Pw,{...j,children:s.jsxs(TK,{required:y,scope:e,trigger:v,onTriggerChange:p,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:fr(),value:M,onValueChange:R,open:k,onOpenChange:P,dir:C,triggerPointerDownPosRef:L,disabled:m,children:[s.jsx(Yx.Provider,{scope:e,children:s.jsx(EK,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(K=>{se(de=>new Set(de).add(K))},[]),onNativeOptionRemove:f.useCallback(K=>{se(de=>{const B=new Set(de);return B.delete(K),B})},[]),children:n})}),V?s.jsxs(wD,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:K=>R(K.target.value),disabled:m,form:b,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(Z)]},E):null]})})};ZI.displayName=_l;var JI="SelectTrigger",eD=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Zx(n),o=So(JI,n),l=o.disabled||r,c=it(e,o.onTriggerChange),d=Xx(n),u=f.useRef("touch"),[h,m,y]=SD(j=>{const v=d().filter(w=>!w.disabled),p=v.find(w=>w.value===o.value),x=CD(v,j,p);x!==void 0&&o.onValueChange(x.value)}),b=j=>{l||(o.onOpenChange(!0),y()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(Tw,{asChild:!0,...a,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ND(o.value)?"":void 0,...i,ref:c,onClick:be(i.onClick,j=>{j.currentTarget.focus(),u.current!=="mouse"&&b(j)}),onPointerDown:be(i.onPointerDown,j=>{u.current=j.pointerType;const v=j.target;v.hasPointerCapture(j.pointerId)&&v.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:be(i.onKeyDown,j=>{const v=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&m(j.key),!(v&&j.key===" ")&&_K.includes(j.key)&&(b(),j.preventDefault())})})})});eD.displayName=JI;var tD="SelectValue",sD=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=So(tD,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=it(e,c.onValueNodeChange);return hs(()=>{d(u)},[d,u]),s.jsx(Be.span,{...l,ref:h,style:{pointerEvents:"none"},children:ND(c.value)?s.jsx(s.Fragment,{children:o}):a})});sD.displayName=tD;var FK="SelectIcon",nD=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Be.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});nD.displayName=FK;var RK="SelectPortal",rD=t=>s.jsx(um,{asChild:!0,...t});rD.displayName=RK;var kl="SelectContent",iD=f.forwardRef((t,e)=>{const n=So(kl,t.__scopeSelect),[r,i]=f.useState();if(hs(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Rl.createPortal(s.jsx(aD,{scope:t.__scopeSelect,children:s.jsx(Yx.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(oD,{...t,ref:e})});iD.displayName=kl;var wr=10,[aD,Co]=Md(kl),IK="SelectContentImpl",DK=jK("SelectContent.RemoveScroll"),oD=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:v,...p}=t,x=So(kl,n),[w,N]=f.useState(null),[_,C]=f.useState(null),k=it(e,je=>N(je)),[P,M]=f.useState(null),[R,L]=f.useState(null),V=Xx(n),[Z,se]=f.useState(!1),E=f.useRef(!1);f.useEffect(()=>{if(w)return Mw(w)},[w]),Ow();const K=f.useCallback(je=>{const[$e,...nt]=V().map(pe=>pe.ref.current),[Je]=nt.slice(-1),Me=document.activeElement;for(const pe of je)if(pe===Me||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===$e&&_&&(_.scrollTop=0),pe===Je&&_&&(_.scrollTop=_.scrollHeight),pe==null||pe.focus(),document.activeElement!==Me))return},[V,_]),de=f.useCallback(()=>K([P,w]),[K,P,w]);f.useEffect(()=>{Z&&de()},[Z,de]);const{onOpenChange:B,triggerPointerDownPosRef:F}=x;f.useEffect(()=>{if(w){let je={x:0,y:0};const $e=Je=>{var Me,pe;je={x:Math.abs(Math.round(Je.pageX)-(((Me=F.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Je.pageY)-(((pe=F.current)==null?void 0:pe.y)??0))}},nt=Je=>{je.x<=10&&je.y<=10?Je.preventDefault():w.contains(Je.target)||B(!1),document.removeEventListener("pointermove",$e),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",$e),document.addEventListener("pointerup",nt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",nt,{capture:!0})}}},[w,B,F]),f.useEffect(()=>{const je=()=>B(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[B]);const[D,le]=SD(je=>{const $e=V().filter(Me=>!Me.disabled),nt=$e.find(Me=>Me.ref.current===document.activeElement),Je=CD($e,je,nt);Je&&setTimeout(()=>Je.ref.current.focus())}),fe=f.useCallback((je,$e,nt)=>{const Je=!E.current&&!nt;(x.value!==void 0&&x.value===$e||Je)&&(M(je),Je&&(E.current=!0))},[x.value]),qe=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Ke=f.useCallback((je,$e,nt)=>{const Je=!E.current&&!nt;(x.value!==void 0&&x.value===$e||Je)&&L(je)},[x.value]),Ct=r==="popper"?Cj:lD,st=Ct===Cj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:v}:{};return s.jsx(aD,{scope:n,content:w,viewport:_,onViewportChange:C,itemRefCallback:fe,selectedItem:P,onItemLeave:qe,itemTextRefCallback:Ke,focusSelectedItem:de,selectedItemText:R,position:r,isPositioned:Z,searchRef:D,children:s.jsx(Bx,{as:DK,allowPinchZoom:!0,children:s.jsx(Lx,{asChild:!0,trapped:x.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:be(i,je=>{var $e;($e=x.trigger)==null||$e.focus({preventScroll:!0}),je.preventDefault()}),children:s.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(Ct,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:je=>je.preventDefault(),...p,...st,onPlaced:()=>se(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:be(p.onKeyDown,je=>{const $e=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!$e&&je.key.length===1&&le(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let Je=V().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(je.key)&&(Je=Je.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Me=je.target,pe=Je.indexOf(Me);Je=Je.slice(pe+1)}setTimeout(()=>K(Je)),je.preventDefault()}})})})})})})});oD.displayName=IK;var OK="SelectItemAlignedPosition",lD=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=So(kl,n),o=Co(kl,n),[l,c]=f.useState(null),[d,u]=f.useState(null),h=it(e,k=>u(k)),m=Xx(n),y=f.useRef(!1),b=f.useRef(!0),{viewport:j,selectedItem:v,selectedItemText:p,focusSelectedItem:x}=o,w=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&j&&v&&p){const k=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),R=p.getBoundingClientRect();if(a.dir!=="rtl"){const Me=R.left-P.left,pe=M.left-Me,He=k.left-pe,ct=k.width+He,Dt=Math.max(ct,P.width),Zt=window.innerWidth-wr,Vt=Sj(pe,[wr,Math.max(wr,Zt-Dt)]);l.style.minWidth=ct+"px",l.style.left=Vt+"px"}else{const Me=P.right-R.right,pe=window.innerWidth-M.right-Me,He=window.innerWidth-k.right-pe,ct=k.width+He,Dt=Math.max(ct,P.width),Zt=window.innerWidth-wr,Vt=Sj(pe,[wr,Math.max(wr,Zt-Dt)]);l.style.minWidth=ct+"px",l.style.right=Vt+"px"}const L=m(),V=window.innerHeight-wr*2,Z=j.scrollHeight,se=window.getComputedStyle(d),E=parseInt(se.borderTopWidth,10),K=parseInt(se.paddingTop,10),de=parseInt(se.borderBottomWidth,10),B=parseInt(se.paddingBottom,10),F=E+K+Z+B+de,D=Math.min(v.offsetHeight*5,F),le=window.getComputedStyle(j),fe=parseInt(le.paddingTop,10),qe=parseInt(le.paddingBottom,10),Ke=k.top+k.height/2-wr,Ct=V-Ke,st=v.offsetHeight/2,je=v.offsetTop+st,$e=E+K+je,nt=F-$e;if($e<=Ke){const Me=L.length>0&&v===L[L.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-j.offsetTop-j.offsetHeight,He=Math.max(Ct,st+(Me?qe:0)+pe+de),ct=$e+He;l.style.height=ct+"px"}else{const Me=L.length>0&&v===L[0].ref.current;l.style.top="0px";const He=Math.max(Ke,E+j.offsetTop+(Me?fe:0)+st)+nt;l.style.height=He+"px",j.scrollTop=$e-Ke+j.offsetTop}l.style.margin=`${wr}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,d,j,v,p,a.dir,r]);hs(()=>w(),[w]);const[N,_]=f.useState();hs(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const C=f.useCallback(k=>{k&&b.current===!0&&(w(),x==null||x(),b.current=!1)},[w,x]);return s.jsx(LK,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Be.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lD.displayName=OK;var MK="SelectPopperPosition",Cj=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=wr,...a}=t,o=Zx(n);return s.jsx(Ew,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cj.displayName=MK;var[LK,dN]=Md(kl,{}),_j="SelectViewport",cD=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Co(_j,n),o=dN(_j,n),l=it(e,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Yx.Slot,{scope:n,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const b=window.innerHeight-wr*2,j=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),p=Math.max(j,v);if(p<b){const x=p+y,w=Math.min(b,x),N=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});cD.displayName=_j;var dD="SelectGroup",[$K,UK]=Md(dD),BK=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fr();return s.jsx($K,{scope:n,id:i,children:s.jsx(Be.div,{role:"group","aria-labelledby":i,...r,ref:e})})});BK.displayName=dD;var uD="SelectLabel",hD=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=UK(uD,n);return s.jsx(Be.div,{id:i.id,...r,ref:e})});hD.displayName=uD;var Rp="SelectItem",[VK,mD]=Md(Rp),fD=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=So(Rp,n),c=Co(Rp,n),d=l.value===r,[u,h]=f.useState(a??""),[m,y]=f.useState(!1),b=it(e,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,r,i)}),j=fr(),v=f.useRef("touch"),p=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(VK,{scope:n,value:r,disabled:i,textId:j,isSelected:d,onItemTextChange:f.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Yx.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:s.jsx(Be.div,{role:"option","aria-labelledby":j,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:be(o.onFocus,()=>y(!0)),onBlur:be(o.onBlur,()=>y(!1)),onClick:be(o.onClick,()=>{v.current!=="mouse"&&p()}),onPointerUp:be(o.onPointerUp,()=>{v.current==="mouse"&&p()}),onPointerDown:be(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:be(o.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(kK.includes(x.key)&&p(),x.key===" "&&x.preventDefault())})})})})});fD.displayName=Rp;var mu="SelectItemText",pD=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=So(mu,n),l=Co(mu,n),c=mD(mu,n),d=AK(mu,n),[u,h]=f.useState(null),m=it(e,p=>h(p),c.onItemTextChange,p=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,p,c.value,c.disabled)}),y=u==null?void 0:u.textContent,b=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:v}=d;return hs(()=>(j(b),()=>v(b)),[j,v,b]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rl.createPortal(a.children,o.valueNode):null]})});pD.displayName=mu;var xD="SelectItemIndicator",gD=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mD(xD,n).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});gD.displayName=xD;var kj="SelectScrollUpButton",yD=f.forwardRef((t,e)=>{const n=Co(kj,t.__scopeSelect),r=dN(kj,t.__scopeSelect),[i,a]=f.useState(!1),o=it(e,r.onScrollButtonChange);return hs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(jD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yD.displayName=kj;var Pj="SelectScrollDownButton",vD=f.forwardRef((t,e)=>{const n=Co(Pj,t.__scopeSelect),r=dN(Pj,t.__scopeSelect),[i,a]=f.useState(!1),o=it(e,r.onScrollButtonChange);return hs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(jD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});vD.displayName=Pj;var jD=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Co("SelectScrollButton",n),o=f.useRef(null),l=Xx(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),hs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:be(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:be(i.onPointerLeave,()=>{c()})})}),zK="SelectSeparator",bD=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});bD.displayName=zK;var Tj="SelectArrow",qK=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zx(n),a=So(Tj,n),o=Co(Tj,n);return a.open&&o.position==="popper"?s.jsx(Aw,{...i,...r,ref:e}):null});qK.displayName=Tj;var HK="SelectBubbleInput",wD=f.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=f.useRef(null),a=it(r,i),o=cN(e);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(Be.select,{...n,style:{...v4,...n.style},ref:a,defaultValue:e})});wD.displayName=HK;function ND(t){return t===""||t===void 0}function SD(t){const e=ds(t),n=f.useRef(""),r=f.useRef(0),i=f.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function CD(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=WK(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function WK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KK=ZI,_D=eD,GK=sD,QK=nD,YK=rD,kD=iD,XK=cD,PD=hD,TD=fD,ZK=pD,JK=gD,ED=yD,AD=vD,FD=bD;const Ds=KK,Os=GK,_s=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(_D,{ref:r,className:Se("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(QK,{asChild:!0,children:s.jsx(Eu,{className:"h-4 w-4 opacity-50"})})]}));_s.displayName=_D.displayName;const RD=f.forwardRef(({className:t,...e},n)=>s.jsx(ED,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(qB,{className:"h-4 w-4"})}));RD.displayName=ED.displayName;const ID=f.forwardRef(({className:t,...e},n)=>s.jsx(AD,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Eu,{className:"h-4 w-4"})}));ID.displayName=AD.displayName;const ks=f.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(YK,{children:s.jsxs(kD,{ref:i,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(RD,{}),s.jsx(XK,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(ID,{})]})}));ks.displayName=kD.displayName;const eG=f.forwardRef(({className:t,...e},n)=>s.jsx(PD,{ref:n,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eG.displayName=PD.displayName;const we=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(TD,{ref:r,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(JK,{children:s.jsx(ih,{className:"h-4 w-4"})})}),s.jsx(ZK,{children:e})]}));we.displayName=TD.displayName;const tG=f.forwardRef(({className:t,...e},n)=>s.jsx(FD,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));tG.displayName=FD.displayName;const $=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));$.displayName="Card";const re=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));re.displayName="CardHeader";const ae=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));ae.displayName="CardTitle";const Re=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));Re.displayName="CardDescription";const U=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("p-6 pt-0",t),...e}));U.displayName="CardContent";const uN=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",t),...e}));uN.displayName="CardFooter";function sG({id:t,make:e,model:n,year:r,hourlyRate:i,image:a,location:o,certifications:l,totalTime:c,avionics:d,insuranceIncluded:u,responseTime:h,acceptanceRate:m,onCardClick:y}){return s.jsxs($,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02] cursor-pointer",onClick:y,"data-testid":`card-aircraft-${t}`,children:[s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden rounded-t-xl",children:[s.jsx("img",{src:a,alt:`${r} ${e} ${n}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:l.map(b=>s.jsx(Q,{className:"bg-chart-2 text-white text-xs font-semibold","data-testid":`badge-cert-${b}`,children:b},b))}),s.jsx(O,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-background/80 backdrop-blur hover:bg-background","data-testid":`button-favorite-${t}`,"aria-label":"Add to favorites",children:s.jsx(Ru,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs(Q,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Verified Owner"]})})]}),s.jsxs(U,{className:"p-6",children:[s.jsxs("h3",{className:"font-display text-xl font-semibold mb-1 hover:text-primary transition-colors","data-testid":`title-aircraft-${t}`,children:[r," ",e," ",n]}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold","data-testid":`text-rate-${t}`,children:["$",i]}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"/hour"}),u&&s.jsx(Q,{variant:"outline",className:"text-xs",children:"Insurance Included"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q4,{className:"h-4 w-4"}),s.jsxs("span",{children:[r," | ",c.toLocaleString()," hrs | ",d]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lo,{className:"h-4 w-4"}),s.jsx("span",{children:o})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Response: ",h,"h"]}),s.jsxs("span",{children:["Acceptance: ",m,"%"]})]})]})]})}var Jx="Checkbox",[nG]=_n(Jx),[rG,hN]=nG(Jx);function iG(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[m,y]=Kr({prop:n,defaultProp:i??!1,onChange:c,caller:Jx}),[b,j]=f.useState(null),[v,p]=f.useState(null),x=f.useRef(!1),w=b?!!o||!!b.closest("form"):!0,N={checked:m,disabled:a,setChecked:y,control:b,setControl:j,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:so(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:p};return s.jsx(rG,{scope:e,...N,children:aG(h)?h(N):r})}var DD="CheckboxTrigger",OD=f.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:b}=hN(DD,t),j=it(i,u),v=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const x=()=>h(v.current);return p.addEventListener("reset",x),()=>p.removeEventListener("reset",x)}},[a,h]),s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":so(c)?"mixed":c,"aria-required":d,"data-state":BD(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:j,onKeyDown:be(e,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:be(n,p=>{h(x=>so(x)?!0:!x),b&&y&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});OD.displayName=DD;var mN=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return s.jsx(iG,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(OD,{...h,ref:e,__scopeCheckbox:n}),m&&s.jsx(UD,{__scopeCheckbox:n})]})})});mN.displayName=Jx;var MD="CheckboxIndicator",LD=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=hN(MD,n);return s.jsx(Js,{present:r||so(a.checked)||a.checked===!0,children:s.jsx(Be.span,{"data-state":BD(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});LD.displayName=MD;var $D="CheckboxBubbleInput",UD=f.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:y}=hN($D,t),b=it(n,y),j=cN(a),v=Cw(r);f.useEffect(()=>{const x=m;if(!x)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,C=!i.current;if(j!==a&&_){const k=new Event("click",{bubbles:C});x.indeterminate=so(a),_.call(x,so(a)?!1:a),x.dispatchEvent(k)}},[m,j,a,i]);const p=f.useRef(so(a)?!1:a);return s.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});UD.displayName=$D;function aG(t){return typeof t=="function"}function so(t){return t==="indeterminate"}function BD(t){return so(t)?"indeterminate":t?"checked":"unchecked"}const As=f.forwardRef(({className:t,...e},n)=>s.jsx(mN,{ref:n,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(LD,{className:Se("flex items-center justify-center text-current"),children:s.jsx(ih,{className:"h-4 w-4"})})}));As.displayName=mN.displayName;var eg="Collapsible",[oG]=_n(eg),[lG,fN]=oG(eg),VD=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=Kr({prop:r,defaultProp:i??!1,onChange:o,caller:eg});return s.jsx(lG,{scope:n,disabled:a,contentId:fr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Be.div,{"data-state":xN(c),"data-disabled":a?"":void 0,...l,ref:e})})});VD.displayName=eg;var zD="CollapsibleTrigger",qD=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=fN(zD,n);return s.jsx(Be.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":xN(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:be(t.onClick,i.onOpenToggle)})});qD.displayName=zD;var pN="CollapsibleContent",HD=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=fN(pN,t.__scopeCollapsible);return s.jsx(Js,{present:n||i.open,children:({present:a})=>s.jsx(cG,{...r,ref:e,present:a})})});HD.displayName=pN;var cG=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,o=fN(pN,n),[l,c]=f.useState(r),d=f.useRef(null),u=it(e,d),h=f.useRef(0),m=h.current,y=f.useRef(0),b=y.current,j=o.open||l,v=f.useRef(j),p=f.useRef(void 0);return f.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),hs(()=>{const x=d.current;if(x){p.current=p.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();h.current=w.height,y.current=w.width,v.current||(x.style.transitionDuration=p.current.transitionDuration,x.style.animationName=p.current.animationName),c(r)}},[o.open,r]),s.jsx(Be.div,{"data-state":xN(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!j,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:j&&i})});function xN(t){return t?"open":"closed"}var dG=VD;const Ty=dG,Ey=qD,Ay=HD,uG=["PPL","IR","CPL","Multi-Engine","ATP"],hG=["Single-Engine","Multi-Engine","Jet","Turboprop","Helicopter"],mG=["Garmin G1000","Garmin G500","Aspen","Steam Gauges"];function fG({keyword:t,setKeyword:e,city:n,setCity:r,state:i,setState:a,radius:o,setRadius:l,onClearAll:c}){return s.jsxs("div",{className:"space-y-6","data-testid":"aircraft-filters",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Filters"}),s.jsx(O,{variant:"outline",className:"w-full","data-testid":"button-clear-filters",onClick:c,children:"Clear All"})]}),s.jsx(rt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"Search Aircraft"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{placeholder:"e.g., Cessna 172, Piper Archer",value:t,onChange:d=>e(d.target.value),className:"pl-10","data-testid":"input-keyword-search"})]})]}),s.jsx(rt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Ce,{className:"text-xs text-muted-foreground mb-1.5 block",children:"City"}),s.jsx(W,{placeholder:"Enter city",value:n,onChange:d=>r(d.target.value),"data-testid":"input-city"})]}),s.jsxs("div",{children:[s.jsx(Ce,{className:"text-xs text-muted-foreground mb-1.5 block",children:"State"}),s.jsx(W,{placeholder:"e.g., CA, TX, FL",value:i,onChange:d=>a(d.target.value),maxLength:2,"data-testid":"input-state"})]}),s.jsxs("div",{children:[s.jsx(Ce,{className:"text-xs text-muted-foreground mb-1.5 block",children:"Radius"}),s.jsxs(Ds,{value:o,onValueChange:l,children:[s.jsx(_s,{"data-testid":"select-radius",children:s.jsx(Os,{})}),s.jsxs(ks,{children:[s.jsx(we,{value:"25",children:"25 miles"}),s.jsx(we,{value:"50",children:"50 miles"}),s.jsx(we,{value:"100",children:"100 miles"}),s.jsx(we,{value:"200",children:"200 miles"}),s.jsx(we,{value:"500",children:"500 miles"})]})]})]})]})]}),s.jsx(rt,{}),s.jsxs(Ty,{defaultOpen:!0,children:[s.jsxs(Ey,{className:"flex items-center justify-between w-full",children:[s.jsx(Ce,{className:"text-sm font-semibold cursor-pointer",children:"Certifications Required"}),s.jsx(Eu,{className:"h-4 w-4"})]}),s.jsx(Ay,{className:"space-y-3 mt-3",children:uG.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:`cert-${d}`,"data-testid":`checkbox-cert-${d}`}),s.jsx("label",{htmlFor:`cert-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(rt,{}),s.jsxs(Ty,{defaultOpen:!0,children:[s.jsxs(Ey,{className:"flex items-center justify-between w-full",children:[s.jsx(Ce,{className:"text-sm font-semibold cursor-pointer",children:"Aircraft Category"}),s.jsx(Eu,{className:"h-4 w-4"})]}),s.jsx(Ay,{className:"space-y-3 mt-3",children:hG.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:`cat-${d}`,"data-testid":`checkbox-category-${d}`}),s.jsx("label",{htmlFor:`cat-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(rt,{}),s.jsxs(Ty,{children:[s.jsxs(Ey,{className:"flex items-center justify-between w-full",children:[s.jsx(Ce,{className:"text-sm font-semibold cursor-pointer",children:"Avionics Suite"}),s.jsx(Eu,{className:"h-4 w-4"})]}),s.jsx(Ay,{className:"space-y-3 mt-3",children:mG.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:`avionics-${d}`,"data-testid":`checkbox-avionics-${d}`}),s.jsx("label",{htmlFor:`avionics-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(rt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"Additional Options"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:"insurance","data-testid":"checkbox-insurance"}),s.jsx("label",{htmlFor:"insurance",className:"text-sm cursor-pointer",children:"Insurance Included"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:"wet-rate","data-testid":"checkbox-wet-rate"}),s.jsx("label",{htmlFor:"wet-rate",className:"text-sm cursor-pointer",children:"Wet Rate (Fuel Included)"})]})]})]})}var pG=Symbol("radix.slottable");function xG(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pG,e}var WD="AlertDialog",[gG]=_n(WD,[kI]),ga=kI(),KD=t=>{const{__scopeAlertDialog:e,...n}=t,r=ga(e);return s.jsx(zI,{...r,...n,modal:!0})};KD.displayName=WD;var yG="AlertDialogTrigger",GD=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ga(n);return s.jsx(qI,{...i,...r,ref:e})});GD.displayName=yG;var vG="AlertDialogPortal",QD=t=>{const{__scopeAlertDialog:e,...n}=t,r=ga(e);return s.jsx(HI,{...r,...n})};QD.displayName=vG;var jG="AlertDialogOverlay",YD=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ga(n);return s.jsx(rN,{...i,...r,ref:e})});YD.displayName=jG;var Cc="AlertDialogContent",[bG,wG]=gG(Cc),NG=xG("AlertDialogContent"),XD=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=ga(n),o=f.useRef(null),l=it(e,o),c=f.useRef(null);return s.jsx(cK,{contentName:Cc,titleName:ZD,docsSlug:"alert-dialog",children:s.jsx(bG,{scope:n,cancelRef:c,children:s.jsxs(iN,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:be(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(NG,{children:r}),s.jsx(CG,{contentRef:o})]})})})});XD.displayName=Cc;var ZD="AlertDialogTitle",JD=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ga(n);return s.jsx(aN,{...i,...r,ref:e})});JD.displayName=ZD;var e5="AlertDialogDescription",t5=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ga(n);return s.jsx(oN,{...i,...r,ref:e})});t5.displayName=e5;var SG="AlertDialogAction",s5=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ga(n);return s.jsx(lN,{...i,...r,ref:e})});s5.displayName=SG;var n5="AlertDialogCancel",r5=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=wG(n5,n),a=ga(n),o=it(e,i);return s.jsx(lN,{...a,...r,ref:o})});r5.displayName=n5;var CG=({contentRef:t})=>{const e=`\`${Cc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cc}\` by passing a \`${e5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},_G=KD,kG=GD,PG=QD,i5=YD,a5=XD,o5=s5,l5=r5,c5=JD,d5=t5;const Pl=_G,u5=kG,TG=PG,h5=f.forwardRef(({className:t,...e},n)=>s.jsx(i5,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));h5.displayName=i5.displayName;const ho=f.forwardRef(({className:t,...e},n)=>s.jsxs(TG,{children:[s.jsx(h5,{}),s.jsx(a5,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ho.displayName=a5.displayName;const mo=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",t),...e});mo.displayName="AlertDialogHeader";const fo=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});fo.displayName="AlertDialogFooter";const po=f.forwardRef(({className:t,...e},n)=>s.jsx(c5,{ref:n,className:Se("text-lg font-semibold",t),...e}));po.displayName=c5.displayName;const xo=f.forwardRef(({className:t,...e},n)=>s.jsx(d5,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));xo.displayName=d5.displayName;const go=f.forwardRef(({className:t,...e},n)=>s.jsx(o5,{ref:n,className:Se(Rw(),t),...e}));go.displayName=o5.displayName;const yo=f.forwardRef(({className:t,...e},n)=>s.jsx(l5,{ref:n,className:Se(Rw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));yo.displayName=l5.displayName;var tg="Switch",[EG]=_n(tg),[AG,FG]=EG(tg),m5=f.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,y]=f.useState(null),b=it(e,w=>y(w)),j=f.useRef(!1),v=m?u||!!m.closest("form"):!0,[p,x]=Kr({prop:i,defaultProp:a??!1,onChange:d,caller:tg});return s.jsxs(AG,{scope:n,checked:p,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":g5(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:be(t.onClick,w=>{x(N=>!N),v&&(j.current=w.isPropagationStopped(),j.current||w.stopPropagation())})}),v&&s.jsx(x5,{control:m,bubbles:!j.current,name:r,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});m5.displayName=tg;var f5="SwitchThumb",p5=f.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=FG(f5,n);return s.jsx(Be.span,{"data-state":g5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});p5.displayName=f5;var RG="SwitchBubbleInput",x5=f.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=f.useRef(null),l=it(o,a),c=cN(n),d=Cw(e);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&y){const b=new Event("click",{bubbles:r});y.call(u,n),u.dispatchEvent(b)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});x5.displayName=RG;function g5(t){return t?"checked":"unchecked"}var y5=m5,IG=p5;const Sh=f.forwardRef(({className:t,...e},n)=>s.jsx(y5,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(IG,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sh.displayName=y5.displayName;function DG(t){return Object.prototype.toString.call(t)==="[object Object]"}function dC(t){return DG(t)||Array.isArray(t)}function OG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function gN(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==a?!1:n.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!dC(l)||!dC(c)?l===c:gN(l,c)})}function uC(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function MG(t,e){if(t.length!==e.length)return!1;const n=uC(t),r=uC(e);return n.every((i,a)=>{const o=r[a];return gN(i,o)})}function yN(t){return typeof t=="number"}function Ej(t){return typeof t=="string"}function sg(t){return typeof t=="boolean"}function hC(t){return Object.prototype.toString.call(t)==="[object Object]"}function ns(t){return Math.abs(t)}function vN(t){return Math.sign(t)}function Ou(t,e){return ns(t-e)}function LG(t,e){if(t===0||e===0||ns(t)<=ns(e))return 0;const n=Ou(ns(t),ns(e));return ns(n/t)}function $G(t){return Math.round(t*100)/100}function Ch(t){return _h(t).map(Number)}function Hr(t){return t[Cm(t)]}function Cm(t){return Math.max(0,t.length-1)}function jN(t,e){return e===Cm(t)}function mC(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function _h(t){return Object.keys(t)}function v5(t,e){return[t,e].reduce((n,r)=>(_h(r).forEach(i=>{const a=n[i],o=r[i],l=hC(a)&&hC(o);n[i]=l?v5(a,o):o}),n),{})}function Aj(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function UG(t,e){const n={start:r,center:i,end:a};function r(){return 0}function i(c){return a(c)/2}function a(c){return e-c}function o(c,d){return Ej(t)?n[t](c):t(e,c,d)}return{measure:o}}function kh(){let t=[];function e(i,a,o,l={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,o,l),c=()=>i.removeEventListener(a,o,l);else{const d=i;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function BG(t,e,n,r){const i=kh(),a=1e3/60;let o=null,l=0,c=0;function d(){i.add(t,"visibilitychange",()=>{t.hidden&&b()})}function u(){y(),i.clear()}function h(v){if(!c)return;o||(o=v,n(),n());const p=v-o;for(o=v,l+=p;l>=a;)n(),l-=a;const x=l/a;r(x),c&&(c=e.requestAnimationFrame(h))}function m(){c||(c=e.requestAnimationFrame(h))}function y(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function b(){o=null,l=0}return{init:d,destroy:u,start:m,stop:y,update:n,render:r}}function VG(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",a=r?"x":"y",o=!r&&n?-1:1,l=u(),c=h();function d(b){const{height:j,width:v}=b;return r?j:v}function u(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(b){return b*o}return{scroll:i,cross:a,startEdge:l,endEdge:c,measureSize:d,direction:m}}function Tl(t=0,e=0){const n=ns(t-e);function r(d){return d<t}function i(d){return d>e}function a(d){return r(d)||i(d)}function o(d){return a(d)?r(d)?t:e:d}function l(d){return n?d-n*Math.ceil((d-e)/n):d}return{length:n,max:e,min:t,constrain:o,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:l}}function j5(t,e,n){const{constrain:r}=Tl(0,t),i=t+1;let a=o(e);function o(m){return n?ns((i+m)%i):r(m)}function l(){return a}function c(m){return a=o(m),h}function d(m){return u().set(l()+m)}function u(){return j5(t,l(),n)}const h={get:l,set:c,add:d,clone:u};return h}function zG(t,e,n,r,i,a,o,l,c,d,u,h,m,y,b,j,v,p,x){const{cross:w,direction:N}=t,_=["INPUT","SELECT","TEXTAREA"],C={passive:!1},k=kh(),P=kh(),M=Tl(50,225).constrain(y.measure(20)),R={mouse:300,touch:400},L={mouse:500,touch:600},V=b?43:25;let Z=!1,se=0,E=0,K=!1,de=!1,B=!1,F=!1;function D(pe){if(!x)return;function He(Dt){(sg(x)||x(pe,Dt))&&st(Dt)}const ct=e;k.add(ct,"dragstart",Dt=>Dt.preventDefault(),C).add(ct,"touchmove",()=>{},C).add(ct,"touchend",()=>{}).add(ct,"touchstart",He).add(ct,"mousedown",He).add(ct,"touchcancel",$e).add(ct,"contextmenu",$e).add(ct,"click",nt,!0)}function le(){k.clear(),P.clear()}function fe(){const pe=F?n:e;P.add(pe,"touchmove",je,C).add(pe,"touchend",$e).add(pe,"mousemove",je,C).add(pe,"mouseup",$e)}function qe(pe){const He=pe.nodeName||"";return _.includes(He)}function Ke(){return(b?L:R)[F?"mouse":"touch"]}function Ct(pe,He){const ct=h.add(vN(pe)*-1),Dt=u.byDistance(pe,!b).distance;return b||ns(pe)<M?Dt:v&&He?Dt*.5:u.byIndex(ct.get(),0).distance}function st(pe){const He=Aj(pe,r);F=He,B=b&&He&&!pe.buttons&&Z,Z=Ou(i.get(),o.get())>=2,!(He&&pe.button!==0)&&(qe(pe.target)||(K=!0,a.pointerDown(pe),d.useFriction(0).useDuration(0),i.set(o),fe(),se=a.readPoint(pe),E=a.readPoint(pe,w),m.emit("pointerDown")))}function je(pe){if(!Aj(pe,r)&&pe.touches.length>=2)return $e(pe);const ct=a.readPoint(pe),Dt=a.readPoint(pe,w),Zt=Ou(ct,se),Vt=Ou(Dt,E);if(!de&&!F&&(!pe.cancelable||(de=Zt>Vt,!de)))return $e(pe);const Pn=a.pointerMove(pe);Zt>j&&(B=!0),d.useFriction(.3).useDuration(.75),l.start(),i.add(N(Pn)),pe.preventDefault()}function $e(pe){const ct=u.byDistance(0,!1).index!==h.get(),Dt=a.pointerUp(pe)*Ke(),Zt=Ct(N(Dt),ct),Vt=LG(Dt,Zt),Pn=V-10*Vt,js=p+Vt/50;de=!1,K=!1,P.clear(),d.useDuration(Pn).useFriction(js),c.distance(Zt,!b),F=!1,m.emit("pointerUp")}function nt(pe){B&&(pe.stopPropagation(),pe.preventDefault(),B=!1)}function Je(){return K}return{init:D,destroy:le,pointerDown:Je}}function qG(t,e){let r,i;function a(h){return h.timeStamp}function o(h,m){const b=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Aj(h,e)?h:h.touches[0])[b]}function l(h){return r=h,i=h,o(h)}function c(h){const m=o(h)-o(i),y=a(h)-a(r)>170;return i=h,y&&(r=h),m}function d(h){if(!r||!i)return 0;const m=o(i)-o(r),y=a(h)-a(r),b=a(h)-a(i)>170,j=m/y;return y&&!b&&ns(j)>.1?j:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function HG(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:a,offsetHeight:o}=n;return{top:r,right:i+a,bottom:r+o,left:i,width:a,height:o}}return{measure:t}}function WG(t){function e(r){return t*(r/100)}return{measure:e}}function KG(t,e,n,r,i,a,o){const l=[t].concat(r);let c,d,u=[],h=!1;function m(v){return i.measureSize(o.measure(v))}function y(v){if(!a)return;d=m(t),u=r.map(m);function p(x){for(const w of x){if(h)return;const N=w.target===t,_=r.indexOf(w.target),C=N?d:u[_],k=m(N?t:r[_]);if(ns(k-C)>=.5){v.reInit(),e.emit("resize");break}}}c=new ResizeObserver(x=>{(sg(a)||a(v,x))&&p(x)}),n.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function b(){h=!0,c&&c.disconnect()}return{init:y,destroy:b}}function GG(t,e,n,r,i,a){let o=0,l=0,c=i,d=a,u=t.get(),h=0;function m(){const C=r.get()-t.get(),k=!c;let P=0;return k?(o=0,n.set(r),t.set(r),P=C):(n.set(t),o+=C/c,o*=d,u+=o,t.add(o),P=u-h),l=vN(P),h=u,_}function y(){const C=r.get()-e.get();return ns(C)<.001}function b(){return c}function j(){return l}function v(){return o}function p(){return w(i)}function x(){return N(a)}function w(C){return c=C,_}function N(C){return d=C,_}const _={direction:j,duration:b,velocity:v,seek:m,settled:y,useBaseFriction:x,useBaseDuration:p,useFriction:N,useDuration:w};return _}function QG(t,e,n,r,i){const a=i.measure(10),o=i.measure(50),l=Tl(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(y){if(!d())return;const b=t.reachedMin(e.get())?"min":"max",j=ns(t[b]-e.get()),v=n.get()-e.get(),p=l.constrain(j/o);n.subtract(v*p),!y&&ns(v)<a&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(y){c=!y}return{shouldConstrain:d,constrain:u,toggleActive:h}}function YG(t,e,n,r,i){const a=Tl(-e+t,0),o=h(),l=u(),c=m();function d(b,j){return Ou(b,j)<=1}function u(){const b=o[0],j=Hr(o),v=o.lastIndexOf(b),p=o.indexOf(j)+1;return Tl(v,p)}function h(){return n.map((b,j)=>{const{min:v,max:p}=a,x=a.constrain(b),w=!j,N=jN(n,j);return w?p:N||d(v,x)?v:d(p,x)?p:x}).map(b=>parseFloat(b.toFixed(3)))}function m(){if(e<=t+i)return[a.max];if(r==="keepSnaps")return o;const{min:b,max:j}=l;return o.slice(b,j)}return{snapsContained:c,scrollContainLimit:l}}function XG(t,e,n){const r=e[0],i=n?r-t:Hr(e);return{limit:Tl(i,r)}}function ZG(t,e,n,r){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=Tl(a,o);function d(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function u(m){if(!d(m))return;const y=t*(m*-1);r.forEach(b=>b.add(y))}return{loop:u}}function JG(t){const{max:e,length:n}=t;function r(a){const o=a-e;return n?o/-n:0}return{get:r}}function eQ(t,e,n,r,i){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=i,c=h().map(e.measure),d=m(),u=y();function h(){return l(r).map(j=>Hr(j)[o]-j[0][a]).map(ns)}function m(){return r.map(j=>n[a]-j[a]).map(j=>-ns(j))}function y(){return l(d).map(j=>j[0]).map((j,v)=>j+c[v])}return{snaps:d,snapsAligned:u}}function tQ(t,e,n,r,i,a){const{groupSlides:o}=i,{min:l,max:c}=r,d=u();function u(){const m=o(a),y=!t||e==="keepSnaps";return n.length===1?[a]:y?m:m.slice(l,c).map((b,j,v)=>{const p=!j,x=jN(v,j);if(p){const w=Hr(v[0])+1;return mC(w)}if(x){const w=Cm(a)-Hr(v)[0]+1;return mC(w,Hr(v)[0])}return b})}return{slideRegistry:d}}function sQ(t,e,n,r,i){const{reachedAny:a,removeOffset:o,constrain:l}=r;function c(b){return b.concat().sort((j,v)=>ns(j)-ns(v))[0]}function d(b){const j=t?o(b):l(b),v=e.map((x,w)=>({diff:u(x-j,0),index:w})).sort((x,w)=>ns(x.diff)-ns(w.diff)),{index:p}=v[0];return{index:p,distance:j}}function u(b,j){const v=[b,b+n,b-n];if(!t)return b;if(!j)return c(v);const p=v.filter(x=>vN(x)===j);return p.length?c(p):Hr(v)-n}function h(b,j){const v=e[b]-i.get(),p=u(v,j);return{index:b,distance:p}}function m(b,j){const v=i.get()+b,{index:p,distance:x}=d(v),w=!t&&a(v);if(!j||w)return{index:p,distance:b};const N=e[p]-x,_=b+u(N,0);return{index:p,distance:_}}return{byDistance:m,byIndex:h,shortcut:u}}function nQ(t,e,n,r,i,a,o){function l(h){const m=h.distance,y=h.index!==e.get();a.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,m){const y=i.byDistance(h,m);l(y)}function d(h,m){const y=e.clone().set(h),b=i.byIndex(y.get(),m);l(b)}return{distance:c,index:d}}function rQ(t,e,n,r,i,a,o,l){const c={passive:!0,capture:!0};let d=0;function u(y){if(!l)return;function b(j){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(w=>w.includes(j));yN(x)&&(i.useDuration(0),r.index(x,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((j,v)=>{a.add(j,"focus",p=>{(sg(l)||l(y,p))&&b(v)},c)})}function h(y){y.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function fu(t){let e=t;function n(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return yN(c)?c:c.get()}return{get:n,set:r,add:i,subtract:a}}function b5(t,e){const n=t.scroll==="x"?o:l,r=e.style;let i=null,a=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(a)return;const y=$G(t.direction(m));y!==i&&(r.transform=n(y),i=y)}function d(m){a=!m}function u(){a||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function iQ(t,e,n,r,i,a,o,l,c){const u=Ch(i),h=Ch(i).reverse(),m=p().concat(x());function y(k,P){return k.reduce((M,R)=>M-i[R],P)}function b(k,P){return k.reduce((M,R)=>y(M,P)>0?M.concat([R]):M,[])}function j(k){return a.map((P,M)=>({start:P-r[M]+.5+k,end:P+e-.5+k}))}function v(k,P,M){const R=j(P);return k.map(L=>{const V=M?0:-n,Z=M?n:0,se=M?"end":"start",E=R[L][se];return{index:L,loopPoint:E,slideLocation:fu(-1),translate:b5(t,c[L]),target:()=>l.get()>E?V:Z}})}function p(){const k=o[0],P=b(h,k);return v(P,n,!1)}function x(){const k=e-o[0]-1,P=b(u,k);return v(P,-n,!0)}function w(){return m.every(({index:k})=>{const P=u.filter(M=>M!==k);return y(P,e)<=.1})}function N(){m.forEach(k=>{const{target:P,translate:M,slideLocation:R}=k,L=P();L!==R.get()&&(M.to(L),R.set(L))})}function _(){m.forEach(k=>k.translate.clear())}return{canLoop:w,clear:_,loop:N,loopPoints:m}}function aQ(t,e,n){let r,i=!1;function a(c){if(!n)return;function d(u){for(const h of u)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(sg(n)||n(c,u))&&d(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:a,destroy:o}}function oQ(t,e,n,r){const i={};let a=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(b=>{c||(b.forEach(j=>{const v=e.indexOf(j.target);i[v]=j}),a=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(b=>l.observe(b))}function u(){l&&l.disconnect(),c=!0}function h(b){return _h(i).reduce((j,v)=>{const p=parseInt(v),{isIntersecting:x}=i[p];return(b&&x||!b&&!x)&&j.push(p),j},[])}function m(b=!0){if(b&&a)return a;if(!b&&o)return o;const j=h(b);return b&&(a=j),b||(o=j),j}return{init:d,destroy:u,get:m}}function lQ(t,e,n,r,i,a){const{measureSize:o,startEdge:l,endEdge:c}=t,d=n[0]&&i,u=b(),h=j(),m=n.map(o),y=v();function b(){if(!d)return 0;const x=n[0];return ns(e[l]-x[l])}function j(){if(!d)return 0;const x=a.getComputedStyle(Hr(r));return parseFloat(x.getPropertyValue(`margin-${c}`))}function v(){return n.map((x,w,N)=>{const _=!w,C=jN(N,w);return _?m[w]+u:C?m[w]+h:N[w+1][l]-x[l]}).map(ns)}return{slideSizes:m,slideSizesWithGaps:y,startGap:u,endGap:h}}function cQ(t,e,n,r,i,a,o,l,c){const{startEdge:d,endEdge:u,direction:h}=t,m=yN(n);function y(p,x){return Ch(p).filter(w=>w%x===0).map(w=>p.slice(w,w+x))}function b(p){return p.length?Ch(p).reduce((x,w,N)=>{const _=Hr(x)||0,C=_===0,k=w===Cm(p),P=i[d]-a[_][d],M=i[d]-a[w][u],R=!r&&C?h(o):0,L=!r&&k?h(l):0,V=ns(M-L-(P+R));return N&&V>e+c&&x.push(w),k&&x.push(p.length),x},[]).map((x,w,N)=>{const _=Math.max(N[w-1]||0);return p.slice(_,x)}):[]}function j(p){return m?y(p,n):b(p)}return{groupSlides:j}}function dQ(t,e,n,r,i,a,o){const{align:l,axis:c,direction:d,startIndex:u,loop:h,duration:m,dragFree:y,dragThreshold:b,inViewThreshold:j,slidesToScroll:v,skipSnaps:p,containScroll:x,watchResize:w,watchSlides:N,watchDrag:_,watchFocus:C}=a,k=2,P=HG(),M=P.measure(e),R=n.map(P.measure),L=VG(c,d),V=L.measureSize(M),Z=WG(V),se=UG(l,V),E=!h&&!!x,K=h||!!x,{slideSizes:de,slideSizesWithGaps:B,startGap:F,endGap:D}=lQ(L,M,R,n,K,i),le=cQ(L,V,v,h,M,R,F,D,k),{snaps:fe,snapsAligned:qe}=eQ(L,se,M,R,le),Ke=-Hr(fe)+Hr(B),{snapsContained:Ct,scrollContainLimit:st}=YG(V,Ke,qe,x,k),je=E?Ct:qe,{limit:$e}=XG(Ke,je,h),nt=j5(Cm(je),u,h),Je=nt.clone(),Me=Ch(n),pe=({dragHandler:ht,scrollBody:Ot,scrollBounds:Es,options:{loop:Fi}})=>{Fi||Es.constrain(ht.pointerDown()),Ot.seek()},He=({scrollBody:ht,translate:Ot,location:Es,offsetLocation:Fi,previousLocation:ya,scrollLooper:va,slideLooper:cn,dragHandler:Mt,animation:ms,eventHandler:Ge,scrollBounds:Fe,options:{loop:Ll}},$l)=>{const Ul=ht.settled(),Ud=!Fe.shouldConstrain(),Bl=Ll?Ul:Ul&&Ud,Vl=Bl&&!Mt.pointerDown();Vl&&ms.stop();const _o=Es.get()*$l+ya.get()*(1-$l);Fi.set(_o),Ll&&(va.loop(ht.direction()),cn.loop()),Ot.to(Fi.get()),Vl&&Ge.emit("settle"),Bl||Ge.emit("scroll")},ct=BG(r,i,()=>pe(gt),ht=>He(gt,ht)),Dt=.68,Zt=je[nt.get()],Vt=fu(Zt),Pn=fu(Zt),js=fu(Zt),Bn=fu(Zt),I=GG(Vt,js,Pn,Bn,m,Dt),H=sQ(h,je,Ke,$e,Bn),X=nQ(ct,nt,Je,I,H,Bn,o),Te=JG($e),ve=kh(),ge=oQ(e,n,o,j),{slideRegistry:Ue}=tQ(E,x,je,st,le,Me),xt=rQ(t,n,Ue,X,I,ve,o,C),gt={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:M,slideRects:R,animation:ct,axis:L,dragHandler:zG(L,t,r,i,Bn,qG(L,i),Vt,ct,X,I,H,nt,o,Z,y,b,p,Dt,_),eventStore:ve,percentOfView:Z,index:nt,indexPrevious:Je,limit:$e,location:Vt,offsetLocation:js,previousLocation:Pn,options:a,resizeHandler:KG(e,o,i,n,L,w,P),scrollBody:I,scrollBounds:QG($e,js,Bn,I,Z),scrollLooper:ZG(Ke,$e,js,[Vt,js,Pn,Bn]),scrollProgress:Te,scrollSnapList:je.map(Te.get),scrollSnaps:je,scrollTarget:H,scrollTo:X,slideLooper:iQ(L,V,Ke,de,B,fe,je,js,n),slideFocus:xt,slidesHandler:aQ(e,o,N),slidesInView:ge,slideIndexes:Me,slideRegistry:Ue,slidesToScroll:le,target:Bn,translate:b5(L,e)};return gt}function uQ(){let t={},e;function n(d){e=d}function r(d){return t[d]||[]}function i(d){return r(d).forEach(u=>u(e,d)),c}function a(d,u){return t[d]=r(d).concat([u]),c}function o(d,u){return t[d]=r(d).filter(h=>h!==u),c}function l(){t={}}const c={init:n,emit:i,off:o,on:a,clear:l};return c}const hQ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function mQ(t){function e(a,o){return v5(a,o||{})}function n(a){const o=a.breakpoints||{},l=_h(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(a,l)}function r(a){return a.map(o=>_h(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function fQ(t){let e=[];function n(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(a=>a.destroy())}return{init:n,destroy:r}}function Ip(t,e,n){const r=t.ownerDocument,i=r.defaultView,a=mQ(i),o=fQ(a),l=kh(),c=uQ(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:m,off:y,emit:b}=c,j=L;let v=!1,p,x=d(hQ,Ip.globalOptions),w=d(x),N=[],_,C,k;function P(){const{container:Me,slides:pe}=w;C=(Ej(Me)?t.querySelector(Me):Me)||t.children[0];const ct=Ej(pe)?C.querySelectorAll(pe):pe;k=[].slice.call(ct||C.children)}function M(Me){const pe=dQ(t,C,k,r,i,Me,c);if(Me.loop&&!pe.slideLooper.canLoop()){const He=Object.assign({},Me,{loop:!1});return M(He)}return pe}function R(Me,pe){v||(x=d(x,Me),w=u(x),N=pe||N,P(),p=M(w),h([x,...N.map(({options:He})=>He)]).forEach(He=>l.add(He,"change",L)),w.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(Je),p.eventHandler.init(Je),p.resizeHandler.init(Je),p.slidesHandler.init(Je),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&k.length&&p.dragHandler.init(Je),_=o.init(Je,N)))}function L(Me,pe){const He=le();V(),R(d({startIndex:He},Me),pe),c.emit("reInit")}function V(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),l.clear()}function Z(){v||(v=!0,l.clear(),V(),c.emit("destroy"),c.clear())}function se(Me,pe,He){!w.active||v||(p.scrollBody.useBaseFriction().useDuration(pe===!0?0:w.duration),p.scrollTo.index(Me,He||0))}function E(Me){const pe=p.index.add(1).get();se(pe,Me,-1)}function K(Me){const pe=p.index.add(-1).get();se(pe,Me,1)}function de(){return p.index.add(1).get()!==le()}function B(){return p.index.add(-1).get()!==le()}function F(){return p.scrollSnapList}function D(){return p.scrollProgress.get(p.offsetLocation.get())}function le(){return p.index.get()}function fe(){return p.indexPrevious.get()}function qe(){return p.slidesInView.get()}function Ke(){return p.slidesInView.get(!1)}function Ct(){return _}function st(){return p}function je(){return t}function $e(){return C}function nt(){return k}const Je={canScrollNext:de,canScrollPrev:B,containerNode:$e,internalEngine:st,destroy:Z,off:y,on:m,emit:b,plugins:Ct,previousScrollSnap:fe,reInit:j,rootNode:je,scrollNext:E,scrollPrev:K,scrollProgress:D,scrollSnapList:F,scrollTo:se,selectedScrollSnap:le,slideNodes:nt,slidesInView:qe,slidesNotInView:Ke};return R(e,n),setTimeout(()=>c.emit("init"),0),Je}Ip.globalOptions=void 0;function bN(t={},e=[]){const n=f.useRef(t),r=f.useRef(e),[i,a]=f.useState(),[o,l]=f.useState(),c=f.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return f.useEffect(()=>{gN(n.current,t)||(n.current=t,c())},[t,c]),f.useEffect(()=>{MG(r.current,e)||(r.current=e,c())},[e,c]),f.useEffect(()=>{if(OG()&&o){Ip.globalOptions=bN.globalOptions;const d=Ip(o,n.current,r.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,i]}bN.globalOptions=void 0;const w5=f.createContext(null);function ng(){const t=f.useContext(w5);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const rg=f.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:a,...o},l)=>{const[c,d]=bN({...e,axis:t==="horizontal"?"x":"y"},r),[u,h]=f.useState(!1),[m,y]=f.useState(!1),b=f.useCallback(x=>{x&&(h(x.canScrollPrev()),y(x.canScrollNext()))},[]),j=f.useCallback(()=>{d==null||d.scrollPrev()},[d]),v=f.useCallback(()=>{d==null||d.scrollNext()},[d]),p=f.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),j()):x.key==="ArrowRight"&&(x.preventDefault(),v())},[j,v]);return f.useEffect(()=>{!d||!n||n(d)},[d,n]),f.useEffect(()=>{if(d)return b(d),d.on("reInit",b),d.on("select",b),()=>{d==null||d.off("select",b)}},[d,b]),s.jsx(w5.Provider,{value:{carouselRef:c,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:v,canScrollPrev:u,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:p,className:Se("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});rg.displayName="Carousel";const ig=f.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=ng();return s.jsx("div",{ref:r,className:"overflow-hidden",children:s.jsx("div",{ref:n,className:Se("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});ig.displayName="CarouselContent";const ag=f.forwardRef(({className:t,...e},n)=>{const{orientation:r}=ng();return s.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Se("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});ag.displayName="CarouselItem";const og=f.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=ng();return s.jsxs(O,{ref:i,variant:e,size:n,className:Se("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx(Ex,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});og.displayName="CarouselPrevious";const lg=f.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=ng();return s.jsxs(O,{ref:i,variant:e,size:n,className:Se("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx($B,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});lg.displayName="CarouselNext";function N5({user:t,aircraft:e,type:n,size:r="md"}){const i=r==="sm"?"h-3 w-3":r==="lg"?"h-5 w-5":"h-4 w-4",a=r==="sm"?"text-xs":r==="lg"?"text-base":"text-sm";if(n==="renter"&&t)return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.identityVerified&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,"data-testid":"tooltip-identity-verified",children:s.jsxs(Q,{variant:"secondary",className:a,"data-testid":"badge-identity-verified",children:[s.jsx(wn,{className:`${i} mr-1`}),"Identity Verified"]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"Government ID and identity confirmed"}),t.identityVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.identityVerifiedAt).toLocaleDateString()]})]})]}),t.paymentVerified&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,"data-testid":"tooltip-payment-verified",children:s.jsxs(Q,{variant:"secondary",className:a,"data-testid":"badge-payment-verified",children:[s.jsx(Au,{className:`${i} mr-1`}),"Payment Verified"]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"Valid payment method on file"}),t.paymentVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.paymentVerifiedAt).toLocaleDateString()]})]})]}),t.faaVerified&&t.faaVerifiedMonth&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,"data-testid":"tooltip-faa-verified",children:s.jsxs(Q,{variant:"default",className:a,"data-testid":"badge-faa-verified",children:[s.jsx(Wt,{className:`${i} mr-1`}),"FAA Verified (",t.faaVerifiedMonth,")"]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"FAA pilot certificate verified"}),t.faaCertificateNumber&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cert #",t.faaCertificateNumber]})]})]})]});if(n==="owner"&&e){const o=e.annualDueDate?new Date(e.annualDueDate)>new Date:!1;return e.annualDueDate&&new Date(e.annualDueDate)<new Date,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.ownershipVerified&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,children:s.jsxs(Q,{variant:"default",className:a,"data-testid":"badge-ownership-verified",children:[s.jsx(wn,{className:`${i} mr-1`}),"Ownership Verified"]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"FAA aircraft registration confirmed"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["N-Number: ",e.registration]}),e.ownerNameMatch&&s.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Owner name matches registry"})]})]}),e.annualDueDate&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,children:s.jsxs(Q,{variant:o?"default":"destructive",className:a,"data-testid":o?"badge-annual-current":"badge-annual-overdue",children:[s.jsx(Q4,{className:`${i} mr-1`}),o?"Annual: Current":"Annual: Overdue"]})}),s.jsx(Li,{children:o?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Annual inspection current"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",new Date(e.annualDueDate).toLocaleDateString()]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"Annual inspection overdue!"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Was due: ",new Date(e.annualDueDate).toLocaleDateString()]})]})})]}),e.requires100Hour&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,children:s.jsxs(Q,{variant:e.hour100Remaining&&e.hour100Remaining>0?"secondary":"destructive",className:a,"data-testid":"badge-100-hour",children:[s.jsx(Lt,{className:`${i} mr-1`}),e.hour100Remaining!==null&&e.hour100Remaining!==void 0?`100-Hr: ${e.hour100Remaining} hrs left`:"100-Hr: Update needed"]})}),s.jsx(Li,{children:e.hour100Remaining&&e.hour100Remaining>0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"100-hour inspection upcoming"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.hour100Remaining," hours remaining"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"100-hour inspection may be due!"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please update current tach time"})]})})]}),!e.requires100Hour&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,children:s.jsxs(Q,{variant:"outline",className:a,"data-testid":"badge-100-hour-na",children:[s.jsx(Lt,{className:`${i} mr-1`}),"100-Hr: N/A"]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"100-hour inspection not required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Aircraft not used for hire or instruction"})]})]}),e.hasMaintenanceTracking&&e.maintenanceTrackingProvider&&s.jsxs(Na,{children:[s.jsx(Sa,{asChild:!0,children:s.jsxs(Q,{variant:"secondary",className:a,"data-testid":"badge-maintenance-tracking",children:[s.jsx(Wt,{className:`${i} mr-1`}),e.maintenanceTrackingProvider]})}),s.jsxs(Li,{children:[s.jsx("p",{children:"Professional maintenance tracking on file"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Provider: ",e.maintenanceTrackingProvider]})]})]}),!e.ownershipVerified&&!e.maintenanceVerified&&s.jsxs(Q,{variant:"outline",className:`${a} border-yellow-500 text-yellow-700 dark:text-yellow-400`,"data-testid":"badge-verification-pending",children:[s.jsx(jl,{className:`${i} mr-1`}),"Verification Pending"]})]})}return null}function S5({aircraftId:t,open:e,onOpenChange:n}){const{user:r}=ln(),{toast:i}=Bt(),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,m]=f.useState(!1),[y,b]=f.useState({startDate:"",endDate:"",estimatedHours:"",message:""}),{data:j,isLoading:v,error:p}=Ve({queryKey:["/api/aircraft",t],enabled:e});f.useEffect(()=>{j!=null&&j.adminNotes?u(j.adminNotes):j&&u("")},[j==null?void 0:j.id,j==null?void 0:j.adminNotes]),f.useEffect(()=>{e&&!v&&(p||!j)&&n(!1)},[e,v,p,j,n]);const x=Ae({mutationFn:async R=>{if(j)return await De("POST","/api/rentals",{aircraftId:j.id,ownerId:j.ownerId,...R,hourlyRate:j.hourlyRate})},onSuccess:()=>{i({title:"Rental Request Sent",description:"The aircraft owner will review your request and respond shortly."}),_e.invalidateQueries({queryKey:["/api/rentals"]}),o(!1),b({startDate:"",endDate:"",estimatedHours:"",message:""}),n(!1)},onError:R=>{i({title:"Request Failed",description:R.message,variant:"destructive"})}}),w=Ae({mutationFn:async R=>await De("DELETE",`/api/aircraft/${R}`,{}),onSuccess:()=>{i({title:"Aircraft Deleted",description:"The aircraft listing has been permanently deleted."}),_e.invalidateQueries({queryKey:["/api/aircraft"]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:R=>{i({title:"Delete Failed",description:R.message,variant:"destructive"})}}),N=Ae({mutationFn:async R=>await De("PATCH",`/api/admin/aircraft/${t}`,R),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/aircraft",t]}),_e.invalidateQueries({queryKey:["/api/aircraft"]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Aircraft Updated",description:"Aircraft listing has been updated successfully."})},onError:R=>{i({title:"Update Failed",description:R.message,variant:"destructive"})}}),_=()=>{j&&confirm(`Are you sure you want to permanently delete this aircraft listing (${j.year} ${j.make} ${j.model})? This action cannot be undone.`)&&w.mutate(j.id)},C=()=>{j&&N.mutate({isListed:!j.isListed})},k=()=>{j&&N.mutate({isFeatured:!j.isFeatured})},P=()=>{N.mutate({adminNotes:d})},M=j&&j.images&&j.images.length>0?j.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs(s.Fragment,{children:[s.jsx(ts,{open:e,onOpenChange:n,children:s.jsx(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","data-testid":"modal-aircraft-detail",children:v?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):j?s.jsxs(s.Fragment,{children:[s.jsx(os,{children:s.jsxs(ls,{className:"font-display text-3xl",children:[j.year," ",j.make," ",j.model]})}),s.jsx("div",{className:"relative",children:s.jsxs(rg,{className:"w-full",children:[s.jsx(ig,{children:M.map((R,L)=>s.jsx(ag,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:R,alt:`${j.year} ${j.make} ${j.model} - Image ${L+1}`,className:"w-full h-full object-cover"})})},L))}),M.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(og,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(lg,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-b py-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["$",j.hourlyRate]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{variant:"outline",children:j.location}),j.airportCode&&s.jsx(Q,{variant:"outline",children:j.airportCode})]})]}),!a&&s.jsxs(O,{size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){m(!0);return}r.id!==j.ownerId&&c(!0)},disabled:(r==null?void 0:r.id)===j.ownerId,"data-testid":"button-request-rental",children:[s.jsx(hr,{className:"h-5 w-5 mr-2"}),"Request to Rent"]})]}),a&&s.jsxs("div",{className:"bg-muted/50 p-6 rounded-xl space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Request Rental"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"startDate",children:"Start Date"}),s.jsx(W,{id:"startDate",type:"date",value:y.startDate,onChange:R=>b({...y,startDate:R.target.value}),"data-testid":"input-start-date"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"endDate",children:"End Date"}),s.jsx(W,{id:"endDate",type:"date",value:y.endDate,onChange:R=>b({...y,endDate:R.target.value}),"data-testid":"input-end-date"})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"estimatedHours",children:"Estimated Flight Hours"}),s.jsx(W,{id:"estimatedHours",type:"number",step:"0.1",placeholder:"5.0",value:y.estimatedHours,onChange:R=>b({...y,estimatedHours:R.target.value}),"data-testid":"input-estimated-hours"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"message",children:"Message to Owner (Optional)"}),s.jsx(Qt,{id:"message",placeholder:"Tell the owner about your flight plans...",value:y.message,onChange:R=>b({...y,message:R.target.value}),rows:3,"data-testid":"textarea-message"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(O,{className:"flex-1",onClick:()=>x.mutate(y),disabled:!y.startDate||!y.endDate||!y.estimatedHours||x.isPending,"data-testid":"button-submit-request",children:x.isPending?"Sending...":"Send Request"}),s.jsx(O,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-request",children:"Cancel"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Aircraft Specifications"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(q4,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Total Time"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.totalTime.toLocaleString()," hours"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.registration})]})]}),j.avionicsSuite&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Avionics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.avionicsSuite})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Insurance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.insuranceIncluded?"Included in hourly rate":"Not included"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.requiredCertifications.map(R=>s.jsx(Q,{className:"bg-chart-2 text-white",children:R},R))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Owner Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Verification Status"}),s.jsx(N5,{user:void 0,aircraft:j,type:"owner"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsxs("p",{className:"text-lg font-semibold",children:[j.responseTime||24,"h"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acceptance Rate"}),s.jsxs("p",{className:"text-lg font-semibold",children:[j.acceptanceRate||95,"%"]})]})]})]})]})]}),j.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:j.description})]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ce,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.isListed?"Active - visible to renters":"Inactive - hidden from search"})]}),s.jsx(Sh,{checked:j.isListed||!1,onCheckedChange:C,disabled:N.isPending,"data-testid":"switch-aircraft-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ce,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[j.isFeatured&&s.jsx($o,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(Sh,{checked:j.isFeatured||!1,onCheckedChange:k,disabled:N.isPending,"data-testid":"switch-aircraft-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(Qt,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:d,onChange:R=>u(R.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(O,{onClick:P,disabled:N.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(vt,{href:`/edit-aircraft/${j.id}`,children:s.jsxs(O,{variant:"outline","data-testid":"button-edit-aircraft",children:[s.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(O,{variant:"destructive",onClick:_,disabled:w.isPending,"data-testid":"button-delete-aircraft",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(Pl,{open:h,onOpenChange:m,children:s.jsxs(ho,{"data-testid":"dialog-login-prompt",children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Sign in to continue"}),s.jsx(xo,{children:"You need to create an account or sign in to request aircraft rentals and interact with owners."})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(go,{onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),s.jsx(Pl,{open:l,onOpenChange:c,children:s.jsxs(ho,{className:"max-w-2xl",children:[s.jsxs(mo,{children:[s.jsxs(po,{className:"flex items-center gap-2",children:[s.jsx(gw,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(xo,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-best-practices",children:"Cancel"}),s.jsx(go,{onClick:()=>{c(!1),o(!0)},className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-best-practices",children:"I Understand - Continue to Request"})]})]})})]})}function wN({placement:t,category:e,rotationIntervalMs:n=8e3,className:r=""}){const[i,a]=f.useState(0),[o,l]=f.useState(!1),{data:c=[],isLoading:d}=Ve({queryKey:["/api/banner-ads/active",t,e],queryFn:async()=>{const b=new URLSearchParams;t&&b.set("placement",t),e&&b.set("category",e);const j=await fetch(Il(`/api/banner-ads/active?${b.toString()}`));if(!j.ok)throw new Error("Failed to fetch banner ads");return j.json()},staleTime:6e4}),u=Ae({mutationFn:async b=>De("POST",`/api/banner-ads/${b}/impression`,{})}),h=Ae({mutationFn:async b=>De("POST",`/api/banner-ads/${b}/click`,{})}),m=c[i];if(f.useEffect(()=>{c.length>0&&(a(0),l(!1))},[c]),f.useEffect(()=>{if(c.length<=1)return;const b=setInterval(()=>{a(j=>(j+1)%c.length),l(!1)},n);return()=>clearInterval(b)},[c.length,n]),f.useEffect(()=>{m&&!o&&(u.mutate(m.id),l(!0))},[m==null?void 0:m.id,o]),d||!m||c.length===0)return null;const y=()=>{h.mutate(m.id),window.open(m.link,"_blank","noopener,noreferrer")};return s.jsx("div",{className:`w-full ${r}`,children:s.jsx($,{className:"overflow-hidden hover-elevate active-elevate-2 cursor-pointer transition-all duration-500",onClick:y,"data-testid":`banner-ad-${m.id}`,children:s.jsxs("div",{className:"relative",children:[m.imageUrl&&s.jsx("div",{className:"w-full h-32 bg-muted",children:s.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded px-2 py-1 text-xs text-muted-foreground",children:"Sponsored"})}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:m.title}),m.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:m.description})]}),s.jsx(Or,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),c.length>1&&s.jsx("div",{className:"flex gap-1 pt-2",children:c.map((b,j)=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${j===i?"bg-primary":"bg-muted"}`},j))})]})]})})})}const pQ="/assets/wingtip_featured_1761494838973-BRXeBduT.jpg",xQ=[{label:"IFR Equipped",value:"ifr"},{label:"Multi-Engine",value:"multi"},{label:"Glass Cockpit",value:"glass"}];function gQ(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState("100"),{data:m=[],isLoading:y}=Ve({queryKey:["/api/aircraft"]}),b=m.filter(v=>!(i&&!`${v.make} ${v.model} ${v.registration}`.toLowerCase().includes(i.toLowerCase())||o&&v.location&&!v.location.toLowerCase().includes(o.toLowerCase())||c&&v.location&&!v.location.toLowerCase().includes(c.toLowerCase()))),j=()=>{a(""),l(""),d(""),h("100")};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative h-[500px] sm:h-[600px] bg-gradient-to-r from-primary/20 to-secondary/20 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-transparent z-10"}),s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${pQ})`}}),s.jsxs("div",{className:"relative z-20 w-full max-w-5xl mx-auto px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-3 sm:mb-4","data-testid":"text-hero-title",children:"Find Your Perfect Aircraft"}),s.jsx("p",{className:"text-base sm:text-xl text-white/90 max-w-2xl mx-auto px-4",children:"Rent from certified aircraft owners. Fly with confidence."})]}),s.jsxs("div",{className:"bg-background/95 backdrop-blur-lg rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Aircraft Type"}),s.jsxs(Ds,{"data-testid":"select-aircraft-type",children:[s.jsx(_s,{className:"text-sm",children:s.jsx(Os,{placeholder:"Any type"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"single",children:"Single-Engine"}),s.jsx(we,{value:"multi",children:"Multi-Engine"}),s.jsx(we,{value:"jet",children:"Jet"}),s.jsx(we,{value:"turboprop",children:"Turboprop"}),s.jsx(we,{value:"helicopter",children:"Helicopter"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Certification Required"}),s.jsxs(Ds,{"data-testid":"select-certification",children:[s.jsx(_s,{className:"text-sm",children:s.jsx(Os,{placeholder:"Select certification"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"ppl",children:"PPL"}),s.jsx(we,{value:"ir",children:"IR"}),s.jsx(we,{value:"cpl",children:"CPL"}),s.jsx(we,{value:"multi",children:"Multi-Engine"}),s.jsx(we,{value:"atp",children:"ATP"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{placeholder:"City or airport code",className:"pl-10 text-sm","data-testid":"input-location"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Dates"}),s.jsxs("div",{className:"relative",children:[s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{type:"date",className:"pl-10 text-sm","data-testid":"input-dates"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:xQ.map(v=>s.jsx(Q,{variant:"outline",className:"cursor-pointer hover-elevate text-xs sm:text-sm","data-testid":`badge-filter-${v.value}`,children:v.label},v.value))}),s.jsxs(O,{className:"bg-accent text-accent-foreground hover:bg-accent rounded-full w-full sm:w-auto",size:"lg","data-testid":"button-search",children:[s.jsx(qn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Find Aircraft"]})]})]})]})]}),s.jsx(wN,{placement:"rentals",className:"container mx-auto px-4 py-8"}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-2","data-testid":"text-results-title",children:"Rental Aircraft Avaiable"}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-results-count",children:b.length})," aircraft match your search"]})]}),s.jsxs(O,{variant:"outline",onClick:()=>e(!t),className:"w-full sm:w-auto","data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]}),s.jsxs("div",{className:"flex gap-8",children:[t&&s.jsx("aside",{className:"w-80 flex-shrink-0",children:s.jsx(fG,{keyword:i,setKeyword:a,city:o,setCity:l,state:c,setState:d,radius:u,setRadius:h,onClearAll:j})}),s.jsx("div",{className:"flex-1",children:y?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},v))}):b.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No aircraft found matching your filters"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(v=>s.jsx(sG,{id:v.id,make:v.make,model:v.model,year:v.year,hourlyRate:v.hourlyRate,image:v.images[0]||"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=800",location:`${v.location}${v.airportCode?` (${v.airportCode})`:""}`,certifications:v.requiredCertifications,totalTime:v.totalTime,avionics:v.avionicsSuite||"N/A",insuranceIncluded:v.insuranceIncluded||!1,responseTime:v.responseTime||24,acceptanceRate:v.acceptanceRate||95,onCardClick:()=>r(v.id)},v.id))})})]})]}),s.jsx("section",{className:"bg-muted py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"font-display text-3xl font-bold text-center mb-12",children:"Why Pilots Trust Ready Set Fly"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Verified Pilots"}),s.jsx("p",{className:"text-muted-foreground",children:"All pilots are verified with license checks and insurance checks"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Comprehensive Insurance"}),s.jsx("p",{className:"text-muted-foreground",children:"Owenrs and renters are required to carry comprehensive insurance"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(wn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Support Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Our support experts are avaialble to assist you from 8am - 8pm (Central Standard Time) - 7 days a week"})]})]})]})}),n&&s.jsx(S5,{aircraftId:n,open:!!n,onOpenChange:v=>!v&&r(null)})]})}function yQ(){const{isAuthenticated:t}=ln();return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("div",{className:"relative bg-gradient-to-br from-primary/20 via-background to-background",children:s.jsx("div",{className:"container mx-auto px-4 py-12 sm:py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-6",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight",children:"Ready Set Fly"}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground px-4",children:"The Premier Aviation Marketplace for Aircraft Rentals & Sales"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Connect with verified pilots and aircraft owners. List your aircraft, find the perfect rental, or explore our marketplace for sales, jobs, CFIs, and more."}),s.jsx(Q,{variant:"outline",className:"mx-auto text-xs px-3 py-1",children:"Available for US Residents Only"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[s.jsx(O,{size:"lg",onClick:()=>window.location.href="/rentals","data-testid":"button-browse-listings",children:"Browse Listings"}),s.jsxs(O,{size:"lg",variant:"outline",onClick:()=>window.location.href="/pilot-tools","data-testid":"button-pilot-tools",children:[s.jsx(UB,{className:"h-4 w-4 mr-2"}),"Pilot Tools"]}),s.jsx(O,{size:"lg",variant:"outline",onClick:()=>{var e;(e=document.getElementById("features"))==null||e.scrollIntoView({behavior:"smooth"})},"data-testid":"button-learn-more",children:"Learn More"})]})]})})}),s.jsx(wN,{placement:"home",className:"container mx-auto px-4 py-8 max-w-7xl"}),s.jsxs("div",{id:"features",className:"container mx-auto px-4 py-12 sm:py-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"Why Choose Ready Set Fly?"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx($,{"data-testid":"card-feature-verified",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(wn,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Verified Users"}),s.jsx("p",{className:"text-muted-foreground",children:"All pilots and owners undergo verification with license checks and background screening for your safety."})]})})}),s.jsx($,{"data-testid":"card-feature-transparent",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(gs,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Transparent Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Fair 15% commission split (7.5% renter + 7.5% owner). No hidden fees, just straightforward pricing."})]})})}),s.jsx($,{"data-testid":"card-feature-messaging",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(H4,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Secure Messaging"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time messaging between renters and owners during active rentals for seamless communication."})]})})}),s.jsx($,{"data-testid":"card-feature-rentals",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Lt,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Aircraft Rentals"}),s.jsx("p",{className:"text-muted-foreground",children:"Browse hundreds of aircraft available for rent. Filter by certification requirements and location."})]})})}),s.jsx($,{"data-testid":"card-feature-marketplace",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Wt,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Full Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Beyond rentals: aircraft sales, aviation jobs, CFI listings, flight schools, mechanics, and charter services."})]})})}),s.jsx($,{"data-testid":"card-feature-financial",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(gs,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Financial Tracking"}),s.jsx("p",{className:"text-muted-foreground",children:"Owners can track earnings, deposits, and manage multiple aircraft listings from a single dashboard."})]})})})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-background dark:from-blue-950/20 dark:to-background py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"FREE Pilot Resources"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto",children:"Professional tools for pilots - completely free, no credit card required"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsx($,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(WB,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Digital Logbook"}),s.jsx(Q,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"FREE Forever"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your flight hours, aircraft types, and build your professional flight log. Export to CSV for your records or applications."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Track PIC, SIC, dual, instrument time & more"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Digital signatures with lock protection"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CSV export for backup & reporting"})]})]}),s.jsx(O,{className:"w-full",onClick:()=>window.location.href=t?"/logbook":"/login",children:t?"Open Logbook":"Sign In to Access"}),!t&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free account required - takes 30 seconds"})]})})}),s.jsx($,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(V4,{className:"h-8 w-8 text-sky-600 dark:text-sky-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Aviation Weather & Tools"}),s.jsx(Q,{variant:"secondary",className:"bg-sky-100 text-sky-800 dark:bg-sky-900/30 dark:text-sky-400",children:"No Sign In Required"}),s.jsx("p",{className:"text-muted-foreground",children:"Get current METAR, TAF, and quick access to essential aviation resources like NOTAMs, TFRs, and flight planning tools."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Live METAR & TAF for any airport"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Quick links to NOTAMs, TFRs & charts"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Flight planning & briefing resources"})]})]}),s.jsx(O,{className:"w-full",variant:"outline",onClick:()=>window.location.href="/pilot-tools",children:"Open Pilot Tools"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free for everyone - no account needed"})]})})})]})]})}),s.jsx("div",{className:"bg-muted/50 py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Ready to Take Flight?"}),s.jsx("p",{className:"text-base sm:text-xl text-muted-foreground mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Join thousands of pilots and aircraft owners in the most trusted aviation marketplace."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(O,{size:"lg",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-cta-login",children:"Create Your Account"}),s.jsx(O,{size:"lg",variant:"outline",onClick:()=>window.location.href="/rentals","data-testid":"button-cta-browse",children:"Browse Listings"})]})]})}),s.jsx("div",{className:"py-12 sm:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx($,{className:"overflow-hidden",children:s.jsx(U,{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(sV,{className:"h-6 w-6 text-primary"})}),s.jsx(Q,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Take Ready Set Fly Anywhere"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Our mobile app is coming soon to iOS and Android. Book aircraft rentals, browse marketplace listings, and manage your account on the go."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Browse and book aircraft on your phone"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Real-time messaging with owners"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Manage your listings and rentals anywhere"})]})]})]}),s.jsxs("div",{className:"bg-muted/30 p-6 sm:p-8 lg:p-12 flex flex-col justify-center items-center gap-4",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Download on"}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-app-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"App Store"})]})}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-play-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"Google Play"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4 max-w-[250px]",children:"Sign up now to be notified when our mobile apps launch"})]})]})})})})})}),s.jsx("div",{className:"py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-admin-login",className:"text-muted-foreground hover:text-foreground",children:"Admin Login"})})})]})}const vQ=mm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dn=f.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Se(vQ({variant:e}),t),...n}));Dn.displayName="Alert";const Mu=f.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:Se("mb-1 font-medium leading-none tracking-tight",t),...e}));Mu.displayName="AlertTitle";const On=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("text-sm [&_p]:leading-relaxed",t),...e}));On.displayName="AlertDescription";const fC={"aircraft-sale":"bg-primary text-primary-foreground",charter:"bg-secondary text-secondary-foreground",cfi:"bg-chart-2 text-white","flight-school":"bg-accent text-accent-foreground",mechanic:"bg-chart-4 text-white",job:"bg-chart-5 text-white"},pC={"aircraft-sale":"For Sale",charter:"Charter",cfi:"CFI","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function jQ({id:t,category:e,title:n,description:r,price:i,location:a,image:o,images:l,tier:c,isExample:d}){return s.jsxs($,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02]","data-testid":`card-marketplace-${t}`,children:[d&&s.jsx("div",{className:"bg-amber-500 text-white px-4 py-2 text-center font-semibold text-sm","data-testid":"banner-example",children:"EXAMPLE LISTING - For Reference Only"}),o?s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[s.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(Q,{className:fC[e],"data-testid":`badge-category-${e}`,children:pC[e]})}),c&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(Q,{variant:"outline",className:"bg-background/80 backdrop-blur capitalize",children:c})}),l>0&&s.jsx("div",{className:"absolute bottom-3 right-3",children:s.jsxs(Q,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(mp,{className:"h-3 w-3 mr-1"}),l]})})]}):s.jsxs("div",{className:"relative aspect-[3/2] bg-muted flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(Q,{className:fC[e],"data-testid":`badge-category-${e}`,children:pC[e]})}),s.jsx(mp,{className:"h-12 w-12 text-muted-foreground/30"})]}),s.jsxs(U,{className:"p-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2","data-testid":`text-title-${t}`,children:n}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:r}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(da,{className:"h-4 w-4"}),s.jsx("span",{children:a})]}),i&&s.jsx("span",{className:"font-bold text-lg","data-testid":`text-price-${t}`,children:i})]})]})]})}function bQ(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var NN="ScrollArea",[C5]=_n(NN),[wQ,vr]=C5(NN),_5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[y,b]=f.useState(null),[j,v]=f.useState(null),[p,x]=f.useState(0),[w,N]=f.useState(0),[_,C]=f.useState(!1),[k,P]=f.useState(!1),M=it(e,L=>c(L)),R=vm(i);return s.jsx(wQ,{scope:n,type:r,dir:R,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:j,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:N,children:s.jsx(Be.div,{dir:R,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});_5.displayName=NN;var k5="ScrollAreaViewport",P5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=vr(k5,n),l=f.useRef(null),c=it(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});P5.displayName=k5;var Ai="ScrollAreaScrollbar",SN=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vr(Ai,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(NQ,{...r,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(SQ,{...r,ref:e,forceMount:n}):i.type==="auto"?s.jsx(T5,{...r,ref:e,forceMount:n}):i.type==="always"?s.jsx(CN,{...r,ref:e}):null});SN.displayName=Ai;var NQ=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vr(Ai,t.__scopeScrollArea),[a,o]=f.useState(!1);return f.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Js,{present:n||a,children:s.jsx(T5,{"data-state":a?"visible":"hidden",...r,ref:e})})}),SQ=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vr(Ai,t.__scopeScrollArea),a=t.orientation==="horizontal",o=dg(()=>c("SCROLL_END"),100),[l,c]=bQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),f.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const y=d[u];h!==y&&(c("SCROLL"),o()),h=y};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(Js,{present:n||l!=="hidden",children:s.jsx(CN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:be(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),T5=f.forwardRef((t,e)=>{const n=vr(Ai,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=f.useState(!1),l=t.orientation==="horizontal",c=dg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return wd(n.viewport,c),wd(n.content,c),s.jsx(Js,{present:r||a,children:s.jsx(CN,{"data-state":a?"visible":"hidden",...i,ref:e})})}),CN=f.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=vr(Ai,t.__scopeScrollArea),a=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=I5(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,y){return EQ(m,o.current,l,y)}return n==="horizontal"?s.jsx(CQ,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,y=xC(m,l,i.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?s.jsx(_Q,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,y=xC(m,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),CQ=f.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=vr(Ai,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=it(e,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(A5,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cg(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(m),O5(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Op(o.paddingLeft),paddingEnd:Op(o.paddingRight)}})}})}),_Q=f.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=vr(Ai,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=it(e,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(A5,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cg(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(m),O5(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Op(o.paddingTop),paddingEnd:Op(o.paddingBottom)}})}})}),[kQ,E5]=C5(Ai),A5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=t,y=vr(Ai,n),[b,j]=f.useState(null),v=it(e,M=>j(M)),p=f.useRef(null),x=f.useRef(""),w=y.viewport,N=r.content-r.viewport,_=ds(u),C=ds(c),k=dg(h,10);function P(M){if(p.current){const R=M.clientX-p.current.left,L=M.clientY-p.current.top;d({x:R,y:L})}}return f.useEffect(()=>{const M=R=>{const L=R.target;(b==null?void 0:b.contains(L))&&_(R,N)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,b,N,_]),f.useEffect(C,[r,C]),wd(b,k),wd(y.content,k),s.jsx(kQ,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:ds(a),onThumbPointerUp:ds(o),onThumbPositionChange:C,onThumbPointerDown:ds(l),children:s.jsx(Be.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:be(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),p.current=b.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(M))}),onPointerMove:be(t.onPointerMove,P),onPointerUp:be(t.onPointerUp,M=>{const R=M.target;R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=x.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),Dp="ScrollAreaThumb",F5=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=E5(Dp,t.__scopeScrollArea);return s.jsx(Js,{present:n||i.hasThumb,children:s.jsx(PQ,{ref:e,...r})})}),PQ=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=vr(Dp,n),o=E5(Dp,n),{onThumbPositionChange:l}=o,c=it(e,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=dg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const y=AQ(h,l);d.current=y,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),s.jsx(Be.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(t.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,j=h.clientY-y.top;o.onThumbPointerDown({x:b,y:j})}),onPointerUp:be(t.onPointerUp,o.onThumbPointerUp)})});F5.displayName=Dp;var _N="ScrollAreaCorner",R5=f.forwardRef((t,e)=>{const n=vr(_N,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(TQ,{...t,ref:e}):null});R5.displayName=_N;var TQ=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=vr(_N,n),[a,o]=f.useState(0),[l,c]=f.useState(0),d=!!(a&&l);return wd(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),wd(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?s.jsx(Be.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Op(t){return t?parseInt(t,10):0}function I5(t,e){const n=t/e;return isNaN(n)?0:n}function cg(t){const e=I5(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function EQ(t,e,n,r="ltr"){const i=cg(n),a=i/2,o=e||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return D5([c,d],h)(t)}function xC(t,e,n="ltr"){const r=cg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Sj(t,c);return D5([0,o],[0,l])(d)}function D5(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function O5(t,e){return t>0&&t<e}var AQ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function dg(t,e){const n=ds(t),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function wd(t,e){const n=ds(e);hs(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var M5=_5,FQ=P5,RQ=R5;const Ph=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(M5,{ref:r,className:Se("relative overflow-hidden",t),...n,children:[s.jsx(FQ,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(kN,{}),s.jsx(RQ,{})]}));Ph.displayName=M5.displayName;const kN=f.forwardRef(({className:t,orientation:e="vertical",...n},r)=>s.jsx(SN,{ref:r,orientation:e,className:Se("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:s.jsx(F5,{className:"relative flex-1 rounded-full bg-border"})}));kN.displayName=SN.displayName;function PN(t){if(!t)return"";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)?"":`$${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function L5(t){if(!t)return"";const e=t.replace(/\D/g,"");return e.length===10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:e.length===11&&e[0]==="1"?`(${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:t}const IQ=Un({firstName:te().min(1,"First name is required"),lastName:te().min(1,"Last name is required"),email:te().email("Valid email is required"),phone:te().optional(),currentJobTitle:te().optional(),yearsOfExperience:te().optional(),coverLetter:te().optional(),resume:bI(File,{message:"Resume is required"})});function DQ({listing:t,open:e,onOpenChange:n}){const{toast:r}=Bt(),[i,a]=f.useState(null),[o,l]=f.useState(!1),c=Kn({resolver:Gn(IQ),defaultValues:{firstName:"",lastName:"",email:"",phone:"",currentJobTitle:"",yearsOfExperience:"",coverLetter:""}}),d=Ae({mutationFn:async y=>{const b=new FormData;b.append("listingId",t.id),b.append("firstName",y.firstName),b.append("lastName",y.lastName),b.append("email",y.email),y.phone&&b.append("phone",y.phone),y.currentJobTitle&&b.append("currentJobTitle",y.currentJobTitle),y.yearsOfExperience&&b.append("yearsOfExperience",y.yearsOfExperience),y.coverLetter&&b.append("coverLetter",y.coverLetter),b.append("resume",y.resume);const j=await fetch("/api/job-applications",{method:"POST",body:b,credentials:"include"});if(!j.ok){const v=await j.json();throw new Error(v.error||"Failed to submit application")}return j.json()},onSuccess:()=>{l(!0),r({title:"Application submitted!",description:"The employer has been notified and will review your application soon."})},onError:y=>{r({title:"Submission failed",description:y.message,variant:"destructive"})}}),u=y=>{var j;const b=(j=y.target.files)==null?void 0:j[0];if(b){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(b.type)){r({title:"Invalid file type",description:"Please upload a PDF or Word document",variant:"destructive"});return}if(b.size>5*1024*1024){r({title:"File too large",description:"Resume must be less than 5MB",variant:"destructive"});return}a(b),c.setValue("resume",b),c.clearErrors("resume")}},h=y=>{d.mutate(y)},m=()=>{d.isPending||(n(!1),setTimeout(()=>{c.reset(),a(null),l(!1)},300))};return s.jsx(ts,{open:e,onOpenChange:m,children:s.jsx(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-job-application",children:o?s.jsxs("div",{className:"py-8 text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Wt,{className:"w-16 h-16 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Application Submitted Successfully!"}),s.jsx("p",{className:"text-muted-foreground",children:"Your application has been sent to the employer. They will review your resume and contact you if you're a good fit for the position."})]}),s.jsx(O,{onClick:m,className:"mt-4","data-testid":"button-close-success",children:"Close"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Apply for Position"}),s.jsxs(ps,{children:[t.title," - ",t.location||"Location not specified"]})]}),s.jsx(Mr,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:c.control,name:"firstName",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"First Name"}),s.jsx(ie,{children:s.jsx(W,{...y,placeholder:"John","data-testid":"input-first-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:c.control,name:"lastName",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Last Name"}),s.jsx(ie,{children:s.jsx(W,{...y,placeholder:"Doe","data-testid":"input-last-name"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:c.control,name:"email",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Email"}),s.jsx(ie,{children:s.jsx(W,{...y,type:"email",placeholder:"john.doe@example.com","data-testid":"input-email"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:c.control,name:"phone",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Phone Number (Optional)"}),s.jsx(ie,{children:s.jsx(W,{...y,type:"tel",placeholder:"(555) 123-4567","data-testid":"input-phone"})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:c.control,name:"currentJobTitle",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Current Job Title (Optional)"}),s.jsx(ie,{children:s.jsx(W,{...y,placeholder:"e.g., Aviation Mechanic","data-testid":"input-current-job-title"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:c.control,name:"yearsOfExperience",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Years of Experience (Optional)"}),s.jsx(ie,{children:s.jsx(W,{...y,placeholder:"e.g., 5 years","data-testid":"input-years-of-experience"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:c.control,name:"coverLetter",render:({field:y})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Cover Letter (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{...y,placeholder:"Tell the employer why you're a great fit for this position...",className:"min-h-32 resize-none","data-testid":"textarea-cover-letter"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:c.control,name:"resume",render:({field:{value:y,onChange:b,...j}})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Resume (PDF or Word)"}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W,{...j,type:"file",accept:".pdf,.doc,.docx",onChange:u,className:"hidden",id:"resume-upload","data-testid":"input-resume"}),s.jsx("label",{htmlFor:"resume-upload",children:s.jsx(O,{type:"button",variant:"outline",className:"cursor-pointer",asChild:!0,"data-testid":"button-upload-resume",children:s.jsxs("span",{children:[s.jsx(pm,{className:"w-4 h-4 mr-2"}),"Choose File"]})})}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zn,{className:"w-4 h-4"}),s.jsx("span",{"data-testid":"text-resume-filename",children:i.name}),s.jsxs("span",{className:"text-xs",children:["(",(i.size/1024).toFixed(0)," KB)"]})]})]})})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:m,disabled:d.isPending,"data-testid":"button-cancel",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:d.isPending,"data-testid":"button-submit-application",children:d.isPending?"Submitting...":"Submit Application"})]})]})})]})})})}function $5({listingId:t,listingType:e,variant:n="ghost",size:r="icon",className:i=""}){const{user:a}=ln(),{toast:o}=Bt(),[l,c]=f.useState(!1),{data:d}=Ve({queryKey:["/api/favorites/check",e,t],queryFn:async()=>{const b=await fetch(`/api/favorites/check/${e}/${t}`,{credentials:"include"});if(!b.ok)throw new Error("Failed to check favorite status");return b.json()},enabled:!!a});f.useEffect(()=>{d&&c(d.isFavorited)},[d]);const u=Ae({mutationFn:async()=>await De("POST","/api/favorites",{listingType:e,listingId:t}),onSuccess:()=>{c(!0),_e.invalidateQueries({queryKey:["/api/favorites"]}),_e.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Added to favorites",description:"You can view your saved listings in the Favorites page"})},onError:()=>{o({title:"Failed to add favorite",description:"Please try again later",variant:"destructive"})}}),h=Ae({mutationFn:async()=>await De("DELETE",`/api/favorites/${e}/${t}`,{}),onSuccess:()=>{c(!1),_e.invalidateQueries({queryKey:["/api/favorites"]}),_e.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Removed from favorites"})},onError:()=>{o({title:"Failed to remove favorite",description:"Please try again later",variant:"destructive"})}}),m=b=>{if(b.stopPropagation(),!a){o({title:"Sign in required",description:"Please sign in to save favorites"});return}l?h.mutate():u.mutate()};if(!a)return null;const y=u.isPending||h.isPending;return s.jsx(O,{variant:n,size:r,onClick:m,disabled:y,className:i,"data-testid":`button-favorite-${e}-${t}`,children:s.jsx(Ru,{className:`h-5 w-5 ${l?"fill-red-500 text-red-500":""}`})})}const OQ={"aircraft-sale":Lt,job:xw,cfi:dl,"flight-school":VB,mechanic:Q4,charter:Lt},Fy={"aircraft-sale":"Aircraft For Sale",charter:"Charter Services",cfi:"CFI Services","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function TN({listingId:t,open:e,onOpenChange:n}){const{user:r}=ln(),{toast:i}=Bt(),[a,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[y,b]=f.useState(!1),[j,v]=f.useState(!1),{data:p,isLoading:x}=Ve({queryKey:["/api/marketplace",t],enabled:e&&!!t});f.useEffect(()=>{if(p){if(o(p.adminNotes||""),p.expiresAt){const L=new Date(p.expiresAt);c(L.toISOString().split("T")[0])}else c("");m(p.userHasFlagged||!1)}},[p==null?void 0:p.id,p==null?void 0:p.adminNotes,p==null?void 0:p.expiresAt]),f.useEffect(()=>{p&&e&&De("POST",`/api/marketplace/${p.id}/view`,{}).catch(()=>{})},[p==null?void 0:p.id,e]);const w=Ae({mutationFn:async L=>await De("DELETE",`/api/marketplace/${L}`,{}),onSuccess:()=>{i({title:"Listing Deleted",description:"The marketplace listing has been permanently deleted."}),_e.invalidateQueries({queryKey:["/api/marketplace"]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:L=>{i({title:"Delete Failed",description:L.message,variant:"destructive"})}}),N=Ae({mutationFn:async L=>await De("POST",`/api/marketplace/${L}/flag`,{reason:"Suspected fraud or spam"}),onSuccess:L=>{m(!0),u(!1),i({title:"Listing Flagged",description:`This listing has been flagged for admin review (${L.flagCount} total flags). Thank you for helping keep our marketplace safe.`}),_e.invalidateQueries({queryKey:["/api/marketplace",t]})},onError:L=>{u(!1),L.message&&L.message.includes("already flagged")&&m(!0),i({title:"Flag Failed",description:L.message||"You may have already flagged this listing.",variant:"destructive"})}}),_=Ae({mutationFn:async L=>await De("PATCH",`/api/admin/marketplace/${t}`,L),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/marketplace",t]}),_e.invalidateQueries({queryKey:["/api/marketplace"]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Listing Updated",description:"Marketplace listing has been updated successfully."})},onError:L=>{i({title:"Update Failed",description:L.message,variant:"destructive"})}}),C=()=>{p&&confirm(`Are you sure you want to permanently delete this ${Fy[p.category]} listing (${p.title})? This action cannot be undone.`)&&w.mutate(p.id)},k=()=>{p&&_.mutate({isActive:!p.isActive})},P=()=>{p&&_.mutate({isFeatured:!p.isFeatured})},M=()=>{_.mutate({adminNotes:a})},R=()=>{if(!l){i({title:"Invalid Date",description:"Please select a valid expiration date.",variant:"destructive"});return}_.mutate({expiresAt:l})};return!p&&!x?null:(p&&OQ[p.category],s.jsxs(s.Fragment,{children:[s.jsx(ts,{open:e,onOpenChange:n,children:s.jsx(Gt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto","data-testid":"modal-marketplace-listing",children:x?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):p?s.jsxs(s.Fragment,{children:[p.isExample&&s.jsxs("div",{className:"bg-amber-500 text-white px-6 py-3 -mx-6 -mt-6 mb-4 text-center font-semibold","data-testid":"banner-example-modal",children:["EXAMPLE LISTING - For Reference Only",s.jsx("p",{className:"text-sm font-normal mt-1 opacity-90",children:"This is an example to help you create your own quality listing"})]}),s.jsx(os,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Q,{className:"capitalize","data-testid":"badge-category",children:Fy[p.category]}),p.tier&&s.jsxs(Q,{variant:"outline",className:"capitalize",children:[p.tier," Tier"]})]}),s.jsx(ls,{className:"font-display text-3xl pr-8",children:p.title}),s.jsxs(ps,{className:"sr-only",children:[Fy[p.category]," listing for ",p.title]}),p.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[s.jsx(da,{className:"h-4 w-4"}),s.jsx("span",{children:p.location})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($5,{listingId:p.id,listingType:"marketplace"}),p.price&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-3xl font-bold text-primary",children:["$",parseFloat(p.price).toLocaleString()]})})]})]})}),p.images&&p.images.length>0&&s.jsx("div",{className:"relative",children:s.jsxs(rg,{className:"w-full",children:[s.jsx(ig,{children:p.images.map((L,V)=>s.jsx(ag,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:L,alt:`${p.title} - Image ${V+1}`,className:"w-full h-full object-cover"})})},V))}),p.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(og,{className:"left-4"}),s.jsx(lg,{className:"right-4"})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:p.description})]}),s.jsx(rt,{}),p.details&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Details"}),p.category==="aircraft-sale"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Aircraft Information"}),p.details.make&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make"}),s.jsx("p",{className:"font-medium",children:p.details.make})]}),p.details.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),s.jsx("p",{className:"font-medium",children:p.details.model})]}),p.details.year&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Year"}),s.jsx("p",{className:"font-medium",children:p.details.year})]}),p.details.registration&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Registration"}),s.jsx("p",{className:"font-medium",children:p.details.registration})]}),p.details.seats&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats"}),s.jsx("p",{className:"font-medium",children:p.details.seats})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Specifications"}),p.details.totalTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Time"}),s.jsxs("p",{className:"font-medium",children:[p.details.totalTime," hours"]})]}),p.details.engineTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Engine Time"}),s.jsxs("p",{className:"font-medium",children:[p.details.engineTime," hours"]})]}),p.details.usefulLoad&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Useful Load"}),s.jsxs("p",{className:"font-medium",children:[p.details.usefulLoad," lbs"]})]}),p.details.annualDue&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual Due"}),s.jsx("p",{className:"font-medium",children:p.details.annualDue})]})]}),p.details.avionics&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Avionics Package"}),s.jsx("p",{className:"font-medium",children:p.details.avionics})]}),(p.details.interiorCondition||p.details.exteriorCondition)&&s.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2 gap-4",children:[p.details.interiorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Interior Condition"}),s.jsx(Q,{variant:"outline",className:"capitalize mt-1",children:p.details.interiorCondition})]}),p.details.exteriorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exterior/Paint Condition"}),s.jsx(Q,{variant:"outline",className:"capitalize mt-1",children:p.details.exteriorCondition})]})]}),p.details.damageHistory&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Damage History"}),s.jsx("p",{className:"font-medium",children:p.details.damageHistory})]})]}),p.category==="job"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.jobTitle&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),s.jsx("p",{className:"font-medium",children:p.details.jobTitle})]}),p.details.company&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),s.jsx("p",{className:"font-medium",children:p.details.company})]}),p.details.employmentType&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Employment Type"}),s.jsx(Q,{variant:"outline",className:"capitalize mt-1",children:p.details.employmentType})]}),p.details.salaryRange&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Salary Range"}),s.jsx("p",{className:"font-medium",children:p.details.salaryRange})]}),p.details.requirements&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Requirements"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.requirements})]})]}),p.category==="cfi"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.instructorName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor Name"}),s.jsx("p",{className:"font-medium",children:p.details.instructorName})]}),p.details.hourlyRate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hourly Rate"}),s.jsxs("p",{className:"font-medium",children:["$",p.details.hourlyRate,"/hr"]})]}),p.details.certifications&&p.details.certifications.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.details.certifications.map((L,V)=>s.jsx(Q,{variant:"secondary",children:L},V))})]}),p.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:p.details.specialties})]})]}),p.category==="flight-school"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.schoolName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"School Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.schoolName})]}),p.details.aircraftFleet&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Fleet"}),s.jsx("p",{className:"font-medium",children:p.details.aircraftFleet})]}),p.details.programsOffered&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Programs Offered"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.programsOffered})]}),p.details.pricingInfo&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing"}),s.jsx("p",{className:"font-medium",children:p.details.pricingInfo})]})]}),p.category==="mechanic"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.businessName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.businessName})]}),p.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:p.details.specialties})]}),p.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:p.details.serviceArea})]})]}),p.category==="charter"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.companyName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.companyName})]}),p.details.aircraftAvailable&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Available"}),s.jsx("p",{className:"font-medium",children:p.details.aircraftAvailable})]}),p.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:p.details.serviceArea})]}),p.details.pricingStructure&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing Structure"}),s.jsx("p",{className:"font-medium",children:p.details.pricingStructure})]})]})]}),s.jsx(rt,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.contactEmail&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xd,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("a",{href:`mailto:${p.contactEmail}`,className:"font-medium hover:text-primary",children:p.contactEmail})]})]}),p.contactPhone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fp,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("a",{href:`tel:${p.contactPhone}`,className:"font-medium hover:text-primary",children:L5(p.contactPhone)})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[p.category==="job"?s.jsxs(O,{className:"flex-1",onClick:()=>v(!0),"data-testid":"button-apply-now",size:"lg",children:[s.jsx(xw,{className:"h-4 w-4 mr-2"}),"Apply Now"]}):s.jsxs(s.Fragment,{children:[p.contactEmail&&s.jsxs(O,{className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){b(!0);return}const V={"aircraft-sale":"Aircraft for Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Service"}[p.category]||p.category,Z=`Inquiry From Ready Set Fly about your ${V} Listing: ${p.title}`,se=`Hi,

I'm interested in your ${V} listing: ${p.title}

`,E=`mailto:${p.contactEmail}?subject=${encodeURIComponent(Z)}&body=${encodeURIComponent(se)}`;window.location.href=E},"data-testid":"button-contact-seller",children:[s.jsx(xd,{className:"h-4 w-4 mr-2"}),"Contact Seller"]}),p.contactPhone&&s.jsxs(O,{variant:"outline",onClick:()=>{if(!r){b(!0);return}window.location.href=`tel:${p.contactPhone}`},"data-testid":"button-call-seller",children:[s.jsx(fp,{className:"h-4 w-4 mr-2"}),"Call"]})]}),r&&!r.isAdmin&&(h?s.jsxs(Q,{variant:"outline",className:"text-muted-foreground","data-testid":"badge-already-flagged",children:[s.jsx(yS,{className:"h-3 w-3 mr-1"}),"Already Flagged"]}):s.jsxs(O,{variant:"outline",onClick:()=>u(!0),disabled:N.isPending,"data-testid":"button-flag-listing",className:"text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(yS,{className:"h-4 w-4 mr-2"}),"Flag as Spam"]}))]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ce,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.isActive?"Active - visible in search":"Inactive - hidden from search"})]}),s.jsx(Sh,{checked:p.isActive||!1,onCheckedChange:k,disabled:_.isPending,"data-testid":"switch-listing-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ce,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[p.isFeatured&&s.jsx($o,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(Sh,{checked:p.isFeatured||!1,onCheckedChange:P,disabled:_.isPending,"data-testid":"switch-listing-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"font-semibold",children:"Extend Expiration Date"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current expiration: ",p.expiresAt?new Date(p.expiresAt).toLocaleDateString():"No expiration"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{type:"date",value:l,onChange:L=>c(L.target.value),"data-testid":"input-expiration-date",className:"flex-1"}),s.jsx(O,{onClick:R,disabled:_.isPending,"data-testid":"button-update-expiration",size:"sm",children:"Update"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(Qt,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:a,onChange:L=>o(L.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(O,{onClick:M,disabled:_.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(vt,{href:`/dashboard/marketplace/${p.id}/edit`,children:s.jsxs(O,{variant:"outline","data-testid":"button-edit-listing",children:[s.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(O,{variant:"destructive",onClick:C,disabled:w.isPending,"data-testid":"button-delete-listing",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(Pl,{open:d,onOpenChange:u,children:s.jsxs(ho,{"data-testid":"dialog-flag-confirm",children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Flag this listing as spam or fraud?"}),s.jsx(xo,{children:"This action will notify administrators to review this listing. False reports may result in account restrictions. Are you sure this listing violates our community guidelines?"})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-flag",children:"Cancel"}),s.jsx(go,{onClick:()=>{p&&N.mutate(p.id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-flag",children:N.isPending?"Flagging...":"Flag Listing"})]})]})}),s.jsx(Pl,{open:y,onOpenChange:b,children:s.jsxs(ho,{"data-testid":"dialog-login-prompt",children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Sign in to continue"}),s.jsx(xo,{children:"You need to create an account or sign in to contact sellers, apply for jobs, and interact with listings."})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(go,{onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),p&&p.category==="job"&&s.jsx(DQ,{listing:p,open:j,onOpenChange:v})]}))}const gC=[{id:"aircraft-sale",label:"Aircraft For Sale",fee:"$25-100/mo"},{id:"job",label:"Aviation Jobs",fee:"$40/mo"},{id:"cfi",label:"CFIs",fee:"$30/mo"},{id:"flight-school",label:"Flight Schools",fee:"$250/mo"},{id:"mechanic",label:"Mechanics",fee:"$40/mo"},{id:"charter",label:"Charter Services",fee:"$250/mo"}];function MQ(){var F;const[t,e]=f.useState("aircraft-sale"),[n,r]=f.useState(null),[i,a]=f.useState(!1),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState("aircraft-sale"),[m,y]=f.useState(""),[b,j]=f.useState(""),[v,p]=f.useState(""),[x,w]=f.useState("all"),[N,_]=f.useState(""),[C,k]=f.useState("100"),[P,M]=f.useState("all"),[,R]=Zs(),V=(()=>{const D=new URLSearchParams;return t&&D.set("category",t),m&&D.set("city",m),b&&D.set("minPrice",b),v&&D.set("maxPrice",v),x&&x!=="all"&&D.set("engineType",x),N&&D.set("keyword",N),C&&D.set("radius",C),P&&P!=="all"&&D.set("cfiRating",P),D.toString()})(),{data:Z=[],isLoading:se}=Ve({queryKey:["/api/marketplace",t,m,b,v,x,N,C,P],queryFn:async()=>{const D=await fetch(Il(`/api/marketplace?${V}`));if(!D.ok)throw new Error("Failed to fetch listings");return D.json()}}),{data:E=[]}=Ve({queryKey:["/api/promo-alerts"]});f.useEffect(()=>{if(u!==t){h(t);const D=`promo-seen-${t}`;localStorage.getItem(D)||E.find(qe=>qe.showOnCategoryPages&&(!qe.targetCategories||qe.targetCategories.length===0||qe.targetCategories.includes(t)))&&(d(!0),localStorage.setItem(D,"true"))}},[t,u,E]);const K=D=>{l(le=>[...le,D])},de=E.filter(D=>D.showOnMainPage&&!o.includes(D.id)),B=E.find(D=>D.showOnCategoryPages&&(!D.targetCategories||D.targetCategories.length===0||D.targetCategories.includes(t)));return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"bg-muted py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3 sm:mb-4","data-testid":"text-marketplace-title",children:"Aviation Marketplace"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl",children:"Connect with the aviation community. Buy, sell, and find professional services."})]})}),s.jsx("section",{className:"border-b bg-background sticky top-16 z-40",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(Ph,{className:"w-full whitespace-nowrap",children:[s.jsx("div",{className:"flex gap-2 py-4",children:gC.map(D=>s.jsxs(O,{variant:t===D.id?"default":"outline",onClick:()=>e(D.id),className:"rounded-full shrink-0","data-testid":`button-category-${D.id}`,children:[D.label,s.jsx("span",{className:"ml-2 text-xs opacity-70",children:D.fee})]},D.id))}),s.jsx(kN,{orientation:"horizontal"})]})})}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[de.map(D=>s.jsxs(Dn,{className:"mb-6 border-green-500 bg-green-50 dark:bg-green-950/20","data-testid":`alert-promo-${D.id}`,children:[s.jsx(Fu,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Mu,{className:"text-green-800 dark:text-green-200 font-semibold",children:D.title}),s.jsxs(On,{className:"text-green-700 dark:text-green-300",children:[D.message,D.promoCode&&s.jsx("span",{className:"inline-block ml-2 px-2 py-1 bg-green-600 text-white text-xs font-mono rounded",children:D.promoCode})]})]}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>K(D.id),className:"text-green-600 hover:text-green-800 dark:text-green-400","data-testid":`button-dismiss-alert-${D.id}`,children:s.jsx(xm,{className:"h-4 w-4"})})]},D.id)),s.jsx(wN,{placement:"marketplace",category:t,className:"mb-8"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold mb-1",children:(F=gC.find(D=>D.id===t))==null?void 0:F.label}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-marketplace-count",children:Z.length})," active listings"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>a(!i),className:"flex-1 sm:flex-initial","data-testid":"button-toggle-filters",children:[s.jsx(tV,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsx(O,{variant:"default",onClick:()=>R("/create-marketplace-listing"),className:"flex-1 sm:flex-initial","data-testid":"button-create-listing",children:"Create Listing"})]})]}),i&&s.jsx($,{className:"mb-6",children:s.jsxs(U,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t==="job"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"keyword-filter",children:"Keyword Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"keyword-filter",placeholder:"e.g. pilot, mechanic, CFI...",value:N,onChange:D=>_(D.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:D=>y(D.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"radius-filter",children:"Distance (miles)"}),s.jsxs(Ds,{value:C,onValueChange:k,children:[s.jsx(_s,{id:"radius-filter","data-testid":"select-radius-filter",children:s.jsx(Os,{placeholder:"Select radius"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"10",children:"Within 10 miles"}),s.jsx(we,{value:"25",children:"Within 25 miles"}),s.jsx(we,{value:"50",children:"Within 50 miles"}),s.jsx(we,{value:"100",children:"Within 100 miles"}),s.jsx(we,{value:"250",children:"Within 250 miles"}),s.jsx(we,{value:"500",children:"Within 500 miles"}),s.jsx(we,{value:"999999",children:"Any distance"})]})]})]})]}),t==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:D=>y(D.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"min-price",children:"Min Price"}),s.jsx(W,{id:"min-price",type:"number",placeholder:"$0",value:b,onChange:D=>j(D.target.value),"data-testid":"input-min-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"max-price",children:"Max Price"}),s.jsx(W,{id:"max-price",type:"number",placeholder:"No max",value:v,onChange:D=>p(D.target.value),"data-testid":"input-max-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"engine-type",children:"Engine Type"}),s.jsxs(Ds,{value:x,onValueChange:w,children:[s.jsx(_s,{id:"engine-type","data-testid":"select-engine-type",children:s.jsx(Os,{placeholder:"All types"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"all",children:"All types"}),s.jsx(we,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(we,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(we,{value:"Turboprop",children:"Turboprop"}),s.jsx(we,{value:"Jet",children:"Jet"}),s.jsx(we,{value:"Rotor",children:"Rotor (Helicopters)"})]})]})]})]}),t==="cfi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"keyword-filter",placeholder:"Search by name, certifications...",value:N,onChange:D=>_(D.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"cfi-rating",children:"Rating / Certification"}),s.jsxs(Ds,{value:P,onValueChange:M,children:[s.jsx(_s,{id:"cfi-rating","data-testid":"select-cfi-rating",children:s.jsx(Os,{placeholder:"All ratings"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"all",children:"All ratings"}),s.jsx(we,{value:"CFI",children:"CFI (Basic)"}),s.jsx(we,{value:"CFII",children:"CFII (Instrument)"}),s.jsx(we,{value:"MEI",children:"MEI (Multi-Engine)"}),s.jsx(we,{value:"ATP",children:"ATP"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:D=>y(D.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]}),["flight-school","mechanic","charter"].includes(t)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"keyword-filter",placeholder:"Search by name, services...",value:N,onChange:D=>_(D.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(W,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:D=>y(D.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]})]}),(m||b||v||x!=="all"||N||C!=="100"||P!=="all")&&s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx(O,{variant:"ghost",onClick:()=>{y(""),j(""),p(""),w("all"),_(""),k("100"),M("all")},"data-testid":"button-clear-filters",children:"Clear all filters"})})]})}),se?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(D=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},D))}):Z.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No listings in this category yet"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(D=>{var le,fe;return s.jsx("div",{onClick:()=>r(D.id),className:"cursor-pointer",children:s.jsx(jQ,{id:D.id,category:D.category,title:D.title,description:D.description,price:PN(D.price),location:D.city&&D.state?`${D.city}, ${D.state}`:D.location||"N/A",image:(le=D.images)==null?void 0:le[0],images:((fe=D.images)==null?void 0:fe.length)||0,tier:D.tier||void 0,isExample:D.isExample||!1})},D.id)})})]}),n&&s.jsx(TN,{listingId:n,open:!!n,onOpenChange:D=>!D&&r(null)}),B&&s.jsx(ts,{open:c,onOpenChange:d,children:s.jsxs(Gt,{className:"sm:max-w-md","data-testid":"dialog-promo-modal",children:[s.jsxs(os,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(Fu,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx(ls,{className:"text-xl",children:B.title})})]}),s.jsx(ps,{className:"text-base",children:B.message})]}),B.promoCode&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg border-2 border-dashed border-green-500",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2 text-center",children:"Your Promo Code"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-center text-green-600 dark:text-green-400","data-testid":"text-promo-code",children:B.promoCode})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(O,{onClick:()=>d(!1),"data-testid":"button-close-promo-modal",children:"Got it, thanks!"})})]})})]})}var ug="Tabs",[LQ]=_n(ug,[$x]),U5=$x(),[$Q,EN]=LQ(ug),B5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=vm(l),[h,m]=Kr({prop:r,onChange:i,defaultProp:a??"",caller:ug});return s.jsx($Q,{scope:n,baseId:fr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Be.div,{dir:u,"data-orientation":o,...d,ref:e})})});B5.displayName=ug;var V5="TabsList",z5=f.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=EN(V5,n),o=U5(n);return s.jsx(JF,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Be.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});z5.displayName=V5;var q5="TabsTrigger",H5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=EN(q5,n),l=U5(n),c=G5(o.baseId,r),d=Q5(o.baseId,r),u=r===o.value;return s.jsx(eR,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:be(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:be(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});H5.displayName=q5;var W5="TabsContent",K5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=EN(W5,n),c=G5(l.baseId,r),d=Q5(l.baseId,r),u=r===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Js,{present:i||u,children:({present:m})=>s.jsx(Be.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});K5.displayName=W5;function G5(t,e){return`${t}-trigger-${e}`}function Q5(t,e){return`${t}-content-${e}`}var UQ=B5,Y5=z5,X5=H5,Z5=K5;const Ld=UQ,Ml=f.forwardRef(({className:t,...e},n)=>s.jsx(Y5,{ref:n,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ml.displayName=Y5.displayName;const _t=f.forwardRef(({className:t,...e},n)=>s.jsx(X5,{ref:n,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));_t.displayName=X5.displayName;const At=f.forwardRef(({className:t,...e},n)=>s.jsx(Z5,{ref:n,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));At.displayName=Z5.displayName;const AN=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Se("w-full caption-bottom text-sm",t),...e})}));AN.displayName="Table";const FN=f.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Se("[&_tr]:border-b",t),...e}));FN.displayName="TableHeader";const RN=f.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Se("[&_tr:last-child]:border-0",t),...e}));RN.displayName="TableBody";const BQ=f.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));BQ.displayName="TableFooter";const _c=f.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));_c.displayName="TableRow";const Gs=f.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Gs.displayName="TableHead";const Us=f.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Us.displayName="TableCell";const VQ=f.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Se("mt-4 text-sm text-muted-foreground",t),...e}));VQ.displayName="TableCaption";function Fj({rating:t,totalReviews:e,size:n="md",showCount:r=!0}){const i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},a=()=>{const o=[],l=Math.floor(t),c=t%1>=.5;for(let d=0;d<5;d++)d<l?o.push(s.jsx($o,{className:`${i[n]} fill-yellow-400 text-yellow-400`,"data-testid":`star-filled-${d}`},d)):d===l&&c?o.push(s.jsxs("div",{className:"relative","data-testid":`star-half-${d}`,children:[s.jsx($o,{className:`${i[n]} text-gray-300`}),s.jsx("div",{className:"absolute top-0 left-0 w-1/2 overflow-hidden",children:s.jsx($o,{className:`${i[n]} fill-yellow-400 text-yellow-400`})})]},d)):o.push(s.jsx($o,{className:`${i[n]} text-gray-300`,"data-testid":`star-empty-${d}`},d));return o};return s.jsxs("div",{className:"flex items-center gap-1","data-testid":"star-rating",children:[s.jsx("div",{className:"flex gap-0.5",children:a()}),r&&e!==void 0&&s.jsxs("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"review-count",children:["(",e,")"]}),!r&&s.jsx("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"rating-value",children:t.toFixed(1)})]})}function zQ(){const[,t]=Zs(),{user:e}=ln(),{toast:n}=Bt(),{data:r}=Ve({queryKey:["/api/users",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:i=[]}=Ve({queryKey:["/api/aircraft"]}),a=i.filter(C=>C.ownerId===(e==null?void 0:e.id)),{data:o=[]}=Ve({queryKey:["/api/rentals/owner",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:l=[]}=Ve({queryKey:["/api/rentals/renter",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:c=[]}=Ve({queryKey:["/api/transactions/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:d=[]}=Ve({queryKey:["/api/users"]}),u=o.filter(C=>C.status==="completed"),h=o.filter(C=>C.status==="active"),m=o.filter(C=>C.status==="pending"),y=l.filter(C=>C.status==="pending"),b=l.filter(C=>C.status==="approved"&&!C.isPaid),j=u.filter(C=>C.payoutCompleted).reduce((C,k)=>C+parseFloat(k.ownerPayout),0),v=u.filter(C=>!C.payoutCompleted).reduce((C,k)=>C+parseFloat(k.ownerPayout),0),p=a.filter(C=>C.isListed).length,x=h.length,w=()=>{t("/owner-withdrawals")},N=Ae({mutationFn:async C=>await De("PATCH",`/api/rentals/${C}`,{status:"approved"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Approved",description:"The renter has been notified and can now proceed with payment."})},onError:C=>{n({title:"Error",description:C.message||"Failed to approve request",variant:"destructive"})}}),_=Ae({mutationFn:async C=>await De("PATCH",`/api/rentals/${C}`,{status:"cancelled"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Declined",description:"The rental request has been cancelled."})},onError:C=>{n({title:"Error",description:C.message||"Failed to decline request",variant:"destructive"})}});return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-dashboard-title",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rentals, listings, and earnings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",j.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",c.filter(C=>C.status==="completed").length," completed rentals"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pending-payouts",children:["$",v.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",u.filter(C=>!C.payoutCompleted).length," completed rentals"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Listings"}),s.jsx(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-listings",children:p}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," total aircraft"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Rentals"}),s.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-rentals",children:x}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently rented"})]})]})]}),!(r!=null&&r.paypalEmail)&&v>0&&s.jsxs(Dn,{className:"mb-6 border-accent","data-testid":"alert-paypal-setup",children:[s.jsx(Au,{className:"h-4 w-4"}),s.jsx(Mu,{children:"PayPal Account Required"}),s.jsxs(On,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("span",{children:["Set up your PayPal account to receive instant payouts of $",v.toFixed(2)]}),s.jsx(O,{onClick:w,"data-testid":"button-setup-paypal",className:"w-full sm:w-auto",children:"Setup PayPal Payouts"})]})]}),(r==null?void 0:r.paypalEmail)&&s.jsxs(Dn,{className:"mb-6 border-chart-2","data-testid":"alert-paypal-connected",children:[s.jsx(Wt,{className:"h-4 w-4 text-chart-2"}),s.jsx(Mu,{children:"PayPal Account Connected"}),s.jsxs(On,{children:["Your PayPal account (",r.paypalEmail,") is ready to receive instant payouts"]})]}),b.length>0&&s.jsxs(Dn,{className:"mb-6 border-accent","data-testid":"alert-payment-needed",children:[s.jsx(jl,{className:"h-4 w-4"}),s.jsx(Mu,{children:"Payment Required"}),s.jsx(On,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:["You have ",b.length," approved rental",b.length>1?"s":""," awaiting payment."]}),s.jsx("div",{className:"space-y-2",children:b.map(C=>{const k=i.find(P=>P.id===C.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 bg-background rounded-lg border","data-testid":`alert-payment-rental-${C.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-foreground",children:[k==null?void 0:k.year," ",k==null?void 0:k.make," ",k==null?void 0:k.model]}),s.jsxs("p",{className:"text-sm",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between sm:flex-col sm:items-end gap-2",children:[s.jsxs("p",{className:"font-bold text-foreground",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),s.jsx(O,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{window.location.href=`/rental-payment/${C.id}`},"data-testid":`button-pay-rental-${C.id}`,children:"Pay Now"})]})]},C.id)})})]})})]}),s.jsxs(Ld,{defaultValue:m.length>0?"pending":"active",className:"space-y-6",children:[s.jsxs(Ml,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 h-auto","data-testid":"tabs-dashboard",children:[s.jsxs(_t,{value:"pending","data-testid":"tab-pending",className:"flex-col sm:flex-row gap-1",children:[s.jsx("span",{className:"text-xs sm:text-sm",children:"Pending"}),m.length>0&&s.jsx(Q,{className:"bg-accent text-accent-foreground text-xs",children:m.length})]}),s.jsx(_t,{value:"active","data-testid":"tab-active",className:"text-xs sm:text-sm",children:"Active"}),s.jsx(_t,{value:"upcoming","data-testid":"tab-upcoming",className:"text-xs sm:text-sm",children:"Upcoming"}),s.jsx(_t,{value:"past","data-testid":"tab-past",className:"text-xs sm:text-sm",children:"Past"}),s.jsx(_t,{value:"listings","data-testid":"tab-listings",className:"text-xs sm:text-sm",children:"Listings"}),s.jsx(_t,{value:"financials","data-testid":"tab-financials",className:"text-xs sm:text-sm",children:"Financials"})]}),s.jsxs(At,{value:"pending",className:"space-y-4",children:[s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Pending Rental Requests"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending requests at this time"}):m.map(C=>{const k=i.find(M=>M.id===C.aircraftId),P=d.find(M=>M.id===C.renterId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`rental-pending-${C.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(k==null?void 0:k.year)||""," ",(k==null?void 0:k.make)||"Unknown"," ",(k==null?void 0:k.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renter: ",P==null?void 0:P.firstName," ",P==null?void 0:P.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),(P==null?void 0:P.averageRating)&&(P==null?void 0:P.totalReviews)&&P.totalReviews>0&&s.jsx(Fj,{rating:parseFloat(P.averageRating),totalReviews:P.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(C.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(C.ownerPayout).toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[s.jsx(Q,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{size:"sm",className:"bg-chart-2 text-white hover:bg-chart-2 flex-1 sm:flex-none",onClick:()=>N.mutate(C.id),disabled:N.isPending||_.isPending,"data-testid":`button-approve-${C.id}`,children:"Approve"}),s.jsx(O,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>_.mutate(C.id),disabled:N.isPending||_.isPending,"data-testid":`button-decline-${C.id}`,children:"Decline"})]})]})]})]},C.id)})})})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"My Rental Requests"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests you've sent to aircraft owners"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending rental requests"}):y.map(C=>{const k=i.find(M=>M.id===C.aircraftId),P=d.find(M=>M.id===C.ownerId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`my-rental-request-${C.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(k==null?void 0:k.year)||""," ",(k==null?void 0:k.make)||"Unknown"," ",(k==null?void 0:k.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",P==null?void 0:P.firstName," ",P==null?void 0:P.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),(P==null?void 0:P.averageRating)&&(P==null?void 0:P.totalReviews)&&P.totalReviews>0&&s.jsx(Fj,{rating:parseFloat(P.averageRating),totalReviews:P.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(C.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total cost"})]}),s.jsx(Q,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending Review"})]})]},C.id)})})})]})]}),s.jsx(At,{value:"active",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Active Rentals"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active rentals at this time"}):h.map(C=>{const k=i.find(P=>P.id===C.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 border rounded-lg hover-elevate","data-testid":`rental-active-${C.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(k==null?void 0:k.year)||""," ",(k==null?void 0:k.make)||"Unknown"," ",(k==null?void 0:k.model)||""]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rented to: Renter #",C.renterId.substring(0,8)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(C.ownerPayout).toFixed(2)]})]}),s.jsx(Q,{className:"bg-chart-2 text-white text-center",children:"Active"}),s.jsx(O,{size:"sm",className:"w-full sm:w-auto","data-testid":`button-message-${C.id}`,children:"Message"})]})]},C.id)})})})]})}),s.jsx(At,{value:"listings",children:s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx(ae,{children:"My Listings"}),s.jsx(O,{className:"w-full sm:w-auto","data-testid":"button-add-listing",children:"Add New Listing"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg hover-elevate","data-testid":`listing-${C}`,children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=200",alt:"Aircraft",className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"2018 Cessna 172 Skyhawk"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]})]}),s.jsxs("div",{className:"flex flex-row sm:items-center gap-3 justify-between sm:justify-end",children:[s.jsxs("div",{className:"flex flex-col items-start sm:items-end",children:[s.jsx("p",{className:"font-bold",children:"$145/hr"}),s.jsx(Q,{variant:"outline",className:"bg-chart-2/10 text-chart-2 border-chart-2 mt-1",children:"Listed"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"sm","data-testid":`button-toggle-listing-${C}`,children:"Unlist"}),s.jsx(O,{variant:"ghost",size:"sm","data-testid":`button-edit-listing-${C}`,children:"Edit"})]})]})]},C))})})]})}),s.jsx(At,{value:"financials",children:s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx(ae,{children:"Financial Transactions"}),s.jsx(O,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent w-full sm:w-auto",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-manage-withdrawals",children:"Manage Withdrawals"})]}),s.jsx(U,{className:"overflow-x-auto",children:s.jsxs(AN,{children:[s.jsx(FN,{children:s.jsxs(_c,{children:[s.jsx(Gs,{children:"Date"}),s.jsx(Gs,{children:"Description"}),s.jsx(Gs,{children:"Type"}),s.jsx(Gs,{children:"Amount"}),s.jsx(Gs,{children:"Status"})]})}),s.jsx(RN,{children:u.length===0?s.jsx(_c,{children:s.jsx(Us,{colSpan:5,className:"text-center text-muted-foreground",children:"No completed rentals yet"})}):u.map(C=>{const k=i.find(P=>P.id===C.aircraftId);return s.jsxs(_c,{"data-testid":`transaction-${C.id}`,children:[s.jsx(Us,{children:new Date(C.endDate).toLocaleDateString()}),s.jsxs(Us,{children:["Rental payout - ",(k==null?void 0:k.make)||"Unknown"," ",(k==null?void 0:k.model)||""]}),s.jsx(Us,{children:s.jsx(Q,{variant:"outline",children:"Payout"})}),s.jsxs(Us,{className:"font-semibold",children:["$",parseFloat(C.ownerPayout).toFixed(2)]}),s.jsx(Us,{children:C.payoutCompleted?s.jsx(Q,{className:"bg-chart-2 text-white",children:"Completed"}):s.jsx(Q,{variant:"outline",children:"Pending"})})]},C.id)})})]})})]})})]})]})})}const he=Symbol.for("drizzle:entityKind");function Ns(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,he))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(he in n&&n[he]===e[he])return!0;n=Object.getPrototypeOf(n)}return!1}var K2;K2=he;class Nd{constructor(e,n){T(this,"name");T(this,"keyAsName");T(this,"primary");T(this,"notNull");T(this,"default");T(this,"defaultFn");T(this,"onUpdateFn");T(this,"hasDefault");T(this,"isUnique");T(this,"uniqueName");T(this,"uniqueType");T(this,"dataType");T(this,"columnType");T(this,"enumValues");T(this,"generated");T(this,"generatedIdentity");T(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}T(Nd,K2,"Column");var G2;G2=he;class J5{constructor(e,n,r){T(this,"config");T(this,"$default",this.$defaultFn);T(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}T(J5,G2,"ColumnBuilder");const kc=Symbol.for("drizzle:Name");var Q2;Q2=he;class IN{constructor(e,n){T(this,"reference");T(this,"_onUpdate","no action");T(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new eO(e,this)}}T(IN,Q2,"PgForeignKeyBuilder");var Y2;Y2=he;class eO{constructor(e,n){T(this,"reference");T(this,"onUpdate");T(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[kc],...i,r[0].table[kc],...a];return e??`${o.join("_")}_fk`}}T(eO,Y2,"PgForeignKey");function qQ(t){function e(){const{name:n,columns:r,foreignColumns:i}=t;return{name:n,columns:r,foreignColumns:i}}return new IN(e)}function HQ(t,...e){return t(...e)}function WQ(t,e){return`${t[kc]}_${e.join("_")}_unique`}function yC(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function tO(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=yC(t,r+1,!0);n.push(c),r=d;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,d]=tO(t,r+1);n.push(c),r=d;continue}const[o,l]=yC(t,r,!1);n.push(o),r=l}return[n,r]}function KQ(t){const[e]=tO(t,1);return e}function sO(t){return`{${t.map(e=>Array.isArray(e)?sO(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var X2,Z2;class wt extends(Z2=J5,X2=he,Z2){constructor(){super(...arguments);T(this,"foreignKeyConfigs",[])}array(n){return new rO(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>HQ((o,l)=>{const c=new IN(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new nO(n,this.config)}}T(wt,X2,"PgColumnBuilder");var J2,e_;class lt extends(e_=Nd,J2=he,e_){constructor(e,n){n.uniqueName||(n.uniqueName=WQ(e,[n.name])),super(e,n),this.table=e}}T(lt,J2,"PgColumn");var t_,s_;class nO extends(s_=lt,t_=he,s_){constructor(){super(...arguments);T(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});T(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}T(nO,t_,"ExtraConfigColumn");var n_;n_=he;class Df{constructor(e,n,r,i){T(this,"name");T(this,"keyAsName");T(this,"type");T(this,"indexConfig");this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}}T(Df,n_,"IndexedColumn");var r_,i_;class rO extends(i_=wt,r_=he,i_){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Rj(e,this.config,n)}}T(rO,r_,"PgArrayBuilder");var a_,o_;const Kp=class Kp extends(o_=lt,a_=he,o_){constructor(n,r,i,a){super(n,r);T(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=KQ(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:Ns(this.baseColumn,Kp)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:sO(i)}};T(Kp,a_,"PgArray");let Rj=Kp;const vC=Symbol.for("drizzle:isPgEnum");function GQ(t){return!!t&&typeof t=="function"&&vC in t&&t[vC]===!0}var l_;l_=he;class DN{constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}T(DN,l_,"Subquery");const QQ={startActiveSpan(t,e){return e()}},Pc=Symbol.for("drizzle:ViewBaseConfig"),Ry=Symbol.for("drizzle:Schema"),jC=Symbol.for("drizzle:Columns"),bC=Symbol.for("drizzle:ExtraConfigColumns"),Iy=Symbol.for("drizzle:OriginalName"),Dy=Symbol.for("drizzle:BaseName"),Mp=Symbol.for("drizzle:IsAlias"),wC=Symbol.for("drizzle:ExtraConfigBuilder"),iO=Symbol.for("drizzle:IsDrizzleTable");var c_,d_,u_,h_,m_,f_,p_,x_,g_,y_;y_=he,g_=kc,x_=Iy,p_=Ry,f_=jC,m_=bC,h_=Dy,u_=Mp,d_=iO,c_=wC;class vn{constructor(e,n,r){T(this,g_);T(this,x_);T(this,p_);T(this,f_);T(this,m_);T(this,h_);T(this,u_,!1);T(this,d_,!0);T(this,c_);this[kc]=this[Iy]=e,this[Ry]=n,this[Dy]=r}}T(vn,y_,"Table"),T(vn,"Symbol",{Name:kc,Schema:Ry,OriginalName:Iy,Columns:jC,ExtraConfigColumns:bC,BaseName:Dy,IsAlias:Mp,ExtraConfigBuilder:wC});function aO(t){return typeof t=="object"&&t!==null&&iO in t}function YQ(t){return t!=null&&typeof t.getSQL=="function"}function XQ(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var v_;v_=he;class or{constructor(e){T(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new us([this])}}T(or,v_,"StringChunk");var j_;j_=he;const Ro=class Ro{constructor(e){T(this,"decoder",oO);T(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return QQ.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return XQ(e.map(u=>{var h;if(Ns(u,or))return{sql:u.value.join(""),params:[]};if(Ns(u,Lp))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new or("(")];for(const[y,b]of u.entries())m.push(b),y<u.length-1&&m.push(new or(", "));return m.push(new or(")")),this.buildQueryFromSourceParams(m,r)}if(Ns(u,Ro))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(Ns(u,vn)){const m=u[vn.Symbol.Schema],y=u[vn.Symbol.Name];return{sql:m===void 0||u[Mp]?a(y):a(m)+"."+a(y),params:[]}}if(Ns(u,Nd)){const m=i.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const y=u.table[vn.Symbol.Schema];return{sql:u.table[Mp]||y===void 0?a(u.table[vn.Symbol.Name])+"."+a(m):a(y)+"."+a(u.table[vn.Symbol.Name])+"."+a(m),params:[]}}if(Ns(u,dO)){const m=u[Pc].schema,y=u[Pc].name;return{sql:m===void 0||u[Pc].isAlias?a(y):a(m)+"."+a(y),params:[]}}if(Ns(u,ON)){if(Ns(u.value,$p))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Ns(m,Ro))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let y=["none"];return l&&(y=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:y}}return Ns(u,$p)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Ns(u,Ro.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:Ns(u,DN)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new or("("),u._.sql,new or(") "),new Lp(u._.alias)],r):GQ(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:YQ(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new or("("),u.getSQL(),new or(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ro.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};T(Ro,j_,"SQL");let us=Ro;var b_;b_=he;class Lp{constructor(e){T(this,"brand");this.value=e}getSQL(){return new us([this])}}T(Lp,b_,"Name");const oO={mapFromDriverValue:t=>t},lO={mapToDriverValue:t=>t};({...oO,...lO});var w_;w_=he;class ON{constructor(e,n=lO){T(this,"brand");this.value=e,this.encoder=n}getSQL(){return new us([this])}}T(ON,w_,"Param");function We(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new or(t[0]));for(const[r,i]of e.entries())n.push(i,new or(t[r+1]));return new us(n)}(t=>{function e(){return new us([])}t.empty=e;function n(c){return new us(c)}t.fromList=n;function r(c){return new us([new or(c)])}t.raw=r;function i(c,d){const u=[];for(const[h,m]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(m);return new us(u)}t.join=i;function a(c){return new Lp(c)}t.identifier=a;function o(c){return new $p(c)}t.placeholder=o;function l(c,d){return new ON(c,d)}t.param=l})(We||(We={}));(t=>{var n;n=he;const r=class r{constructor(a,o){T(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};T(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(us||(us={}));var N_;N_=he;class $p{constructor(e){this.name=e}getSQL(){return new us([this])}}T($p,N_,"Placeholder");const cO=Symbol.for("drizzle:IsDrizzleView");var S_,C_,__;__=he,C_=Pc,S_=cO;class dO{constructor({name:e,schema:n,selectedFields:r,query:i}){T(this,C_);T(this,S_,!0);this[Pc]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new us([this])}}T(dO,__,"View");function ZQ(t){return typeof t=="object"&&t!==null&&cO in t}Nd.prototype.getSQL=function(){return new us([this])};vn.prototype.getSQL=function(){return new us([this])};DN.prototype.getSQL=function(){return new us([this])};function JQ(t){return t[vn.Symbol.Columns]}function eY(t){return t[Pc].selectedFields}function Hs(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var k_,P_;class _m extends(P_=wt,k_=he,P_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}T(_m,k_,"PgIntColumnBaseBuilder");var T_,E_;class uO extends(E_=_m,T_=he,E_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new hO(e,this.config)}}T(uO,T_,"PgBigInt53Builder");var A_,F_;class hO extends(F_=lt,A_=he,F_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}T(hO,A_,"PgBigInt53");var R_,I_;class mO extends(I_=_m,R_=he,I_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new fO(e,this.config)}}T(mO,R_,"PgBigInt64Builder");var D_,O_;class fO extends(O_=lt,D_=he,O_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}T(fO,D_,"PgBigInt64");function tY(t,e){const{name:n,config:r}=Hs(t,e);return r.mode==="number"?new uO(n):new mO(n)}var M_,L_;class pO extends(L_=wt,M_=he,L_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new xO(e,this.config)}}T(pO,M_,"PgBigSerial53Builder");var $_,U_;class xO extends(U_=lt,$_=he,U_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}T(xO,$_,"PgBigSerial53");var B_,V_;class gO extends(V_=wt,B_=he,V_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new yO(e,this.config)}}T(gO,B_,"PgBigSerial64Builder");var z_,q_;class yO extends(q_=lt,z_=he,q_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}T(yO,z_,"PgBigSerial64");function sY(t,e){const{name:n,config:r}=Hs(t,e);return r.mode==="number"?new pO(n):new gO(n)}var H_,W_;class vO extends(W_=wt,H_=he,W_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new jO(e,this.config)}}T(vO,H_,"PgBooleanBuilder");var K_,G_;class jO extends(G_=lt,K_=he,G_){getSQLType(){return"boolean"}}T(jO,K_,"PgBoolean");function et(t){return new vO(t??"")}var Q_,Y_;class bO extends(Y_=wt,Q_=he,Y_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new wO(e,this.config)}}T(bO,Q_,"PgCharBuilder");var X_,Z_;class wO extends(Z_=lt,X_=he,Z_){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}T(wO,X_,"PgChar");function nY(t,e={}){const{name:n,config:r}=Hs(t,e);return new bO(n,r)}var J_,ek;class NO extends(ek=wt,J_=he,ek){constructor(e){super(e,"string","PgCidr")}build(e){return new SO(e,this.config)}}T(NO,J_,"PgCidrBuilder");var tk,sk;class SO extends(sk=lt,tk=he,sk){getSQLType(){return"cidr"}}T(SO,tk,"PgCidr");function rY(t){return new NO(t??"")}var nk,rk;class CO extends(rk=wt,nk=he,rk){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new _O(e,this.config)}}T(CO,nk,"PgCustomColumnBuilder");var ik,ak;class _O extends(ak=lt,ik=he,ak){constructor(n,r){super(n,r);T(this,"sqlName");T(this,"mapTo");T(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}T(_O,ik,"PgCustomColumn");function iY(t){return(e,n)=>{const{name:r,config:i}=Hs(e,n);return new CO(r,i,t)}}var ok,lk;class $d extends(lk=wt,ok=he,lk){defaultNow(){return this.default(We`now()`)}}T($d,ok,"PgDateColumnBaseBuilder");var ck,dk;class kO extends(dk=$d,ck=he,dk){constructor(e){super(e,"date","PgDate")}build(e){return new PO(e,this.config)}}T(kO,ck,"PgDateBuilder");var uk,hk;class PO extends(hk=lt,uk=he,hk){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}T(PO,uk,"PgDate");var mk,fk;class TO extends(fk=$d,mk=he,fk){constructor(e){super(e,"string","PgDateString")}build(e){return new EO(e,this.config)}}T(TO,mk,"PgDateStringBuilder");var pk,xk;class EO extends(xk=lt,pk=he,xk){getSQLType(){return"date"}}T(EO,pk,"PgDateString");function AO(t,e){const{name:n,config:r}=Hs(t,e);return(r==null?void 0:r.mode)==="date"?new kO(n):new TO(n)}var gk,yk;class FO extends(yk=wt,gk=he,yk){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new RO(e,this.config)}}T(FO,gk,"PgDoublePrecisionBuilder");var vk,jk;class RO extends(jk=lt,vk=he,jk){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}T(RO,vk,"PgDoublePrecision");function aY(t){return new FO(t??"")}var bk,wk;class IO extends(wk=wt,bk=he,wk){constructor(e){super(e,"string","PgInet")}build(e){return new DO(e,this.config)}}T(IO,bk,"PgInetBuilder");var Nk,Sk;class DO extends(Sk=lt,Nk=he,Sk){getSQLType(){return"inet"}}T(DO,Nk,"PgInet");function oY(t){return new IO(t??"")}var Ck,_k;class OO extends(_k=_m,Ck=he,_k){constructor(e){super(e,"number","PgInteger")}build(e){return new MO(e,this.config)}}T(OO,Ck,"PgIntegerBuilder");var kk,Pk;class MO extends(Pk=lt,kk=he,Pk){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}T(MO,kk,"PgInteger");function kt(t){return new OO(t??"")}var Tk,Ek;class LO extends(Ek=wt,Tk=he,Ek){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new $O(e,this.config)}}T(LO,Tk,"PgIntervalBuilder");var Ak,Fk;class $O extends(Fk=lt,Ak=he,Fk){constructor(){super(...arguments);T(this,"fields",this.config.intervalConfig.fields);T(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}T($O,Ak,"PgInterval");function lY(t,e={}){const{name:n,config:r}=Hs(t,e);return new LO(n,r)}var Rk,Ik;class UO extends(Ik=wt,Rk=he,Ik){constructor(e){super(e,"json","PgJson")}build(e){return new BO(e,this.config)}}T(UO,Rk,"PgJsonBuilder");var Dk,Ok;class BO extends(Ok=lt,Dk=he,Ok){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}T(BO,Dk,"PgJson");function cY(t){return new UO(t??"")}var Mk,Lk;class VO extends(Lk=wt,Mk=he,Lk){constructor(e){super(e,"json","PgJsonb")}build(e){return new zO(e,this.config)}}T(VO,Mk,"PgJsonbBuilder");var $k,Uk;class zO extends(Uk=lt,$k=he,Uk){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}T(zO,$k,"PgJsonb");function Sd(t){return new VO(t??"")}var Bk,Vk;class qO extends(Vk=wt,Bk=he,Vk){constructor(e){super(e,"array","PgLine")}build(e){return new HO(e,this.config)}}T(qO,Bk,"PgLineBuilder");var zk,qk;class HO extends(qk=lt,zk=he,qk){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}T(HO,zk,"PgLine");var Hk,Wk;class WO extends(Wk=wt,Hk=he,Wk){constructor(e){super(e,"json","PgLineABC")}build(e){return new KO(e,this.config)}}T(WO,Hk,"PgLineABCBuilder");var Kk,Gk;class KO extends(Gk=lt,Kk=he,Gk){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}T(KO,Kk,"PgLineABC");function dY(t,e){const{name:n,config:r}=Hs(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new qO(n):new WO(n)}var Qk,Yk;class GO extends(Yk=wt,Qk=he,Yk){constructor(e){super(e,"string","PgMacaddr")}build(e){return new QO(e,this.config)}}T(GO,Qk,"PgMacaddrBuilder");var Xk,Zk;class QO extends(Zk=lt,Xk=he,Zk){getSQLType(){return"macaddr"}}T(QO,Xk,"PgMacaddr");function uY(t){return new GO(t??"")}var Jk,eP;class YO extends(eP=wt,Jk=he,eP){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new XO(e,this.config)}}T(YO,Jk,"PgMacaddr8Builder");var tP,sP;class XO extends(sP=lt,tP=he,sP){getSQLType(){return"macaddr8"}}T(XO,tP,"PgMacaddr8");function hY(t){return new YO(t??"")}var nP,rP;class ZO extends(rP=wt,nP=he,rP){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new JO(e,this.config)}}T(ZO,nP,"PgNumericBuilder");var iP,aP;class JO extends(aP=lt,iP=he,aP){constructor(n,r){super(n,r);T(this,"precision");T(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}T(JO,iP,"PgNumeric");function e3(t,e){const{name:n,config:r}=Hs(t,e);return new ZO(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const mt=e3;var oP,lP;class t3 extends(lP=wt,oP=he,lP){constructor(e){super(e,"array","PgPointTuple")}build(e){return new s3(e,this.config)}}T(t3,oP,"PgPointTupleBuilder");var cP,dP;class s3 extends(dP=lt,cP=he,dP){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}T(s3,cP,"PgPointTuple");var uP,hP;class n3 extends(hP=wt,uP=he,hP){constructor(e){super(e,"json","PgPointObject")}build(e){return new r3(e,this.config)}}T(n3,uP,"PgPointObjectBuilder");var mP,fP;class r3 extends(fP=lt,mP=he,fP){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}T(r3,mP,"PgPointObject");function mY(t,e){const{name:n,config:r}=Hs(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new t3(n):new n3(n)}function fY(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function NC(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function i3(t){const e=fY(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=NC(e,n);n+=8;const l=NC(e,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var pP,xP;class a3 extends(xP=wt,pP=he,xP){constructor(e){super(e,"array","PgGeometry")}build(e){return new o3(e,this.config)}}T(a3,pP,"PgGeometryBuilder");var gP,yP;class o3 extends(yP=lt,gP=he,yP){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return i3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}T(o3,gP,"PgGeometry");var vP,jP;class l3 extends(jP=wt,vP=he,jP){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new c3(e,this.config)}}T(l3,vP,"PgGeometryObjectBuilder");var bP,wP;class c3 extends(wP=lt,bP=he,wP){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=i3(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}T(c3,bP,"PgGeometryObject");function pY(t,e){const{name:n,config:r}=Hs(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new a3(n):new l3(n)}var NP,SP;class d3 extends(SP=wt,NP=he,SP){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new u3(e,this.config)}}T(d3,NP,"PgRealBuilder");var CP,_P;class u3 extends(_P=lt,CP=he,_P){constructor(n,r){super(n,r);T(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}T(u3,CP,"PgReal");function xY(t){return new d3(t??"")}var kP,PP;class h3 extends(PP=wt,kP=he,PP){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new m3(e,this.config)}}T(h3,kP,"PgSerialBuilder");var TP,EP;class m3 extends(EP=lt,TP=he,EP){getSQLType(){return"serial"}}T(m3,TP,"PgSerial");function gY(t){return new h3(t??"")}var AP,FP;class f3 extends(FP=_m,AP=he,FP){constructor(e){super(e,"number","PgSmallInt")}build(e){return new p3(e,this.config)}}T(f3,AP,"PgSmallIntBuilder");var RP,IP;class p3 extends(IP=lt,RP=he,IP){constructor(){super(...arguments);T(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}T(p3,RP,"PgSmallInt");function yY(t){return new f3(t??"")}var DP,OP;class x3 extends(OP=wt,DP=he,OP){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new g3(e,this.config)}}T(x3,DP,"PgSmallSerialBuilder");var MP,LP;class g3 extends(LP=lt,MP=he,LP){getSQLType(){return"smallserial"}}T(g3,MP,"PgSmallSerial");function vY(t){return new x3(t??"")}var $P,UP;class y3 extends(UP=wt,$P=he,UP){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new v3(e,this.config)}}T(y3,$P,"PgTextBuilder");var BP,VP;class v3 extends(VP=lt,BP=he,VP){constructor(){super(...arguments);T(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}T(v3,BP,"PgText");function z(t,e={}){const{name:n,config:r}=Hs(t,e);return new y3(n,r)}var zP,qP;class j3 extends(qP=$d,zP=he,qP){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new b3(e,this.config)}}T(j3,zP,"PgTimeBuilder");var HP,WP;class b3 extends(WP=lt,HP=he,WP){constructor(n,r){super(n,r);T(this,"withTimezone");T(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(b3,HP,"PgTime");function jY(t,e={}){const{name:n,config:r}=Hs(t,e);return new j3(n,r.withTimezone??!1,r.precision)}var KP,GP;class w3 extends(GP=$d,KP=he,GP){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new N3(e,this.config)}}T(w3,KP,"PgTimestampBuilder");var QP,YP;class N3 extends(YP=lt,QP=he,YP){constructor(n,r){super(n,r);T(this,"withTimezone");T(this,"precision");T(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));T(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(N3,QP,"PgTimestamp");var XP,ZP;class S3 extends(ZP=$d,XP=he,ZP){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new C3(e,this.config)}}T(S3,XP,"PgTimestampStringBuilder");var JP,eT;class C3 extends(eT=lt,JP=he,eT){constructor(n,r){super(n,r);T(this,"withTimezone");T(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}T(C3,JP,"PgTimestampString");function ye(t,e={}){const{name:n,config:r}=Hs(t,e);return(r==null?void 0:r.mode)==="string"?new S3(n,r.withTimezone??!1,r.precision):new w3(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var tT,sT;class _3 extends(sT=wt,tT=he,sT){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(We`gen_random_uuid()`)}build(e){return new k3(e,this.config)}}T(_3,tT,"PgUUIDBuilder");var nT,rT;class k3 extends(rT=lt,nT=he,rT){getSQLType(){return"uuid"}}T(k3,nT,"PgUUID");function bY(t){return new _3(t??"")}var iT,aT;class P3 extends(aT=wt,iT=he,aT){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new T3(e,this.config)}}T(P3,iT,"PgVarcharBuilder");var oT,lT;class T3 extends(lT=lt,oT=he,lT){constructor(){super(...arguments);T(this,"length",this.config.length);T(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}T(T3,oT,"PgVarchar");function Ne(t,e={}){const{name:n,config:r}=Hs(t,e);return new P3(n,r)}var cT,dT;class E3 extends(dT=wt,cT=he,dT){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new A3(e,this.config)}}T(E3,cT,"PgBinaryVectorBuilder");var uT,hT;class A3 extends(hT=lt,uT=he,hT){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}T(A3,uT,"PgBinaryVector");function wY(t,e){const{name:n,config:r}=Hs(t,e);return new E3(n,r)}var mT,fT;class F3 extends(fT=wt,mT=he,fT){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new R3(e,this.config)}}T(F3,mT,"PgHalfVectorBuilder");var pT,xT;class R3 extends(xT=lt,pT=he,xT){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}T(R3,pT,"PgHalfVector");function NY(t,e){const{name:n,config:r}=Hs(t,e);return new F3(n,r)}var gT,yT;class I3 extends(yT=wt,gT=he,yT){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new D3(e,this.config)}}T(I3,gT,"PgSparseVectorBuilder");var vT,jT;class D3 extends(jT=lt,vT=he,jT){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}T(D3,vT,"PgSparseVector");function SY(t,e){const{name:n,config:r}=Hs(t,e);return new I3(n,r)}var bT,wT;class O3 extends(wT=wt,bT=he,wT){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new M3(e,this.config)}}T(O3,bT,"PgVectorBuilder");var NT,ST;class M3 extends(ST=lt,NT=he,ST){constructor(){super(...arguments);T(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}T(M3,NT,"PgVector");function CY(t,e){const{name:n,config:r}=Hs(t,e);return new O3(n,r)}function _Y(){return{bigint:tY,bigserial:sY,boolean:et,char:nY,cidr:rY,customType:iY,date:AO,doublePrecision:aY,inet:oY,integer:kt,interval:lY,json:cY,jsonb:Sd,line:dY,macaddr:uY,macaddr8:hY,numeric:e3,point:mY,geometry:pY,real:xY,serial:gY,smallint:yY,smallserial:vY,text:z,time:jY,timestamp:ye,uuid:bY,varchar:Ne,bit:wY,halfvec:NY,sparsevec:SY,vector:CY}}const Ij=Symbol.for("drizzle:PgInlineForeignKeys"),SC=Symbol.for("drizzle:EnableRLS");var CT,_T,kT,PT,TT;class Lu extends(TT=vn,PT=he,kT=Ij,_T=SC,CT=vn.Symbol.ExtraConfigBuilder,TT){constructor(){super(...arguments);T(this,kT,[]);T(this,_T,!1);T(this,CT)}}T(Lu,PT,"PgTable"),T(Lu,"Symbol",Object.assign({},vn.Symbol,{InlineForeignKeys:Ij,EnableRLS:SC}));function kY(t,e,n,r,i=t){const a=new Lu(t,r,i),o=typeof e=="function"?e(_Y()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const y=m.build(a);return a[Ij].push(...m.buildForeignKeys(y,a)),[u,y]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const y=m.buildExtraConfigColumn(a);return[u,y]})),d=Object.assign(a,l);return d[vn.Symbol.Columns]=l,d[vn.Symbol.ExtraConfigColumns]=c,n&&(d[Lu.Symbol.ExtraConfigBuilder]=n),Object.assign(d,{enableRLS:()=>(d[Lu.Symbol.EnableRLS]=!0,d)})}const It=(t,e,n)=>kY(t,e,n,void 0);var ET;ET=he;class MN{constructor(e,n){this.unique=e,this.name=n}on(...e){return new Of(e.map(n=>{if(Ns(n,us))return n;n=n;const r=new Df(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new Of(e.map(n=>{if(Ns(n,us))return n;n=n;const r=new Df(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new Of(n.map(r=>{if(Ns(r,us))return r;r=r;const i=new Df(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}T(MN,ET,"PgIndexBuilderOn");var AT;AT=he;class Of{constructor(e,n,r,i,a="btree"){T(this,"config");this.config={name:i,columns:e,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new L3(this.config,e)}}T(Of,AT,"PgIndexBuilder");var FT;FT=he;class L3{constructor(e,n){T(this,"config");this.config={...e,table:n}}}T(L3,FT,"PgIndex");function jt(t){return new MN(!1,t)}function $3(t){return new MN(!0,t)}const Jt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function xs(t,e){return e.includes(t.columnType)}function PY(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const TY=eN([te(),Vs(),ra(),wI()]),EY=eN([TY,NI(hl()),Xr(hl())]),AY=Jw(t=>t instanceof Buffer);function U3(t,e){const n=(e==null?void 0:e.zodInstance)??HW,r=(e==null?void 0:e.coerce)??{};let i;return PY(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(xs(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):xs(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):xs(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):xs(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):xs(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):xs(t,["PgArray"])?(i=n.array(U3(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=FY(t,n,r):t.dataType==="bigint"?i=RY(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=IY(t,n,r):t.dataType==="json"?i=EY:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=AY)),i||(i=n.any()),i}function FY(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;xs(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:Jt.INT8_MIN,a=r?Jt.INT8_UNSIGNED_MAX:Jt.INT8_MAX,o=!0):xs(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:Jt.INT16_MIN,a=r?Jt.INT16_UNSIGNED_MAX:Jt.INT16_MAX,o=!0):xs(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:Jt.INT24_MIN,a=r?Jt.INT24_UNSIGNED_MAX:Jt.INT24_MAX,o=xs(t,["MySqlMediumInt","SingleStoreMediumInt"])):xs(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:Jt.INT32_MIN,a=r?Jt.INT32_UNSIGNED_MAX:Jt.INT32_MAX,o=!0):xs(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:Jt.INT48_MIN,a=r?Jt.INT48_UNSIGNED_MAX:Jt.INT48_MAX):xs(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||xs(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):xs(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function RY(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:Jt.INT64_MIN,a=r?Jt.INT64_UNSIGNED_MAX:Jt.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function IY(t,e,n){if(xs(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;xs(t,["PgVarchar","SQLiteText"])?r=t.length:xs(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Jt.INT16_UNSIGNED_MAX:xs(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Jt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Jt.INT24_UNSIGNED_MAX:t.textType==="text"?r=Jt.INT16_UNSIGNED_MAX:r=Jt.INT8_UNSIGNED_MAX),xs(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),xs(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function B3(t){return aO(t)?JQ(t):eY(t)}function V3(t,e,n,r){const i={};for(const[a,o]of Object.entries(t)){if(!Ns(o,Nd)&&!Ns(o,us)&&!Ns(o,us.Aliased)&&typeof o=="object"){const h=aO(o)||ZQ(o)?B3(o):o;i[a]=V3(h,e[a]??{},n,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Ns(o,Nd)?o:void 0,d=c?U3(c,r):hl(),u=typeof l=="function"?l(d):d;n.never(c)||(i[a]=u,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return Un(i)}const DY={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Xt=(t,e)=>{const n=B3(t);return V3(n,{},DY)},z3=["PPL","IR","CPL","Multi-Engine","ATP","CFI","CFII","MEI"],OY=["Single-Engine","Multi-Engine","Turboprop","Jet","Rotor"],MY=["aircraft-sale","charter","cfi","flight-school","mechanic","job"],LY=["new","contacted","qualified","proposal","negotiation","won","lost"],$Y=["lead","prospect","proposal","negotiation","closed_won","closed_lost"],UY=["call","email","meeting","note","task"],BY=["website","referral","social_media","advertising","cold_outreach","event","other"],VY=["server","database","storage","api","other"];It("sessions",{sid:Ne("sid").primaryKey(),sess:Sd("sess").notNull(),expire:ye("expire").notNull()},t=>[jt("IDX_session_expire").on(t.expire)]);const zY=It("refresh_tokens",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),token:z("token").notNull().unique(),expiresAt:ye("expires_at").notNull(),createdAt:ye("created_at").defaultNow(),deviceInfo:z("device_info"),ipAddress:z("ip_address")},t=>[jt("idx_refresh_tokens_user").on(t.userId),jt("idx_refresh_tokens_expires").on(t.expiresAt)]),qY=It("oauth_exchange_tokens",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),token:z("token").notNull().unique(),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),expiresAt:ye("expires_at").notNull(),createdAt:ye("created_at").defaultNow()},t=>[jt("idx_oauth_exchange_tokens_token").on(t.token),jt("idx_oauth_exchange_tokens_expires").on(t.expiresAt)]),Rt=It("users",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),email:Ne("email").unique(),firstName:Ne("first_name"),lastName:Ne("last_name"),profileImageUrl:Ne("profile_image_url"),phone:z("phone"),certifications:z("certifications").array().notNull().default(We`ARRAY[]::text[]`),totalFlightHours:kt("total_flight_hours").default(0),aircraftTypesFlown:z("aircraft_types_flown").array().default(We`ARRAY[]::text[]`),pilotLicenseUrl:z("pilot_license_url"),insuranceUrl:z("insurance_url"),isVerified:et("is_verified").default(!1),licenseVerified:et("license_verified").default(!1),backgroundCheckCompleted:et("background_check_completed").default(!1),isAdmin:et("is_admin").default(!1),isSuperAdmin:et("is_super_admin").default(!1),legalFirstName:z("legal_first_name"),legalLastName:z("legal_last_name"),dateOfBirth:z("date_of_birth"),phoneVerified:et("phone_verified").default(!1),emailVerified:et("email_verified").default(!1),governmentIdFrontUrl:z("government_id_front_url"),governmentIdBackUrl:z("government_id_back_url"),selfieUrl:z("selfie_url"),identityVerified:et("identity_verified").default(!1),identityVerifiedAt:ye("identity_verified_at"),paymentMethodOnFile:et("payment_method_on_file").default(!1),paymentVerified:et("payment_verified").default(!1),paymentVerifiedAt:ye("payment_verified_at"),faaCertificateNumber:z("faa_certificate_number"),pilotCertificateName:z("pilot_certificate_name"),pilotCertificatePhotoUrl:z("pilot_certificate_photo_url"),faaVerified:et("faa_verified").default(!1),faaVerifiedMonth:z("faa_verified_month"),faaVerifiedAt:ye("faa_verified_at"),bankAccountConnected:et("bank_account_connected").default(!1),stripeAccountId:z("stripe_account_id"),paypalEmail:z("paypal_email"),balance:mt("balance",{precision:10,scale:2}).default("0.00"),hashedPassword:z("hashed_password"),passwordCreatedAt:ye("password_created_at"),emailVerificationToken:z("email_verification_token"),emailVerificationExpires:ye("email_verification_expires"),averageRating:mt("average_rating",{precision:3,scale:2}),totalReviews:kt("total_reviews").default(0),isSuspended:et("is_suspended").default(!1),suspensionReason:z("suspension_reason"),suspendedAt:ye("suspended_at"),suspendedBy:Ne("suspended_by"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>({usersSuspendedByFk:qQ({columns:[t.suspendedBy],foreignColumns:[t.id]})})),LN=It("aircraft_listings",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),ownerId:Ne("owner_id").notNull().references(()=>Rt.id),make:z("make").notNull(),model:z("model").notNull(),year:kt("year").notNull(),registration:z("registration").notNull(),category:z("category").notNull(),totalTime:kt("total_time").notNull(),engine:z("engine"),avionicsSuite:z("avionics_suite"),requiredCertifications:z("required_certifications").array().notNull(),minFlightHours:kt("min_flight_hours").default(0),hourlyRate:mt("hourly_rate",{precision:10,scale:2}).notNull(),insuranceIncluded:et("insurance_included").default(!0),wetRate:et("wet_rate").default(!0),images:z("images").array().notNull(),location:z("location").notNull(),city:z("city"),state:z("state"),zipCode:z("zip_code"),latitude:mt("latitude",{precision:10,scale:7}),longitude:mt("longitude",{precision:10,scale:7}),airportCode:z("airport_code"),engineType:z("engine_type"),engineCount:kt("engine_count"),seatingCapacity:kt("seating_capacity"),description:z("description"),isListed:et("is_listed").default(!0),adminNotes:z("admin_notes"),isFeatured:et("is_featured").default(!1),responseTime:kt("response_time_hours").default(24),acceptanceRate:kt("acceptance_rate").default(100),serialNumber:z("serial_number"),registrationDocUrl:z("registration_doc_url"),llcAuthorizationUrl:z("llc_authorization_url"),ownershipVerified:et("ownership_verified").default(!1),ownershipVerifiedAt:ye("ownership_verified_at"),registryCheckedAt:ye("registry_checked_at"),ownerNameMatch:et("owner_name_match"),annualInspectionDocUrl:z("annual_inspection_doc_url"),annualInspectionDate:z("annual_inspection_date"),annualDueDate:z("annual_due_date"),annualSignerName:z("annual_signer_name"),annualSignerCertNumber:z("annual_signer_cert_number"),annualSignerIaNumber:z("annual_signer_ia_number"),annualApVerified:et("annual_ap_verified").default(!1),requires100Hour:et("requires_100_hour").default(!1),hour100InspectionDocUrl:z("hour_100_inspection_doc_url"),hour100InspectionTach:kt("hour_100_inspection_tach"),currentTach:kt("current_tach"),hour100Remaining:kt("hour_100_remaining"),maintenanceTrackingProvider:z("maintenance_tracking_provider"),maintenanceTrackingDocUrl:z("maintenance_tracking_doc_url"),hasMaintenanceTracking:et("has_maintenance_tracking").default(!1),maintenanceVerified:et("maintenance_verified").default(!1),maintenanceVerifiedAt:ye("maintenance_verified_at"),lastRefreshedAt:ye("last_refreshed_at").defaultNow(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_aircraft_city").on(t.city),jt("idx_aircraft_is_listed").on(t.isListed),jt("idx_aircraft_category").on(t.category),jt("idx_aircraft_engine_type").on(t.engineType),jt("idx_aircraft_city_engine_type").on(t.city,t.engineType),jt("idx_aircraft_category_city").on(t.category,t.city)]),km=It("marketplace_listings",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),category:z("category").notNull(),tier:z("tier"),title:z("title").notNull(),description:z("description").notNull(),images:z("images").array().default(We`ARRAY[]::text[]`),location:z("location"),city:z("city"),state:z("state"),zipCode:z("zip_code"),latitude:mt("latitude",{precision:10,scale:7}),longitude:mt("longitude",{precision:10,scale:7}),contactEmail:z("contact_email"),contactPhone:z("contact_phone"),details:Sd("details"),price:mt("price",{precision:12,scale:2}),isActive:et("is_active").default(!0),expiresAt:ye("expires_at"),expirationReminderSent:et("expiration_reminder_sent").default(!1),expirationReminderSentAt:ye("expiration_reminder_sent_at"),adminNotes:z("admin_notes"),isFeatured:et("is_featured").default(!1),isExample:et("is_example").default(!1),flagCount:kt("flag_count").default(0).notNull(),viewCount:kt("view_count").default(0).notNull(),isPaid:et("is_paid").default(!1),monthlyFee:mt("monthly_fee",{precision:10,scale:2}),upgradeTransactions:z("upgrade_transactions").array().default(We`ARRAY[]::text[]`),promoFreeUntil:ye("promo_free_until"),promoGrantedBy:Ne("promo_granted_by").references(()=>Rt.id),promoGrantedAt:ye("promo_granted_at"),lastRefreshedAt:ye("last_refreshed_at").defaultNow(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_marketplace_category").on(t.category),jt("idx_marketplace_city").on(t.city),jt("idx_marketplace_is_active").on(t.isActive),jt("idx_marketplace_category_city").on(t.category,t.city),jt("idx_marketplace_category_active").on(t.category,t.isActive),jt("idx_marketplace_flag_count").on(t.flagCount)]),HY=It("marketplace_flags",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),listingId:Ne("listing_id").notNull().references(()=>km.id,{onDelete:"cascade"}),userId:Ne("user_id").notNull().references(()=>Rt.id),reason:z("reason"),createdAt:ye("created_at").defaultNow()},t=>[$3("idx_marketplace_flags_unique").on(t.listingId,t.userId)]),WY=It("job_applications",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),listingId:Ne("listing_id").notNull().references(()=>km.id,{onDelete:"cascade"}),applicantId:Ne("applicant_id").references(()=>Rt.id),firstName:z("first_name").notNull(),lastName:z("last_name").notNull(),email:z("email").notNull(),phone:z("phone"),currentJobTitle:z("current_job_title"),yearsOfExperience:z("years_of_experience"),coverLetter:z("cover_letter"),resumeUrl:z("resume_url").notNull(),status:z("status").default("new").notNull(),employerNotes:z("employer_notes"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_job_applications_listing").on(t.listingId),jt("idx_job_applications_applicant").on(t.applicantId),jt("idx_job_applications_status").on(t.status)]),KY=It("promo_alerts",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),title:z("title").notNull(),message:z("message").notNull(),promoCode:z("promo_code"),isEnabled:et("is_enabled").default(!0),showOnMainPage:et("show_on_main_page").default(!0),showOnCategoryPages:et("show_on_category_pages").default(!0),targetCategories:z("target_categories").array().default(We`ARRAY[]::text[]`),variant:z("variant").default("info"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),hg=It("rentals",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),aircraftId:Ne("aircraft_id").notNull().references(()=>LN.id),renterId:Ne("renter_id").notNull().references(()=>Rt.id),ownerId:Ne("owner_id").notNull().references(()=>Rt.id),startDate:ye("start_date").notNull(),endDate:ye("end_date").notNull(),estimatedHours:mt("estimated_hours",{precision:6,scale:2}).notNull(),actualHours:mt("actual_hours",{precision:6,scale:2}),hourlyRate:mt("hourly_rate",{precision:10,scale:2}).notNull(),baseCost:mt("base_cost",{precision:10,scale:2}).notNull(),salesTax:mt("sales_tax",{precision:10,scale:2}).notNull(),platformFeeRenter:mt("platform_fee_renter",{precision:10,scale:2}).notNull(),platformFeeOwner:mt("platform_fee_owner",{precision:10,scale:2}).notNull(),processingFee:mt("processing_fee",{precision:10,scale:2}).notNull(),totalCostRenter:mt("total_cost_renter",{precision:10,scale:2}).notNull(),ownerPayout:mt("owner_payout",{precision:10,scale:2}).notNull(),status:z("status").notNull().default("pending"),isPaid:et("is_paid").default(!1),payoutCompleted:et("payout_completed").default(!1),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),GY=It("messages",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),rentalId:Ne("rental_id").notNull().references(()=>hg.id),senderId:Ne("sender_id").notNull().references(()=>Rt.id),receiverId:Ne("receiver_id").notNull().references(()=>Rt.id),content:z("content").notNull(),isRead:et("is_read").default(!1),createdAt:ye("created_at").defaultNow()}),QY=It("reviews",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),rentalId:Ne("rental_id").notNull().references(()=>hg.id),reviewerId:Ne("reviewer_id").notNull().references(()=>Rt.id),revieweeId:Ne("reviewee_id").notNull().references(()=>Rt.id),rating:kt("rating").notNull(),comment:z("comment"),communicationRating:kt("communication_rating"),cleanlinessRating:kt("cleanliness_rating"),accuracyRating:kt("accuracy_rating"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),YY=It("favorites",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),listingType:z("listing_type").notNull(),listingId:Ne("listing_id").notNull(),createdAt:ye("created_at").defaultNow()},t=>({idxFavoritesUser:jt("idx_favorites_user").on(t.userId),idxFavoritesListing:jt("idx_favorites_listing").on(t.listingType,t.listingId),uniqueUserListing:$3("idx_favorites_user_listing_unique").on(t.userId,t.listingType,t.listingId)}));It("transactions",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),type:z("type").notNull(),amount:mt("amount",{precision:10,scale:2}).notNull(),rentalId:Ne("rental_id").references(()=>hg.id),marketplaceListingId:Ne("marketplace_listing_id").references(()=>km.id),status:z("status").notNull().default("pending"),depositedToBankAt:ye("deposited_to_bank_at"),description:z("description"),createdAt:ye("created_at").defaultNow()});const XY=It("withdrawal_requests",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),amount:mt("amount",{precision:10,scale:2}).notNull(),paypalEmail:z("paypal_email").notNull(),status:z("status").notNull().default("pending"),payoutBatchId:z("payout_batch_id"),payoutItemId:z("payout_item_id"),transactionId:z("transaction_id"),processedAt:ye("processed_at"),processedBy:Ne("processed_by").references(()=>Rt.id),failureReason:z("failure_reason"),adminNotes:z("admin_notes"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_withdrawal_user").on(t.userId),jt("idx_withdrawal_status").on(t.status)]),q3=It("promo_codes",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),code:z("code").notNull().unique(),description:z("description"),discountType:z("discount_type").notNull(),discountValue:mt("discount_value",{precision:10,scale:2}),maxUses:kt("max_uses"),usedCount:kt("used_count").default(0),isActive:et("is_active").default(!0),validFrom:ye("valid_from").defaultNow(),validUntil:ye("valid_until"),applicableToMarketplace:et("applicable_to_marketplace").default(!0),applicableToBannerAds:et("applicable_to_banner_ads").default(!1),applicableCategories:z("applicable_categories").array().default(We`ARRAY[]::text[]`),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});It("promo_code_usages",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),promoCodeId:Ne("promo_code_id").notNull().references(()=>q3.id),userId:Ne("user_id").references(()=>Rt.id),marketplaceListingId:Ne("marketplace_listing_id").references(()=>km.id),bannerAdOrderId:Ne("banner_ad_order_id").references(()=>$N.id),createdAt:ye("created_at").defaultNow()});const ZY=It("expenses",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),category:z("category").notNull(),amount:mt("amount",{precision:10,scale:2}).notNull(),description:z("description"),invoiceUrl:z("invoice_url"),expenseDate:ye("expense_date").notNull().defaultNow(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),JY=It("admin_notifications",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),type:z("type").notNull(),category:z("category"),title:z("title").notNull(),message:z("message").notNull(),isRead:et("is_read").default(!1),isActionable:et("is_actionable").default(!0),listingCount:kt("listing_count"),threshold:kt("threshold"),createdAt:ye("created_at").defaultNow(),readAt:ye("read_at")}),eX=It("contact_submissions",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),firstName:z("first_name").notNull(),lastName:z("last_name").notNull(),email:z("email").notNull(),subject:z("subject").notNull(),message:z("message").notNull(),ipAddress:z("ip_address"),userAgent:z("user_agent"),emailSent:et("email_sent").default(!1),emailSentAt:ye("email_sent_at"),createdAt:ye("created_at").defaultNow()},t=>[jt("idx_contact_email").on(t.email),jt("idx_contact_created").on(t.createdAt),jt("idx_contact_ip").on(t.ipAddress)]);Xt(eX).omit({id:!0,emailSent:!0,emailSentAt:!0,createdAt:!0});const $N=It("banner_ad_orders",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),sponsorName:z("sponsor_name").notNull(),sponsorEmail:z("sponsor_email").notNull(),sponsorCompany:z("sponsor_company"),title:z("title").notNull(),description:z("description"),imageUrl:z("image_url"),link:z("link").notNull(),placements:z("placements").array().notNull().default(We`ARRAY[]::text[]`),category:z("category"),tier:z("tier").notNull(),monthlyRate:mt("monthly_rate",{precision:10,scale:2}).notNull(),totalAmount:mt("total_amount",{precision:10,scale:2}).notNull(),creationFee:mt("creation_fee",{precision:10,scale:2}).default("40.00"),grandTotal:mt("grand_total",{precision:10,scale:2}).notNull(),promoCode:z("promo_code"),discountAmount:mt("discount_amount",{precision:10,scale:2}).default("0.00"),approvalStatus:z("approval_status").notNull().default("draft"),paymentStatus:z("payment_status").notNull().default("pending"),paypalOrderId:z("paypal_order_id"),paypalPaymentDate:ye("paypal_payment_date"),startDate:ye("start_date"),endDate:ye("end_date"),expirationReminderSent:et("expiration_reminder_sent").default(!1),expirationReminderSentAt:ye("expiration_reminder_sent_at"),adminNotes:z("admin_notes"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_banner_orders_status").on(t.approvalStatus,t.paymentStatus),jt("idx_banner_orders_email").on(t.sponsorEmail)]),tX=It("banner_ads",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),orderId:Ne("order_id").references(()=>$N.id),title:z("title").notNull(),description:z("description"),imageUrl:z("image_url").notNull(),link:z("link").notNull(),placements:z("placements").array().notNull().default(We`ARRAY[]::text[]`),category:z("category"),listingId:Ne("listing_id"),listingType:z("listing_type"),isActive:et("is_active").default(!0),startDate:ye("start_date").notNull(),endDate:ye("end_date"),impressions:kt("impressions").default(0),clicks:kt("clicks").default(0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_banner_ads_placements").on(t.placements),jt("idx_banner_ads_active").on(t.isActive),jt("idx_banner_ads_dates").on(t.startDate,t.endDate),jt("idx_banner_ads_order").on(t.orderId)]);It("verification_submissions",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),type:z("type").notNull(),status:z("status").notNull().default("pending"),aircraftId:Ne("aircraft_id").references(()=>LN.id),submissionData:Sd("submission_data").notNull(),documentUrls:z("document_urls").array().default(We`ARRAY[]::text[]`),reviewedBy:Ne("reviewed_by").references(()=>Rt.id),reviewedAt:ye("reviewed_at"),reviewNotes:z("review_notes"),rejectionReason:z("rejection_reason"),faaRegistryChecked:et("faa_registry_checked").default(!1),faaRegistryMatch:et("faa_registry_match"),faaRegistryData:Sd("faa_registry_data"),sources:z("sources").array().default(We`ARRAY[]::text[]`),fileHashes:z("file_hashes").array().default(We`ARRAY[]::text[]`),pilotLicenseExpiresAt:ye("pilot_license_expires_at"),medicalCertExpiresAt:ye("medical_cert_expires_at"),insuranceExpiresAt:ye("insurance_expires_at"),governmentIdExpiresAt:ye("government_id_expires_at"),expirationNotificationSent:et("expiration_notification_sent").default(!1),lastNotificationSentAt:ye("last_notification_sent_at"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});const H3=It("crm_leads",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),firstName:z("first_name").notNull(),lastName:z("last_name").notNull(),email:Ne("email").notNull(),phone:z("phone"),company:z("company"),title:z("title"),status:z("status").notNull().default("new"),source:z("source"),value:mt("value",{precision:10,scale:2}),assignedTo:Ne("assigned_to").references(()=>Rt.id),notes:z("notes"),tags:z("tags").array().default(We`ARRAY[]::text[]`),convertedToContactId:Ne("converted_to_contact_id"),convertedToDealId:Ne("converted_to_deal_id"),convertedAt:ye("converted_at"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),UN=It("crm_contacts",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),firstName:z("first_name").notNull(),lastName:z("last_name").notNull(),email:Ne("email").notNull(),phone:z("phone"),company:z("company"),title:z("title"),userId:Ne("user_id").references(()=>Rt.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),notes:z("notes"),tags:z("tags").array().default(We`ARRAY[]::text[]`),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),W3=It("crm_deals",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),name:z("name").notNull(),stage:z("stage").notNull().default("lead"),value:mt("value",{precision:10,scale:2}).notNull(),probability:kt("probability").default(50),contactId:Ne("contact_id").references(()=>UN.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),expectedCloseDate:ye("expected_close_date"),closedDate:ye("closed_date"),description:z("description"),notes:z("notes"),tags:z("tags").array().default(We`ARRAY[]::text[]`),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),sX=It("crm_activities",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),type:z("type").notNull(),subject:z("subject").notNull(),description:z("description"),leadId:Ne("lead_id").references(()=>H3.id),contactId:Ne("contact_id").references(()=>UN.id),dealId:Ne("deal_id").references(()=>W3.id),createdBy:Ne("created_by").notNull().references(()=>Rt.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),dueDate:ye("due_date"),completedAt:ye("completed_at"),isCompleted:et("is_completed").default(!1),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});Xt(Rt).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({certifications:Xr(Ys(z3)).default([]),totalFlightHours:Vs().min(0).default(0)});Xt(zY).omit({id:!0,createdAt:!0});Xt(qY).omit({id:!0,createdAt:!0});Xt(LN).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({year:Vs().min(1900).max(new Date().getFullYear()+1),totalTime:Vs().min(0),hourlyRate:te().regex(/^\d+(\.\d{1,2})?$/),requiredCertifications:Xr(te()).min(1),images:Xr(te()).min(1).max(15),engineType:Ys(OY).optional(),engineCount:Vs().min(1).max(8).optional(),seatingCapacity:Vs().min(1).max(20).optional(),latitude:te().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:te().regex(/^-?\d+(\.\d+)?$/).optional()});const nX=Xt(km).omit({id:!0,createdAt:!0,updatedAt:!0,flagCount:!0,viewCount:!0}).extend({category:Ys(MY),images:Xr(te()).max(15),price:te().regex(/^\d+(\.\d{1,2})?$/).optional(),monthlyFee:te().regex(/^\d+(\.\d{1,2})?$/).optional(),latitude:te().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:te().regex(/^-?\d+(\.\d+)?$/).optional()}),rX=It("logbook_entries",{id:Ne("id").primaryKey().default(We`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),flightDate:AO("flight_date").notNull(),tailNumber:z("tail_number"),aircraftType:z("aircraft_type"),route:z("route"),timeDay:mt("time_day",{precision:6,scale:2}).default(We`0`).notNull(),timeNight:mt("time_night",{precision:6,scale:2}).default(We`0`).notNull(),pic:mt("pic",{precision:6,scale:2}).default(We`0`).notNull(),sic:mt("sic",{precision:6,scale:2}).default(We`0`).notNull(),dual:mt("dual",{precision:6,scale:2}).default(We`0`).notNull(),instrumentActual:mt("instrument_actual",{precision:6,scale:2}).default(We`0`).notNull(),approaches:kt("approaches").default(0).notNull(),landingsDay:kt("landings_day").default(0).notNull(),landingsNight:kt("landings_night").default(0).notNull(),holds:kt("holds").default(0).notNull(),remarks:z("remarks"),maneuvers:Sd("maneuvers"),hobbsStart:mt("hobbs_start",{precision:8,scale:1}),hobbsEnd:mt("hobbs_end",{precision:8,scale:1}),signatureDataUrl:z("signature_data_url"),signedByName:z("signed_by_name"),signedAt:ye("signed_at"),isLocked:et("is_locked").default(!1).notNull(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()},t=>[jt("idx_logbook_user").on(t.userId),jt("idx_logbook_date").on(t.flightDate)]);Xt(rX).omit({id:!0,createdAt:!0,updatedAt:!0,isLocked:!0,signatureDataUrl:!0,signedAt:!0,signedByName:!0}).extend({flightDate:Yn.date(),timeDay:te().regex(/^\d+(\.\d{1,2})?$/).optional(),timeNight:te().regex(/^\d+(\.\d{1,2})?$/).optional(),pic:te().regex(/^\d+(\.\d{1,2})?$/).optional(),sic:te().regex(/^\d+(\.\d{1,2})?$/).optional(),dual:te().regex(/^\d+(\.\d{1,2})?$/).optional(),instrumentActual:te().regex(/^\d+(\.\d{1,2})?$/).optional(),approaches:Vs().min(0).optional(),landingsDay:Vs().min(0).optional(),landingsNight:Vs().min(0).optional(),holds:Vs().min(0).optional(),hobbsStart:te().regex(/^\d+(\.\d)?$/).optional(),hobbsEnd:te().regex(/^\d+(\.\d)?$/).optional()});Xt(HY).omit({id:!0,createdAt:!0});Xt(hg).omit({id:!0,createdAt:!0,updatedAt:!0,actualHours:!0,status:!0,isPaid:!0,payoutCompleted:!0,baseCost:!0,salesTax:!0,platformFeeRenter:!0,platformFeeOwner:!0,processingFee:!0,totalCostRenter:!0,ownerPayout:!0}).extend({startDate:Yn.date(),endDate:Yn.date(),estimatedHours:te().regex(/^\d+(\.\d{1,2})?$/),hourlyRate:te().regex(/^\d+(\.\d{1,2})?$/)});Xt(GY).omit({id:!0,createdAt:!0,isRead:!0});Xt(QY).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({rating:Vs().min(1).max(5),communicationRating:Vs().min(1).max(5).optional(),cleanlinessRating:Vs().min(1).max(5).optional(),accuracyRating:Vs().min(1).max(5).optional(),comment:te().max(1e3).optional()});Xt(YY).omit({id:!0,createdAt:!0}).extend({listingType:Ys(["marketplace","aircraft"])});const iX=Xt(H3).omit({id:!0,createdAt:!0,updatedAt:!0,convertedToContactId:!0,convertedToDealId:!0,convertedAt:!0}).extend({status:Ys(LY).default("new"),source:Ys(BY).optional(),value:te().regex(/^\d+(\.\d{1,2})?$/).optional()});Xt(UN).omit({id:!0,createdAt:!0,updatedAt:!0});Xt(W3).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({stage:Ys($Y).default("lead"),value:te().regex(/^\d+(\.\d{1,2})?$/),probability:Vs().min(0).max(100).default(50)});Xt(sX).omit({id:!0,createdAt:!0,updatedAt:!0,isCompleted:!0,completedAt:!0}).extend({type:Ys(UY)});const aX=Xt(q3).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0,applicableCategories:!0}).extend({code:te().min(1,"Promo code is required").toUpperCase(),description:te().optional(),discountType:Ys(["free_7_day","percentage","fixed_amount","waive_creation_fee"]),discountValue:te().regex(/^\d+(\.\d{1,2})?$/).optional(),maxUses:Vs().int().positive().optional(),isActive:ra().default(!0),validFrom:Yn.date().optional(),validUntil:Yn.date().optional(),applicableToMarketplace:ra().default(!0),applicableToBannerAds:ra().default(!1)}),oX=Xt(ZY).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({category:Ys(VY),amount:te().regex(/^\d+(\.\d{1,2})?$/),expenseDate:Yn.date().optional(),invoiceUrl:te().optional()});Xt(JY).omit({id:!0,createdAt:!0,readAt:!0});const lX=Xt($N).omit({id:!0,createdAt:!0,updatedAt:!0,paypalOrderId:!0,paypalPaymentDate:!0}).extend({sponsorName:te().min(1,"Sponsor name is required"),sponsorEmail:te().email("Valid email is required"),title:te().min(1,"Title is required"),link:te().url("Please enter a valid URL (e.g., https://www.example.com)"),placements:Xr(te()).min(1,"At least one page placement is required"),tier:Ys(["1month","3months","6months","12months"])}),cX=Xt(tX).omit({id:!0,impressions:!0,clicks:!0,createdAt:!0,updatedAt:!0}).extend({placements:Xr(te()).min(1,"At least one page placement is required"),imageUrl:te().min(1,"Banner image is required"),link:te().url("Please enter a valid URL (e.g., https://www.example.com)"),title:te().min(1,"Title is required")});Xt(WY).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,employerNotes:!0}).extend({firstName:te().min(1,"First name is required"),lastName:te().min(1,"Last name is required"),email:te().email("Valid email is required"),phone:te().optional(),coverLetter:te().optional(),resumeUrl:te().min(1,"Resume is required")});const dX=Xt(KY).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({title:te().min(1,"Title is required"),message:te().min(1,"Message is required"),promoCode:te().optional(),variant:Ys(["info","success","warning","destructive"]).default("info")});Xt(XY).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,payoutBatchId:!0,payoutItemId:!0,transactionId:!0,processedAt:!0,processedBy:!0,failureReason:!0,adminNotes:!0}).extend({amount:te().regex(/^\d+(\.\d{1,2})?$/,"Amount must be a valid number"),paypalEmail:te().email("Valid PayPal email is required")});const uX=Un({firstName:te().min(1,"First name is required"),lastName:te().min(1,"Last name is required"),phone:te().optional(),totalFlightHours:Yn.number().min(0).optional(),certifications:Xr(te()),profilePicture:hl().optional(),pilotLicense:hl().optional(),insurance:hl().optional()}),hX=["Cessna 172","Cessna 182","Piper Cherokee","Cirrus SR22","Diamond DA40"];function mX(){var b,j,v,p;const[t,e]=f.useState(!1),[n,r]=f.useState(!1),{toast:i}=Bt(),{user:a}=ln(),{data:o,isLoading:l}=Ve({queryKey:["/api/users",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:c=[]}=Ve({queryKey:["/api/rentals/owner",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:d=[]}=Ve({queryKey:["/api/rentals/renter",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),u=c.length+d.length,h=Kn({resolver:Gn(uX),defaultValues:{firstName:"",lastName:"",phone:"",totalFlightHours:0,certifications:[]}});f.useEffect(()=>{o&&h.reset({firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",totalFlightHours:o.totalFlightHours||0,certifications:o.certifications||[]})},[o,h]);const m=Ae({mutationFn:async x=>{var N,_,C;let w={...x.updates};if((N=x.files)!=null&&N.profilePicture||(_=x.files)!=null&&_.license||(C=x.files)!=null&&C.insurance){r(!0);const k=new FormData;x.files.profilePicture&&k.append("images",x.files.profilePicture),x.files.license&&k.append("images",x.files.license),x.files.insurance&&k.append("images",x.files.insurance);try{const P=await fetch("/api/upload-images",{method:"POST",body:k,credentials:"include"});if(!P.ok)throw new Error("Failed to upload documents");const R=(await P.json()).imageUrls||[];let L=0;x.files.profilePicture&&R[L]&&(w.profileImageUrl=R[L],L++),x.files.license&&R[L]&&(w.pilotLicenseUrl=R[L],L++),x.files.insurance&&R[L]&&(w.insuranceUrl=R[L])}finally{r(!1)}}return await De("PATCH",`/api/users/${a==null?void 0:a.id}`,w)},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/users",a==null?void 0:a.id]}),_e.invalidateQueries({queryKey:["/api/auth/user"]}),i({title:"Profile Updated",description:"Your profile has been successfully updated."}),e(!1),h.reset()},onError:x=>{i({title:"Error",description:x.message||"Failed to update profile",variant:"destructive"})}}),y=x=>{var _,C,k;const w={firstName:x.firstName,lastName:x.lastName,phone:x.phone,totalFlightHours:x.totalFlightHours,certifications:x.certifications},N={};(_=x.profilePicture)!=null&&_[0]&&(N.profilePicture=x.profilePicture[0]),(C=x.pilotLicense)!=null&&C[0]&&(N.license=x.pilotLicense[0]),(k=x.insurance)!=null&&k[0]&&(N.insurance=x.insurance[0]),m.mutate({updates:w,files:N})};return l||!o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsx($,{className:"mb-8",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[s.jsxs(Ci,{className:"h-24 w-24","data-testid":"avatar-profile",children:[s.jsx(_i,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(ki,{children:[(b=o.firstName)==null?void 0:b[0],(j=o.lastName)==null?void 0:j[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-1","data-testid":"text-profile-name",children:[o.firstName," ",o.lastName]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-3",children:o.email}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx(N5,{user:o,type:"renter",size:"md"}),!o.identityVerified&&s.jsx(vt,{href:"/verify-identity",children:s.jsxs(O,{variant:"outline",size:"sm",className:"w-full sm:w-auto","data-testid":"button-start-verification",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Start Verification"]})})]})]}),s.jsxs(ts,{open:t,onOpenChange:e,children:[s.jsx(WI,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"w-full sm:w-auto","data-testid":"button-edit-profile",children:[s.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Edit Profile"}),s.jsx(ps,{children:"Update your profile information, certifications, and documents"})]}),s.jsx(Mr,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-6 py-4",children:[s.jsx(ne,{control:h.control,name:"profilePicture",render:({field:{onChange:x,value:w,...N}})=>{var _,C;return s.jsxs(J,{children:[s.jsx(ee,{children:"Profile Picture"}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ci,{className:"h-20 w-20",children:[s.jsx(_i,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(ki,{children:[(_=o.firstName)==null?void 0:_[0],(C=o.lastName)==null?void 0:C[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(W,{type:"file",accept:"image/*",onChange:k=>x(k.target.files),...N,"data-testid":"input-profile-picture"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload a new profile picture (JPG, PNG, or GIF)"})]})]})}),s.jsx(oe,{})]})}}),s.jsx(rt,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:h.control,name:"firstName",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"First Name"}),s.jsx(ie,{children:s.jsx(W,{...x,"data-testid":"input-edit-firstname"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"lastName",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Last Name"}),s.jsx(ie,{children:s.jsx(W,{...x,"data-testid":"input-edit-lastname"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:h.control,name:"phone",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Phone Number"}),s.jsx(ie,{children:s.jsx(W,{...x,placeholder:"+1 (555) 123-4567","data-testid":"input-edit-phone"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"totalFlightHours",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Total Flight Hours"}),s.jsx(ie,{children:s.jsx(W,{type:"number",...x,onChange:w=>x.onChange(parseInt(w.target.value)||0),"data-testid":"input-edit-hours"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"certifications",render:()=>s.jsxs(J,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(ee,{children:"Pilot Certifications"}),s.jsx(Ss,{children:"Select all certifications you hold"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:z3.map(x=>s.jsx(ne,{control:h.control,name:"certifications",render:({field:w})=>{var N;return s.jsxs(J,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:(N=w.value)==null?void 0:N.includes(x),onCheckedChange:_=>{var C;return _?w.onChange([...w.value,x]):w.onChange((C=w.value)==null?void 0:C.filter(k=>k!==x))},"data-testid":`checkbox-cert-${x}`})}),s.jsx(ee,{className:"font-normal cursor-pointer",children:x})]},x)}},x))}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h3",{className:"font-semibold",children:"Document Uploads"}),s.jsx(ne,{control:h.control,name:"pilotLicense",render:({field:{onChange:x,value:w,...N}})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Pilot License"}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{type:"file",accept:"image/*,.pdf",onChange:_=>x(_.target.files),...N,"data-testid":"input-pilot-license"}),o.pilotLicenseUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zn,{className:"h-4 w-4"}),s.jsx("a",{href:o.pilotLicenseUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current license on file"})]})]})}),s.jsx(Ss,{children:"Upload a copy of your pilot license (image or PDF)"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"insurance",render:({field:{onChange:x,value:w,...N}})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Insurance Certificate"}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{type:"file",accept:"image/*,.pdf",onChange:_=>x(_.target.files),...N,"data-testid":"input-insurance"}),o.insuranceUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zn,{className:"h-4 w-4"}),s.jsx("a",{href:o.insuranceUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current insurance on file"})]})]})}),s.jsx(Ss,{children:"Upload a copy of your insurance certificate (image or PDF)"}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{e(!1),h.reset()},disabled:m.isPending||n,children:"Cancel"}),s.jsx(O,{type:"submit",disabled:m.isPending||n,"data-testid":"button-save-profile",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pm,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):m.isPending?"Saving...":"Save Changes"})]})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Lo,{className:"h-4 w-4"}),"Total Hours"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:((v=o.totalFlightHours)==null?void 0:v.toLocaleString())||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(dl,{className:"h-4 w-4"}),"Certifications"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-cert-count",children:((p=o.certifications)==null?void 0:p.length)||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Rentals"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-rental-count",children:u})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(wn,{className:"h-4 w-4"}),"Verification"]}),s.jsxs(Q,{className:o.identityVerified?"bg-chart-2 text-white":"",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1"}),o.identityVerified?"Verified":"Unverified"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.identityVerified&&s.jsxs(Q,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"ID Verified"]}),o.licenseVerified&&s.jsxs(Q,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"License Verified"]}),o.backgroundCheckCompleted&&s.jsxs(Q,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Background Check"]}),o.pilotLicenseUrl&&s.jsxs(Q,{variant:"outline",className:"bg-background",children:[s.jsx(Zn,{className:"h-3 w-3 mr-1 text-primary"}),"License on File"]}),o.insuranceUrl&&s.jsxs(Q,{variant:"outline",className:"bg-background",children:[s.jsx(Zn,{className:"h-3 w-3 mr-1 text-primary"}),"Insurance on File"]})]})]})]})})}),s.jsxs(Ld,{defaultValue:"certifications",className:"space-y-6",children:[s.jsxs(Ml,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto","data-testid":"tabs-profile",children:[s.jsx(_t,{value:"certifications",className:"text-xs sm:text-sm","data-testid":"tab-certifications",children:"Certifications"}),s.jsx(_t,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-types",children:"Aircraft"}),s.jsx(_t,{value:"history",className:"text-xs sm:text-sm","data-testid":"tab-rental-history",children:"History"}),s.jsx(_t,{value:"reviews",className:"text-xs sm:text-sm","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(At,{value:"certifications",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Pilot Certifications"})}),s.jsx(U,{children:o.certifications&&o.certifications.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.certifications.map(x=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`cert-${x}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(dl,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:x}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilot Certification"})]})]})},x))}):s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:'No certifications added yet. Click "Edit Profile" to add certifications.'})})]})}),s.jsx(At,{value:"aircraft",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Aircraft Types Flown"})}),s.jsx(U,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:hX.map(x=>s.jsxs(Q,{variant:"outline",className:"px-4 py-2 text-sm","data-testid":`aircraft-type-${x}`,children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),x]},x))})})]})}),s.jsx(At,{value:"history",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Rental History"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>s.jsxs("div",{className:"p-4 border rounded-lg hover-elevate","data-testid":`rental-history-${x}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"2018 Cessna 172 Skyhawk"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]}),s.jsx(Q,{className:"bg-chart-2 text-white",children:"Completed"})]}),s.jsx(rt,{className:"my-2"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dec 1-3, 2024  6 hours"}),s.jsx("span",{className:"font-semibold",children:"$870.00"})]})]},x))})})]})}),s.jsx(At,{value:"reviews",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Reviews"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No reviews yet"})})]})})]})]})})}const fX=.0825,pX={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40,jobs:40};function CC(t,e){const n=pX[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25}function xX(t,e,n){const r=CC(t,e);return CC(t,n)-r}function gX(t){return t+t*fX}const rf=[{id:"basic",label:"Basic",price:25,description:"Essential features for smaller listings",features:["30-day listing","Basic visibility","Up to 3 images"]},{id:"standard",label:"Standard",price:40,description:"Enhanced features for better exposure",features:["30-day listing","Enhanced visibility","Up to 5 images","Featured badge"]},{id:"premium",label:"Premium",price:100,description:"Maximum visibility and features",features:["30-day listing","Top placement","Up to 10 images","Featured badge","Priority support"]}];function yX({listing:t,isOpen:e,onClose:n}){const[r,i]=f.useState(""),{toast:a}=Bt(),[,o]=Zs(),l=rf.find(y=>y.id===t.tier),c=rf.findIndex(y=>y.id===t.tier),d=rf.filter((y,b)=>b>c),u=()=>{if(!r){a({title:"Select a tier",description:"Please select a tier to upgrade to",variant:"destructive"});return}const y=xX(t.category,t.tier||"basic",r),b=gX(y),j={listingId:t.id,listingTitle:t.title,currentTier:t.tier||"basic",newTier:r,category:t.category,upgradeDelta:y,totalWithTax:b};localStorage.setItem("upgradeContext",JSON.stringify(j)),n(),o("/marketplace/listing/checkout?mode=upgrade")},h=rf.find(y=>y.id===r),m=h?h.price-((l==null?void 0:l.price)||25):0;return s.jsx(ts,{open:e,onOpenChange:n,children:s.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(os,{children:[s.jsxs(ls,{className:"flex items-center gap-2",children:[s.jsx(An,{className:"w-5 h-5"}),"Upgrade Your Listing"]}),s.jsx(ps,{children:"Boost your listing's visibility and features by upgrading to a higher tier"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Tier"}),s.jsxs(Q,{variant:"secondary",className:"text-sm",children:[l==null?void 0:l.label," - $",l==null?void 0:l.price,"/month"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-4",children:"Available Upgrades"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(y=>{const b=y.price-((l==null?void 0:l.price)||25),j=r===y.id;return s.jsxs($,{className:`cursor-pointer transition-all ${j?"border-primary ring-2 ring-primary":"hover-elevate"}`,onClick:()=>i(y.id),"data-testid":`tier-option-${y.id}`,children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-lg",children:y.label}),s.jsxs(Re,{className:"text-sm mt-1",children:["$",y.price,"/month"]})]}),j&&s.jsx(ih,{className:"w-5 h-5 text-primary"})]}),s.jsx(Re,{className:"mt-2",children:y.description})]}),s.jsxs(U,{children:[s.jsx("ul",{className:"space-y-2",children:y.features.map((v,p)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ih,{className:"w-4 h-4 text-green-600"}),v]},p))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Upgrade cost: ",s.jsxs("span",{className:"text-foreground",children:["$",b]})]})})]})]},y.id)})})]}),d.length===0&&s.jsx($,{children:s.jsx(U,{className:"py-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"You're already at the highest tier! "})})}),r&&s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Upgrade Summary"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l==null?void 0:l.label,"  ",h==null?void 0:h.label]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",m]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"one-time upgrade fee"})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(O,{variant:"outline",onClick:n,"data-testid":"button-cancel-upgrade",children:"Cancel"}),s.jsx(O,{onClick:u,disabled:!r,"data-testid":"button-confirm-upgrade",children:"Proceed to Payment"})]})]})]})})}function vX(){const{user:t}=ln(),[,e]=Zs(),{toast:n}=Bt(),[r,i]=f.useState(null),{data:a=[],isLoading:o}=Ve({queryKey:["/api/marketplace/user",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:l=[],isLoading:c}=Ve({queryKey:["/api/aircraft/owner",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),d=Ae({mutationFn:async m=>await De("PATCH",`/api/aircraft/${m}/refresh`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/aircraft/owner",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your aircraft listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),u=Ae({mutationFn:async m=>await De("PATCH",`/api/marketplace/${m}/refresh`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/marketplace/user",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your marketplace listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),h=m=>({"aircraft-sale":"Aircraft For Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[m]||m;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-my-listings-title",children:"My Listings"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your aircraft rentals and marketplace listings"})]}),s.jsxs(Ld,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(Ml,{className:"grid w-full grid-cols-2 h-auto",children:[s.jsxs(_t,{value:"marketplace",className:"text-xs sm:text-sm","data-testid":"tab-marketplace-listings",children:["Marketplace (",a.length,")"]}),s.jsxs(_t,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-listings",children:["Rentals (",l.length,")"]})]}),s.jsxs(At,{value:"marketplace",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Marketplace Listings"}),s.jsx(O,{onClick:()=>e("/create-marketplace-listing"),className:"w-full sm:w-auto","data-testid":"button-create-marketplace",children:"Create New Listing"})]}),o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):a.length===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings yet"}),s.jsx(O,{onClick:()=>e("/create-marketplace-listing"),"data-testid":"button-create-first-marketplace",children:"Create Your First Listing"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>s.jsxs($,{className:"hover-elevate",children:[s.jsx(re,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{variant:m.isActive?"default":"secondary",className:"mb-2",children:m.isActive?"Active":"Inactive"}),s.jsx(ae,{className:"text-lg line-clamp-2",children:m.title}),s.jsx(Re,{className:"line-clamp-1",children:h(m.category)})]})})}),s.jsxs(U,{className:"space-y-3",children:[m.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:PN(m.price)})]}),(m.city||m.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(da,{className:"w-4 h-4"}),s.jsx("span",{children:m.city?`${m.city}, ${m.state}`:m.location})]}),m.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(hr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",new Date(m.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(hp,{className:"w-4 h-4"}),s.jsxs("span",{children:[m.viewCount||0," views"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:s.jsxs(Q,{variant:"outline",className:"text-xs",children:[m.tier==="basic"?"Basic":m.tier==="standard"?"Standard":"Premium"," Tier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-marketplace-listing/${m.id}`),"data-testid":`button-edit-marketplace-${m.id}`,children:"Edit"}),m.tier!=="premium"&&s.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>i(m),"data-testid":`button-upgrade-marketplace-${m.id}`,children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),"Upgrade"]}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>u.mutate(m.id),disabled:u.isPending,"data-testid":`button-refresh-marketplace-${m.id}`,children:s.jsx(pp,{className:"h-4 w-4"})})]})]})]})]},m.id))})]}),s.jsxs(At,{value:"aircraft",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Aircraft Rental Listings"}),s.jsx(O,{onClick:()=>e("/list-aircraft"),className:"w-full sm:w-auto","data-testid":"button-list-aircraft",children:"List New Aircraft"})]}),c?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):l.length===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft listed for rent yet"}),s.jsx(O,{onClick:()=>e("/list-aircraft"),"data-testid":"button-list-first-aircraft",children:"List Your First Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>s.jsxs($,{className:"hover-elevate",children:[s.jsx(re,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{variant:m.isListed?"default":"secondary",className:"mb-2",children:m.isListed?"Listed":"Unlisted"}),s.jsxs(ae,{className:"text-lg",children:[m.year," ",m.make," ",m.model]}),s.jsx(Re,{children:m.registration})]})})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",m.hourlyRate,"/hour"]})]}),m.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(da,{className:"w-4 h-4"}),s.jsx("span",{children:m.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsx("span",{children:m.category||"Single Engine"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/aircraft/${m.id}`),"data-testid":`button-view-aircraft-${m.id}`,children:"View"}),s.jsx(O,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-edit-aircraft-${m.id}`,children:"Edit"}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>d.mutate(m.id),disabled:d.isPending,"data-testid":`button-refresh-aircraft-${m.id}`,children:s.jsx(pp,{className:"h-4 w-4"})})]})]})]},m.id))})]})]}),r&&s.jsx(yX,{listing:r,isOpen:!!r,onClose:()=>i(null)})]})}function jX(){const[t,e]=f.useState(null),[n,r]=f.useState(""),[i,a]=f.useState(""),{data:o=[]}=Ve({queryKey:["/api/messages/conversations"]}),{data:l=[]}=Ve({queryKey:["/api/messages",t],enabled:!!t}),c=o.filter(h=>{var m;return h.userName.toLowerCase().includes(i.toLowerCase())||((m=h.aircraftName)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))}),d=()=>{!n.trim()||!t||r("")},u=o.find(h=>h.id===t);return s.jsx("div",{className:"container mx-auto px-4 py-8 h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-messages-title",children:"Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Communicate with aircraft owners and renters"})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[s.jsxs($,{className:"md:col-span-1 flex flex-col",children:[s.jsx(re,{className:"space-y-0 pb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{placeholder:"Search conversations...",value:i,onChange:h=>a(h.target.value),className:"pl-10","data-testid":"input-search-conversations"})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(Ph,{className:"h-full",children:c.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(wS,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:o.length===0?"No messages yet":"No conversations found"})]}):s.jsx("div",{children:c.map(h=>s.jsx("div",{onClick:()=>e(h.id),className:`
                          p-4 border-b cursor-pointer hover-elevate transition-colors
                          ${t===h.id?"bg-accent/10":""}
                        `,"data-testid":`conversation-${h.id}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs(Ci,{className:"h-10 w-10 flex-shrink-0",children:[s.jsx(_i,{src:h.userAvatar}),s.jsx(ki,{children:h.userName[0]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:h.userName}),h.unreadCount>0&&s.jsx(Q,{variant:"default",className:"ml-2 h-5 min-w-5 rounded-full text-xs",children:h.unreadCount})]}),h.aircraftName&&s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Re: ",h.aircraftName]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.lastMessage}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(h.lastMessageTime).toLocaleDateString()})]})]})},h.id))})})})]}),s.jsx($,{className:"md:col-span-2 flex flex-col",children:u?s.jsxs(s.Fragment,{children:[s.jsx(re,{className:"border-b",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ci,{className:"h-10 w-10",children:[s.jsx(_i,{src:u.userAvatar}),s.jsx(ki,{children:u.userName[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.userName}),u.aircraftName&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u.aircraftName})]})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(Ph,{className:"h-full p-4",children:l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})}):s.jsx("div",{className:"space-y-4",children:l.map(h=>s.jsx("div",{className:`flex ${h.senderId==="current-user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`
                                max-w-[70%] rounded-lg p-3
                                ${h.senderId==="current-user"?"bg-primary text-primary-foreground":"bg-muted"}
                              `,children:[s.jsx("p",{className:"text-sm",children:h.content}),s.jsx("p",{className:`
                                text-xs mt-1
                                ${h.senderId==="current-user"?"text-primary-foreground/70":"text-muted-foreground"}
                              `,children:new Date(h.timestamp).toLocaleTimeString()})]})},h.id))})})}),s.jsxs("div",{className:"border-t p-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Qt,{placeholder:"Type your message...",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},className:"resize-none",rows:2,"data-testid":"textarea-message"}),s.jsx(O,{onClick:d,disabled:!n.trim(),className:"self-end","data-testid":"button-send-message",children:s.jsx(W4,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wS,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to start messaging"})]})})})]})]})})}function bX(){var l,c,d,u,h,m;const{user:t}=ln(),[,e]=Zs(),[n,r]=f.useState(null),{data:i,isLoading:a}=Ve({queryKey:["/api/favorites"],enabled:!!t}),o=y=>({"aircraft-sale":"Aircraft for Sale",job:"Aviation Jobs",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[y]||y;return t?s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-favorites-title",children:"My Favorites"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your saved aircraft rentals and marketplace listings"})]}),s.jsxs(Ld,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(Ml,{className:"grid w-full grid-cols-2",children:[s.jsxs(_t,{value:"marketplace","data-testid":"tab-marketplace",children:["Marketplace (",((l=i==null?void 0:i.marketplace)==null?void 0:l.length)||0,")"]}),s.jsxs(_t,{value:"aircraft","data-testid":"tab-aircraft",children:["Aircraft Rentals (",((c=i==null?void 0:i.aircraft)==null?void 0:c.length)||0,")"]})]}),s.jsx(At,{value:"marketplace",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(y=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},y))}):((d=i==null?void 0:i.marketplace)==null?void 0:d.length)===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Ru,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings saved yet"}),s.jsx(O,{onClick:()=>e("/marketplace"),"data-testid":"button-browse-marketplace",children:"Browse Marketplace"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=i==null?void 0:i.marketplace)==null?void 0:u.map(y=>s.jsxs($,{className:"hover-elevate cursor-pointer",onClick:()=>r(y.id),"data-testid":`card-marketplace-${y.id}`,children:[s.jsxs(re,{children:[s.jsx(ae,{className:"text-lg line-clamp-2",children:y.title}),s.jsx(Re,{className:"line-clamp-1",children:o(y.category)})]}),s.jsxs(U,{className:"space-y-3",children:[y.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:PN(y.price)})]}),(y.city||y.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(da,{className:"w-4 h-4"}),s.jsx("span",{children:y.city?`${y.city}, ${y.state}`:y.location})]}),y.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(hr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Listed ",new Date(y.createdAt).toLocaleDateString()]})]})]})]},y.id))})}),s.jsx(At,{value:"aircraft",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(y=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},y))}):((h=i==null?void 0:i.aircraft)==null?void 0:h.length)===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Ru,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft saved yet"}),s.jsx(O,{onClick:()=>e("/"),"data-testid":"button-browse-aircraft",children:"Browse Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(m=i==null?void 0:i.aircraft)==null?void 0:m.map(y=>s.jsxs($,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/aircraft/${y.id}`),"data-testid":`card-aircraft-${y.id}`,children:[s.jsxs(re,{children:[s.jsxs(ae,{className:"text-lg",children:[y.year," ",y.make," ",y.model]}),s.jsx(Re,{children:y.registration})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(gs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",y.hourlyRate,"/hour"]})]}),y.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(da,{className:"w-4 h-4"}),s.jsx("span",{children:y.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsx("span",{children:y.category||"Single Engine"})]})]})]},y.id))})})]}),s.jsx(TN,{listingId:n||"",open:!!n,onOpenChange:y=>{y||r(null)}})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Ru,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to view your favorites"}),s.jsx(O,{onClick:()=>e("/login"),"data-testid":"button-login",children:"Sign In"})]})})})}function wX({rentalId:t,userId:e,rentalStatus:n}){const[r,i]=f.useState([]),[a,o]=f.useState(""),[l,c]=f.useState(!1),[d,u]=f.useState(null),h=f.useRef(null),m=f.useRef(null);f.useEffect(()=>{if(n!=="active"){u("Messaging is only available for active rentals");return}const v=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const p=new WebSocket(v);return h.current=p,p.onopen=()=>{console.log("WebSocket connected"),c(!0),u(null)},p.onmessage=x=>{try{const w=JSON.parse(x.data);w.type==="error"?u(w.message):w.type==="chat"&&w.rentalId===t&&(i(N=>[...N,w]),setTimeout(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},100))}catch(w){console.error("Failed to parse message:",w)}},p.onerror=x=>{console.error("WebSocket error:",x),u("Connection error. Please try again."),c(!1)},p.onclose=()=>{console.log("WebSocket disconnected"),c(!1)},()=>{p.readyState===WebSocket.OPEN&&p.close()}}catch(p){console.error("Failed to create WebSocket:",p),u("Failed to connect to messaging service")}},[t,n]);const y=()=>{if(!a.trim()||!h.current||h.current.readyState!==WebSocket.OPEN)return;const j={type:"chat",rentalId:t,senderId:e,content:a.trim()};h.current.send(JSON.stringify(j)),o("")},b=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),y())};return n!=="active"?s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Messages"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Messaging is only available during active rentals"})})]}):s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{children:"Messages"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l?"bg-chart-2":"bg-destructive"}`,"data-testid":"status-connection"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Connected":"Disconnected"})]})]}),s.jsxs(U,{children:[d&&s.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:d}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ph,{className:"h-[400px] pr-4",ref:m,children:s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):r.map((j,v)=>{const p=j.senderId===e;return s.jsxs("div",{className:`flex gap-3 ${p?"flex-row-reverse":""}`,"data-testid":`message-${v}`,children:[s.jsxs(Ci,{className:"h-8 w-8",children:[s.jsx(_i,{src:""}),s.jsx(ki,{children:p?"You":"Them"})]}),s.jsxs("div",{className:`flex-1 max-w-[70%] ${p?"text-right":""}`,children:[s.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${p?"bg-primary text-primary-foreground":"bg-muted"}`,children:j.content}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(j.timestamp).toLocaleTimeString()})]})]},v)})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{placeholder:"Type a message...",value:a,onChange:j=>o(j.target.value),onKeyPress:b,disabled:!l,"data-testid":"input-message"}),s.jsx(O,{onClick:y,disabled:!l||!a.trim(),size:"icon","data-testid":"button-send-message",children:s.jsx(W4,{className:"h-4 w-4"})})]})]})]})]})}function NX(){var Z,se;const[,t]=_x("/aircraft/:id"),[,e]=Zs(),[n,r]=f.useState("6"),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(!1),{user:u,isAuthenticated:h}=ln(),{toast:m}=Bt(),[y]=f.useState({id:"rental-demo-123",status:"active",userId:"user-123"}),{data:b,isLoading:j,error:v}=Ve({queryKey:["/api/aircraft",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:p}=Ve({queryKey:["/api/users",b==null?void 0:b.ownerId],enabled:!!(b!=null&&b.ownerId)});f.useEffect(()=>{!j&&(v||!b)&&e("/404")},[j,v,b,e]);const x=Ae({mutationFn:async E=>await De("POST","/api/rentals",E),onSuccess:E=>{e(`/rental-payment/${E.id}`),m({title:"Booking request created!",description:"Please complete payment to finalize your booking."})},onError:E=>{m({title:"Booking request failed",description:E.message||"Please try again later.",variant:"destructive"})}}),w=()=>{if(!h||!u){m({title:"Authentication required",description:"Please log in to request a booking.",variant:"destructive"});return}if(!i||!o){m({title:"Missing information",description:"Please select start and end dates.",variant:"destructive"});return}if(new Date(o)<new Date(i)){m({title:"Invalid dates",description:"End date must be on or after start date.",variant:"destructive"});return}if(!n||parseFloat(n)<=0){m({title:"Invalid flight hours",description:"Please enter estimated flight hours.",variant:"destructive"});return}d(!0)},N=()=>{if(!u)return;const E=parseFloat(b.hourlyRate),de=parseFloat(n)*E,B=de*.0825,F=de*.075,D=de*.075,le=de+B+F,fe=le*.03,qe=le+fe,Ke=de-D;x.mutate({aircraftId:b.id,renterId:u.id,ownerId:b.ownerId,startDate:new Date(i).toISOString(),endDate:new Date(o).toISOString(),estimatedHours:n,hourlyRate:b.hourlyRate,baseCost:de.toFixed(2),salesTax:B.toFixed(2),platformFeeRenter:F.toFixed(2),platformFeeOwner:D.toFixed(2),processingFee:fe.toFixed(2),totalCostRenter:qe.toFixed(2),ownerPayout:Ke.toFixed(2)}),d(!1)};if(j||!b)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})});const _=parseFloat(b.hourlyRate),C=parseFloat(n)*_,k=C*.0825,P=C*.075,M=C+k+P,R=M*.03,L=M+R,V=b.images&&b.images.length>0?b.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"relative mb-6",children:s.jsxs(rg,{className:"w-full",children:[s.jsx(ig,{children:V.map((E,K)=>s.jsx(ag,{children:s.jsx("div",{className:"aspect-[16/9] rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:E,alt:`${b.year} ${b.make} ${b.model} - Image ${K+1}`,className:"w-full h-full object-cover"})})},K))}),V.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(og,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(lg,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-aircraft-title",children:[b.year," ",b.make," ",b.model]}),s.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(da,{className:"h-4 w-4"}),s.jsxs("span",{children:[b.location,b.airportCode?` (${b.airportCode})`:""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($o,{className:"h-4 w-4 fill-current text-accent"}),s.jsx("span",{className:"font-semibold text-foreground",children:"4.95"}),s.jsx("span",{children:"(24 reviews)"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"icon","data-testid":"button-share","aria-label":"Share listing",children:s.jsx(ZB,{className:"h-5 w-5"})}),s.jsx($5,{listingId:b.id,listingType:"aircraft",variant:"outline"})]})]})]}),s.jsx("section",{className:"container mx-auto px-4 pb-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Aircraft Specifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Make & Model"}),s.jsxs("div",{className:"font-semibold",children:[b.make," ",b.model]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),s.jsx("div",{className:"font-semibold",children:b.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Registration"}),s.jsx("div",{className:"font-semibold",children:b.registration})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Time"}),s.jsxs("div",{className:"font-semibold",children:[b.totalTime.toLocaleString()," hours"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),s.jsx("div",{className:"font-semibold",children:b.engine||"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Avionics"}),s.jsx("div",{className:"font-semibold",children:b.avionicsSuite||"N/A"})]})]})})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Required Certifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.requiredCertifications.map(E=>s.jsx(Q,{className:"bg-primary text-primary-foreground px-4 py-2",children:E},E)),b.minFlightHours&&b.minFlightHours>0&&s.jsxs(Q,{variant:"outline",className:"px-4 py-2",children:["Minimum ",b.minFlightHours," flight hours"]})]})})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Description"})}),s.jsx(U,{className:"prose prose-sm max-w-none",children:s.jsx("p",{children:b.description})})]}),y&&s.jsx(wX,{rentalId:y.id,userId:y.userId,rentalStatus:y.status}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Aircraft Owner"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ci,{className:"h-16 w-16",children:[s.jsx(_i,{src:(p==null?void 0:p.profileImageUrl)||void 0}),s.jsxs(ki,{children:[(Z=p==null?void 0:p.firstName)==null?void 0:Z[0],(se=p==null?void 0:p.lastName)==null?void 0:se[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold mb-1","data-testid":"text-owner-name",children:[p==null?void 0:p.firstName," ",p==null?void 0:p.lastName]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[(p==null?void 0:p.averageRating)&&p.totalReviews&&p.totalReviews>0&&s.jsx(Fj,{rating:parseFloat(p.averageRating),totalReviews:p.totalReviews||0,size:"sm"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Response time: ",b.responseTime,"h"]}),s.jsxs("span",{children:["Acceptance rate: ",b.acceptanceRate,"%"]}),(p==null?void 0:p.isVerified)&&s.jsx(Q,{className:"bg-chart-2 text-white",children:"Verified"})]})]})]}),s.jsx(O,{variant:"outline","data-testid":"button-message-owner",children:"Message Owner"})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs($,{className:"sticky top-24 shadow-xl",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold","data-testid":"text-booking-rate",children:["$",_.toFixed(0)]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),b.insuranceIncluded&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(wn,{className:"h-4 w-4 text-chart-2"}),s.jsx("span",{className:"text-muted-foreground",children:"Insurance included"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"start-date",children:"Start Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{id:"start-date",type:"date",value:i,onChange:E=>a(E.target.value),className:"pl-10","data-testid":"input-start-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"end-date",children:"End Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{id:"end-date",type:"date",value:o,onChange:E=>l(E.target.value),min:i||void 0,className:"pl-10","data-testid":"input-end-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"hours",children:"Estimated Flight Hours"}),s.jsx(W,{id:"hours",type:"number",value:n,onChange:E=>r(E.target.value),min:"1",step:"0.5","data-testid":"input-estimated-hours"})]}),s.jsx(rt,{}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["$",_,"  ",n," hours"]}),s.jsxs("span",{"data-testid":"text-base-cost",children:["$",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{"data-testid":"text-sales-tax",children:["$",k.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{"data-testid":"text-platform-fee",children:["$",P.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{"data-testid":"text-subtotal",children:["$",M.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{"data-testid":"text-processing-fee",children:["$",R.toFixed(2)]})]})]}),s.jsx(rt,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-total-cost",children:["$",L.toFixed(2)]})]}),s.jsx(O,{className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg",onClick:w,disabled:x.isPending||!h,"data-testid":"button-request-booking",children:x.isPending?"Sending request...":"Request to Book"}),h&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-blue-900 font-semibold mb-1",children:" Don't forget to log your flight!"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["After your rental, visit your ",s.jsx("a",{href:"/logbook",className:"underline font-semibold",children:"digital logbook"})," to record flight time."]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"You won't be charged yet"})]})]})})]})}),s.jsx(Pl,{open:c,onOpenChange:d,children:s.jsxs(ho,{className:"max-w-2xl",children:[s.jsxs(mo,{children:[s.jsxs(po,{className:"flex items-center gap-2",children:[s.jsx(gw,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(xo,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-booking",children:"Cancel"}),s.jsx(go,{onClick:N,className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-booking",children:"I Understand - Continue to Book"})]})]})})]})}function K3(t){return/^401: .*Unauthorized/.test(t.message)}function G3(t,e){return Object.hasOwn(t,e)}const{AbortController:Oy}=globalThis,Q3=(t="Aborted",e)=>{const n=new DOMException(t,"AbortError");return e!=null&&G3(e,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),n},SX=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function CX(t,e,n){const r=SX.exec(t),i=e.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}class _X extends Error{constructor(n,r){super(n);T(this,"isNetworkError");T(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&G3(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function _C(t,e,n,r){return t===e?t:r===0?e:t+(e-t)*2**(-r/n)}const Y3=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class kX extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");T(this,"cause");T(this,"isNetworkError");T(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function PX(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new kX(e)})}const TX=t=>"error"in t&&!!t.error,EX=t=>t.progress.uploadComplete;function AX(t){return t.filter(e=>!TX(e)&&!EX(e))}function FX(t){return t.filter(e=>{var n;return!((n=e.progress)!=null&&n.uploadStarted)||!e.isRestored})}function X3(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function kC(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&X3(t)?[t]:null}function RX(t,e=document){return typeof t=="string"?e.querySelector(t):X3(t)?t:null}function Z3(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const PC={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function J3(t){var n;if(t.type)return t.type;const e=t.name?(n=Z3(t.name).extension)==null?void 0:n.toLowerCase():null;return e&&e in PC?PC[e]:"application/octet-stream"}function IX(t){return t.charCodeAt(0).toString(32)}function TC(t){let e="";return t.replace(/[^A-Z0-9]/gi,n=>(e+=`-${IX(n)}`,"/"))+e}function DX(t,e){var r;let n=e||"uppy";return typeof t.name=="string"&&(n+=`-${TC(t.name.toLowerCase())}`),t.type!==void 0&&(n+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(n+=`-${TC(t.meta.relativePath.toLowerCase())}`),((r=t.data)==null?void 0:r.size)!==void 0&&(n+=`-${t.data.size}`),t.data.lastModified!==void 0&&(n+=`-${t.data.lastModified}`),n}function OX(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function MX(t,e){if(OX(t))return t.id;const n=J3(t);return DX({...t,type:n},e)}function EC(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const $u=Array.from;function LX(t){const e=$u(t.files);return Promise.resolve(e)}function eM(t,e,n,{onSuccess:r}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{eM(t,a,n,{onSuccess:r})}):r(a)},i=>{n(i),r(e)})}function tM(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,r)=>t.file(n,r))},async*values(){const n=t.createReader();yield*await new Promise(i=>{eM(n,[],e,{onSuccess:a=>i(a.map(o=>tM(o,e)))})})},isSameEntry:void 0}}async function*sM(t,e,n=void 0){const r=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?r():null,yield i):n!=null&&(yield n)}else if(t.kind==="directory")for await(const i of t.values())yield*sM(i,e?r():t.name);else n!=null&&(yield n)}async function*$X(t,e){const n=await Promise.all(Array.from(t.items,async r=>{let i;return i??(i=tM(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*sM(i,"",r)}catch(a){r!=null?yield r:e(a)}else r!=null&&(yield r)}async function UX(t,e){const n=(e==null?void 0:e.logDropError)??Function.prototype;try{const r=[];for await(const i of $X(t,n))r.push(i);return r}catch{return LX(t)}}function BX(t){var i;const n=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}function VX(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function My(t){return t<10?`0${t}`:t.toString()}function Mf(){const t=new Date,e=My(t.getHours()),n=My(t.getMinutes()),r=My(t.getSeconds());return`${e}:${n}:${r}`}function zX(){if(typeof window>"u")return!1;const t=document.body;return!(t==null||window==null||!("draggable"in t)||!("ondragstart"in t)||!("ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function AC(t){return t.startsWith("blob:")}function FC(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function qX(t){const e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,r=Math.floor(t%60);return{hours:e,minutes:n,seconds:r}}function HX(t){const e=qX(t),n=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}function WX(t){return new Error("Cancelled",{cause:t})}function RC(t){var e;if(t!=null){const n=()=>this.abort(t.reason);t.addEventListener("abort",n,{once:!0});const r=()=>{t.removeEventListener("abort",n)};(e=this.then)==null||e.call(this,r,r)}return this}var Ki,di,Gi,Vc,ui,zc,Xo,rn,Dj,pu,nM,rM,iM,Gp,qc;class KX{constructor(e){G(this,rn);G(this,Ki,0);G(this,di,[]);G(this,Gi,!1);G(this,Vc);G(this,ui,1);G(this,zc);G(this,Xo);T(this,"limit");G(this,Gp,()=>this.resume());G(this,qc,()=>{if(S(this,Gi)){Y(this,Xo,setTimeout(S(this,qc),0));return}Y(this,ui,this.limit),this.limit=Math.ceil((S(this,zc)+S(this,ui))/2);for(let e=S(this,ui);e<=this.limit;e++)ce(this,rn,pu).call(this);S(this,zc)-S(this,ui)>3?Y(this,Xo,setTimeout(S(this,qc),2e3)):Y(this,ui,Math.floor(S(this,ui)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!S(this,Gi)&&S(this,Ki)<this.limit?ce(this,rn,Dj).call(this,e):ce(this,rn,rM).call(this,e,n)}wrapSyncFunction(e,n){return(...r)=>{const i=this.run(()=>(e(...r),queueMicrotask(()=>i.done()),()=>{}),n);return{abortOn:RC,abort(){i.abort()}}}}wrapPromiseFunction(e,n){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...r))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(i.done(),o(u))},u=>{c?l(c):(i.done(),l(u))}),u=>{c=WX(u)}},n)});return a.abort=o=>{i.abort(o)},a.abortOn=RC,a}}resume(){Y(this,Gi,!1),clearTimeout(S(this,Vc));for(let e=0;e<this.limit;e++)ce(this,rn,pu).call(this)}pause(e=null){Y(this,Gi,!0),clearTimeout(S(this,Vc)),e!=null&&Y(this,Vc,setTimeout(S(this,Gp),e))}rateLimit(e){clearTimeout(S(this,Xo)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(Y(this,zc,this.limit-1),this.limit=S(this,ui),Y(this,Xo,setTimeout(S(this,qc),e)))}get isPaused(){return S(this,Gi)}}Ki=new WeakMap,di=new WeakMap,Gi=new WeakMap,Vc=new WeakMap,ui=new WeakMap,zc=new WeakMap,Xo=new WeakMap,rn=new WeakSet,Dj=function(e){Y(this,Ki,S(this,Ki)+1);let n=!1,r;try{r=e()}catch(i){throw Y(this,Ki,S(this,Ki)-1),i}return{abort:i=>{n||(n=!0,Y(this,Ki,S(this,Ki)-1),r==null||r(i),ce(this,rn,pu).call(this))},done:()=>{n||(n=!0,Y(this,Ki,S(this,Ki)-1),ce(this,rn,pu).call(this))}}},pu=function(){queueMicrotask(()=>ce(this,rn,nM).call(this))},nM=function(){if(S(this,Gi)||S(this,Ki)>=this.limit||S(this,di).length===0)return;const e=S(this,di).shift();if(e==null)throw new Error("Invariant violation: next is null");const n=ce(this,rn,Dj).call(this,e.fn);e.abort=n.abort,e.done=n.done},rM=function(e,n){const r={fn:e,priority:(n==null?void 0:n.priority)||0,abort:()=>{ce(this,rn,iM).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=S(this,di).findIndex(a=>r.priority>a.priority);return i===-1?S(this,di).push(r):S(this,di).splice(i,0,r),r},iM=function(e){const n=S(this,di).indexOf(e);n!==-1&&S(this,di).splice(n,1)},Gp=new WeakMap,qc=new WeakMap;function GX(t,e,n){const r=[];return t.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function IC(t,e){const n=/\$/g,r="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=n[Symbol.replace](o,r)),i=GX(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const QX=t=>{throw new Error(`missing string: ${t}`)};var Lh,$h,Oj;class aM{constructor(e,{onMissingKey:n=QX}={}){G(this,$h);T(this,"locale");G(this,Lh);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(ce(this,$h,Oj),this):ce(this,$h,Oj).call(this,e),Y(this,Lh,n)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){let r=this.locale.strings[e];if(r==null&&(S(this,Lh).call(this,e),r=e),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const a=this.locale.pluralize(n.smart_count);return IC(r[a],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return IC(r,n)}}Lh=new WeakMap,$h=new WeakSet,Oj=function(e){if(!(e!=null&&e.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...e.strings},pluralize:e.pluralize||n.pluralize})};const Ly="...";function oM(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Ly.length+1)return`${t.slice(0,e-1)}`;const n=e-Ly.length,r=Math.ceil(n/2),i=Math.floor(n/2);return t.slice(0,r)+Ly+t.slice(-i)}class YX extends Error{constructor(){super(...arguments);T(this,"name","UserFacingApiError")}}var Pm,$t,lM,Fo,DC,cM,dM,uM,BN,Mj,Lj,Th={},hM=[],XX=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Tm=Array.isArray;function yi(t,e){for(var n in e)t[n]=e[n];return t}function VN(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function zN(t,e,n){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Pm.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Uu(t,o,r,i,null)}function Uu(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++lM,__i:-1,__u:0};return i==null&&$t.vnode!=null&&$t.vnode(a),a}function ZX(){return{current:null}}function sa(t){return t.children}function Ni(t,e){this.props=t,this.context=e}function Cd(t,e){if(e==null)return t.__?Cd(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Cd(t):null}function mM(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return mM(t)}}function OC(t){(!t.__d&&(t.__d=!0)&&Fo.push(t)&&!Up.__r++||DC!=$t.debounceRendering)&&((DC=$t.debounceRendering)||cM)(Up)}function Up(){for(var t,e,n,r,i,a,o,l=1;Fo.length;)Fo.length>l&&Fo.sort(dM),t=Fo.shift(),l=Fo.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,a=[],o=[],e.__P&&((n=yi({},r)).__v=r.__v+1,$t.vnode&&$t.vnode(n),qN(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??Cd(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,xM(a,n,o),r.__e=r.__=null,n.__e!=i&&mM(n)));Up.__r=0}function fM(t,e,n,r,i,a,o,l,c,d,u){var h,m,y,b,j,v,p,x=r&&r.__k||hM,w=e.length;for(c=JX(n,e,x,c,w),h=0;h<w;h++)(y=n.__k[h])!=null&&(m=y.__i==-1?Th:x[y.__i]||Th,y.__i=h,v=qN(t,y,m,i,a,o,l,c,d,u),b=y.__e,y.ref&&m.ref!=y.ref&&(m.ref&&HN(m.ref,null,y),u.push(y.ref,y.__c||b,y)),j==null&&b!=null&&(j=b),(p=!!(4&y.__u))||m.__k===y.__k?c=pM(y,c,t,p):typeof y.type=="function"&&v!==void 0?c=v:b&&(c=b.nextSibling),y.__u&=-7);return n.__e=j,c}function JX(t,e,n,r,i){var a,o,l,c,d,u=n.length,h=u,m=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[a]=Uu(null,o,null,null,null):Tm(o)?o=t.__k[a]=Uu(sa,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=t.__k[a]=Uu(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[a]=o,c=a+m,o.__=t,o.__b=t.__b+1,l=null,(d=o.__i=eZ(o,n,c,h))!=-1&&(h--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=n[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=Cd(l)),yM(l,l));return r}function pM(t,e,n,r){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=pM(i[a],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=Cd(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ea(t,e){return e=e||[],t==null||typeof t=="boolean"||(Tm(t)?t.some(function(n){Ea(n,e)}):e.push(t)),e}function eZ(t,e,n,r){var i,a,o,l=t.key,c=t.type,d=e[n],u=d!=null&&(2&d.__u)==0;if(d===null&&l==null||u&&l==d.key&&c==d.type)return n;if(r>(u?1:0)){for(i=n-1,a=n+1;i>=0||a<e.length;)if((d=e[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function MC(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||XX.test(e)?n:n+"px"}function af(t,e,n,r,i){var a,o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||MC(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||MC(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(uM,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r?n.u=r.u:(n.u=BN,t.addEventListener(e,a?Lj:Mj,a)):t.removeEventListener(e,a?Lj:Mj,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function LC(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=BN++;else if(e.t<n.u)return;return n($t.event?$t.event(e):e)}}}function qN(t,e,n,r,i,a,o,l,c,d){var u,h,m,y,b,j,v,p,x,w,N,_,C,k,P,M,R,L=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=e.__e=n.__e]),(u=$t.__b)&&u(e);e:if(typeof L=="function")try{if(p=e.props,x="prototype"in L&&L.prototype.render,w=(u=L.contextType)&&r[u.__c],N=u?w?w.props.value:u.__:r,n.__c?v=(h=e.__c=n.__c).__=h.__E:(x?e.__c=h=new L(p,N):(e.__c=h=new Ni(p,N),h.constructor=L,h.render=sZ),w&&w.sub(h),h.state||(h.state={}),h.__n=r,m=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=yi({},h.__s)),yi(h.__s,L.getDerivedStateFromProps(p,h.__s))),y=h.props,b=h.state,h.__v=e,m)x&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&L.getDerivedStateFromProps==null&&p!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(p,N),e.__v==n.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(p,h.__s,N)===!1){for(e.__v!=n.__v&&(h.props=p,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(V){V&&(V.__=e)}),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(p,h.__s,N),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,b,j)})}if(h.context=N,h.props=p,h.__P=t,h.__e=!1,C=$t.__r,k=0,x){for(h.state=h.__s,h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[]}else do h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(r=yi(yi({},r),h.getChildContext())),x&&!m&&h.getSnapshotBeforeUpdate!=null&&(j=h.getSnapshotBeforeUpdate(y,b)),M=u,u!=null&&u.type===sa&&u.key==null&&(M=gM(u.props.children)),l=fM(t,Tm(M)?M:[M],e,n,r,i,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),v&&(h.__E=h.__=null)}catch(V){if(e.__v=null,c||a!=null)if(V.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(R=a.length;R--;)VN(a[R]);$j(e)}else e.__e=n.__e,e.__k=n.__k,V.then||$j(e);$t.__e(V,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=tZ(n.__e,e,n,r,i,a,o,c,d);return(u=$t.diffed)&&u(e),128&e.__u?void 0:l}function $j(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach($j)}function xM(t,e,n){for(var r=0;r<n.length;r++)HN(n[r],n[++r],n[++r]);$t.__c&&$t.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){$t.__e(a,i.__v)}})}function gM(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Tm(t)?t.map(gM):yi({},t)}function tZ(t,e,n,r,i,a,o,l,c){var d,u,h,m,y,b,j,v=n.props||Th,p=e.props,x=e.type;if(x=="svg"?i="http://www.w3.org/2000/svg":x=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((y=a[d])&&"setAttribute"in y==!!x&&(x?y.localName==x:y.nodeType==3)){t=y,a[d]=null;break}}if(t==null){if(x==null)return document.createTextNode(p);t=document.createElementNS(i,x,p.is&&p),l&&($t.__m&&$t.__m(e,a),l=!1),a=null}if(x==null)v===p||l&&t.data==p||(t.data=p);else{if(a=a&&Pm.call(t.childNodes),!l&&a!=null)for(v={},d=0;d<t.attributes.length;d++)v[(y=t.attributes[d]).name]=y.value;for(d in v)if(y=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=y;else if(!(d in p)){if(d=="value"&&"defaultValue"in p||d=="checked"&&"defaultChecked"in p)continue;af(t,d,null,y,i)}}for(d in p)y=p[d],d=="children"?m=y:d=="dangerouslySetInnerHTML"?u=y:d=="value"?b=y:d=="checked"?j=y:l&&typeof y!="function"||v[d]===y||af(t,d,y,v[d],i);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),fM(e.type=="template"?t.content:t,Tm(m)?m:[m],e,n,r,x=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&Cd(n,0),l,c),a!=null)for(d=a.length;d--;)VN(a[d]);l||(d="value",x=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[d]||x=="progress"&&!b||x=="option"&&b!=v[d])&&af(t,d,b,v[d],i),d="checked",j!=null&&j!=t[d]&&af(t,d,j,v[d],i))}return t}function HN(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){$t.__e(i,n)}}function yM(t,e,n){var r,i;if($t.unmount&&$t.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||HN(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){$t.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&yM(r[i],e,n||typeof t.type!="function");n||VN(t.__e),t.__c=t.__=t.__e=void 0}function sZ(t,e,n){return this.constructor(t,n)}function $C(t,e,n){var r,i,a,o;e==document&&(e=document.documentElement),$t.__&&$t.__(t,e),i=(r=!1)?null:e.__k,a=[],o=[],qN(e,t=e.__k=zN(sa,null,[t]),i||Th,Th,e.namespaceURI,i?null:e.firstChild?Pm.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,o),xM(a,t,o)}function vM(t,e,n){var r,i,a,o,l=yi({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?Pm.call(arguments,2):n),Uu(t.type,l,r||t.key,i||t.ref,null)}Pm=hM.slice,$t={__e:function(t,e,n,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},lM=0,Ni.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=yi({},this.state),typeof t=="function"&&(t=t(yi({},n),this.props)),t&&yi(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),OC(this))},Ni.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),OC(this))},Ni.prototype.render=sa,Fo=[],cM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dM=function(t,e){return t.__v.__b-e.__v.__b},Up.__r=0,uM=/(PointerCapture)$|Capture$/i,BN=0,Mj=LC(!1),Lj=LC(!0);var nZ=0;function A(t,e,n,r,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--nZ,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return $t.vnode&&$t.vnode(d),d}var Eh,ys,$y,UC,Ah=0,jM=[],Cs=$t,BC=Cs.__b,VC=Cs.__r,zC=Cs.diffed,qC=Cs.__c,HC=Cs.unmount,WC=Cs.__;function WN(t,e){Cs.__h&&Cs.__h(ys,t,Ah||e),Ah=0;var n=ys.__H||(ys.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function _d(t){return Ah=1,rZ(wM,t)}function rZ(t,e,n){var r=WN(Eh++,2);if(r.t=t,!r.__c&&(r.__=[wM(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=ys,!ys.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var h=r.__c.props!==l;return u.forEach(function(m){if(m.__N){var y=m.__[0];m.__=m.__N,m.__N=void 0,y!==m.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};ys.__f=!0;var a=ys.shouldComponentUpdate,o=ys.componentWillUpdate;ys.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,i(l,c,d),a=u}o&&o.call(this,l,c,d)},ys.shouldComponentUpdate=i}return r.__N||r.__}function Bp(t,e){var n=WN(Eh++,3);!Cs.__s&&bM(n.__H,e)&&(n.__=t,n.u=e,ys.__H.__h.push(n))}function Tc(t){return Ah=5,KN(function(){return{current:t}},[])}function KN(t,e){var n=WN(Eh++,7);return bM(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Vp(t,e){return Ah=8,KN(function(){return t},e)}function iZ(){for(var t;t=jM.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Lf),t.__H.__h.forEach(Uj),t.__H.__h=[]}catch(e){t.__H.__h=[],Cs.__e(e,t.__v)}}Cs.__b=function(t){ys=null,BC&&BC(t)},Cs.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),WC&&WC(t,e)},Cs.__r=function(t){VC&&VC(t),Eh=0;var e=(ys=t.__c).__H;e&&($y===ys?(e.__h=[],ys.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Lf),e.__h.forEach(Uj),e.__h=[],Eh=0)),$y=ys},Cs.diffed=function(t){zC&&zC(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(jM.push(e)!==1&&UC===Cs.requestAnimationFrame||((UC=Cs.requestAnimationFrame)||aZ)(iZ)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),$y=ys=null},Cs.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Lf),n.__h=n.__h.filter(function(r){return!r.__||Uj(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Cs.__e(r,n.__v)}}),qC&&qC(t,e)},Cs.unmount=function(t){HC&&HC(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Lf(r)}catch(i){e=i}}),n.__H=void 0,e&&Cs.__e(e,n.__v))};var KC=typeof requestAnimationFrame=="function";function aZ(t){var e,n=function(){clearTimeout(r),KC&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);KC&&(e=requestAnimationFrame(n))}function Lf(t){var e=ys,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ys=e}function Uj(t){var e=ys;t.__c=t.__(),ys=e}function bM(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function wM(t,e){return typeof e=="function"?e(t):e}const oZ={position:"relative",width:"100%",minHeight:"100%"},lZ={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function cZ({data:t,rowHeight:e,renderRow:n,overscanCount:r=10,padding:i=4,...a}){const o=Tc(null),[l,c]=_d(0),[d,u]=_d(0);Bp(()=>{function x(){o.current!=null&&d!==o.current.offsetHeight&&u(o.current.offsetHeight)}return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[d]);const h=Vp(()=>{o.current&&c(o.current.scrollTop)},[]);let m=Math.floor(l/e),y=Math.floor(d/e);r&&(m=Math.max(0,m-m%r),y+=r);const b=m+y+i,j=t.slice(m,b),v={...oZ,height:t.length*e},p={...lZ,top:m*e};return A("div",{onScroll:h,ref:o,...a,children:A("div",{role:"presentation",style:v,children:A("div",{role:"presentation",style:p,children:j.map(n)})})})}class NM{constructor(e,n){T(this,"uppy");T(this,"opts");T(this,"id");T(this,"defaultLocale");T(this,"i18n");T(this,"i18nArray");T(this,"type");T(this,"VERSION");this.uppy=e,this.opts=n??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new aM([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var hi,Uh;class dZ{constructor(e){G(this,hi);G(this,Uh,[]);Y(this,hi,e)}on(e,n){return S(this,Uh).push([e,n]),S(this,hi).on(e,n)}remove(){for(const[e,n]of S(this,Uh).splice(0))S(this,hi).off(e,n)}onFilePause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onFileRemove(e,n){this.on("file-removed",r=>{e===r.id&&n(r.id)})}onPause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onRetry(e,n){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&n()})}onRetryAll(e,n){this.on("retry-all",()=>{S(this,hi).getFile(e)&&n()})}onPauseAll(e,n){this.on("pause-all",()=>{S(this,hi).getFile(e)&&n()})}onCancelAll(e,n){this.on("cancel-all",(...r)=>{S(this,hi).getFile(e)&&n(...r)})}onResumeAll(e,n){this.on("resume-all",()=>{S(this,hi).getFile(e)&&n()})}}hi=new WeakMap,Uh=new WeakMap;const uZ={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Mf()}]`,...t)},hZ={debug:(...t)=>console.debug(`[Uppy] [${Mf()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Mf()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Mf()}]`,...t)};var mZ=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0;let r=Math.abs(e);if(n&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Bo=fa(mZ);function SM(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}SM.prototype.match=function(t){var e=!0,n=this.parts,r,i=n.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),r=0;e&&r<i;r++)n[r]!=="*"&&(r<a.length?e=n[r]===a[r]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var fZ=function(t,e,n){var r=new SM(t,n||/[\/\.]/);return typeof e<"u"?r.match(e):r},pZ=fZ,xZ=/[\/\+\.]/,gZ=function(t,e){function n(r){var i=pZ(r,t,xZ);return i&&i.length>=2}return e?n(e.split(";")[0]):n};const yZ=fa(gZ),vZ={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Rr extends Error{constructor(n,r){super(n);T(this,"isUserFacing");T(this,"file");T(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class jZ{constructor(e,n){T(this,"getI18n");T(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var i;const r=e();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+n.length>i)throw new Rr(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...e,...n].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Rr(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Bo(r),size:Bo(a)}))}}validateSingleFile(e){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?yZ(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Rr(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&e.size!=null&&e.size>n)throw new Rr(this.getI18n()("exceedsSize",{size:Bo(n),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Rr(this.getI18n()("inferiorSize",{size:Bo(r)}),{file:e})}validate(e,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,n)}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(e).length<n)throw new Rr(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new Rr(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:n}}}function bZ(t){let e=null,n;return(...r)=>(n=r,e||(e=Promise.resolve().then(()=>(e=null,t(...n)))),e)}var Bh;const Qp=class Qp extends NM{constructor(){super(...arguments);G(this,Bh);T(this,"isTargetDOMEl");T(this,"el");T(this,"parent");T(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof Qp||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:Qp}}));else if(typeof n=="function"){const i=n;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(n,r){const i=r.id,a=RX(n);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),Y(this,Bh,bZ(d=>{this.uppy.getPlugin(this.id)&&($C(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),$C(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||VX(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(n);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=S(this,Bh))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Bh=new WeakMap;let zp=Qp;const wZ="5.0.0",NZ={version:wZ};var Hc,Yp,_M;class CM{constructor(){G(this,Yp);T(this,"state",{});G(this,Hc,new Set)}getState(){return this.state}setState(e){const n={...this.state},r={...this.state,...e};this.state=r,ce(this,Yp,_M).call(this,n,r,e)}subscribe(e){return S(this,Hc).add(e),()=>{S(this,Hc).delete(e)}}}Hc=new WeakMap,Yp=new WeakSet,_M=function(...e){S(this,Hc).forEach(n=>{n(...e)})},T(CM,"VERSION",NZ.version);function SZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var GN=SZ,CZ=typeof Fm=="object"&&Fm&&Fm.Object===Object&&Fm,_Z=CZ,kZ=_Z,PZ=typeof self=="object"&&self&&self.Object===Object&&self,TZ=kZ||PZ||Function("return this")(),kM=TZ,EZ=kM,AZ=function(){return EZ.Date.now()},FZ=AZ,RZ=/\s/;function IZ(t){for(var e=t.length;e--&&RZ.test(t.charAt(e)););return e}var DZ=IZ,OZ=DZ,MZ=/^\s+/;function LZ(t){return t&&t.slice(0,OZ(t)+1).replace(MZ,"")}var $Z=LZ,UZ=kM,BZ=UZ.Symbol,PM=BZ,GC=PM,TM=Object.prototype,VZ=TM.hasOwnProperty,zZ=TM.toString,eu=GC?GC.toStringTag:void 0;function qZ(t){var e=VZ.call(t,eu),n=t[eu];try{t[eu]=void 0;var r=!0}catch{}var i=zZ.call(t);return r&&(e?t[eu]=n:delete t[eu]),i}var HZ=qZ,WZ=Object.prototype,KZ=WZ.toString;function GZ(t){return KZ.call(t)}var QZ=GZ,QC=PM,YZ=HZ,XZ=QZ,ZZ="[object Null]",JZ="[object Undefined]",YC=QC?QC.toStringTag:void 0;function eJ(t){return t==null?t===void 0?JZ:ZZ:YC&&YC in Object(t)?YZ(t):XZ(t)}var tJ=eJ;function sJ(t){return t!=null&&typeof t=="object"}var nJ=sJ,rJ=tJ,iJ=nJ,aJ="[object Symbol]";function oJ(t){return typeof t=="symbol"||iJ(t)&&rJ(t)==aJ}var lJ=oJ,cJ=$Z,XC=GN,dJ=lJ,ZC=NaN,uJ=/^[-+]0x[0-9a-f]+$/i,hJ=/^0b[01]+$/i,mJ=/^0o[0-7]+$/i,fJ=parseInt;function pJ(t){if(typeof t=="number")return t;if(dJ(t))return ZC;if(XC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=XC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cJ(t);var n=hJ.test(t);return n||mJ.test(t)?fJ(t.slice(2),n?2:8):uJ.test(t)?ZC:+t}var xJ=pJ,gJ=GN,Uy=FZ,JC=xJ,yJ="Expected a function",vJ=Math.max,jJ=Math.min;function bJ(t,e,n){var r,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(yJ);e=JC(e)||0,gJ(n)&&(u=!!n.leading,h="maxWait"in n,a=h?vJ(JC(n.maxWait)||0,e):a,m="trailing"in n?!!n.trailing:m);function y(C){var k=r,P=i;return r=i=void 0,d=C,o=t.apply(P,k),o}function b(C){return d=C,l=setTimeout(p,e),u?y(C):o}function j(C){var k=C-c,P=C-d,M=e-k;return h?jJ(M,a-P):M}function v(C){var k=C-c,P=C-d;return c===void 0||k>=e||k<0||h&&P>=a}function p(){var C=Uy();if(v(C))return x(C);l=setTimeout(p,j(C))}function x(C){return l=void 0,m&&r?y(C):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function N(){return l===void 0?o:x(Uy())}function _(){var C=Uy(),k=v(C);if(r=arguments,i=this,c=C,k){if(l===void 0)return b(c);if(h)return clearTimeout(l),l=setTimeout(p,e),y(c)}return l===void 0&&(l=setTimeout(p,e)),o}return _.cancel=w,_.flush=N,_}var EM=bJ;const wJ=fa(EM);var NJ=EM,SJ=GN,CJ="Expected a function";function _J(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(CJ);return SJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),NJ(t,e,{leading:r,maxWait:e,trailing:i})}var kJ=_J;const PJ=fa(kJ);var TJ=function(){var e={},n=e._fns={};e.emit=function(o,l,c,d,u,h,m){var y=r(o);y.length&&i(o,y,[l,c,d,u,h,m])},e.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=n[a]?n[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(n),u=0,h=d.length;for(u;u<h;u++){var m=d[u];if(m==="*"&&(o=o.concat(n[m])),c.length===2&&c[0]===m){o=o.concat(n[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const EJ=fa(TJ);let AJ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",QN=(t=21)=>{let e="",n=t|0;for(;n--;)e+=AJ[Math.random()*64|0];return e};const FJ="5.2.0",RJ={version:FJ};function IJ(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const DJ={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function OJ(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const r=e[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const of={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var _r,kr,Vh,Zo,Wc,Kc,Jo,ze,Ao,Vj,AM,FM,RM,zj,qj,Hj,Wj,Xp,Kj,el,IM,DM,Va,zh,xu,OM,Gj,gu;const Zp=class Zp{constructor(e){G(this,ze);G(this,_r,Object.create(null));G(this,kr);G(this,Vh);G(this,Zo,EJ());G(this,Wc,new Set);G(this,Kc,new Set);G(this,Jo,new Set);T(this,"defaultLocale");T(this,"locale");T(this,"opts");T(this,"store");T(this,"i18n");T(this,"i18nArray");T(this,"scheduledAutoProceed",null);T(this,"wasOffline",!1);G(this,Xp,(e,n)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...i}}),S(this,el).call(this)});G(this,el,PJ(()=>ce(this,ze,Kj).call(this),500,{leading:!0,trailing:!0}));G(this,Va,this.updateOnlineStatus.bind(this));G(this,zh,new Map);this.defaultLocale=DJ;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:vZ,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new CM,logger:uZ,infoTimeout:5e3},r={...n,...e};this.opts={...r,restrictions:{...n.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=hZ),this.log(`Using Core v${Zp.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...of,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:OJ(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),Y(this,kr,new jZ(()=>this.opts,()=>this.i18n)),Y(this,Vh,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ce(this,ze,DM).call(this)}emit(e,...n){S(this,Zo).emit(e,...n)}on(e,n){return S(this,Zo).on(e,n),this}once(e,n){return S(this,Zo).once(e,n),this}off(e,n){return S(this,Zo).off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(e).map(([r,i])=>[r,{...n[r],...i}]))}})}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:n})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new aM([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...of})}clear(){const{capabilities:e,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...of,files:{}})}addPreProcessor(e){S(this,Wc).add(e)}removePreProcessor(e){return S(this,Wc).delete(e)}addPostProcessor(e){S(this,Jo).add(e)}removePostProcessor(e){return S(this,Jo).delete(e)}addUploader(e){S(this,Kc).add(e)}removeUploader(e){return S(this,Kc).delete(e)}setMeta(e){const n={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:r})}setFileMeta(e,n){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...r[e].meta,...n};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:r}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],m=[],y=[];for(const b of i){const{progress:j}=b;!j.uploadComplete&&j.uploadStarted&&(a.push(b),b.isPaused||m.push(b)),j.uploadStarted||o.push(b),(j.uploadStarted||j.preprocess||j.postprocess)&&l.push(b),j.uploadStarted&&c.push(b),b.isPaused&&d.push(b),j.uploadComplete&&u.push(b),b.error&&h.push(b),(j.preprocess||j.postprocess)&&y.push(b)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:c.length>0,isAllComplete:n===100&&u.length===i.length&&y.length===0,isAllErrored:!!r&&h.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(b=>b.isGhost)}}validateRestrictions(e,n=this.getFiles()){try{S(this,kr).validate(n,[e])}catch(r){return r}return null}validateSingleFile(e){try{S(this,kr).validateSingleFile(e)}catch(n){return n.message}return null}validateAggregateRestrictions(e){const n=this.getFiles();try{S(this,kr).validateAggregateRestrictions(n,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=ce(this,ze,qj).call(this,[e]),a=i.filter(l=>l.isRestriction);if(ce(this,ze,Ao).call(this,a),i.length>0)throw i[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),ce(this,ze,zj).call(this),o.id}addFiles(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=ce(this,ze,qj).call(this,e),a=i.filter(l=>l.isRestriction);ce(this,ze,Ao).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&ce(this,ze,zj).call(this)}removeFiles(e){const{files:n,currentUploads:r}=this.getState(),i={...n},a={...r},o=Object.create(null);e.forEach(u=>{n[u]&&(o[u]=n[u],delete i[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=r[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:m}=this.getState();if(h.length!==r[u].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...r[u],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),S(this,el).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const n=this.getFile(e),i=!(n.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await ce(this,ze,Wj).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),n=Object.keys(e);n.length&&this.removeFiles(n),this.setState(of)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const n=ce(this,ze,xu).call(this,[e],{forceAllowNewUpload:!0});return ce(this,ze,gu).call(this,n)}logout(){this.iteratePlugins(e=>{var n,r;(r=(n=e.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return ce(this,ze,Kj).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...n){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in S(this,_r)?S(this,_r)[r.type].push(r):S(this,_r)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const n of Object.values(S(this,_r))){const r=n.find(i=>i.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return S(this,_r)[e]}iteratePlugins(e){Object.values(S(this,_r)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=S(this,_r)[e.type],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),S(this,Vh).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",S(this,Va)),window.removeEventListener("offline",S(this,Va)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n="info",r=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,n){const{logger:r}=this.opts;switch(n){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,n){S(this,zh).set(e,n)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const n=S(this,zh).get(e.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return n}async restore(e){this.log(`Core: Running restored upload "${e}"`);const n=await ce(this,ze,gu).call(this,e);return this.emit("complete",n),n}[Symbol.for("uppy test: createUpload")](...e){return ce(this,ze,xu).call(this,...e)}addResultData(e,n){if(!ce(this,ze,OM).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...n}};this.setState({currentUploads:{...r,[e]:i}})}async upload(){var i;(i=S(this,_r).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(ce(this,ze,Hj).call(this).length>0){const a=await ce(this,ze,Wj).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(S(this,kr).validateMinNumberOfFiles(e),!ce(this,ze,AM).call(this,e))throw new Rr(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=Object.keys(e).filter(u=>{const h=this.getFile(u);return h&&!h.progress.uploadStarted&&!o.includes(u)}),c=ce(this,ze,xu).call(this,l),d=await ce(this,ze,gu).call(this,c);return this.emit("complete",d),d}catch(a){throw ce(this,ze,Ao).call(this,[a]),a}}};_r=new WeakMap,kr=new WeakMap,Vh=new WeakMap,Zo=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Jo=new WeakMap,ze=new WeakSet,Ao=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=e.filter(o=>o.isUserFacing),r=4,i=n.slice(0,r),a=n.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Vj=function(e){const{missingFields:n,error:r}=S(this,kr).getMissingRequiredMetaFields(e);return n.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(n.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},AM=function(e){let n=!0;for(const r of Object.values(e))ce(this,ze,Vj).call(this,r)||(n=!1);return n},FM=function(e){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new Rr(this.i18n("noMoreFilesAllowed"),{file:e});throw ce(this,ze,Ao).call(this,[r]),r}},RM=function(e){const n=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=J3(n),i=IJ(r,n),a=Z3(i).extension,o=MX(n,this.getID()),l={...n.meta,name:i,type:r},c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...n.isRemote?{isRemote:!0,remote:n.remote,data:n.data}:{isRemote:!1,data:n.data},preview:n.preview}},zj=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},qj=function(e){let{files:n}=this.getState(),r={...n};const i=[],a=[];for(const o of e)try{let l=ce(this,ze,RM).call(this,o);ce(this,ze,FM).call(this,l);const c=n[l.id],d=c==null?void 0:c.isGhost;if(d&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const u=this.opts.onBeforeFileAdded(l,r);if(n=this.getState().files,r={...n,...r},!u&&this.checkIfFileAlreadyExists(l.id))throw new Rr(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Rr("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(l=u),S(this,kr).validateSingleFile(l),r[l.id]=l,i.push(l)}catch(l){a.push(l)}try{S(this,kr).validateAggregateRestrictions(Object.values(n),i)}catch(o){return a.push(o),{nextFilesState:n,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Hj=function(){const{files:e}=this.getState();return Object.keys(e).filter(n=>{const r=e[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},Wj=async function(){const e=ce(this,ze,Hj).call(this),n={...this.getState().files};if(e.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=ce(this,ze,xu).call(this,e,{forceAllowNewUpload:!0});return ce(this,ze,gu).call(this,r)},Xp=new WeakMap,Kj=function(){const e=ce(this,ze,IM).call(this);let n=null;e!=null&&(n=Math.round(e*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},el=new WeakMap,IM=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=n.filter(r),a=n.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},DM=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),ce(this,ze,Ao).call(this,[l])}else ce(this,ze,Ao).call(this,[a])});let n=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",S(this,Xp)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress,l=S(this,Jo).size>0;this.setFileState(i.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),S(this,el).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{const a=i&&this.getFile(i.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{S(this,el).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ce(this,ze,Vj).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",S(this,Va)),window.addEventListener("offline",S(this,Va)),setTimeout(S(this,Va),3e3))},Va=new WeakMap,zh=new WeakMap,xu=function(e,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=QN();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},OM=function(e){const{currentUploads:n}=this.getState();return n[e]},Gj=function(e){const{[e]:n,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},gu=async function(e){const n=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=n();if(!r)throw new Error("Nonexistent upload");const i=[...S(this,Wc),...S(this,Kc),...S(this,Jo)];try{for(let o=r.step||0;o<i.length;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const{fileIDs:c}=r;if(await l(c,e),r=n(),!r)break}}catch(o){throw ce(this,ze,Gj).call(this,e),o}if(r){r.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=n()}let a;return r&&(a=r.result,ce(this,ze,Gj).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},T(Zp,"VERSION",RJ.version);let Bj=Zp;var MM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(MM);var MJ=MM.exports;const Zr=fa(MJ);function LJ(){return A("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:A("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LM=typeof self<"u"?self:global;const Fh=typeof navigator<"u",$J=Fh&&typeof HTMLImageElement>"u",e2=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),$M=LM.Buffer,UM=!!$M,UJ=t=>t!==void 0;function BM(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(UJ).length===0)}function qs(t){let e=new Error(t);throw delete e.stack,e}function t2(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const By=t=>String.fromCharCode.apply(null,t),s2=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Ur{static from(e,n){return e instanceof this&&e.le===n?e:new Ur(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let a=new DataView(e,n,r);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ur){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&qs("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,n,r);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else qs("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Ur){return e instanceof DataView||e instanceof Ur?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||qs("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Ur(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return i=this.getUint8Array(e,n),s2?s2.decode(i):UM?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(By(i)));var i}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return By(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return By(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Qj(t,e){qs(`${t} '${e}' was not loaded, try using full build of exifr.`)}class YN extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||Qj(this.kind,e),n&&(e in n||function(r,i){qs(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||Qj(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var VM=new YN("file parser"),Ir=new YN("segment parser"),XN=new YN("file reader");let BJ=LM.fetch;function n2(t,e){return(n=t).startsWith("data:")||n.length>1e4?Xj(t,e,"base64"):e2&&t.includes("://")?Yj(t,e,"url",r2):e2?Xj(t,e,"fs"):Fh?Yj(t,e,"url",r2):void qs("Invalid input argument");var n}async function Yj(t,e,n,r){return XN.has(n)?Xj(t,e,n):r?async function(i,a){let o=await a(i);return new Ur(o)}(t,r):void qs(`Parser ${n} is not loaded`)}async function Xj(t,e,n){let r=new(XN.get(n))(t,e);return await r.read(),r}const r2=t=>BJ(t).then(e=>e.arrayBuffer()),Zj=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}),ZN=new Map,VJ=new Map,zJ=new Map,lf=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],zM=["jfif","xmp","icc","iptc","ihdr"],Jj=["tiff",...zM],Ls=["ifd0","ifd1","exif","gps","interop"],cf=[...Jj,...Ls],df=["makerNote","userComment"],qM=["translateKeys","translateValues","reviveValues","multiSegment"],uf=[...qM,"sanitize","mergeOutput","silentErrors"];class HM{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class tu extends HM{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),Pt(this,"enabled",!1),Pt(this,"skip",new Set),Pt(this,"pick",new Set),Pt(this,"deps",new Set),Pt(this,"translateKeys",!1),Pt(this,"translateValues",!1),Pt(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Ls.includes(e),this.canBeFiltered&&(this.dict=ZN.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:qs(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of qM)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&n.add(Number(a[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,qp(this.pick,this.deps)):this.enabled&&this.pick.size>0&&qp(this.pick,this.deps)}}var dn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},i2=new Map;class JN extends HM{static useCached(e){let n=i2.get(e);return n!==void 0||(n=new this(e),i2.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):qs(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Fh?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of lf)this[e]=dn[e];for(e of uf)this[e]=dn[e];for(e of df)this[e]=dn[e];for(e of cf)this[e]=new tu(e,dn[e],void 0,this)}setupFromTrue(){let e;for(e of lf)this[e]=dn[e];for(e of uf)this[e]=dn[e];for(e of df)this[e]=!0;for(e of cf)this[e]=new tu(e,!0,void 0,this)}setupFromArray(e){let n;for(n of lf)this[n]=dn[n];for(n of uf)this[n]=dn[n];for(n of df)this[n]=dn[n];for(n of cf)this[n]=new tu(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Ls)}setupFromObject(e){let n;for(n of(Ls.ifd0=Ls.ifd0||Ls.image,Ls.ifd1=Ls.ifd1||Ls.thumbnail,Object.assign(this,e),lf))this[n]=Vy(e[n],dn[n]);for(n of uf)this[n]=Vy(e[n],dn[n]);for(n of df)this[n]=Vy(e[n],dn[n]);for(n of Jj)this[n]=new tu(n,dn[n],e[n],this);for(n of Ls)this[n]=new tu(n,dn[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Ls,cf),e.tiff===!0?this.batchEnableWithBool(Ls,!0):e.tiff===!1?this.batchEnableWithUserValue(Ls,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Ls):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Ls)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=a2(e,r);for(let[o,l]of a)qp(this[o].pick,l),this[o].enabled=!0}else if(n&&n.length){let a=a2(n,r);for(let[o,l]of a)qp(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:a}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Ls.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Ls)this[a].finalizeFilters()}get onlyTiff(){return!zM.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Jj)this[e].enabled&&!Ir.has(e)&&Qj("segment parser",e)}}function a2(t,e){let n,r,i,a,o=[];for(i of e){for(a of(n=ZN.get(i),r=[],n))(t.includes(a[0])||t.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function Vy(t,e){return t!==void 0?t:e!==void 0?e:void 0}function qp(t,e){for(let n of e)t.add(n)}Pt(JN,"default",dn);class qJ{constructor(e){Pt(this,"parsers",{}),Pt(this,"output",{}),Pt(this,"errors",[]),Pt(this,"pushToErrors",n=>this.errors.push(n)),this.options=JN.useCached(e)}async read(e){this.file=await function(n,r){return typeof n=="string"?n2(n,r):Fh&&!$J&&n instanceof HTMLImageElement?n2(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Ur(n):Fh&&n instanceof Blob?Yj(n,r,"blob",Zj):void qs("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of VM)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),qs("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),BM(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=Ir.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,e,n),l=await o.extractThumbnail();return n.close&&n.close(),l}}class fc{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,a=n+i,o=r-i;return{offset:n,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(e,n={}){return new this(e,new JN({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Ur?e:new Ur(e)}constructor(e,n={},r){Pt(this,"errors",[]),Pt(this,"raw",new Map),Pt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=zJ.get(n),i=VJ.get(n),a=ZN.get(n),o=this.options[n],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,u={};for(let[h,m]of e)l&&r.has(h)?m=r.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=m;return u}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}Pt(fc,"headerLength",4),Pt(fc,"type",void 0),Pt(fc,"multiSegment",!1),Pt(fc,"canHandle",()=>!1);function HJ(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function WJ(t){return t>=224&&t<=239}function KJ(t,e,n){for(let[r,i]of Ir)if(i.canHandle(t,e,n))return r}class o2 extends class{constructor(e,n,r){Pt(this,"errors",[]),Pt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){qs(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):qs("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(Ir.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...e){super(...e),Pt(this,"appSegments",[]),Pt(this,"jpegSegments",[]),Pt(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Ir.keyList())):(e=e===void 0?Ir.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&Ir.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Ir.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await r.readNextChunk(e):!await r.readNextChunk(c),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:m,options:y}=this;for(;e<n;e++)if(d.getUint8(e)===255){if(r=d.getUint8(e+1),WJ(r)){if(i=d.getUint16(e+2),a=KJ(d,e,i),a&&h.has(a)&&(o=Ir.get(a),l=o.findPosition(d,e),c=y[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;y.recordUnknownSegments&&(l=fc.findPosition(d,e),l.marker=r,this.unknownSegments.push(l)),e+=i+1}else if(HJ(r)){if(i=d.getUint16(e+2),r===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,a,o,l=new Map;for(let c=0;c<n.length;c++)i=n[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=Ir.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}Pt(o2,"type","jpeg"),VM.set("jpeg",o2);const GJ=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class QJ extends fc{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:a}=this.options[n];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(i.has(u)&&(r.set(u,this.parseTag(e,u,n)),i.delete(u),i.size===0))break}else!l&&a.has(u)||r.set(u,this.parseTag(e,u,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=GJ[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&qs(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&qs(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:qs(`Invalid tiff type ${e}`)}}}class zy extends QJ{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&qs("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&qs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,t2(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,t2(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",l2(...e.get(2),e.get(1))),e.set("longitude",l2(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of Ls)if(e=this[n],!BM(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function l2(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Pt(zy,"type","tiff"),Pt(zy,"headerLength",10),Ir.set("tiff",zy);const e0={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},e0,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},e0,{tiff:!1,ifd1:!0,mergeOutput:!1});const YJ=Object.assign({},e0,{firstChunkSize:4e4,ifd0:[274]});async function XJ(t){let e=new qJ(YJ);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const ZJ=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let yu=!0,vu=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;yu=Number(n)+.1*Number(r)<13.4,vu=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);yu=vu=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);yu=vu=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);yu=vu=Number(e)<77}}async function JJ(t){let e=await XJ(t);return Object.assign({canvas:yu,css:vu},ZJ[e])}class eee extends Ur{constructor(...e){super(...e),Pt(this,"ranges",new tee),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let n;n=UM?$M.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class tee{constructor(){Pt(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,a=this.list.filter(o=>c2(e,o.offset,i)||c2(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),n=i-e;let o=a.shift();o.offset=e,o.length=n,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function c2(t,e,n){return t<=e&&e<=n}class see extends eee{constructor(e,n){super(0),Pt(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}XN.set("blob",class extends see{async readWhole(){this.chunked=!1;let t=await Zj(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await Zj(r);return this.set(i,t,!0)}});const nee="5.1.0",ree={version:nee},iee={strings:{generatingThumbnails:"Generating thumbnails..."}};function aee(t,e,n){try{t.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(r=>{t.toBlob(r,e,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>CX(t.toDataURL(e,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function oee(t,e){let n=t.width,r=t.height;(e.deg===90||e.deg===270)&&(n=t.height,r=t.width);const i=document.createElement("canvas");i.width=n,i.height=r;const a=i.getContext("2d");return a.translate(n/2,r/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function lee(t){const e=t.width/t.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*e)),a=Math.floor(n/Math.sqrt(n*e));if(i>r&&(i=r,a=Math.round(i/e)),a>r&&(a=r,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const cee={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class WM extends zp{constructor(n,r){super(n,{...cee,...r});T(this,"queue");T(this,"queueProcessing");T(this,"defaultThumbnailDimension");T(this,"thumbnailType");T(this,"onFileAdded",n=>{!n.preview&&n.data&&FC(n.type)&&!n.isRemote&&this.addToQueue(n.id)});T(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});T(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&AC(n.preview)&&URL.revokeObjectURL(n.preview)});T(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||AC(r.preview))&&this.addToQueue(r.id)})});T(this,"onAllFilesRemoved",()=>{this.queue=[]});T(this,"waitUntilAllProcessed",n=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=iee,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,i){if(n.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(n.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=JJ(n.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,r,i,d.deg),h=oee(c,d),m=this.resizeImage(h,u.width,u.height);return aee(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,r,i,a){let o=n.width/n.height;if((a===90||a===270)&&(o=n.height/n.width),r!=null){let l=r;return n.width<r&&(l=n.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return n.height<i&&(l=n.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(n,r,i){let a=lee(n),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return FC(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}T(WM,"VERSION",ree.version);const dee="5.1.0",uee={version:dee};class KM extends Ni{constructor(){super(...arguments);T(this,"fileInput",null);T(this,"folderInput",null);T(this,"mobilePhotoFileInput",null);T(this,"mobileVideoFileInput",null);T(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});T(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});T(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});T(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});T(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});T(this,"renderHiddenInput",(n,r)=>{var i;return A("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});T(this,"renderHiddenCameraInput",(n,r,i)=>{const o={photo:"image/*",video:"video/*"}[n];return A("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});T(this,"renderMyDeviceAcquirer",()=>A("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[A("div",{className:"uppy-DashboardTab-inner",children:A("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:A("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),A("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));T(this,"renderPhotoCamera",()=>A("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[A("div",{className:"uppy-DashboardTab-inner",children:A("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:A("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),A("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));T(this,"renderVideoCamera",()=>A("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[A("div",{className:"uppy-DashboardTab-inner",children:A("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:A("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),A("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));T(this,"renderBrowseButton",(n,r)=>{const i=this.props.acquirers.length;return A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:n})});T(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return A("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});T(this,"renderAcquirer",n=>{var r;return A("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[A("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),A("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});T(this,"renderAcquirers",n=>{const r=[...n],i=r.splice(n.length-2,n.length);return A(sa,{children:[r.map(a=>this.renderAcquirer(a)),A("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});T(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...n.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return A(sa,{children:[this.renderDropPasteBrowseTagline(o.length),A("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:m})=>A(sa,{children:m},h)),A("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:m})=>A(sa,{children:m},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=A("span",{children:[A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:A("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),A("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=n("poweredBy",{uppy:r});return A("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return A("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),n&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),A("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&A("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const hee=t=>A("div",{className:Zr("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[A("div",{className:"uppy-DashboardContent-bar",children:[A("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),A("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),A(KM,{...t})]});function mee(t){const e=t.files[t.fileCardFor],n=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return A("div",{className:Zr("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[A("div",{className:"uppy-DashboardContent-bar",children:[A("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:A("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),A("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:t.i18n("cancel")}),A("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),A("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(r=>t.uppy.getPlugin(r.id).render(t.state))})]})}function fee(){return A("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:A("g",{fill:"#686DE0",fillRule:"evenodd",children:[A("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),A("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),A("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function pee(){return A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:A("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function xee(){return A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:A("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function gee(){return A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:A("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function yee(){return A("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:A("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function vee(){return A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:A("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[A("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),A("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function jee(){return A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:A("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function t0(t){const e={color:"#838999",icon:vee()};if(!t)return e;const n=t.split("/")[0],r=t.split("/")[1];return n==="text"?{color:"#5a5e69",icon:jee()}:n==="image"?{color:"#686de0",icon:fee()}:n==="audio"?{color:"#068dbb",icon:pee()}:n==="video"?{color:"#19af67",icon:xee()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:gee()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:yee()}:e}function Wa(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function GM(t){const{file:e}=t;if(e.preview)return A("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:n,icon:r}=t0(e.type);return A("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[A("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:A("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function bee(t){const{computedMetaFields:e,requiredMetaFields:n,updateMeta:r,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=n.includes(l.id);return A("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[A("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>r(u,l.id),fieldCSSClasses:o,required:d,form:i.id},zN):A("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>r(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function wee(t){const{files:e,fileCardFor:n,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,m=()=>typeof a=="function"?a(e[n]):a,y=e[n],b=m()??[],j=h(y),v={};b.forEach(P=>{v[P.id]=y.meta[P.id]??""});const[p,x]=_d(v),w=Vp(P=>{P.preventDefault(),i(p,n)},[i,p,n]),N=(P,M)=>{x({...p,[M]:P})},_=()=>{r(!1)},[C]=_d(()=>{const P=document.createElement("form");return P.setAttribute("tabindex","-1"),P.id=QN(),P}),k=Tc(null);return Bp(()=>{var M;const P=((M=k.current)==null?void 0:M.getRootNode())??document;return P instanceof Document?P.body.appendChild(C):(P instanceof ShadowRoot,P.appendChild(C)),C.addEventListener("submit",w),()=>{C.removeEventListener("submit",w),C.parentNode&&C.parentNode.removeChild(C)}},[C,w]),A("div",{className:Zr("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,ref:k,children:[A("div",{className:"uppy-DashboardContent-bar",children:[A("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:A("span",{className:"uppy-DashboardContent-titleFile",children:y.meta?y.meta.name:y.name})})}),A("button",{className:"uppy-DashboardContent-back",type:"button",form:C.id,title:c("finishEditingFile"),onClick:_,children:c("cancel")})]}),A("div",{className:"uppy-Dashboard-FileCard-inner",children:[A("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:t0(y.type).color},children:[A(GM,{file:y}),j&&A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:P=>{w(P),l(y)},children:c("editImage")})]}),A("div",{className:"uppy-Dashboard-FileCard-info",children:A(bee,{computedMetaFields:b,requiredMetaFields:o,updateMeta:N,form:C,formState:p})}),A("div",{className:"uppy-Dashboard-FileCard-actions",children:[A("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:C.id,children:c("saveChanges")}),A("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:_,form:C.id,children:c("cancel")})]})]})]})}function Nee(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function See(t,e="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=t,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,t),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch{return document.body.removeChild(r),i()}})}function Cee({file:t,uploadInProgressOrComplete:e,metaFields:n,canEditFile:r,i18n:i,onClick:a}){return!e&&n&&n.length>0||!e&&r(t)?A("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:A("g",{fillRule:"evenodd",children:[A("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),A("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),A("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function _ee({i18n:t,onClick:e,file:n}){return A("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:()=>e(),children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[A("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),A("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function kee({file:t,uppy:e,i18n:n}){const r=i=>{See(t.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return A("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:i=>r(i),children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:A("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Pee(t){const{uppy:e,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return A("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[A(Cee,{i18n:c,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,n.id):u(n)}}),o&&n.uploadURL?A(kee,{file:n,uppy:e,i18n:c}):null,l?A(_ee,{i18n:c,file:n,onClick:()=>e.removeFile(n.id)}):null]})}const Tee=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function QM(t){const{file:e,toggleFileCard:n,i18n:r,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>Tee(l,i)).join(", ");return A("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",A("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,e.id),children:r("editFile")})]})}const Eee=t=>{const{author:e,name:n}=t.file.meta;function r(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return A("div",{className:"uppy-Dashboard-Item-name",title:n,children:oM(n,r())})},Aee=t=>{var i;const{author:e}=t.file.meta,n="remote"in t.file?(i=t.file.remote)==null?void 0:i.providerName:void 0,r="";return e?A("div",{className:"uppy-Dashboard-Item-author",children:[A("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:oM(e.name,13)}),n?A(sa,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Fee=t=>t.file.size&&A("div",{className:"uppy-Dashboard-Item-statusSize",children:Bo(t.file.size)}),Ree=t=>t.file.isGhost&&A("span",{children:["  ",A("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),Iee=({file:t,onClick:e})=>t.error?A("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Dee(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return A("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[A("div",{className:"uppy-Dashboard-Item-fileName",children:[Eee({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),A(Iee,{file:e,onClick:()=>alert(e.error)})]}),A("div",{className:"uppy-Dashboard-Item-status",children:[Aee({file:e}),Fee({file:e}),Ree({file:e,toggleAddFilesPanel:a,i18n:n})]}),A(QM,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function Oee(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":t0(e.type).color;return A("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&A("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:A("span",{hidden:!0,children:e.meta.name})}),A(GM,{file:e}),A(QM,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function Mee(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function d2(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function qy(t){return A("div",{className:"uppy-Dashboard-Item-progress",children:A("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":d2(t),title:d2(t),onClick:()=>Mee(t),children:t.children})})}function hf({children:t}){return A("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Hy({progress:t}){const e=2*Math.PI*15;return A("g",{children:[A("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),A("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function Lee(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?A("div",{className:"uppy-Dashboard-Item-progress",children:A("div",{className:"uppy-Dashboard-Item-progressIndicator",children:A(hf,{children:[A("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),A("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?A(qy,{...t,children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[A("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),A("path",{d:"M7.9 3H10v2H7.9z"}),A("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),A("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?A(qy,{...t,children:A(hf,{children:[A(Hy,{progress:t.file.progress.percentage}),t.file.isPaused?A("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):A("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[A("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),A("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?A(qy,{...t,children:A(hf,{children:[A(Hy,{progress:t.file.progress.percentage}),A("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):A("div",{className:"uppy-Dashboard-Item-progress",children:A("div",{className:"uppy-Dashboard-Item-progressIndicator",children:A(hf,{children:A(Hy,{progress:t.file.progress.percentage})})})})}class $ee extends Ni{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Nee(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,n=e.progress.preprocess||e.progress.postprocess,r=!!e.progress.uploadComplete&&!n&&!e.error,i=!!e.progress.uploadStarted||!!n,a=e.progress.uploadStarted&&!e.progress.uploadComplete||n,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Zr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return A("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[A("div",{className:"uppy-Dashboard-Item-preview",children:[A(Oee,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),A(Lee,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),A("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[A(Dee,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),A(Pee,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Uee(t,e){const n=[];let r=[];return t.forEach(i=>{r.length<e?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}function Bee({id:t,i18n:e,uppy:n,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:m,handleRequestThumbnail:y,handleCancelThumbnail:b,recoveredState:j,individualCancellation:v,itemsPerRow:p,openFileEditor:x,canEditFile:w,toggleAddFilesPanel:N,containerWidth:_,containerHeight:C}){const k=p===1?71:200,P=KN(()=>{const R=(V,Z)=>Number(r[Z].isGhost)-Number(r[V].isGhost),L=Object.keys(r);return j&&L.sort(R),Uee(L,p)},[r,p,j]),M=R=>A("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:R.map(L=>A($ee,{uppy:n,id:t,i18n:e,resumableUploads:i,individualCancellation:v,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:j,isSingleFile:h,containerWidth:_,containerHeight:C,toggleFileCard:m,handleRequestThumbnail:y,handleCancelThumbnail:b,role:"listitem",openFileEditor:x,canEditFile:w,toggleAddFilesPanel:N,file:r[L]},L))},R[0]);return h?A("div",{class:"uppy-Dashboard-files",children:M(P[0])}):A(cZ,{class:"uppy-Dashboard-files",role:"list",data:P,renderRow:M,rowHeight:k})}const u2=300;class Vee extends Ni{constructor(){super(...arguments);T(this,"ref",ZX())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,u2)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,u2)}render(){const{children:n}=this.props;return A("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function zee(t,e){return Object.assign(t,e)}function qee(t,e){return(t==null?void 0:t.key)??e}function Hee(t,e){const n=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return n[e]||(n[e]=r=>{t.refs[e]=r})}function su(t){const e={};for(let n=0;n<t.length;n++)if(t[n]!=null){const r=qee(t[n],n.toString(36));e[r]=t[n]}return e}function Wee(t,e){t=t||{},e=e||{};const n=o=>Object.hasOwn(e,o)?e[o]:t[o],r={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=n(c)}a[o]=n(o)}for(let o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}const Kee=t=>t;class YM extends Ni{constructor(e,n){super(e,n),this.refs={},this.state={children:su(Ea(Ea(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const n in e)e[n]&&this.performAppear(n)}componentWillReceiveProps(e){const n=su(Ea(e.children)||[]),r=this.state.children;this.setState(a=>({children:Wee(a.children,n)}));let i;for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(e){const n=this.keysToAbortLeave.indexOf(e);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const n=this.refs[e];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=su(Ea(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const n=this.refs[e];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=su(Ea(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=su(Ea(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=zee({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:n,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const m=Object.entries(h).map(([y,b])=>{if(!b)return;const j=Hee(this,y);return vM(e(b),{ref:j,key:y})}).filter(Boolean);return zN(d,u,m)}}YM.defaultProps={component:"span",childFactory:Kee};class h2 extends Ni{render(){const{info:e}=this.props.uppy.getState();return A("div",{className:"uppy uppy-Informer",children:A(YM,{children:e.map(n=>A(Vee,{children:A("p",{role:"alert",children:[n.message," ",n.details&&A("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})})}}function Gee({activePickerPanel:t,className:e,hideAllPanels:n,i18n:r,state:i,uppy:a}){const o=Tc(null);return A("div",{className:Zr("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Wa,onDragLeave:Wa,onDrop:Wa,onPaste:Wa,children:[A("div",{className:"uppy-DashboardContent-bar",children:[A("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:t.name})}),A("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),A("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const ni={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Qee(t,e,n,r={}){if(t)return ni.STATE_ERROR;if(e)return ni.STATE_COMPLETE;if(n)return ni.STATE_PAUSED;let i=ni.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ni.STATE_UPLOADING;l.preprocess&&i!==ni.STATE_UPLOADING&&(i=ni.STATE_PREPROCESSING),l.postprocess&&i!==ni.STATE_UPLOADING&&i!==ni.STATE_PREPROCESSING&&(i=ni.STATE_POSTPROCESSING)}return i}function Yee({files:t,i18n:e,isAllComplete:n,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Qee(r,n,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function Xee(t){const{i18n:e,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),A("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?A("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):A("div",{}),A("div",{className:"uppy-DashboardContent-title",children:A(Yee,{...t})}),l?A("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:A("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),A("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):A("div",{})]})}const Yl="uppy-transition-slideDownUp",m2=250;function mf({children:t}){const[e,n]=_d(null),[r,i]=_d(""),a=Tc(),o=Tc(),l=Tc(),c=Vp(()=>{i(`${Yl}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Yl}-enter ${Yl}-enter-active`),a.current=setTimeout(()=>{i("")},m2)})},[]),d=Vp(()=>{i(`${Yl}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Yl}-leave ${Yl}-leave-active`),o.current=setTimeout(()=>{n(null),i("")},m2)})},[]);return Bp(()=>{const u=Ea(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),n(u))},[t,e,c,d]),Bp(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?vM(e,{className:Zr(r,e.props.className)}):null}const ai={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Zee="",f2=()=>` ${Zee} `;function Jee(t){const{newFiles:e,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=Zr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ai.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&n&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return A("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function ete(t){const{i18n:e,uppy:n}=t;return A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:A("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function tte(t){const{i18n:e,uppy:n}=t;return A("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:A("g",{fill:"none",fillRule:"evenodd",children:[A("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),A("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function ste(t){const{isAllPaused:e,i18n:n,isAllComplete:r,resumableUploads:i,uppy:a}=t,o=n(e?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return A("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:A("g",{fill:"none",fillRule:"evenodd",children:[A("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),A("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function nte(t){const{i18n:e,doneButtonHandler:n}=t;return A("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:e("done")})}function XM(){return A("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:A("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function rte(t){const{progress:e}=t,{value:n,mode:r,message:i}=e;return A("div",{className:"uppy-StatusBar-content",children:[A(XM,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",i]})}function ite(t){const{numUploads:e,complete:n,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=Bo(r);return A("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:n,smart_count:e}),A("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&f2(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Bo(i)}):o("dataUploadedOfUnknown",{complete:c}),f2(),a!=null&&o("xTimeLeft",{time:HX(a)})]})]})}function ZM(t){const{i18n:e,complete:n,numUploads:r}=t;return A("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:n,smart_count:r})})}function ate(t){const{i18n:e,newFiles:n,startUpload:r}=t,i=Zr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return A("div",{className:"uppy-StatusBar-statusSecondary",children:[A("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:n})}),A("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:n}),onClick:r,children:e("upload")})]})}function ote(t){const{i18n:e,supportsUploadProgress:n,totalProgress:r,hideProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:y,startUpload:b}=t,j=c&&a;if(!a||o)return null;const v=e(l?"paused":"uploading");function p(){return!l&&!j&&!i?n?A(ite,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:y,i18n:e}):A(ZM,{i18n:e,complete:u,numUploads:d}):null}return A("div",{className:"uppy-StatusBar-content",title:v,children:[l?null:A(XM,{}),A("div",{className:"uppy-StatusBar-status",children:[A("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${v}: ${r}%`:v}),p(),j?A(ate,{i18n:e,newFiles:c,startUpload:b}):null]})]})}function lte(t){const{i18n:e}=t;return A("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:A("div",{className:"uppy-StatusBar-status",children:A("div",{className:"uppy-StatusBar-statusPrimary",children:[A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:A("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function cte(t){const{error:e,i18n:n,complete:r,numUploads:i}=t;function a(){const o=`${n("uploadFailed")} 

 ${e}`;alert(o)}return A("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[A("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:A("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),A("div",{className:"uppy-StatusBar-status",children:[A("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),A("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),A(ZM,{i18n:n,complete:r,numUploads:i})]})]})}function Wy(t){const e=[];let n="indeterminate",r;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:n,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:n,message:r,value:i}}const{STATE_ERROR:p2,STATE_WAITING:dte,STATE_PREPROCESSING:Ky,STATE_UPLOADING:ff,STATE_POSTPROCESSING:Gy,STATE_COMPLETE:pf}=ai;function ute({newFiles:t,allowNewUpload:e,isUploadInProgress:n,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:m,files:y,supportsUploadProgress:b,hideAfterFinish:j=!1,isSomeGhost:v,doneButtonHandler:p=void 0,isUploadStarted:x,i18n:w,startUpload:N,uppy:_,isAllComplete:C,hideProgressDetails:k=void 0,numUploads:P,complete:M,totalSize:R,totalETA:L,totalUploadedSize:V}){function Z(){switch(h){case Gy:case Ky:{const $e=Wy(y);return $e.mode==="determinate"?$e.value*100:m}case p2:return null;case ff:return b?m:null;default:return m}}function se(){switch(h){case Gy:case Ky:{const{mode:$e}=Wy(y);return $e==="indeterminate"}case ff:return!b;default:return!1}}const E=Z(),K=E??100,de=!a&&t&&(!n&&!r||u)&&e&&!o,B=!c&&h!==dte&&h!==pf,F=i&&!l&&h===ff,D=a&&!C&&!d,le=p&&h===pf,fe=Zr("uppy-StatusBar-progress",{"is-indeterminate":se()}),qe=Zr("uppy-StatusBar",`is-${h}`,{"has-ghosts":v}),Ke=(()=>{switch(h){case Ky:case Gy:return A(rte,{progress:Wy(y)});case pf:return A(lte,{i18n:w});case p2:return A(cte,{error:a,i18n:w,numUploads:P,complete:M});case ff:return A(ote,{i18n:w,supportsUploadProgress:b,totalProgress:m,hideProgressDetails:k,isUploadStarted:x,isAllComplete:C,isAllPaused:r,newFiles:t,numUploads:P,complete:M,totalUploadedSize:V,totalSize:R,totalETA:L,startUpload:N});default:return null}})();return!(de||D||F||B||le)&&!Ke||h===pf&&j?null:A("div",{className:qe,children:[A("div",{className:fe,style:{width:`${K}%`},role:"progressbar","aria-label":`${K}%`,"aria-valuetext":`${K}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":E}),Ke,A("div",{className:"uppy-StatusBar-actions",children:[de?A(Jee,{newFiles:t,isUploadStarted:x,recoveredState:u,i18n:w,isSomeGhost:v,startUpload:N,uploadState:h}):null,D?A(ete,{i18n:w,uppy:_}):null,F?A(ste,{isAllPaused:r,i18n:w,isAllComplete:C,resumableUploads:i,uppy:_}):null,B?A(tte,{i18n:w,uppy:_}):null,le?A(nte,{i18n:w,doneButtonHandler:p}):null]})]})}const hte=2e3,mte=2e3;function fte(t,e,n,r){if(t)return ai.STATE_ERROR;if(e)return ai.STATE_COMPLETE;if(n)return ai.STATE_WAITING;let i=ai.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ai.STATE_UPLOADING;l.preprocess&&(i=ai.STATE_PREPROCESSING),l.postprocess&&i!==ai.STATE_PREPROCESSING&&(i=ai.STATE_POSTPROCESSING)}return i}var za,mi,tl,Qi,qh,Jp,JM;class pte extends Ni{constructor(){super(...arguments);G(this,Jp);G(this,za);G(this,mi);G(this,tl);G(this,Qi);G(this,qh,()=>{const{recoveredState:n}=this.props.uppy.getState();if(Y(this,tl,null),Y(this,Qi,null),n){Y(this,mi,Object.values(n.files).reduce((r,{progress:i})=>r+(i.bytesUploaded||0),0));return}Y(this,za,performance.now()),Y(this,mi,0)});T(this,"startUpload",()=>{const{recoveredState:n}=this.props.uppy.getState();n?this.props.uppy.emit("restore-confirmed"):this.props.uppy.upload().catch(()=>{})})}componentDidMount(){Y(this,za,performance.now()),Y(this,mi,this.props.uppy.getFiles().reduce((n,r)=>n+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",S(this,qh))}componentWillUnmount(){this.props.uppy.off("upload",S(this,qh))}render(){const{capabilities:n,files:r,allowNewUpload:i,totalProgress:a,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:h,isAllComplete:m,isAllPaused:y,isUploadInProgress:b,isSomeGhost:j}=this.props.uppy.getObjectOfFilesPerState(),v=l?Object.values(r):c,p=!!n.resumableUploads,x=n.uploadProgress!==!1;let w=null,N=0;d.every(C=>C.progress.bytesTotal!=null&&C.progress.bytesTotal!==0)?(w=0,d.forEach(C=>{w+=C.progress.bytesTotal||0,N+=C.progress.bytesUploaded||0})):d.forEach(C=>{N+=C.progress.bytesUploaded||0});const _=ce(this,Jp,JM).call(this,{uploaded:N,total:w});return A(ute,{error:o,uploadState:fte(o,m,l,r||{}),allowNewUpload:i,totalProgress:a,totalSize:w,totalUploadedSize:N,isAllComplete:m,isAllPaused:y,isUploadStarted:h,isUploadInProgress:b,isSomeGhost:j,recoveredState:l,complete:u.length,newFiles:v.length,numUploads:d.length,totalETA:_,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:p,supportsUploadProgress:x,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}za=new WeakMap,mi=new WeakMap,tl=new WeakMap,Qi=new WeakMap,qh=new WeakMap,Jp=new WeakSet,JM=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;S(this,za)??Y(this,za,performance.now());const i=performance.now()-S(this,za);if(i===0)return Math.round((S(this,Qi)??0)/100)/10;if(S(this,mi)==null)return Y(this,mi,n.uploaded),null;const a=n.uploaded-S(this,mi);if(Y(this,mi,n.uploaded),a<=0)return Math.round((S(this,Qi)??0)/100)/10;const o=a/i;if(!Number.isFinite(o)||o<=0)return null;const l=S(this,tl)==null?o:_C(o,S(this,tl),hte,i);if(!Number.isFinite(l)||l<=0)return null;Y(this,tl,l);const c=r/l;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((S(this,Qi)??0)-i,0),u=S(this,Qi)==null?c:_C(c,d,mte,i);return!Number.isFinite(u)||u<0?null:(Y(this,Qi,u),Y(this,za,performance.now()),Math.round(u/100)/10)};const x2=900,g2=700,Qy=576,y2=330;function xte(t){const e=t.totalFileCount===0,n=t.totalFileCount===1,r=t.containerWidth>Qy,i=t.containerHeight>y2,a=Zr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Qy,"uppy-size--lg":t.containerWidth>g2,"uppy-size--xl":t.containerWidth>x2,"uppy-size--height-md":t.containerHeight>y2,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&n&&i});let o=1;t.containerWidth>x2?o=5:t.containerWidth>g2?o=4:t.containerWidth>Qy&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return A("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&zX(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[A("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),A("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:A("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:A("span",{"aria-hidden":"true",children:""})}),A("div",{className:"uppy-Dashboard-innerWrap",children:[A("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&A(Xee,{...t}),c!=null&&c>0&&A("div",{className:"uppy-Dashboard-serviceMsg",children:[A("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:A("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[A("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),A("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),A("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),A("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),A("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?A(Bee,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):A(KM,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),A(mf,{children:t.showAddFilesPanel?A(hee,{...t,isSizeMD:r},"AddFiles"):null}),A(mf,{children:t.fileCardFor?A(wee,{...t},"FileCard"):null}),A(mf,{children:t.activePickerPanel?A(Gee,{...t},"Picker"):null}),A(mf,{children:t.showFileEditor?A(mee,{...t},"Editor"):null}),A("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&A(h2,{uppy:t.uppy}),!t.disableStatusBar&&A(pte,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&A(h2,{uppy:t.uppy}),t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))]})]})]})]})}const gte={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function eL(t,e){if(e){const n=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(n)return n}return t}function yte(){let t=!1;return wJ((n,r)=>{const i=eL(n,r),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(Y3);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function v2(t,e){const n=e[0];n&&(n.focus(),t.preventDefault())}function vte(t,e){const n=e[e.length-1];n&&(n.focus(),t.preventDefault())}function jte(t){return t.contains(document.activeElement)}function tL(t,e,n){const r=eL(n,e),i=$u(r.querySelectorAll(Y3)),a=i.indexOf(document.activeElement);jte(r)?t.shiftKey&&a===0?vte(t,i):!t.shiftKey&&a===i.length-1&&v2(t,i):v2(t,i)}function bte(t,e,n){e===null||tL(t,e,n)}const j2=9,wte=27;function b2(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}const Nte={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:LJ,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Yy,Gc,sl,Hh,Qc,ex,tx,sx,nl,nx,rx,Yc,vo,eb,tb;let Ste=(Yy=class extends zp{constructor(n,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(n,{...Nte,...r,autoOpen:i});G(this,vo);G(this,Gc);T(this,"modalName",`uppy-Dashboard-${QN()}`);T(this,"superFocus",yte());T(this,"ifFocusedOnUppyRecently",!1);T(this,"dashboardIsDisabled");T(this,"savedScrollPosition");T(this,"savedActiveElement");T(this,"resizeObserver");T(this,"darkModeMediaQuery");T(this,"makeDashboardInsidesVisibleAnywayTimeout");T(this,"removeTarget",n=>{const i=this.getPluginState().targets.filter(a=>a.id!==n.id);this.setPluginState({targets:i})});T(this,"addTarget",n=>{const r=n.id||n.constructor.name,i=n.title||r,a=n.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});T(this,"hideAllPanels",()=>{var i;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=n.activePickerPanel)==null?void 0:i.id))});T(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===n);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});T(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return S(this,nl).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(n))});T(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),i=S(this,nl).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(n)})});T(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});T(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();S(this,nl).call(this,n).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});T(this,"openModal",()=>{const{promise:n,resolve:r}=b2();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});T(this,"closeModal",n=>{var c;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=b2();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});T(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);T(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());T(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});T(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});T(this,"toggleFileCard",(n,r)=>{const i=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});T(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});T(this,"addFiles",n=>{const r=n.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});T(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});T(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});T(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});T(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=S(this,Gc)??$u(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",n):a.disabled=n;n?Y(this,Gc,i):Y(this,Gc,null),this.dashboardIsDisabled=n});T(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});T(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});T(this,"handleKeyDownInModal",n=>{n.keyCode===wte&&this.requestCloseModal(),n.keyCode===j2&&tL(n,this.getPluginState().activeOverlayType,this.el)});T(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});T(this,"handlePaste",n=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,n))});const r=$u(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});T(this,"handleInputChange",n=>{n.preventDefault();const r=$u(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});T(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,n)&&(l=!0)}),l},i=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});T(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});T(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,n))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await UX(n.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(n)});T(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});T(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});T(this,"handleKeyDownInInline",n=>{n.keyCode===j2&&bte(n,this.getPluginState().activeOverlayType,this.el)});T(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});T(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});G(this,sl,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:n});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});G(this,Hh,n=>{const r=n[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});T(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=kC(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",S(this,Yc)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",S(this,sl)),this.uppy.on("file-removed",S(this,sl)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",S(this,Hh))});T(this,"removeEvents",()=>{const n=kC(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",S(this,Yc)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",S(this,sl)),this.uppy.off("file-removed",S(this,sl)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",S(this,Hh))});T(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});T(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});T(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});G(this,Qc,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});G(this,ex,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});G(this,tx,n=>n.filter(r=>r.type==="acquirer"&&S(this,ex).call(this,r)).map(S(this,Qc)));G(this,sx,n=>n.filter(r=>r.type==="progressindicator").map(S(this,Qc)));G(this,nl,n=>n.filter(r=>r.type==="editor").map(S(this,Qc)));T(this,"render",n=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:b,isAllComplete:j,isAllPaused:v}=this.uppy.getObjectOfFilesPerState(),p=S(this,tx).call(this,r.targets),x=S(this,sx).call(this,r.targets),w=S(this,nl).call(this,r.targets);let N;return this.opts.theme==="auto"?N=a.darkMode?"dark":"light":N=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),xte({state:n,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:b,isAllComplete:j,isAllPaused:v,totalFileCount:Object.keys(i).length,totalProgress:n.totalProgress,allowNewUpload:o,acquirers:p,theme:N,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:x,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});G(this,nx,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});G(this,rx,()=>{this.uppy.iteratePlugins(S(this,Yc))});G(this,Yc,n=>{var i;const r=["acquirer","editor"];n&&!((i=n.opts)!=null&&i.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(o=>n.id===o.id)||n.mount(this,n))});T(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(WM,{id:ce(this,vo,tb).call(this),...ce(this,vo,eb).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),S(this,nx).call(this),S(this,rx).call(this),this.initEvents()});T(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:n}=this.opts;n.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=gte,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r;super.setOptions(n),(r=this.uppy.getPlugin(ce(this,vo,tb).call(this)))==null||r.setOptions(ce(this,vo,eb).call(this))}},Gc=new WeakMap,sl=new WeakMap,Hh=new WeakMap,Qc=new WeakMap,ex=new WeakMap,tx=new WeakMap,sx=new WeakMap,nl=new WeakMap,nx=new WeakMap,rx=new WeakMap,Yc=new WeakMap,vo=new WeakSet,eb=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},tb=function(){return`${this.id}:ThumbnailGenerator`},T(Yy,"VERSION",uee.version),Yy);const Cte=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_te=/^(aria-|data-)/,sL=t=>Object.fromEntries(Object.entries(t).filter(([e])=>_te.test(e)||Cte.includes(e)));function kte(t,e){const n=sL(t);return Object.keys(t).some(r=>!Object.hasOwn(n,r)&&t[r]!==e[r])}class Pte extends f.Component{constructor(){super(...arguments);T(this,"container");T(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){if(n.uppy!==this.props.uppy)this.uninstallPlugin(n),this.installPlugin();else if(kte(this.props,n)){const{uppy:r,...i}={...this.props,target:this.container};this.plugin.setOptions(i)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:n,...r}={id:"Dashboard",...this.props,inline:!0,target:this.container};n.use(Ste,r),this.plugin=n.getPlugin(r.id)}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return f.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...sL(this.props)})}}var nL={};function yr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Tte=yr;yr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};yr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};yr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};yr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};yr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};yr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};yr.prototype.start=yr.prototype.try;yr.prototype.errors=function(){return this._errors};yr.prototype.attempts=function(){return this._attempts};yr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(t[a]||0)+1;t[a]=o,o>=n&&(e=i,n=o)}return e};(function(t){var e=Tte;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=n[l];n[l]=(function(u){var h=t.operation(r),m=Array.prototype.slice.call(arguments,1),y=m.pop();m.push(function(b){h.retry(b)||(b&&(arguments[0]=h.mainError()),y.apply(this,arguments))}),h.attempt(function(){u.apply(n,m)})}).bind(n,c),n[l].options=r}}})(nL);var Ete=nL;const Ate=fa(Ete),Fte=Object.prototype.toString,Rte=t=>Fte.call(t)==="[object Error]",Ite=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Dte(t){if(!(t&&Rte(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Ite.has(n)}class sb extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const w2=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function N2(t,e){return new Promise((n,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=Ate.operation(e),a=()=>{var l;i.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof sb)throw c.originalError;if(c instanceof TypeError&&!Dte(c))throw c;if(w2(c,l,e),await e.shouldRetry(c)||(i.stop(),r(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){w2(d,l,e),o(),r(d)}}})})}const Ote="5.1.1",Mte={version:Ote};class Lte extends Error{constructor(){super("Authorization required");T(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function $te(t){return t.replace(/\/$/,"")}const S2=10,Ute=5*60*1e3,Bte=401;class Vte extends Error{constructor({statusCode:n,message:r}){super(r);T(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function zte(t){if(t.status===Bte)throw new Lte;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,n;try{n=await t.json(),n.message&&(e=`${e} message: ${n.message}`),n.requestId&&(e=`${e} request-Id: ${n.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw t.status>=400&&t.status<=499&&n.message?new YX(n.message):new Vte({statusCode:t.status,message:e})}function qte(t,e,n){const{progress:r,bytesUploaded:i,bytesTotal:a}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var rl,jo,nb,ix,rb;class rL{constructor(e,n){G(this,jo);G(this,rl);T(this,"uppy");T(this,"opts");G(this,ix,async({file:e,postBody:n,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...n},{signal:r})).token});this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),Y(this,rl,n.companionHeaders)}setCompanionHeaders(e){Y(this,rl,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return S(this,rl)}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return $te(e!=null&&e[n]?e[n]:n)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...S(this,rl)}}onReceiveResponse(e){const{headers:n}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:n.get("i-am")}})}async request({path:e,method:n="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await PX(ce(this,jo,nb).call(this,e),{method:n,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await zte(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new _X(`Could not ${n} ${ce(this,jo,nb).call(this,e)}`,{cause:o})}}async get(e,n){return this.request({...n,path:e})}async post(e,n,r){return this.request({...r,path:e,method:"POST",data:n})}async delete(e,n,r){return this.request({...r,path:e,method:"DELETE",data:n})}async uploadRemoteFile(e,n,r){try{const{signal:i,getQueue:a}=r||{};return await N2(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),ce(this,jo,rb).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await S(this,ix).call(this,...u)}catch(h){if(h.isAuthError)throw new sb(h);if(h.cause==null)throw h;const m=h.cause,y=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!y()?new sb(m):m}},{priority:-1})({file:e,postBody:n,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),ce(this,jo,rb).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:S2,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}rl=new WeakMap,jo=new WeakSet,nb=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},ix=new WeakMap,rb=async function({file:e,queue:n,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=BX(e.remote.companionUrl);let u,h,m,{isPaused:y}=e;const b=(k,P)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${k}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:k,payload:P??{}}))};function j(){a.resumableUploads&&b(y?"pause":"resume")}const v=async()=>{h&&h.abort(),h=new AbortController;const k=M=>{var R;this.uppy.setFileState(e.id,{serverToken:null}),(R=h==null?void 0:h.abort)==null||R.call(h),l(M)};function P(){clearTimeout(m),!y&&(m=setTimeout(()=>k(new Error("Timeout waiting for message from Companion socket")),Ute))}try{await n.wrapPromiseFunction(async()=>{await N2(async()=>new Promise((R,L)=>{u=new WebSocket(`${d}/api/${c}`),P(),u.addEventListener("close",()=>{u=void 0,L(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",Z=>{this.uppy.log(`Companion socket error ${JSON.stringify(Z)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{j()}),u.addEventListener("message",Z=>{var se,E,K;P();try{const{action:de,payload:B}=JSON.parse(Z.data);switch(de){case"progress":{qte(this,B,this.uppy.getFile(e.id));break}case"success":{const F=(se=B.response)==null?void 0:se.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:B.url,status:((E=B.response)==null?void 0:E.status)??200,body:F?JSON.parse(F):void 0}),(K=h==null?void 0:h.abort)==null||K.call(h),o();break}case"error":{const{message:F}=B.error;throw Object.assign(new Error(F),{cause:B.error})}default:this.uppy.log(`Companion socket unknown action ${de}`,"warning")}}catch(de){k(de)}});const V=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{V()})}),{retries:S2,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(M){if(h.signal.aborted)return;k(M)}},p=k=>{a.resumableUploads&&(y=k,u&&j())},x=k=>{var P;a.individualCancellation&&k.id===e.id&&(b("cancel"),(P=h==null?void 0:h.abort)==null||P.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},w=()=>{var k;b("cancel"),(k=h==null?void 0:h.abort)==null||k.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},N=(k,P)=>{(k==null?void 0:k.id)===e.id&&p(P)},_=()=>p(!0),C=()=>p(!1);this.uppy.on("file-removed",x),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",N),this.uppy.on("pause-all",_),this.uppy.on("resume-all",C),i=()=>{this.uppy.off("file-removed",x),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",N),this.uppy.off("pause-all",_),this.uppy.off("resume-all",C)},r.addEventListener("abort",()=>{h==null||h.abort()}),v()})}finally{i==null||i()}},T(rL,"VERSION",Mte.version);const Hte="5.1.0",Wte={version:Hte};function Kte({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[t,e,n,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const s0=new TextEncoder,n0={name:"HMAC",hash:"SHA-256"};async function Gte(t){const{subtle:e}=globalThis.crypto;return e.digest(n0.hash,s0.encode(t))}async function Qte(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?s0.encode(t):t,n0,!1,["sign"])}function C2(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toString(16).padStart(2,"0");return n}async function nu(t,e){const{subtle:n}=globalThis.crypto;return n.sign(n0,await Qte(t),s0.encode(e))}async function Yte({accountKey:t,accountSecret:e,sessionToken:n,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,M=>`%${M.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",y=new Date().toISOString().replace(/[-:]|\.\d+/g,""),b=y.slice(0,8),j=`${b}/${a}/${d}/aws4_request`,v=new URL(`https://${u}${h}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",m),v.searchParams.set("X-Amz-Credential",`${t}/${j}`),v.searchParams.set("X-Amz-Date",y),v.searchParams.set("X-Amz-Expires",o),v.searchParams.set("X-Amz-Security-Token",n),v.searchParams.set("X-Amz-SignedHeaders","host"),c&&v.searchParams.set("partNumber",c),l&&v.searchParams.set("uploadId",l),v.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const p=Kte({CanonicalUri:h,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:u},HashedPayload:m}),x=C2(await Gte(p)),w=["AWS4-HMAC-SHA256",y,j,x].join(`
`),N=await nu(`AWS4${e}`,b),_=await nu(N,a),C=await nu(_,d),k=await nu(C,"aws4_request"),P=C2(await nu(k,w));return v.searchParams.set("X-Amz-Signature",P),v}const Xte=1024*1024,_2={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Zte(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const $f=Symbol("pausing upload, not an actual error");var Pr,ar,fi,Yi,Xi,Wh,Kh,Xc,il,Zc,Gh,Jc,Qh,Jr,iL,aL,ib,Yh,Xh,oL;class Jte{constructor(e,n){G(this,Jr);T(this,"options");G(this,Pr,new Oy);G(this,ar,[]);G(this,fi,[]);G(this,Yi);G(this,Xi);G(this,Wh,!1);G(this,Kh);G(this,Xc);G(this,il);G(this,Zc);G(this,Gh,e=>(e==null?void 0:e.cause)===$f?null:S(this,Kh).call(this,e));G(this,Jc,1e4);G(this,Qh,5*Xte);G(this,Yh,e=>n=>{if(!n.lengthComputable)return;S(this,fi)[e].uploaded=Zte(n.loaded);const r=S(this,fi).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,S(this,Yi).size)});G(this,Xh,e=>n=>{S(this,ar)[e]=null,S(this,fi)[e].etag=n,S(this,fi)[e].done=!0;const r={PartNumber:e+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={..._2,...n},(r=this.options).getChunkSize??(r.getChunkSize=_2.getChunkSize),Y(this,Yi,e),Y(this,Xi,n.file),Y(this,Xc,this.options.onSuccess),Y(this,Kh,this.options.onError),Y(this,il,this.options.shouldUseMultipart),Y(this,Zc,n.uploadId&&n.key),ce(this,Jr,iL).call(this)}start(){S(this,Wh)?(S(this,Pr).signal.aborted||S(this,Pr).abort($f),Y(this,Pr,new Oy),ce(this,Jr,ib).call(this)):S(this,Zc)?(this.options.companionComm.restoreUploadFile(S(this,Xi),{uploadId:this.options.uploadId,key:this.options.key}),ce(this,Jr,ib).call(this)):ce(this,Jr,aL).call(this)}pause(){S(this,Pr).abort($f),Y(this,Pr,new Oy)}abort(e){e!=null&&e.really?ce(this,Jr,oL).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return S(this,fi)}}Pr=new WeakMap,ar=new WeakMap,fi=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Wh=new WeakMap,Kh=new WeakMap,Xc=new WeakMap,il=new WeakMap,Zc=new WeakMap,Gh=new WeakMap,Jc=new WeakMap,Qh=new WeakMap,Jr=new WeakSet,iL=function(){const e=S(this,Yi).size,n=typeof S(this,il)=="function"?S(this,il).call(this,S(this,Xi)):!!S(this,il);if(n&&e>S(this,Qh)){let r=Math.max(this.options.getChunkSize(S(this,Yi)),S(this,Qh)),i=Math.floor(e/r);i>S(this,Jc)&&(i=S(this,Jc),r=e/S(this,Jc)),Y(this,ar,Array(i));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const d=a;return S(this,Yi).slice(d,l)};if(S(this,ar)[o]={getData:c,onProgress:S(this,Yh).call(this,o),onComplete:S(this,Xh).call(this,o),shouldUseMultipart:n},S(this,Zc)){const d=a+r>e?e-a:r;S(this,ar)[o].setAsUploaded=()=>{S(this,ar)[o]=null,S(this,fi)[o].uploaded=d}}}}else Y(this,ar,[{getData:()=>S(this,Yi),onProgress:S(this,Yh).call(this,0),onComplete:S(this,Xh).call(this,0),shouldUseMultipart:n}]);Y(this,fi,S(this,ar).map(()=>({uploaded:0})))},aL=function(){this.options.companionComm.uploadFile(S(this,Xi),S(this,ar),S(this,Pr).signal).then(S(this,Xc),S(this,Gh)),Y(this,Wh,!0)},ib=function(){this.options.companionComm.resumeUploadFile(S(this,Xi),S(this,ar),S(this,Pr).signal).then(S(this,Xc),S(this,Gh))},Yh=new WeakMap,Xh=new WeakMap,oL=function(){S(this,Pr).abort(),this.options.companionComm.abortFileUpload(S(this,Xi)).catch(e=>this.options.log(e))};function sn(t){if(t!=null&&t.aborted)throw Q3("The operation was aborted",{cause:t.reason})}function ese(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Zh,Tr,Jh,em,tm,sm,ed,td,sd,nd,al,rd,Er,El,lL,ab;class tse{constructor(e,n,r,i){G(this,El);G(this,Zh);G(this,Tr,new WeakMap);G(this,Jh);G(this,em);G(this,tm);G(this,sm);G(this,ed);G(this,td);G(this,sd);G(this,nd);G(this,al);G(this,rd);G(this,Er);Y(this,td,e),Y(this,al,r),Y(this,Er,i),this.setOptions(n)}setOptions(e){const n=S(this,td);"abortMultipartUpload"in e&&Y(this,Zh,n.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&Y(this,Jh,n.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&Y(this,em,n.wrapPromiseFunction(e.signPart)),"listParts"in e&&Y(this,sm,n.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&Y(this,nd,n.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&Y(this,sd,e.retryDelays??[]),"uploadPartBytes"in e&&Y(this,rd,n.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&Y(this,tm,n.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,n){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=S(this,Tr).get(e.data),r==null)break;try{return await r}catch{}}const i=S(this,Jh).call(this,S(this,Er).call(this,e),n),a=()=>{if(e.data==null)throw new Error("File data is empty");i.abort(n.reason),S(this,Tr).delete(e.data)};return n.addEventListener("abort",a,{once:!0}),S(this,Tr).set(e.data,i),i.then(async o=>{if(n.removeEventListener("abort",a),S(this,al).call(this,e,o),e.data==null)throw new Error("File data is empty");S(this,Tr).set(e.data,o)},()=>{if(n.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");S(this,Tr).delete(e.data)}),i}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const n=S(this,Tr).get(e.data);if(n==null)return;S(this,Tr).delete(e.data),S(this,al).call(this,e,Object.create(null));let r;try{r=await n}catch{return}await S(this,Zh).call(this,S(this,Er).call(this,e),r)}async uploadFile(e,n,r){if(sn(r),n.length===1&&!n[0].shouldUseMultipart)return ce(this,El,ab).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);sn(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return sn(r),await S(this,nd).call(this,S(this,Er).call(this,e),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==$f&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,n){if(e.data==null)throw new Error("File data is empty");S(this,Tr).set(e.data,n)}async resumeUploadFile(e,n,r){if(sn(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return ce(this,El,ab).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);sn(r);const o=await S(this,sm).call(this,S(this,Er).call(this,e),{uploadId:i,key:a,signal:r},r).abortOn(r);sn(r);const l=await Promise.all(n.map((c,d)=>{var m;const u=d+1,h=o.find(({PartNumber:y})=>y===u);return h==null?this.uploadChunk(e,u,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:u,ETag:h.ETag})}));return sn(r),S(this,nd).call(this,S(this,Er).call(this,e),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,n,r,i){sn(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=S(this,sd).values(),c=S(this,sd).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){sn(i);const u=r.getData(),{onProgress:h,onComplete:m}=r;let y;try{y=await S(this,em).call(this,S(this,Er).call(this,e),{uploadId:a,key:o,partNumber:n,body:u,signal:i}).abortOn(i)}catch(b){const j=d();if(j==null||i.aborted)throw b;await new Promise(v=>setTimeout(v,j));continue}sn(i);try{return{PartNumber:n,...await S(this,rd).call(this,{signature:y,body:u,size:u.size,onProgress:h,onComplete:m,signal:i}).abortOn(i)}}catch(b){if(!await ce(this,El,lL).call(this,b,c))throw b}}}}Zh=new WeakMap,Tr=new WeakMap,Jh=new WeakMap,em=new WeakMap,tm=new WeakMap,sm=new WeakMap,ed=new WeakMap,td=new WeakMap,sd=new WeakMap,nd=new WeakMap,al=new WeakMap,rd=new WeakMap,Er=new WeakMap,El=new WeakSet,lL=async function(e,n){var a;const r=S(this,td),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||S(this,ed)==null){const o=n.next();if(o==null||o.done)return!1;Y(this,ed,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,S(this,ed)))}}else if(i===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},ab=async function(e,n,r){const{method:i="POST",url:a,fields:o,headers:l}=await S(this,tm).call(this,S(this,Er).call(this,e),{signal:r}).abortOn(r);let c;const d=n.getData();if(i.toUpperCase()==="POST"){const b=new FormData;Object.entries(o).forEach(([j,v])=>b.set(j,v)),b.set("file",d),c=b}else c=d;const{onProgress:u,onComplete:h}=n,m=await S(this,rd).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:u,onComplete:h,signal:r}).abortOn(r),y=o==null?void 0:o.key;return S(this,al).call(this,e,{key:y}),{...m,location:m.location??ese(a),bucket:o==null?void 0:o.bucket,key:y}};function Xl(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function k2(t){const e=t.Expiration;if(e){const n=Math.floor((new Date(e)-Date.now())/1e3);if(n>9)return n}}function P2({meta:t,allowedMetaFields:e,querify:n=!1}){const r=e??Object.keys(t);return t?Object.fromEntries(r.filter(i=>t[i]!=null).map(i=>{const a=n?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const sse={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var id,mn,Rs,lb,ka,Ar,cL,ax,ad,dL,uL,nm,od,ol,rm;const ox=class ox extends NM{constructor(n,r){super(n,{...sse,uploadPartBytes:ox.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});G(this,Rs);G(this,id);G(this,mn);T(this,"requests");T(this,"uploaderEvents");T(this,"uploaders");G(this,Ar);G(this,ax,(n,{key:r,uploadId:i})=>{const a=this.uppy.getFile(n.id);a!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});G(this,ad,n=>this.uppy.getFile(n.id)||n);G(this,nm,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),i=AX(r),a=FX(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;S(this,ol).call(this,!1);const u=new AbortController,h=y=>{y.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ce(this,Rs,uL).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),m}return ce(this,Rs,dL).call(this,c)}),l=await Promise.allSettled(o);return S(this,ol).call(this,!0),l});G(this,od,()=>{var n;(n=S(this,mn))==null||n.setCompanionHeaders(this.opts.headers)});G(this,ol,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});G(this,rm,()=>{S(this,ol).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ce(this,Rs,lb).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new KX(this.opts.limit),Y(this,id,new tse(this.requests,this.opts,S(this,ax),S(this,ad))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return S(this,mn)}setOptions(n){S(this,id).setOptions(n),super.setOptions(n),ce(this,Rs,lb).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){ce(this,Rs,ka).call(this,"createMultipartUpload"),sn(r);const i=EC(this.opts.allowedMetaFields,n.meta),a=P2({meta:n.meta,allowedMetaFields:i});return S(this,mn).post("s3/multipart",{filename:n.name,type:n.type,metadata:a},{signal:r}).then(Xl)}listParts(n,{key:r,uploadId:i,signal:a},o){a??(a=o),ce(this,Rs,ka).call(this,"listParts"),sn(a);const l=encodeURIComponent(r);return S(this,mn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Xl)}completeMultipartUpload(n,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),ce(this,Rs,ka).call(this,"completeMultipartUpload"),sn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return S(this,mn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(Xl)}async createSignedURL(n,r){const i=await ce(this,Rs,cL).call(this,r),a=k2(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Yte({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:i,partNumber:a,signal:o}){if(ce(this,Rs,ka).call(this,"signPart"),sn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return S(this,mn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Xl)}abortMultipartUpload(n,{key:r,uploadId:i,signal:a}){ce(this,Rs,ka).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return S(this,mn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Xl)}getUploadParameters(n,r){ce(this,Rs,ka).call(this,"getUploadParameters");const{meta:i}=n,{type:a,name:o}=i,l=EC(this.opts.allowedMetaFields,n.meta),c=P2({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return S(this,mn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(sn(u),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,m)=>{const y=new XMLHttpRequest;y.open(a,n,!0),i&&Object.keys(i).forEach(v=>{y.setRequestHeader(v,i[v])}),y.responseType="text",typeof r=="number"&&(y.timeout=r*1e3);function b(){y.abort()}function j(){u==null||u.removeEventListener("abort",b)}u==null||u.addEventListener("abort",b),y.upload.addEventListener("progress",v=>{c(v)}),y.addEventListener("abort",()=>{j(),m(Q3())}),y.addEventListener("timeout",()=>{j();const v=new Error("Request has expired");v.source={status:403},m(v)}),y.addEventListener("load",()=>{if(j(),y.status===403&&y.responseText.includes("<Message>Request has expired</Message>")){const N=new Error("Request has expired");N.source=y,m(N);return}if(y.status<200||y.status>=300){const N=new Error("Non 2xx");N.source=y,m(N);return}c==null||c({loaded:l,lengthComputable:!0});const v=y.getAllResponseHeaders().trim().split(/[\r\n]+/),p={__proto__:null};for(const N of v){const _=N.split(": "),C=_.shift(),k=_.join(": ");p[C]=k}const{etag:x,location:w}=p;if(a.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),x==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(x),h({...p,ETag:x})}),y.addEventListener("error",v=>{j();const p=new Error("Unknown error");p.source=v.target,m(p)}),y.send(o)})}install(){S(this,ol).call(this,!0),this.uppy.addPreProcessor(S(this,od)),this.uppy.addUploader(S(this,nm)),this.uppy.on("cancel-all",S(this,rm))}uninstall(){this.uppy.removePreProcessor(S(this,od)),this.uppy.removeUploader(S(this,nm)),this.uppy.off("cancel-all",S(this,rm))}};id=new WeakMap,mn=new WeakMap,Rs=new WeakSet,lb=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?Y(this,mn,new rL(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&S(this,od).call(this),"cookiesRule"in n&&(S(this,mn).opts.companionCookiesRule=n.cookiesRule)))},ka=function(n){if(!S(this,mn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Ar=new WeakMap,cL=async function(n){if(sn(n==null?void 0:n.signal),S(this,Ar)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(ce(this,Rs,ka).call(this,"getTemporarySecurityCredentials"),Y(this,Ar,S(this,mn).get("s3/sts",n).then(Xl))):Y(this,Ar,r(n)),Y(this,Ar,await S(this,Ar)),setTimeout(()=>{Y(this,Ar,null)},(k2(S(this,Ar).credentials)||0)*500)}return S(this,Ar)},ax=new WeakMap,ad=new WeakMap,dL=function(n){return new Promise((r,i)=>{const a=(u,h)=>{const m=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",n,u),this.resetUploaderReferences(n.id),i(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",S(this,ad).call(this,n),h),u.location&&this.uppy.log(`Download ${n.name} from ${u.location}`),r(void 0)};if(n.data==null)throw new Error("File data is empty");const c=new Jte(n.data,{companionComm:S(this,id),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",S(this,ad).call(this,n),u)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const d=new dZ(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,u=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${u} was removed`)}),d.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,u=>{u?c.pause():c.start()}),d.onPauseAll(n.id,()=>{c.pause()}),d.onResumeAll(n.id,()=>{c.start()}),c.start()})},uL=function(n){var r;return{..."remote"in n&&((r=n.remote)==null?void 0:r.body),protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},nm=new WeakMap,od=new WeakMap,ol=new WeakMap,rm=new WeakMap,T(ox,"VERSION",Wte.version);let ob=ox;function Hp({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:n,onComplete:r,buttonClassName:i,buttonVariant:a="default",buttonSize:o="default",children:l}){const[c,d]=f.useState(!1),[u]=f.useState(()=>new Bj({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(ob,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",h=>{r==null||r(h),d(!1)}));return s.jsxs("div",{children:[s.jsx(O,{onClick:()=>d(!0),className:i,variant:a,size:o,type:"button","data-testid":"button-open-upload-modal",children:l}),s.jsx(ts,{open:c,onOpenChange:d,children:s.jsx(Gt,{className:"max-w-2xl",children:s.jsx(Pte,{uppy:u,proudlyDisplayPoweredByUppy:!1})})})]})}const nse=Un({make:te().min(1,"Make is required"),model:te().min(1,"Model is required"),year:Yn.number().min(1900).max(new Date().getFullYear()+1),registration:te().min(1,"Registration is required"),category:te().min(1,"Category is required"),totalTime:Yn.number().min(0),engine:te().optional(),avionics:te().optional(),hourlyRate:te().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid price (e.g., 150 or 150.50)").min(1,"Hourly rate is required"),location:te().min(1,"Location is required"),airportCode:te().optional(),description:te().min(20,"Description must be at least 20 characters"),insuranceIncluded:ra().default(!0),wetRate:ra().default(!0),minFlightHours:Yn.number().min(0).default(0),serialNumber:te().min(1,"Serial number is required"),annualInspectionDate:te().optional(),annualSignerName:te().optional(),annualSignerCertNumber:te().optional(),requires100Hour:ra().default(!1),currentTach:Yn.number().optional(),hour100InspectionTach:Yn.number().optional(),maintenanceTrackingProvider:te().optional()});function T2(){const[t,e]=f.useState([]),[n,r]=f.useState(["PPL"]),[i,a]=f.useState({insuranceDoc:null,annualInspectionDoc:null}),[,o]=Zs(),{toast:l}=Bt(),{user:c}=ln(),d=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),u=async x=>{try{const w=[];for(const N of x.successful||[])if(N.uploadURL){const C=new URL(N.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:C,access:"publicRead"})});const k=N.uploadURL.split("?")[0];w.push(k)}w.length>0&&(e([...t,...w]),l({title:"Images uploaded successfully",description:`${w.length} image(s) added to your listing`}))}catch(w){console.error("Error processing aircraft image upload:",w),l({title:"Upload failed",description:"Failed to process the uploaded images. Please try again.",variant:"destructive"})}},h=Kn({resolver:Gn(nse),defaultValues:{insuranceIncluded:!0,wetRate:!0,minFlightHours:0,requires100Hour:!1}}),m=Ae({mutationFn:async({formData:x,hasFiles:w})=>{if(w){const N=await fetch("/api/aircraft",{method:"POST",body:x,credentials:"include"});if(!N.ok){const _=await N.json();throw new Error(_.error||"Submission failed")}return{data:await N.json(),hasVerificationDocs:w}}else return{data:await De("POST","/api/aircraft",x),hasVerificationDocs:!1}},onSuccess:x=>{_e.invalidateQueries({queryKey:["/api/aircraft"]}),x.hasVerificationDocs?l({title:"Listing Submitted",description:"Your aircraft listing is pending admin review. It will be visible in the marketplace once approved."}):l({title:"Aircraft Listed",description:"Your aircraft has been successfully listed and is now visible in the rental marketplace."}),o("/dashboard")},onError:x=>{if(K3(x)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(x.message.includes("403")||x.message.includes("verification")){l({title:"Verification Required",description:"Please complete account verification to list aircraft.",variant:"destructive"}),setTimeout(()=>{o("/profile")},1e3);return}l({title:"Error",description:x.message||"Failed to list aircraft",variant:"destructive"})}}),y=Ae({mutationFn:async x=>{const N=await(await De("POST","/api/generate-description",{listingType:"aircraft-rental",details:x})).json();return console.log("AI Response received:",N),N},onSuccess:x=>{console.log("Setting description to:",x.description),h.setValue("description",x.description,{shouldValidate:!0,shouldDirty:!0}),l({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:x=>{l({title:"Generation Failed",description:x.message||"Could not generate description",variant:"destructive"})}}),b=()=>{const x=h.getValues();if(!x.make||!x.model){l({title:"More Information Needed",description:"Please fill in at least the Make and Model to generate a description.",variant:"destructive"});return}y.mutate({make:x.make,model:x.model,year:x.year,category:x.category,engine:x.engine,avionics:x.avionics,totalTime:x.totalTime,location:x.location})},j=x=>{console.log("Form submitted with data:",x),console.log("Form errors:",h.formState.errors);const w=Object.values(i).some(_=>_!==null),N={...x,requiredCertifications:n,images:t.length>0?t:[]};if(w){const _=new FormData;_.append("listingData",JSON.stringify(N)),i.insuranceDoc&&_.append("insuranceDoc",i.insuranceDoc),i.annualInspectionDoc&&_.append("annualInspectionDoc",i.annualInspectionDoc),m.mutate({formData:_,hasFiles:!0})}else m.mutate({formData:N,hasFiles:!1})},v=["PPL","IR","CPL","Multi-Engine","ATP"],p=(c==null?void 0:c.isVerified)||!1;return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[!p&&s.jsxs(Dn,{className:"mb-6 border-yellow-500","data-testid":"alert-verification-info",children:[s.jsx(JB,{className:"h-4 w-4"}),s.jsxs(On,{children:[s.jsx("strong",{children:"Verification Recommended"})," - Verified aircraft listings get priority placement and build trust with renters. Visit your ",s.jsx("a",{href:"/profile",className:"underline font-medium",children:"profile page"})," to complete verification."]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-list-aircraft-title",children:"List Your Aircraft"}),s.jsx("p",{className:"text-muted-foreground",children:"Share your aircraft with the pilot community and earn income when you're not flying"})]}),s.jsx(Mr,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(j),className:"space-y-8",children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Aircraft Information"}),s.jsx(Re,{children:"Provide basic details about your aircraft"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:h.control,name:"make",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Make"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Cessna",...x,"data-testid":"input-make"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"model",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Model"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"172 Skyhawk",...x,"data-testid":"input-model"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{control:h.control,name:"year",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Year"}),s.jsx(ie,{children:s.jsx(W,{type:"number",placeholder:"2018",...x,"data-testid":"input-year"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"registration",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Registration"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"N12345",...x,"data-testid":"input-registration"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"category",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Category"}),s.jsxs(Ds,{onValueChange:x.onChange,defaultValue:x.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-category",children:s.jsx(Os,{placeholder:"Select category"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(we,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(we,{value:"Jet",children:"Jet"}),s.jsx(we,{value:"Turboprop",children:"Turboprop"}),s.jsx(we,{value:"Helicopter",children:"Helicopter"})]})]}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:h.control,name:"totalTime",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Total Time (hours)"}),s.jsx(ie,{children:s.jsx(W,{type:"number",placeholder:"2500",...x,"data-testid":"input-total-time"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"engine",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Engine"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Lycoming IO-360",...x,"data-testid":"input-engine"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:h.control,name:"avionics",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Avionics Suite"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Garmin G1000",...x,"data-testid":"input-avionics"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"description",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Describe your aircraft, its condition, features, and any special notes for renters...",className:"min-h-32",...x,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(Ss,{className:"flex-1",children:"Provide detailed information to help renters understand your aircraft"}),s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:b,disabled:y.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:y.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(K4,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(oe,{})]})})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Location"})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:h.control,name:"location",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Location"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Santa Monica, CA",...x,"data-testid":"input-location"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"airportCode",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Airport Code"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"SMO",...x,"data-testid":"input-airport-code"})}),s.jsx(oe,{})]})})]})})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Pricing & Requirements"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:h.control,name:"hourlyRate",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Hourly Rate ($)"}),s.jsx(ie,{children:s.jsx(W,{type:"number",placeholder:"145",...x,"data-testid":"input-hourly-rate"})}),s.jsx(Ss,{children:"Set your hourly rental rate. Ready Set Fly will collect 7.5% platform fee from both you and the renter."}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"minFlightHours",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Minimum Flight Hours"}),s.jsx(ie,{children:s.jsx(W,{type:"number",placeholder:"100",...x,"data-testid":"input-min-hours"})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{children:"Required Certifications"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map(x=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{id:`cert-${x}`,checked:n.includes(x),onCheckedChange:w=>{r(w?[...n,x]:n.filter(N=>N!==x))},"data-testid":`checkbox-required-cert-${x}`}),s.jsx("label",{htmlFor:`cert-${x}`,className:"text-sm cursor-pointer",children:x})]},x))})]}),s.jsx(ne,{control:h.control,name:"insuranceIncluded",render:({field:x})=>s.jsxs(J,{className:"flex items-center space-x-2",children:[s.jsx(ie,{children:s.jsx(As,{checked:x.value,onCheckedChange:x.onChange,"data-testid":"checkbox-insurance"})}),s.jsx(ee,{className:"!mt-0",children:"Insurance included in rate"})]})}),s.jsx(ne,{control:h.control,name:"wetRate",render:({field:x})=>s.jsxs(J,{className:"flex items-center space-x-2",children:[s.jsx(ie,{children:s.jsx(As,{checked:x.value,onCheckedChange:x.onChange,"data-testid":"checkbox-wet-rate"})}),s.jsx(ee,{className:"!mt-0",children:"Wet rate (fuel included)"})]})})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Owner & Aircraft Verification"}),s.jsx(Re,{children:"Provide insurance and annual inspection documentation for verification"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:h.control,name:"serialNumber",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Aircraft Serial Number"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Enter serial number",...x,"data-testid":"input-serial-number"})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Aircraft Insurance Certificate *"}),s.jsx(W,{type:"file",accept:"image/*,.pdf",onChange:x=>{var N;const w=(N=x.target.files)==null?void 0:N[0];w&&a(_=>({..._,insuranceDoc:w}))},"data-testid":"input-insurance-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload aircraft insurance certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Annual Inspection Certificate *"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[s.jsx(ne,{control:h.control,name:"annualInspectionDate",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Inspection Date"}),s.jsx(ie,{children:s.jsx(W,{type:"date",...x,"data-testid":"input-annual-date"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:h.control,name:"annualSignerName",render:({field:x})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Signer Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"A&P/IA name",...x,"data-testid":"input-signer-name"})}),s.jsx(oe,{})]})})]}),s.jsx(W,{type:"file",accept:"image/*,.pdf",onChange:x=>{var N;const w=(N=x.target.files)==null?void 0:N[0];w&&a(_=>({..._,annualInspectionDoc:w}))},"data-testid":"input-annual-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload annual inspection certificate"})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Photos"}),s.jsx(Re,{children:"Add up to 15 photos of your aircraft. Upload multiple images at once using cloud storage."})]}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.map((x,w)=>s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[s.jsx("img",{src:x,alt:`Aircraft ${w+1}`,className:"w-full h-full object-cover"}),s.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>e(t.filter((N,_)=>_!==w)),children:s.jsx(xm,{className:"h-4 w-4"})})]},w)),t.length<15&&s.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center gap-2",children:s.jsxs(Hp,{onGetUploadParameters:d,onComplete:u,maxNumberOfFiles:15-t.length,buttonClassName:"w-full h-full flex flex-col items-center justify-center gap-2",buttonVariant:"ghost",children:[s.jsx(pm,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photos"})]})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," of 15 photos uploaded"]})]})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(O,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:m.isPending,"data-testid":"button-submit-listing",children:m.isPending?"Listing...":"List Aircraft"}),s.jsx(O,{type:"button",variant:"outline",size:"lg","data-testid":"button-cancel-listing",onClick:()=>o("/dashboard"),children:"Cancel"})]})]})})]})})}const rse=nX.omit({userId:!0}).extend({category:te().min(1,"Category is required"),title:te().min(3,"Title must be at least 3 characters"),description:te().min(20,"Description must be at least 20 characters"),location:te().optional(),city:te().optional(),state:te().optional(),zipCode:te().optional(),contactEmail:te().email("Valid email required").min(1,"Contact email is required"),contactPhone:te().optional(),price:te().optional(),tier:Ys(["basic","standard","premium"]).optional()});Un({make:te().min(1,"Make is required"),model:te().min(1,"Model is required"),year:te().min(4,"Year is required"),registration:te().optional(),totalTime:te().optional(),engineTime:te().optional(),engineType:Ys(["Single-Engine","Multi-Engine","Turboprop","Jet"]).optional(),engineCount:te().optional(),seatingCapacity:te().optional(),avionicsPackage:te().optional(),usefulLoad:te().optional(),annualDueDate:te().optional(),interiorCondition:Ys(["excellent","good","fair","needs-work"]).optional(),exteriorCondition:Ys(["excellent","good","fair","needs-work"]).optional(),damageHistory:te().optional()});Un({jobTitle:te().min(1,"Job title is required"),company:te().min(1,"Company is required"),employmentType:te().min(1,"Employment type is required"),salaryRange:te().optional(),requirements:te().optional()});Un({instructorName:te().min(1,"Instructor name is required"),certifications:Xr(te()).min(1,"At least one certification required"),hourlyRate:te().optional(),specialties:te().optional()});Un({schoolName:te().min(1,"School name is required"),aircraftFleet:te().optional(),programsOffered:te().optional(),pricingInfo:te().optional()});Un({businessName:te().min(1,"Business name is required"),certifications:Xr(te()).optional(),specialties:te().optional(),serviceArea:te().optional()});Un({companyName:te().min(1,"Company name is required"),aircraftAvailable:te().optional(),serviceArea:te().optional(),pricingStructure:te().optional()});const ise=[{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"charter",label:"Charter Services"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight School"},{value:"mechanic",label:"Mechanic Services"},{value:"job",label:"Aviation Jobs"}];function E2(){const[,t]=Zs(),{toast:e}=Bt(),{user:n}=ln(),[r,i]=f.useState([]),[a,o]=f.useState(""),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(""),[y,b]=_x("/edit-marketplace-listing/:id"),j=y?b==null?void 0:b.id:null,{data:v,isLoading:p}=Ve({queryKey:["/api/marketplace",j],queryFn:async()=>{const E=await fetch(`/api/marketplace/${j}`);if(!E.ok)throw new Error("Failed to fetch listing");return E.json()},enabled:!!j&&y}),x=Kn({resolver:Gn(rse),defaultValues:{category:"",title:"",description:"",location:"",contactEmail:(n==null?void 0:n.email)||"",contactPhone:"",price:"",tier:"basic",details:{},images:[],isActive:!0}});f.useEffect(()=>{n!=null&&n.email&&!x.getValues("contactEmail")&&x.setValue("contactEmail",n.email)},[n==null?void 0:n.email,x]),f.useEffect(()=>{v&&y&&(x.reset({category:v.category,title:v.title||"",description:v.description||void 0,location:v.location||void 0,city:v.city||void 0,state:v.state||void 0,zipCode:v.zipCode||void 0,contactEmail:v.contactEmail||void 0,contactPhone:v.contactPhone||void 0,price:v.price||void 0,tier:v.tier||"basic",details:v.details||{},images:v.images||[],isActive:v.isActive===null?void 0:v.isActive}),v.images&&i(v.images))},[v,y,x]);const w=x.watch("category"),N=x.watch("details.tier"),C=((E,K)=>E==="aircraft-sale"?K==="basic"?3:K==="standard"?5:K==="premium"?10:3:E==="job"||E==="cfi"?1:E==="flight-school"||E==="mechanic"?3:5)(w,N),k=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),P=async E=>{try{const K=[];for(const de of E.successful||[])if(de.uploadURL){const F=await(await fetch("/api/listing-images",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageURL:de.uploadURL}),credentials:"include"})).json();K.push(F.objectPath)}i([...r,...K]),e({title:"Images Uploaded Successfully",description:`Added ${K.length} image(s) to your listing.`})}catch(K){console.error("Error processing uploads:",K),e({title:"Upload Error",description:"Some images failed to upload. Please try again.",variant:"destructive"})}},M=E=>{i(r.filter((K,de)=>de!==E))};f.useEffect(()=>{if(r.length>C){const E=r.slice(0,C);i(E),e({title:"Images Trimmed",description:`Reduced to ${C} images for this ${w==="aircraft-sale"?"tier":"category"}.`})}},[w,N,C,r,e]),n!=null&&n.isVerified;const R=async()=>{if(!a.trim()){c(null);return}u(!0);try{const K=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,category:w})})).json();c(K.valid),K.valid?e({title:"Promo Code Applied!",description:K.description||"You've unlocked a free 7-day listing!"}):e({title:"Invalid Promo Code",description:K.message||"This promo code is not valid",variant:"destructive"})}catch{c(!1),e({title:"Error",description:"Failed to validate promo code",variant:"destructive"})}finally{u(!1)}},L=Ae({mutationFn:async({listingType:E,details:K})=>{const B=await(await De("POST","/api/generate-description",{listingType:E,details:K})).json();return console.log("AI Response received:",B),B},onSuccess:E=>{console.log("Setting description to:",E.description),x.setValue("description",E.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:E=>{e({title:"Generation Failed",description:E.message||"Could not generate description",variant:"destructive"})}}),V=()=>{const E=x.getValues();if(!E.category){e({title:"Category Required",description:"Please select a category first.",variant:"destructive"});return}const K=h.trim()||E.title;if(!K){e({title:"Prompt Required",description:"Please enter either a title or an AI prompt.",variant:"destructive"});return}const B={"aircraft-sale":"aircraft-sale",job:"aviation-job",cfi:"cfi-listing","flight-school":"flight-school",mechanic:"mechanic",charter:"charter"}[E.category];L.mutate({listingType:B,details:{title:K,price:E.price,location:E.location,...E.details}})},Z=Ae({mutationFn:async E=>y&&j?await De("PATCH",`/api/marketplace/${j}`,E):await De("POST","/api/marketplace",E),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/marketplace"]}),j&&_e.invalidateQueries({queryKey:["/api/marketplace",j]}),e({title:"Success",description:y?"Your marketplace listing has been updated.":"Your marketplace listing has been created."}),t(y?"/my-listings":"/marketplace")},onError:E=>{if(K3(E)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(E.message.includes("403")||E.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to create listings.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:E.message||"Failed to create listing",variant:"destructive"})}}),se=E=>{var B,F,D,le,fe,qe,Ke,Ct,st,je;console.log("Form submitted with data:",E),console.log("Form errors:",x.formState.errors),console.log("User data:",n);let K=null;if(E.category==="aircraft-sale"?(!((B=E.details)!=null&&B.make)||!((F=E.details)!=null&&F.model)||!((D=E.details)!=null&&D.year))&&(K="Please fill in all required aircraft details (make, model, year)"):E.category==="job"?(!((le=E.details)!=null&&le.jobTitle)||!((fe=E.details)!=null&&fe.company)||!((qe=E.details)!=null&&qe.employmentType))&&(K="Please fill in all required job details (title, company, employment type)"):E.category==="cfi"?(Ke=E.details)!=null&&Ke.instructorName||(K="Please provide instructor name"):E.category==="flight-school"?(Ct=E.details)!=null&&Ct.schoolName||(K="Please provide school name"):E.category==="mechanic"?(st=E.details)!=null&&st.businessName||(K="Please provide business name"):E.category==="charter"&&((je=E.details)!=null&&je.companyName||(K="Please provide company name")),K){e({title:"Validation Error",description:K,variant:"destructive"});return}if(r.length>C){e({title:"Too Many Images",description:`Please reduce to ${C} images for this ${E.category==="aircraft-sale"?"tier":"category"}.`,variant:"destructive"});return}if(y&&j){console.log("Updating existing listing..."),Z.mutate({...E,price:E.price||void 0,images:r.length>0?r:[]});return}const de={...E,price:E.price||void 0,images:r.length>0?r:[],promoCode:l?a:void 0};localStorage.setItem("pendingListingData",JSON.stringify(de)),t("/marketplace/listing/checkout")};return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/marketplace"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Ex,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-page-title",children:y?"Edit Marketplace Listing":"Create Marketplace Listing"}),s.jsx("p",{className:"text-muted-foreground",children:y?"Update your listing details below":"List your services, aircraft for sale, job openings, or other aviation-related offerings"})]}),s.jsx(Mr,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(se,E=>{console.error("Form validation errors:",E);const K=Object.keys(E)[0],de=E[K];de&&typeof de=="object"&&"message"in de&&e({title:"Form Validation Error",description:String(de.message)||"Please check all required fields",variant:"destructive"})}),className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Basic Information"}),s.jsx(Re,{children:"Choose a category and provide details about your listing"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"category",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Category"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-category",children:s.jsx(Os,{placeholder:"Select a category"})})}),s.jsx(ks,{children:ise.map(K=>s.jsx(we,{value:K.value,children:K.label},K.value))})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"title",render:({field:E})=>{const K={"aircraft-sale":"e.g., 2018 Cessna 172 Skyhawk - Low Time",job:"e.g., Commercial Pilot - Regional Airline",cfi:"e.g., Experienced CFI - Instrument & Multi-Engine","flight-school":"e.g., ABC Flight Academy - Professional Pilot Training",mechanic:"e.g., Certified A&P Mechanic - Aircraft Maintenance",charter:"e.g., Luxury Charter Services - Citation Jet"};return s.jsxs(J,{children:[s.jsx(ee,{children:"Title"}),s.jsx(ie,{children:s.jsx(W,{placeholder:K[w]||"Enter a descriptive title",...E,"data-testid":"input-title"})}),s.jsx(oe,{})]})}}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"ai-prompt",children:"AI Prompt (Optional)"}),s.jsx(W,{id:"ai-prompt",placeholder:"e.g., Describe a well-maintained Cessna 172 with recent avionics upgrade",value:h,onChange:E=>m(E.target.value),"data-testid":"input-ai-prompt"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide specific details for AI to generate a description, or leave blank to use the title"})]}),s.jsx(ne,{control:x.control,name:"description",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Provide detailed information about your listing...",className:"min-h-[120px]",...E,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(Ss,{className:"flex-1",children:"Include all relevant details potential customers should know"}),s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:V,disabled:L.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:L.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(K4,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{control:x.control,name:"city",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"City (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., Denver",...E,"data-testid":"input-city"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"state",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"State (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., CO",...E,"data-testid":"input-state"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"zipCode",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"ZIP Code (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 80202",...E,"data-testid":"input-zipcode"})}),s.jsx(oe,{})]})})]}),w==="aircraft-sale"&&s.jsx(ne,{control:x.control,name:"price",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Asking Price (Optional)"}),s.jsx(ie,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{type:"number",placeholder:"0.00",className:"pl-10",...E,"data-testid":"input-price"})]})}),s.jsx(Ss,{children:"Leave blank if price varies or negotiable"}),s.jsx(oe,{})]})})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Contact Information"}),s.jsx(Re,{children:"How should interested parties reach you?"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"contactEmail",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Contact Email"}),s.jsx(ie,{children:s.jsx(W,{type:"email",placeholder:"your@email.com",...E,"data-testid":"input-contact-email"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"contactPhone",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Contact Phone (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"(555) 123-4567",...E,"data-testid":"input-contact-phone"})}),s.jsx(oe,{})]})})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Promo Code (Optional)"}),s.jsx(Re,{children:"Enter a promo code for a free 7-day listing or other discounts"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{placeholder:"Enter promo code",value:a,onChange:E=>{o(E.target.value.toUpperCase()),c(null)},"data-testid":"input-promo-code",className:"flex-1"}),s.jsx(O,{type:"button",onClick:R,disabled:!a.trim()||d,"data-testid":"button-check-promo",children:d?"Checking...":"Apply"})]}),l===!0&&s.jsx("div",{className:"mt-2 text-sm text-chart-2 flex items-center gap-1",children:" Promo code applied! Your listing is free for 7 days."}),l===!1&&s.jsx("div",{className:"mt-2 text-sm text-destructive flex items-center gap-1",children:" Invalid promo code"})]})]}),w&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Photos"}),s.jsxs(Re,{children:["Upload up to ",C," ",C===1?"photo":"photos",w==="aircraft-sale"?` (${N||"basic"} tier)`:"",w==="job"&&" - Company logo or branding",w==="cfi"&&" - Professional headshot"]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.map((E,K)=>s.jsxs("div",{className:"relative aspect-square rounded-md border overflow-hidden group",children:[s.jsx("img",{src:E,alt:`Upload ${K+1}`,className:"w-full h-full object-cover"}),s.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>M(K),"data-testid":`button-remove-image-${K}`,children:s.jsx(xm,{className:"h-3 w-3"})})]},K)),r.length<C&&s.jsxs(Hp,{maxNumberOfFiles:C-r.length,maxFileSize:10*1024*1024,onGetUploadParameters:k,onComplete:P,buttonClassName:"aspect-square rounded-md border-2 border-dashed flex flex-col items-center justify-center w-full h-full",buttonVariant:"ghost",children:[s.jsx(pm,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," of ",C," photos uploaded",w==="aircraft-sale"&&N&&s.jsx("span",{className:"ml-2 text-accent",children:"(Upgrade tier for more photos)"})]})]})]}),w==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Aircraft Details"}),s.jsx(Re,{children:"Specific information about the aircraft for sale"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.make",render:({field:E})=>s.jsxs(J,{children:[s.jsxs(ee,{className:"flex items-center gap-1",children:["Make ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., Cessna",...E,"data-testid":"input-aircraft-make",required:!0})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.model",render:({field:E})=>s.jsxs(J,{children:[s.jsxs(ee,{className:"flex items-center gap-1",children:["Model ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 172 Skyhawk",...E,"data-testid":"input-aircraft-model",required:!0})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.year",render:({field:E})=>s.jsxs(J,{children:[s.jsxs(ee,{className:"flex items-center gap-1",children:["Year ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 2018",...E,"data-testid":"input-aircraft-year",required:!0})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.registration",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Registration (N-Number)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., N12345",...E,"data-testid":"input-aircraft-registration"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.totalTime",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Total Time (hours)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 3500",...E,"data-testid":"input-aircraft-total-time"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.engineTime",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Engine Time (hours)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 500 SMOH",...E,"data-testid":"input-aircraft-engine-time"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.engineType",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Engine Type"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-aircraft-engine-type",children:s.jsx(Os,{placeholder:"Select engine type"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(we,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(we,{value:"Turboprop",children:"Turboprop"}),s.jsx(we,{value:"Jet",children:"Jet"})]})]}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.seats",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Number of Seats"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 4",...E,"data-testid":"input-aircraft-seats"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.usefulLoad",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Useful Load (lbs)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 1,200",...E,"data-testid":"input-aircraft-useful-load"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.avionicsPackage",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Avionics Package"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., Garmin G1000, dual GNS 430",...E,"data-testid":"input-aircraft-avionics"})}),s.jsx(Ss,{className:"text-xs",children:"Describe GPS, radios, autopilot, and other avionics"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.annualDue",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Annual Due Date"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., 12/2025",type:"month",...E,"data-testid":"input-aircraft-annual-due"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.interiorCondition",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Interior Condition"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-interior-condition",children:s.jsx(Os,{placeholder:"Select condition"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"excellent",children:"Excellent"}),s.jsx(we,{value:"good",children:"Good"}),s.jsx(we,{value:"fair",children:"Fair"}),s.jsx(we,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.exteriorCondition",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Exterior/Paint Condition"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-exterior-condition",children:s.jsx(Os,{placeholder:"Select condition"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"excellent",children:"Excellent"}),s.jsx(we,{value:"good",children:"Good"}),s.jsx(we,{value:"fair",children:"Fair"}),s.jsx(we,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(oe,{})]})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(ne,{control:x.control,name:"details.damageHistory",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Damage History"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., None, or describe any incidents",...E,"data-testid":"input-aircraft-damage-history"})}),s.jsx(Ss,{className:"text-xs",children:"Disclose any accident/incident history or major repairs"}),s.jsx(oe,{})]})})})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Listing Tier"}),s.jsx(Re,{children:"Choose your listing package"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"tier",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Select Tier"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-listing-tier",children:s.jsx(Os,{placeholder:"Select a tier"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"basic",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Basic - $25/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 3 photos"})]})}),s.jsx(we,{value:"standard",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Standard - $40/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 5 photos, priority placement"})]})}),s.jsx(we,{value:"premium",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Premium - $100/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 10 photos, featured on homepage"})]})})]})]}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tier Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Basic: Standard listing visibility"}),s.jsx("li",{children:"Standard: 2x visibility, priority in search results"}),s.jsx("li",{children:"Premium: 5x visibility, homepage feature, social media promotion"})]})]})]})]})]}),w==="job"&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Job Details"}),s.jsx(Re,{children:"Information about the aviation job opening"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.jobTitle",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Job Title"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., Commercial Pilot",...E,"data-testid":"input-job-title"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.company",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Company"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., ABC Airlines",...E,"data-testid":"input-job-company"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ne,{control:x.control,name:"details.employmentType",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Employment Type"}),s.jsxs(Ds,{onValueChange:E.onChange,defaultValue:E.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-employment-type",children:s.jsx(Os,{placeholder:"Select type"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"full-time",children:"Full-time"}),s.jsx(we,{value:"part-time",children:"Part-time"}),s.jsx(we,{value:"contract",children:"Contract"}),s.jsx(we,{value:"temporary",children:"Temporary"})]})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.salaryRange",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Salary Range (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., $60k-$80k",...E,"data-testid":"input-salary-range"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:x.control,name:"details.requirements",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Requirements (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"List qualifications and requirements...",className:"min-h-[80px]",...E,"data-testid":"textarea-job-requirements"})}),s.jsx(oe,{})]})})]})]}),w==="cfi"&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"CFI Details"}),s.jsx(Re,{children:"Information about your flight instruction services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"details.instructorName",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Instructor Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Your name",...E,"data-testid":"input-instructor-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.hourlyRate",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Hourly Rate (Optional)"}),s.jsx(ie,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{type:"number",placeholder:"0.00",className:"pl-10",...E,"data-testid":"input-cfi-hourly-rate"})]})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.specialties",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Specialties (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"e.g., Instrument training, tailwheel, aerobatics...",className:"min-h-[80px]",...E,"data-testid":"textarea-cfi-specialties"})}),s.jsx(oe,{})]})})]})]}),w==="flight-school"&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Flight School Details"}),s.jsx(Re,{children:"Information about your flight school"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"details.schoolName",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"School Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., ABC Flight Academy",...E,"data-testid":"input-school-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.aircraftFleet",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Aircraft Fleet (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"List your training aircraft...",className:"min-h-[80px]",...E,"data-testid":"textarea-aircraft-fleet"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.programsOffered",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Programs Offered (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"e.g., Private Pilot, Instrument Rating, Commercial...",className:"min-h-[80px]",...E,"data-testid":"textarea-programs-offered"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.pricingInfo",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Pricing Information (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Describe your pricing structure...",className:"min-h-[80px]",...E,"data-testid":"textarea-pricing-info"})}),s.jsx(oe,{})]})})]})]}),w==="mechanic"&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Mechanic Services"}),s.jsx(Re,{children:"Information about your aviation maintenance services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"details.businessName",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Business Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., ABC Aviation Maintenance",...E,"data-testid":"input-business-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.specialties",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Specialties (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"e.g., Piston engines, avionics, annuals...",className:"min-h-[80px]",...E,"data-testid":"textarea-mechanic-specialties"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.serviceArea",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Service Area (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., Southern California",...E,"data-testid":"input-service-area"})}),s.jsx(oe,{})]})})]})]}),w==="charter"&&s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Charter Services"}),s.jsx(Re,{children:"Information about your charter operation"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ne,{control:x.control,name:"details.companyName",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Company Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., ABC Charter Services",...E,"data-testid":"input-charter-company-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.aircraftAvailable",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Aircraft Available (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"List your charter aircraft...",className:"min-h-[80px]",...E,"data-testid":"textarea-charter-aircraft"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.serviceArea",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Service Area (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"e.g., West Coast, USA",...E,"data-testid":"input-charter-service-area"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:x.control,name:"details.pricingStructure",render:({field:E})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Pricing Structure (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Describe your charter rates...",className:"min-h-[80px]",...E,"data-testid":"textarea-charter-pricing"})}),s.jsx(oe,{})]})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(O,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:Z.isPending||y&&p,"data-testid":"button-submit-listing",children:p?"Loading...":Z.isPending?y?"Updating...":"Creating...":y?"Update Listing":"Create Listing"}),s.jsx(O,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/marketplace"),"data-testid":"button-cancel",children:"Cancel"})]})]})})]})}const ase={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40},Zl=.0825,ru=(t,e)=>{const n=ase[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25},ose=({listingData:t,onSuccess:e,isFree:n,promoCode:r,discountAmount:i,originalAmount:a,finalAmount:o,completionToken:l,isUpgradeMode:c,upgradeContext:d})=>{const{toast:u}=Bt(),[h,m]=f.useState(!1),[y,b]=f.useState(!1),[j,v]=f.useState(null),p=f.useRef(null);f.useEffect(()=>{fetch("/api/paypal/config").then(N=>N.json()).then(N=>v(N)).catch(N=>{console.error("Failed to fetch PayPal config:",N),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),f.useEffect(()=>{if(!j)return;const N=async()=>{if(window.paypal){_();return}const C=document.createElement("script");C.src=`https://www.paypal.com/sdk/js?client-id=${j.clientId}&components=card-fields&disable-funding=paylater`,C.async=!0,C.onload=()=>{_()},C.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(C)},_=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const C=window.paypal.CardFields({createOrder:async()=>{const k=c?"/api/paypal/create-order-upgrade":"/api/paypal/create-order-listing",P=c?{listingId:d.listingId,newTier:d.newTier}:{category:t.category,tier:t.tier,promoCode:r||null,discountAmount:i?i.toString():null,finalAmount:o?o.toString():null};return(await(await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(P)})).json()).id},onApprove:async k=>{m(!0);try{const P=await fetch(`/api/paypal/capture-order/${k.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),M=await P.json();if(!P.ok||M.status!=="COMPLETED")throw new Error("Payment capture failed");u({title:"Payment Successful",description:"Your listing is being created!"});const R={...t,transactionId:k.orderID};localStorage.setItem("pendingListingData",JSON.stringify(R)),e(k.orderID)}catch(P){u({title:"Payment Failed",description:P.message||"An unexpected error occurred",variant:"destructive"}),m(!1)}},onError:k=>{console.error("PayPal error:",k),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),m(!1)}});C.isEligible()?(C.NumberField().render("#card-number-field"),C.ExpiryField().render("#card-expiry-field"),C.CVVField().render("#card-cvv-field"),C.NameField().render("#card-name-field"),p.current=C,b(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(C){console.error("Error initializing card fields:",C),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};N()},[j,t.category,t.tier]);const x=async N=>{if(N.preventDefault(),!!p.current){m(!0);try{await p.current.submit()}catch(_){u({title:"Payment failed",description:_.message||"Please check your card details and try again",variant:"destructive"}),m(!1)}}},w=async()=>{m(!0);try{const N=await De("POST","/api/marketplace/complete-free-listing",{completionToken:l,listingData:t});u({title:"Success",description:"Your free listing has been created!"}),e("FREE-ORDER")}catch(N){u({title:"Failed to create listing",description:N.message||"An unexpected error occurred",variant:"destructive"})}finally{m(!1)}};return n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:" 100% Discount Applied!"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your listing is completely free with the applied promo code."})]}),s.jsx(O,{onClick:w,size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:h,"data-testid":"button-claim-free-listing",children:h?"Creating Listing...":"Claim Free Listing"})]}):s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(O,{type:"submit",size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:!y||h,"data-testid":"button-confirm-payment",children:h?"Processing...":"Confirm Payment"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})};function lse(){var B;const[t,e]=Zs(),[,n]=_x("/marketplace/listing/checkout"),[r,i]=f.useState(null),[a,o]=f.useState(!1),[l,c]=f.useState(null),{toast:d}=Bt(),[u,h]=f.useState(""),[m,y]=f.useState(null),[b,j]=f.useState(!1),[v,p]=f.useState(""),[x,w]=f.useState(0),[N,_]=f.useState(0),[C,k]=f.useState(null),[P,M]=f.useState(!1),[R,L]=f.useState(null);f.useEffect(()=>{if(new URLSearchParams(window.location.search).get("mode")==="upgrade"){o(!0);const le=localStorage.getItem("upgradeContext");if(!le){d({title:"Error",description:"No upgrade data found. Please try again.",variant:"destructive"}),e("/my-listings");return}const fe=JSON.parse(le);c(fe),_(fe.totalWithTax)}else{const le=localStorage.getItem("pendingListingData");if(!le){d({title:"Error",description:"No listing data found. Please try again.",variant:"destructive"}),e("/create-marketplace-listing");return}const fe=JSON.parse(le);i(fe)}},[e,d]),f.useEffect(()=>{if(a||!r)return;const F=localStorage.getItem("adminFreeListingGrant");if(F)try{const D=JSON.parse(F);if(!(D!=null&&D.token))return;const le=ru(r.category,r.tier),fe=le*Zl,qe=le+fe;L(D),k(D.token),y({code:"ADMIN-FREE",description:`Admin free listing (${D.durationDays||30} days)`,discountType:"fixed",discountValue:qe.toString()}),h("ADMIN-FREE"),w(qe),_(0),M(!0)}catch(D){console.error("Failed to apply admin free grant:",D)}},[a,r]),f.useEffect(()=>{r!=null&&r.promoCode&&!m&&!P&&(Z(r.promoCode),M(!0))},[r==null?void 0:r.promoCode,m,P]);const V=async F=>{if(a&&l){try{await De("POST",`/api/marketplace/${l.listingId}/complete-upgrade`,{orderId:F,newTier:l.newTier}),localStorage.removeItem("upgradeContext"),_e.invalidateQueries({queryKey:["/api/marketplace"]}),_e.invalidateQueries({queryKey:["/api/marketplace",l.listingId]}),d({title:"Upgrade Successful",description:"Your listing has been upgraded to "+l.newTier+" tier!"}),e("/my-listings")}catch(D){d({title:"Upgrade Failed",description:D.message||"Could not complete upgrade. Please contact support.",variant:"destructive"})}return}if(!(!r||!F)){if(F==="FREE-ORDER"){localStorage.removeItem("pendingListingData"),localStorage.removeItem("adminFreeListingGrant"),L(null),_e.invalidateQueries({queryKey:["/api/marketplace"]}),e("/marketplace");return}try{const D=ru(r.category,r.tier),le=D*Zl,fe=D+le,qe={...r,paymentIntentId:F,promoCodeUsed:(m==null?void 0:m.code)||null,discountAmount:x.toString(),originalAmount:fe.toString(),finalAmount:(N||fe).toString()};await De("POST","/api/marketplace",qe),localStorage.removeItem("pendingListingData"),_e.invalidateQueries({queryKey:["/api/marketplace"]}),d({title:"Success",description:"Your marketplace listing has been created!"}),e("/marketplace")}catch(D){d({title:"Listing Creation Failed",description:D.message||"Could not create listing. Please contact support.",variant:"destructive"})}}},Z=async F=>{if(j(!0),p(""),R){p("Admin free grant is applied. Remove it before adding another code."),j(!1);return}if(!r&&!l){p("Listing details not loaded yet"),j(!1);return}const D=(F??u).trim();if(!D){p("Please enter a promo code"),j(!1);return}const le=D.toUpperCase();h(le);try{const fe=ru(r.category,r.tier),qe=fe*Zl,Ke=fe+qe,st=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:le,context:"marketplace",amount:Ke})})).json();if(!st.valid)throw new Error(st.message||"Invalid promo code");y(st);let je=0;st.discountType==="percentage"?je=Ke*parseFloat(st.discountValue)/100:st.discountType==="fixed"&&(je=parseFloat(st.discountValue)),w(je);const $e=Math.max(0,Ke-je);_($e),d({title:"Promo Code Applied",description:st.description||"Discount applied successfully!"})}catch(fe){p(fe.message)}finally{j(!1)}},se=()=>{y(null),h(""),w(0),_(0),p(""),k(null),R&&(L(null),localStorage.removeItem("adminFreeListingGrant"))};if(f.useEffect(()=>{if(!R&&m&&N===0&&r){const F=ru(r.category,r.tier),D=F*Zl,le=F+D,fe={type:"free-marketplace-listing",userId:"CURRENT_USER",promoCode:m.code,originalAmount:le.toString(),discountAmount:x.toString(),timestamp:Date.now()},qe=btoa(JSON.stringify(fe));k(qe)}},[m,N,x,r]),!r&&!l)return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})});let E,K,de;if(a&&l)E=l.upgradeDelta,K=E*Zl,de=l.totalWithTax;else if(r)E=ru(r.category,r.tier),K=E*Zl,de=E+K;else return null;return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>e(a?"/my-listings":"/create-marketplace-listing"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Ex,{className:"mr-2 h-4 w-4"}),a?"Back to My Listings":"Back to Listing"]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{className:"flex items-center gap-2",children:a?"Complete Upgrade Payment":"Complete Your Payment"}),s.jsx(Re,{children:"Secure payment powered by PayPal"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:a?"Upgrade Summary":"Order Summary"}),a&&l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing:"}),s.jsx("span",{className:"font-medium",children:l.listingTitle})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Current Tier:"}),s.jsx("span",{className:"capitalize",children:l.currentTier})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"New Tier:"}),s.jsx("span",{className:"capitalize font-medium text-primary",children:l.newTier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Upgrade Fee:"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",K.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",de.toFixed(2)]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing Type:"}),s.jsx("span",{className:"capitalize",children:(B=r==null?void 0:r.category)==null?void 0:B.replace("-"," ")})]}),(r==null?void 0:r.tier)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tier:"}),s.jsx("span",{className:"capitalize",children:r.tier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Base Price:"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",K.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total (Monthly):"}),s.jsxs("span",{children:["$",de.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Promo Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{placeholder:"Enter promo code",value:u,onChange:F=>h(F.target.value.toUpperCase()),disabled:m!==null||R!==null,"data-testid":"input-promo-code"}),m?s.jsx(O,{variant:"outline",onClick:se,"data-testid":"button-remove-promo",children:"Remove"}):s.jsx(O,{onClick:()=>Z(),disabled:!u||b,"data-testid":"button-apply-promo",children:b?"Applying...":"Apply"})]}),m&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:['Promo code "',m.code,'" applied! ',m.description]}),R&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:["Admin free grant active (",R.durationDays||30," days). Checkout will publish without payment."]}),v&&s.jsx("div",{className:"text-sm text-destructive",children:v})]}),m&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Original Total:"}),s.jsxs("span",{className:"line-through",children:["$",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",x.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",N.toFixed(2)]})]})]}),s.jsx(ose,{listingData:r||{},onSuccess:V,isFree:m!==null&&N===0,promoCode:(m==null?void 0:m.code)||null,discountAmount:x,originalAmount:de,finalAmount:N||de,completionToken:C,isUpgradeMode:a,upgradeContext:l}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your payment information is securely processed by PayPal. We never store your card details."})]})]})]})}function cse({rental:t,aircraft:e,onSuccess:n}){const[r,i]=f.useState(!1),[a,o]=f.useState(!1),[l,c]=f.useState(null),d=f.useRef(null),{toast:u}=Bt();f.useEffect(()=>{fetch("/api/paypal/config").then(m=>m.json()).then(m=>c(m)).catch(m=>{console.error("Failed to fetch PayPal config:",m),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),f.useEffect(()=>{if(!l)return;const m=async()=>{if(window.paypal){y();return}const b=document.createElement("script");b.src=`https://www.paypal.com/sdk/js?client-id=${l.clientId}&components=card-fields&disable-funding=paylater`,b.async=!0,b.onload=()=>{y()},b.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(b)},y=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const b=window.paypal.CardFields({createOrder:async()=>(await(await fetch("/api/paypal/create-order-rental",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:parseFloat(t.totalCostRenter),rentalId:t.id})})).json()).id,onApprove:async j=>{i(!0);try{const v=await fetch(`/api/paypal/capture-order/${j.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),p=await v.json();if(!v.ok||p.status!=="COMPLETED")throw new Error("Payment capture failed");if(!(await fetch(`/api/rentals/${t.id}/complete-payment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({transactionId:j.orderID})})).ok)throw new Error("Failed to complete rental");u({title:"Payment successful!",description:"Your rental is now active. Safe flying!"}),n()}catch(v){u({title:"Payment failed",description:v.message||"Please try again",variant:"destructive"}),i(!1)}},onError:j=>{console.error("PayPal error:",j),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),i(!1)}});b.isEligible()?(b.NumberField().render("#card-number-field"),b.ExpiryField().render("#card-expiry-field"),b.CVVField().render("#card-cvv-field"),b.NameField().render("#card-name-field"),d.current=b,o(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(b){console.error("Error initializing card fields:",b),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};m()},[l,t.id,t.totalCostRenter]);const h=async m=>{if(m.preventDefault(),!!d.current){i(!0);try{await d.current.submit()}catch(y){u({title:"Payment failed",description:y.message||"Please check your card details and try again",variant:"destructive"}),i(!1)}}};return s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(O,{type:"submit",disabled:!a||r,className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg","data-testid":"button-submit-payment",children:r?"Processing...":`Pay $${parseFloat(t.totalCostRenter).toFixed(2)}`}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})}function dse(){const[,t]=_x("/rental-payment/:id"),[,e]=Zs();Bt();const{data:n}=Ve({queryKey:["/api/rentals",t==null?void 0:t.id],queryFn:async()=>{const i=await fetch(`/api/rentals/${t==null?void 0:t.id}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch rental");return i.json()},enabled:!!(t!=null&&t.id)}),{data:r}=Ve({queryKey:["/api/aircraft",n==null?void 0:n.aircraftId],queryFn:async()=>{const i=await fetch(`/api/aircraft/${n==null?void 0:n.aircraftId}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch aircraft");return i.json()},enabled:!!(n!=null&&n.aircraftId)});return!n||!r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading rental details..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-8","data-testid":"text-payment-title",children:"Complete Your Rental Payment"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Rental Summary"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[r.year," ",r.make," ",r.model]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.registration})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lo,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[parseFloat(n.estimatedHours)," estimated flight hours"]})})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Base cost"}),s.jsxs("span",{children:["$",parseFloat(n.baseCost).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{children:["$",parseFloat(n.salesTax).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{children:["$",parseFloat(n.platformFeeRenter).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{children:["$",parseFloat(n.processingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",parseFloat(n.totalCostRenter).toFixed(2)]})]})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{children:"Payment Information"})}),s.jsx(U,{children:s.jsx(cse,{rental:n,aircraft:r,onSuccess:()=>e("/dashboard")})})]})]})]})})})}const use=40,hse={"1month":{label:"1 Month",months:1,monthlyRate:75,totalPrice:75,description:"Entry-level, test water"},"3months":{label:"3 Months",months:3,monthlyRate:60,totalPrice:180,description:"Most purchased",badge:"Popular"},"6months":{label:"6 Months",months:6,monthlyRate:50,totalPrice:300,description:"Best long-term value",badge:"Best Value"},"12months":{label:"12 Months",months:12,monthlyRate:45,totalPrice:540,description:"Commitment tier"}};function iu(t,e=!0){const n=hse[t],r=n.totalPrice,i=e?use:0,a=r+i;return{tier:t,monthlyRate:n.monthlyRate,months:n.months,subscriptionTotal:r,creationFee:i,grandTotal:a,label:n.label,description:n.description,badge:"badge"in n?n.badge:void 0}}const mse={LAUNCH2025:{code:"LAUNCH2025",description:"Launch promotion - Free ad creation + 20% off subscription",creationFeeDiscount:100,subscriptionDiscount:20,isPercentage:!0,validFrom:new Date("2025-01-01"),validUntil:null,isActive:!0}};function hL(t){const e=t.trim().toUpperCase(),n=mse[e];if(!n||!n.isActive)return null;const r=new Date;return r<n.validFrom||n.validUntil&&r>n.validUntil?null:n}function A2(t,e,n){if(!n)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};const r=hL(n);if(!r)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};let i=0;r.isPercentage?i=t*r.creationFeeDiscount/100:i=Math.min(r.creationFeeDiscount,t);let a=0;r.isPercentage?a=e*r.subscriptionDiscount/100:a=Math.min(r.subscriptionDiscount,e);const o=i+a,l=t-i,c=e-a,d=l+c;return{creationFeeDiscount:i,subscriptionDiscount:a,totalDiscount:o,finalCreationFee:l,finalSubscriptionTotal:c,finalGrandTotal:d}}function fse({userId:t,open:e,onOpenChange:n}){var de,B;const[r,i]=f.useState("profile"),[a,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(null),[y,b]=f.useState("7"),{toast:j}=Bt(),{data:v,isLoading:p}=Ve({queryKey:["/api/admin/users",t],enabled:e&&!!t}),{data:x=[],isLoading:w}=Ve({queryKey:["/api/admin/users",t,"aircraft"],enabled:e&&!!t}),{data:N=[],isLoading:_}=Ve({queryKey:["/api/admin/users",t,"marketplace"],enabled:e&&!!t}),{data:C=[],isLoading:k}=Ve({queryKey:["/api/admin/users",t,"verifications"],enabled:e&&!!t}),P=Ae({mutationFn:async F=>await De("POST",`/api/admin/users/${F}/reset-password`,{}),onSuccess:()=>{j({title:"Password Reset Email Sent",description:"The user will receive an email with password reset instructions."})},onError:()=>{j({title:"Error",description:"Failed to send password reset email. Please try again.",variant:"destructive"})}}),M=Ae({mutationFn:async({userId:F,field:D,value:le})=>await De("PATCH",`/api/admin/users/${F}`,{[D]:le}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/users",t]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),j({title:"User Updated",description:"User verification status has been updated."})}}),R=Ae({mutationFn:async({userId:F,isAdmin:D})=>await De("PATCH",`/api/admin/users/${F}`,{isAdmin:D}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/users",t]}),_e.invalidateQueries({queryKey:["/api/admin/users"]}),j({title:"Admin Status Updated",description:"User admin privileges have been updated."})}}),L=Ae({mutationFn:async({listingId:F,durationDays:D})=>await De("POST",`/api/admin/marketplace/${F}/grant-promo`,{durationDays:D}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/users",t,"marketplace"]}),_e.invalidateQueries({queryKey:["/api/admin/marketplace"]}),j({title:"Promotional Free Time Granted",description:"The listing has been granted free promotional time."}),u(!1),m(null),b("7")},onError:()=>{j({title:"Error",description:"Failed to grant promotional free time. Please try again.",variant:"destructive"})}});if(!v&&!p)return null;const V=()=>{!t||!confirm("Are you sure you want to send a password reset email to this user?")||P.mutate(t)},Z=(F,D)=>{t&&M.mutate({userId:t,field:F,value:!D})},se=()=>{!t||!v||confirm(`Are you sure you want to ${v.isAdmin?"remove":"grant"} admin privileges for this user?`)&&R.mutate({userId:t,isAdmin:!v.isAdmin})},E=F=>{if(!F)return{status:"no-date",label:"No expiration date",variant:"secondary"};const D=new Date(F),le=new Date,fe=Math.ceil((D.getTime()-le.getTime())/(1e3*60*60*24));return fe<0?{status:"expired",label:`Expired ${Math.abs(fe)} days ago`,variant:"destructive"}:fe<=7?{status:"critical",label:`Expires in ${fe} days`,variant:"destructive"}:fe<=30?{status:"warning",label:`Expires in ${fe} days`,variant:"outline"}:{status:"valid",label:`Valid for ${fe} days`,variant:"default"}},K=F=>({renter_identity:"Identity Verification",renter_payment:"Payment Verification",renter_pilot:"Pilot License",owner_aircraft:"Aircraft Ownership",owner_maintenance:"Maintenance Records"})[F]||F;return s.jsxs(ts,{open:e,onOpenChange:n,children:[s.jsx(Gt,{className:"max-w-6xl max-h-[95vh] overflow-y-auto","data-testid":"modal-admin-user",children:p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):v?s.jsxs(s.Fragment,{children:[s.jsx(os,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(Ci,{className:"h-16 w-16",children:[s.jsx(_i,{src:v.profileImageUrl||void 0}),s.jsxs(ki,{className:"text-lg",children:[(de=v.firstName)==null?void 0:de[0],(B=v.lastName)==null?void 0:B[0]]})]}),s.jsxs("div",{children:[s.jsxs(ls,{className:"font-display text-2xl",children:[v.firstName," ",v.lastName]}),s.jsxs(ps,{className:"flex items-center gap-2 mt-1",children:[s.jsx(xd,{className:"h-4 w-4"}),v.email]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.isAdmin&&s.jsx(Q,{variant:"default",children:"Admin"}),v.isSuperAdmin&&s.jsx(Q,{variant:"default",children:"Super Admin"}),v.isVerified&&s.jsx(Q,{variant:"secondary",children:"Verified"}),v.identityVerified&&s.jsx(Q,{variant:"secondary",children:"Identity Verified"}),v.faaVerified&&s.jsx(Q,{variant:"secondary",children:"FAA Verified"})]})]})]})})}),s.jsxs(Ld,{value:r,onValueChange:i,className:"mt-4",children:[s.jsxs(Ml,{className:"grid w-full grid-cols-4",children:[s.jsxs(_t,{value:"profile","data-testid":"tab-user-profile",children:[s.jsx(wn,{className:"h-4 w-4 mr-2"}),"Profile"]}),s.jsxs(_t,{value:"aircraft","data-testid":"tab-user-aircraft",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Aircraft (",x.length,")"]}),s.jsxs(_t,{value:"marketplace","data-testid":"tab-user-marketplace",children:[s.jsx(uu,{className:"h-4 w-4 mr-2"}),"Listings (",N.length,")"]}),s.jsxs(_t,{value:"admin-actions","data-testid":"tab-admin-actions",children:[s.jsx(jS,{className:"h-4 w-4 mr-2"}),"Admin Actions"]})]}),s.jsx(At,{value:"profile",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Personal Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsxs("div",{className:"text-base",children:[v.firstName," ",v.lastName]})]}),(v.legalFirstName||v.legalLastName)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Legal Name"}),s.jsxs("div",{className:"text-base",children:[v.legalFirstName," ",v.legalLastName]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(xd,{className:"h-4 w-4"}),v.email,v.emailVerified&&s.jsx(fs,{className:"h-4 w-4 text-chart-2"})]})]}),v.phone&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(fp,{className:"h-4 w-4"}),L5(v.phone),v.phoneVerified&&s.jsx(fs,{className:"h-4 w-4 text-chart-2"})]})]}),v.dateOfBirth&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),s.jsx("div",{className:"text-base",children:v.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),s.jsx("div",{className:"text-xs font-mono",children:v.id})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Pilot Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Flight Hours"}),s.jsxs("div",{className:"text-base font-semibold",children:[v.totalFlightHours||0," hours"]})]}),v.certifications&&v.certifications.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.certifications.map((F,D)=>s.jsx(Q,{variant:"outline",children:F},D))})]}),v.faaCertificateNumber&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Certificate Number"}),s.jsx("div",{className:"text-base font-mono",children:v.faaCertificateNumber})]}),v.aircraftTypesFlown&&v.aircraftTypesFlown.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Aircraft Types Flown"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.aircraftTypesFlown.map((F,D)=>s.jsx(Q,{variant:"outline",children:F},D))})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Verification Status"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),v.identityVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),v.faaVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Verified"}),v.paymentVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Email Verified"}),v.emailVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Phone Verified"}),v.phoneVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),v.licenseVerified?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Financial Information"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Method On File"}),v.paymentMethodOnFile?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"PayPal Account Connected"}),v.paypalEmail?s.jsx(fs,{className:"h-5 w-5 text-chart-2"}):s.jsx(zn,{className:"h-5 w-5 text-muted-foreground"})]}),v.paypalEmail&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-3",children:"PayPal Email"}),s.jsx("div",{className:"text-xs",children:v.paypalEmail})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(dl,{className:"h-4 w-4"}),v.averageRating||"N/A"," (",v.totalReviews||0," reviews)"]})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[s.jsx(Zn,{className:"h-5 w-5"}),"Uploaded Documents"]})}),s.jsx(U,{children:k?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"Loading documents..."}):C.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No verification documents uploaded"}):s.jsx("div",{className:"space-y-4",children:C.map(F=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:K(F.type)}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Submitted ",F.createdAt?new Date(F.createdAt).toLocaleDateString():"N/A"]})]}),s.jsx(Q,{variant:F.status==="approved"?"default":F.status==="rejected"?"destructive":"secondary",children:F.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[F.pilotLicenseExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pilot License"}),s.jsx(Q,{variant:E(F.pilotLicenseExpiresAt.toString()).variant,className:"w-fit",children:E(F.pilotLicenseExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.pilotLicenseExpiresAt).toLocaleDateString()]})]}),F.medicalCertExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Medical Certificate"}),s.jsx(Q,{variant:E(F.medicalCertExpiresAt.toString()).variant,className:"w-fit",children:E(F.medicalCertExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.medicalCertExpiresAt).toLocaleDateString()]})]}),F.insuranceExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Insurance"}),s.jsx(Q,{variant:E(F.insuranceExpiresAt.toString()).variant,className:"w-fit",children:E(F.insuranceExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.insuranceExpiresAt).toLocaleDateString()]})]}),F.governmentIdExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Government ID"}),s.jsx(Q,{variant:E(F.governmentIdExpiresAt.toString()).variant,className:"w-fit",children:E(F.governmentIdExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.governmentIdExpiresAt).toLocaleDateString()]})]})]}),F.documentUrls&&F.documentUrls.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Documents:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:F.documentUrls.map((D,le)=>s.jsx(O,{size:"sm",variant:"outline",asChild:!0,"data-testid":`button-view-document-${le}`,children:s.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[s.jsx(hp,{className:"h-3 w-3"}),s.jsxs("span",{children:["View Document ",le+1]}),s.jsx(z4,{className:"h-3 w-3"})]})},le))})]}),F.reviewNotes&&s.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Admin Notes:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:F.reviewNotes})]})]},F.id))})})]})]})}),s.jsx(At,{value:"aircraft",className:"space-y-4 mt-4",children:w?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}):x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no aircraft listings"}):s.jsx("div",{className:"space-y-3",children:x.map(F=>s.jsx($,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>o(F.id),"data-testid":`card-user-aircraft-${F.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Q,{variant:F.isListed?"default":"secondary",children:F.isListed?"Listed":"Unlisted"})}),s.jsxs("div",{className:"font-semibold text-lg",children:[F.year," ",F.make," ",F.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.registration,"  ",F.location]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(gs,{className:"h-4 w-4"}),"$",F.hourlyRate,"/hour"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:F.category})]})]}),F.images&&F.images.length>0&&s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:F.images[0],alt:`${F.make} ${F.model}`,className:"w-full h-full object-cover"})})]})})},F.id))})}),s.jsx(At,{value:"marketplace",className:"space-y-4 mt-4",children:_?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}):N.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no marketplace listings"}):s.jsx("div",{className:"space-y-3",children:N.map(F=>s.jsx($,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>c(F.id),"data-testid":`card-user-marketplace-${F.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Q,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"}),s.jsx(Q,{variant:"outline",className:"capitalize",children:F.category}),F.promoFreeUntil&&new Date(F.promoFreeUntil)>new Date&&s.jsxs(Q,{variant:"default",className:"bg-green-600",children:["Free Until ",new Date(F.promoFreeUntil).toLocaleDateString()]})]}),s.jsx("div",{className:"font-semibold text-lg",children:F.title}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:F.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[F.price&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(gs,{className:"h-4 w-4"}),"$",F.price]}),F.location&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(da,{className:"h-4 w-4"}),F.location]})]})]}),s.jsx("div",{className:"flex-shrink-0",onClick:D=>D.stopPropagation(),children:s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{m(F.id),u(!0)},"data-testid":`button-grant-promo-${F.id}`,children:"Grant Promo"})})]})})},F.id))})}),s.jsxs(At,{value:"admin-actions",className:"space-y-4 mt-4",children:[s.jsxs(Dn,{children:[s.jsx(jl,{className:"h-4 w-4"}),s.jsx(On,{children:"These actions affect user account settings and permissions. Use with caution."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Password Reset"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a password reset email to the user. They will receive instructions to create a new password."}),s.jsxs(O,{onClick:V,disabled:P.isPending,"data-testid":"button-reset-password",children:[s.jsx(jS,{className:"h-4 w-4 mr-2"}),P.isPending?"Sending...":"Send Password Reset Email"]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Admin Privileges"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant or remove admin access for this user. Admins can manage users, listings, and view analytics."}),s.jsxs(O,{variant:v.isAdmin?"destructive":"default",onClick:se,disabled:R.isPending,"data-testid":"button-toggle-admin",children:[s.jsx(rV,{className:"h-4 w-4 mr-2"}),v.isAdmin?"Remove Admin Access":"Grant Admin Access"]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Verification Controls"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),s.jsx(O,{size:"sm",variant:v.identityVerified?"destructive":"default",onClick:()=>Z("identityVerified",v.identityVerified||!1),disabled:M.isPending,"data-testid":"button-toggle-identity",children:v.identityVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),s.jsx(O,{size:"sm",variant:v.faaVerified?"destructive":"default",onClick:()=>Z("faaVerified",v.faaVerified||!1),disabled:M.isPending,"data-testid":"button-toggle-faa",children:v.faaVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),s.jsx(O,{size:"sm",variant:v.licenseVerified?"destructive":"default",onClick:()=>Z("licenseVerified",v.licenseVerified||!1),disabled:M.isPending,"data-testid":"button-toggle-license",children:v.licenseVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"General Verification"}),s.jsx(O,{size:"sm",variant:v.isVerified?"destructive":"default",onClick:()=>Z("isVerified",v.isVerified||!1),disabled:M.isPending,"data-testid":"button-toggle-verified",children:v.isVerified?"Revoke":"Verify"})]})]})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Account Actions"})}),s.jsx(U,{className:"space-y-3",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional account management actions will be available here in future updates."})})]})]})]})]})]}):null}),a&&s.jsx(S5,{aircraftId:a,open:!!a,onOpenChange:F=>!F&&o(null)}),l&&s.jsx(TN,{listingId:l,open:!!l,onOpenChange:F=>!F&&c(null)}),s.jsx(ts,{open:d,onOpenChange:u,children:s.jsxs(Gt,{"data-testid":"dialog-grant-promo",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Grant Promotional Free Time"}),s.jsx(ps,{children:"Grant this user free listing time as a customer service gesture. The listing will be active for the selected duration without charging the user."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"promo-duration",children:"Duration"}),s.jsxs(Ds,{value:y,onValueChange:b,children:[s.jsx(_s,{id:"promo-duration","data-testid":"select-promo-duration",children:s.jsx(Os,{placeholder:"Select duration"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"7",children:"7 Days"}),s.jsx(we,{value:"14",children:"14 Days (2 weeks)"}),s.jsx(we,{value:"21",children:"21 Days (3 weeks)"}),s.jsx(we,{value:"30",children:"30 Days (1 month)"})]})]})]}),s.jsxs(Dn,{children:[s.jsx(jl,{className:"h-4 w-4"}),s.jsxs(On,{children:["This will extend the listing's active period by ",y," days without any charge to the user. This action will be tracked for audit purposes."]})]})]}),s.jsxs(xn,{children:[s.jsx(O,{variant:"outline",onClick:()=>{u(!1),m(null),b("7")},"data-testid":"button-cancel-promo",children:"Cancel"}),s.jsx(O,{onClick:()=>{h&&L.mutate({listingId:h,durationDays:parseInt(y)})},disabled:L.isPending,"data-testid":"button-confirm-promo",children:L.isPending?"Granting...":"Grant Free Time"})]})]})})]})}function pse(){var w0,N0,S0,C0,_0,k0,P0,T0,E0,A0,F0,R0,I0,D0;const[t,e]=f.useState(""),[n,r]=f.useState("analytics"),[i,a]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(null),[m,y]=f.useState(!1),[b,j]=f.useState(!1),[v,p]=f.useState(null),[x,w]=f.useState(!1),[N,_]=f.useState(null),[C,k]=f.useState(null),[P,M]=f.useState(null),[R,L]=f.useState(!1),[V,Z]=f.useState(null),[se,E]=f.useState(!1),[K,de]=f.useState(null),[B,F]=f.useState(!1),[D,le]=f.useState(null),[fe,qe]=f.useState(""),[Ke,Ct]=f.useState(!1),[st,je]=f.useState(null),[$e,nt]=f.useState(""),[Je,Me]=f.useState(!1),[pe,He]=f.useState(null),[ct,Dt]=f.useState("3months"),[Zt,Vt]=f.useState(""),[Pn,js]=f.useState(""),[Bn,I]=f.useState(null),[H,X]=f.useState(""),[Te,ve]=f.useState(null),[ge,Ue]=f.useState(""),[xt,gt]=f.useState("all"),ht=Kn({resolver:Gn(iX),defaultValues:{firstName:"",lastName:"",email:"",phone:"",company:"",status:"new",source:void 0,notes:""}}),Ot=Kn({resolver:Gn(oX),defaultValues:{category:"server",amount:"",expenseDate:new Date,description:"",invoiceUrl:""}}),[Es,Fi]=f.useState(null),[ya,va]=f.useState(!1),cn=Kn({resolver:Gn(dX),defaultValues:{title:"",message:"",promoCode:"",isEnabled:!0,showOnMainPage:!0,showOnCategoryPages:!0,targetCategories:[],variant:"info"}}),Mt=Kn({resolver:Gn(aX),defaultValues:{code:"",description:"",discountType:"percentage",discountValue:"",maxUses:void 0,validFrom:new Date,validUntil:void 0,isActive:!0,applicableToBannerAds:!1,applicableToMarketplace:!0}}),ms=Kn({resolver:Gn(cX),defaultValues:{title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,listingId:void 0,listingType:void 0,isActive:!0,startDate:new Date,endDate:void 0}}),Ge=Kn({resolver:Gn(lX),defaultValues:{sponsorName:"",sponsorEmail:"",sponsorCompany:"",title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,tier:"3months",monthlyRate:"60.00",totalAmount:"180.00",creationFee:"40.00",grandTotal:"220.00",promoCode:"",discountAmount:"0.00",approvalStatus:"draft",paymentStatus:"pending",adminNotes:""}}),{toast:Fe}=Bt(),{data:Ll=[],isLoading:$l}=Ve({queryKey:[`/api/admin/users?q=${t}`],enabled:t.length>0}),{data:Ul=[],isLoading:Ud}=Ve({queryKey:["/api/admin/aircraft"],enabled:n==="aircraft"}),{data:Bl=[],isLoading:Vl}=Ve({queryKey:["/api/admin/marketplace"],enabled:n==="marketplace"}),{data:_o=[]}=Ve({queryKey:["/api/marketplace/flagged"]}),{data:Bd=[],isLoading:mg}=Ve({queryKey:["/api/verification-submissions/pending"],staleTime:0,gcTime:0,refetchOnMount:"always"}),{data:ue,isLoading:jL}=Ve({queryKey:["/api/admin/analytics"],enabled:n==="analytics"}),{data:ko=[],isLoading:fg}=Ve({queryKey:["/api/crm/leads"],enabled:n==="crm"}),{data:pg=[],isLoading:xg}=Ve({queryKey:["/api/admin/expenses"],enabled:n==="analytics"}),{data:a0=[],isLoading:bL}=Ve({queryKey:["/api/admin/promo-alerts"],enabled:n==="promo"}),{data:o0=[],isLoading:wL}=Ve({queryKey:["/api/admin/promo-codes"],enabled:n==="promo-codes"}),{data:Ri,isLoading:NL}=Ve({queryKey:["/api/admin/stale-listings"],enabled:n==="stale"}),{data:Ii,isLoading:SL}=Ve({queryKey:["/api/admin/orphaned-listings"],enabled:n==="stale"}),{data:at,isLoading:Vd}=Ve({queryKey:["/api/admin/user-metrics"],enabled:n==="analytics"}),{data:gg=[],isLoading:l0}=Ve({queryKey:["/api/admin/withdrawals"],enabled:n==="withdrawals"}),{data:c0=[],isLoading:CL}=Ve({queryKey:["/api/admin/notifications"],enabled:n==="notifications"}),{data:d0=[]}=Ve({queryKey:["/api/admin/notifications/unread"]}),{data:Em=[],isLoading:_L}=Ve({queryKey:["/api/admin/banner-ads"],enabled:n==="banners"}),{data:yg=[],isLoading:kL}=Ve({queryKey:["/api/admin/banner-ad-orders"],enabled:n==="banners"}),PL=f.useMemo(()=>{const g=new Map;return Em.forEach(q=>{q.orderId&&g.set(q.orderId,q)}),g},[Em]),u0=g=>PL.has(g),vg=Ae({mutationFn:async g=>await De("PATCH",`/api/verification-submissions/${g}`,{status:"approved"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),Fe({title:"Verification Approved",description:"User verification has been approved successfully."}),l(!1)}}),jg=Ae({mutationFn:async({id:g,notes:q})=>await De("PATCH",`/api/verification-submissions/${g}`,{status:"rejected",rejectionReason:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),Fe({title:"Verification Rejected",description:"User has been notified of the rejection."}),l(!1),d("")}}),bg=Ae({mutationFn:async g=>await De("POST","/api/crm/leads",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/crm/leads"]}),Fe({title:"Lead created successfully"}),j(!1),ht.reset(),p(null)}}),wg=Ae({mutationFn:async({id:g,data:q})=>await De("PATCH",`/api/crm/leads/${g}`,q),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/crm/leads"]}),Fe({title:"Lead updated successfully"}),j(!1),ht.reset(),p(null)}}),TL=Ae({mutationFn:async g=>await De("DELETE",`/api/crm/leads/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/crm/leads"]}),Fe({title:"Lead deleted successfully"})}}),Ng=Ae({mutationFn:async g=>await De("POST","/api/admin/expenses",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/expenses"]}),_e.invalidateQueries({queryKey:["/api/admin/analytics"]}),Fe({title:"Expense added successfully"}),w(!1),Ot.reset(),_(null)}}),Sg=Ae({mutationFn:async({id:g,data:q})=>await De("PATCH",`/api/admin/expenses/${g}`,q),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/expenses"]}),_e.invalidateQueries({queryKey:["/api/admin/analytics"]}),Fe({title:"Expense updated successfully"}),w(!1),Ot.reset(),_(null)}}),EL=Ae({mutationFn:async g=>await De("DELETE",`/api/admin/expenses/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/expenses"]}),_e.invalidateQueries({queryKey:["/api/admin/analytics"]}),Fe({title:"Expense deleted successfully"})}}),AL=Ae({mutationFn:async g=>await De("PATCH",`/api/admin/notifications/${g}/read`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/notifications"]}),_e.invalidateQueries({queryKey:["/api/admin/notifications/unread"]})}}),FL=Ae({mutationFn:async g=>await De("DELETE",`/api/admin/notifications/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/notifications"]}),_e.invalidateQueries({queryKey:["/api/admin/notifications/unread"]}),Fe({title:"Notification deleted"})}}),h0=Ae({mutationFn:async({id:g,isListed:q})=>await De("PATCH",`/api/aircraft/${g}`,{isListed:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/aircraft"]}),Fe({title:"Aircraft listing updated"})}}),Cg=Ae({mutationFn:async g=>await De("DELETE",`/api/aircraft/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/aircraft"]}),Fe({title:"Aircraft listing deleted"}),L(!1),Z(null)}}),m0=Ae({mutationFn:async({id:g,isActive:q})=>await De("PATCH",`/api/marketplace/${g}`,{isActive:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/marketplace"]}),Fe({title:"Marketplace listing updated"})}}),_g=Ae({mutationFn:async g=>(await De("POST","/api/admin/marketplace/free-listing-token",g||{})).json(),onSuccess:g=>{localStorage.setItem("adminFreeListingGrant",JSON.stringify({token:g.token,durationDays:g.durationDays})),Fe({title:"Admin free listing enabled",description:`Grant ready for ${g.durationDays}-day listing. Complete the form to publish.`}),window.location.href="/create-marketplace-listing?adminFree=1"},onError:g=>{Fe({title:"Failed to start free listing",description:g.message||"Could not issue admin grant",variant:"destructive"})}}),f0=Ae({mutationFn:async({id:g,isEnabled:q})=>await De("PATCH",`/api/promo-alerts/${g}`,{isEnabled:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),Fe({title:"Promotional alert updated"})}}),kg=Ae({mutationFn:async g=>await De("POST","/api/promo-alerts",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),cn.reset(),E(!1),de(null),Fe({title:"Promotional alert created successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to create promotional alert",variant:"destructive"})}}),Pg=Ae({mutationFn:async g=>await De("POST","/api/admin/promo-codes",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),le(null),Mt.reset(),Fe({title:"Promo code created successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to create promo code",variant:"destructive"})}}),Tg=Ae({mutationFn:async({id:g,data:q})=>await De("PATCH",`/api/admin/promo-codes/${g}`,q),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),le(null),Mt.reset(),Fe({title:"Promo code updated successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to update promo code",variant:"destructive"})}}),p0=Ae({mutationFn:async g=>await De("DELETE",`/api/admin/promo-codes/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),le(null),Mt.reset(),Fe({title:"Promo code deleted successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to delete promo code",variant:"destructive"})}}),x0=Ae({mutationFn:async({id:g,isActive:q})=>await De("PATCH",`/api/admin/promo-codes/${g}`,{isActive:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),le(null),Mt.reset(),Fe({title:"Promo code status updated successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to update promo code status",variant:"destructive"})}}),RL=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),IL=async g=>{try{for(const q of g.successful||[])if(q.uploadURL){const pt=new URL(q.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:pt,access:"publicRead"})});const Nt=q.uploadURL.split("?")[0];nt(Nt),ms.setValue("imageUrl",Nt,{shouldValidate:!0,shouldDirty:!0}),Fe({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(q){console.error("Error processing banner upload:",q),Fe({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}},DL=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),OL=async g=>{try{for(const q of g.successful||[])if(q.uploadURL){const pt=new URL(q.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:pt,access:"publicRead"})});const Nt=q.uploadURL.split("?")[0];Vt(Nt),Ge.setValue("imageUrl",Nt,{shouldValidate:!0,shouldDirty:!0}),Fe({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(q){console.error("Error processing order upload:",q),Fe({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}};Ae({mutationFn:async g=>await De("POST","/api/admin/banner-ads",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),ms.reset(),Ct(!1),je(null),nt(""),Fe({title:"Banner ad created successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to create banner ad",variant:"destructive"})}});const Eg=Ae({mutationFn:async({id:g,data:q})=>await De("PATCH",`/api/admin/banner-ads/${g}`,q),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),ms.reset(),Ct(!1),je(null),nt(""),Fe({title:"Banner ad updated successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to update banner ad",variant:"destructive"})}}),ML=Ae({mutationFn:async g=>await De("DELETE",`/api/admin/banner-ads/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Fe({title:"Banner ad deleted successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to delete banner ad",variant:"destructive"})}}),LL=Ae({mutationFn:async({id:g,isActive:q})=>await De("PATCH",`/api/admin/banner-ads/${g}`,{isActive:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Fe({title:"Banner ad status updated"})}}),Ag=Ae({mutationFn:async g=>await De("POST","/api/admin/banner-ad-orders",g),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ge.reset(),Me(!1),He(null),Vt(""),Fe({title:"Banner ad order created successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to create banner ad order",variant:"destructive"})}}),Fg=Ae({mutationFn:async({id:g,data:q})=>await De("PATCH",`/api/admin/banner-ad-orders/${g}`,q),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ge.reset(),Me(!1),He(null),Vt(""),Fe({title:"Banner ad order updated successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to update banner ad order",variant:"destructive"})}}),g0=Ae({mutationFn:async g=>await De("POST",`/api/admin/banner-ad-orders/${g}/activate`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),_e.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Fe({title:"Order activated",description:"Banner ad is now live"})},onError:g=>{var q;(g==null?void 0:g.status)===409?Fe({title:"Order already activated",description:"This order has an active banner ad.",variant:"destructive"}):(g==null?void 0:g.status)===402||(g==null?void 0:g.error)==="Payment required"?Fe({title:"Payment required",description:"Order must be paid (and captured) before activation.",variant:"destructive"}):(g==null?void 0:g.error)==="Payment reference missing"?Fe({title:"Missing PayPal reference",description:"Capture must complete and record a PayPal order ID before activation.",variant:"destructive"}):(g==null?void 0:g.error)==="Approval required"?Fe({title:"Approval required",description:"Approve the order before activating the banner.",variant:"destructive"}):(g==null?void 0:g.errorCode)==="IMAGE_REQUIRED"||(q=g==null?void 0:g.message)!=null&&q.includes("IMAGE_REQUIRED")?Fe({title:"Image required",description:"Please upload a banner image before activating this order.",variant:"destructive"}):Fe({title:"Activation failed",description:(g==null?void 0:g.message)||"Failed to activate banner ad order",variant:"destructive"})}}),$L=Ae({mutationFn:async g=>await De("DELETE",`/api/admin/banner-ad-orders/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Fe({title:"Banner ad order deleted successfully"})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to delete banner ad order",variant:"destructive"})}}),y0=Ae({mutationFn:async g=>await De("PATCH",`/api/admin/banner-ad-orders/${g}/approval`,{approvalStatus:"approved"}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Fe({title:"Order approved",description:"Banner ad order approved successfully. You can now activate it."})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to approve order",variant:"destructive"})}}),v0=Ae({mutationFn:async({id:g,adminNotes:q})=>await De("PATCH",`/api/admin/banner-ad-orders/${g}/approval`,{approvalStatus:"rejected",adminNotes:q}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Fe({title:"Order rejected",description:"Banner ad order has been rejected."})},onError:g=>{Fe({title:"Error",description:g.message||"Failed to reject order",variant:"destructive"})}}),Rg=Ae({mutationFn:async g=>await De("DELETE",`/api/marketplace/${g}`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/marketplace"]}),Fe({title:"Marketplace listing deleted"}),L(!1),Z(null)}}),UL=()=>{const g=Pn.trim();if(!g){I(null),X(""),ve(null);const Nt=iu(ct);Ge.setValue("promoCode",""),Ge.setValue("discountAmount","0.00"),Ge.setValue("creationFee",Nt.creationFee.toString()),Ge.setValue("grandTotal",Nt.grandTotal.toString());return}const q=hL(g);if(!q){I(!1),X("Invalid or expired promo code"),ve(null);const Nt=iu(ct);Ge.setValue("promoCode",""),Ge.setValue("discountAmount","0.00"),Ge.setValue("creationFee",Nt.creationFee.toString()),Ge.setValue("grandTotal",Nt.grandTotal.toString());return}const Ye=iu(ct),pt=A2(Ye.creationFee,Ye.subscriptionTotal,g);Ge.setValue("promoCode",q.code),Ge.setValue("discountAmount",pt.totalDiscount.toFixed(2)),Ge.setValue("creationFee",pt.finalCreationFee.toFixed(2)),Ge.setValue("grandTotal",pt.finalGrandTotal.toFixed(2)),I(!0),X(`Promo code applied! You save $${pt.totalDiscount.toFixed(2)}`),ve(q.code),Fe({title:"Promo code applied!",description:q.description})},BL=()=>{V&&(V.type==="aircraft"?Cg.mutate(V.id):Rg.mutate(V.id))},Ig=Ae({mutationFn:async()=>await De("POST","/api/admin/send-listing-reminders",{}),onSuccess:g=>{Fe({title:"Email reminders sent",description:`Successfully sent ${g.emailsSent} emails to users with active listings.`})},onError:()=>{Fe({title:"Failed to send reminders",description:"Please try again later.",variant:"destructive"})}}),j0=Ae({mutationFn:async g=>await De("PATCH",`/api/aircraft/${g}/refresh`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),Fe({title:"Aircraft listing refreshed"})}}),b0=Ae({mutationFn:async g=>await De("PATCH",`/api/marketplace/${g}/refresh`,{}),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),Fe({title:"Marketplace listing refreshed"})}}),VL=g=>{p(g),ht.reset({firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone||"",company:g.company||"",status:g.status,source:g.source,notes:g.notes||""}),j(!0)},zL=g=>{_(g),Ot.reset({category:g.category,amount:g.amount,expenseDate:g.expenseDate?new Date(g.expenseDate):new Date,description:g.description||"",invoiceUrl:g.invoiceUrl||""}),Fi(null),w(!0)},qL=async g=>{var Ye;let q={...g};if(Es&&!N)try{const pt=new FormData;pt.append("documents",Es);const Nt=await fetch("/api/upload-documents",{method:"POST",body:pt,credentials:"include"});if(!Nt.ok){const jr=await Nt.json();Fe({title:"Invoice upload failed",description:jr.error||"Please try again",variant:"destructive"});return}const ti=await Nt.json();q.invoiceUrl=((Ye=ti.documentUrls)==null?void 0:Ye[0])||""}catch(pt){console.error("Invoice upload failed:",pt),Fe({title:"Invoice upload failed",description:"Please try again",variant:"destructive"});return}N?Sg.mutate({id:N.id,data:q}):Ng.mutate(q)},HL=async()=>{if(!Es){Fe({title:"No invoice selected",variant:"destructive"});return}va(!0);try{const g=new FormData;g.append("invoice",Es);const q=await fetch("/api/admin/extract-invoice-data",{method:"POST",body:g,credentials:"include"});if(!q.ok){const Nt=await q.json();throw new Error(Nt.error||"Failed to extract data")}const Ye=await q.json();let pt=0;if(Ye.amount&&typeof Ye.amount=="string"&&(Ot.setValue("amount",Ye.amount),pt++),Ye.date&&typeof Ye.date=="string")try{const Nt=new Date(Ye.date);isNaN(Nt.getTime())||(Ot.setValue("expenseDate",Nt),pt++)}catch{console.warn("Invalid date from OCR:",Ye.date)}Ye.description&&typeof Ye.description=="string"&&(Ot.setValue("description",Ye.description),pt++),Ye.category&&["server","database","other"].includes(Ye.category)&&(Ot.setValue("category",Ye.category),pt++),pt>0?Fe({title:"Invoice data extracted!",description:`${pt} field(s) auto-filled. Please review before saving.`}):Fe({title:"Could not extract data",description:"Please enter the information manually.",variant:"destructive"})}catch(g){console.error("OCR extraction error:",g),Fe({title:"Failed to extract invoice data",description:g instanceof Error?g.message:"Please try again",variant:"destructive"})}finally{va(!1)}},WL=g=>{v?wg.mutate({id:v.id,data:g}):bg.mutate(g)},zl=gg.filter(g=>{var q,Ye,pt,Nt,ti;if(xt!=="all"&&g.status!==xt)return!1;if(ge){const jr=ge.toLowerCase();return((q=g.userId)==null?void 0:q.toLowerCase().includes(jr))||((Ye=g.paypalEmail)==null?void 0:Ye.toLowerCase().includes(jr))||((pt=g.transactionId)==null?void 0:pt.toLowerCase().includes(jr))||((Nt=g.payoutBatchId)==null?void 0:Nt.toLowerCase().includes(jr))||((ti=g.amount)==null?void 0:ti.toString().includes(jr))}return!0});return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-admin-title",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, aircraft listings, and marketplace content"})]}),s.jsxs(Ld,{value:n,onValueChange:r,className:"space-y-6",children:[s.jsxs(Ml,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-12 h-auto",children:[s.jsxs(_t,{value:"analytics","data-testid":"tab-analytics",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(An,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(_t,{value:"crm","data-testid":"tab-crm",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(xw,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"CRM"})]}),s.jsxs(_t,{value:"users","data-testid":"tab-users",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(py,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Users"})]}),s.jsxs(_t,{value:"verifications","data-testid":"tab-verifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(wn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Verify",Bd.length>0&&s.jsx(Q,{variant:"destructive",className:"text-xs px-1",children:Bd.length})]})]}),s.jsxs(_t,{value:"aircraft","data-testid":"tab-aircraft",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Lt,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Aircraft"})]}),s.jsxs(_t,{value:"marketplace","data-testid":"tab-marketplace",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(uu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Market",_o.length>0&&s.jsx(Q,{variant:"destructive",className:"text-xs px-1",children:_o.length})]})]}),s.jsxs(_t,{value:"stale","data-testid":"tab-stale",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Lo,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Stale"})]}),s.jsxs(_t,{value:"promo","data-testid":"tab-promo",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Fu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Promos"})]}),s.jsxs(_t,{value:"promo-codes","data-testid":"tab-promo-codes",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(fy,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Codes"})]}),s.jsxs(_t,{value:"withdrawals","data-testid":"tab-withdrawals",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(gs,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Payouts"})]}),s.jsxs(_t,{value:"notifications","data-testid":"tab-notifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(oj,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Alerts",d0.length>0&&s.jsx(Q,{variant:"destructive",className:"text-xs px-1",children:d0.length})]})]}),s.jsxs(_t,{value:"banners","data-testid":"tab-banners",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(mp,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Banners"})]})]}),s.jsxs(At,{value:"analytics",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Revenue Today"}),s.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ue==null?void 0:ue.revenueToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ue==null?void 0:ue.transactionsToday)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Revenue This Week"}),s.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ue==null?void 0:ue.revenueWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ue==null?void 0:ue.transactionsWeek)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Revenue This Month"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ue==null?void 0:ue.revenueMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ue==null?void 0:ue.transactionsMonth)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Revenue This Year"}),s.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ue==null?void 0:ue.revenueYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ue==null?void 0:ue.transactionsYear)||0," transactions"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Expenses Today"}),s.jsx(An,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ue==null?void 0:ue.expensesToday)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Server & database costs"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Expenses This Week"}),s.jsx(An,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ue==null?void 0:ue.expensesWeek)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform operating costs"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Expenses This Month"}),s.jsx(An,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ue==null?void 0:ue.expensesMonth)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly operational costs"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Expenses This Year"}),s.jsx(An,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ue==null?void 0:ue.expensesYear)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual operational costs"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Profit Today"}),s.jsx(gs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ue==null?void 0:ue.profitToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ue==null?void 0:ue.profitMarginToday)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Profit This Week"}),s.jsx(gs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ue==null?void 0:ue.profitWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ue==null?void 0:ue.profitMarginWeek)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Profit This Month"}),s.jsx(gs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ue==null?void 0:ue.profitMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ue==null?void 0:ue.profitMarginMonth)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Profit This Year"}),s.jsx(gs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ue==null?void 0:ue.profitYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ue==null?void 0:ue.profitMarginYear)||"0.00","%"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Marketplace Overview"}),s.jsx(Re,{children:"Current listing statistics"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Listings"})]}),s.jsx(Q,{className:"bg-chart-2","data-testid":"badge-active-marketplace",children:(ue==null?void 0:ue.totalActiveMarketplaceListings)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"text-sm font-medium",children:"Expired Listings"})]}),s.jsx(Q,{variant:"destructive","data-testid":"badge-expired-marketplace",children:(ue==null?void 0:ue.totalExpiredMarketplaceListings)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Listings by Category"}),s.jsx(Re,{children:"Active listings per category"})]}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aviation Jobs"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-job",children:((w0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:w0.job)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aircraft For Sale"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-aircraft-sale",children:((N0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:N0["aircraft-sale"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"CFIs"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-cfi",children:((S0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:S0.cfi)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Flight Schools"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-flight-school",children:((C0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:C0["flight-school"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mechanics"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-mechanic",children:((_0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:_0.mechanic)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Charter Services"}),s.jsx(Q,{variant:"outline","data-testid":"badge-category-charter",children:((k0=ue==null?void 0:ue.marketplaceByCategory)==null?void 0:k0.charter)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Commission Details"}),s.jsx(Re,{children:"Ready Set Fly revenue model"})]}),s.jsx(U,{className:"space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Rental Commission:"}),s.jsx("p",{children:" Renter: 7.5%"}),s.jsx("p",{children:" Owner: 7.5%"}),s.jsx("p",{className:"font-medium text-foreground mt-3 mb-2",children:"Marketplace Fees:"}),s.jsx("p",{children:" $25-$250/month per listing"})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Rental Pipeline Overview"}),s.jsx(Re,{children:"Rentals by status"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending"}),s.jsx(Q,{variant:"outline","data-testid":"badge-pending-rentals",children:(ue==null?void 0:ue.pendingRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved"}),s.jsx(Q,{variant:"outline","data-testid":"badge-approved-rentals",children:(ue==null?void 0:ue.approvedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsx(Q,{variant:"outline","data-testid":"badge-active-rentals",children:(ue==null?void 0:ue.activeRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Completed"}),s.jsx(Q,{variant:"outline","data-testid":"badge-completed-rentals",children:(ue==null?void 0:ue.completedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cancelled"}),s.jsx(Q,{variant:"outline","data-testid":"badge-cancelled-rentals",children:(ue==null?void 0:ue.cancelledRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Grand Total"})]}),s.jsx(Q,{className:"bg-chart-1","data-testid":"badge-total-rentals",children:(ue==null?void 0:ue.totalRentals)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Rental Activity - Today"}),s.jsx(Re,{children:"New and active rentals today"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(Q,{className:"bg-chart-2","data-testid":"badge-new-rentals-today",children:(ue==null?void 0:ue.newRentalsToday)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(Q,{className:"bg-chart-1","data-testid":"badge-active-rentals-today",children:(ue==null?void 0:ue.activeRentalsToday)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Rental Activity - This Week"}),s.jsx(Re,{children:"New and active rentals this week"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(Q,{className:"bg-chart-2","data-testid":"badge-new-rentals-week",children:(ue==null?void 0:ue.newRentalsWeek)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(Q,{className:"bg-chart-1","data-testid":"badge-active-rentals-week",children:(ue==null?void 0:ue.activeRentalsWeek)||0})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth & Engagement"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(py,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(at==null?void 0:at.totalUsers)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Verified Users"}),s.jsx(fs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-2","data-testid":"text-verified-users",children:(at==null?void 0:at.verifiedUsers)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[((P0=at==null?void 0:at.verificationRate)==null?void 0:P0.toFixed(1))||"0.0","% verified"]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Owners"}),s.jsx(Lt,{className:"h-4 w-4 text-chart-1"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-1","data-testid":"text-active-owners",children:(at==null?void 0:at.activeListingOwners)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"With active listings"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Renters"}),s.jsx(Hl,{className:"h-4 w-4 text-chart-3"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-3","data-testid":"text-active-renters",children:(at==null?void 0:at.activeRenters)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed rentals"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New User Registrations"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Today"}),s.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-today",children:(at==null?void 0:at.newUsersToday)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"New signups today"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"This Week"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-week",children:(at==null?void 0:at.newUsersThisWeek)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"This Month"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-month",children:(at==null?void 0:at.newUsersThisMonth)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Geographic Distribution"}),s.jsx(Re,{children:"Users by location (top 10 states)"})]}),s.jsxs(U,{children:[Vd&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading geographic data..."}),!Vd&&(!((T0=at==null?void 0:at.geographic)!=null&&T0.byState)||at.geographic.byState.length===0)&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No geographic data available yet"}),!Vd&&((E0=at==null?void 0:at.geographic)==null?void 0:E0.byState)&&at.geographic.byState.length>0&&s.jsx("div",{className:"space-y-3",children:at.geographic.byState.map(({state:g,count:q},Ye)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",className:"w-8 text-center",children:Ye+1}),s.jsx("span",{className:"text-sm font-medium",children:g})]}),s.jsxs(Q,{"data-testid":`badge-state-${g}`,children:[q," users"]})]},g))})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"User Retention"}),s.jsx(Re,{children:"Returning vs. one-time users"})]}),s.jsxs(U,{children:[Vd&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading retention data..."}),!Vd&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Returning Users"})]}),s.jsx(Q,{className:"bg-chart-2","data-testid":"badge-returning-users",children:((A0=at==null?void 0:at.retention)==null?void 0:A0.returningUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(py,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"One-Time Users"})]}),s.jsx(Q,{variant:"outline","data-testid":"badge-onetime-users",children:((F0=at==null?void 0:at.retention)==null?void 0:F0.oneTimeUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),s.jsxs(Q,{className:"bg-chart-1","data-testid":"badge-retention-rate",children:[((I0=(R0=at==null?void 0:at.retention)==null?void 0:R0.retentionRate)==null?void 0:I0.toFixed(1))||"0.0","%"]})]})]})]})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Expense Tracking"}),s.jsx(Re,{children:"Track server, database, and operational costs"})]}),s.jsxs(O,{onClick:()=>{Ot.reset(),_(null),w(!0)},"data-testid":"button-add-expense",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Add Expense"]})]}),s.jsxs(U,{children:[xg&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading expenses..."}),!xg&&pg.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No expenses tracked yet. Add your first expense to start tracking costs."}),!xg&&pg.length>0&&s.jsx("div",{className:"border rounded-md",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Date"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Category"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Description"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Invoice"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Amount"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:pg.map(g=>s.jsxs("tr",{className:"border-b last:border-0","data-testid":`expense-row-${g.id}`,children:[s.jsx("td",{className:"p-3 text-sm","data-testid":`text-date-${g.id}`,children:g.expenseDate?new Date(g.expenseDate).toLocaleDateString():""}),s.jsx("td",{className:"p-3",children:s.jsx(Q,{variant:"outline",className:"capitalize","data-testid":`badge-category-${g.id}`,children:g.category})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground","data-testid":`text-description-${g.id}`,children:g.description||""}),s.jsx("td",{className:"p-3 text-sm",children:g.invoiceUrl?s.jsxs("a",{href:g.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1","data-testid":`link-invoice-${g.id}`,children:[s.jsx(Zn,{className:"h-4 w-4"}),"View"]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsxs("td",{className:"p-3 text-sm text-right font-medium text-destructive","data-testid":`text-amount-${g.id}`,children:["$",g.amount]}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>zL(g),"data-testid":`button-edit-expense-${g.id}`,children:s.jsx(Zi,{className:"h-4 w-4"})}),s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this expense?")&&EL.mutate(g.id)},"data-testid":`button-delete-expense-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4 text-destructive"})})]})})]},g.id))})]})})]})]}),jL&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]}),s.jsxs(At,{value:"crm",className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Sales & Marketing CRM"}),s.jsx(Re,{children:"Manage leads, contacts, and deal pipeline"})]}),s.jsxs(O,{onClick:()=>{ht.reset(),p(null),j(!0)},"data-testid":"button-add-lead",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),s.jsxs(U,{children:[fg&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading leads..."}),!fg&&ko.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No leads yet. Add your first lead to get started."}),!fg&&ko.length>0&&s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Company"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Status"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Source"}),s.jsx("th",{className:"text-right p-3 font-medium text-sm",children:"Actions"})]})}),s.jsx("tbody",{children:ko.map(g=>s.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-lead-${g.id}`,children:[s.jsxs("td",{className:"p-3",children:[s.jsxs("div",{className:"font-medium",children:[g.firstName," ",g.lastName]}),g.phone&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(fp,{className:"h-3 w-3"}),g.phone]})]}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(xd,{className:"h-3 w-3"}),g.email]})}),s.jsx("td",{className:"p-3 text-sm",children:g.company||"-"}),s.jsx("td",{className:"p-3",children:s.jsx(Q,{variant:g.status==="won"?"default":g.status==="lost"?"destructive":g.status==="new"?"secondary":"outline",children:g.status})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:g.source||"-"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>VL(g),"data-testid":`button-edit-lead-${g.id}`,children:s.jsx(Zi,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&TL.mutate(g.id)},"data-testid":`button-delete-lead-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})})]},g.id))})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(iV,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:ko.length})})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"New Leads"}),s.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:ko.filter(g=>g.status==="new").length})})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Won"}),s.jsx(fs,{className:"h-4 w-4 text-chart-2"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:ko.filter(g=>g.status==="won").length})})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"In Progress"}),s.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:ko.filter(g=>["contacted","qualified","proposal","negotiation"].includes(g.status)).length})})]})]})]}),s.jsx(At,{value:"verifications",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Verification Review Queue"}),s.jsx(Re,{children:"Review and approve user verification submissions"})]}),s.jsxs(U,{children:[mg&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading verifications..."}),!mg&&Bd.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending verification submissions"}),!mg&&Bd.length>0&&s.jsx("div",{className:"space-y-3",children:Bd.map(g=>{var Ye;const q=g.submissionData;return s.jsx($,{"data-testid":`card-verification-${g.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Q,{variant:"outline",children:g.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted ",g.createdAt?new Date(g.createdAt).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"font-semibold text-foreground mb-1",children:[q.legalFirstName," ",q.legalLastName]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["User ID: ",g.userId]}),s.jsxs("div",{children:["DOB: ",q.dateOfBirth]}),q.faaCertificateNumber&&s.jsxs("div",{children:["FAA Certificate: ",q.faaCertificateNumber]}),s.jsxs("div",{children:["Documents: ",((Ye=g.documentUrls)==null?void 0:Ye.length)||0," files"]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>{a(g),l(!0)},"data-testid":`button-review-${g.id}`,children:[s.jsx(hp,{className:"h-4 w-4 mr-2"}),"Review"]})})]})})},g.id)})})]})]})}),s.jsx(At,{value:"users",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Search Users"}),s.jsx(Re,{children:"Search by first name, last name, or email"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"flex gap-2 mb-6",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(W,{placeholder:"Search users...",value:t,onChange:g=>e(g.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),$l&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching..."}),!$l&&t&&Ll.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No users found matching "',t,'"']}),!$l&&Ll.length>0&&s.jsx("div",{className:"space-y-3",children:Ll.map(g=>{var q,Ye;return s.jsx($,{"data-testid":`card-user-${g.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>{h(g.id),y(!0)},children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ci,{children:[s.jsx(_i,{src:g.profileImageUrl||void 0}),s.jsxs(ki,{children:[(q=g.firstName)==null?void 0:q[0],(Ye=g.lastName)==null?void 0:Ye[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[g.firstName," ",g.lastName,g.isAdmin&&s.jsx(Q,{className:"ml-2",variant:"default",children:"Admin"}),g.isVerified&&s.jsx(Q,{className:"ml-2",variant:"secondary",children:"Verified"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:g.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",g.id,"  Flight Hours: ",g.totalFlightHours]})]})]})})},g.id)})}),!t&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Enter a search term to find users"})]})]})}),s.jsx(At,{value:"aircraft",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"All Aircraft Listings"}),s.jsx(Re,{children:"View and manage all aircraft rental listings"})]}),s.jsxs(U,{children:[Ud&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}),!Ud&&Ul.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No aircraft listings found"}),!Ud&&Ul.length>0&&s.jsx("div",{className:"space-y-3",children:Ul.map(g=>s.jsx("div",{"data-testid":`card-aircraft-${g.id}`,className:"border rounded-lg overflow-visible hover-elevate cursor-pointer transition-all",onClick:()=>k(g),children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[g.images&&g.images.length>0&&s.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:g.images[0],alt:`${g.make} ${g.model}`,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[g.year," ",g.make," ",g.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.registration,"  ",g.location]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",g.hourlyRate,"/hr  Owner ID: ",g.ownerId]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:q=>q.stopPropagation(),children:[s.jsx(Q,{variant:g.isListed?"default":"secondary",children:g.isListed?"Listed":"Unlisted"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>h0.mutate({id:g.id,isListed:!g.isListed}),"data-testid":`button-toggle-aircraft-${g.id}`,children:g.isListed?"Unlist":"List"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Z({type:"aircraft",id:g.id}),L(!0)},"data-testid":`button-delete-aircraft-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]})]})}),s.jsxs(At,{value:"marketplace",className:"space-y-4",children:[_o.length>0&&s.jsxs($,{className:"border-destructive",children:[s.jsxs(re,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5 text-destructive"}),"Flagged Listings (",_o.length,")"]}),s.jsx(Re,{children:"Listings with 5+ fraud/spam reports - review and remove if necessary"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-3",children:_o.map(g=>s.jsx("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20","data-testid":`flagged-listing-${g.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:g.title}),s.jsxs(Q,{variant:"destructive",className:"text-xs",children:[g.flagCount," flags"]}),!g.isActive&&s.jsx(Q,{variant:"outline",className:"text-xs",children:"Inactive"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Category: ",g.category,"  Location: ",g.location||g.city]}),s.jsx("p",{className:"text-sm line-clamp-2",children:g.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"sm",onClick:()=>{M(g)},"data-testid":`button-review-flagged-${g.id}`,children:"Review"}),s.jsx(O,{variant:"destructive",size:"sm",onClick:()=>{Z({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-remove-flagged-${g.id}`,children:"Remove"})]})]})},g.id))})})]}),s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"All Marketplace Listings"}),s.jsx(Re,{children:"View and manage all marketplace listings"})]}),s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>_g.mutate({}),disabled:_g.isPending,"data-testid":"button-admin-free-listing",children:[s.jsx(Fu,{className:"h-4 w-4 mr-2"}),_g.isPending?"Preparing...":"Create Free Listing"]})]}),s.jsxs(U,{children:[Vl&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}),!Vl&&Bl.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No marketplace listings found"}),!Vl&&Bl.length>0&&s.jsx("div",{className:"space-y-3",children:Bl.map(g=>s.jsx($,{"data-testid":`card-marketplace-${g.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>M(g),children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-foreground",children:g.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.category,"  ",g.location||"No location"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[g.price&&`$${g.price}`,"  User ID: ",g.userId,g.monthlyFee==="0"&&"  FREE"]})]}),s.jsxs("div",{className:"flex items-center gap-2",onClick:q=>q.stopPropagation(),children:[s.jsx(Q,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>m0.mutate({id:g.id,isActive:!g.isActive}),"data-testid":`button-toggle-marketplace-${g.id}`,children:g.isActive?"Deactivate":"Activate"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Z({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-delete-marketplace-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]})})},g.id))})]})]})]}),s.jsx(At,{value:"stale",className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx($,{children:s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ae,{children:"Monthly Email Reminders"}),s.jsx(Re,{children:"Send email reminders to all users with active listings to review and refresh their listings"})]}),s.jsxs(O,{onClick:()=>Ig.mutate(),disabled:Ig.isPending,"data-testid":"button-send-reminders",children:[s.jsx(xd,{className:"h-4 w-4 mr-2"}),Ig.isPending?"Sending...":"Send Reminders Now"]})]})})}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Stale Listings (60+ Days Without Refresh)"}),s.jsx(Re,{children:"These listings haven't been refreshed by their owners in over 60 days"})]}),s.jsx(U,{children:NL?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):!Ri||Ri.aircraft.length===0&&Ri.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fs,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No stale listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Ri.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Aircraft Listings (",Ri.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ri.aircraft.map(g=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(Lo,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[g.make," ",g.model," - ",g.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.location}),g.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(g.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:g.isListed?"default":"secondary",children:g.isListed?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>j0.mutate(g.id),disabled:j0.isPending,"data-testid":`button-refresh-aircraft-${g.id}`,children:s.jsx(pp,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]}),Ri.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(uu,{className:"h-4 w-4"}),"Marketplace Listings (",Ri.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ri.marketplace.map(g=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(Lo,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:g.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.category.replace("-"," ")," - ",g.city]}),g.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(g.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>b0.mutate(g.id),disabled:b0.isPending,"data-testid":`button-refresh-marketplace-${g.id}`,children:s.jsx(pp,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]})]})})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Orphaned Listings"}),s.jsx(Re,{children:"Listings where the owner account no longer exists or is suspended"})]}),s.jsx(U,{children:SL?s.jsx("div",{className:"space-y-4",children:[1,2].map(g=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):!Ii||Ii.aircraft.length===0&&Ii.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fs,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orphaned listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Ii.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Aircraft Listings (",Ii.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ii.aircraft.map(g=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(ta,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[g.make," ",g.model," - ",g.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.location}),s.jsx(Q,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Z({type:"aircraft",id:g.id}),L(!0)},"data-testid":`button-delete-orphaned-aircraft-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})})]})})},g.id))})]}),Ii.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(uu,{className:"h-4 w-4"}),"Marketplace Listings (",Ii.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ii.marketplace.map(g=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(ta,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:g.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.category.replace("-"," ")," - ",g.city]}),s.jsx(Q,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Z({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-delete-orphaned-marketplace-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})})]})})},g.id))})]})]})})]})]})}),s.jsx(At,{value:"promo",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ae,{children:"Promotional Alerts"}),s.jsx(Re,{children:"Manage promotional banners and announcements that appear on the marketplace"})]}),s.jsxs(O,{onClick:()=>{de(null),cn.reset(),E(!0)},"data-testid":"button-add-promo",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Add Promo"]})]})}),s.jsx(U,{children:bL?s.jsx("div",{className:"space-y-4",children:[1,2].map(g=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):a0.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No promotional alerts configured"})}):s.jsx("div",{className:"space-y-4",children:a0.map(g=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30",children:s.jsx(Fu,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.message}),g.promoCode&&s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-muted rounded-md",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Code:"}),s.jsx("span",{className:"font-mono font-semibold text-sm",children:g.promoCode})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:g.isEnabled?"default":"secondary",children:g.isEnabled?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>f0.mutate({id:g.id,isEnabled:!g.isEnabled}),disabled:f0.isPending,"data-testid":`button-toggle-promo-${g.id}`,children:g.isEnabled?"Disable":"Enable"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[g.showOnMainPage&&s.jsx(Q,{variant:"outline",children:"Main Page"}),g.showOnCategoryPages&&s.jsx(Q,{variant:"outline",children:"Category Pages"}),g.targetCategories&&g.targetCategories.length>0&&s.jsxs(Q,{variant:"outline",children:[g.targetCategories.length," Categories"]})]})]})]})})},g.id))})})]})}),s.jsx(At,{value:"promo-codes",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ae,{children:"Promo Codes Management"}),s.jsx(Re,{children:"Create and manage promotional discount codes"})]}),s.jsxs(O,{onClick:()=>{le(null),Mt.reset(),F(!0)},"data-testid":"button-add-promo-code",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Add Promo Code"]})]})}),s.jsxs(U,{children:[s.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(W,{placeholder:"Search promo codes...",value:fe,onChange:g=>qe(g.target.value),"data-testid":"input-promo-code-search"})})}),wL?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>s.jsx("div",{className:"h-32 rounded-lg bg-muted animate-pulse"},g))}):o0.filter(g=>{var q;return fe===""||g.code.toLowerCase().includes(fe.toLowerCase())||((q=g.description)==null?void 0:q.toLowerCase().includes(fe.toLowerCase()))}).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:fe?"No promo codes match your search":"No promo codes configured"})]}):s.jsx("div",{className:"space-y-4",children:o0.filter(g=>{var q;return fe===""||g.code.toLowerCase().includes(fe.toLowerCase())||((q=g.description)==null?void 0:q.toLowerCase().includes(fe.toLowerCase()))}).map(g=>{const q=g.validUntil&&new Date(g.validUntil)<new Date,Ye=g.usedCount||0,pt=g.maxUses||"";return s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(fy,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"px-3 py-1 bg-muted rounded-md font-mono font-bold text-lg",children:g.code}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(g.code),Fe({title:"Promo code copied to clipboard"})},"data-testid":`button-copy-code-${g.id}`,children:s.jsx(Zn,{className:"h-4 w-4"})})]}),g.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:g.isActive&&!q?"default":"secondary","data-testid":`badge-status-${g.id}`,children:q?"Expired":g.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>x0.mutate({id:g.id,isActive:!(g.isActive??!1)}),disabled:x0.isPending||q,"data-testid":`button-toggle-promo-code-${g.id}`,children:g.isActive?"Disable":"Enable"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{le(g),Mt.reset({code:g.code,description:g.description||"",discountType:g.discountType,discountValue:g.discountValue||"",maxUses:g.maxUses||void 0,validFrom:g.validFrom?new Date(g.validFrom):new Date,validUntil:g.validUntil?new Date(g.validUntil):void 0,isActive:g.isActive===null?void 0:g.isActive,applicableToBannerAds:!!g.applicableToBannerAds,applicableToMarketplace:!!g.applicableToMarketplace}),F(!0)},"data-testid":`button-edit-promo-code-${g.id}`,children:s.jsx(Zi,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete promo code "${g.code}"?`)&&p0.mutate(g.id)},disabled:p0.isPending,"data-testid":`button-delete-promo-code-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),s.jsx("p",{className:"font-semibold",children:g.discountType==="percentage"?`${g.discountValue}%`:`$${g.discountValue}`})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid From"}),s.jsx("p",{className:"text-sm",children:g.validFrom?new Date(g.validFrom).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid To"}),s.jsx("p",{className:"text-sm",children:g.validUntil?new Date(g.validUntil).toLocaleDateString():"No expiry"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Usage"}),s.jsxs("p",{className:"font-semibold",children:[Ye," / ",pt]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.applicableToBannerAds&&s.jsx(Q,{variant:"outline","data-testid":`badge-banner-${g.id}`,children:"Banner Ads"}),g.applicableToMarketplace&&s.jsx(Q,{variant:"outline","data-testid":`badge-marketplace-${g.id}`,children:"Marketplace"})]})]})]})})},g.id)})})]})]})}),s.jsx(At,{value:"withdrawals",className:"space-y-6",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-withdrawal-requests",children:"Owner Payouts Dashboard"}),s.jsx(Re,{children:"Monitor and track all automated payouts to aircraft owners"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(W,{placeholder:"Search by user ID, email, transaction ID...",value:ge,onChange:g=>Ue(g.target.value),"data-testid":"input-withdrawal-search"})}),s.jsxs(Ds,{value:xt,onValueChange:gt,children:[s.jsx(_s,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(Os,{placeholder:"Filter by status"})}),s.jsxs(ks,{children:[s.jsx(we,{value:"all",children:"All Statuses"}),s.jsx(we,{value:"completed",children:"Completed"}),s.jsx(we,{value:"processing",children:"Processing"}),s.jsx(we,{value:"failed",children:"Failed"})]})]})]}),!l0&&gg.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Payouts"}),s.jsx("div",{className:"text-2xl font-bold",children:zl.length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:zl.filter(g=>g.status==="completed").length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:zl.filter(g=>g.status==="failed").length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",zl.filter(g=>g.status==="completed").reduce((g,q)=>g+parseFloat(q.amount),0).toFixed(2)]})]})]}),l0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading withdrawal history..."}):gg.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-withdrawals",children:"No withdrawal history yet"}):zl.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No withdrawals match your search criteria"}):s.jsx("div",{className:"space-y-4",children:zl.map(g=>s.jsx($,{className:"p-4","data-testid":`card-withdrawal-${g.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-lg","data-testid":`text-amount-${g.id}`,children:["$",parseFloat(g.amount).toFixed(2)]}),s.jsx(Q,{variant:g.status==="completed"?"default":g.status==="processing"?"secondary":g.status==="failed"?"destructive":"outline","data-testid":`badge-status-${g.id}`,children:g.status})]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",g.userId]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"PayPal Email:"})," ",g.paypalEmail]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Requested:"})," ",new Date(g.requestedAt).toLocaleString()]}),g.processedAt&&s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Processed:"})," ",new Date(g.processedAt).toLocaleString()]}),g.payoutBatchId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",g.payoutBatchId]}),g.transactionId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"})," ",g.transactionId]}),g.failureReason&&s.jsxs("p",{className:"text-sm text-destructive",children:[s.jsx("span",{className:"font-medium",children:"Failure Reason:"})," ",g.failureReason]})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("p",{children:"Automated Payout"}),g.status==="completed"&&s.jsx("p",{className:"text-green-600 font-medium",children:" Sent"}),g.status==="failed"&&s.jsx("p",{className:"text-red-600 font-medium",children:" Failed"}),g.status==="processing"&&s.jsx("p",{className:"text-blue-600 font-medium",children:" Processing"})]})]})},g.id))})]})]})}),s.jsx(At,{value:"notifications",className:"space-y-6",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-notifications",children:"Admin Notifications"}),s.jsx(Re,{children:"System alerts for listing thresholds and important events"})]}),s.jsx(U,{children:CL?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading notifications..."})}):c0.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(oj,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]}):s.jsx("div",{className:"space-y-3",children:c0.map(g=>{var q;return s.jsx($,{className:g.isRead?"opacity-60":"border-primary","data-testid":`notification-${g.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:g.title}),!g.isRead&&s.jsx(Q,{variant:"destructive",className:"text-xs",children:"New"}),g.type==="listing_threshold"&&s.jsx(Q,{variant:"secondary",className:"text-xs",children:"Threshold Alert"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.message}),g.listingCount&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Category: ",(q=g.category)==null?void 0:q.replace("-"," ").toUpperCase()]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Count: ",g.listingCount]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Threshold: ",g.threshold]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(g.createdAt).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!g.isRead&&s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>AL.mutate(g.id),"data-testid":`button-mark-read-${g.id}`,children:s.jsx(fs,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>FL.mutate(g.id),"data-testid":`button-delete-notification-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]})})},g.id)})})})]})}),s.jsxs(At,{value:"banners",className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{"data-testid":"heading-banner-orders",children:"Banner Ad Orders"}),s.jsx(Re,{children:"Manage sponsor orders, track payments, and activate banner campaigns"})]}),s.jsxs(O,{onClick:()=>{He(null),Vt(""),Ge.reset(),Me(!0)},"data-testid":"button-create-order",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),s.jsxs(U,{children:[yg.some(g=>g.paymentStatus!=="paid")&&s.jsx("div",{className:"mb-4 rounded-lg border border-destructive/40 bg-destructive/5 p-4 text-sm text-destructive","data-testid":"alert-unpaid-banner-orders",children:"Some banner orders are unpaid. Capture payment (PayPal) before approval and activation."}),kL?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):yg.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Orders Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:"Create banner ad orders to manage sponsor billing and campaign activation."}),s.jsxs(O,{onClick:()=>{He(null),Vt(""),Ge.reset(),Me(!0)},"data-testid":"button-create-first-order",children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Create First Order"]})]}):s.jsx("div",{className:"space-y-4",children:yg.map(g=>s.jsx($,{"data-testid":`order-card-${g.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[g.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h4",{className:"font-semibold",children:g.title}),s.jsx(Q,{variant:g.approvalStatus==="approved"?"default":g.approvalStatus==="rejected"?"destructive":g.approvalStatus==="sent"?"secondary":"outline",children:g.approvalStatus}),s.jsx(Q,{variant:g.paymentStatus==="paid"?"default":g.paymentStatus==="refunded"?"destructive":"outline",children:g.paymentStatus}),s.jsx(Q,{variant:"outline",className:"capitalize",children:g.tier.replace(/(\d+)month/,"$1 Month")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Sponsor:"})," ",g.sponsorName,g.sponsorCompany&&` (${g.sponsorCompany})`]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",g.sponsorEmail]}),g.description&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",g.description]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"font-medium",children:["Total: $",g.grandTotal]}),g.placements&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Placements:"})," ",g.placements.length," pages"]}),g.paypalPaymentDate&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Paid:"})," ",new Date(g.paypalPaymentDate).toLocaleDateString()]})]}),g.adminNotes&&s.jsxs("p",{className:"text-xs italic",children:[s.jsx("span",{className:"font-medium",children:"Notes:"})," ",g.adminNotes]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.paymentStatus==="paid"&&(g.approvalStatus==="draft"||g.approvalStatus==="sent"||g.approvalStatus==="pending_review")&&s.jsxs(s.Fragment,{children:[s.jsxs(O,{size:"sm",variant:"default",onClick:()=>y0.mutate(g.id),disabled:y0.isPending,"data-testid":`button-approve-order-${g.id}`,children:[s.jsx(fs,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(O,{size:"sm",variant:"destructive",onClick:()=>{const q=prompt("Rejection reason (optional):");q!==null&&v0.mutate({id:g.id,adminNotes:q||void 0})},disabled:v0.isPending,"data-testid":`button-reject-order-${g.id}`,children:[s.jsx(zn,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),g.paymentStatus==="paid"&&g.approvalStatus==="approved"&&(u0(g.id)?s.jsxs(Q,{variant:"secondary",className:"cursor-not-allowed","data-testid":`badge-activated-${g.id}`,children:[s.jsx(fs,{className:"h-3 w-3 mr-1"}),"Already Activated"]}):s.jsxs(O,{size:"sm",variant:"default",onClick:()=>g0.mutate(g.id),disabled:g0.isPending,"data-testid":`button-activate-order-${g.id}`,children:[s.jsx(XB,{className:"h-4 w-4 mr-1"}),"Activate"]})),!u0(g.id)&&s.jsxs(O,{size:"sm",variant:"ghost",onClick:()=>{if(He(g),Vt(g.imageUrl??""),Dt(g.tier),g.promoCode){js(g.promoCode),ve(g.promoCode),I(!0);const q=parseFloat(g.discountAmount||"0");X(`Promo code applied! You save $${q.toFixed(2)}`)}else js(""),ve(null),I(null),X("");Ge.reset({sponsorName:g.sponsorName,sponsorEmail:g.sponsorEmail,sponsorCompany:g.sponsorCompany??"",title:g.title,description:g.description??"",imageUrl:g.imageUrl??"",link:g.link??"",placements:g.placements??[],category:g.category??void 0,tier:g.tier,monthlyRate:g.monthlyRate,totalAmount:g.totalAmount,creationFee:g.creationFee,promoCode:g.promoCode??"",discountAmount:g.discountAmount??"0.00",grandTotal:g.grandTotal,approvalStatus:g.approvalStatus,paymentStatus:g.paymentStatus??void 0,adminNotes:g.adminNotes??""}),Me(!0)},"data-testid":`button-edit-order-${g.id}`,children:[s.jsx(Zi,{className:"h-4 w-4 mr-1"}),"Edit Order Details"]}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this order?")&&$L.mutate(g.id)},"data-testid":`button-delete-order-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]})})},g.id))})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-banners",children:"Live Banner Ads"}),s.jsx(Re,{children:"View and manage active banner campaigns created from paid orders. Banner ads are automatically created when you activate a paid Banner Ad Order."})]}),s.jsx(U,{children:_L?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading banner ads..."})}):Em.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mp,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Live Banner Ads"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Banner ads appear here when you activate paid orders from the Banner Ad Orders section. Create an order, get payment from the sponsor, then activate it to create a live banner ad."})]}):s.jsx("div",{className:"space-y-4",children:Em.map(g=>s.jsx($,{"data-testid":`banner-card-${g.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[g.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:g.title}),s.jsx(Q,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),g.placements&&g.placements.length>0&&s.jsx(Q,{variant:"outline",className:"capitalize",children:g.placements[0].replace("_"," ")}),g.category&&s.jsx(Q,{variant:"outline",className:"capitalize",children:g.category.replace("-"," ")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[g.link&&s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"font-medium",children:"Link URL:"})," ",g.link]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:[s.jsx(Lo,{className:"h-3 w-3 inline mr-1"}),new Date(g.startDate).toLocaleDateString(),g.endDate&&` - ${new Date(g.endDate).toLocaleDateString()}`]}),s.jsxs("span",{children:[s.jsx(hp,{className:"h-3 w-3 inline mr-1"}),g.impressions??0," impressions"]}),s.jsxs("span",{children:[s.jsx(Hl,{className:"h-3 w-3 inline mr-1"}),g.clicks??0," clicks"]}),(g.impressions??0)>0&&s.jsxs("span",{className:"text-primary",children:["CTR: ",((g.clicks??0)/(g.impressions??0)*100).toFixed(2),"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>LL.mutate({id:g.id,isActive:!g.isActive}),"data-testid":`button-toggle-banner-${g.id}`,children:g.isActive?s.jsx(zn,{className:"h-4 w-4"}):s.jsx(fs,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{je(g),nt(g.imageUrl||""),ms.reset({title:g.title,imageUrl:g.imageUrl||"",link:g.link??"",description:g.description??"",placements:g.placements||[],category:g.category||void 0,listingId:g.listingId||void 0,listingType:g.listingType||void 0,isActive:g.isActive,startDate:g.startDate?new Date(g.startDate):new Date,endDate:g.endDate?new Date(g.endDate):void 0}),Ct(!0)},"data-testid":`button-edit-banner-${g.id}`,children:s.jsx(Zi,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm(`Are you sure you want to delete the banner ad "${g.title}"?`)&&ML.mutate(g.id)},"data-testid":`button-delete-banner-${g.id}`,children:s.jsx(pn,{className:"h-4 w-4"})})]})]})})},g.id))})})]})]})]}),s.jsx(ts,{open:o,onOpenChange:g=>{l(g),g||(a(null),d(""))},children:s.jsxs(Gt,{className:"max-w-2xl",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Review Verification Submission"}),s.jsx(ps,{children:"Review the submitted documents and information carefully before approving or rejecting."})]}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Submission Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",i.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(Q,{variant:"outline",children:i.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"})," ",i.createdAt?new Date(i.createdAt).toLocaleString():"Unknown"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",i.userId]})]})]}),(()=>{const g=i.submissionData;return s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Legal Name:"})," ",g.legalFirstName," ",g.legalLastName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",g.dateOfBirth]}),g.faaCertificateNumber&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"FAA Certificate:"})," ",g.faaCertificateNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Certificate Name:"})," ",g.pilotCertificateName]})]})]})]})})(),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold",children:["Documents (",((D0=i.documentUrls)==null?void 0:D0.length)||0,")"]}),s.jsx("div",{className:"space-y-1 text-sm",children:(i.documentUrls||[]).map((g,q)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"secondary",className:"text-xs",children:["Document ",q+1]}),s.jsx("span",{className:"text-muted-foreground truncate",children:g})]},q))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Document URLs are placeholders. In production, these will link to cloud storage."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"rejection-notes",children:"Rejection Notes (optional)"}),s.jsx(Qt,{id:"rejection-notes",placeholder:"Provide feedback on why this verification is being rejected...",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-rejection-notes"})]})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{l(!1),d("")},children:"Cancel"}),s.jsxs(O,{variant:"destructive",onClick:()=>{i&&jg.mutate({id:i.id,notes:c||"No reason provided"})},disabled:jg.isPending,"data-testid":"button-reject-verification",children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),jg.isPending?"Rejecting...":"Reject"]}),s.jsxs(O,{onClick:()=>{i&&vg.mutate(i.id)},disabled:vg.isPending,"data-testid":"button-approve-verification",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),vg.isPending?"Approving...":"Approve"]})]})]})}),s.jsx(ts,{open:b,onOpenChange:j,children:s.jsxs(Gt,{className:"max-w-2xl","data-testid":"dialog-lead-form",children:[s.jsxs(os,{children:[s.jsx(ls,{children:v?"Edit Lead":"Add New Lead"}),s.jsx(ps,{children:v?"Update lead information":"Add a new sales lead to your CRM"})]}),s.jsx(Mr,{...ht,children:s.jsxs("form",{onSubmit:ht.handleSubmit(WL),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:ht.control,name:"firstName",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"First Name"}),s.jsx(ie,{children:s.jsx(W,{...g,"data-testid":"input-lead-first-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ht.control,name:"lastName",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Last Name"}),s.jsx(ie,{children:s.jsx(W,{...g,"data-testid":"input-lead-last-name"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:ht.control,name:"email",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Email"}),s.jsx(ie,{children:s.jsx(W,{type:"email",...g,"data-testid":"input-lead-email"})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:ht.control,name:"phone",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Phone"}),s.jsx(ie,{children:s.jsx(W,{...g,value:g.value||"","data-testid":"input-lead-phone"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ht.control,name:"company",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Company"}),s.jsx(ie,{children:s.jsx(W,{...g,value:g.value||"","data-testid":"input-lead-company"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:ht.control,name:"status",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Status"}),s.jsxs(Ds,{onValueChange:g.onChange,value:g.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-lead-status",children:s.jsx(Os,{placeholder:"Select status"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"new",children:"New"}),s.jsx(we,{value:"contacted",children:"Contacted"}),s.jsx(we,{value:"qualified",children:"Qualified"}),s.jsx(we,{value:"proposal",children:"Proposal"}),s.jsx(we,{value:"negotiation",children:"Negotiation"}),s.jsx(we,{value:"won",children:"Won"}),s.jsx(we,{value:"lost",children:"Lost"})]})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ht.control,name:"source",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Source"}),s.jsxs(Ds,{onValueChange:g.onChange,value:g.value||"",children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-lead-source",children:s.jsx(Os,{placeholder:"Select source"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"website",children:"Website"}),s.jsx(we,{value:"referral",children:"Referral"}),s.jsx(we,{value:"social_media",children:"Social Media"}),s.jsx(we,{value:"advertising",children:"Advertising"}),s.jsx(we,{value:"cold_outreach",children:"Cold Outreach"}),s.jsx(we,{value:"event",children:"Event"}),s.jsx(we,{value:"other",children:"Other"})]})]}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:ht.control,name:"notes",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Notes"}),s.jsx(ie,{children:s.jsx(Qt,{...g,value:g.value||"","data-testid":"textarea-lead-notes",placeholder:"Add any notes about this lead...",rows:4})}),s.jsx(oe,{})]})}),s.jsxs(xn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{j(!1),ht.reset(),p(null)},children:"Cancel"}),s.jsx(O,{type:"submit",disabled:bg.isPending||wg.isPending,"data-testid":"button-submit-lead",children:bg.isPending||wg.isPending?"Saving...":v?"Update Lead":"Create Lead"})]})]})})]})}),s.jsx(ts,{open:x,onOpenChange:w,children:s.jsxs(Gt,{className:"max-w-md","data-testid":"dialog-expense-form",children:[s.jsxs(os,{children:[s.jsx(ls,{children:N?"Edit Expense":"Add New Expense"}),s.jsx(ps,{children:N?"Update expense information":"Track a new expense"})]}),s.jsx(Mr,{...Ot,children:s.jsxs("form",{onSubmit:Ot.handleSubmit(qL),className:"space-y-4",children:[s.jsx(ne,{control:Ot.control,name:"category",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Category"}),s.jsxs(Ds,{onValueChange:g.onChange,value:g.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-expense-category",children:s.jsx(Os,{placeholder:"Select category"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"server",children:"Server"}),s.jsx(we,{value:"database",children:"Database"}),s.jsx(we,{value:"other",children:"Other"})]})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ot.control,name:"amount",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Amount ($)"}),s.jsx(ie,{children:s.jsx(W,{...g,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-expense-amount"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ot.control,name:"expenseDate",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Date"}),s.jsx(ie,{children:s.jsx(W,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):new Date),"data-testid":"input-expense-date"})}),s.jsx(oe,{})]})}),s.jsxs(J,{children:[s.jsx(ee,{children:"Invoice (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{type:"file",accept:"image/*,.pdf",onChange:g=>{var Ye;const q=(Ye=g.target.files)==null?void 0:Ye[0];q&&Fi(q)},"data-testid":"input-invoice-file"}),Es&&s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[s.jsx("span",{className:"text-sm truncate",children:Es.name}),s.jsx(O,{type:"button",size:"sm",onClick:HL,disabled:ya,"data-testid":"button-extract-invoice-data",children:ya?"Extracting...":"Auto-fill from invoice"})]})]}),s.jsx(Ss,{children:"Upload an invoice image or PDF. We'll automatically extract the amount, date, and description."})]}),s.jsx(ne,{control:Ot.control,name:"description",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description (Optional)"}),s.jsx(ie,{children:s.jsx(Qt,{...g,value:g.value||"","data-testid":"textarea-expense-description",placeholder:"Add details about this expense...",rows:3})}),s.jsx(oe,{})]})}),s.jsxs(xn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{w(!1),Ot.reset(),_(null)},children:"Cancel"}),s.jsx(O,{type:"submit",disabled:Ng.isPending||Sg.isPending,"data-testid":"button-submit-expense",children:Ng.isPending||Sg.isPending?"Saving...":N?"Update Expense":"Add Expense"})]})]})})]})}),s.jsx(ts,{open:!!C,onOpenChange:g=>!g&&k(null),children:s.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Aircraft Listing Details"}),s.jsx(ps,{children:"Review full aircraft listing information"})]}),C&&s.jsxs("div",{className:"space-y-6",children:[C.images&&C.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.images.slice(0,6).map((g,q)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:g,alt:`Aircraft ${q+1}`,className:"w-full h-full object-cover"})},q))}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3",children:[C.year," ",C.make," ",C.model]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Registration:"})," ",s.jsx("span",{className:"font-medium",children:C.registration})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:C.location})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Hourly Rate:"})," ",s.jsxs("span",{className:"font-medium",children:["$",C.hourlyRate,"/hr"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Time:"})," ",s.jsxs("span",{className:"font-medium",children:[C.totalTime," hrs"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Owner ID:"})," ",s.jsx("span",{className:"font-medium",children:C.ownerId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(Q,{variant:C.isListed?"default":"secondary",children:C.isListed?"Listed":"Unlisted"})]})]})]}),C.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.description})]}),C.requiredCertifications&&C.requiredCertifications.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.requiredCertifications.map((g,q)=>s.jsx(Q,{variant:"outline",children:g},q))})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>{h0.mutate({id:C.id,isListed:!C.isListed}),k(null)},children:[C.isListed?"Unlist":"List"," Aircraft"]}),s.jsx(O,{variant:"destructive",onClick:()=>{Z({type:"aircraft",id:C.id}),L(!0),k(null)},children:"Delete Listing"})]})]})]})}),s.jsx(ts,{open:!!P,onOpenChange:g=>!g&&M(null),children:s.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Marketplace Listing Details"}),s.jsx(ps,{children:"Review full marketplace listing information"})]}),P&&s.jsxs("div",{className:"space-y-6",children:[P.images&&P.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.images.slice(0,6).map((g,q)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:g,alt:`Listing ${q+1}`,className:"w-full h-full object-cover"})},q))}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:P.title}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",s.jsx(Q,{variant:"outline",className:"ml-1",children:P.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:P.location||"Not specified"})]}),P.price&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",s.jsxs("span",{className:"font-medium",children:["$",P.price]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"})," ",s.jsxs("span",{className:"font-medium",children:["$",P.monthlyFee,P.monthlyFee==="0"&&" (FREE)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",s.jsx("span",{className:"font-medium",children:P.userId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(Q,{variant:P.isActive?"default":"secondary",children:P.isActive?"Active":"Inactive"})]}),P.isPaid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment:"})," ",s.jsx(Q,{variant:"default",children:"Paid"})]}),P.expiresAt&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",s.jsx("span",{className:"font-medium",children:new Date(P.expiresAt).toLocaleDateString()})]})]})]}),P.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:P.description})]}),(P.contactEmail||P.contactPhone)&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[P.contactEmail&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:P.contactEmail})]}),P.contactPhone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:P.contactPhone})]})]})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>{m0.mutate({id:P.id,isActive:!P.isActive}),M(null)},children:[P.isActive?"Deactivate":"Activate"," Listing"]}),s.jsx(O,{variant:"destructive",onClick:()=>{Z({type:"marketplace",id:P.id}),L(!0),M(null)},children:"Delete Listing"})]})]})]})}),s.jsx(ts,{open:R,onOpenChange:L,children:s.jsxs(Gt,{children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Delete Listing"}),s.jsxs(ps,{children:["Are you sure you want to delete this ",(V==null?void 0:V.type)==="aircraft"?"aircraft":"marketplace"," listing? This action cannot be undone."]})]}),s.jsxs(xn,{children:[s.jsx(O,{variant:"outline",onClick:()=>{L(!1),Z(null)},"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(O,{variant:"destructive",onClick:BL,disabled:Cg.isPending||Rg.isPending,"data-testid":"button-confirm-delete",children:Cg.isPending||Rg.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(ts,{open:se,onOpenChange:E,children:s.jsxs(Gt,{className:"max-w-2xl","data-testid":"dialog-create-promo",children:[s.jsxs(os,{children:[s.jsxs(ls,{children:[K?"Edit":"Create"," Promotional Alert"]}),s.jsxs(ps,{children:[K?"Update":"Create a new"," promotional banner or announcement for the marketplace"]})]}),s.jsx(Mr,{...cn,children:s.jsxs("form",{onSubmit:cn.handleSubmit(g=>kg.mutate(g)),className:"space-y-4",children:[s.jsx(ne,{control:cn.control,name:"title",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Title"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Limited Time Offer!",...g,"data-testid":"input-promo-title"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:cn.control,name:"message",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Message"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Get your first listing free for 7 days!",...g,"data-testid":"textarea-promo-message"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:cn.control,name:"promoCode",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Promo Code (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"LAUNCH2025",...g,value:g.value||"","data-testid":"input-promo-code"})}),s.jsx(Ss,{children:"Leave blank if no code needed"}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:cn.control,name:"showOnMainPage",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-show-main"})}),s.jsx(ee,{className:"cursor-pointer",children:"Show on Main Page"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:cn.control,name:"showOnCategoryPages",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-show-category"})}),s.jsx(ee,{className:"cursor-pointer",children:"Show on Category Pages"}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:cn.control,name:"targetCategories",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Target Categories"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["sale","charter","cfi","flight-school","mechanic","job"].map(q=>{var Ye;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{checked:(Ye=g.value)==null?void 0:Ye.includes(q),onCheckedChange:pt=>{const Nt=g.value||[];pt?g.onChange([...Nt,q]):g.onChange(Nt.filter(ti=>ti!==q))},"data-testid":`checkbox-category-${q}`}),s.jsx(Ce,{className:"cursor-pointer capitalize",children:q==="cfi"?"CFI":q.replace("-"," ")})]},q)})}),s.jsx(Ss,{children:"Leave all unchecked to show on all categories"}),s.jsx(oe,{})]})}),s.jsxs(xn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{E(!1),de(null),cn.reset()},"data-testid":"button-cancel-create-promo",children:"Cancel"}),s.jsxs(O,{type:"submit",disabled:kg.isPending,"data-testid":"button-submit-promo",children:[kg.isPending?"Creating...":K?"Update":"Create"," Alert"]})]})]})})]})}),s.jsx(ts,{open:Ke,onOpenChange:g=>{Ct(g),g||(je(null),ms.reset(),nt(""))},children:s.jsx(Gt,{className:"max-w-3xl p-0","data-testid":"dialog-create-banner",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(os,{className:"px-6 pt-6",children:[s.jsx(ls,{children:"Edit Live Banner Ad"}),s.jsx(ps,{children:"Admin override: You can edit all banner ad fields including creative content, scheduling, and status."})]}),s.jsx(Mr,{...ms,children:s.jsxs("form",{onSubmit:ms.handleSubmit(g=>{if(!st){Fe({title:"Error",description:"Can only edit existing banner ads. Banner ads are created by activating paid orders.",variant:"destructive"});return}const q={title:g.title,description:g.description,imageUrl:$e||g.imageUrl,link:g.link,placements:g.placements,category:g.category,startDate:g.startDate,endDate:g.endDate,isActive:g.isActive};Eg.mutate({id:st.id,data:q})}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ne,{control:ms.control,name:"title",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Banner Title"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Premium Aircraft Rentals",...g,"data-testid":"input-banner-title"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ms.control,name:"description",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description/Tagline (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Fly with confidence",...g,value:g.value??"","data-testid":"input-banner-description"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ms.control,name:"link",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Link URL (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"https://example.com",...g,value:g.value??"","data-testid":"input-banner-link"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ms.control,name:"imageUrl",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Banner Image"}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{placeholder:"Image URL",...g,value:g.value??"","data-testid":"input-banner-image-url"}),s.jsx(Hp,{onGetUploadParameters:RL,onComplete:IL,maxNumberOfFiles:1,children:s.jsx("div",{})}),(g.value||$e)&&s.jsx("img",{src:g.value||$e,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ne,{control:ms.control,name:"placements",render:()=>s.jsxs(J,{children:[s.jsx(ee,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage"},{value:"rentals",label:"Aircraft Rentals"},{value:"marketplace",label:"Marketplace Hub"}].map(g=>s.jsx(ne,{control:ms.control,name:"placements",render:({field:q})=>{var Ye;return s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:((Ye=q.value)==null?void 0:Ye.includes(g.value))??!1,onCheckedChange:pt=>{const Nt=q.value||[],ti=pt?[...Nt,g.value]:Nt.filter(jr=>jr!==g.value);q.onChange(ti)},"data-testid":`checkbox-banner-placement-${g.value}`})}),s.jsx(ee,{className:"cursor-pointer font-normal",children:g.label})]})}},g.value))}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Scheduling & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:ms.control,name:"startDate",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Start Date"}),s.jsx(ie,{children:s.jsx(W,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-banner-start-date"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:ms.control,name:"endDate",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"End Date"}),s.jsx(ie,{children:s.jsx(W,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-banner-end-date"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:ms.control,name:"isActive",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-banner-active"})}),s.jsx(ee,{className:"cursor-pointer",children:"Active (show banner immediately)"}),s.jsx(oe,{})]})})]})]}),s.jsxs(xn,{className:"px-6 pb-6",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{Ct(!1),je(null),ms.reset(),nt("")},"data-testid":"button-cancel-edit-banner",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:Eg.isPending,"data-testid":"button-submit-edit-banner",children:Eg.isPending?"Updating...":"Update Banner Ad"})]})]})})]})})}),s.jsx(ts,{open:Je,onOpenChange:g=>{Me(g),g||(He(null),Ge.reset(),js(""),I(null),X(""),ve(null),Vt(""))},children:s.jsx(Gt,{className:"max-w-3xl p-0","data-testid":"dialog-create-order",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(os,{className:"px-6 pt-6",children:[s.jsxs(ls,{children:[pe?"Edit":"Create"," Banner Ad Order"]}),s.jsxs(ps,{children:[pe?"Update":"Create a new"," banner ad order for sponsor billing and activation"]})]}),s.jsx(Mr,{...Ge,children:s.jsxs("form",{onSubmit:Ge.handleSubmit(g=>{if(!g.placements||g.placements.length===0){Fe({title:"Validation Error",description:"Please select at least one page for banner placement",variant:"destructive"});return}const q={...g,imageUrl:g.imageUrl||Zt};pe?Fg.mutate({id:pe.id,data:q}):Ag.mutate(q)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Sponsor Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:Ge.control,name:"sponsorName",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Sponsor Name"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"John Doe",...g,"data-testid":"input-order-sponsor-name"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ge.control,name:"sponsorEmail",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Sponsor Email"}),s.jsx(ie,{children:s.jsx(W,{type:"email",placeholder:"sponsor@example.com",...g,"data-testid":"input-order-sponsor-email"})}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:Ge.control,name:"sponsorCompany",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Company Name (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Aviation Corp",...g,value:g.value??"","data-testid":"input-order-sponsor-company"})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ne,{control:Ge.control,name:"title",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Banner Title"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Premium Aircraft Rentals",...g,"data-testid":"input-order-title"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ge.control,name:"description",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description/Tagline (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Fly with confidence",...g,value:g.value??"","data-testid":"input-order-description"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ge.control,name:"link",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Link URL (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"https://example.com",...g,value:g.value??"","data-testid":"input-order-link"})}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Ge.control,name:"imageUrl",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Banner Image"}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{placeholder:"Image URL",...g,value:g.value??"","data-testid":"input-order-image-url"}),s.jsx(Hp,{onGetUploadParameters:DL,onComplete:OL,maxNumberOfFiles:1,children:"Upload Image"}),Zt&&s.jsx("img",{src:Zt,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ne,{control:Ge.control,name:"placements",render:()=>s.jsxs(J,{children:[s.jsx(ee,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage (Landing Page)"},{value:"rentals",label:"Aircraft Rentals Page"},{value:"marketplace",label:"Marketplace Hub"},{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"jobs",label:"Aviation Jobs"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight Schools"},{value:"mechanic",label:"Mechanic Services"},{value:"charter",label:"Charter Services"}].map(g=>s.jsx(ne,{control:Ge.control,name:"placements",render:({field:q})=>{var Ye;return s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:((Ye=q.value)==null?void 0:Ye.includes(g.value))??!1,onCheckedChange:pt=>{const Nt=q.value||[],ti=pt?[...Nt,g.value]:Nt.filter(jr=>jr!==g.value);q.onChange(ti)},"data-testid":`checkbox-order-placement-${g.value}`})}),s.jsx(ee,{className:"cursor-pointer font-normal",children:g.label})]})}},g.value))}),s.jsx(oe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Pricing & Billing"}),s.jsx(ne,{control:Ge.control,name:"tier",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Select Tier"}),s.jsx(ie,{children:s.jsxs("select",{...g,className:"w-full h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",onChange:q=>{g.onChange(q);const Ye=q.target.value;Dt(Ye),js(""),I(null),X(""),ve(null);const pt=iu(Ye);Ge.setValue("monthlyRate",pt.monthlyRate.toString()),Ge.setValue("totalAmount",pt.subscriptionTotal.toString()),Ge.setValue("creationFee",pt.creationFee.toString()),Ge.setValue("grandTotal",pt.grandTotal.toString()),Ge.setValue("promoCode",""),Ge.setValue("discountAmount","0.00")},"data-testid":"select-order-tier",children:[s.jsx("option",{value:"1month",children:"1 Month - $75/mo"}),s.jsx("option",{value:"3months",children:"3 Months - $60/mo (Most Popular)"}),s.jsx("option",{value:"6months",children:"6 Months - $50/mo (Best Value)"}),s.jsx("option",{value:"12months",children:"12 Months - $45/mo"})]})}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Promo Code (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{placeholder:"Enter promo code",value:Pn,onChange:g=>js(g.target.value.toUpperCase()),"data-testid":"input-order-promo-code",className:"flex-1"}),s.jsx(O,{type:"button",variant:"outline",onClick:UL,"data-testid":"button-apply-promo-code",children:"Apply"})]}),Bn===!1&&s.jsx("p",{className:"text-sm text-destructive","data-testid":"text-promo-error",children:H}),Bn===!0&&s.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1","data-testid":"text-promo-success",children:[s.jsx(fs,{className:"h-4 w-4"}),H]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Monthly Rate:"}),s.jsxs("span",{className:"font-semibold",children:["$",Ge.watch("monthlyRate"),"/mo"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Subscription (",ct==="1month"?"1":ct==="3months"?"3":ct==="6months"?"6":"12"," months):"]}),s.jsxs("span",{className:"font-semibold",children:["$",Ge.watch("totalAmount")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"One-time creation fee:"}),s.jsxs("span",{className:"font-semibold",children:["$",Ge.watch("creationFee")]})]}),Te&&parseFloat(Ge.watch("discountAmount")||"0")>0&&s.jsx(s.Fragment,{children:s.jsx("div",{className:"border-t pt-2 space-y-2",children:(()=>{const g=iu(ct),q=A2(g.creationFee,g.subscriptionTotal,Te);return s.jsxs(s.Fragment,{children:[q.creationFeeDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Creation fee discount:"}),s.jsxs("span",{children:["-$",q.creationFeeDiscount.toFixed(2)]})]}),q.subscriptionDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Subscription discount (20%):"}),s.jsxs("span",{children:["-$",q.subscriptionDiscount.toFixed(2)]})]})]})})()})}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"font-bold",children:"Due Today:"}),s.jsxs("span",{className:"font-bold text-lg",children:["$",Ge.watch("grandTotal")]})]})]})]}),s.jsx(ne,{control:Ge.control,name:"adminNotes",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Admin Notes (Optional)"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"Internal notes",...g,value:g.value??"","data-testid":"input-order-admin-notes"})}),s.jsx(oe,{})]})})]}),s.jsxs(xn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{Me(!1),He(null),Ge.reset()},"data-testid":"button-cancel-create-order",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:Ag.isPending||Fg.isPending,"data-testid":"button-submit-order",children:Ag.isPending||Fg.isPending?"Saving...":pe?"Update Order":"Create Order"})]})]})})]})})}),s.jsx(ts,{open:B,onOpenChange:g=>{F(g),g||(le(null),Mt.reset())},children:s.jsx(Gt,{className:"max-w-2xl p-0","data-testid":"dialog-create-promo-code",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(os,{className:"px-6 pt-6",children:[s.jsxs(ls,{children:[D?"Edit":"Create"," Promo Code"]}),s.jsxs(ps,{children:[D?"Update":"Create a new"," promotional discount code for marketplace listings or banner ads"]})]}),s.jsx(Mr,{...Mt,children:s.jsxs("form",{onSubmit:Mt.handleSubmit(g=>{const q={...g,code:g.code.toUpperCase().replace(/\s+/g,"")};D?Tg.mutate({id:D.id,data:q}):Pg.mutate(q)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsx(ne,{control:Mt.control,name:"code",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Code"}),s.jsx(ie,{children:s.jsx(W,{placeholder:"LAUNCH2025",...g,onChange:q=>g.onChange(q.target.value.toUpperCase().replace(/\s+/g,"")),"data-testid":"input-promo-code-code"})}),s.jsx(Ss,{children:"Uppercase letters and numbers only, no spaces"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Mt.control,name:"description",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Description"}),s.jsx(ie,{children:s.jsx(Qt,{placeholder:"Launch promotion for new users",...g,rows:3,"data-testid":"textarea-promo-code-description"})}),s.jsx(Ss,{children:"Internal description for this promo code"}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:Mt.control,name:"discountType",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Discount Type"}),s.jsxs(Ds,{onValueChange:g.onChange,value:g.value,children:[s.jsx(ie,{children:s.jsx(_s,{"data-testid":"select-promo-code-discount-type",children:s.jsx(Os,{placeholder:"Select type"})})}),s.jsxs(ks,{children:[s.jsx(we,{value:"percentage",children:"Percentage (%)"}),s.jsx(we,{value:"fixed",children:"Fixed Amount ($)"})]})]}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Mt.control,name:"discountValue",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Discount Value"}),s.jsx(ie,{children:s.jsx(W,{type:"number",step:"0.01",placeholder:Mt.watch("discountType")==="percentage"?"10":"5.00",...g,"data-testid":"input-promo-code-discount-value"})}),s.jsx(Ss,{children:Mt.watch("discountType")==="percentage"?"Percentage (0-100)":"Dollar amount"}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:Mt.control,name:"maxUses",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Max Uses"}),s.jsx(ie,{children:s.jsx(W,{type:"number",placeholder:"Unlimited",...g,value:g.value??"",onChange:q=>g.onChange(q.target.value?parseInt(q.target.value):void 0),"data-testid":"input-promo-code-max-uses"})}),s.jsx(Ss,{children:"Leave empty for unlimited uses"}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{control:Mt.control,name:"validFrom",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Valid From"}),s.jsx(ie,{children:s.jsx(W,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):new Date),"data-testid":"input-promo-code-valid-from"})}),s.jsx(Ss,{children:"Start date"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Mt.control,name:"validUntil",render:({field:g})=>s.jsxs(J,{children:[s.jsx(ee,{children:"Valid Until"}),s.jsx(ie,{children:s.jsx(W,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-promo-code-valid-until"})}),s.jsx(Ss,{children:"Leave empty for no expiration"}),s.jsx(oe,{})]})})]}),s.jsx(ne,{control:Mt.control,name:"isActive",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!0,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-active"})}),s.jsx(ee,{className:"cursor-pointer",children:"Active (code can be used immediately)"}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Applies To"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{control:Mt.control,name:"applicableToBannerAds",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-banner-ads"})}),s.jsx(ee,{className:"cursor-pointer",children:"Banner Ads"}),s.jsx(oe,{})]})}),s.jsx(ne,{control:Mt.control,name:"applicableToMarketplace",render:({field:g})=>s.jsxs(J,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(ie,{children:s.jsx(As,{checked:g.value??!0,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-marketplace"})}),s.jsx(ee,{className:"cursor-pointer",children:"Marketplace Listings"}),s.jsx(oe,{})]})})]}),s.jsx(Ss,{children:"Select where this promo code can be applied"})]})]}),s.jsxs(xn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{F(!1),le(null),Mt.reset()},"data-testid":"button-cancel-promo-code",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:Pg.isPending||Tg.isPending,"data-testid":"button-submit-promo-code",children:Pg.isPending||Tg.isPending?"Saving...":D?"Update Code":"Create Code"})]})]})})]})})}),s.jsx(fse,{userId:u,open:m,onOpenChange:g=>{y(g),g||h(null)}})]})}function xse(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:y,...b}=h,j=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,v=f.useMemo(()=>b,Object.values(b));return s.jsx(j.Provider,{value:v,children:y})};d.displayName=a+"Provider";function u(h,m){var j;const y=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,b=f.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,gse(i,...e)]}function gse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var yse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mL=yse.reduce((t,e)=>{const n=ym(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),r0="Progress",i0=100,[vse]=xse(r0),[jse,bse]=vse(r0),fL=f.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=wse,...o}=t;(i||i===0)&&!F2(i)&&console.error(Nse(`${i}`,"Progress"));const l=F2(i)?i:i0;r!==null&&!R2(r,l)&&console.error(Sse(`${r}`,"Progress"));const c=R2(r,l)?r:null,d=Wp(c)?a(c,l):void 0;return s.jsx(jse,{scope:n,value:c,max:l,children:s.jsx(mL.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Wp(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":gL(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});fL.displayName=r0;var pL="ProgressIndicator",xL=f.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=bse(pL,n);return s.jsx(mL.div,{"data-state":gL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});xL.displayName=pL;function wse(t,e){return`${Math.round(t/e*100)}%`}function gL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Wp(t){return typeof t=="number"}function F2(t){return Wp(t)&&!isNaN(t)&&t>0}function R2(t,e){return Wp(t)&&!isNaN(t)&&t<=e&&t>=0}function Nse(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${i0}\`.`}function Sse(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${i0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yL=fL,Cse=xL;const vL=f.forwardRef(({className:t,value:e,...n},r)=>s.jsx(yL,{ref:r,className:Se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:s.jsx(Cse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));vL.displayName=yL.displayName;function _se(){const{user:t}=ln(),[,e]=Zs(),{toast:n}=Bt(),[r,i]=f.useState("identity"),[a,o]=f.useState({legalFirstName:"",legalLastName:"",dateOfBirth:"",governmentIdFront:null,governmentIdBack:null,faaCertificateNumber:"",pilotCertificateName:"",pilotCertificatePhoto:null}),[l,c]=f.useState({}),d=[{id:"identity",title:"Identity",icon:wn},{id:"documents",title:"Documents",icon:pm},{id:"payment",title:"Payment",icon:Au},{id:"pilot",title:"FAA Pilot (Optional)",icon:Lt}],u=d.findIndex(v=>v.id===r),h=(u+1)/d.length*100,m=Ae({mutationFn:async v=>{const p=await fetch("/api/verification-submissions",{method:"POST",body:v,credentials:"include"});if(!p.ok){const x=await p.json();throw new Error(x.error||"Submission failed")}return await p.json()},onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Verification Submitted",description:"Your verification is under review. We'll notify you once it's approved."}),e("/profile")},onError:v=>{n({title:"Submission Failed",description:v.message||"Failed to submit verification",variant:"destructive"})}}),y=(v,p)=>{if(o(x=>({...x,[v]:p})),p){const x=new FileReader;x.onloadend=()=>{const w=v==="governmentIdFront"?"idFront":v==="governmentIdBack"?"idBack":"pilot";c(N=>({...N,[w]:x.result}))},x.readAsDataURL(p)}},b=()=>{if(r==="identity"){if(!a.legalFirstName||!a.legalLastName||!a.dateOfBirth){n({title:"Missing Information",description:"Please fill out all required fields",variant:"destructive"});return}i("documents")}else if(r==="documents"){if(!a.governmentIdFront||!a.governmentIdBack){n({title:"Missing Documents",description:"Please upload all required documents",variant:"destructive"});return}i("payment")}else r==="payment"&&i("pilot")},j=async()=>{const v=new FormData;v.append("type","renter_identity"),v.append("submissionData",JSON.stringify({legalFirstName:a.legalFirstName,legalLastName:a.legalLastName,dateOfBirth:a.dateOfBirth,faaCertificateNumber:a.faaCertificateNumber,pilotCertificateName:a.pilotCertificateName})),a.governmentIdFront&&v.append("governmentIdFront",a.governmentIdFront),a.governmentIdBack&&v.append("governmentIdBack",a.governmentIdBack),a.pilotCertificatePhoto&&v.append("pilotCertificatePhoto",a.pilotCertificatePhoto),m.mutate(v)};return t?s.jsx("div",{className:"min-h-screen bg-background py-8",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-verification-title",children:"Identity Verification"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete verification to list aircraft and book rentals"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-2",children:d.map((v,p)=>{const x=v.icon,w=p===u,N=p<u;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`flex items-center justify-center h-10 w-10 rounded-full border-2 ${N?"bg-primary border-primary text-primary-foreground":w?"border-primary text-primary":"border-muted text-muted-foreground"}`,"data-testid":`step-indicator-${v.id}`,children:N?s.jsx(Wt,{className:"h-5 w-5"}):s.jsx(x,{className:"h-5 w-5"})}),s.jsx("span",{className:`hidden md:inline text-sm ${w?"font-medium":""}`,children:v.title})]},v.id)})}),s.jsx(vL,{value:h,className:"h-2"})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsxs(ae,{children:[r==="identity"&&"Personal Information",r==="documents"&&"Upload Documents",r==="payment"&&"Payment Method",r==="pilot"&&"FAA Pilot Certificate (Optional)"]}),s.jsxs(Re,{children:[r==="identity"&&"Enter your legal name and date of birth",r==="documents"&&"Upload clear photos of your government ID (front and back)",r==="payment"&&"Add a payment method for booking rentals",r==="pilot"&&"Upload your FAA pilot certificate for additional verification"]})]}),s.jsxs(U,{className:"space-y-6",children:[r==="identity"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"legalFirstName",children:"Legal First Name *"}),s.jsx(W,{id:"legalFirstName",value:a.legalFirstName,onChange:v=>o(p=>({...p,legalFirstName:v.target.value})),placeholder:"John","data-testid":"input-legal-first-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"legalLastName",children:"Legal Last Name *"}),s.jsx(W,{id:"legalLastName",value:a.legalLastName,onChange:v=>o(p=>({...p,legalLastName:v.target.value})),placeholder:"Smith","data-testid":"input-legal-last-name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),s.jsx(W,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:v=>o(p=>({...p,dateOfBirth:v.target.value})),"data-testid":"input-date-of-birth"})]}),s.jsxs(Dn,{children:[s.jsx(jl,{className:"h-4 w-4"}),s.jsx(On,{children:"Your information must match your government-issued ID exactly."})]})]}),r==="documents"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"idFront",children:"Government ID - Front *"}),s.jsx(W,{id:"idFront",type:"file",accept:"image/*",onChange:v=>{var p;return y("governmentIdFront",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-front"}),l.idFront&&s.jsx("img",{src:l.idFront,alt:"ID Front",className:"mt-2 max-w-xs rounded-md border"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"idBack",children:"Government ID - Back *"}),s.jsx(W,{id:"idBack",type:"file",accept:"image/*",onChange:v=>{var p;return y("governmentIdBack",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-back"}),l.idBack&&s.jsx("img",{src:l.idBack,alt:"ID Back",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Dn,{children:[s.jsx(jl,{className:"h-4 w-4"}),s.jsx(On,{children:"Ensure all documents are clear and readable."})]})]}),r==="payment"&&s.jsxs(s.Fragment,{children:[s.jsxs(Dn,{children:[s.jsx(Au,{className:"h-4 w-4"}),s.jsx(On,{children:"Payment processing is handled securely through PayPal Business when you complete your first rental or listing transaction."})]}),s.jsxs("div",{className:"p-6 border-2 border-dashed rounded-lg text-center",children:[s.jsx(Au,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Payment Method"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your payment method will be securely added via PayPal Business when you make your first rental or listing payment. All transactions are processed through our trusted payment partner."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Ready Set Fly uses PayPal Business for secure payment processing"})]})]}),r==="pilot"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"faaCertNumber",children:"FAA Certificate Number (Optional)"}),s.jsx(W,{id:"faaCertNumber",value:a.faaCertificateNumber,onChange:v=>o(p=>({...p,faaCertificateNumber:v.target.value})),placeholder:"1234567","data-testid":"input-faa-cert-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"pilotName",children:"Name on Certificate (Optional)"}),s.jsx(W,{id:"pilotName",value:a.pilotCertificateName,onChange:v=>o(p=>({...p,pilotCertificateName:v.target.value})),placeholder:"John Smith","data-testid":"input-pilot-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"pilotPhoto",children:"Pilot Certificate Photo (Optional)"}),s.jsx(W,{id:"pilotPhoto",type:"file",accept:"image/*",onChange:v=>{var p;return y("pilotCertificatePhoto",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-pilot-photo"}),l.pilot&&s.jsx("img",{src:l.pilot,alt:"Pilot Certificate",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Dn,{children:[s.jsx(Lt,{className:"h-4 w-4"}),s.jsx(On,{children:"Adding your FAA pilot certificate is optional but helps verify your credentials for aircraft rentals."})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(O,{variant:"outline",onClick:()=>{const v=u-1;v>=0?i(d[v].id):e("/profile")},"data-testid":"button-back",children:u===0?"Cancel":"Back"}),r!=="pilot"?s.jsx(O,{onClick:b,"data-testid":"button-next",children:"Next"}):s.jsx(O,{onClick:j,disabled:m.isPending,"data-testid":"button-submit-verification",children:m.isPending?"Submitting...":"Submit for Review"})]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx($,{className:"max-w-md",children:s.jsxs(re,{children:[s.jsx(ae,{children:"Authentication Required"}),s.jsx(Re,{children:"Please log in to verify your identity"})]})})})}function kse(){const[,t]=Zs();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Ex,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Set Up Instant PayPal Payouts"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Ready Set Fly uses PayPal Business for secure, instant payout processing. Get your rental earnings in minutes, not days."})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(aV,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Instant Transfers"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Funds arrive in your PayPal account within minutes"})]})]})})}),s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(wn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Secure Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Trusted PayPal Business payment gateway"})]})]})})}),s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(gs,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Simple Setup"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Just add your PayPal email and start withdrawing"})]})]})})})]}),s.jsxs($,{className:"border-primary/20 bg-primary/5",children:[s.jsx(re,{children:s.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[s.jsx(gw,{className:"h-5 w-5 text-primary"}),"How PayPal Payouts Work"]})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Connect Your PayPal Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your PayPal email address to receive instant payouts"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Request Withdrawals Anytime"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Withdraw your available balance instantly, any time you want"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Receive Funds Instantly"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Funds typically arrive in your PayPal account within minutes"})]})]})]})})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-base",children:"Learn More About PayPal"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/payouts",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-docs",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Or,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Payouts Documentation"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Learn about instant payout processing"})]})]}),s.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/checkout",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-guide",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Or,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Business Guide"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment processing and withdrawals"})]})]}),s.jsx(Or,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),s.jsx($,{className:"border-primary",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up instant PayPal withdrawals to receive your rental earnings"})]}),s.jsxs(O,{size:"lg",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-setup-payouts",className:"bg-accent text-accent-foreground hover:bg-accent",children:[s.jsx(gs,{className:"mr-2 h-4 w-4"}),"Go to PayPal Withdrawals"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Funds typically arrive within minutes. US residents only."})]})})})]})]})}function Pse(){const{user:t}=ln(),{toast:e}=Bt(),[n,r]=f.useState((t==null?void 0:t.paypalEmail)||""),[i,a]=f.useState(""),{data:o,isLoading:l}=Ve({queryKey:["/api/balance"],enabled:!!t}),{data:c=[],isLoading:d}=Ve({queryKey:["/api/withdrawals"],enabled:!!t}),u=Ae({mutationFn:async v=>await(await De("PATCH","/api/user/profile",{paypalEmail:v})).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"PayPal Email Updated",description:"Your PayPal email has been saved successfully."})},onError:v=>{e({title:"Update Failed",description:v.message||"Failed to update PayPal email",variant:"destructive"})}}),h=Ae({mutationFn:async v=>await(await De("POST","/api/withdrawals",v)).json(),onSuccess:()=>{_e.invalidateQueries({queryKey:["/api/balance"]}),_e.invalidateQueries({queryKey:["/api/withdrawals"]}),a(""),e({title:"Payout Processing",description:"Your funds are being sent to PayPal now. Funds typically arrive within minutes."})},onError:v=>{e({title:"Withdrawal Failed",description:v.message||"Failed to request withdrawal",variant:"destructive"})}}),m=()=>{if(!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){e({title:"Invalid Email",description:"Please enter a valid PayPal email address",variant:"destructive"});return}u.mutate(n)},y=()=>{const v=parseFloat(i),p=parseFloat((o==null?void 0:o.balance)||"0");if(isNaN(v)||v<=0){e({title:"Invalid Amount",description:"Please enter a valid withdrawal amount",variant:"destructive"});return}if(v>p){e({title:"Insufficient Balance",description:"Withdrawal amount exceeds your available balance",variant:"destructive"});return}if(!n){e({title:"PayPal Email Required",description:"Please set your PayPal email before requesting a withdrawal",variant:"destructive"});return}h.mutate({amount:i,paypalEmail:n})},b=v=>{switch(v){case"processing":return s.jsxs(Q,{variant:"outline",className:"gap-1","data-testid":"badge-status-processing",children:[s.jsx(jl,{className:"w-3 h-3"}),"Processing"]});case"completed":return s.jsxs(Q,{variant:"outline",className:"gap-1","data-testid":"badge-status-completed",children:[s.jsx(fs,{className:"w-3 h-3"}),"Completed"]});case"failed":return s.jsxs(Q,{variant:"destructive",className:"gap-1","data-testid":"badge-status-failed",children:[s.jsx(zn,{className:"w-3 h-3"}),"Failed"]});default:return s.jsx(Q,{variant:"outline","data-testid":`badge-status-${v}`,children:v})}};if(!t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx($,{children:s.jsxs(re,{children:[s.jsx(ae,{children:"Authentication Required"}),s.jsx(Re,{children:"Please log in to view your withdrawals."})]})})});const j=parseFloat((o==null?void 0:o.balance)||"0");return s.jsxs("div",{className:"container mx-auto p-6 max-w-5xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-withdrawals",children:"Withdrawals & Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rental earnings and request withdrawals"})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsxs(ae,{className:"flex items-center gap-2","data-testid":"heading-balance",children:[s.jsx(gs,{className:"w-5 h-5"}),"Available Balance"]}),s.jsx(Re,{children:"Your current balance available for withdrawal"})]}),s.jsx(U,{children:l?s.jsx("p",{className:"text-muted-foreground",children:"Loading balance..."}):s.jsxs("div",{className:"text-4xl font-bold","data-testid":"text-balance",children:["$",j.toFixed(2)]})})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-paypal-setup",children:"PayPal Email"}),s.jsx(Re,{children:"Set your PayPal email to receive withdrawals"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"paypal-email",children:"PayPal Email Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{id:"paypal-email",type:"email",placeholder:"your.email@example.com",value:n,onChange:v=>r(v.target.value),"data-testid":"input-paypal-email"}),s.jsx(O,{onClick:m,disabled:u.isPending,"data-testid":"button-save-email",children:u.isPending?"Saving...":"Save"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payouts are sent via PayPal and typically arrive within minutes to 30 minutes."})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-request-withdrawal",children:"Request Withdrawal"}),s.jsx(Re,{children:"Withdraw your available balance to PayPal"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"withdrawal-amount",children:"Withdrawal Amount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(W,{id:"withdrawal-amount",type:"number",step:"0.01",min:"0",max:j,placeholder:"0.00",value:i,onChange:v=>a(v.target.value),className:"pl-7","data-testid":"input-withdrawal-amount"})]}),s.jsx(O,{onClick:y,disabled:h.isPending||j<=0,"data-testid":"button-request-withdrawal",children:h.isPending?"Requesting...":"Request Withdrawal"})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Important Information"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Withdrawals are processed instantly via PayPal Payouts"}),s.jsx("li",{children:" PayPal charges approximately 2% per payout (deducted from platform funds)"}),s.jsx("li",{children:" Funds typically arrive in your PayPal account within minutes"}),s.jsx("li",{children:" You'll receive an email confirmation from PayPal when funds arrive"})]})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{"data-testid":"heading-withdrawal-history",children:"Withdrawal History"}),s.jsx(Re,{children:"View your past withdrawal requests"})]}),s.jsx(U,{children:d?s.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."}):c.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-withdrawals",children:"No withdrawal requests yet"}):s.jsx("div",{className:"space-y-4",children:c.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md","data-testid":`card-withdrawal-${v.id}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium","data-testid":`text-amount-${v.id}`,children:["$",parseFloat(v.amount).toFixed(2)]}),b(v.status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-email-${v.id}`,children:["To: ",v.paypalEmail]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-date-${v.id}`,children:["Requested: ",v.requestedAt?new Date(v.requestedAt).toLocaleDateString():"N/A"]}),v.processedAt&&s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-processed-${v.id}`,children:["Processed: ",new Date(v.processedAt).toLocaleDateString()]}),v.failureReason&&s.jsxs("p",{className:"text-sm text-destructive","data-testid":`text-error-${v.id}`,children:["Error: ",v.failureReason]})]}),v.transactionId&&s.jsxs("div",{className:"text-xs text-muted-foreground","data-testid":`text-transaction-${v.id}`,children:["Transaction: ",v.transactionId]})]},v.id))})})]})]})}function Ws(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:s.jsxs($,{className:"max-w-md w-full",children:[s.jsxs(re,{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:s.jsx(Lt,{className:"h-12 w-12 text-primary"})})}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-2xl font-bold",children:"Sign In Required"}),s.jsx(Re,{className:"text-base mt-2",children:"You need to be signed in to create listings and access this feature"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Create an account or sign in to list your aircraft, post marketplace listings, and connect with the aviation community."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(vt,{href:"/login",children:s.jsxs(O,{size:"lg",className:"w-full","data-testid":"button-sign-in-required",children:[s.jsx(KB,{className:"mr-2 h-5 w-5"}),"Sign In to Continue"]})}),s.jsx(vt,{href:"/",children:s.jsx(O,{size:"lg",variant:"outline",className:"w-full","data-testid":"button-back-home",children:"Back to Home"})})]})]})]})})}function I2(){const{isAuthenticated:t}=ln();return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4 py-12",children:s.jsxs("div",{className:"flex flex-col gap-8 items-center text-center max-w-3xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Lt,{className:"h-32 w-32 text-muted-foreground/20 animate-pulse"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-7xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:"Looks like this flight path doesn't exist. The page you're looking for may have been moved or deleted."})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full mt-4",children:[s.jsx(vt,{href:"/",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-home",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(vS,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Home"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to landing page"})]})]})})}),s.jsx(vt,{href:"/rentals",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-rentals",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(qn,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Browse Rentals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find aircraft to rent"})]})]})})}),s.jsx(vt,{href:"/marketplace",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-marketplace",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(Lt,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Marketplace"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aviation services"})]})]})})})]}),t&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full",children:[s.jsx(vt,{href:"/dashboard",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-dashboard",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(G4,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your activity"})]})]})})}),s.jsx(vt,{href:"/favorites",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-favorites",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(BB,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Favorites"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved listings"})]})]})})}),s.jsx(vt,{href:"/messages",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-messages",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(H4,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check conversations"})]})]})})})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(vt,{href:"/",children:s.jsxs(O,{size:"lg","data-testid":"button-go-home",children:[s.jsx(vS,{className:"h-5 w-5 mr-2"}),"Return to Home"]})}),!t&&s.jsx(vt,{href:"/login",children:s.jsx(O,{size:"lg",variant:"outline","data-testid":"button-sign-in",children:"Sign In"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If you believe this is an error, please"," ",s.jsx(vt,{href:"/messages",className:"text-primary hover:underline",children:"contact support"}),"."]})]})})}function Tse(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{className:"text-3xl",children:"Privacy Policy"}),s.jsx(Re,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),s.jsx("p",{children:'Ready Set Fly ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By using the Platform, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use the Platform."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.1 Information You Provide to Us"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," When you create an account, we collect your name, email address, and password (if using email/password authentication)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Information:"})," We collect additional information you provide such as phone number, profile photo, and bio."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Verification Documents:"})," To verify your identity as a pilot or aircraft owner, we collect pilot licenses, certificates, insurance documents, and other verification materials."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Aircraft Information:"})," If you list an aircraft for rent, we collect aircraft registration numbers, make, model, specifications, photos, and availability information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listings:"})," If you create marketplace listings, we collect listing descriptions, photos, prices, and contact information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Information:"})," We collect payment information necessary to process rental payments and marketplace transactions, including payment method details processed by our payment processor (PayPal)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Messages:"})," We collect and store messages you send through our platform messaging system."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.2 Information Automatically Collected"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," We collect information about your interactions with the Platform, including pages visited, features used, and time spent on the Platform."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," We collect information about your device, including device type, operating system, browser type, and IP address."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication Data:"})," When you use third-party authentication (Google SignIn; legacy Replit Auth may also be supported), we receive your name, email, and profile information from those services."]})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Information"}),s.jsx("p",{children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To verify your identity as a pilot or aircraft owner"}),s.jsx("li",{children:"To facilitate aircraft rentals and marketplace transactions"}),s.jsx("li",{children:"To process payments and manage financial transactions"}),s.jsx("li",{children:"To enable communication between users through our messaging system"}),s.jsx("li",{children:"To provide customer support and respond to your inquiries"}),s.jsx("li",{children:"To send important notifications about your account, rentals, and transactions"}),s.jsx("li",{children:"To prevent fraud, enforce our Terms of Service, and ensure platform security"}),s.jsx("li",{children:"To improve and optimize the Platform based on usage patterns"}),s.jsx("li",{children:"To comply with legal obligations and regulatory requirements"})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. How We Share Your Information"}),s.jsx("p",{children:"We may share your information in the following circumstances:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 With Other Users"}),s.jsx("p",{children:"When you list an aircraft or create a marketplace listing, certain information (name, profile photo, listing details) is visible to other users. When you book a rental, your information is shared with the aircraft owner to facilitate the rental."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 With Service Providers"}),s.jsx("p",{children:"We share information with third-party service providers who assist us in operating the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal:"})," Processes all payments for aircraft rentals and marketplace listing fees. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal Payouts API:"})," Processes owner withdrawals. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Google (Identity):"})," Provides authentication services when you sign in using Google. View their privacy policy at ",s.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"policies.google.com/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Replit (Legacy):"})," Previously used for authentication/hosting for some deployments. If applicable, we may continue to support legacy Replit-authenticated accounts. View their privacy policy at ",s.jsx("a",{href:"https://replit.com/site/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"replit.com/site/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Neon (PostgreSQL Database):"})," Hosts our database. View their privacy policy at ",s.jsx("a",{href:"https://neon.tech/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"neon.tech/privacy-policy"})]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 For Legal Reasons"}),s.jsx("p",{children:"We may disclose your information if required by law or to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal processes or government requests"}),s.jsx("li",{children:"Enforce our Terms of Service and other agreements"}),s.jsx("li",{children:"Protect the rights, property, or safety of Ready Set Fly, our users, or others"}),s.jsx("li",{children:"Prevent fraud or security threats"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.4 Business Transfers"}),s.jsx("p",{children:"If Ready Set Fly is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction. We will notify you via email and/or prominent notice on the Platform of any change in ownership or use of your information."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Data Retention"}),s.jsx("p",{children:"We retain your information for as long as your account is active or as needed to provide you services. We will retain and use your information as necessary to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal obligations (e.g., tax records for 7 years)"}),s.jsx("li",{children:"Resolve disputes and enforce our agreements"}),s.jsx("li",{children:"Prevent fraud and maintain platform security"})]}),s.jsx("p",{className:"mt-3",children:"When you request account deletion, we will delete your personal information within 30 days, except for information we are required to retain for legal, regulatory, or security purposes."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Your Rights and Choices"}),s.jsx("p",{children:"You have the following rights regarding your information:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Access and Update"}),s.jsx("p",{children:"You can access and update your account information at any time by logging into your account and visiting your Profile settings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Account Deletion"}),s.jsx("p",{children:"You have the right to request deletion of your account and personal data. You can:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Delete your account from within the app by visiting Settings  Account  Delete Account"}),s.jsxs("li",{children:["Submit a deletion request at ",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:"readysetfly.us/delete-account"})]})]}),s.jsx("p",{className:"mt-3",children:"When you delete your account, we will remove your personal information, rental history, messages, and verification documents within 30 days. Some information may be retained as required by law."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 Marketing Communications"}),s.jsx("p",{children:"You can opt out of marketing communications by following the unsubscribe link in our emails. You will continue to receive transactional emails related to your account and rentals."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.4 Data Portability"}),s.jsx("p",{children:"You have the right to request a copy of your personal data in a portable format. Contact us at privacy@readysetfly.us to request your data."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Data Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your information, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Encryption of data in transit using SSL/TLS"}),s.jsx("li",{children:"Secure password hashing using bcrypt"}),s.jsx("li",{children:"Secure token-based authentication (JWT for mobile apps)"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Limited access to personal data by authorized personnel only"})]}),s.jsx("p",{className:"mt-3",children:"However, no method of transmission over the internet or electronic storage is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Children's Privacy"}),s.jsx("p",{children:"The Platform is not intended for users under the age of 18. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us at privacy@readysetfly.us, and we will delete such information."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Geographic Restrictions"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ready Set Fly is available exclusively to residents of the United States."})," The Platform is not intended for use by individuals located outside the United States. By using the Platform, you represent and warrant that you are a resident of the United States."]}),s.jsx("p",{className:"mt-3",children:"All data is stored and processed on servers located in the United States. We comply with applicable US federal and state privacy laws, including the California Consumer Privacy Act (CCPA) and other state-specific privacy regulations."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Changes to This Privacy Policy"}),s.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the new Privacy Policy on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date at the top'}),s.jsx("li",{children:"Sending you an email notification for material changes"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after changes are posted constitutes your acceptance of the updated Privacy Policy."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Contact Us"}),s.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," privacy@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. State-Specific Rights"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"California Residents (CCPA)"}),s.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),s.jsx("li",{children:"Right to delete personal information"}),s.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),s.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"European Residents (GDPR)"}),s.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right of access to your personal data"}),s.jsx("li",{children:"Right to rectification of inaccurate data"}),s.jsx("li",{children:'Right to erasure ("right to be forgotten")'}),s.jsx("li",{children:"Right to restriction of processing"}),s.jsx("li",{children:"Right to data portability"}),s.jsx("li",{children:"Right to object to processing"})]}),s.jsx("p",{className:"mt-3",children:"To exercise any of these rights, please contact us at privacy@readysetfly.us."})]})]})]})})}function Ese(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{className:"text-3xl",children:"Terms of Service"}),s.jsx(Re,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),s.jsx("p",{children:'Welcome to Ready Set Fly. These Terms of Service ("Terms") govern your access to and use of our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By accessing or using the Platform, you agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not access or use the Platform."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Eligibility"}),s.jsx("p",{children:"You must meet the following requirements to use the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:s.jsx("strong",{children:"You must be a resident of the United States"})}),s.jsx("li",{children:"You must be at least 18 years old"}),s.jsx("li",{children:"You must have the legal capacity to enter into binding contracts"}),s.jsx("li",{children:"You must not be prohibited from using the Platform under applicable laws"}),s.jsx("li",{children:"To rent aircraft or list aircraft for rent, you must hold valid pilot certificates and/or aircraft ownership documentation as required by law"})]}),s.jsx("p",{className:"mt-3",children:"Ready Set Fly is exclusively available to United States residents. By using the Platform, you represent and warrant that you are located in and are a resident of the United States."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Account Registration and Security"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Account Creation"}),s.jsx("p",{children:"To use certain features of the Platform, you must create an account. You agree to provide accurate, current, and complete information during registration and to update such information to keep it accurate, current, and complete."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.2 Account Security"}),s.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Not share your password with others"}),s.jsx("li",{children:"Immediately notify us of any unauthorized use of your account"}),s.jsx("li",{children:"Take reasonable precautions to prevent unauthorized access"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.3 Account Verification"}),s.jsx("p",{children:"We may require you to verify your identity by providing pilot certificates, aircraft ownership documents, insurance information, or other documentation. Failure to provide requested verification may result in account suspension or limitations on Platform features."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Platform Services"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly provides a platform connecting aircraft owners with pilots seeking to rent aircraft. We are not a party to rental agreements between owners and renters. All rental agreements are directly between the owner and renter."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 Marketplace"}),s.jsx("p",{children:"Our marketplace allows users to list and browse various aviation-related items and services, including aircraft for sale, CFI services, job postings, flight schools, mechanics, and charter services. We do not guarantee the accuracy, quality, safety, or legality of any marketplace listings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 Messaging"}),s.jsx("p",{children:"The Platform provides messaging functionality to facilitate communication between users. You agree to use messaging only for legitimate Platform-related purposes and not for spam, harassment, or illegal activities."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Fees and Payments"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.1 Platform Fees for Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly charges the following fees for aircraft rental transactions:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Renter Booking Fee:"})," 7.5% of the total rental amount"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Owner Commission:"})," 7.5% deducted from owner payout"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sales Tax:"})," 8.25% on all rental amounts and booking fees"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Credit Card Processing Fee:"})," 3% to cover payment processing costs"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Example:"})," For a $1,000 rental, the renter pays $1,000 (base rental) + $75 (7.5% booking fee) + $88.69 (8.25% sales tax on $1,075) + $34.91 (3% CC processing fee) = ",s.jsx("strong",{children:"$1,198.60 total"}),". The owner receives $925 after the 7.5% platform commission is deducted."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.2 Marketplace Listing Fees"}),s.jsx("p",{children:"Marketplace listings require a monthly subscription fee based on the listing category and tier. All prices include 8.25% sales tax:"}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Aircraft for Sale"})," (3 tier options):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Basic Tier:"})," $25/month + tax = $27.06/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Standard Tier:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Premium Tier:"})," $100/month + tax = $108.25/month"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Other Categories"})," (fixed monthly fees):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"CFI Listings:"})," $30/month + tax = $32.48/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Job Postings:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Flight School Listings:"})," $250/month + tax = $270.63/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mechanic Services:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Charter Services:"})," $250/month + tax = $270.63/month"]})]}),s.jsx("p",{className:"mt-3",children:"Listings are automatically renewed monthly unless you cancel your subscription. You are responsible for canceling before the renewal date to avoid being charged for the next billing period. Promotional codes may be available for limited-time free trials or discounts."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.3 Payment Processing"}),s.jsx("p",{children:"All payments are processed through PayPal, our exclusive payment processor. You agree to comply with PayPal's terms of service. We do not store your complete payment card information. Only credit card payments are accepted (Pay Later options are disabled for compliance and security)."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.4 Owner Withdrawals"}),s.jsx("p",{children:"Aircraft owners can request withdrawals of their rental earnings via PayPal. Withdrawals are processed using the PayPal Payouts API and are typically completed within 1-3 business days. Minimum withdrawal amount may apply."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.5 Refunds"}),s.jsx("p",{children:"Refund eligibility is determined by the specific circumstances of each transaction:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rental Refunds:"})," Subject to the cancellation policy agreed upon between owner and renter. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."})," Ready Set Fly is not responsible for weather or weather-related cancellations. Platform fees are non-refundable under all circumstances."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listing Fees:"})," Non-refundable. You may cancel at any time to prevent future charges."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.6 Fee Changes"}),s.jsx("p",{children:"We reserve the right to change our fees at any time. We will provide at least 30 days' notice of fee increases by email and/or prominent notice on the Platform. Your continued use of the Platform after fee changes take effect constitutes acceptance of the new fees."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. User Responsibilities"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Aircraft Owners"}),s.jsx("p",{children:"If you list aircraft for rent, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You have legal authority to rent the aircraft"}),s.jsx("li",{children:"The aircraft is airworthy and properly maintained"}),s.jsx("li",{children:"You carry adequate insurance coverage"}),s.jsx("li",{children:"All required certificates and documentation are current and valid"}),s.jsx("li",{children:"Your listing information is accurate and complete"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Renters"}),s.jsx("p",{children:"If you rent aircraft, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You hold all required pilot certificates and ratings"}),s.jsx("li",{children:"Your certificates and medical are current and valid"}),s.jsx("li",{children:"You are legally permitted to operate the aircraft"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"}),s.jsx("li",{children:"You will operate the aircraft safely and responsibly"}),s.jsx("li",{children:"You will pay all rental fees and charges on time"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 All Users"}),s.jsx("p",{children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Provide accurate and truthful information"}),s.jsx("li",{children:"Not impersonate others or misrepresent your identity"}),s.jsx("li",{children:"Not engage in fraudulent, deceptive, or illegal activities"}),s.jsx("li",{children:"Not harass, threaten, or abuse other users"}),s.jsx("li",{children:"Not violate the intellectual property rights of others"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Prohibited Conduct"}),s.jsx("p",{children:"You may not:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use the Platform for any illegal purpose"}),s.jsx("li",{children:"Violate any local, state, national, or international law"}),s.jsx("li",{children:"Interfere with or disrupt the Platform or servers"}),s.jsx("li",{children:"Attempt to gain unauthorized access to the Platform or other user accounts"}),s.jsx("li",{children:"Transmit viruses, malware, or other harmful code"}),s.jsx("li",{children:"Collect or harvest user information without consent"}),s.jsx("li",{children:"Use automated systems (bots, scrapers) to access the Platform"}),s.jsx("li",{children:"Circumvent security features or access controls"}),s.jsx("li",{children:"Post false, misleading, or fraudulent content"}),s.jsx("li",{children:"Engage in price manipulation or other anti-competitive behavior"})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Content and Intellectual Property"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.1 Your Content"}),s.jsx("p",{children:"You retain ownership of all content you post on the Platform (listings, photos, messages, etc.). By posting content, you grant Ready Set Fly a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, display, and distribute your content in connection with operating and promoting the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.2 Our Content"}),s.jsx("p",{children:"The Platform and all content, features, and functionality (including but not limited to design, text, graphics, logos, and software) are owned by Ready Set Fly and are protected by copyright, trademark, and other intellectual property laws."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.3 Copyright Infringement"}),s.jsx("p",{children:"We respect intellectual property rights. If you believe your copyright has been infringed, please contact us at legal@readysetfly.us with details of the alleged infringement."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Disclaimers and Limitation of Liability"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:'9.1 Platform Provided "As Is"'}),s.jsx("p",{children:'THE PLATFORM IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.2 No Guarantee of Service"}),s.jsx("p",{children:"We do not guarantee that the Platform will be uninterrupted, secure, or error-free. We do not guarantee the accuracy, completeness, or reliability of any content on the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.3 Third-Party Transactions"}),s.jsx("p",{children:"Ready Set Fly is not a party to any rental agreements or marketplace transactions between users. We do not verify the accuracy of listings, the qualifications of users, or the airworthiness of aircraft. You are solely responsible for evaluating and verifying all aspects of any transaction you enter into through the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.4 Aviation Risks"}),s.jsx("p",{children:"Aviation involves inherent risks. Ready Set Fly is not responsible for any accidents, injuries, damages, or losses resulting from aircraft rentals or operations. You assume all risks associated with aviation activities."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.5 Limitation of Liability"}),s.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, READY SET FLY, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING OUT OF OR RELATED TO YOUR USE OF THE PLATFORM, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."}),s.jsx("p",{className:"mt-3",children:"IN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS EXCEED THE GREATER OF $100 OR THE AMOUNT YOU PAID TO US IN FEES IN THE 12 MONTHS PRECEDING THE CLAIM."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Indemnification"}),s.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Ready Set Fly, its officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses (including reasonable attorneys' fees) arising out of or related to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Your use of the Platform"}),s.jsx("li",{children:"Your violation of these Terms"}),s.jsx("li",{children:"Your violation of any law or regulation"}),s.jsx("li",{children:"Your violation of the rights of any third party"}),s.jsx("li",{children:"Any content you post on the Platform"}),s.jsx("li",{children:"Any aircraft rental or marketplace transaction you enter into"})]})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Dispute Resolution"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.1 Informal Resolution"}),s.jsx("p",{children:"If you have a dispute with Ready Set Fly, you agree to first contact us at support@readysetfly.us to attempt to resolve the dispute informally."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.2 Arbitration"}),s.jsx("p",{children:"Any dispute that cannot be resolved informally shall be resolved by binding arbitration in accordance with the rules of the American Arbitration Association. The arbitration shall take place in Texas."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.3 Class Action Waiver"}),s.jsx("p",{children:"You agree that any arbitration or proceeding shall be limited to the dispute between you and Ready Set Fly individually. You waive the right to participate in any class action or class-wide arbitration."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.4 Governing Law"}),s.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of Texas, without regard to its conflict of law provisions."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. Account Termination"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.1 Termination by You"}),s.jsxs("p",{children:["You may delete your account at any time by visiting your account settings or by contacting us at support@readysetfly.us. You can also submit a deletion request at",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:" readysetfly.us/delete-account"}),"."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.2 Termination by Us"}),s.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time, with or without notice, for:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Violation of these Terms"}),s.jsx("li",{children:"Fraudulent, deceptive, or illegal activity"}),s.jsx("li",{children:"Failure to verify your identity when requested"}),s.jsx("li",{children:"Outstanding payment obligations"}),s.jsx("li",{children:"Any reason at our sole discretion"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.3 Effect of Termination"}),s.jsx("p",{children:"Upon termination, your right to use the Platform will immediately cease. We may delete your account data in accordance with our Privacy Policy. Outstanding payment obligations will survive termination."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"13. Modifications to Terms"}),s.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the updated Terms on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date'}),s.jsx("li",{children:"Sending you an email notification"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after the effective date of the revised Terms constitutes your acceptance of the changes. If you do not agree to the revised Terms, you must stop using the Platform."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"14. General Provisions"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.1 Entire Agreement"}),s.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and Ready Set Fly regarding the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.2 Severability"}),s.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.3 Waiver"}),s.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be deemed a waiver of such right or provision."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.4 Assignment"}),s.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms without restriction."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.5 Force Majeure"}),s.jsx("p",{children:"We shall not be liable for any failure or delay in performance due to circumstances beyond our reasonable control, including but not limited to acts of God, war, terrorism, natural disasters, or government actions."})]}),s.jsx(rt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"15. Contact Information"}),s.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," legal@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Support:"})," support@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(rt,{}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-md border",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important Notice:"})," These Terms of Service contain important information about your legal rights and obligations, including limitations on liability and dispute resolution provisions. Please read them carefully. By using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms."]})})]})]})})}function Ase(){const{data:t,isLoading:e}=Ve({queryKey:["/api/auth/user"]}),{toast:n}=Bt(),[r,i]=f.useState(""),a=Ae({mutationFn:async()=>await De("DELETE","/api/auth/user"),onSuccess:()=>{n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/"},onError:l=>{n({title:"Error",description:l.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),o=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}a.mutate()};return e?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):t?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G4,{className:"h-5 w-5"}),s.jsx(ae,{children:"Account Information"})]}),s.jsx(Re,{children:"Your account details"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-base","data-testid":"text-user-email",children:t.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"text-base","data-testid":"text-user-name",children:[t.firstName," ",t.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),s.jsx("p",{className:"text-base","data-testid":"text-verification-status",children:t.isVerified?"Verified":"Not Verified"})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"h-5 w-5"}),s.jsx(ae,{children:"Legal Documents"})]}),s.jsx(Re,{children:"View our legal policies and terms"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsx(vt,{href:"/privacy-policy",children:s.jsxs(O,{variant:"outline",className:"w-full justify-start","data-testid":"link-privacy-policy",children:[s.jsx(eV,{className:"mr-2 h-4 w-4"}),"Privacy Policy"]})}),s.jsx(vt,{href:"/terms-of-service",children:s.jsxs(O,{variant:"outline",className:"w-full justify-start","data-testid":"link-terms-of-service",children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Terms of Service"]})})]})]}),s.jsxs($,{className:"border-destructive",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5 text-destructive"}),s.jsx(ae,{className:"text-destructive",children:"Danger Zone"})]}),s.jsx(Re,{children:"Permanently delete your account and all associated data"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4",children:[s.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"Warning: This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]}),s.jsxs(Pl,{children:[s.jsx(u5,{asChild:!0,children:s.jsxs(O,{variant:"destructive","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(pn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Are you absolutely sure?"}),s.jsxs(xo,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(W,{id:"confirm-delete",value:r,onChange:l=>i(l.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(go,{onClick:o,disabled:r!=="DELETE"||a.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:a.isPending?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to access settings."})})})})}function Fse(){const{data:t,isLoading:e}=Ve({queryKey:["/api/auth/user"],retry:!1}),{toast:n}=Bt(),[r,i]=f.useState(""),[a,o]=f.useState(!1),l=Ae({mutationFn:async()=>await De("DELETE","/api/auth/user"),onSuccess:()=>{o(!0),n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."})},onError:d=>{n({title:"Error",description:d.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),c=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}l.mutate()};return e?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):a?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{children:[s.jsx(re,{children:s.jsx(ae,{className:"text-center",children:"Account Deleted"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Your account and all associated data have been permanently deleted."}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Thank you for using Ready Set Fly. We hope to see you again in the future."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(vt,{href:"/",children:s.jsx(O,{"data-testid":"button-back-home",children:"Return to Home"})})})]})]})}):t?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{className:"w-full",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(pn,{className:"h-6 w-6 text-destructive"}),s.jsx(ae,{children:"Delete Your Account"})]}),s.jsx(Re,{className:"text-center",children:"Permanently remove your account and all associated data"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Account Information"}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Name:"})," ",t.firstName," ",t.lastName]})]})]}),s.jsx("div",{className:"rounded-lg bg-destructive/10 border border-destructive/20 p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ta,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]})]})}),s.jsxs(Pl,{children:[s.jsx(u5,{asChild:!0,children:s.jsxs(O,{variant:"destructive",className:"w-full","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(pn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs(ho,{children:[s.jsxs(mo,{children:[s.jsx(po,{children:"Are you absolutely sure?"}),s.jsxs(xo,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(W,{id:"confirm-delete",value:r,onChange:d=>i(d.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(fo,{children:[s.jsx(yo,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(go,{onClick:c,disabled:r!=="DELETE"||l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:l.isPending?"Deleting...":"Delete Account"})]})]})]}),s.jsxs("div",{className:"text-center space-y-2 pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help or have questions?"}),s.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[s.jsx(vt,{href:"/privacy-policy",className:"text-primary hover:underline","data-testid":"link-privacy",children:"Privacy Policy"}),s.jsx(vt,{href:"/terms-of-service",className:"text-primary hover:underline","data-testid":"link-terms",children:"Terms of Service"})]})]})]})]})}):s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{className:"text-center",children:"Delete Your Account"}),s.jsx(Re,{className:"text-center",children:"Sign in to delete your Ready Set Fly account"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"You must be signed in to delete your account."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{onClick:()=>window.location.href="https://readysetfly.us/delete-account","data-testid":"button-login-to-delete",children:"Sign In to Continue"})})]})]})})}const Rse=Un({email:te().email("Please enter a valid email address"),password:te().min(1,"Password is required")});function Ise(){const[,t]=Zs(),{toast:e}=Bt(),n=dm(),[r,i]=f.useState(!1),a=Kn({resolver:Gn(Rse),defaultValues:{email:"",password:""}}),o=Ae({mutationFn:async c=>{const d=await R8("/api/auth/web-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"}),u=d.headers.get("content-type")||"";try{console.debug("[login] response status:",d.status,"content-type:",u)}catch{}if(!d.ok){let m="Failed to login";if(u.includes("application/json"))try{const y=await d.json();console.debug("[login] error json:",y),m=(y==null?void 0:y.error)||JSON.stringify(y)||m}catch{}else{const y=await d.text();console.debug("[login] error text:",y.slice(0,200)),y&&(m=y.slice(0,500))}throw new Error(m)}if(u.includes("application/json")){const m=await d.json();try{console.debug("[login] success json:",m)}catch{}return m}const h=await d.text();try{const m=JSON.parse(h);try{console.debug("[login] parsed text as json:",m)}catch{}return m}catch{try{console.debug("[login] success text:",h.slice(0,500))}catch{}return{message:h}}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Welcome back!",description:"You have successfully logged in."}),t("/")},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{await o.mutateAsync(c)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-8 h-8 text-white"})})}),s.jsx(ae,{className:"text-2xl font-bold",children:"Welcome back"}),s.jsx(Re,{children:"Sign in to your Ready Set Fly account"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Email"}),s.jsx(W,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Password"}),s.jsx(W,{id:"password",type:"password",placeholder:"Enter your password",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsx(O,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-login",children:r?"Signing in...":"Sign in"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(O,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href=Il("/api/auth/google"),"data-testid":"button-oauth-login",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(uN,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>t("/register"),className:"text-primary hover:underline font-medium","data-testid":"link-register",children:"Create account"})]})})]})})}const Dse=Un({firstName:te().min(1,"First name is required"),lastName:te().min(1,"Last name is required"),email:te().email("Please enter a valid email address"),password:te().min(8,"Password must be at least 8 characters"),confirmPassword:te().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Ose(){const[,t]=Zs(),{toast:e}=Bt(),n=dm(),[r,i]=f.useState(!1),a=Kn({resolver:Gn(Dse),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),o=Ae({mutationFn:async c=>{const d=await fetch(Il("/api/auth/web-register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const u=await d.json();throw new Error(u.error||"Failed to create account")}return d.json()},onSuccess:c=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Account created!",description:c.message||"Please check your email to verify your account."}),t("/")},onError:c=>{e({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{const{confirmPassword:d,...u}=c;await o.mutateAsync(u)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-8 h-8 text-white"})})}),s.jsx(ae,{className:"text-2xl font-bold",children:"Create an account"}),s.jsx(Re,{children:"Join Ready Set Fly to rent aircraft or list your own"}),s.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"Service available for US residents only"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"firstName",children:"First name"}),s.jsx(W,{id:"firstName",placeholder:"John",...a.register("firstName"),"data-testid":"input-firstname",disabled:r}),a.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"lastName",children:"Last name"}),s.jsx(W,{id:"lastName",placeholder:"Doe",...a.register("lastName"),"data-testid":"input-lastname",disabled:r}),a.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Email"}),s.jsx(W,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Password"}),s.jsx(W,{id:"password",type:"password",placeholder:"At least 8 characters",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"confirmPassword",children:"Confirm password"}),s.jsx(W,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",...a.register("confirmPassword"),"data-testid":"input-confirm-password",disabled:r}),a.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.confirmPassword.message})]}),s.jsx(O,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-register",children:r?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(O,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-oauth-register",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(uN,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>t("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login",children:"Sign in"})]})})]})})}function Mse(){const[,t]=Zs(),[e,n]=f.useState("loading"),[r,i]=f.useState("");return f.useEffect(()=>{(async()=>{const l=new URLSearchParams(window.location.search).get("token");if(!l){n("error"),i("Verification token is missing");return}try{const c=await fetch(`/api/auth/verify-email?token=${l}`),d=await c.json();c.ok?(n("success"),i(d.message||"Email verified successfully!")):(n("error"),i(d.error||"Verification failed"))}catch{n("error"),i("Failed to verify email. Please try again.")}})()},[]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(re,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[e==="loading"&&s.jsx(fm,{className:"h-16 w-16 text-blue-600 animate-spin","data-testid":"icon-loading"}),e==="success"&&s.jsx(Wt,{className:"h-16 w-16 text-green-600","data-testid":"icon-success"}),e==="error"&&s.jsx(zn,{className:"h-16 w-16 text-red-600","data-testid":"icon-error"})]}),s.jsxs(ae,{className:"text-2xl",children:[e==="loading"&&"Verifying Your Email",e==="success"&&"Email Verified!",e==="error"&&"Verification Failed"]}),s.jsx(Re,{"data-testid":"text-message",children:r||"Please wait while we verify your email address..."})]}),s.jsxs(U,{className:"flex flex-col gap-3",children:[e==="success"&&s.jsx(O,{onClick:()=>t("/"),className:"w-full","data-testid":"button-continue",children:"Continue to Dashboard"}),e==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(O,{onClick:()=>t("/login"),className:"w-full","data-testid":"button-login",children:"Go to Login"}),s.jsx(O,{onClick:()=>t("/register"),variant:"outline",className:"w-full","data-testid":"button-register",children:"Create New Account"})]})]})]})})}function Lse(t){const e={totalTime:0,pic:0,sic:0,dual:0,night:0,day:0,instrumentActual:0,crossCountry:0,approaches:0,landings:0};return t.forEach(n=>{const r=parseFloat(n.pic||"0"),i=parseFloat(n.sic||"0"),a=parseFloat(n.dual||"0"),o=parseFloat(n.timeNight||"0"),l=parseFloat(n.timeDay||"0"),c=parseFloat(n.instrumentActual||"0");e.totalTime+=r+i,e.pic+=r,e.sic+=i,e.dual+=a,e.night+=o,e.day+=l,e.instrumentActual+=c,e.approaches+=n.approaches||0,e.landings+=(n.landingsDay||0)+(n.landingsNight||0)}),e}function $se(t){const e=["Date","Tail Number","Aircraft Type","Route","Time Day","Time Night","PIC","SIC","Dual","Instrument","Approaches","Landings Day","Landings Night","Holds","Remarks"],n=t.map(l=>[l.flightDate,l.tailNumber||"",l.aircraftType||"",l.route||"",l.timeDay||"0",l.timeNight||"0",l.pic||"0",l.sic||"0",l.dual||"0",l.instrumentActual||"0",l.approaches||"0",l.landingsDay||"0",l.landingsNight||"0",l.holds||"0",l.remarks||""]),r=[e,...n].map(l=>l.join(",")).join(`
`),i=new Blob([r],{type:"text/csv"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=`logbook-${new Date().toISOString().split("T")[0]}.csv`,o.click(),URL.revokeObjectURL(a)}function Use(){const{toast:t}=Bt(),e=dm(),[n,r]=f.useState(!1),[i,a]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(null),{data:u=[],isLoading:h}=Ve({queryKey:["/api/logbook"]}),m=Ae({mutationFn:async p=>{const x=await fetch("/api/logbook",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)});if(!x.ok)throw new Error(await x.text());return x.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),r(!1),t({title:"Entry created"})},onError:p=>{t({title:"Failed to create entry",description:p.message,variant:"destructive"})}}),y=Ae({mutationFn:async({id:p,data:x})=>{const w=await fetch(`/api/logbook/${p}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!w.ok)throw new Error(await w.text());return w.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),a(null),t({title:"Entry updated"})},onError:p=>{t({title:"Failed to update entry",description:p.message,variant:"destructive"})}}),b=Ae({mutationFn:async p=>{const x=await fetch(`/api/logbook/${p}`,{method:"DELETE",credentials:"include"});if(!x.ok)throw new Error(await x.text());return x.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),t({title:"Entry deleted"})},onError:p=>{t({title:"Failed to delete entry",description:p.message,variant:"destructive"})}}),j=Ae({mutationFn:async({id:p,signatureDataUrl:x,signedByName:w})=>{const N=await fetch(`/api/logbook/${p}/lock`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({signatureDataUrl:x,signedByName:w})});if(!N.ok)throw new Error(await N.text());return N.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),l(!1),d(null),t({title:"Entry locked and signed"})},onError:p=>{t({title:"Failed to lock entry",description:p.message,variant:"destructive"})}});u.reduce((p,x)=>p+parseFloat(x.pic||"0")+parseFloat(x.sic||"0"),0).toFixed(1);const v=Lse(u);return s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(Q,{variant:"outline",className:"text-sm px-4 py-2 bg-green-50 border-green-200",children:" FREE Digital Logbook - No Credit Card Required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Your data, always accessible. Export anytime."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:v.totalTime.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Time"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:v.pic.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PIC"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:v.night.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Night"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:v.instrumentActual.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instrument"})]})})})]}),s.jsxs($,{className:"mb-6",children:[s.jsx(re,{children:s.jsx(ae,{className:"text-lg",children:"Flight Time Breakdown"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"SIC"}),s.jsxs("p",{className:"font-semibold",children:[v.sic.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dual Received"}),s.jsxs("p",{className:"font-semibold",children:[v.dual.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Day"}),s.jsxs("p",{className:"font-semibold",children:[v.day.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Approaches"}),s.jsx("p",{className:"font-semibold",children:v.approaches})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Landings"}),s.jsx("p",{className:"font-semibold",children:v.landings})]})]})})]}),s.jsxs($,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-6 w-6"}),"Flight Entries"]}),s.jsx(Re,{children:"Track your flights and build your experience"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>$se(u),disabled:u.length===0,children:[s.jsx(z4,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsxs(ts,{open:n,onOpenChange:r,children:[s.jsx(WI,{asChild:!0,children:s.jsxs(O,{children:[s.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Add Entry"]})}),s.jsx(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(D2,{onSubmit:p=>m.mutate(p),isPending:m.isPending})})]})]})]})}),s.jsx(U,{children:h?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(fm,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No logbook entries yet. Add your first flight!"}):s.jsxs(AN,{children:[s.jsx(FN,{children:s.jsxs(_c,{children:[s.jsx(Gs,{children:"Date"}),s.jsx(Gs,{children:"Tail #"}),s.jsx(Gs,{children:"Aircraft"}),s.jsx(Gs,{children:"Route"}),s.jsx(Gs,{children:"PIC"}),s.jsx(Gs,{children:"SIC"}),s.jsx(Gs,{children:"Dual"}),s.jsx(Gs,{children:"Inst"}),s.jsx(Gs,{children:"Ldg"}),s.jsx(Gs,{children:"Status"}),s.jsx(Gs,{children:"Actions"})]})}),s.jsx(RN,{children:u.map(p=>s.jsxs(_c,{children:[s.jsx(Us,{children:new Date(p.flightDate).toLocaleDateString()}),s.jsx(Us,{children:p.tailNumber||"-"}),s.jsx(Us,{children:p.aircraftType||"-"}),s.jsx(Us,{children:p.route||"-"}),s.jsx(Us,{children:p.pic||"0"}),s.jsx(Us,{children:p.sic||"0"}),s.jsx(Us,{children:p.dual||"0"}),s.jsx(Us,{children:p.instrumentActual||"0"}),s.jsx(Us,{children:(p.landingsDay||0)+(p.landingsNight||0)}),s.jsx(Us,{children:p.isLocked?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[s.jsx(bS,{className:"h-3 w-3"}),"Signed"]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Draft"})}),s.jsx(Us,{children:s.jsx("div",{className:"flex gap-2",children:!p.isLocked&&s.jsxs(s.Fragment,{children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>a(p),children:s.jsx(Zi,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{d(p.id),l(!0)},children:s.jsx(bS,{className:"h-4 w-4"})}),s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>{confirm("Delete this entry?")&&b.mutate(p.id)},children:s.jsx(pn,{className:"h-4 w-4"})})]})})})]},p.id))})]})})]}),s.jsxs($,{className:"mt-6 border-primary/20 bg-primary/5",children:[s.jsxs(re,{children:[s.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[s.jsx(dl,{className:"h-5 w-5 text-primary"}),"Coming Soon: Pro Features"]}),s.jsx(Re,{children:"Enhanced tools to advance your aviation career"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(An,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Currency Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"90-day landings, night, IFR alerts"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(dl,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Endorsement Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instructor sign-offs & CFI workflows"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(An,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Expiration Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Medical, BFR, IPC reminders"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(dl,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"ATP/Airline Reports"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Export to airline application formats"})]})]})]}),s.jsx(rt,{className:"my-4"}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[" ",s.jsx("strong",{children:"Your logbook data will always be free and exportable."})," Premium features add intelligence and automation."]})]})]}),i&&s.jsx(ts,{open:!!i,onOpenChange:()=>a(null),children:s.jsx(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(D2,{initialData:i,onSubmit:p=>y.mutate({id:i.id,data:p}),isPending:y.isPending})})}),o&&c&&s.jsx(ts,{open:o,onOpenChange:l,children:s.jsx(Gt,{children:s.jsx(Bse,{onSign:(p,x)=>{j.mutate({id:c,signatureDataUrl:p,signedByName:x})},isPending:j.isPending})})})]})}function D2({initialData:t,onSubmit:e,isPending:n}){var o,l,c,d,u,h,m,y;const[r,i]=f.useState(t?{flightDate:typeof t.flightDate=="string"?new Date(t.flightDate):t.flightDate,tailNumber:t.tailNumber,aircraftType:t.aircraftType,route:t.route,timeDay:((o=t.timeDay)==null?void 0:o.toString())||"0",timeNight:((l=t.timeNight)==null?void 0:l.toString())||"0",pic:((c=t.pic)==null?void 0:c.toString())||"0",sic:((d=t.sic)==null?void 0:d.toString())||"0",dual:((u=t.dual)==null?void 0:u.toString())||"0",instrumentActual:((h=t.instrumentActual)==null?void 0:h.toString())||"0",approaches:t.approaches||0,landingsDay:t.landingsDay||0,landingsNight:t.landingsNight||0,holds:t.holds||0,remarks:t.remarks,hobbsStart:(m=t.hobbsStart)==null?void 0:m.toString(),hobbsEnd:(y=t.hobbsEnd)==null?void 0:y.toString()}:{flightDate:new Date,tailNumber:"",aircraftType:"",route:"",timeDay:"0",timeNight:"0",pic:"0",sic:"0",dual:"0",instrumentActual:"0",approaches:0,landingsDay:0,landingsNight:0,holds:0,remarks:"",hobbsStart:"",hobbsEnd:""}),a=b=>{b.preventDefault(),e(r)};return s.jsxs("form",{onSubmit:a,children:[s.jsxs(os,{children:[s.jsx(ls,{children:t?"Edit Entry":"New Logbook Entry"}),s.jsx(ps,{children:"Fill in the flight details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"flightDate",children:"Flight Date"}),s.jsx(W,{id:"flightDate",type:"date",value:r.flightDate instanceof Date?r.flightDate.toISOString().split("T")[0]:"",onChange:b=>i({...r,flightDate:new Date(b.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"tailNumber",children:"Tail Number"}),s.jsx(W,{id:"tailNumber",value:r.tailNumber||"",onChange:b=>i({...r,tailNumber:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"aircraftType",children:"Aircraft Type"}),s.jsx(W,{id:"aircraftType",value:r.aircraftType||"",onChange:b=>i({...r,aircraftType:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"route",children:"Route"}),s.jsx(W,{id:"route",value:r.route||"",onChange:b=>i({...r,route:b.target.value}),placeholder:"e.g. KDEN-KCOS"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"pic",children:"PIC (hours)"}),s.jsx(W,{id:"pic",type:"number",step:"0.1",value:r.pic||"0",onChange:b=>i({...r,pic:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"sic",children:"SIC (hours)"}),s.jsx(W,{id:"sic",type:"number",step:"0.1",value:r.sic||"0",onChange:b=>i({...r,sic:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"dual",children:"Dual (hours)"}),s.jsx(W,{id:"dual",type:"number",step:"0.1",value:r.dual||"0",onChange:b=>i({...r,dual:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"instrumentActual",children:"Instrument (hours)"}),s.jsx(W,{id:"instrumentActual",type:"number",step:"0.1",value:r.instrumentActual||"0",onChange:b=>i({...r,instrumentActual:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"landingsDay",children:"Day Landings"}),s.jsx(W,{id:"landingsDay",type:"number",value:r.landingsDay||0,onChange:b=>i({...r,landingsDay:parseInt(b.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"landingsNight",children:"Night Landings"}),s.jsx(W,{id:"landingsNight",type:"number",value:r.landingsNight||0,onChange:b=>i({...r,landingsNight:parseInt(b.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"approaches",children:"Approaches"}),s.jsx(W,{id:"approaches",type:"number",value:r.approaches||0,onChange:b=>i({...r,approaches:parseInt(b.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"holds",children:"Holds"}),s.jsx(W,{id:"holds",type:"number",value:r.holds||0,onChange:b=>i({...r,holds:parseInt(b.target.value)})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Ce,{htmlFor:"remarks",children:"Remarks"}),s.jsx(Qt,{id:"remarks",value:r.remarks||"",onChange:b=>i({...r,remarks:b.target.value}),rows:3})]})]}),s.jsx(xn,{children:s.jsxs(O,{type:"submit",disabled:n,children:[n&&s.jsx(fm,{className:"h-4 w-4 mr-2 animate-spin"}),t?"Update":"Create"]})})]})}function Bse({onSign:t,isPending:e}){const[n,r]=f.useState(""),[i,a]=f.useState(""),o=()=>{if(!n||!i){alert("Please provide your name and signature");return}t(i,n)};return s.jsxs(s.Fragment,{children:[s.jsxs(os,{children:[s.jsx(ls,{children:"Sign and Lock Entry"}),s.jsx(ps,{children:"Once signed, this entry cannot be edited."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"signedByName",children:"Your Name"}),s.jsx(W,{id:"signedByName",value:n,onChange:l=>r(l.target.value),placeholder:"e.g. John Doe, CFI"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"signature",children:"Signature (base64 data URL)"}),s.jsx(Qt,{id:"signature",value:i,onChange:l=>a(l.target.value),placeholder:"Paste signature data URL here (future: signature pad)",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For now, paste a base64 data URL. Future: signature canvas."})]})]}),s.jsx(xn,{children:s.jsxs(O,{onClick:o,disabled:e,children:[e&&s.jsx(fm,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign & Lock"]})})]})}function Vse(t){if(!t)return{category:"UNKNOWN",color:"gray"};const e=t.rawOb||"",n=e.match(/\s(\d{1,2})SM/),r=n?parseInt(n[1]):10,i=e.match(/(BKN|OVC)(\d{3})/),a=i?parseInt(i[2])*100:1e4;return a>=3e3&&r>5?{category:"VFR",color:"green"}:a>=1e3&&r>=3?{category:"MVFR",color:"blue"}:a>=500&&r>=1?{category:"IFR",color:"red"}:{category:"LIFR",color:"purple"}}function zse(t){const n=Date.now()-t,r=Math.floor(n/6e4);return r<1?"just now":r<60?`${r} min ago`:`${Math.floor(r/60)}h ${r%60}m ago`}function qse(){const[t,e]=f.useState("KAUS"),[n,r]=f.useState("KAUS"),{data:i,isLoading:a,error:o,refetch:l}=Ve({queryKey:[`/api/aviation-weather/${n}`],enabled:!!n}),c=()=>{t.trim().length>=3&&r(t.toUpperCase().trim())},d=Vse(i==null?void 0:i.metar);return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[s.jsx(V4,{className:"h-8 w-8"}),"Pilot Tools"]}),s.jsx("p",{className:"text-muted-foreground",children:"Aviation weather, NOTAMs, and airport information"})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Airport Weather"}),s.jsx(Re,{children:"Enter an ICAO code (e.g., KAUS, KJFK, KDFW)"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ce,{htmlFor:"icao",className:"sr-only",children:"ICAO Code"}),s.jsx(W,{id:"icao",value:t,onChange:u=>e(u.target.value.toUpperCase()),onKeyDown:u=>u.key==="Enter"&&c(),placeholder:"ICAO (e.g., KAUS)",maxLength:4,className:"uppercase"})]}),s.jsxs(O,{onClick:c,disabled:a,children:[a?s.jsx(fm,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]}),o&&s.jsxs(Dn,{variant:"destructive",children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsx(On,{children:"Failed to fetch weather data. Please check the ICAO code and try again."})]}),i&&s.jsxs(s.Fragment,{children:[s.jsxs($,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(gS,{className:"h-5 w-5"}),i.icao," - Current Conditions"]}),s.jsx(Q,{variant:"outline",className:`text-white ${d.color==="green"?"bg-green-600":d.color==="blue"?"bg-blue-600":d.color==="red"?"bg-red-600":"bg-purple-600"}`,children:d.category})]}),s.jsxs(Re,{className:"flex items-center gap-2",children:[i.metar&&s.jsxs("span",{className:"text-xs",children:["Updated: ",zse(new Date(i.metar.obsTime).getTime())]}),i.cached&&s.jsx(Q,{variant:"secondary",className:"text-xs",children:"Cached"})]})]}),s.jsxs(U,{className:"space-y-4",children:[i.metar?s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"METAR"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1",children:i.metar.rawOb})]})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No METAR data available"}),s.jsx(rt,{}),i.taf?s.jsxs("div",{children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1 whitespace-pre-wrap",children:i.taf.rawTAF})]}):s.jsxs("div",{children:[s.jsx(Ce,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"No TAF data available"})]}),s.jsxs(Dn,{children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsxs(On,{className:"text-xs",children:[s.jsx("strong",{children:"Disclaimer:"})," This information is for planning purposes only and is not for official flight briefings. Always obtain an official weather briefing before flight."]})]})]})]}),s.jsxs($,{children:[s.jsxs(re,{children:[s.jsx(ae,{children:"Aviation Resources"}),s.jsx(Re,{children:"Official sources for flight planning"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://aviationweather.gov/metar/data?ids=${i.icao}&format=decoded`,"_blank"),children:[s.jsx(gS,{className:"h-4 w-4 mr-2"}),"View METAR/TAF",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://notams.aim.faa.gov/notamSearch/nsapp.html#/","_blank"),children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"NOTAMs",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://tfr.faa.gov/tfr2/list.html","_blank"),children:[s.jsx(ta,{className:"h-4 w-4 mr-2"}),"TFRs",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.faa.gov/air_traffic/flight_info/aeronav/digital_products/dafd/","_blank"),children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Chart Supplement",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.1800wxbrief.com/","_blank"),children:[s.jsx(YB,{className:"h-4 w-4 mr-2"}),"1800WXBRIEF",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://skyvector.com/airport/${i.icao}`,"_blank"),children:[s.jsx(Zn,{className:"h-4 w-4 mr-2"}),"SkyVector",s.jsx(Or,{className:"h-3 w-3 ml-auto"})]})]}),s.jsx(rt,{className:"my-4"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"METAR:"})," Current observed weather conditions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TAF:"})," Terminal Aerodrome Forecast (6-30 hour forecast)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"NOTAMs:"})," Notices to Airmen (runway closures, navaid outages, etc.)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TFRs:"})," Temporary Flight Restrictions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chart Supplement:"})," Airport/facility directory with frequencies and procedures"]})]})]})]})]})]})})}function Hse(){const{isAuthenticated:t}=ln();return s.jsxs(QU,{children:[s.jsx(tt,{path:"/",component:yQ}),s.jsx(tt,{path:"/login",component:Ise}),s.jsx(tt,{path:"/register",component:Ose}),s.jsx(tt,{path:"/verify-email",component:Mse}),s.jsx(tt,{path:"/rentals",component:gQ}),s.jsx(tt,{path:"/marketplace",component:MQ}),s.jsx(tt,{path:"/aircraft/:id",component:NX}),s.jsx(tt,{path:"/pilot-tools",component:qse}),s.jsx(tt,{path:"/privacy-policy",component:Tse}),s.jsx(tt,{path:"/terms-of-service",component:Ese}),s.jsx(tt,{path:"/delete-account",component:Fse}),s.jsx(tt,{path:"/404",component:I2}),t?s.jsxs(s.Fragment,{children:[s.jsx(tt,{path:"/dashboard",component:zQ}),s.jsx(tt,{path:"/profile",component:mX}),s.jsx(tt,{path:"/my-listings",component:vX}),s.jsx(tt,{path:"/favorites",component:bX}),s.jsx(tt,{path:"/messages",component:jX}),s.jsx(tt,{path:"/list-aircraft",component:T2}),s.jsx(tt,{path:"/edit-aircraft/:id",component:T2}),s.jsx(tt,{path:"/create-marketplace-listing",component:E2}),s.jsx(tt,{path:"/edit-marketplace-listing/:id",component:E2}),s.jsx(tt,{path:"/marketplace/listing/checkout",component:lse}),s.jsx(tt,{path:"/rental-payment/:id",component:dse}),s.jsx(tt,{path:"/owner-payout-setup",component:kse}),s.jsx(tt,{path:"/owner-withdrawals",component:Pse}),s.jsx(tt,{path:"/admin",component:pse}),s.jsx(tt,{path:"/verify-identity",component:_se}),s.jsx(tt,{path:"/settings",component:Ase}),s.jsx(tt,{path:"/logbook",component:Use})]}):s.jsxs(s.Fragment,{children:[s.jsx(tt,{path:"/dashboard",component:Ws}),s.jsx(tt,{path:"/profile",component:Ws}),s.jsx(tt,{path:"/my-listings",component:Ws}),s.jsx(tt,{path:"/favorites",component:Ws}),s.jsx(tt,{path:"/messages",component:Ws}),s.jsx(tt,{path:"/list-aircraft",component:Ws}),s.jsx(tt,{path:"/edit-aircraft/:id",component:Ws}),s.jsx(tt,{path:"/create-marketplace-listing",component:Ws}),s.jsx(tt,{path:"/edit-marketplace-listing/:id",component:Ws}),s.jsx(tt,{path:"/marketplace/listing/checkout",component:Ws}),s.jsx(tt,{path:"/rental-payment/:id",component:Ws}),s.jsx(tt,{path:"/owner-payout-setup",component:Ws}),s.jsx(tt,{path:"/owner-withdrawals",component:Ws}),s.jsx(tt,{path:"/admin",component:Ws}),s.jsx(tt,{path:"/verify-identity",component:Ws}),s.jsx(tt,{path:"/settings",component:Ws}),s.jsx(tt,{path:"/logbook",component:Ws})]}),s.jsx(tt,{component:I2})]})}function Wse(){return s.jsx(j8,{client:_e,children:s.jsx(A9,{defaultTheme:"light",children:s.jsxs(E9,{children:[s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(bH,{}),s.jsx("div",{className:"flex-1",children:s.jsx(Hse,{})}),s.jsx(vK,{})]}),s.jsx(VV,{})]})})})}HA(document.getElementById("root")).render(s.jsx(Wse,{}));
