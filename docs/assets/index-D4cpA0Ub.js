var hL=Object.defineProperty;var mN=t=>{throw TypeError(t)};var mL=(t,e,s)=>e in t?hL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var P=(t,e,s)=>mL(t,typeof e!="symbol"?e+"":e,s),vg=(t,e,s)=>e.has(t)||mN("Cannot "+s);var N=(t,e,s)=>(vg(t,e,"read from private field"),s?s.call(t):e.get(t)),G=(t,e,s)=>e.has(t)?mN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),X=(t,e,s,r)=>(vg(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),ce=(t,e,s)=>(vg(t,e,"access private method"),s);var xm=(t,e,s,r)=>({set _(i){X(t,e,i,s)},get _(){return N(t,e,r)}});function fL(t,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JP={exports:{}},Zp={},eT={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=Symbol.for("react.element"),pL=Symbol.for("react.portal"),xL=Symbol.for("react.fragment"),gL=Symbol.for("react.strict_mode"),yL=Symbol.for("react.profiler"),vL=Symbol.for("react.provider"),jL=Symbol.for("react.context"),bL=Symbol.for("react.forward_ref"),wL=Symbol.for("react.suspense"),NL=Symbol.for("react.memo"),SL=Symbol.for("react.lazy"),fN=Symbol.iterator;function CL(t){return t===null||typeof t!="object"?null:(t=fN&&t[fN]||t["@@iterator"],typeof t=="function"?t:null)}var tT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sT=Object.assign,nT={};function md(t,e,s){this.props=t,this.context=e,this.refs=nT,this.updater=s||tT}md.prototype.isReactComponent={};md.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};md.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rT(){}rT.prototype=md.prototype;function qj(t,e,s){this.props=t,this.context=e,this.refs=nT,this.updater=s||tT}var Hj=qj.prototype=new rT;Hj.constructor=qj;sT(Hj,md.prototype);Hj.isPureReactComponent=!0;var pN=Array.isArray,iT=Object.prototype.hasOwnProperty,Wj={current:null},aT={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,s){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)iT.call(e,r)&&!aT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Kh,type:t,key:a,ref:o,props:i,_owner:Wj.current}}function _L(t,e){return{$$typeof:Kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kj(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kh}function kL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var xN=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kL(""+t.key):e.toString(36)}function tf(t,e,s,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kh:case pL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jg(o,0):r,pN(i)?(s="",t!=null&&(s=t.replace(xN,"$&/")+"/"),tf(i,e,s,"",function(d){return d})):i!=null&&(Kj(i)&&(i=_L(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pN(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+jg(a,l);o+=tf(a,e,s,c,i)}else if(c=CL(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+jg(a,l++),o+=tf(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ym(t,e,s){if(t==null)return t;var r=[],i=0;return tf(t,r,"","",function(a){return e.call(s,a,i++)}),r}function PL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},sf={transition:null},TL={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:sf,ReactCurrentOwner:Wj};function lT(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:ym,forEach:function(t,e,s){ym(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return ym(t,function(){e++}),e},toArray:function(t){return ym(t,function(e){return e})||[]},only:function(t){if(!Kj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=md;mt.Fragment=xL;mt.Profiler=yL;mt.PureComponent=qj;mt.StrictMode=gL;mt.Suspense=wL;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TL;mt.act=lT;mt.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sT({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Wj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)iT.call(e,c)&&!aT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Kh,type:t.type,key:i,ref:a,props:r,_owner:o}};mt.createContext=function(t){return t={$$typeof:jL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vL,_context:t},t.Consumer=t};mt.createElement=oT;mt.createFactory=function(t){var e=oT.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:bL,render:t}};mt.isValidElement=Kj;mt.lazy=function(t){return{$$typeof:SL,_payload:{_status:-1,_result:t},_init:PL}};mt.memo=function(t,e){return{$$typeof:NL,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=sf.transition;sf.transition={};try{t()}finally{sf.transition=e}};mt.unstable_act=lT;mt.useCallback=function(t,e){return gn.current.useCallback(t,e)};mt.useContext=function(t){return gn.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};mt.useEffect=function(t,e){return gn.current.useEffect(t,e)};mt.useId=function(){return gn.current.useId()};mt.useImperativeHandle=function(t,e,s){return gn.current.useImperativeHandle(t,e,s)};mt.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return gn.current.useMemo(t,e)};mt.useReducer=function(t,e,s){return gn.current.useReducer(t,e,s)};mt.useRef=function(t){return gn.current.useRef(t)};mt.useState=function(t){return gn.current.useState(t)};mt.useSyncExternalStore=function(t,e,s){return gn.current.useSyncExternalStore(t,e,s)};mt.useTransition=function(){return gn.current.useTransition()};mt.version="18.3.1";eT.exports=mt;var x=eT.exports;const at=ra(x),cT=fL({__proto__:null,default:at},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EL=x,AL=Symbol.for("react.element"),FL=Symbol.for("react.fragment"),RL=Object.prototype.hasOwnProperty,IL=EL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DL={key:!0,ref:!0,__self:!0,__source:!0};function dT(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RL.call(e,r)&&!DL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AL,type:t,key:a,ref:o,props:i,_owner:IL.current}}Zp.Fragment=FL;Zp.jsx=dT;Zp.jsxs=dT;JP.exports=Zp;var n=JP.exports,uT={exports:{}},Hn={},hT={exports:{}},mT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var O=M.length;M.push(F);e:for(;0<O;){var he=O-1>>>1,_e=M[he];if(0<i(_e,F))M[he]=F,M[O]=_e,O=he;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],O=M.pop();if(O!==F){M[0]=O;e:for(var he=0,_e=M.length,tt=_e>>>1;he<tt;){var Ze=2*(he+1)-1,St=M[Ze],ft=Ze+1,je=M[ft];if(0>i(St,O))ft<_e&&0>i(je,St)?(M[he]=je,M[ft]=O,he=ft):(M[he]=St,M[Ze]=O,he=Ze);else if(ft<_e&&0>i(je,O))M[he]=je,M[ft]=O,he=ft;else break e}}return F}function i(M,F){var O=M.sortIndex-F.sortIndex;return O!==0?O:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,y=!1,b=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var F=s(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=M)r(d),F.sortIndex=F.expirationTime,e(c,F);else break;F=s(d)}}function S(M){if(j=!1,w(M),!b)if(s(c)!==null)b=!0,A(k);else{var F=s(d);F!==null&&K(S,F.startTime-M)}}function k(M,F){b=!1,j&&(j=!1,p(T),T=-1),y=!0;var O=m;try{for(w(F),h=s(c);h!==null&&(!(h.expirationTime>F)||M&&!L());){var he=h.callback;if(typeof he=="function"){h.callback=null,m=h.priorityLevel;var _e=he(h.expirationTime<=F);F=t.unstable_now(),typeof _e=="function"?h.callback=_e:h===s(c)&&r(c),w(F)}else r(c);h=s(c)}if(h!==null)var tt=!0;else{var Ze=s(d);Ze!==null&&K(S,Ze.startTime-F),tt=!1}return tt}finally{h=null,m=O,y=!1}}var C=!1,_=null,T=-1,R=5,D=-1;function L(){return!(t.unstable_now()-D<R)}function B(){if(_!==null){var M=t.unstable_now();D=M;var F=!0;try{F=_(!0,M)}finally{F?ee():(C=!1,_=null)}}else C=!1}var ee;if(typeof f=="function")ee=function(){f(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=B,ee=function(){se.postMessage(null)}}else ee=function(){v(B,0)};function A(M){_=M,C||(C=!0,ee())}function K(M,F){T=v(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,A(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var O=m;m=F;try{return M()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=m;m=M;try{return F()}finally{m=O}},t.unstable_scheduleCallback=function(M,F,O){var he=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?he+O:he):O=he,M){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=O+_e,M={id:u++,callback:F,priorityLevel:M,startTime:O,expirationTime:_e,sortIndex:-1},O>he?(M.sortIndex=O,e(d,M),s(c)===null&&M===s(d)&&(j?(p(T),T=-1):j=!0,K(S,O-he))):(M.sortIndex=_e,e(c,M),b||y||(b=!0,A(k))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var F=m;return function(){var O=m;m=F;try{return M.apply(this,arguments)}finally{m=O}}}})(mT);hT.exports=mT;var OL=hT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ML=x,qn=OL;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fT=new Set,Eu={};function yl(t,e){Qc(t,e),Qc(t+"Capture",e)}function Qc(t,e){for(Eu[t]=e,t=0;t<e.length;t++)fT.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iy=Object.prototype.hasOwnProperty,LL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gN={},yN={};function $L(t){return Iy.call(yN,t)?!0:Iy.call(gN,t)?!1:LL.test(t)?yN[t]=!0:(gN[t]=!0,!1)}function UL(t,e,s,r){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BL(t,e,s,r){if(e===null||typeof e>"u"||UL(t,e,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,s,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qs[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qs[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qs[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qs[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qs[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qs[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qs[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qs[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qs[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gj=/[\-:]([a-z])/g;function Qj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gj,Qj);qs[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gj,Qj);qs[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gj,Qj);qs[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qs[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});qs.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qs[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yj(t,e,s,r){var i=qs.hasOwnProperty(e)?qs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BL(e,s,i,r)&&(s=null),r||i===null?$L(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,r=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?t.setAttributeNS(r,e,s):t.setAttribute(e,s))))}var ia=ML.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vm=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Xj=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),pT=Symbol.for("react.provider"),xT=Symbol.for("react.context"),Zj=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),My=Symbol.for("react.suspense_list"),Jj=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),gT=Symbol.for("react.offscreen"),vN=Symbol.iterator;function Td(t){return t===null||typeof t!="object"?null:(t=vN&&t[vN]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,bg;function Kd(t){if(bg===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);bg=e&&e[1]||""}return`
`+bg+t}var wg=!1;function Ng(t,e){if(!t||wg)return"";wg=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{wg=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Kd(t):""}function zL(t){switch(t.tag){case 5:return Kd(t.type);case 16:return Kd("Lazy");case 13:return Kd("Suspense");case 19:return Kd("SuspenseList");case 0:case 2:case 15:return t=Ng(t.type,!1),t;case 11:return t=Ng(t.type.render,!1),t;case 1:return t=Ng(t.type,!0),t;default:return""}}function Ly(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vl:return"Fragment";case zl:return"Portal";case Dy:return"Profiler";case Xj:return"StrictMode";case Oy:return"Suspense";case My:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xT:return(t.displayName||"Context")+".Consumer";case pT:return(t._context.displayName||"Context")+".Provider";case Zj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jj:return e=t.displayName||null,e!==null?e:Ly(t.type)||"Memo";case ga:e=t._payload,t=t._init;try{return Ly(t(e))}catch{}}return null}function VL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ly(e);case 8:return e===Xj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qL(t){var e=yT(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jm(t){t._valueTracker||(t._valueTracker=qL(t))}function vT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=yT(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $y(t,e){var s=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function jN(t,e){var s=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;s=Ka(e.value!=null?e.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jT(t,e){e=e.checked,e!=null&&Yj(t,"checked",e,!1)}function Uy(t,e){jT(t,e);var s=Ka(e.value),r=e.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?By(t,e.type,s):e.hasOwnProperty("defaultValue")&&By(t,e.type,Ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bN(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function By(t,e,s){(e!=="number"||Pf(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Gd=Array.isArray;function sc(t,e,s,r){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Ka(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wN(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(pe(92));if(Gd(s)){if(1<s.length)throw Error(pe(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:Ka(s)}}function bT(t,e){var s=Ka(e.value),r=Ka(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function NN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,NT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HL=["Webkit","ms","Moz","O"];Object.keys(cu).forEach(function(t){HL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cu[e]=cu[t]})});function ST(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||cu.hasOwnProperty(t)&&cu[t]?(""+e).trim():e+"px"}function CT(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=ST(s,e[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,i):t[s]=i}}var WL=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qy(t,e){if(e){if(WL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Hy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=null;function eb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ky=null,nc=null,rc=null;function SN(t){if(t=Yh(t)){if(typeof Ky!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=nx(e),Ky(t.stateNode,t.type,e))}}function _T(t){nc?rc?rc.push(t):rc=[t]:nc=t}function kT(){if(nc){var t=nc,e=rc;if(rc=nc=null,SN(t),e)for(t=0;t<e.length;t++)SN(e[t])}}function PT(t,e){return t(e)}function TT(){}var Sg=!1;function ET(t,e,s){if(Sg)return t(e,s);Sg=!0;try{return PT(t,e,s)}finally{Sg=!1,(nc!==null||rc!==null)&&(TT(),kT())}}function Fu(t,e){var s=t.stateNode;if(s===null)return null;var r=nx(s);if(r===null)return null;s=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(pe(231,e,typeof s));return s}var Gy=!1;if(Yi)try{var Ed={};Object.defineProperty(Ed,"passive",{get:function(){Gy=!0}}),window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Gy=!1}function KL(t,e,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var du=!1,Tf=null,Ef=!1,Qy=null,GL={onError:function(t){du=!0,Tf=t}};function QL(t,e,s,r,i,a,o,l,c){du=!1,Tf=null,KL.apply(GL,arguments)}function YL(t,e,s,r,i,a,o,l,c){if(QL.apply(this,arguments),du){if(du){var d=Tf;du=!1,Tf=null}else throw Error(pe(198));Ef||(Ef=!0,Qy=d)}}function vl(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function AT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CN(t){if(vl(t)!==t)throw Error(pe(188))}function XL(t){var e=t.alternate;if(!e){if(e=vl(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var s=t,r=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return CN(i),t;if(a===r)return CN(i),e;a=a.sibling}throw Error(pe(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(s.alternate!==r)throw Error(pe(190))}if(s.tag!==3)throw Error(pe(188));return s.stateNode.current===s?t:e}function FT(t){return t=XL(t),t!==null?RT(t):null}function RT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RT(t);if(e!==null)return e;t=t.sibling}return null}var IT=qn.unstable_scheduleCallback,_N=qn.unstable_cancelCallback,ZL=qn.unstable_shouldYield,JL=qn.unstable_requestPaint,ms=qn.unstable_now,e$=qn.unstable_getCurrentPriorityLevel,tb=qn.unstable_ImmediatePriority,DT=qn.unstable_UserBlockingPriority,Af=qn.unstable_NormalPriority,t$=qn.unstable_LowPriority,OT=qn.unstable_IdlePriority,Jp=null,pi=null;function s$(t){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Jp,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:i$,n$=Math.log,r$=Math.LN2;function i$(t){return t>>>=0,t===0?32:31-(n$(t)/r$|0)|0}var wm=64,Nm=4194304;function Qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=Qd(l):(a&=o,a!==0&&(r=Qd(a)))}else o=s&~i,o!==0?r=Qd(o):a!==0&&(r=Qd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)s=31-Lr(e),i=1<<s,r|=t[s],e&=~i;return r}function a$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o$(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Lr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=a$(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Yy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MT(){var t=wm;return wm<<=1,!(wm&4194240)&&(wm=64),t}function Cg(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Gh(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=s}function l$(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Lr(s),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,s&=~a}}function sb(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-Lr(s),i=1<<r;i&e|t[r]&e&&(t[r]|=e),s&=~i}}var At=0;function LT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $T,nb,UT,BT,zT,Xy=!1,Sm=[],La=null,$a=null,Ua=null,Ru=new Map,Iu=new Map,ja=[],c$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kN(t,e){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Ad(t,e,s,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Yh(e),e!==null&&nb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d$(t,e,s,r,i){switch(e){case"focusin":return La=Ad(La,t,e,s,r,i),!0;case"dragenter":return $a=Ad($a,t,e,s,r,i),!0;case"mouseover":return Ua=Ad(Ua,t,e,s,r,i),!0;case"pointerover":var a=i.pointerId;return Ru.set(a,Ad(Ru.get(a)||null,t,e,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Iu.set(a,Ad(Iu.get(a)||null,t,e,s,r,i)),!0}return!1}function VT(t){var e=Co(t.target);if(e!==null){var s=vl(e);if(s!==null){if(e=s.tag,e===13){if(e=AT(s),e!==null){t.blockedOn=e,zT(t.priority,function(){UT(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Zy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);Wy=r,s.target.dispatchEvent(r),Wy=null}else return e=Yh(s),e!==null&&nb(e),t.blockedOn=s,!1;e.shift()}return!0}function PN(t,e,s){nf(t)&&s.delete(e)}function u$(){Xy=!1,La!==null&&nf(La)&&(La=null),$a!==null&&nf($a)&&($a=null),Ua!==null&&nf(Ua)&&(Ua=null),Ru.forEach(PN),Iu.forEach(PN)}function Fd(t,e){t.blockedOn===e&&(t.blockedOn=null,Xy||(Xy=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,u$)))}function Du(t){function e(i){return Fd(i,t)}if(0<Sm.length){Fd(Sm[0],t);for(var s=1;s<Sm.length;s++){var r=Sm[s];r.blockedOn===t&&(r.blockedOn=null)}}for(La!==null&&Fd(La,t),$a!==null&&Fd($a,t),Ua!==null&&Fd(Ua,t),Ru.forEach(e),Iu.forEach(e),s=0;s<ja.length;s++)r=ja[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<ja.length&&(s=ja[0],s.blockedOn===null);)VT(s),s.blockedOn===null&&ja.shift()}var ic=ia.ReactCurrentBatchConfig,Rf=!0;function h$(t,e,s,r){var i=At,a=ic.transition;ic.transition=null;try{At=1,rb(t,e,s,r)}finally{At=i,ic.transition=a}}function m$(t,e,s,r){var i=At,a=ic.transition;ic.transition=null;try{At=4,rb(t,e,s,r)}finally{At=i,ic.transition=a}}function rb(t,e,s,r){if(Rf){var i=Zy(t,e,s,r);if(i===null)Dg(t,e,r,If,s),kN(t,r);else if(d$(i,t,e,s,r))r.stopPropagation();else if(kN(t,r),e&4&&-1<c$.indexOf(t)){for(;i!==null;){var a=Yh(i);if(a!==null&&$T(a),a=Zy(t,e,s,r),a===null&&Dg(t,e,r,If,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else Dg(t,e,r,null,s)}}var If=null;function Zy(t,e,s,r){if(If=null,t=eb(r),t=Co(t),t!==null)if(e=vl(t),e===null)t=null;else if(s=e.tag,s===13){if(t=AT(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function qT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e$()){case tb:return 1;case DT:return 4;case Af:case t$:return 16;case OT:return 536870912;default:return 16}default:return 16}}var Da=null,ib=null,rf=null;function HT(){if(rf)return rf;var t,e=ib,s=e.length,r,i="value"in Da?Da.value:Da.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(r=1;r<=o&&e[s-r]===i[a-r];r++);return rf=i.slice(t,1<r?1-r:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cm(){return!0}function TN(){return!1}function Wn(t){function e(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cm:TN,this.isPropagationStopped=TN,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cm)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cm)},persist:function(){},isPersistent:Cm}),e}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ab=Wn(fd),Qh=Jt({},fd,{view:0,detail:0}),f$=Wn(Qh),_g,kg,Rd,ex=Jt({},Qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rd&&(Rd&&t.type==="mousemove"?(_g=t.screenX-Rd.screenX,kg=t.screenY-Rd.screenY):kg=_g=0,Rd=t),_g)},movementY:function(t){return"movementY"in t?t.movementY:kg}}),EN=Wn(ex),p$=Jt({},ex,{dataTransfer:0}),x$=Wn(p$),g$=Jt({},Qh,{relatedTarget:0}),Pg=Wn(g$),y$=Jt({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),v$=Wn(y$),j$=Jt({},fd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b$=Wn(j$),w$=Jt({},fd,{data:0}),AN=Wn(w$),N$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C$[t])?!!e[t]:!1}function ob(){return _$}var k$=Jt({},Qh,{key:function(t){if(t.key){var e=N$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P$=Wn(k$),T$=Jt({},ex,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FN=Wn(T$),E$=Jt({},Qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),A$=Wn(E$),F$=Jt({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),R$=Wn(F$),I$=Jt({},ex,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D$=Wn(I$),O$=[9,13,27,32],lb=Yi&&"CompositionEvent"in window,uu=null;Yi&&"documentMode"in document&&(uu=document.documentMode);var M$=Yi&&"TextEvent"in window&&!uu,WT=Yi&&(!lb||uu&&8<uu&&11>=uu),RN=" ",IN=!1;function KT(t,e){switch(t){case"keyup":return O$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ql=!1;function L$(t,e){switch(t){case"compositionend":return GT(e);case"keypress":return e.which!==32?null:(IN=!0,RN);case"textInput":return t=e.data,t===RN&&IN?null:t;default:return null}}function $$(t,e){if(ql)return t==="compositionend"||!lb&&KT(t,e)?(t=HT(),rf=ib=Da=null,ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WT&&e.locale!=="ko"?null:e.data;default:return null}}var U$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U$[t.type]:e==="textarea"}function QT(t,e,s,r){_T(r),e=Df(e,"onChange"),0<e.length&&(s=new ab("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var hu=null,Ou=null;function B$(t){aE(t,0)}function tx(t){var e=Kl(t);if(vT(e))return t}function z$(t,e){if(t==="change")return e}var YT=!1;if(Yi){var Tg;if(Yi){var Eg="oninput"in document;if(!Eg){var ON=document.createElement("div");ON.setAttribute("oninput","return;"),Eg=typeof ON.oninput=="function"}Tg=Eg}else Tg=!1;YT=Tg&&(!document.documentMode||9<document.documentMode)}function MN(){hu&&(hu.detachEvent("onpropertychange",XT),Ou=hu=null)}function XT(t){if(t.propertyName==="value"&&tx(Ou)){var e=[];QT(e,Ou,t,eb(t)),ET(B$,e)}}function V$(t,e,s){t==="focusin"?(MN(),hu=e,Ou=s,hu.attachEvent("onpropertychange",XT)):t==="focusout"&&MN()}function q$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tx(Ou)}function H$(t,e){if(t==="click")return tx(e)}function W$(t,e){if(t==="input"||t==="change")return tx(e)}function K$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:K$;function Mu(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!Iy.call(e,i)||!zr(t[i],e[i]))return!1}return!0}function LN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $N(t,e){var s=LN(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=LN(s)}}function ZT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JT(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Pf(t.document)}return e}function cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G$(t){var e=JT(),s=t.focusedElem,r=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&ZT(s.ownerDocument.documentElement,s)){if(r!==null&&cb(s)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=$N(s,a);var o=$N(s,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q$=Yi&&"documentMode"in document&&11>=document.documentMode,Hl=null,Jy=null,mu=null,ev=!1;function UN(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ev||Hl==null||Hl!==Pf(r)||(r=Hl,"selectionStart"in r&&cb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mu&&Mu(mu,r)||(mu=r,r=Df(Jy,"onSelect"),0<r.length&&(e=new ab("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=Hl)))}function _m(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Wl={animationend:_m("Animation","AnimationEnd"),animationiteration:_m("Animation","AnimationIteration"),animationstart:_m("Animation","AnimationStart"),transitionend:_m("Transition","TransitionEnd")},Ag={},eE={};Yi&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function sx(t){if(Ag[t])return Ag[t];if(!Wl[t])return t;var e=Wl[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in eE)return Ag[t]=e[s];return t}var tE=sx("animationend"),sE=sx("animationiteration"),nE=sx("animationstart"),rE=sx("transitionend"),iE=new Map,BN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(t,e){iE.set(t,e),yl(e,[t])}for(var Fg=0;Fg<BN.length;Fg++){var Rg=BN[Fg],Y$=Rg.toLowerCase(),X$=Rg[0].toUpperCase()+Rg.slice(1);ho(Y$,"on"+X$)}ho(tE,"onAnimationEnd");ho(sE,"onAnimationIteration");ho(nE,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(rE,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yd));function zN(t,e,s){var r=t.type||"unknown-event";t.currentTarget=s,YL(r,e,void 0,t),t.currentTarget=null}function aE(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;zN(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;zN(i,l,d),a=c}}}if(Ef)throw t=Qy,Ef=!1,Qy=null,t}function zt(t,e){var s=e[iv];s===void 0&&(s=e[iv]=new Set);var r=t+"__bubble";s.has(r)||(oE(e,t,2,!1),s.add(r))}function Ig(t,e,s){var r=0;e&&(r|=4),oE(s,t,r,e)}var km="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[km]){t[km]=!0,fT.forEach(function(s){s!=="selectionchange"&&(Z$.has(s)||Ig(s,!1,t),Ig(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[km]||(e[km]=!0,Ig("selectionchange",!1,e))}}function oE(t,e,s,r){switch(qT(e)){case 1:var i=h$;break;case 4:i=m$;break;default:i=rb}s=i.bind(null,e,s,t),i=void 0,!Gy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function Dg(t,e,s,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Co(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}ET(function(){var d=a,u=eb(s),h=[];e:{var m=iE.get(t);if(m!==void 0){var y=ab,b=t;switch(t){case"keypress":if(af(s)===0)break e;case"keydown":case"keyup":y=P$;break;case"focusin":b="focus",y=Pg;break;case"focusout":b="blur",y=Pg;break;case"beforeblur":case"afterblur":y=Pg;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=EN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=x$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=A$;break;case tE:case sE:case nE:y=v$;break;case rE:y=R$;break;case"scroll":y=f$;break;case"wheel":y=D$;break;case"copy":case"cut":case"paste":y=b$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=FN}var j=(e&4)!==0,v=!j&&t==="scroll",p=j?m!==null?m+"Capture":null:m;j=[];for(var f=d,w;f!==null;){w=f;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,p!==null&&(S=Fu(f,p),S!=null&&j.push($u(f,S,w)))),v)break;f=f.return}0<j.length&&(m=new y(m,b,null,s,u),h.push({event:m,listeners:j}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&s!==Wy&&(b=s.relatedTarget||s.fromElement)&&(Co(b)||b[Xi]))break e;if((y||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=s.relatedTarget||s.toElement,y=d,b=b?Co(b):null,b!==null&&(v=vl(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(j=EN,S="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(j=FN,S="onPointerLeave",p="onPointerEnter",f="pointer"),v=y==null?m:Kl(y),w=b==null?m:Kl(b),m=new j(S,f+"leave",y,s,u),m.target=v,m.relatedTarget=w,S=null,Co(u)===d&&(j=new j(p,f+"enter",b,s,u),j.target=w,j.relatedTarget=v,S=j),v=S,y&&b)t:{for(j=y,p=b,f=0,w=j;w;w=Al(w))f++;for(w=0,S=p;S;S=Al(S))w++;for(;0<f-w;)j=Al(j),f--;for(;0<w-f;)p=Al(p),w--;for(;f--;){if(j===p||p!==null&&j===p.alternate)break t;j=Al(j),p=Al(p)}j=null}else j=null;y!==null&&VN(h,m,y,j,!1),b!==null&&v!==null&&VN(h,v,b,j,!0)}}e:{if(m=d?Kl(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var k=z$;else if(DN(m))if(YT)k=W$;else{k=q$;var C=V$}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=H$);if(k&&(k=k(t,d))){QT(h,k,s,u);break e}C&&C(t,m,d),t==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&By(m,"number",m.value)}switch(C=d?Kl(d):window,t){case"focusin":(DN(C)||C.contentEditable==="true")&&(Hl=C,Jy=d,mu=null);break;case"focusout":mu=Jy=Hl=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,UN(h,s,u);break;case"selectionchange":if(Q$)break;case"keydown":case"keyup":UN(h,s,u)}var _;if(lb)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ql?KT(t,s)&&(T="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(WT&&s.locale!=="ko"&&(ql||T!=="onCompositionStart"?T==="onCompositionEnd"&&ql&&(_=HT()):(Da=u,ib="value"in Da?Da.value:Da.textContent,ql=!0)),C=Df(d,T),0<C.length&&(T=new AN(T,t,null,s,u),h.push({event:T,listeners:C}),_?T.data=_:(_=GT(s),_!==null&&(T.data=_)))),(_=M$?L$(t,s):$$(t,s))&&(d=Df(d,"onBeforeInput"),0<d.length&&(u=new AN("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=_))}aE(h,e)})}function $u(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Df(t,e){for(var s=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fu(t,s),a!=null&&r.unshift($u(t,a,i)),a=Fu(t,e),a!=null&&r.push($u(t,a,i))),t=t.return}return r}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VN(t,e,s,r,i){for(var a=e._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Fu(s,a),c!=null&&o.unshift($u(s,c,l))):i||(c=Fu(s,a),c!=null&&o.push($u(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var J$=/\r\n?/g,e6=/\u0000|\uFFFD/g;function qN(t){return(typeof t=="string"?t:""+t).replace(J$,`
`).replace(e6,"")}function Pm(t,e,s){if(e=qN(e),qN(t)!==e&&s)throw Error(pe(425))}function Of(){}var tv=null,sv=null;function nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rv=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,HN=typeof Promise=="function"?Promise:void 0,s6=typeof queueMicrotask=="function"?queueMicrotask:typeof HN<"u"?function(t){return HN.resolve(null).then(t).catch(n6)}:rv;function n6(t){setTimeout(function(){throw t})}function Og(t,e){var s=e,r=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){t.removeChild(i),Du(e);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);Du(e)}function Ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var pd=Math.random().toString(36).slice(2),ui="__reactFiber$"+pd,Uu="__reactProps$"+pd,Xi="__reactContainer$"+pd,iv="__reactEvents$"+pd,r6="__reactListeners$"+pd,i6="__reactHandles$"+pd;function Co(t){var e=t[ui];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Xi]||s[ui]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=WN(t);t!==null;){if(s=t[ui])return s;t=WN(t)}return e}t=s,s=t.parentNode}return null}function Yh(t){return t=t[ui]||t[Xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function nx(t){return t[Uu]||null}var av=[],Gl=-1;function mo(t){return{current:t}}function Vt(t){0>Gl||(t.current=av[Gl],av[Gl]=null,Gl--)}function $t(t,e){Gl++,av[Gl]=t.current,t.current=e}var Ga={},nn=mo(Ga),Pn=mo(!1),el=Ga;function Yc(t,e){var s=t.type.contextTypes;if(!s)return Ga;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Mf(){Vt(Pn),Vt(nn)}function KN(t,e,s){if(nn.current!==Ga)throw Error(pe(168));$t(nn,e),$t(Pn,s)}function lE(t,e,s){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,VL(t)||"Unknown",i));return Jt({},s,r)}function Lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,el=nn.current,$t(nn,t),$t(Pn,Pn.current),!0}function GN(t,e,s){var r=t.stateNode;if(!r)throw Error(pe(169));s?(t=lE(t,e,el),r.__reactInternalMemoizedMergedChildContext=t,Vt(Pn),Vt(nn),$t(nn,t)):Vt(Pn),$t(Pn,s)}var Oi=null,rx=!1,Mg=!1;function cE(t){Oi===null?Oi=[t]:Oi.push(t)}function a6(t){rx=!0,cE(t)}function fo(){if(!Mg&&Oi!==null){Mg=!0;var t=0,e=At;try{var s=Oi;for(At=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}Oi=null,rx=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(t+1)),IT(tb,fo),i}finally{At=e,Mg=!1}}return null}var Ql=[],Yl=0,$f=null,Uf=0,er=[],tr=0,tl=null,qi=1,Hi="";function vo(t,e){Ql[Yl++]=Uf,Ql[Yl++]=$f,$f=t,Uf=e}function dE(t,e,s){er[tr++]=qi,er[tr++]=Hi,er[tr++]=tl,tl=t;var r=qi;t=Hi;var i=32-Lr(r)-1;r&=~(1<<i),s+=1;var a=32-Lr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qi=1<<32-Lr(e)+i|s<<i|r,Hi=a+t}else qi=1<<a|s<<i|r,Hi=t}function db(t){t.return!==null&&(vo(t,1),dE(t,1,0))}function ub(t){for(;t===$f;)$f=Ql[--Yl],Ql[Yl]=null,Uf=Ql[--Yl],Ql[Yl]=null;for(;t===tl;)tl=er[--tr],er[tr]=null,Hi=er[--tr],er[tr]=null,qi=er[--tr],er[tr]=null}var Bn=null,Un=null,Ht=!1,Er=null;function uE(t,e){var s=nr(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function QN(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Un=Ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=tl!==null?{id:qi,overflow:Hi}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=nr(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Bn=t,Un=null,!0):!1;default:return!1}}function ov(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lv(t){if(Ht){var e=Un;if(e){var s=e;if(!QN(t,e)){if(ov(t))throw Error(pe(418));e=Ba(s.nextSibling);var r=Bn;e&&QN(t,e)?uE(r,s):(t.flags=t.flags&-4097|2,Ht=!1,Bn=t)}}else{if(ov(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Ht=!1,Bn=t}}}function YN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Tm(t){if(t!==Bn)return!1;if(!Ht)return YN(t),Ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nv(t.type,t.memoizedProps)),e&&(e=Un)){if(ov(t))throw hE(),Error(pe(418));for(;e;)uE(t,e),e=Ba(e.nextSibling)}if(YN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Un=Ba(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=Bn?Ba(t.stateNode.nextSibling):null;return!0}function hE(){for(var t=Un;t;)t=Ba(t.nextSibling)}function Xc(){Un=Bn=null,Ht=!1}function hb(t){Er===null?Er=[t]:Er.push(t)}var o6=ia.ReactCurrentBatchConfig;function Id(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(pe(309));var r=s.stateNode}if(!r)throw Error(pe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(pe(284));if(!s._owner)throw Error(pe(290,t))}return t}function Em(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XN(t){var e=t._init;return e(t._payload)}function mE(t){function e(p,f){if(t){var w=p.deletions;w===null?(p.deletions=[f],p.flags|=16):w.push(f)}}function s(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Ha(p,f),p.index=0,p.sibling=null,p}function a(p,f,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<f?(p.flags|=2,f):w):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,f,w,S){return f===null||f.tag!==6?(f=qg(w,p.mode,S),f.return=p,f):(f=i(f,w),f.return=p,f)}function c(p,f,w,S){var k=w.type;return k===Vl?u(p,f,w.props.children,S,w.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ga&&XN(k)===f.type)?(S=i(f,w.props),S.ref=Id(p,f,w),S.return=p,S):(S=mf(w.type,w.key,w.props,null,p.mode,S),S.ref=Id(p,f,w),S.return=p,S)}function d(p,f,w,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==w.containerInfo||f.stateNode.implementation!==w.implementation?(f=Hg(w,p.mode,S),f.return=p,f):(f=i(f,w.children||[]),f.return=p,f)}function u(p,f,w,S,k){return f===null||f.tag!==7?(f=Xo(w,p.mode,S,k),f.return=p,f):(f=i(f,w),f.return=p,f)}function h(p,f,w){if(typeof f=="string"&&f!==""||typeof f=="number")return f=qg(""+f,p.mode,w),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vm:return w=mf(f.type,f.key,f.props,null,p.mode,w),w.ref=Id(p,null,f),w.return=p,w;case zl:return f=Hg(f,p.mode,w),f.return=p,f;case ga:var S=f._init;return h(p,S(f._payload),w)}if(Gd(f)||Td(f))return f=Xo(f,p.mode,w,null),f.return=p,f;Em(p,f)}return null}function m(p,f,w,S){var k=f!==null?f.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(p,f,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vm:return w.key===k?c(p,f,w,S):null;case zl:return w.key===k?d(p,f,w,S):null;case ga:return k=w._init,m(p,f,k(w._payload),S)}if(Gd(w)||Td(w))return k!==null?null:u(p,f,w,S,null);Em(p,w)}return null}function y(p,f,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(w)||null,l(f,p,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vm:return p=p.get(S.key===null?w:S.key)||null,c(f,p,S,k);case zl:return p=p.get(S.key===null?w:S.key)||null,d(f,p,S,k);case ga:var C=S._init;return y(p,f,w,C(S._payload),k)}if(Gd(S)||Td(S))return p=p.get(w)||null,u(f,p,S,k,null);Em(f,S)}return null}function b(p,f,w,S){for(var k=null,C=null,_=f,T=f=0,R=null;_!==null&&T<w.length;T++){_.index>T?(R=_,_=null):R=_.sibling;var D=m(p,_,w[T],S);if(D===null){_===null&&(_=R);break}t&&_&&D.alternate===null&&e(p,_),f=a(D,f,T),C===null?k=D:C.sibling=D,C=D,_=R}if(T===w.length)return s(p,_),Ht&&vo(p,T),k;if(_===null){for(;T<w.length;T++)_=h(p,w[T],S),_!==null&&(f=a(_,f,T),C===null?k=_:C.sibling=_,C=_);return Ht&&vo(p,T),k}for(_=r(p,_);T<w.length;T++)R=y(_,p,T,w[T],S),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?T:R.key),f=a(R,f,T),C===null?k=R:C.sibling=R,C=R);return t&&_.forEach(function(L){return e(p,L)}),Ht&&vo(p,T),k}function j(p,f,w,S){var k=Td(w);if(typeof k!="function")throw Error(pe(150));if(w=k.call(w),w==null)throw Error(pe(151));for(var C=k=null,_=f,T=f=0,R=null,D=w.next();_!==null&&!D.done;T++,D=w.next()){_.index>T?(R=_,_=null):R=_.sibling;var L=m(p,_,D.value,S);if(L===null){_===null&&(_=R);break}t&&_&&L.alternate===null&&e(p,_),f=a(L,f,T),C===null?k=L:C.sibling=L,C=L,_=R}if(D.done)return s(p,_),Ht&&vo(p,T),k;if(_===null){for(;!D.done;T++,D=w.next())D=h(p,D.value,S),D!==null&&(f=a(D,f,T),C===null?k=D:C.sibling=D,C=D);return Ht&&vo(p,T),k}for(_=r(p,_);!D.done;T++,D=w.next())D=y(_,p,T,D.value,S),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?T:D.key),f=a(D,f,T),C===null?k=D:C.sibling=D,C=D);return t&&_.forEach(function(B){return e(p,B)}),Ht&&vo(p,T),k}function v(p,f,w,S){if(typeof w=="object"&&w!==null&&w.type===Vl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vm:e:{for(var k=w.key,C=f;C!==null;){if(C.key===k){if(k=w.type,k===Vl){if(C.tag===7){s(p,C.sibling),f=i(C,w.props.children),f.return=p,p=f;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ga&&XN(k)===C.type){s(p,C.sibling),f=i(C,w.props),f.ref=Id(p,C,w),f.return=p,p=f;break e}s(p,C);break}else e(p,C);C=C.sibling}w.type===Vl?(f=Xo(w.props.children,p.mode,S,w.key),f.return=p,p=f):(S=mf(w.type,w.key,w.props,null,p.mode,S),S.ref=Id(p,f,w),S.return=p,p=S)}return o(p);case zl:e:{for(C=w.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===w.containerInfo&&f.stateNode.implementation===w.implementation){s(p,f.sibling),f=i(f,w.children||[]),f.return=p,p=f;break e}else{s(p,f);break}else e(p,f);f=f.sibling}f=Hg(w,p.mode,S),f.return=p,p=f}return o(p);case ga:return C=w._init,v(p,f,C(w._payload),S)}if(Gd(w))return b(p,f,w,S);if(Td(w))return j(p,f,w,S);Em(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,f!==null&&f.tag===6?(s(p,f.sibling),f=i(f,w),f.return=p,p=f):(s(p,f),f=qg(w,p.mode,S),f.return=p,p=f),o(p)):s(p,f)}return v}var Zc=mE(!0),fE=mE(!1),Bf=mo(null),zf=null,Xl=null,mb=null;function fb(){mb=Xl=zf=null}function pb(t){var e=Bf.current;Vt(Bf),t._currentValue=e}function cv(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function ac(t,e){zf=t,mb=Xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(mb!==t)if(t={context:t,memoizedValue:e,next:null},Xl===null){if(zf===null)throw Error(pe(308));Xl=t,zf.dependencies={lanes:0,firstContext:t}}else Xl=Xl.next=t;return e}var _o=null;function xb(t){_o===null?_o=[t]:_o.push(t)}function pE(t,e,s,r){var i=e.interleaved;return i===null?(s.next=s,xb(e)):(s.next=i.next,i.next=s),e.interleaved=s,Zi(t,r)}function Zi(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var ya=!1;function gb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function za(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zi(t,s)}return i=r.interleaved,i===null?(e.next=e,xb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zi(t,s)}function of(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,sb(t,s)}}function ZN(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Vf(t,e,s,r){var i=t.updateQueue;ya=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,j=l;switch(m=e,y=s,j.tag){case 1:if(b=j.payload,typeof b=="function"){h=b.call(y,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,m=typeof b=="function"?b.call(y,h,m):b,m==null)break e;h=Jt({},h,m);break e;case 2:ya=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);nl|=o,t.lanes=o,t.memoizedState=h}}function JN(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Xh={},xi=mo(Xh),Bu=mo(Xh),zu=mo(Xh);function ko(t){if(t===Xh)throw Error(pe(174));return t}function yb(t,e){switch($t(zu,e),$t(Bu,t),$t(xi,Xh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vy(e,t)}Vt(xi),$t(xi,e)}function Jc(){Vt(xi),Vt(Bu),Vt(zu)}function gE(t){ko(zu.current);var e=ko(xi.current),s=Vy(e,t.type);e!==s&&($t(Bu,t),$t(xi,s))}function vb(t){Bu.current===t&&(Vt(xi),Vt(Bu))}var Yt=mo(0);function qf(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lg=[];function jb(){for(var t=0;t<Lg.length;t++)Lg[t]._workInProgressVersionPrimary=null;Lg.length=0}var lf=ia.ReactCurrentDispatcher,$g=ia.ReactCurrentBatchConfig,sl=0,Zt=null,Ps=null,Ds=null,Hf=!1,fu=!1,Vu=0,l6=0;function Ys(){throw Error(pe(321))}function bb(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!zr(t[s],e[s]))return!1;return!0}function wb(t,e,s,r,i,a){if(sl=a,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lf.current=t===null||t.memoizedState===null?h6:m6,t=s(r,i),fu){a=0;do{if(fu=!1,Vu=0,25<=a)throw Error(pe(301));a+=1,Ds=Ps=null,e.updateQueue=null,lf.current=f6,t=s(r,i)}while(fu)}if(lf.current=Wf,e=Ps!==null&&Ps.next!==null,sl=0,Ds=Ps=Zt=null,Hf=!1,e)throw Error(pe(300));return t}function Nb(){var t=Vu!==0;return Vu=0,t}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?Zt.memoizedState=Ds=t:Ds=Ds.next=t,Ds}function ur(){if(Ps===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Ps.next;var e=Ds===null?Zt.memoizedState:Ds.next;if(e!==null)Ds=e,Ps=t;else{if(t===null)throw Error(pe(310));Ps=t,t={memoizedState:Ps.memoizedState,baseState:Ps.baseState,baseQueue:Ps.baseQueue,queue:Ps.queue,next:null},Ds===null?Zt.memoizedState=Ds=t:Ds=Ds.next=t}return Ds}function qu(t,e){return typeof e=="function"?e(t):e}function Ug(t){var e=ur(),s=e.queue;if(s===null)throw Error(pe(311));s.lastRenderedReducer=t;var r=Ps,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((sl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Zt.lanes|=u,nl|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,zr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,s.lastRenderedState=r}if(t=s.interleaved,t!==null){i=t;do a=i.lane,Zt.lanes|=a,nl|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Bg(t){var e=ur(),s=e.queue;if(s===null)throw Error(pe(311));s.lastRenderedReducer=t;var r=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);zr(a,e.memoizedState)||(_n=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,r]}function yE(){}function vE(t,e){var s=Zt,r=ur(),i=e(),a=!zr(r.memoizedState,i);if(a&&(r.memoizedState=i,_n=!0),r=r.queue,Sb(wE.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Ds!==null&&Ds.memoizedState.tag&1){if(s.flags|=2048,Hu(9,bE.bind(null,s,r,i,e),void 0,null),Ms===null)throw Error(pe(349));sl&30||jE(s,e,i)}return i}function jE(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function bE(t,e,s,r){e.value=s,e.getSnapshot=r,NE(e)&&SE(t)}function wE(t,e,s){return s(function(){NE(e)&&SE(t)})}function NE(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!zr(t,s)}catch{return!0}}function SE(t){var e=Zi(t,1);e!==null&&$r(e,t,1,-1)}function e1(t){var e=ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:t},e.queue=t,t=t.dispatch=u6.bind(null,Zt,t),[e.memoizedState,t]}function Hu(t,e,s,r){return t={tag:t,create:e,destroy:s,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t)),t}function CE(){return ur().memoizedState}function cf(t,e,s,r){var i=ei();Zt.flags|=t,i.memoizedState=Hu(1|e,s,void 0,r===void 0?null:r)}function ix(t,e,s,r){var i=ur();r=r===void 0?null:r;var a=void 0;if(Ps!==null){var o=Ps.memoizedState;if(a=o.destroy,r!==null&&bb(r,o.deps)){i.memoizedState=Hu(e,s,a,r);return}}Zt.flags|=t,i.memoizedState=Hu(1|e,s,a,r)}function t1(t,e){return cf(8390656,8,t,e)}function Sb(t,e){return ix(2048,8,t,e)}function _E(t,e){return ix(4,2,t,e)}function kE(t,e){return ix(4,4,t,e)}function PE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TE(t,e,s){return s=s!=null?s.concat([t]):null,ix(4,4,PE.bind(null,e,t),s)}function Cb(){}function EE(t,e){var s=ur();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&bb(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function AE(t,e){var s=ur();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&bb(e,r[1])?r[0]:(t=t(),s.memoizedState=[t,e],t)}function FE(t,e,s){return sl&21?(zr(s,e)||(s=MT(),Zt.lanes|=s,nl|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=s)}function c6(t,e){var s=At;At=s!==0&&4>s?s:4,t(!0);var r=$g.transition;$g.transition={};try{t(!1),e()}finally{At=s,$g.transition=r}}function RE(){return ur().memoizedState}function d6(t,e,s){var r=qa(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},IE(t))DE(e,s);else if(s=pE(t,e,s,r),s!==null){var i=fn();$r(s,t,r,i),OE(s,e,r)}}function u6(t,e,s){var r=qa(t),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(IE(t))DE(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,zr(l,o)){var c=e.interleaved;c===null?(i.next=i,xb(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=pE(t,e,i,r),s!==null&&(i=fn(),$r(s,t,r,i),OE(s,e,r))}}function IE(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function DE(t,e){fu=Hf=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function OE(t,e,s){if(s&4194240){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,sb(t,s)}}var Wf={readContext:dr,useCallback:Ys,useContext:Ys,useEffect:Ys,useImperativeHandle:Ys,useInsertionEffect:Ys,useLayoutEffect:Ys,useMemo:Ys,useReducer:Ys,useRef:Ys,useState:Ys,useDebugValue:Ys,useDeferredValue:Ys,useTransition:Ys,useMutableSource:Ys,useSyncExternalStore:Ys,useId:Ys,unstable_isNewReconciler:!1},h6={readContext:dr,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:t1,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,cf(4194308,4,PE.bind(null,e,t),s)},useLayoutEffect:function(t,e){return cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return cf(4,2,t,e)},useMemo:function(t,e){var s=ei();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var r=ei();return e=s!==void 0?s(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d6.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:e1,useDebugValue:Cb,useDeferredValue:function(t){return ei().memoizedState=t},useTransition:function(){var t=e1(!1),e=t[0];return t=c6.bind(null,t[1]),ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var r=Zt,i=ei();if(Ht){if(s===void 0)throw Error(pe(407));s=s()}else{if(s=e(),Ms===null)throw Error(pe(349));sl&30||jE(r,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,t1(wE.bind(null,r,a,t),[t]),r.flags|=2048,Hu(9,bE.bind(null,r,a,s,e),void 0,null),s},useId:function(){var t=ei(),e=Ms.identifierPrefix;if(Ht){var s=Hi,r=qi;s=(r&~(1<<32-Lr(r)-1)).toString(32)+s,e=":"+e+"R"+s,s=Vu++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=l6++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m6={readContext:dr,useCallback:EE,useContext:dr,useEffect:Sb,useImperativeHandle:TE,useInsertionEffect:_E,useLayoutEffect:kE,useMemo:AE,useReducer:Ug,useRef:CE,useState:function(){return Ug(qu)},useDebugValue:Cb,useDeferredValue:function(t){var e=ur();return FE(e,Ps.memoizedState,t)},useTransition:function(){var t=Ug(qu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:vE,useId:RE,unstable_isNewReconciler:!1},f6={readContext:dr,useCallback:EE,useContext:dr,useEffect:Sb,useImperativeHandle:TE,useInsertionEffect:_E,useLayoutEffect:kE,useMemo:AE,useReducer:Bg,useRef:CE,useState:function(){return Bg(qu)},useDebugValue:Cb,useDeferredValue:function(t){var e=ur();return Ps===null?e.memoizedState=t:FE(e,Ps.memoizedState,t)},useTransition:function(){var t=Bg(qu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:vE,useId:RE,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function dv(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:Jt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ax={isMounted:function(t){return(t=t._reactInternals)?vl(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var r=fn(),i=qa(t),a=Ki(r,i);a.payload=e,s!=null&&(a.callback=s),e=za(t,a,i),e!==null&&($r(e,t,i,r),of(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=fn(),i=qa(t),a=Ki(r,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=za(t,a,i),e!==null&&($r(e,t,i,r),of(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=fn(),r=qa(t),i=Ki(s,r);i.tag=2,e!=null&&(i.callback=e),e=za(t,i,r),e!==null&&($r(e,t,r,s),of(e,t,r))}};function s1(t,e,s,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Mu(s,r)||!Mu(i,a):!0}function ME(t,e,s){var r=!1,i=Ga,a=e.contextType;return typeof a=="object"&&a!==null?a=dr(a):(i=Tn(e)?el:nn.current,r=e.contextTypes,a=(r=r!=null)?Yc(t,i):Ga),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ax,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function n1(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&ax.enqueueReplaceState(e,e.state,null)}function uv(t,e,s,r){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},gb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=dr(a):(a=Tn(e)?el:nn.current,i.context=Yc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(dv(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ax.enqueueReplaceState(i,i.state,null),Vf(t,s,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ed(t,e){try{var s="",r=e;do s+=zL(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function zg(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function hv(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var p6=typeof WeakMap=="function"?WeakMap:Map;function LE(t,e,s){s=Ki(-1,s),s.tag=3,s.payload={element:null};var r=e.value;return s.callback=function(){Gf||(Gf=!0,wv=r),hv(t,e)},s}function $E(t,e,s){s=Ki(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;s.payload=function(){return r(i)},s.callback=function(){hv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){hv(t,e),typeof r!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function r1(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new p6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(s)||(i.add(s),t=T6.bind(null,t,e,s),e.then(t,t))}function i1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a1(t,e,s,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Ki(-1,1),e.tag=2,za(s,e,1))),s.lanes|=1),t)}var x6=ia.ReactCurrentOwner,_n=!1;function un(t,e,s,r){e.child=t===null?fE(e,null,s,r):Zc(e,t.child,s,r)}function o1(t,e,s,r,i){s=s.render;var a=e.ref;return ac(e,i),r=wb(t,e,s,r,a,i),s=Nb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Ht&&s&&db(e),e.flags|=1,un(t,e,r,i),e.child)}function l1(t,e,s,r,i){if(t===null){var a=s.type;return typeof a=="function"&&!Rb(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,UE(t,e,a,r,i)):(t=mf(s.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Mu,s(o,r)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Ha(a,r),t.ref=e.ref,t.return=e,e.child=t}function UE(t,e,s,r,i){if(t!==null){var a=t.memoizedProps;if(Mu(a,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return mv(t,e,s,r,i)}function BE(t,e,s){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Jl,In),In|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(Jl,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,$t(Jl,In),In|=r}else a!==null?(r=a.baseLanes|s,e.memoizedState=null):r=s,$t(Jl,In),In|=r;return un(t,e,i,s),e.child}function zE(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function mv(t,e,s,r,i){var a=Tn(s)?el:nn.current;return a=Yc(e,a),ac(e,i),s=wb(t,e,s,r,a,i),r=Nb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(Ht&&r&&db(e),e.flags|=1,un(t,e,s,i),e.child)}function c1(t,e,s,r,i){if(Tn(s)){var a=!0;Lf(e)}else a=!1;if(ac(e,i),e.stateNode===null)df(t,e),ME(e,s,r),uv(e,s,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=dr(d):(d=Tn(s)?el:nn.current,d=Yc(e,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&n1(e,o,r,d),ya=!1;var m=e.memoizedState;o.state=m,Vf(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Pn.current||ya?(typeof u=="function"&&(dv(e,s,u,r),c=e.memoizedState),(l=ya||s1(e,s,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:vr(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=dr(c):(c=Tn(s)?el:nn.current,c=Yc(e,c));var y=s.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&n1(e,o,r,c),ya=!1,m=e.memoizedState,o.state=m,Vf(e,r,o,i);var b=e.memoizedState;l!==h||m!==b||Pn.current||ya?(typeof y=="function"&&(dv(e,s,y,r),b=e.memoizedState),(d=ya||s1(e,s,d,r,m,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return fv(t,e,s,r,a,i)}function fv(t,e,s,r,i,a){zE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&GN(e,s,!1),Ji(t,e,a);r=e.stateNode,x6.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zc(e,t.child,null,a),e.child=Zc(e,null,l,a)):un(t,e,l,a),e.memoizedState=r.state,i&&GN(e,s,!0),e.child}function VE(t){var e=t.stateNode;e.pendingContext?KN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KN(t,e.context,!1),yb(t,e.containerInfo)}function d1(t,e,s,r,i){return Xc(),hb(i),e.flags|=256,un(t,e,s,r),e.child}var pv={dehydrated:null,treeContext:null,retryLane:0};function xv(t){return{baseLanes:t,cachePool:null,transitions:null}}function qE(t,e,s){var r=e.pendingProps,i=Yt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(Yt,i&1),t===null)return lv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=cx(o,r,0,null),t=Xo(t,r,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=xv(s),e.memoizedState=pv,t):_b(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return g6(t,e,o,r,l,i,s);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ha(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ha(l,a):(a=Xo(a,o,s,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?xv(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=pv,r}return a=t.child,t=a.sibling,r=Ha(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=s),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r}function _b(t,e){return e=cx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Am(t,e,s,r){return r!==null&&hb(r),Zc(e,t.child,null,s),t=_b(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g6(t,e,s,r,i,a,o){if(s)return e.flags&256?(e.flags&=-257,r=zg(Error(pe(422))),Am(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=cx({mode:"visible",children:r.children},i,0,null),a=Xo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zc(e,t.child,null,o),e.child.memoizedState=xv(o),e.memoizedState=pv,a);if(!(e.mode&1))return Am(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(pe(419)),r=zg(a,r,void 0),Am(t,e,o,r)}if(l=(o&t.childLanes)!==0,_n||l){if(r=Ms,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Zi(t,i),$r(r,t,i,-1))}return Fb(),r=zg(Error(pe(421))),Am(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Un=Ba(i.nextSibling),Bn=e,Ht=!0,Er=null,t!==null&&(er[tr++]=qi,er[tr++]=Hi,er[tr++]=tl,qi=t.id,Hi=t.overflow,tl=e),e=_b(e,r.children),e.flags|=4096,e)}function u1(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cv(t.return,e,s)}function Vg(t,e,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function HE(t,e,s){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(un(t,e,r.children,s),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u1(t,s,e);else if(t.tag===19)u1(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($t(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&qf(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),Vg(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}Vg(e,!0,s,null,a);break;case"together":Vg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),nl|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,s=Ha(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ha(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function y6(t,e,s){switch(e.tag){case 3:VE(e),Xc();break;case 5:gE(e);break;case 1:Tn(e.type)&&Lf(e);break;case 4:yb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$t(Bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($t(Yt,Yt.current&1),e.flags|=128,null):s&e.child.childLanes?qE(t,e,s):($t(Yt,Yt.current&1),t=Ji(t,e,s),t!==null?t.sibling:null);$t(Yt,Yt.current&1);break;case 19:if(r=(s&e.childLanes)!==0,t.flags&128){if(r)return HE(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,BE(t,e,s)}return Ji(t,e,s)}var WE,gv,KE,GE;WE=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};gv=function(){};KE=function(t,e,s,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ko(xi.current);var a=null;switch(s){case"input":i=$y(t,i),r=$y(t,r),a=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),a=[];break;case"textarea":i=zy(t,i),r=zy(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Of)}qy(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&zt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};GE=function(t,e,s,r){s!==r&&(e.flags|=4)};function Dd(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xs(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function v6(t,e,s){var r=e.pendingProps;switch(ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(e),null;case 1:return Tn(e.type)&&Mf(),Xs(e),null;case 3:return r=e.stateNode,Jc(),Vt(Pn),Vt(nn),jb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Cv(Er),Er=null))),gv(t,e),Xs(e),null;case 5:vb(e);var i=ko(zu.current);if(s=e.type,t!==null&&e.stateNode!=null)KE(t,e,s,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Xs(e),null}if(t=ko(xi.current),Tm(e)){r=e.stateNode,s=e.type;var a=e.memoizedProps;switch(r[ui]=e,r[Uu]=a,t=(e.mode&1)!==0,s){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(i=0;i<Yd.length;i++)zt(Yd[i],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":jN(r,a),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zt("invalid",r);break;case"textarea":wN(r,a),zt("invalid",r)}qy(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Pm(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Pm(r.textContent,l,t),i=["children",""+l]):Eu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&zt("scroll",r)}switch(s){case"input":jm(r),bN(r,a,!0);break;case"textarea":jm(r),NN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Of)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wT(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[ui]=e,t[Uu]=r,WE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hy(s,r),s){case"dialog":zt("cancel",t),zt("close",t),i=r;break;case"iframe":case"object":case"embed":zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yd.length;i++)zt(Yd[i],t);i=r;break;case"source":zt("error",t),i=r;break;case"img":case"image":case"link":zt("error",t),zt("load",t),i=r;break;case"details":zt("toggle",t),i=r;break;case"input":jN(t,r),i=$y(t,r),zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),zt("invalid",t);break;case"textarea":wN(t,r),i=zy(t,r),zt("invalid",t);break;default:i=r}qy(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?CT(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NT(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Au(t,c):typeof c=="number"&&Au(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Eu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&zt("scroll",t):c!=null&&Yj(t,a,c,o))}switch(s){case"input":jm(t),bN(t,r,!1);break;case"textarea":jm(t),NN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ka(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?sc(t,!!r.multiple,a,!1):r.defaultValue!=null&&sc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Of)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xs(e),null;case 6:if(t&&e.stateNode!=null)GE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(s=ko(zu.current),ko(xi.current),Tm(e)){if(r=e.stateNode,s=e.memoizedProps,r[ui]=e,(a=r.nodeValue!==s)&&(t=Bn,t!==null))switch(t.tag){case 3:Pm(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pm(r.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ui]=e,e.stateNode=r}return Xs(e),null;case 13:if(Vt(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ht&&Un!==null&&e.mode&1&&!(e.flags&128))hE(),Xc(),e.flags|=98560,a=!1;else if(a=Tm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(pe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[ui]=e}else Xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xs(e),a=!1}else Er!==null&&(Cv(Er),Er=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?Rs===0&&(Rs=3):Fb())),e.updateQueue!==null&&(e.flags|=4),Xs(e),null);case 4:return Jc(),gv(t,e),t===null&&Lu(e.stateNode.containerInfo),Xs(e),null;case 10:return pb(e.type._context),Xs(e),null;case 17:return Tn(e.type)&&Mf(),Xs(e),null;case 19:if(Vt(Yt),a=e.memoizedState,a===null)return Xs(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Dd(a,!1);else{if(Rs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qf(t),o!==null){for(e.flags|=128,Dd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=s,s=e.child;s!==null;)a=s,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return $t(Yt,Yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ms()>td&&(e.flags|=128,r=!0,Dd(a,!1),e.lanes=4194304)}else{if(!r)if(t=qf(o),t!==null){if(e.flags|=128,r=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ht)return Xs(e),null}else 2*ms()-a.renderingStartTime>td&&s!==1073741824&&(e.flags|=128,r=!0,Dd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ms(),e.sibling=null,s=Yt.current,$t(Yt,r?s&1|2:s&1),e):(Xs(e),null);case 22:case 23:return Ab(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Xs(e),e.subtreeFlags&6&&(e.flags|=8192)):Xs(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function j6(t,e){switch(ub(e),e.tag){case 1:return Tn(e.type)&&Mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),Vt(Pn),Vt(nn),jb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vb(e),null;case 13:if(Vt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Yt),null;case 4:return Jc(),null;case 10:return pb(e.type._context),null;case 22:case 23:return Ab(),null;case 24:return null;default:return null}}var Fm=!1,tn=!1,b6=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Zl(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ns(t,e,r)}else s.current=null}function yv(t,e,s){try{s()}catch(r){ns(t,e,r)}}var h1=!1;function w6(t,e){if(tv=Rf,t=JT(),cb(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var y;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(sv={focusedElem:t,selectionRange:s},Rf=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,v=b.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?j:vr(e.type,j),v);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(S){ns(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return b=h1,h1=!1,b}function pu(t,e,s){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&yv(e,s,a)}i=i.next}while(i!==r)}}function ox(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==e)}}function vv(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function QE(t){var e=t.alternate;e!==null&&(t.alternate=null,QE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[Uu],delete e[iv],delete e[r6],delete e[i6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YE(t){return t.tag===5||t.tag===3||t.tag===4}function m1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Of));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,s),t=t.sibling;t!==null;)jv(t,e,s),t=t.sibling}function bv(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bv(t,e,s),t=t.sibling;t!==null;)bv(t,e,s),t=t.sibling}var Bs=null,kr=!1;function la(t,e,s){for(s=s.child;s!==null;)XE(t,e,s),s=s.sibling}function XE(t,e,s){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Jp,s)}catch{}switch(s.tag){case 5:tn||Zl(s,e);case 6:var r=Bs,i=kr;Bs=null,la(t,e,s),Bs=r,kr=i,Bs!==null&&(kr?(t=Bs,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Bs.removeChild(s.stateNode));break;case 18:Bs!==null&&(kr?(t=Bs,s=s.stateNode,t.nodeType===8?Og(t.parentNode,s):t.nodeType===1&&Og(t,s),Du(t)):Og(Bs,s.stateNode));break;case 4:r=Bs,i=kr,Bs=s.stateNode.containerInfo,kr=!0,la(t,e,s),Bs=r,kr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yv(s,e,o),i=i.next}while(i!==r)}la(t,e,s);break;case 1:if(!tn&&(Zl(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ns(s,e,l)}la(t,e,s);break;case 21:la(t,e,s);break;case 22:s.mode&1?(tn=(r=tn)||s.memoizedState!==null,la(t,e,s),tn=r):la(t,e,s);break;default:la(t,e,s)}}function f1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new b6),e.forEach(function(r){var i=A6.bind(null,t,r);s.has(r)||(s.add(r),r.then(i,i))})}}function gr(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bs=l.stateNode,kr=!1;break e;case 3:Bs=l.stateNode.containerInfo,kr=!0;break e;case 4:Bs=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(Bs===null)throw Error(pe(160));XE(a,o,i),Bs=null,kr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ns(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZE(e,t),e=e.sibling}function ZE(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Zr(t),r&4){try{pu(3,t,t.return),ox(3,t)}catch(j){ns(t,t.return,j)}try{pu(5,t,t.return)}catch(j){ns(t,t.return,j)}}break;case 1:gr(e,t),Zr(t),r&512&&s!==null&&Zl(s,s.return);break;case 5:if(gr(e,t),Zr(t),r&512&&s!==null&&Zl(s,s.return),t.flags&32){var i=t.stateNode;try{Au(i,"")}catch(j){ns(t,t.return,j)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&jT(i,a),Hy(l,o);var d=Hy(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?CT(i,h):u==="dangerouslySetInnerHTML"?NT(i,h):u==="children"?Au(i,h):Yj(i,u,h,d)}switch(l){case"input":Uy(i,a);break;case"textarea":bT(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?sc(i,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?sc(i,!!a.multiple,a.defaultValue,!0):sc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Uu]=a}catch(j){ns(t,t.return,j)}}break;case 6:if(gr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(j){ns(t,t.return,j)}}break;case 3:if(gr(e,t),Zr(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Du(e.containerInfo)}catch(j){ns(t,t.return,j)}break;case 4:gr(e,t),Zr(t);break;case 13:gr(e,t),Zr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Tb=ms())),r&4&&f1(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(tn=(d=tn)||u,gr(e,t),tn=d):gr(e,t),Zr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Ie=t,u=t.child;u!==null;){for(h=Ie=u;Ie!==null;){switch(m=Ie,y=m.child,m.tag){case 0:case 11:case 14:case 15:pu(4,m,m.return);break;case 1:Zl(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,s=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(j){ns(r,s,j)}}break;case 5:Zl(m,m.return);break;case 22:if(m.memoizedState!==null){x1(h);continue}}y!==null?(y.return=m,Ie=y):x1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ST("display",o))}catch(j){ns(t,t.return,j)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){ns(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gr(e,t),Zr(t),r&4&&f1(t);break;case 21:break;default:gr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(YE(s)){var r=s;break e}s=s.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Au(i,""),r.flags&=-33);var a=m1(t);bv(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=m1(t);jv(t,l,o);break;default:throw Error(pe(161))}}catch(c){ns(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N6(t,e,s){Ie=t,JE(t)}function JE(t,e,s){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||tn;l=Fm;var d=tn;if(Fm=o,(tn=c)&&!d)for(Ie=i;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?g1(i):c!==null?(c.return=o,Ie=c):g1(i);for(;a!==null;)Ie=a,JE(a),a=a.sibling;Ie=i,Fm=l,tn=d}p1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ie=a):p1(t)}}function p1(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||ox(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(s===null)r.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:vr(e.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&JN(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}JN(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Du(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}tn||e.flags&512&&vv(e)}catch(m){ns(e,e.return,m)}}if(e===t){Ie=null;break}if(s=e.sibling,s!==null){s.return=e.return,Ie=s;break}Ie=e.return}}function x1(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ie=s;break}Ie=e.return}}function g1(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{ox(4,e)}catch(c){ns(e,s,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ns(e,i,c)}}var a=e.return;try{vv(e)}catch(c){ns(e,a,c)}break;case 5:var o=e.return;try{vv(e)}catch(c){ns(e,o,c)}}}catch(c){ns(e,e.return,c)}if(e===t){Ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ie=l;break}Ie=e.return}}var S6=Math.ceil,Kf=ia.ReactCurrentDispatcher,kb=ia.ReactCurrentOwner,or=ia.ReactCurrentBatchConfig,Nt=0,Ms=null,Ss=null,zs=0,In=0,Jl=mo(0),Rs=0,Wu=null,nl=0,lx=0,Pb=0,xu=null,Cn=null,Tb=0,td=1/0,Di=null,Gf=!1,wv=null,Va=null,Rm=!1,Oa=null,Qf=0,gu=0,Nv=null,uf=-1,hf=0;function fn(){return Nt&6?ms():uf!==-1?uf:uf=ms()}function qa(t){return t.mode&1?Nt&2&&zs!==0?zs&-zs:o6.transition!==null?(hf===0&&(hf=MT()),hf):(t=At,t!==0||(t=window.event,t=t===void 0?16:qT(t.type)),t):1}function $r(t,e,s,r){if(50<gu)throw gu=0,Nv=null,Error(pe(185));Gh(t,s,r),(!(Nt&2)||t!==Ms)&&(t===Ms&&(!(Nt&2)&&(lx|=s),Rs===4&&ba(t,zs)),En(t,r),s===1&&Nt===0&&!(e.mode&1)&&(td=ms()+500,rx&&fo()))}function En(t,e){var s=t.callbackNode;o$(t,e);var r=Ff(t,t===Ms?zs:0);if(r===0)s!==null&&_N(s),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(s!=null&&_N(s),e===1)t.tag===0?a6(y1.bind(null,t)):cE(y1.bind(null,t)),s6(function(){!(Nt&6)&&fo()}),s=null;else{switch(LT(r)){case 1:s=tb;break;case 4:s=DT;break;case 16:s=Af;break;case 536870912:s=OT;break;default:s=Af}s=oA(s,eA.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function eA(t,e){if(uf=-1,hf=0,Nt&6)throw Error(pe(327));var s=t.callbackNode;if(oc()&&t.callbackNode!==s)return null;var r=Ff(t,t===Ms?zs:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yf(t,r);else{e=r;var i=Nt;Nt|=2;var a=sA();(Ms!==t||zs!==e)&&(Di=null,td=ms()+500,Yo(t,e));do try{k6();break}catch(l){tA(t,l)}while(!0);fb(),Kf.current=a,Nt=i,Ss!==null?e=0:(Ms=null,zs=0,e=Rs)}if(e!==0){if(e===2&&(i=Yy(t),i!==0&&(r=i,e=Sv(t,i))),e===1)throw s=Wu,Yo(t,0),ba(t,r),En(t,ms()),s;if(e===6)ba(t,r);else{if(i=t.current.alternate,!(r&30)&&!C6(i)&&(e=Yf(t,r),e===2&&(a=Yy(t),a!==0&&(r=a,e=Sv(t,a))),e===1))throw s=Wu,Yo(t,0),ba(t,r),En(t,ms()),s;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:jo(t,Cn,Di);break;case 3:if(ba(t,r),(r&130023424)===r&&(e=Tb+500-ms(),10<e)){if(Ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rv(jo.bind(null,t,Cn,Di),e);break}jo(t,Cn,Di);break;case 4:if(ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Lr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=ms()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S6(r/1960))-r,10<r){t.timeoutHandle=rv(jo.bind(null,t,Cn,Di),r);break}jo(t,Cn,Di);break;case 5:jo(t,Cn,Di);break;default:throw Error(pe(329))}}}return En(t,ms()),t.callbackNode===s?eA.bind(null,t):null}function Sv(t,e){var s=xu;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=Yf(t,e),t!==2&&(e=Cn,Cn=s,e!==null&&Cv(e)),t}function Cv(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function C6(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!zr(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e){for(e&=~Pb,e&=~lx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Lr(e),r=1<<s;t[s]=-1,e&=~r}}function y1(t){if(Nt&6)throw Error(pe(327));oc();var e=Ff(t,0);if(!(e&1))return En(t,ms()),null;var s=Yf(t,e);if(t.tag!==0&&s===2){var r=Yy(t);r!==0&&(e=r,s=Sv(t,r))}if(s===1)throw s=Wu,Yo(t,0),ba(t,e),En(t,ms()),s;if(s===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t,Cn,Di),En(t,ms()),null}function Eb(t,e){var s=Nt;Nt|=1;try{return t(e)}finally{Nt=s,Nt===0&&(td=ms()+500,rx&&fo())}}function rl(t){Oa!==null&&Oa.tag===0&&!(Nt&6)&&oc();var e=Nt;Nt|=1;var s=or.transition,r=At;try{if(or.transition=null,At=1,t)return t()}finally{At=r,or.transition=s,Nt=e,!(Nt&6)&&fo()}}function Ab(){In=Jl.current,Vt(Jl)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,t6(s)),Ss!==null)for(s=Ss.return;s!==null;){var r=s;switch(ub(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mf();break;case 3:Jc(),Vt(Pn),Vt(nn),jb();break;case 5:vb(r);break;case 4:Jc();break;case 13:Vt(Yt);break;case 19:Vt(Yt);break;case 10:pb(r.type._context);break;case 22:case 23:Ab()}s=s.return}if(Ms=t,Ss=t=Ha(t.current,null),zs=In=e,Rs=0,Wu=null,Pb=lx=nl=0,Cn=xu=null,_o!==null){for(e=0;e<_o.length;e++)if(s=_o[e],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}_o=null}return t}function tA(t,e){do{var s=Ss;try{if(fb(),lf.current=Wf,Hf){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hf=!1}if(sl=0,Ds=Ps=Zt=null,fu=!1,Vu=0,kb.current=null,s===null||s.return===null){Rs=1,Wu=e,Ss=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=zs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=i1(o);if(y!==null){y.flags&=-257,a1(y,o,l,a,e),y.mode&1&&r1(a,d,e),e=y,c=d;var b=e.updateQueue;if(b===null){var j=new Set;j.add(c),e.updateQueue=j}else b.add(c);break e}else{if(!(e&1)){r1(a,d,e),Fb();break e}c=Error(pe(426))}}else if(Ht&&l.mode&1){var v=i1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),a1(v,o,l,a,e),hb(ed(c,l));break e}}a=c=ed(c,l),Rs!==4&&(Rs=2),xu===null?xu=[a]:xu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=LE(a,c,e);ZN(a,p);break e;case 1:l=c;var f=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Va===null||!Va.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=$E(a,l,e);ZN(a,S);break e}}a=a.return}while(a!==null)}rA(s)}catch(k){e=k,Ss===s&&s!==null&&(Ss=s=s.return);continue}break}while(!0)}function sA(){var t=Kf.current;return Kf.current=Wf,t===null?Wf:t}function Fb(){(Rs===0||Rs===3||Rs===2)&&(Rs=4),Ms===null||!(nl&268435455)&&!(lx&268435455)||ba(Ms,zs)}function Yf(t,e){var s=Nt;Nt|=2;var r=sA();(Ms!==t||zs!==e)&&(Di=null,Yo(t,e));do try{_6();break}catch(i){tA(t,i)}while(!0);if(fb(),Nt=s,Kf.current=r,Ss!==null)throw Error(pe(261));return Ms=null,zs=0,Rs}function _6(){for(;Ss!==null;)nA(Ss)}function k6(){for(;Ss!==null&&!ZL();)nA(Ss)}function nA(t){var e=aA(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?rA(t):Ss=e,kb.current=null}function rA(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=j6(s,e),s!==null){s.flags&=32767,Ss=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rs=6,Ss=null;return}}else if(s=v6(s,e,In),s!==null){Ss=s;return}if(e=e.sibling,e!==null){Ss=e;return}Ss=e=t}while(e!==null);Rs===0&&(Rs=5)}function jo(t,e,s){var r=At,i=or.transition;try{or.transition=null,At=1,P6(t,e,s,r)}finally{or.transition=i,At=r}return null}function P6(t,e,s,r){do oc();while(Oa!==null);if(Nt&6)throw Error(pe(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(l$(t,a),t===Ms&&(Ss=Ms=null,zs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Rm||(Rm=!0,oA(Af,function(){return oc(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=or.transition,or.transition=null;var o=At;At=1;var l=Nt;Nt|=4,kb.current=null,w6(t,s),ZE(s,t),G$(sv),Rf=!!tv,sv=tv=null,t.current=s,N6(s),JL(),Nt=l,At=o,or.transition=a}else t.current=s;if(Rm&&(Rm=!1,Oa=t,Qf=i),a=t.pendingLanes,a===0&&(Va=null),s$(s.stateNode),En(t,ms()),e!==null)for(r=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gf)throw Gf=!1,t=wv,wv=null,t;return Qf&1&&t.tag!==0&&oc(),a=t.pendingLanes,a&1?t===Nv?gu++:(gu=0,Nv=t):gu=0,fo(),null}function oc(){if(Oa!==null){var t=LT(Qf),e=or.transition,s=At;try{if(or.transition=null,At=16>t?16:t,Oa===null)var r=!1;else{if(t=Oa,Oa=null,Qf=0,Nt&6)throw Error(pe(331));var i=Nt;for(Nt|=4,Ie=t.current;Ie!==null;){var a=Ie,o=a.child;if(Ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ie=d;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:pu(8,u,a)}var h=u.child;if(h!==null)h.return=u,Ie=h;else for(;Ie!==null;){u=Ie;var m=u.sibling,y=u.return;if(QE(u),u===d){Ie=null;break}if(m!==null){m.return=y,Ie=m;break}Ie=y}}}var b=a.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var v=j.sibling;j.sibling=null,j=v}while(j!==null)}}Ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ie=o;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pu(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Ie=p;break e}Ie=a.return}}var f=t.current;for(Ie=f;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=f;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ox(9,l)}}catch(k){ns(l,l.return,k)}if(l===o){Ie=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ie=S;break e}Ie=l.return}}if(Nt=i,fo(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Jp,t)}catch{}r=!0}return r}finally{At=s,or.transition=e}}return!1}function v1(t,e,s){e=ed(s,e),e=LE(t,e,1),t=za(t,e,1),e=fn(),t!==null&&(Gh(t,1,e),En(t,e))}function ns(t,e,s){if(t.tag===3)v1(t,t,s);else for(;e!==null;){if(e.tag===3){v1(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){t=ed(s,t),t=$E(e,t,1),e=za(e,t,1),t=fn(),e!==null&&(Gh(e,1,t),En(e,t));break}}e=e.return}}function T6(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&s,Ms===t&&(zs&s)===s&&(Rs===4||Rs===3&&(zs&130023424)===zs&&500>ms()-Tb?Yo(t,0):Pb|=s),En(t,e)}function iA(t,e){e===0&&(t.mode&1?(e=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):e=1);var s=fn();t=Zi(t,e),t!==null&&(Gh(t,e,s),En(t,s))}function E6(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),iA(t,s)}function A6(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),iA(t,s)}var aA;aA=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)_n=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return _n=!1,y6(t,e,s);_n=!!(t.flags&131072)}else _n=!1,Ht&&e.flags&1048576&&dE(e,Uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var i=Yc(e,nn.current);ac(e,s),i=wb(null,e,r,t,i,s);var a=Nb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(a=!0,Lf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gb(e),i.updater=ax,e.stateNode=i,i._reactInternals=e,uv(e,r,t,s),e=fv(null,e,r,!0,a,s)):(e.tag=0,Ht&&a&&db(e),un(null,e,i,s),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R6(r),t=vr(r,t),i){case 0:e=mv(null,e,r,t,s);break e;case 1:e=c1(null,e,r,t,s);break e;case 11:e=o1(null,e,r,t,s);break e;case 14:e=l1(null,e,r,vr(r.type,t),s);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),mv(t,e,r,i,s);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),c1(t,e,r,i,s);case 3:e:{if(VE(e),t===null)throw Error(pe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,xE(t,e),Vf(e,r,null,s);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ed(Error(pe(423)),e),e=d1(t,e,r,s,i);break e}else if(r!==i){i=ed(Error(pe(424)),e),e=d1(t,e,r,s,i);break e}else for(Un=Ba(e.stateNode.containerInfo.firstChild),Bn=e,Ht=!0,Er=null,s=fE(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xc(),r===i){e=Ji(t,e,s);break e}un(t,e,r,s)}e=e.child}return e;case 5:return gE(e),t===null&&lv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,nv(r,i)?o=null:a!==null&&nv(r,a)&&(e.flags|=32),zE(t,e),un(t,e,o,s),e.child;case 6:return t===null&&lv(e),null;case 13:return qE(t,e,s);case 4:return yb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zc(e,null,r,s):un(t,e,r,s),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),o1(t,e,r,i,s);case 7:return un(t,e,e.pendingProps,s),e.child;case 8:return un(t,e,e.pendingProps.children,s),e.child;case 12:return un(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$t(Bf,r._currentValue),r._currentValue=o,a!==null)if(zr(a.value,o)){if(a.children===i.children&&!Pn.current){e=Ji(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ki(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),cv(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(pe(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),cv(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}un(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ac(e,s),i=dr(i),r=r(i),e.flags|=1,un(t,e,r,s),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),l1(t,e,r,i,s);case 15:return UE(t,e,e.type,e.pendingProps,s);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),df(t,e),e.tag=1,Tn(r)?(t=!0,Lf(e)):t=!1,ac(e,s),ME(e,r,i),uv(e,r,i,s),fv(null,e,r,!0,t,s);case 19:return HE(t,e,s);case 22:return BE(t,e,s)}throw Error(pe(156,e.tag))};function oA(t,e){return IT(t,e)}function F6(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,s,r){return new F6(t,e,s,r)}function Rb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R6(t){if(typeof t=="function")return Rb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zj)return 11;if(t===Jj)return 14}return 2}function Ha(t,e){var s=t.alternate;return s===null?(s=nr(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function mf(t,e,s,r,i,a){var o=2;if(r=t,typeof t=="function")Rb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vl:return Xo(s.children,i,a,e);case Xj:o=8,i|=8;break;case Dy:return t=nr(12,s,e,i|2),t.elementType=Dy,t.lanes=a,t;case Oy:return t=nr(13,s,e,i),t.elementType=Oy,t.lanes=a,t;case My:return t=nr(19,s,e,i),t.elementType=My,t.lanes=a,t;case gT:return cx(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pT:o=10;break e;case xT:o=9;break e;case Zj:o=11;break e;case Jj:o=14;break e;case ga:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=nr(o,s,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Xo(t,e,s,r){return t=nr(7,t,r,e),t.lanes=s,t}function cx(t,e,s,r){return t=nr(22,t,r,e),t.elementType=gT,t.lanes=s,t.stateNode={isHidden:!1},t}function qg(t,e,s){return t=nr(6,t,null,e),t.lanes=s,t}function Hg(t,e,s){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I6(t,e,s,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ib(t,e,s,r,i,a,o,l,c){return t=new I6(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=nr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},gb(a),t}function D6(t,e,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:s}}function lA(t){if(!t)return Ga;t=t._reactInternals;e:{if(vl(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var s=t.type;if(Tn(s))return lE(t,s,e)}return e}function cA(t,e,s,r,i,a,o,l,c){return t=Ib(s,r,!0,t,i,a,o,l,c),t.context=lA(null),s=t.current,r=fn(),i=qa(s),a=Ki(r,i),a.callback=e??null,za(s,a,i),t.current.lanes=i,Gh(t,i,r),En(t,r),t}function dx(t,e,s,r){var i=e.current,a=fn(),o=qa(i);return s=lA(s),e.context===null?e.context=s:e.pendingContext=s,e=Ki(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=za(i,e,o),t!==null&&($r(t,i,o,a),of(t,i,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function j1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Db(t,e){j1(t,e),(t=t.alternate)&&j1(t,e)}function O6(){return null}var dA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ob(t){this._internalRoot=t}ux.prototype.render=Ob.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));dx(t,e,null,null)};ux.prototype.unmount=Ob.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rl(function(){dx(null,t,null,null)}),e[Xi]=null}};function ux(t){this._internalRoot=t}ux.prototype.unstable_scheduleHydration=function(t){if(t){var e=BT();t={blockedOn:null,target:t,priority:e};for(var s=0;s<ja.length&&e!==0&&e<ja[s].priority;s++);ja.splice(s,0,t),s===0&&VT(t)}};function Mb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b1(){}function M6(t,e,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Xf(o);a.call(d)}}var o=cA(e,r,t,0,null,!1,!1,"",b1);return t._reactRootContainer=o,t[Xi]=o.current,Lu(t.nodeType===8?t.parentNode:t),rl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Xf(c);l.call(d)}}var c=Ib(t,0,!1,null,null,!1,!1,"",b1);return t._reactRootContainer=c,t[Xi]=c.current,Lu(t.nodeType===8?t.parentNode:t),rl(function(){dx(e,c,s,r)}),c}function mx(t,e,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Xf(o);l.call(c)}}dx(e,o,t,i)}else o=M6(s,e,t,i,r);return Xf(o)}$T=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Qd(e.pendingLanes);s!==0&&(sb(e,s|1),En(e,ms()),!(Nt&6)&&(td=ms()+500,fo()))}break;case 13:rl(function(){var r=Zi(t,1);if(r!==null){var i=fn();$r(r,t,1,i)}}),Db(t,1)}};nb=function(t){if(t.tag===13){var e=Zi(t,134217728);if(e!==null){var s=fn();$r(e,t,134217728,s)}Db(t,134217728)}};UT=function(t){if(t.tag===13){var e=qa(t),s=Zi(t,e);if(s!==null){var r=fn();$r(s,t,e,r)}Db(t,e)}};BT=function(){return At};zT=function(t,e){var s=At;try{return At=t,e()}finally{At=s}};Ky=function(t,e,s){switch(e){case"input":if(Uy(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var i=nx(r);if(!i)throw Error(pe(90));vT(r),Uy(r,i)}}}break;case"textarea":bT(t,s);break;case"select":e=s.value,e!=null&&sc(t,!!s.multiple,e,!1)}};PT=Eb;TT=rl;var L6={usingClientEntryPoint:!1,Events:[Yh,Kl,nx,_T,kT,Eb]},Od={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$6={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FT(t),t===null?null:t.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||O6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{Jp=Im.inject($6),pi=Im}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;Hn.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(e))throw Error(pe(200));return D6(t,e,null,s)};Hn.createRoot=function(t,e){if(!Mb(t))throw Error(pe(299));var s=!1,r="",i=dA;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ib(t,1,!1,null,null,s,!1,r,i),t[Xi]=e.current,Lu(t.nodeType===8?t.parentNode:t),new Ob(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=FT(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return rl(t)};Hn.hydrate=function(t,e,s){if(!hx(e))throw Error(pe(200));return mx(null,t,e,!0,s)};Hn.hydrateRoot=function(t,e,s){if(!Mb(t))throw Error(pe(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=dA;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=cA(e,null,t,1,s??null,i,!1,a,o),t[Xi]=e.current,Lu(t),r)for(t=0;t<r.length;t++)s=r[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new ux(e)};Hn.render=function(t,e,s){if(!hx(e))throw Error(pe(200));return mx(null,t,e,!1,s)};Hn.unmountComponentAtNode=function(t){if(!hx(t))throw Error(pe(40));return t._reactRootContainer?(rl(function(){mx(null,null,t,!1,function(){t._reactRootContainer=null,t[Xi]=null})}),!0):!1};Hn.unstable_batchedUpdates=Eb;Hn.unstable_renderSubtreeIntoContainer=function(t,e,s,r){if(!hx(s))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return mx(t,e,s,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function uA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uA)}catch(t){console.error(t)}}uA(),uT.exports=Hn;var jl=uT.exports;const U6=ra(jl);var hA,w1=jl;hA=w1.createRoot,w1.hydrateRoot;function B6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var mA={exports:{}},fA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=x;function z6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var V6=typeof Object.is=="function"?Object.is:z6,q6=sd.useState,H6=sd.useEffect,W6=sd.useLayoutEffect,K6=sd.useDebugValue;function G6(t,e){var s=e(),r=q6({inst:{value:s,getSnapshot:e}}),i=r[0].inst,a=r[1];return W6(function(){i.value=s,i.getSnapshot=e,Wg(i)&&a({inst:i})},[t,s,e]),H6(function(){return Wg(i)&&a({inst:i}),t(function(){Wg(i)&&a({inst:i})})},[t]),K6(s),s}function Wg(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!V6(t,s)}catch{return!0}}function Q6(t,e){return e()}var Y6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q6:G6;fA.useSyncExternalStore=sd.useSyncExternalStore!==void 0?sd.useSyncExternalStore:Y6;mA.exports=fA;var X6=mA.exports;const Z6=cT.useInsertionEffect,J6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eU=J6?x.useLayoutEffect:x.useEffect,tU=Z6||eU,pA=t=>{const e=x.useRef([t,(...s)=>e[0](...s)]).current;return tU(()=>{e[0]=t}),e[1]},sU="popstate",Lb="pushState",$b="replaceState",nU="hashchange",N1=[sU,Lb,$b,nU],rU=t=>{for(const e of N1)addEventListener(e,t);return()=>{for(const e of N1)removeEventListener(e,t)}},xA=(t,e)=>X6.useSyncExternalStore(rU,t,e),iU=()=>location.search,aU=({ssrSearch:t=""}={})=>xA(iU,()=>t),S1=()=>location.pathname,oU=({ssrPath:t}={})=>xA(S1,t?()=>t:S1),lU=(t,{replace:e=!1,state:s=null}={})=>history[e?$b:Lb](s,"",t),cU=(t={})=>[oU(t),lU],C1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[C1]>"u"){for(const t of[Lb,$b]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,C1,{value:!0})}const dU=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",gA=(t="")=>t==="/"?"":t,uU=(t,e)=>t[0]==="~"?t.slice(1):gA(e)+t,hU=(t="",e)=>dU(_1(gA(t)),_1(e)),_1=t=>{try{return decodeURI(t)}catch{return t}},yA={hook:cU,searchHook:aU,parser:B6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},vA=x.createContext(yA),xd=()=>x.useContext(vA),jA={},bA=x.createContext(jA),mU=()=>x.useContext(bA),fx=t=>{const[e,s]=t.hook(t);return[hU(t.base,e),pA((r,i)=>s(uU(r,t.base),i))]},Hs=()=>fx(xd()),Ub=(t,e,s,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},px=t=>Ub(xd().parser,t,Hs()[0]),fU=({children:t,...e})=>{var u,h;const s=xd(),r=e.hook?yA:s;let i=r;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=x.useRef({}),c=l.current,d=c;for(let m in r){const y=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&y!==d[m]&&(l.current=d={...d}),d[m]=y,y!==r[m]&&(i=d)}return x.createElement(vA.Provider,{value:i,children:t})},k1=({children:t,component:e},s)=>e?x.createElement(e,{params:s}):typeof t=="function"?t(s):t,pU=t=>{let e=x.useRef(jA),s=e.current;for(const r in t)t[r]!==s[r]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},Je=({path:t,nest:e,match:s,...r})=>{const i=xd(),[a]=fx(i),[o,l,c]=s??Ub(i.parser,t,a,e),d=pU({...mU(),...l});if(!o)return null;const u=c?x.createElement(fU,{base:c},k1(r,d)):k1(r,d);return x.createElement(bA.Provider,{value:d,children:u})},bt=x.forwardRef((t,e)=>{const s=xd(),[r,i]=fx(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,...y}=t,b=pA(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),i(o,t)))}),j=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:b,href:j}):x.createElement("a",{...y,onClick:b,href:j,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),wA=t=>Array.isArray(t)?t.flatMap(e=>wA(e&&e.type===x.Fragment?e.props.children:e)):[t],xU=({children:t,location:e})=>{const s=xd(),[r]=fx(s);for(const i of wA(t)){let a=0;if(x.isValidElement(i)&&(a=Ub(s.parser,i.props.path,e||r,i.props.nest))[0])return x.cloneElement(i,{match:a})}return null};var gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Xn(){}function gU(t,e){return typeof t=="function"?t(e):t}function _v(t){return typeof t=="number"&&t>=0&&t!==1/0}function NA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lc(t,e){return typeof t=="function"?t(e):t}function Ar(t,e){return typeof t=="function"?t(e):t}function P1(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Bb(o,e.options))return!1}else if(!Ku(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function T1(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(al(e.options.mutationKey)!==al(a))return!1}else if(!Ku(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Bb(t,e){return((e==null?void 0:e.queryKeyHashFn)||al)(t)}function al(t){return JSON.stringify(t,(e,s)=>kv(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function Ku(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Ku(t[s],e[s])):!1}function SA(t,e){if(t===e)return t;const s=E1(t)&&E1(e);if(s||kv(t)&&kv(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const u=s?d:a[d];(!s&&r.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=SA(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function Zf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function E1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kv(t){if(!A1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!A1(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function A1(t){return Object.prototype.toString.call(t)==="[object Object]"}function yU(t){return new Promise(e=>{setTimeout(e,t)})}function Pv(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?SA(t,e):e}function vU(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function jU(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var zb=Symbol();function CA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fo,Sa,xc,n2,bU=(n2=class extends gd{constructor(){super();G(this,Fo);G(this,Sa);G(this,xc);X(this,xc,e=>{if(!il&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){N(this,Sa)||this.setEventListener(N(this,xc))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Sa))==null||e.call(this),X(this,Sa,void 0))}setEventListener(e){var s;X(this,xc,e),(s=N(this,Sa))==null||s.call(this),X(this,Sa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,Fo)!==e&&(X(this,Fo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof N(this,Fo)=="boolean"?N(this,Fo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fo=new WeakMap,Sa=new WeakMap,xc=new WeakMap,n2),Vb=new bU,gc,Ca,yc,r2,wU=(r2=class extends gd{constructor(){super();G(this,gc,!0);G(this,Ca);G(this,yc);X(this,yc,e=>{if(!il&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,Ca)||this.setEventListener(N(this,yc))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Ca))==null||e.call(this),X(this,Ca,void 0))}setEventListener(e){var s;X(this,yc,e),(s=N(this,Ca))==null||s.call(this),X(this,Ca,e(this.setOnline.bind(this)))}setOnline(e){N(this,gc)!==e&&(X(this,gc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,gc)}},gc=new WeakMap,Ca=new WeakMap,yc=new WeakMap,r2),Jf=new wU;function Tv(){let t,e;const s=new Promise((i,a)=>{t=i,e=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},s.reject=i=>{r({status:"rejected",reason:i}),e(i)},s}function NU(t){return Math.min(1e3*2**t,3e4)}function _A(t){return(t??"online")==="online"?Jf.isOnline():!0}var kA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof kA}function PA(t){let e=!1,s=0,r=!1,i;const a=Tv(),o=j=>{var v;r||(m(new kA(j)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Vb.isFocused()&&(t.networkMode==="always"||Jf.isOnline())&&t.canRun(),u=()=>_A(t.networkMode)&&t.canRun(),h=j=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,j),i==null||i(),a.resolve(j))},m=j=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,j),i==null||i(),a.reject(j))},y=()=>new Promise(j=>{var v;i=p=>{(r||d())&&j(p)},(v=t.onPause)==null||v.call(t)}).then(()=>{var j;i=void 0,r||(j=t.onContinue)==null||j.call(t)}),b=()=>{if(r)return;let j;const v=s===0?t.initialPromise:void 0;try{j=v??t.fn()}catch(p){j=Promise.reject(p)}Promise.resolve(j).then(h).catch(p=>{var C;if(r)return;const f=t.retry??(il?0:3),w=t.retryDelay??NU,S=typeof w=="function"?w(s,p):w,k=f===!0||typeof f=="number"&&s<f||typeof f=="function"&&f(s,p);if(e||!k){m(p);return}s++,(C=t.onFail)==null||C.call(t,s,p),yU(S).then(()=>d()?void 0:y()).then(()=>{e?m(p):b()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():y().then(b),a)}}function SU(){let t=[],e=0,s=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Es=SU(),Ro,i2,TA=(i2=class{constructor(){G(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_v(this.gcTime)&&X(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(il?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ro)&&(clearTimeout(N(this,Ro)),X(this,Ro,void 0))}},Ro=new WeakMap,i2),vc,jc,Qn,Js,wh,Io,jr,Fi,a2,CU=(a2=class extends TA{constructor(e){super();G(this,jr);G(this,vc);G(this,jc);G(this,Qn);G(this,Js);G(this,wh);G(this,Io);X(this,Io,!1),X(this,wh,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,Qn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,vc,_U(this.options)),this.state=e.state??N(this,vc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Js))==null?void 0:e.promise}setOptions(e){this.options={...N(this,wh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Qn).remove(this)}setData(e,s){const r=Pv(this.state.data,e,this.options);return ce(this,jr,Fi).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){ce(this,jr,Fi).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=N(this,Js))==null?void 0:r.promise;return(i=N(this,Js))==null||i.cancel(e),s?s.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,vc))}isActive(){return this.observers.some(e=>Ar(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!NA(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=N(this,Js))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=N(this,Js))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(N(this,Js)&&(N(this,Io)?N(this,Js).cancel({revert:!0}):N(this,Js).cancelRetry()),this.scheduleGc()),N(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,jr,Fi).call(this,{type:"invalidate"})}fetch(e,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(N(this,Js))return N(this,Js).continueRetry(),N(this,Js).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(X(this,Io,!0),r.signal)})},a=()=>{const h=CA(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),X(this,Io,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),X(this,jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ce(this,jr,Fi).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var m,y,b,j;Kg(h)&&h.silent||ce(this,jr,Fi).call(this,{type:"error",error:h}),Kg(h)||((y=(m=N(this,Qn).config).onError)==null||y.call(m,h,this),(j=(b=N(this,Qn).config).onSettled)==null||j.call(b,this.state.data,h,this)),this.scheduleGc()};return X(this,Js,PA({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,b,j;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(y=(m=N(this,Qn).config).onSuccess)==null||y.call(m,h,this),(j=(b=N(this,Qn).config).onSettled)==null||j.call(b,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ce(this,jr,Fi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ce(this,jr,Fi).call(this,{type:"pause"})},onContinue:()=>{ce(this,jr,Fi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,Js).start()}},vc=new WeakMap,jc=new WeakMap,Qn=new WeakMap,Js=new WeakMap,wh=new WeakMap,Io=new WeakMap,jr=new WeakSet,Fi=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...EA(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Kg(i)&&i.revert&&N(this,jc)?{...N(this,jc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),Es.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,Qn).notify({query:this,type:"updated",action:e})})},a2);function EA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_A(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _U(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var si,o2,kU=(o2=class extends gd{constructor(e={}){super();G(this,si);this.config=e,X(this,si,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??Bb(i,s);let o=this.get(a);return o||(o=new CU({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,si).has(e.queryHash)||(N(this,si).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=N(this,si).get(e.queryHash);s&&(e.destroy(),s===e&&N(this,si).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,si).get(e)}getAll(){return[...N(this,si).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>P1(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>P1(e,r)):s}notify(e){Es.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},si=new WeakMap,o2),ni,on,Do,ri,ma,l2,PU=(l2=class extends TA{constructor(e){super();G(this,ri);G(this,ni);G(this,on);G(this,Do);this.mutationId=e.mutationId,X(this,on,e.mutationCache),X(this,ni,[]),this.state=e.state||AA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,ni).includes(e)||(N(this,ni).push(e),this.clearGcTimeout(),N(this,on).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,ni,N(this,ni).filter(s=>s!==e)),this.scheduleGc(),N(this,on).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,ni).length||(this.state.status==="pending"?this.scheduleGc():N(this,on).remove(this))}continue(){var e;return((e=N(this,Do))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,u,h,m,y,b,j,v,p,f,w,S,k,C,_;X(this,Do,PA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{ce(this,ri,ma).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{ce(this,ri,ma).call(this,{type:"pause"})},onContinue:()=>{ce(this,ri,ma).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,on).canRun(this)}));const s=this.state.status==="pending",r=!N(this,Do).canStart();try{if(!s){ce(this,ri,ma).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=N(this,on).config).onMutate)==null?void 0:a.call(i,e,this));const R=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));R!==this.state.context&&ce(this,ri,ma).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const T=await N(this,Do).start();return await((d=(c=N(this,on).config).onSuccess)==null?void 0:d.call(c,T,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,T,e,this.state.context)),await((y=(m=N(this,on).config).onSettled)==null?void 0:y.call(m,T,null,this.state.variables,this.state.context,this)),await((j=(b=this.options).onSettled)==null?void 0:j.call(b,T,null,e,this.state.context)),ce(this,ri,ma).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(v=N(this,on).config).onError)==null?void 0:p.call(v,T,e,this.state.context,this)),await((w=(f=this.options).onError)==null?void 0:w.call(f,T,e,this.state.context)),await((k=(S=N(this,on).config).onSettled)==null?void 0:k.call(S,void 0,T,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,T,e,this.state.context)),T}finally{ce(this,ri,ma).call(this,{type:"error",error:T})}}finally{N(this,on).runNext(this)}}},ni=new WeakMap,on=new WeakMap,Do=new WeakMap,ri=new WeakSet,ma=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Es.batch(()=>{N(this,ni).forEach(r=>{r.onMutationUpdate(e)}),N(this,on).notify({mutation:this,type:"updated",action:e})})},l2);function AA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,Nh,c2,TU=(c2=class extends gd{constructor(e={}){super();G(this,Rn);G(this,Nh);this.config=e,X(this,Rn,new Map),X(this,Nh,Date.now())}build(e,s,r){const i=new PU({mutationCache:this,mutationId:++xm(this,Nh)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=Dm(e),r=N(this,Rn).get(s)??[];r.push(e),N(this,Rn).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Dm(e);if(N(this,Rn).has(s)){const i=(r=N(this,Rn).get(s))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?N(this,Rn).delete(s):N(this,Rn).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=N(this,Rn).get(Dm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=N(this,Rn).get(Dm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...N(this,Rn).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>T1(s,r))}findAll(e={}){return this.getAll().filter(s=>T1(e,s))}notify(e){Es.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Es.batch(()=>Promise.all(e.map(s=>s.continue().catch(Xn))))}},Rn=new WeakMap,Nh=new WeakMap,c2);function Dm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function F1(t){return{onFetch:(e,s)=>{var u,h,m,y,b;const r=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let j=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},p=CA(e.options,e.fetchOptions),f=async(w,S,k)=>{if(j)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:S,direction:k?"backward":"forward",meta:e.options.meta};v(C);const _=await p(C),{maxPages:T}=e.options,R=k?jU:vU;return{pages:R(w.pages,_,T),pageParams:R(w.pageParams,S,T)}};if(i&&a.length){const w=i==="backward",S=w?EU:R1,k={pages:a,pageParams:o},C=S(r,k);l=await f(k,C,w)}else{const w=t??a.length;do{const S=c===0?o[0]??r.initialPageParam:R1(r,l);if(c>0&&S==null)break;l=await f(l,S),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var j,v;return(v=(j=e.options).persister)==null?void 0:v.call(j,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function R1(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function EU(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var ss,_a,ka,bc,wc,Pa,Nc,Sc,d2,AU=(d2=class{constructor(t={}){G(this,ss);G(this,_a);G(this,ka);G(this,bc);G(this,wc);G(this,Pa);G(this,Nc);G(this,Sc);X(this,ss,t.queryCache||new kU),X(this,_a,t.mutationCache||new TU),X(this,ka,t.defaultOptions||{}),X(this,bc,new Map),X(this,wc,new Map),X(this,Pa,0)}mount(){xm(this,Pa)._++,N(this,Pa)===1&&(X(this,Nc,Vb.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ss).onFocus())})),X(this,Sc,Jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,ss).onOnline())})))}unmount(){var t,e;xm(this,Pa)._--,N(this,Pa)===0&&((t=N(this,Nc))==null||t.call(this),X(this,Nc,void 0),(e=N(this,Sc))==null||e.call(this),X(this,Sc,void 0))}isFetching(t){return N(this,ss).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,_a).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=N(this,ss).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=N(this,ss).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(lc(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return N(this,ss).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=N(this,ss).get(r.queryHash),a=i==null?void 0:i.state.data,o=gU(e,a);if(o!==void 0)return N(this,ss).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return Es.batch(()=>N(this,ss).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=N(this,ss).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=N(this,ss);Es.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=N(this,ss),r={type:"active",...t};return Es.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=Es.batch(()=>N(this,ss).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t={},e={}){return Es.batch(()=>{if(N(this,ss).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Es.batch(()=>N(this,ss).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Xn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=N(this,ss).build(this,e);return s.isStaleByTime(lc(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=F1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=F1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jf.isOnline()?N(this,_a).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ss)}getMutationCache(){return N(this,_a)}getDefaultOptions(){return N(this,ka)}setDefaultOptions(t){X(this,ka,t)}setQueryDefaults(t,e){N(this,bc).set(al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,bc).values()];let s={};return e.forEach(r=>{Ku(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){N(this,wc).set(al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,wc).values()];let s={};return e.forEach(r=>{Ku(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,ka).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,ka).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,ss).clear(),N(this,_a).clear()}},ss=new WeakMap,_a=new WeakMap,ka=new WeakMap,bc=new WeakMap,wc=new WeakMap,Pa=new WeakMap,Nc=new WeakMap,Sc=new WeakMap,d2),wn,gt,Sh,ln,Oo,Cc,Ta,ii,Ch,_c,kc,Mo,Lo,Ea,Pc,Tt,Xd,Ev,Av,Fv,Rv,Iv,Dv,Ov,FA,u2,FU=(u2=class extends gd{constructor(e,s){super();G(this,Tt);G(this,wn);G(this,gt);G(this,Sh);G(this,ln);G(this,Oo);G(this,Cc);G(this,Ta);G(this,ii);G(this,Ch);G(this,_c);G(this,kc);G(this,Mo);G(this,Lo);G(this,Ea);G(this,Pc,new Set);this.options=s,X(this,wn,e),X(this,ii,null),X(this,Ta,Tv()),this.options.experimental_prefetchInRender||N(this,Ta).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,gt).addObserver(this),I1(N(this,gt),this.options)?ce(this,Tt,Xd).call(this):this.updateResult(),ce(this,Tt,Rv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mv(N(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mv(N(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,Tt,Iv).call(this),ce(this,Tt,Dv).call(this),N(this,gt).removeObserver(this)}setOptions(e,s){const r=this.options,i=N(this,gt);if(this.options=N(this,wn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,N(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,Tt,Ov).call(this),N(this,gt).setOptions(this.options),r._defaulted&&!Zf(this.options,r)&&N(this,wn).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,gt),observer:this});const a=this.hasListeners();a&&D1(N(this,gt),i,this.options,r)&&ce(this,Tt,Xd).call(this),this.updateResult(s),a&&(N(this,gt)!==i||Ar(this.options.enabled,N(this,gt))!==Ar(r.enabled,N(this,gt))||lc(this.options.staleTime,N(this,gt))!==lc(r.staleTime,N(this,gt)))&&ce(this,Tt,Ev).call(this);const o=ce(this,Tt,Av).call(this);a&&(N(this,gt)!==i||Ar(this.options.enabled,N(this,gt))!==Ar(r.enabled,N(this,gt))||o!==N(this,Ea))&&ce(this,Tt,Fv).call(this,o)}getOptimisticResult(e){const s=N(this,wn).getQueryCache().build(N(this,wn),e),r=this.createResult(s,e);return IU(this,r)&&(X(this,ln,r),X(this,Cc,this.options),X(this,Oo,N(this,gt).state)),r}getCurrentResult(){return N(this,ln)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){N(this,Pc).add(e)}getCurrentQuery(){return N(this,gt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=N(this,wn).defaultQueryOptions(e),r=N(this,wn).getQueryCache().build(N(this,wn),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return ce(this,Tt,Xd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,ln)))}createResult(e,s){var T;const r=N(this,gt),i=this.options,a=N(this,ln),o=N(this,Oo),l=N(this,Cc),d=e!==r?e.state:N(this,Sh),{state:u}=e;let h={...u},m=!1,y;if(s._optimisticResults){const R=this.hasListeners(),D=!R&&I1(e,s),L=R&&D1(e,r,s,i);(D||L)&&(h={...h,...EA(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:j,status:v}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&s.select===N(this,Ch))y=N(this,_c);else try{X(this,Ch,s.select),y=s.select(h.data),y=Pv(a==null?void 0:a.data,y,s),X(this,_c,y),X(this,ii,null)}catch(R){X(this,ii,R)}else y=h.data;if(s.placeholderData!==void 0&&y===void 0&&v==="pending"){let R;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))R=a.data;else if(R=typeof s.placeholderData=="function"?s.placeholderData((T=N(this,kc))==null?void 0:T.state.data,N(this,kc)):s.placeholderData,s.select&&R!==void 0)try{R=s.select(R),X(this,ii,null)}catch(D){X(this,ii,D)}R!==void 0&&(v="success",y=Pv(a==null?void 0:a.data,R,s),m=!0)}N(this,ii)&&(b=N(this,ii),y=N(this,_c),j=Date.now(),v="error");const p=h.fetchStatus==="fetching",f=v==="pending",w=v==="error",S=f&&p,k=y!==void 0,_={status:v,fetchStatus:h.fetchStatus,isPending:f,isSuccess:v==="success",isError:w,isInitialLoading:S,isLoading:S,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:j,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!f,isLoadingError:w&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&k,isStale:qb(e,s),refetch:this.refetch,promise:N(this,Ta)};if(this.options.experimental_prefetchInRender){const R=B=>{_.status==="error"?B.reject(_.error):_.data!==void 0&&B.resolve(_.data)},D=()=>{const B=X(this,Ta,_.promise=Tv());R(B)},L=N(this,Ta);switch(L.status){case"pending":e.queryHash===r.queryHash&&R(L);break;case"fulfilled":(_.status==="error"||_.data!==L.value)&&D();break;case"rejected":(_.status!=="error"||_.error!==L.reason)&&D();break}}return _}updateResult(e){const s=N(this,ln),r=this.createResult(N(this,gt),this.options);if(X(this,Oo,N(this,gt).state),X(this,Cc,this.options),N(this,Oo).data!==void 0&&X(this,kc,N(this,gt)),Zf(r,s))return;X(this,ln,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!N(this,Pc).size)return!0;const c=new Set(l??N(this,Pc));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,ln)).some(d=>{const u=d;return N(this,ln)[u]!==s[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ce(this,Tt,FA).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,Tt,Rv).call(this)}},wn=new WeakMap,gt=new WeakMap,Sh=new WeakMap,ln=new WeakMap,Oo=new WeakMap,Cc=new WeakMap,Ta=new WeakMap,ii=new WeakMap,Ch=new WeakMap,_c=new WeakMap,kc=new WeakMap,Mo=new WeakMap,Lo=new WeakMap,Ea=new WeakMap,Pc=new WeakMap,Tt=new WeakSet,Xd=function(e){ce(this,Tt,Ov).call(this);let s=N(this,gt).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Xn)),s},Ev=function(){ce(this,Tt,Iv).call(this);const e=lc(this.options.staleTime,N(this,gt));if(il||N(this,ln).isStale||!_v(e))return;const r=NA(N(this,ln).dataUpdatedAt,e)+1;X(this,Mo,setTimeout(()=>{N(this,ln).isStale||this.updateResult()},r))},Av=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,gt)):this.options.refetchInterval)??!1},Fv=function(e){ce(this,Tt,Dv).call(this),X(this,Ea,e),!(il||Ar(this.options.enabled,N(this,gt))===!1||!_v(N(this,Ea))||N(this,Ea)===0)&&X(this,Lo,setInterval(()=>{(this.options.refetchIntervalInBackground||Vb.isFocused())&&ce(this,Tt,Xd).call(this)},N(this,Ea)))},Rv=function(){ce(this,Tt,Ev).call(this),ce(this,Tt,Fv).call(this,ce(this,Tt,Av).call(this))},Iv=function(){N(this,Mo)&&(clearTimeout(N(this,Mo)),X(this,Mo,void 0))},Dv=function(){N(this,Lo)&&(clearInterval(N(this,Lo)),X(this,Lo,void 0))},Ov=function(){const e=N(this,wn).getQueryCache().build(N(this,wn),this.options);if(e===N(this,gt))return;const s=N(this,gt);X(this,gt,e),X(this,Sh,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},FA=function(e){Es.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(N(this,ln))}),N(this,wn).getQueryCache().notify({query:N(this,gt),type:"observerResultsUpdated"})})},u2);function RU(t,e){return Ar(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function I1(t,e){return RU(t,e)||t.state.data!==void 0&&Mv(t,e,e.refetchOnMount)}function Mv(t,e,s){if(Ar(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&qb(t,e)}return!1}function D1(t,e,s,r){return(t!==e||Ar(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&qb(t,s)}function qb(t,e){return Ar(e.enabled,t)!==!1&&t.isStaleByTime(lc(e.staleTime,t))}function IU(t,e){return!Zf(t.getCurrentResult(),e)}var Aa,Fa,Nn,Li,Qi,ff,Lv,h2,DU=(h2=class extends gd{constructor(s,r){super();G(this,Qi);G(this,Aa);G(this,Fa);G(this,Nn);G(this,Li);X(this,Aa,s),this.setOptions(r),this.bindMethods(),ce(this,Qi,ff).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=N(this,Aa).defaultMutationOptions(s),Zf(this.options,r)||N(this,Aa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&al(r.mutationKey)!==al(this.options.mutationKey)?this.reset():((i=N(this,Nn))==null?void 0:i.state.status)==="pending"&&N(this,Nn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=N(this,Nn))==null||s.removeObserver(this)}onMutationUpdate(s){ce(this,Qi,ff).call(this),ce(this,Qi,Lv).call(this,s)}getCurrentResult(){return N(this,Fa)}reset(){var s;(s=N(this,Nn))==null||s.removeObserver(this),X(this,Nn,void 0),ce(this,Qi,ff).call(this),ce(this,Qi,Lv).call(this)}mutate(s,r){var i;return X(this,Li,r),(i=N(this,Nn))==null||i.removeObserver(this),X(this,Nn,N(this,Aa).getMutationCache().build(N(this,Aa),this.options)),N(this,Nn).addObserver(this),N(this,Nn).execute(s)}},Aa=new WeakMap,Fa=new WeakMap,Nn=new WeakMap,Li=new WeakMap,Qi=new WeakSet,ff=function(){var r;const s=((r=N(this,Nn))==null?void 0:r.state)??AA();X(this,Fa,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Lv=function(s){Es.batch(()=>{var r,i,a,o,l,c,d,u;if(N(this,Li)&&this.hasListeners()){const h=N(this,Fa).variables,m=N(this,Fa).context;(s==null?void 0:s.type)==="success"?((i=(r=N(this,Li)).onSuccess)==null||i.call(r,s.data,h,m),(o=(a=N(this,Li)).onSettled)==null||o.call(a,s.data,null,h,m)):(s==null?void 0:s.type)==="error"&&((c=(l=N(this,Li)).onError)==null||c.call(l,s.error,h,m),(u=(d=N(this,Li)).onSettled)==null||u.call(d,void 0,s.error,h,m))}this.listeners.forEach(h=>{h(N(this,Fa))})})},h2),RA=x.createContext(void 0),xx=t=>{const e=x.useContext(RA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},OU=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(RA.Provider,{value:t,children:e})),IA=x.createContext(!1),MU=()=>x.useContext(IA);IA.Provider;function LU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $U=x.createContext(LU()),UU=()=>x.useContext($U);function DA(t,e){return typeof t=="function"?t(...e):!!t}function $v(){}var BU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},zU=t=>{x.useEffect(()=>{t.clearReset()},[t])},VU=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&DA(s,[t.error,r]),qU=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},HU=(t,e)=>t.isLoading&&t.isFetching&&!e,WU=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,O1=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function KU(t,e,s){var u,h,m,y,b;const r=xx(),i=MU(),a=UU(),o=r.defaultQueryOptions(t);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",qU(o),BU(o,a),zU(a);const l=!r.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(j=>{const v=i?$v:c.subscribe(Es.batchCalls(j));return c.updateResult(),v},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),WU(o,d))throw O1(o,c,a);if(VU({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,d),o.experimental_prefetchInRender&&!il&&HU(d,i)){const j=l?O1(o,c,a):(b=r.getQueryCache().get(o.queryHash))==null?void 0:b.promise;j==null||j.catch($v).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ze(t,e){return KU(t,FU)}function Re(t,e){const s=xx(),[r]=x.useState(()=>new DU(s,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const i=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(Es.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=x.useCallback((o,l)=>{r.mutate(o,l).catch($v)},[r]);if(i.error&&DA(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function OA(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Fe(t,e,s){const r=await fetch(e,{method:t,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await OA(r),r}const GU=({on401:t})=>async({queryKey:e})=>{const s=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&s.status===401?null:(await OA(s),await s.json())},Ce=new AU({defaultOptions:{queries:{queryFn:GU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),QU=1,YU=1e6;let Gg=0;function XU(){return Gg=(Gg+1)%Number.MAX_SAFE_INTEGER,Gg.toString()}const Qg=new Map,M1=t=>{if(Qg.has(t))return;const e=setTimeout(()=>{Qg.delete(t),yu({type:"REMOVE_TOAST",toastId:t})},YU);Qg.set(t,e)},ZU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?M1(s):t.toasts.forEach(r=>{M1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},pf=[];let xf={toasts:[]};function yu(t){xf=ZU(xf,t),pf.forEach(e=>{e(xf)})}function JU({...t}){const e=XU(),s=i=>yu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>yu({type:"DISMISS_TOAST",toastId:e});return yu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:s}}function qt(){const[t,e]=x.useState(xf);return x.useEffect(()=>(pf.push(e),()=>{const s=pf.indexOf(e);s>-1&&pf.splice(s,1)}),[t]),{...t,toast:JU,dismiss:s=>yu({type:"DISMISS_TOAST",toastId:s})}}function ye(t,e,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function L1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gx(...t){return e=>{let s=!1;const r=t.map(i=>{const a=L1(i,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():L1(t[i],null)}}}}function lt(...t){return x.useCallback(gx(...t),t)}function e8(t,e){const s=x.createContext(e),r=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=x.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Ws(t,e=[]){let s=[];function r(a,o){const l=x.createContext(o),c=s.length;s=[...s,o];const d=h=>{var p;const{scope:m,children:y,...b}=h,j=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,v=x.useMemo(()=>b,Object.values(b));return n.jsx(j.Provider,{value:v,children:y})};d.displayName=a+"Provider";function u(h,m){var j;const y=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,b=x.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,t8(i,...e)]}function t8(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function ol(t){const e=s8(t),s=x.forwardRef((r,i)=>{const{children:a,...o}=r,l=x.Children.toArray(a),c=l.find(n8);if(c){const d=c.props.children,u=l.map(h=>h===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:i,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}var MA=ol("Slot");function s8(t){const e=x.forwardRef((s,r)=>{const{children:i,...a}=s;if(x.isValidElement(i)){const o=i8(i),l=r8(a,i.props);return i.type!==x.Fragment&&(l.ref=r?gx(r,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LA=Symbol("radix.slottable");function $A(t){const e=({children:s})=>n.jsx(n.Fragment,{children:s});return e.displayName=`${t}.Slottable`,e.__radixId=LA,e}function n8(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LA}function r8(t,e){const s={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function i8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function yx(t){const e=t+"CollectionProvider",[s,r]=Ws(e),[i,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:v,children:p}=j,f=at.useRef(null),w=at.useRef(new Map).current;return n.jsx(i,{scope:v,itemMap:w,collectionRef:f,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=ol(l),d=at.forwardRef((j,v)=>{const{scope:p,children:f}=j,w=a(l,p),S=lt(v,w.collectionRef);return n.jsx(c,{ref:S,children:f})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=ol(u),y=at.forwardRef((j,v)=>{const{scope:p,children:f,...w}=j,S=at.useRef(null),k=lt(v,S),C=a(u,p);return at.useEffect(()=>(C.itemMap.set(S,{ref:S,...w}),()=>void C.itemMap.delete(S))),n.jsx(m,{[h]:"",ref:k,children:f})});y.displayName=u;function b(j){const v=a(t+"CollectionConsumer",j);return at.useCallback(()=>{const f=v.collectionRef.current;if(!f)return[];const w=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((C,_)=>w.indexOf(C.ref.current)-w.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,r]}var a8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=a8.reduce((t,e)=>{const s=ol(`Primitive.${e}`),r=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hb(t,e){t&&jl.flushSync(()=>t.dispatchEvent(e))}function Wt(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...s)=>{var r;return(r=e.current)==null?void 0:r.call(e,...s)},[])}function o8(t,e=globalThis==null?void 0:globalThis.document){const s=Wt(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[s,e])}var l8="DismissableLayer",Uv="dismissableLayer.update",c8="dismissableLayer.pointerDownOutside",d8="dismissableLayer.focusOutside",$1,UA=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=x.useContext(UA),[u,h]=x.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),b=lt(e,_=>h(_)),j=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=j.indexOf(v),f=u?j.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=f>=p,k=h8(_=>{const T=_.target,R=[...d.branches].some(D=>D.contains(T));!S||R||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),C=m8(_=>{const T=_.target;[...d.branches].some(D=>D.contains(T))||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return o8(_=>{f===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),x.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),U1(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$1)}},[u,m,s,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),U1())},[u,d]),x.useEffect(()=>{const _=()=>y({});return document.addEventListener(Uv,_),()=>document.removeEventListener(Uv,_)},[]),n.jsx(Le.div,{...c,ref:b,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,k.onPointerDownCapture)})});yd.displayName=l8;var u8="DismissableLayerBranch",BA=x.forwardRef((t,e)=>{const s=x.useContext(UA),r=x.useRef(null),i=lt(e,r);return x.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Le.div,{...t,ref:i})});BA.displayName=u8;function h8(t,e=globalThis==null?void 0:globalThis.document){const s=Wt(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){zA(c8,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,s]),{onPointerDownCapture:()=>r.current=!0}}function m8(t,e=globalThis==null?void 0:globalThis.document){const s=Wt(t),r=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!r.current&&zA(d8,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U1(){const t=new CustomEvent(Uv);document.dispatchEvent(t)}function zA(t,e,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),r?Hb(i,a):i.dispatchEvent(a)}var f8=yd,p8=BA,ps=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},x8="Portal",Zh=x.forwardRef((t,e)=>{var l;const{container:s,...r}=t,[i,a]=x.useState(!1);ps(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?U6.createPortal(n.jsx(Le.div,{...r,ref:e}),o):null});Zh.displayName=x8;function g8(t,e){return x.useReducer((s,r)=>e[s][r]??s,t)}var Ks=t=>{const{present:e,children:s}=t,r=y8(e),i=typeof s=="function"?s({present:r.isPresent}):x.Children.only(s),a=lt(r.ref,v8(i));return typeof s=="function"||r.isPresent?x.cloneElement(i,{ref:a}):null};Ks.displayName="Presence";function y8(t){const[e,s]=x.useState(),r=x.useRef({}),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=g8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Om(r.current);a.current=l==="mounted"?d:"none"},[l]),ps(()=>{const d=r.current,u=i.current;if(u!==t){const m=a.current,y=Om(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ps(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=y=>{const j=Om(r.current).includes(y.animationName);if(y.target===e&&j&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=y=>{y.target===e&&(a.current=Om(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function Om(t){return(t==null?void 0:t.animationName)||"none"}function v8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Vr({prop:t,defaultProp:e,onChange:s=()=>{}}){const[r,i]=j8({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:r,l=Wt(s),c=x.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else i(d)},[a,t,i,l]);return[o,c]}function j8({defaultProp:t,onChange:e}){const s=x.useState(t),[r]=s,i=x.useRef(r),a=Wt(e);return x.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var b8="VisuallyHidden",Jh=x.forwardRef((t,e)=>n.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jh.displayName=b8;var w8=Jh,Wb="ToastProvider",[Kb,N8,S8]=yx("Toast"),[VA,Ese]=Ws("Toast",[S8]),[C8,vx]=VA(Wb),qA=t=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=x.useState(null),[d,u]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wb}\`. Expected non-empty \`string\`.`),n.jsx(Kb.Provider,{scope:e,children:n.jsx(C8,{scope:e,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(y=>y+1),[]),onToastRemove:x.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};qA.displayName=Wb;var HA="ToastViewport",_8=["F8"],Bv="toast.viewportPause",zv="toast.viewportResume",WA=x.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:r=_8,label:i="Notifications ({hotkey})",...a}=t,o=vx(HA,s),l=N8(s),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),h=x.useRef(null),m=lt(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const v=p=>{var w;r.length!==0&&r.every(S=>p[S]||p.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),x.useEffect(()=>{const v=c.current,p=h.current;if(b&&v&&p){const f=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Bv);p.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(zv);p.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!v.contains(C.relatedTarget)&&w()},k=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",f),v.addEventListener("focusout",S),v.addEventListener("pointermove",f),v.addEventListener("pointerleave",k),window.addEventListener("blur",f),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",f),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",f),v.removeEventListener("pointerleave",k),window.removeEventListener("blur",f),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const j=x.useCallback(({tabbingDirection:v})=>{const f=l().map(w=>{const S=w.ref.current,k=[S,...$8(S)];return v==="forwards"?k:k.reverse()});return(v==="forwards"?f.reverse():f).flat()},[l]);return x.useEffect(()=>{const v=h.current;if(v){const p=f=>{var k,C,_;const w=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!w){const T=document.activeElement,R=f.shiftKey;if(f.target===v&&R){(k=d.current)==null||k.focus();return}const B=j({tabbingDirection:R?"backwards":"forwards"}),ee=B.findIndex(W=>W===T);Yg(B.slice(ee+1))?f.preventDefault():R?(C=d.current)==null||C.focus():(_=u.current)==null||_.focus()}};return v.addEventListener("keydown",p),()=>v.removeEventListener("keydown",p)}},[l,j]),n.jsxs(p8,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&n.jsx(Vv,{ref:d,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"forwards"});Yg(v)}}),n.jsx(Kb.Slot,{scope:s,children:n.jsx(Le.ol,{tabIndex:-1,...a,ref:m})}),b&&n.jsx(Vv,{ref:u,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"backwards"});Yg(v)}})]})});WA.displayName=HA;var KA="ToastFocusProxy",Vv=x.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=t,a=vx(KA,s);return n.jsx(Jh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Vv.displayName=KA;var jx="Toast",k8="toast.swipeStart",P8="toast.swipeMove",T8="toast.swipeCancel",E8="toast.swipeEnd",GA=x.forwardRef((t,e)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=Vr({prop:r,defaultProp:i,onChange:a});return n.jsx(Ks,{present:s||l,children:n.jsx(R8,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:ye(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ye(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});GA.displayName=jx;var[A8,F8]=VA(jx,{onClose(){}}),R8=x.forwardRef((t,e)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:y,...b}=t,j=vx(jx,s),[v,p]=x.useState(null),f=lt(e,W=>p(W)),w=x.useRef(null),S=x.useRef(null),k=i||j.duration,C=x.useRef(0),_=x.useRef(k),T=x.useRef(0),{onToastAdd:R,onToastRemove:D}=j,L=Wt(()=>{var se;(v==null?void 0:v.contains(document.activeElement))&&((se=j.viewport)==null||se.focus()),o()}),B=x.useCallback(W=>{!W||W===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(L,W))},[L]);x.useEffect(()=>{const W=j.viewport;if(W){const se=()=>{B(_.current),d==null||d()},A=()=>{const K=new Date().getTime()-C.current;_.current=_.current-K,window.clearTimeout(T.current),c==null||c()};return W.addEventListener(Bv,A),W.addEventListener(zv,se),()=>{W.removeEventListener(Bv,A),W.removeEventListener(zv,se)}}},[j.viewport,k,c,d,B]),x.useEffect(()=>{a&&!j.isClosePausedRef.current&&B(k)},[a,k,j.isClosePausedRef,B]),x.useEffect(()=>(R(),()=>D()),[R,D]);const ee=x.useMemo(()=>v?t4(v):null,[v]);return j.viewport?n.jsxs(n.Fragment,{children:[ee&&n.jsx(I8,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),n.jsx(A8,{scope:s,onClose:L,children:jl.createPortal(n.jsx(Kb.ItemSlot,{scope:s,children:n.jsx(f8,{asChild:!0,onEscapeKeyDown:ye(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||L(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":j.swipeDirection,...b,ref:f,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,W=>{W.key==="Escape"&&(l==null||l(W.nativeEvent),W.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ye(t.onPointerDown,W=>{W.button===0&&(w.current={x:W.clientX,y:W.clientY})}),onPointerMove:ye(t.onPointerMove,W=>{if(!w.current)return;const se=W.clientX-w.current.x,A=W.clientY-w.current.y,K=!!S.current,M=["left","right"].includes(j.swipeDirection),F=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,O=M?F(0,se):0,he=M?0:F(0,A),_e=W.pointerType==="touch"?10:2,tt={x:O,y:he},Ze={originalEvent:W,delta:tt};K?(S.current=tt,Mm(P8,h,Ze,{discrete:!1})):B1(tt,j.swipeDirection,_e)?(S.current=tt,Mm(k8,u,Ze,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>_e||Math.abs(A)>_e)&&(w.current=null)}),onPointerUp:ye(t.onPointerUp,W=>{const se=S.current,A=W.target;if(A.hasPointerCapture(W.pointerId)&&A.releasePointerCapture(W.pointerId),S.current=null,w.current=null,se){const K=W.currentTarget,M={originalEvent:W,delta:se};B1(se,j.swipeDirection,j.swipeThreshold)?Mm(E8,y,M,{discrete:!0}):Mm(T8,m,M,{discrete:!0}),K.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),I8=t=>{const{__scopeToast:e,children:s,...r}=t,i=vx(jx,e),[a,o]=x.useState(!1),[l,c]=x.useState(!1);return M8(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Zh,{asChild:!0,children:n.jsx(Jh,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},D8="ToastTitle",QA=x.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});QA.displayName=D8;var O8="ToastDescription",YA=x.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});YA.displayName=O8;var XA="ToastAction",ZA=x.forwardRef((t,e)=>{const{altText:s,...r}=t;return s.trim()?n.jsx(e4,{altText:s,asChild:!0,children:n.jsx(Gb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XA}\`. Expected non-empty \`string\`.`),null)});ZA.displayName=XA;var JA="ToastClose",Gb=x.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t,i=F8(JA,s);return n.jsx(e4,{asChild:!0,children:n.jsx(Le.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,i.onClose)})})});Gb.displayName=JA;var e4=x.forwardRef((t,e)=>{const{__scopeToast:s,altText:r,...i}=t;return n.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function t4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),L8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...t4(r))}}),e}function Mm(t,e,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),r?Hb(i,a):i.dispatchEvent(a)}var B1=(t,e,s=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>s:!a&&i>s};function M8(t=()=>{}){const e=Wt(t);ps(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function L8(t){return t.nodeType===t.ELEMENT_NODE}function $8(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Yg(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var U8=qA,s4=WA,n4=GA,r4=QA,i4=YA,a4=ZA,o4=Gb;function l4(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=l4(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function c4(){for(var t,e,s=0,r="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=l4(t))&&(r&&(r+=" "),r+=e);return r}const z1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,V1=c4,em=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return V1(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const m=z1(u)||z1(h);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...y}=u;return Object.entries(y).every(b=>{let[j,v]=b;return Array.isArray(v)?v.includes({...a,...l}[j]):{...a,...l}[j]===v})?[...d,h,m]:d},[]);return V1(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d4=(...t)=>t.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...z8,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:d4("lucide",i),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const s=x.forwardRef(({className:r,...i},a)=>x.createElement(V8,{ref:a,iconNode:e,className:d4(`lucide-${B8(t)}`,r),...i}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Te("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Te("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Te("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Te("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Te("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Xb="-",uB=t=>{const e=mB(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Xb);return l[0]===""&&l.length!==1&&l.shift(),g4(l,e)||hB(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},g4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),i=r?g4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Xb);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},G1=/^\[(.+)\]$/,hB=t=>{if(G1.test(t)){const e=G1.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},mB=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return pB(Object.entries(t.classGroups),s).forEach(([a,o])=>{Hv(o,r,a,e)}),r},Hv=(t,e,s,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Q1(e,i);a.classGroupId=s;return}if(typeof i=="function"){if(fB(i)){Hv(i(r),e,s,r);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{Hv(o,Q1(e,a),s,r)})})},Q1=(t,e)=>{let s=t;return e.split(Xb).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},fB=t=>t.isThemeGetter,pB=(t,e)=>e?t.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,i]}):t,xB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},y4="!",gB=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let p=l[v];if(d===0){if(p===i&&(r||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(p==="/"){h=v;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(u),y=m.startsWith(y4),b=y?m.substring(1):m,j=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:j}};return s?l=>s({className:l,parseClassName:o}):o},yB=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},vB=t=>({cache:xB(t.cacheSize),parseClassName:gB(t),...uB(t)}),jB=/\s+/,bB=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(jB);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=s(d);let b=!!y,j=r(b?m.substring(0,y):m);if(!j){if(!b){l=d+(l.length>0?" "+l:l);continue}if(j=r(m),!j){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=yB(u).join(":"),p=h?v+y4:v,f=p+j;if(a.includes(f))continue;a.push(f);const w=i(j,b);for(let S=0;S<w.length;++S){const k=w[S];a.push(p+k)}l=d+(l.length>0?" "+l:l)}return l};function wB(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=v4(e))&&(r&&(r+=" "),r+=s);return r}const v4=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=v4(t[r]))&&(s&&(s+=" "),s+=e);return s};function NB(t,...e){let s,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=vB(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=bB(c,s);return i(c,u),u}return function(){return a(wB.apply(null,arguments))}}const Bt=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},j4=/^\[(?:([a-z-]+):)?(.+)\]$/i,SB=/^\d+\/\d+$/,CB=new Set(["px","full","screen"]),_B=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ei=t=>cc(t)||CB.has(t)||SB.test(t),ca=t=>vd(t,"length",LB),cc=t=>!!t&&!Number.isNaN(Number(t)),Jg=t=>vd(t,"number",cc),Md=t=>!!t&&Number.isInteger(Number(t)),AB=t=>t.endsWith("%")&&cc(t.slice(0,-1)),dt=t=>j4.test(t),da=t=>_B.test(t),FB=new Set(["length","size","percentage"]),RB=t=>vd(t,FB,b4),IB=t=>vd(t,"position",b4),DB=new Set(["image","url"]),OB=t=>vd(t,DB,UB),MB=t=>vd(t,"",$B),Ld=()=>!0,vd=(t,e,s)=>{const r=j4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},LB=t=>kB.test(t)&&!PB.test(t),b4=()=>!1,$B=t=>TB.test(t),UB=t=>EB.test(t),BB=()=>{const t=Bt("colors"),e=Bt("spacing"),s=Bt("blur"),r=Bt("brightness"),i=Bt("borderColor"),a=Bt("borderRadius"),o=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),d=Bt("grayscale"),u=Bt("hueRotate"),h=Bt("invert"),m=Bt("gap"),y=Bt("gradientColorStops"),b=Bt("gradientColorStopPositions"),j=Bt("inset"),v=Bt("margin"),p=Bt("opacity"),f=Bt("padding"),w=Bt("saturate"),S=Bt("scale"),k=Bt("sepia"),C=Bt("skew"),_=Bt("space"),T=Bt("translate"),R=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",dt,e],B=()=>[dt,e],ee=()=>["",Ei,ca],W=()=>["auto",cc,dt],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",dt],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[cc,dt];return{cacheSize:500,separator:":",theme:{colors:[Ld],spacing:[Ei,ca],blur:["none","",da,dt],brightness:he(),borderColor:[t],borderRadius:["none","","full",da,dt],borderSpacing:B(),borderWidth:ee(),contrast:he(),grayscale:F(),hueRotate:he(),invert:F(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[AB,ca],inset:L(),margin:L(),opacity:he(),padding:B(),saturate:he(),scale:he(),sepia:F(),skew:he(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[da]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),dt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Md,dt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Md,dt]}],"grid-cols":[{"grid-cols":[Ld]}],"col-start-end":[{col:["auto",{span:["full",Md,dt]},dt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ld]}],"row-start-end":[{row:["auto",{span:[Md,dt]},dt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dt,e]}],"min-w":[{"min-w":[dt,e,"min","max","fit"]}],"max-w":[{"max-w":[dt,e,"none","full","min","max","fit","prose",{screen:[da]},da]}],h:[{h:[dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",da,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jg]}],"font-family":[{font:[Ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",cc,Jg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ei,dt]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ei,ca]}],"underline-offset":[{"underline-offset":["auto",Ei,dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),IB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:A()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ei,dt]}],"outline-w":[{outline:[Ei,ca]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ei,ca]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",da,MB]}],"shadow-color":[{shadow:[Ld]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",da,dt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Md,dt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ei,ca,Jg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zB=NB(BB);function we(...t){return zB(c4(t))}const VB=U8,w4=x.forwardRef(({className:t,...e},s)=>n.jsx(s4,{ref:s,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));w4.displayName=s4.displayName;const qB=em("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),N4=x.forwardRef(({className:t,variant:e,...s},r)=>n.jsx(n4,{ref:r,className:we(qB({variant:e}),t),...s}));N4.displayName=n4.displayName;const HB=x.forwardRef(({className:t,...e},s)=>n.jsx(a4,{ref:s,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));HB.displayName=a4.displayName;const S4=x.forwardRef(({className:t,...e},s)=>n.jsx(o4,{ref:s,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:n.jsx(sm,{className:"h-4 w-4"})}));S4.displayName=o4.displayName;const C4=x.forwardRef(({className:t,...e},s)=>n.jsx(r4,{ref:s,className:we("text-sm font-semibold",t),...e}));C4.displayName=r4.displayName;const _4=x.forwardRef(({className:t,...e},s)=>n.jsx(i4,{ref:s,className:we("text-sm opacity-90",t),...e}));_4.displayName=i4.displayName;function WB(){const{toasts:t}=qt();return n.jsxs(VB,{children:[t.map(function({id:e,title:s,description:r,action:i,...a}){return n.jsxs(N4,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(C4,{children:s}),r&&n.jsx(_4,{children:r})]}),i,n.jsx(S4,{})]},e)}),n.jsx(w4,{})]})}var KB=cT[" useId ".trim().toString()]||(()=>{}),GB=0;function lr(t){const[e,s]=x.useState(KB());return ps(()=>{s(r=>r??String(GB++))},[t]),e?`radix-${e}`:""}const QB=["top","right","bottom","left"],Qa=Math.min,Mn=Math.max,ap=Math.round,Lm=Math.floor,gi=t=>({x:t,y:t}),YB={left:"right",right:"left",bottom:"top",top:"bottom"},XB={start:"end",end:"start"};function Wv(t,e,s){return Mn(t,Qa(e,s))}function ta(t,e){return typeof t=="function"?t(e):t}function sa(t){return t.split("-")[0]}function jd(t){return t.split("-")[1]}function Zb(t){return t==="x"?"y":"x"}function Jb(t){return t==="y"?"height":"width"}function Ya(t){return["top","bottom"].includes(sa(t))?"y":"x"}function ew(t){return Zb(Ya(t))}function ZB(t,e,s){s===void 0&&(s=!1);const r=jd(t),i=ew(t),a=Jb(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=op(o)),[o,op(o)]}function JB(t){const e=op(t);return[Kv(t),e,Kv(e)]}function Kv(t){return t.replace(/start|end/g,e=>XB[e])}function ez(t,e,s){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return s?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function tz(t,e,s,r){const i=jd(t);let a=ez(sa(t),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Kv)))),a}function op(t){return t.replace(/left|right|bottom|top/g,e=>YB[e])}function sz(t){return{top:0,right:0,bottom:0,left:0,...t}}function k4(t){return typeof t!="number"?sz(t):{top:t,right:t,bottom:t,left:t}}function lp(t){const{x:e,y:s,width:r,height:i}=t;return{width:r,height:i,top:s,left:e,right:e+r,bottom:s+i,x:e,y:s}}function Y1(t,e,s){let{reference:r,floating:i}=t;const a=Ya(e),o=ew(e),l=Jb(o),c=sa(e),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:u,y:r.y-i.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(jd(e)){case"start":y[o]-=m*(s&&d?-1:1);break;case"end":y[o]+=m*(s&&d?-1:1);break}return y}const nz=async(t,e,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Y1(d,r,c),m=r,y={},b=0;for(let j=0;j<l.length;j++){const{name:v,fn:p}=l[j],{x:f,y:w,data:S,reset:k}=await p({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});u=f??u,h=w??h,y={...y,[v]:{...y[v],...S}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:u,y:h}=Y1(d,m,c)),j=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:y}};async function Qu(t,e){var s;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=ta(e,t),b=k4(y),v=l[m?h==="floating"?"reference":"floating":h],p=lp(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(v)))==null||s?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),f=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},k=lp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:f,offsetParent:w,strategy:c}):f);return{top:(p.top-k.top+b.top)/S.y,bottom:(k.bottom-p.bottom+b.bottom)/S.y,left:(p.left-k.left+b.left)/S.x,right:(k.right-p.right+b.right)/S.x}}const rz=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=ta(t,e)||{};if(d==null)return{};const h=k4(u),m={x:s,y:r},y=ew(i),b=Jb(y),j=await o.getDimensions(d),v=y==="y",p=v?"top":"left",f=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[b]+a.reference[y]-m[y]-a.floating[b],k=m[y]-a.reference[y],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=C?C[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=l.floating[w]||a.floating[b]);const T=S/2-k/2,R=_/2-j[b]/2-1,D=Qa(h[p],R),L=Qa(h[f],R),B=D,ee=_-j[b]-L,W=_/2-j[b]/2+T,se=Wv(B,W,ee),A=!c.arrow&&jd(i)!=null&&W!==se&&a.reference[b]/2-(W<B?D:L)-j[b]/2<0,K=A?W<B?W-B:W-ee:0;return{[y]:m[y]+K,data:{[y]:se,centerOffset:W-se-K,...A&&{alignmentOffset:K}},reset:A}}}),iz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:j=!0,...v}=ta(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const p=sa(i),f=Ya(l),w=sa(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=m||(w||!j?[op(l)]:JB(l)),C=b!=="none";!m&&C&&k.push(...tz(l,j,b,S));const _=[l,...k],T=await Qu(e,v),R=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&R.push(T[p]),h){const W=ZB(i,o,S);R.push(T[W[0]],T[W[1]])}if(D=[...D,{placement:i,overflows:R}],!R.every(W=>W<=0)){var L,B;const W=(((L=a.flip)==null?void 0:L.index)||0)+1,se=_[W];if(se)return{data:{index:W,overflows:D},reset:{placement:se}};let A=(B=D.filter(K=>K.overflows[0]<=0).sort((K,M)=>K.overflows[1]-M.overflows[1])[0])==null?void 0:B.placement;if(!A)switch(y){case"bestFit":{var ee;const K=(ee=D.filter(M=>{if(C){const F=Ya(M.placement);return F===f||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,O)=>F+O,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:ee[0];K&&(A=K);break}case"initialPlacement":A=l;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function X1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z1(t){return QB.some(e=>t[e]>=0)}const az=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...i}=ta(t,e);switch(r){case"referenceHidden":{const a=await Qu(e,{...i,elementContext:"reference"}),o=X1(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z1(o)}}}case"escaped":{const a=await Qu(e,{...i,altBoundary:!0}),o=X1(a,s.floating);return{data:{escapedOffsets:o,escaped:Z1(o)}}}default:return{}}}}};async function oz(t,e){const{placement:s,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=sa(s),l=jd(s),c=Ya(s)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=ta(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*u,y:m*d}:{x:m*d,y:y*u}}const lz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await oz(e,t);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},cz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:p,y:f}=v;return{x:p,y:f}}},...c}=ta(t,e),d={x:s,y:r},u=await Qu(e,c),h=Ya(sa(i)),m=Zb(h);let y=d[m],b=d[h];if(a){const v=m==="y"?"top":"left",p=m==="y"?"bottom":"right",f=y+u[v],w=y-u[p];y=Wv(f,y,w)}if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",f=b+u[v],w=b-u[p];b=Wv(f,b,w)}const j=l.fn({...e,[m]:y,[h]:b});return{...j,data:{x:j.x-s,y:j.y-r,enabled:{[m]:a,[h]:o}}}}}},dz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ta(t,e),u={x:s,y:r},h=Ya(i),m=Zb(h);let y=u[m],b=u[h];const j=ta(l,e),v=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(c){const w=m==="y"?"height":"width",S=a.reference[m]-a.floating[w]+v.mainAxis,k=a.reference[m]+a.reference[w]-v.mainAxis;y<S?y=S:y>k&&(y=k)}if(d){var p,f;const w=m==="y"?"width":"height",S=["top","left"].includes(sa(i)),k=a.reference[h]-a.floating[w]+(S&&((p=o.offset)==null?void 0:p[h])||0)+(S?0:v.crossAxis),C=a.reference[h]+a.reference[w]+(S?0:((f=o.offset)==null?void 0:f[h])||0)-(S?v.crossAxis:0);b<k?b=k:b>C&&(b=C)}return{[m]:y,[h]:b}}}},uz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=ta(t,e),u=await Qu(e,d),h=sa(i),m=jd(i),y=Ya(i)==="y",{width:b,height:j}=a.floating;let v,p;h==="top"||h==="bottom"?(v=h,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,v=m==="end"?"top":"bottom");const f=j-u.top-u.bottom,w=b-u.left-u.right,S=Qa(j-u[v],f),k=Qa(b-u[p],w),C=!e.middlewareData.shift;let _=S,T=k;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=f),C&&!m){const D=Mn(u.left,0),L=Mn(u.right,0),B=Mn(u.top,0),ee=Mn(u.bottom,0);y?T=b-2*(D!==0||L!==0?D+L:Mn(u.left,u.right)):_=j-2*(B!==0||ee!==0?B+ee:Mn(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:_});const R=await o.getDimensions(l.floating);return b!==R.width||j!==R.height?{reset:{rects:!0}}:{}}}};function wx(){return typeof window<"u"}function bd(t){return P4(t)?(t.nodeName||"").toLowerCase():"#document"}function zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _i(t){var e;return(e=(P4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function P4(t){return wx()?t instanceof Node||t instanceof zn(t).Node:!1}function qr(t){return wx()?t instanceof Element||t instanceof zn(t).Element:!1}function ji(t){return wx()?t instanceof HTMLElement||t instanceof zn(t).HTMLElement:!1}function J1(t){return!wx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zn(t).ShadowRoot}function nm(t){const{overflow:e,overflowX:s,overflowY:r,display:i}=Hr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!["inline","contents"].includes(i)}function hz(t){return["table","td","th"].includes(bd(t))}function Nx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tw(t){const e=sw(),s=qr(t)?Hr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function mz(t){let e=Xa(t);for(;ji(e)&&!rd(e);){if(tw(e))return e;if(Nx(e))return null;e=Xa(e)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rd(t){return["html","body","#document"].includes(bd(t))}function Hr(t){return zn(t).getComputedStyle(t)}function Sx(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xa(t){if(bd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J1(t)&&t.host||_i(t);return J1(e)?e.host:e}function T4(t){const e=Xa(t);return rd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ji(e)&&nm(e)?e:T4(e)}function Yu(t,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const i=T4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=zn(i);if(a){const l=Gv(o);return e.concat(o,o.visualViewport||[],nm(i)?i:[],l&&s?Yu(l):[])}return e.concat(i,Yu(i,[],s))}function Gv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function E4(t){const e=Hr(t);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ji(t),a=i?t.offsetWidth:s,o=i?t.offsetHeight:r,l=ap(s)!==a||ap(r)!==o;return l&&(s=a,r=o),{width:s,height:r,$:l}}function nw(t){return qr(t)?t:t.contextElement}function dc(t){const e=nw(t);if(!ji(e))return gi(1);const s=e.getBoundingClientRect(),{width:r,height:i,$:a}=E4(e);let o=(a?ap(s.width):s.width)/r,l=(a?ap(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fz=gi(0);function A4(t){const e=zn(t);return!sw()||!e.visualViewport?fz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pz(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==zn(t)?!1:e}function cl(t,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),a=nw(t);let o=gi(1);e&&(r?qr(r)&&(o=dc(r)):o=dc(t));const l=pz(a,s,r)?A4(a):gi(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=zn(a),y=r&&qr(r)?zn(r):r;let b=m,j=Gv(b);for(;j&&r&&y!==b;){const v=dc(j),p=j.getBoundingClientRect(),f=Hr(j),w=p.left+(j.clientLeft+parseFloat(f.paddingLeft))*v.x,S=p.top+(j.clientTop+parseFloat(f.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=S,b=zn(j),j=Gv(b)}}return lp({width:u,height:h,x:c,y:d})}function rw(t,e){const s=Sx(t).scrollLeft;return e?e.left+s:cl(_i(t)).left+s}function F4(t,e,s){s===void 0&&(s=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(s?0:rw(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function xz(t){let{elements:e,rect:s,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=_i(r),l=e?Nx(e.floating):!1;if(r===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=gi(1);const u=gi(0),h=ji(r);if((h||!h&&!a)&&((bd(r)!=="body"||nm(o))&&(c=Sx(r)),ji(r))){const y=cl(r);d=dc(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const m=o&&!h&&!a?F4(o,c,!0):gi(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function gz(t){return Array.from(t.getClientRects())}function yz(t){const e=_i(t),s=Sx(t),r=t.ownerDocument.body,i=Mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+rw(t);const l=-s.scrollTop;return Hr(r).direction==="rtl"&&(o+=Mn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function vz(t,e){const s=zn(t),r=_i(t),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=sw();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function jz(t,e){const s=cl(t,!0,e==="fixed"),r=s.top+t.clientTop,i=s.left+t.clientLeft,a=ji(t)?dc(t):gi(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function eS(t,e,s){let r;if(e==="viewport")r=vz(t,s);else if(e==="document")r=yz(_i(t));else if(qr(e))r=jz(e,s);else{const i=A4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return lp(r)}function R4(t,e){const s=Xa(t);return s===e||!qr(s)||rd(s)?!1:Hr(s).position==="fixed"||R4(s,e)}function bz(t,e){const s=e.get(t);if(s)return s;let r=Yu(t,[],!1).filter(l=>qr(l)&&bd(l)!=="body"),i=null;const a=Hr(t).position==="fixed";let o=a?Xa(t):t;for(;qr(o)&&!rd(o);){const l=Hr(o),c=tw(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nm(o)&&!c&&R4(t,o))?r=r.filter(u=>u!==o):i=l,o=Xa(o)}return e.set(t,r),r}function wz(t){let{element:e,boundary:s,rootBoundary:r,strategy:i}=t;const o=[...s==="clippingAncestors"?Nx(e)?[]:bz(e,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,u)=>{const h=eS(e,u,i);return d.top=Mn(h.top,d.top),d.right=Qa(h.right,d.right),d.bottom=Qa(h.bottom,d.bottom),d.left=Mn(h.left,d.left),d},eS(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nz(t){const{width:e,height:s}=E4(t);return{width:e,height:s}}function Sz(t,e,s){const r=ji(e),i=_i(e),a=s==="fixed",o=cl(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=gi(0);if(r||!r&&!a)if((bd(e)!=="body"||nm(i))&&(l=Sx(e)),r){const m=cl(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=rw(i));const d=i&&!r&&!a?F4(i,l):gi(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function ey(t){return Hr(t).position==="static"}function tS(t,e){if(!ji(t)||Hr(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return _i(t)===s&&(s=s.ownerDocument.body),s}function I4(t,e){const s=zn(t);if(Nx(t))return s;if(!ji(t)){let i=Xa(t);for(;i&&!rd(i);){if(qr(i)&&!ey(i))return i;i=Xa(i)}return s}let r=tS(t,e);for(;r&&hz(r)&&ey(r);)r=tS(r,e);return r&&rd(r)&&ey(r)&&!tw(r)?s:r||mz(t)||s}const Cz=async function(t){const e=this.getOffsetParent||I4,s=this.getDimensions,r=await s(t.floating);return{reference:Sz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _z(t){return Hr(t).direction==="rtl"}const kz={convertOffsetParentRelativeRectToViewportRelativeRect:xz,getDocumentElement:_i,getClippingRect:wz,getOffsetParent:I4,getElementRects:Cz,getClientRects:gz,getDimensions:Nz,getScale:dc,isElement:qr,isRTL:_z};function D4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pz(t,e){let s=null,r;const i=_i(t);function a(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:y}=d;if(l||e(),!m||!y)return;const b=Lm(h),j=Lm(i.clientWidth-(u+m)),v=Lm(i.clientHeight-(h+y)),p=Lm(u),w={rootMargin:-b+"px "+-j+"px "+-v+"px "+-p+"px",threshold:Mn(0,Qa(1,c))||1};let S=!0;function k(C){const _=C[0].intersectionRatio;if(_!==c){if(!S)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!D4(d,t.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{s=new IntersectionObserver(k,w)}s.observe(t)}return o(!0),a}function Tz(t,e,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=nw(t),u=i||a?[...d?Yu(d):[],...Yu(e)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",s,{passive:!0}),a&&p.addEventListener("resize",s)});const h=d&&l?Pz(d,s):null;let m=-1,y=null;o&&(y=new ResizeObserver(p=>{let[f]=p;f&&f.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(e)})),s()}),d&&!c&&y.observe(d),y.observe(e));let b,j=c?cl(t):null;c&&v();function v(){const p=cl(t);j&&!D4(j,p)&&s(),j=p,b=requestAnimationFrame(v)}return s(),()=>{var p;u.forEach(f=>{i&&f.removeEventListener("scroll",s),a&&f.removeEventListener("resize",s)}),h==null||h(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const Ez=lz,Az=cz,Fz=iz,Rz=uz,Iz=az,sS=rz,Dz=dz,Oz=(t,e,s)=>{const r=new Map,i={platform:kz,...s},a={...i.platform,_c:r};return nz(t,e,{...i,platform:a})};var gf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function cp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!cp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!cp(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function O4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nS(t,e){const s=O4(t);return Math.round(e*s)/s}function ty(t){const e=x.useRef(t);return gf(()=>{e.current=t}),e}function Mz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=x.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=x.useState(r);cp(m,r)||y(r);const[b,j]=x.useState(null),[v,p]=x.useState(null),f=x.useCallback(M=>{M!==C.current&&(C.current=M,j(M))},[]),w=x.useCallback(M=>{M!==_.current&&(_.current=M,p(M))},[]),S=a||b,k=o||v,C=x.useRef(null),_=x.useRef(null),T=x.useRef(u),R=c!=null,D=ty(c),L=ty(i),B=ty(d),ee=x.useCallback(()=>{if(!C.current||!_.current)return;const M={placement:e,strategy:s,middleware:m};L.current&&(M.platform=L.current),Oz(C.current,_.current,M).then(F=>{const O={...F,isPositioned:B.current!==!1};W.current&&!cp(T.current,O)&&(T.current=O,jl.flushSync(()=>{h(O)}))})},[m,e,s,L,B]);gf(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[d]);const W=x.useRef(!1);gf(()=>(W.current=!0,()=>{W.current=!1}),[]),gf(()=>{if(S&&(C.current=S),k&&(_.current=k),S&&k){if(D.current)return D.current(S,k,ee);ee()}},[S,k,ee,D,R]);const se=x.useMemo(()=>({reference:C,floating:_,setReference:f,setFloating:w}),[f,w]),A=x.useMemo(()=>({reference:S,floating:k}),[S,k]),K=x.useMemo(()=>{const M={position:s,left:0,top:0};if(!A.floating)return M;const F=nS(A.floating,u.x),O=nS(A.floating,u.y);return l?{...M,transform:"translate("+F+"px, "+O+"px)",...O4(A.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:F,top:O}},[s,l,A.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:ee,refs:se,elements:A,floatingStyles:K}),[u,ee,se,A,K])}const Lz=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:i}=typeof t=="function"?t(s):t;return r&&e(r)?r.current!=null?sS({element:r.current,padding:i}).fn(s):{}:r?sS({element:r,padding:i}).fn(s):{}}}},$z=(t,e)=>({...Ez(t),options:[t,e]}),Uz=(t,e)=>({...Az(t),options:[t,e]}),Bz=(t,e)=>({...Dz(t),options:[t,e]}),zz=(t,e)=>({...Fz(t),options:[t,e]}),Vz=(t,e)=>({...Rz(t),options:[t,e]}),qz=(t,e)=>({...Iz(t),options:[t,e]}),Hz=(t,e)=>({...Lz(t),options:[t,e]});var Wz="Arrow",M4=x.forwardRef((t,e)=>{const{children:s,width:r=10,height:i=5,...a}=t;return n.jsx(Le.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});M4.displayName=Wz;var Kz=M4;function iw(t){const[e,s]=x.useState(void 0);return ps(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),e}var aw="Popper",[L4,wd]=Ws(aw),[Gz,$4]=L4(aw),U4=t=>{const{__scopePopper:e,children:s}=t,[r,i]=x.useState(null);return n.jsx(Gz,{scope:e,anchor:r,onAnchorChange:i,children:s})};U4.displayName=aw;var B4="PopperAnchor",z4=x.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:r,...i}=t,a=$4(B4,s),o=x.useRef(null),l=lt(e,o);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(Le.div,{...i,ref:l})});z4.displayName=B4;var ow="PopperContent",[Qz,Yz]=L4(ow),V4=x.forwardRef((t,e)=>{var je,Be,Ge,Qe,Oe,fe;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...j}=t,v=$4(ow,s),[p,f]=x.useState(null),w=lt(e,qe=>f(qe)),[S,k]=x.useState(null),C=iw(S),_=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,R=r+(a!=="center"?"-"+a:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],B=L.length>0,ee={padding:D,boundary:L.filter(Zz),altBoundary:B},{refs:W,floatingStyles:se,placement:A,isPositioned:K,middlewareData:M}=Mz({strategy:"fixed",placement:R,whileElementsMounted:(...qe)=>Tz(...qe,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[$z({mainAxis:i+T,alignmentAxis:o}),c&&Uz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Bz():void 0,...ee}),c&&zz({...ee}),Vz({...ee,apply:({elements:qe,rects:nt,availableWidth:Dt,availableHeight:Kt})=>{const{width:Ot,height:bn}=nt.reference,as=qe.floating.style;as.setProperty("--radix-popper-available-width",`${Dt}px`),as.setProperty("--radix-popper-available-height",`${Kt}px`),as.setProperty("--radix-popper-anchor-width",`${Ot}px`),as.setProperty("--radix-popper-anchor-height",`${bn}px`)}}),S&&Hz({element:S,padding:l}),Jz({arrowWidth:_,arrowHeight:T}),m&&qz({strategy:"referenceHidden",...ee})]}),[F,O]=W4(A),he=Wt(b);ps(()=>{K&&(he==null||he())},[K,he]);const _e=(je=M.arrow)==null?void 0:je.x,tt=(Be=M.arrow)==null?void 0:Be.y,Ze=((Ge=M.arrow)==null?void 0:Ge.centerOffset)!==0,[St,ft]=x.useState();return ps(()=>{p&&ft(window.getComputedStyle(p).zIndex)},[p]),n.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:K?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:St,"--radix-popper-transform-origin":[(Qe=M.transformOrigin)==null?void 0:Qe.x,(Oe=M.transformOrigin)==null?void 0:Oe.y].join(" "),...((fe=M.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(Qz,{scope:s,placedSide:F,onArrowChange:k,arrowX:_e,arrowY:tt,shouldHideArrow:Ze,children:n.jsx(Le.div,{"data-side":F,"data-align":O,...j,ref:w,style:{...j.style,animation:K?void 0:"none"}})})})});V4.displayName=ow;var q4="PopperArrow",Xz={top:"bottom",right:"left",bottom:"top",left:"right"},H4=x.forwardRef(function(e,s){const{__scopePopper:r,...i}=e,a=Yz(q4,r),o=Xz[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(Kz,{...i,ref:s,style:{...i.style,display:"block"}})})});H4.displayName=q4;function Zz(t){return t!==null}var Jz=t=>({name:"transformOrigin",options:t,fn(e){var v,p,f;const{placement:s,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=W4(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((p=i.arrow)==null?void 0:p.x)??0)+l/2,y=(((f=i.arrow)==null?void 0:f.y)??0)+c/2;let b="",j="";return d==="bottom"?(b=o?h:`${m}px`,j=`${-c}px`):d==="top"?(b=o?h:`${m}px`,j=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,j=o?h:`${y}px`):d==="left"&&(b=`${r.floating.width+c}px`,j=o?h:`${y}px`),{data:{x:b,y:j}}}});function W4(t){const[e,s="center"]=t.split("-");return[e,s]}var lw=U4,cw=z4,dw=V4,uw=H4,[Cx,Ase]=Ws("Tooltip",[wd]),_x=wd(),K4="TooltipProvider",eV=700,Qv="tooltip.open",[tV,hw]=Cx(K4),G4=t=>{const{__scopeTooltip:e,delayDuration:s=eV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(tV,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};G4.displayName=K4;var kx="Tooltip",[sV,Px]=Cx(kx),Q4=t=>{const{__scopeTooltip:e,children:s,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=hw(kx,t.__scopeTooltip),d=_x(e),[u,h]=x.useState(null),m=lr(),y=x.useRef(0),b=o??c.disableHoverableContent,j=l??c.delayDuration,v=x.useRef(!1),[p=!1,f]=Vr({prop:r,defaultProp:i,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qv))):c.onClose(),a==null||a(_)}}),w=x.useMemo(()=>p?v.current?"delayed-open":"instant-open":"closed",[p]),S=x.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v.current=!1,f(!0)},[f]),k=x.useCallback(()=>{window.clearTimeout(y.current),y.current=0,f(!1)},[f]),C=x.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{v.current=!0,f(!0),y.current=0},j)},[j,f]);return x.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(lw,{...d,children:n.jsx(sV,{scope:e,contentId:m,open:p,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?C():S()},[c.isOpenDelayedRef,C,S]),onTriggerLeave:x.useCallback(()=>{b?k():(window.clearTimeout(y.current),y.current=0)},[k,b]),onOpen:S,onClose:k,disableHoverableContent:b,children:s})})};Q4.displayName=kx;var Yv="TooltipTrigger",Y4=x.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,i=Px(Yv,s),a=hw(Yv,s),o=_x(s),l=x.useRef(null),c=lt(e,l,i.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(cw,{asChild:!0,...o,children:n.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ye(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ye(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:ye(t.onBlur,i.onClose),onClick:ye(t.onClick,i.onClose)})})});Y4.displayName=Yv;var nV="TooltipPortal",[Fse,rV]=Cx(nV,{forceMount:void 0}),id="TooltipContent",X4=x.forwardRef((t,e)=>{const s=rV(id,t.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=t,o=Px(id,t.__scopeTooltip);return n.jsx(Ks,{present:r||o.open,children:o.disableHoverableContent?n.jsx(Z4,{side:i,...a,ref:e}):n.jsx(iV,{side:i,...a,ref:e})})}),iV=x.forwardRef((t,e)=>{const s=Px(id,t.__scopeTooltip),r=hw(id,t.__scopeTooltip),i=x.useRef(null),a=lt(e,i),[o,l]=x.useState(null),{trigger:c,onClose:d}=s,u=i.current,{onPointerInTransitChange:h}=r,m=x.useCallback(()=>{l(null),h(!1)},[h]),y=x.useCallback((b,j)=>{const v=b.currentTarget,p={x:b.clientX,y:b.clientY},f=dV(p,v.getBoundingClientRect()),w=uV(p,f),S=hV(j.getBoundingClientRect()),k=fV([...w,...S]);l(k),h(!0)},[h]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&u){const b=v=>y(v,u),j=v=>y(v,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",j),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",j)}}},[c,u,y,m]),x.useEffect(()=>{if(o){const b=j=>{const v=j.target,p={x:j.clientX,y:j.clientY},f=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!mV(p,o);f?m():w&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,m]),n.jsx(Z4,{...t,ref:a})}),[aV,oV]=Cx(kx,{isInside:!1}),lV=$A("TooltipContent"),Z4=x.forwardRef((t,e)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Px(id,s),d=_x(s),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(Qv,u),()=>document.removeEventListener(Qv,u)),[u]),x.useEffect(()=>{if(c.trigger){const h=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),n.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(dw,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(lV,{children:r}),n.jsx(aV,{scope:s,isInside:!0,children:n.jsx(w8,{id:c.contentId,role:"tooltip",children:i||r})})]})})});X4.displayName=id;var J4="TooltipArrow",cV=x.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,i=_x(s);return oV(J4,s).isInside?null:n.jsx(uw,{...i,...r,ref:e})});cV.displayName=J4;function dV(t,e){const s=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uV(t,e,s=5){const r=[];switch(e){case"top":r.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":r.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":r.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":r.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return r}function hV(t){const{top:e,right:s,bottom:r,left:i}=t;return[{x:i,y:e},{x:s,y:e},{x:s,y:r},{x:i,y:r}]}function mV(t,e){const{x:s,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(i=!i)}return i}function fV(t){const e=t.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),pV(e)}function pV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const s=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var xV=G4,gV=Q4,yV=Y4,eF=X4;const vV=xV,ua=gV,ha=yV,Ri=x.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(eF,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));Ri.displayName=eF.displayName;const tF=x.createContext(void 0);function jV({children:t,defaultTheme:e="light"}){const[s,r]=x.useState(()=>localStorage.getItem("theme")||e);x.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(s),localStorage.setItem("theme",s)},[s]);const i={theme:s,setTheme:r};return n.jsx(tF.Provider,{value:i,children:t})}function bV(){const t=x.useContext(tF);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const mw=em("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$=x.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...i},a)=>{const o=r?MA:"button";return n.jsx(o,{className:we(mw({variant:e,size:s,className:t})),ref:a,...i})});$.displayName="Button";const wV=em("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Y({className:t,variant:e,...s}){return n.jsx("div",{className:we(wV({variant:e}),t),...s})}function NV(){const{theme:t,setTheme:e}=bV();return n.jsxs($,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[n.jsx(oB,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(eB,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}function vn(){const{data:t,isLoading:e}=ze({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}var fw="Avatar",[SV,Rse]=Ws(fw),[CV,sF]=SV(fw),nF=x.forwardRef((t,e)=>{const{__scopeAvatar:s,...r}=t,[i,a]=x.useState("idle");return n.jsx(CV,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(Le.span,{...r,ref:e})})});nF.displayName=fw;var rF="AvatarImage",iF=x.forwardRef((t,e)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=sF(rF,s),l=_V(r,a),c=Wt(d=>{i(d),o.onImageLoadingStatusChange(d)});return ps(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Le.img,{...a,ref:e,src:r}):null});iF.displayName=rF;var aF="AvatarFallback",oF=x.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:r,...i}=t,a=sF(aF,s),[o,l]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(Le.span,{...i,ref:e}):null});oF.displayName=aF;function rS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _V(t,{referrerPolicy:e,crossOrigin:s}){const r=PV(),i=x.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>rS(a,t));return ps(()=>{l(rS(a,t))},[a,t]),ps(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,s,e]),o}function kV(){return()=>{}}function PV(){return x.useSyncExternalStore(kV,()=>!0,()=>!1)}var lF=nF,cF=iF,dF=oF;const bi=x.forwardRef(({className:t,...e},s)=>n.jsx(lF,{ref:s,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));bi.displayName=lF.displayName;const wi=x.forwardRef(({className:t,...e},s)=>n.jsx(cF,{ref:s,className:we("aspect-square h-full w-full",t),...e}));wi.displayName=cF.displayName;const Ni=x.forwardRef(({className:t,...e},s)=>n.jsx(dF,{ref:s,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ni.displayName=dF.displayName;var TV=x.createContext(void 0);function rm(t){const e=x.useContext(TV);return t||e||"ltr"}var sy=0;function pw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iS()),document.body.insertAdjacentElement("beforeend",t[1]??iS()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function iS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",aS={bubbles:!1,cancelable:!0},EV="FocusScope",Tx=x.forwardRef((t,e)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=x.useState(null),d=Wt(i),u=Wt(a),h=x.useRef(null),m=lt(e,j=>c(j)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let j=function(w){if(y.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:fa(h.current,{select:!0})},v=function(w){if(y.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||fa(h.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&fa(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",v);const f=new MutationObserver(p);return l&&f.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",v),f.disconnect()}}},[r,l,y.paused]),x.useEffect(()=>{if(l){lS.add(y);const j=document.activeElement;if(!l.contains(j)){const p=new CustomEvent(ny,aS);l.addEventListener(ny,d),l.dispatchEvent(p),p.defaultPrevented||(AV(OV(uF(l)),{select:!0}),document.activeElement===j&&fa(l))}return()=>{l.removeEventListener(ny,d),setTimeout(()=>{const p=new CustomEvent(ry,aS);l.addEventListener(ry,u),l.dispatchEvent(p),p.defaultPrevented||fa(j??document.body,{select:!0}),l.removeEventListener(ry,u),lS.remove(y)},0)}}},[l,d,u,y]);const b=x.useCallback(j=>{if(!s&&!r||y.paused)return;const v=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,p=document.activeElement;if(v&&p){const f=j.currentTarget,[w,S]=FV(f);w&&S?!j.shiftKey&&p===S?(j.preventDefault(),s&&fa(w,{select:!0})):j.shiftKey&&p===w&&(j.preventDefault(),s&&fa(S,{select:!0})):p===f&&j.preventDefault()}},[s,r,y.paused]);return n.jsx(Le.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});Tx.displayName=EV;function AV(t,{select:e=!1}={}){const s=document.activeElement;for(const r of t)if(fa(r,{select:e}),document.activeElement!==s)return}function FV(t){const e=uF(t),s=oS(e,t),r=oS(e.reverse(),t);return[s,r]}function uF(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function oS(t,e){for(const s of t)if(!RV(s,{upTo:e}))return s}function RV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IV(t){return t instanceof HTMLInputElement&&"select"in t}function fa(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&IV(t)&&e&&t.select()}}var lS=DV();function DV(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=cS(t,e),t.unshift(e)},remove(e){var s;t=cS(t,e),(s=t[0])==null||s.resume()}}}function cS(t,e){const s=[...t],r=s.indexOf(e);return r!==-1&&s.splice(r,1),s}function OV(t){return t.filter(e=>e.tagName!=="A")}var iy="rovingFocusGroup.onEntryFocus",MV={bubbles:!1,cancelable:!0},Ex="RovingFocusGroup",[Xv,hF,LV]=yx(Ex),[$V,Ax]=Ws(Ex,[LV]),[UV,BV]=$V(Ex),mF=x.forwardRef((t,e)=>n.jsx(Xv.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Xv.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(zV,{...t,ref:e})})}));mF.displayName=Ex;var zV=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=x.useRef(null),y=lt(e,m),b=rm(a),[j=null,v]=Vr({prop:o,defaultProp:l,onChange:c}),[p,f]=x.useState(!1),w=Wt(d),S=hF(s),k=x.useRef(!1),[C,_]=x.useState(0);return x.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(iy,w),()=>T.removeEventListener(iy,w)},[w]),n.jsx(UV,{scope:s,orientation:r,dir:b,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(T=>v(T),[v]),onItemShiftTab:x.useCallback(()=>f(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:x.useCallback(()=>_(T=>T-1),[]),children:n.jsx(Le.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{k.current=!0}),onFocus:ye(t.onFocus,T=>{const R=!k.current;if(T.target===T.currentTarget&&R&&!p){const D=new CustomEvent(iy,MV);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=S().filter(A=>A.focusable),B=L.find(A=>A.active),ee=L.find(A=>A.id===j),se=[B,ee,...L].filter(Boolean).map(A=>A.ref.current);xF(se,u)}}k.current=!1}),onBlur:ye(t.onBlur,()=>f(!1))})})}),fF="RovingFocusGroupItem",pF=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=lr(),c=a||l,d=BV(fF,s),u=d.currentTabStopId===c,h=hF(s),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return x.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),n.jsx(Xv.ItemSlot,{scope:s,id:c,focusable:r,active:i,children:n.jsx(Le.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const j=HV(b,d.orientation,d.dir);if(j!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let p=h().filter(f=>f.focusable).map(f=>f.ref.current);if(j==="last")p.reverse();else if(j==="prev"||j==="next"){j==="prev"&&p.reverse();const f=p.indexOf(b.currentTarget);p=d.loop?WV(p,f+1):p.slice(f+1)}setTimeout(()=>xF(p))}})})})});pF.displayName=fF;var VV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function HV(t,e,s){const r=qV(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VV[r]}function xF(t,e=!1){const s=document.activeElement;for(const r of t)if(r===s||(r.focus({preventScroll:e}),document.activeElement!==s))return}function WV(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var gF=mF,yF=pF,KV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Il=new WeakMap,$m=new WeakMap,Um={},ay=0,vF=function(t){return t&&(t.host||vF(t.parentNode))},GV=function(t,e){return e.map(function(s){if(t.contains(s))return s;var r=vF(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},QV=function(t,e,s,r){var i=GV(e,Array.isArray(t)?t:[t]);Um[s]||(Um[s]=new WeakMap);var a=Um[s],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var y=m.getAttribute(r),b=y!==null&&y!=="false",j=(Il.get(m)||0)+1,v=(a.get(m)||0)+1;Il.set(m,j),a.set(m,v),o.push(m),j===1&&b&&$m.set(m,!0),v===1&&m.setAttribute(s,"true"),b||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return u(e),l.clear(),ay++,function(){o.forEach(function(h){var m=Il.get(h)-1,y=a.get(h)-1;Il.set(h,m),a.set(h,y),m||($m.has(h)||h.removeAttribute(r),$m.delete(h)),y||h.removeAttribute(s)}),ay--,ay||(Il=new WeakMap,Il=new WeakMap,$m=new WeakMap,Um={})}},xw=function(t,e,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=KV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),QV(r,i,s,"aria-hidden")):function(){return null}},hi=function(){return hi=Object.assign||function(e){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hi.apply(this,arguments)};function jF(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function YV(t,e,s){if(s||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var yf="right-scroll-bar-position",vf="width-before-scroll-bar",XV="with-scroll-bars-hidden",ZV="--removed-body-scroll-bar-size";function oy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function JV(t,e){var s=x.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=e,s.facade}var e7=typeof window<"u"?x.useLayoutEffect:x.useEffect,dS=new WeakMap;function t7(t,e){var s=JV(null,function(r){return t.forEach(function(i){return oy(i,r)})});return e7(function(){var r=dS.get(s);if(r){var i=new Set(r),a=new Set(t),o=s.current;i.forEach(function(l){a.has(l)||oy(l,null)}),a.forEach(function(l){i.has(l)||oy(l,o)})}dS.set(s,t)},[t]),s}function s7(t){return t}function n7(t,e){e===void 0&&(e=s7);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(a){var o=e(a,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return i}function r7(t){t===void 0&&(t={});var e=n7(null);return e.options=hi({async:!0,ssr:!1},t),e}var bF=function(t){var e=t.sideCar,s=jF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,hi({},s))};bF.isSideCarExport=!0;function i7(t,e){return t.useMedium(e),bF}var wF=r7(),ly=function(){},Fx=x.forwardRef(function(t,e){var s=x.useRef(null),r=x.useState({onScrollCapture:ly,onWheelCapture:ly,onTouchMoveCapture:ly}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,y=t.noIsolation,b=t.inert,j=t.allowPinchZoom,v=t.as,p=v===void 0?"div":v,f=t.gapMode,w=jF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,k=t7([s,e]),C=hi(hi({},w),i);return x.createElement(x.Fragment,null,u&&x.createElement(S,{sideCar:wF,removeScrollBar:d,shards:h,noIsolation:y,inert:b,setCallbacks:a,allowPinchZoom:!!j,lockRef:s,gapMode:f}),o?x.cloneElement(x.Children.only(l),hi(hi({},C),{ref:k})):x.createElement(p,hi({},C,{className:c,ref:k}),l))});Fx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fx.classNames={fullWidth:vf,zeroRight:yf};var a7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=a7();return e&&t.setAttribute("nonce",e),t}function l7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function c7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var d7=function(){var t=0,e=null;return{add:function(s){t==0&&(e=o7())&&(l7(e,s),c7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u7=function(){var t=d7();return function(e,s){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},NF=function(){var t=u7(),e=function(s){var r=s.styles,i=s.dynamic;return t(r,i),null};return e},h7={left:0,top:0,right:0,gap:0},cy=function(t){return parseInt(t||"",10)||0},m7=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[cy(s),cy(r),cy(i)]},f7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return h7;var e=m7(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-s+e[2]-e[0])}},p7=NF(),uc="data-scroll-locked",x7=function(t,e,s,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(XV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(uc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uc,`] {
    `).concat(ZV,": ").concat(l,`px;
  }
`)},uS=function(){var t=parseInt(document.body.getAttribute(uc)||"0",10);return isFinite(t)?t:0},g7=function(){x.useEffect(function(){return document.body.setAttribute(uc,(uS()+1).toString()),function(){var t=uS()-1;t<=0?document.body.removeAttribute(uc):document.body.setAttribute(uc,t.toString())}},[])},y7=function(t){var e=t.noRelative,s=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;g7();var a=x.useMemo(function(){return f7(i)},[i]);return x.createElement(p7,{styles:x7(a,!e,i,s?"":"!important")})},Zv=!1;if(typeof window<"u")try{var Bm=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{Zv=!1}var Dl=Zv?{passive:!1}:!1,v7=function(t){return t.tagName==="TEXTAREA"},SF=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!v7(t)&&s[e]==="visible")},j7=function(t){return SF(t,"overflowY")},b7=function(t){return SF(t,"overflowX")},hS=function(t,e){var s=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CF(t,r);if(i){var a=_F(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},w7=function(t){var e=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[e,s,r]},N7=function(t){var e=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[e,s,r]},CF=function(t,e){return t==="v"?j7(e):b7(e)},_F=function(t,e){return t==="v"?w7(e):N7(e)},S7=function(t,e){return t==="h"&&e==="rtl"?-1:1},C7=function(t,e,s,r,i){var a=S7(t,window.getComputedStyle(e).direction),o=a*r,l=s.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{var y=_F(t,l),b=y[0],j=y[1],v=y[2],p=j-v-a*b;(b||p)&&CF(t,l)&&(h+=p,m+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(m)<1||!i))&&(d=!0),d},zm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mS=function(t){return[t.deltaX,t.deltaY]},fS=function(t){return t&&"current"in t?t.current:t},_7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},k7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},P7=0,Ol=[];function T7(t){var e=x.useRef([]),s=x.useRef([0,0]),r=x.useRef(),i=x.useState(P7++)[0],a=x.useState(NF)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=YV([t.lockRef.current],(t.shards||[]).map(fS),!0).filter(Boolean);return j.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(j,v){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var p=zm(j),f=s.current,w="deltaX"in j?j.deltaX:f[0]-p[0],S="deltaY"in j?j.deltaY:f[1]-p[1],k,C=j.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in j&&_==="h"&&C.type==="range")return!1;var T=hS(_,C);if(!T)return!0;if(T?k=_:(k=_==="v"?"h":"v",T=hS(_,C)),!T)return!1;if(!r.current&&"changedTouches"in j&&(w||S)&&(r.current=k),!k)return!0;var R=r.current||k;return C7(R,v,j,R==="h"?w:S,!0)},[]),c=x.useCallback(function(j){var v=j;if(!(!Ol.length||Ol[Ol.length-1]!==a)){var p="deltaY"in v?mS(v):zm(v),f=e.current.filter(function(k){return k.name===v.type&&(k.target===v.target||v.target===k.shadowParent)&&_7(k.delta,p)})[0];if(f&&f.should){v.cancelable&&v.preventDefault();return}if(!f){var w=(o.current.shards||[]).map(fS).filter(Boolean).filter(function(k){return k.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),d=x.useCallback(function(j,v,p,f){var w={name:j,delta:v,target:p,should:f,shadowParent:E7(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),u=x.useCallback(function(j){s.current=zm(j),r.current=void 0},[]),h=x.useCallback(function(j){d(j.type,mS(j),j.target,l(j,t.lockRef.current))},[]),m=x.useCallback(function(j){d(j.type,zm(j),j.target,l(j,t.lockRef.current))},[]);x.useEffect(function(){return Ol.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Dl),document.addEventListener("touchmove",c,Dl),document.addEventListener("touchstart",u,Dl),function(){Ol=Ol.filter(function(j){return j!==a}),document.removeEventListener("wheel",c,Dl),document.removeEventListener("touchmove",c,Dl),document.removeEventListener("touchstart",u,Dl)}},[]);var y=t.removeScrollBar,b=t.inert;return x.createElement(x.Fragment,null,b?x.createElement(a,{styles:k7(i)}):null,y?x.createElement(y7,{gapMode:t.gapMode}):null)}function E7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A7=i7(wF,T7);var Rx=x.forwardRef(function(t,e){return x.createElement(Fx,hi({},t,{ref:e,sideCar:A7}))});Rx.classNames=Fx.classNames;var Jv=["Enter"," "],F7=["ArrowDown","PageUp","Home"],kF=["ArrowUp","PageDown","End"],R7=[...F7,...kF],I7={ltr:[...Jv,"ArrowRight"],rtl:[...Jv,"ArrowLeft"]},D7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},im="Menu",[Xu,O7,M7]=yx(im),[bl,PF]=Ws(im,[M7,wd,Ax]),Ix=wd(),TF=Ax(),[L7,wl]=bl(im),[$7,am]=bl(im),EF=t=>{const{__scopeMenu:e,open:s=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=Ix(e),[c,d]=x.useState(null),u=x.useRef(!1),h=Wt(a),m=rm(i);return x.useEffect(()=>{const y=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),n.jsx(lw,{...l,children:n.jsx(L7,{scope:e,open:s,onOpenChange:h,content:c,onContentChange:d,children:n.jsx($7,{scope:e,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};EF.displayName=im;var U7="MenuAnchor",gw=x.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t,i=Ix(s);return n.jsx(cw,{...i,...r,ref:e})});gw.displayName=U7;var yw="MenuPortal",[B7,AF]=bl(yw,{forceMount:void 0}),FF=t=>{const{__scopeMenu:e,forceMount:s,children:r,container:i}=t,a=wl(yw,e);return n.jsx(B7,{scope:e,forceMount:s,children:n.jsx(Ks,{present:s||a.open,children:n.jsx(Zh,{asChild:!0,container:i,children:r})})})};FF.displayName=yw;var cr="MenuContent",[z7,vw]=bl(cr),RF=x.forwardRef((t,e)=>{const s=AF(cr,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,a=wl(cr,t.__scopeMenu),o=am(cr,t.__scopeMenu);return n.jsx(Xu.Provider,{scope:t.__scopeMenu,children:n.jsx(Ks,{present:r||a.open,children:n.jsx(Xu.Slot,{scope:t.__scopeMenu,children:o.modal?n.jsx(V7,{...i,ref:e}):n.jsx(q7,{...i,ref:e})})})})}),V7=x.forwardRef((t,e)=>{const s=wl(cr,t.__scopeMenu),r=x.useRef(null),i=lt(e,r);return x.useEffect(()=>{const a=r.current;if(a)return xw(a)},[]),n.jsx(jw,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),q7=x.forwardRef((t,e)=>{const s=wl(cr,t.__scopeMenu);return n.jsx(jw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),H7=ol("MenuContent.ScrollLock"),jw=x.forwardRef((t,e)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...j}=t,v=wl(cr,s),p=am(cr,s),f=Ix(s),w=TF(s),S=O7(s),[k,C]=x.useState(null),_=x.useRef(null),T=lt(e,_,v.onContentChange),R=x.useRef(0),D=x.useRef(""),L=x.useRef(0),B=x.useRef(null),ee=x.useRef("right"),W=x.useRef(0),se=b?Rx:x.Fragment,A=b?{as:H7,allowPinchZoom:!0}:void 0,K=F=>{var je,Be;const O=D.current+F,he=S().filter(Ge=>!Ge.disabled),_e=document.activeElement,tt=(je=he.find(Ge=>Ge.ref.current===_e))==null?void 0:je.textValue,Ze=he.map(Ge=>Ge.textValue),St=n9(Ze,O,tt),ft=(Be=he.find(Ge=>Ge.textValue===St))==null?void 0:Be.ref.current;(function Ge(Qe){D.current=Qe,window.clearTimeout(R.current),Qe!==""&&(R.current=window.setTimeout(()=>Ge(""),1e3))})(O),ft&&setTimeout(()=>ft.focus())};x.useEffect(()=>()=>window.clearTimeout(R.current),[]),pw();const M=x.useCallback(F=>{var he,_e;return ee.current===((he=B.current)==null?void 0:he.side)&&i9(F,(_e=B.current)==null?void 0:_e.area)},[]);return n.jsx(z7,{scope:s,searchRef:D,onItemEnter:x.useCallback(F=>{M(F)&&F.preventDefault()},[M]),onItemLeave:x.useCallback(F=>{var O;M(F)||((O=_.current)==null||O.focus(),C(null))},[M]),onTriggerLeave:x.useCallback(F=>{M(F)&&F.preventDefault()},[M]),pointerGraceTimerRef:L,onPointerGraceIntentChange:x.useCallback(F=>{B.current=F},[]),children:n.jsx(se,{...A,children:n.jsx(Tx,{asChild:!0,trapped:i,onMountAutoFocus:ye(a,F=>{var O;F.preventDefault(),(O=_.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(yd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:y,children:n.jsx(gF,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:ye(c,F=>{p.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(dw,{role:"menu","aria-orientation":"vertical","data-state":QF(v.open),"data-radix-menu-content":"",dir:p.dir,...f,...j,ref:T,style:{outline:"none",...j.style},onKeyDown:ye(j.onKeyDown,F=>{const he=F.target.closest("[data-radix-menu-content]")===F.currentTarget,_e=F.ctrlKey||F.altKey||F.metaKey,tt=F.key.length===1;he&&(F.key==="Tab"&&F.preventDefault(),!_e&&tt&&K(F.key));const Ze=_.current;if(F.target!==Ze||!R7.includes(F.key))return;F.preventDefault();const ft=S().filter(je=>!je.disabled).map(je=>je.ref.current);kF.includes(F.key)&&ft.reverse(),t9(ft)}),onBlur:ye(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),D.current="")}),onPointerMove:ye(t.onPointerMove,Zu(F=>{const O=F.target,he=W.current!==F.clientX;if(F.currentTarget.contains(O)&&he){const _e=F.clientX>W.current?"right":"left";ee.current=_e,W.current=F.clientX}}))})})})})})})});RF.displayName=cr;var W7="MenuGroup",bw=x.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{role:"group",...r,ref:e})});bw.displayName=W7;var K7="MenuLabel",IF=x.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});IF.displayName=K7;var dp="MenuItem",pS="menu.itemSelect",Dx=x.forwardRef((t,e)=>{const{disabled:s=!1,onSelect:r,...i}=t,a=x.useRef(null),o=am(dp,t.__scopeMenu),l=vw(dp,t.__scopeMenu),c=lt(e,a),d=x.useRef(!1),u=()=>{const h=a.current;if(!s&&h){const m=new CustomEvent(pS,{bubbles:!0,cancelable:!0});h.addEventListener(pS,y=>r==null?void 0:r(y),{once:!0}),Hb(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(DF,{...i,ref:c,disabled:s,onClick:ye(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:ye(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ye(t.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||Jv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Dx.displayName=dp;var DF=x.forwardRef((t,e)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...a}=t,o=vw(dp,s),l=TF(s),c=x.useRef(null),d=lt(e,c),[u,h]=x.useState(!1),[m,y]=x.useState("");return x.useEffect(()=>{const b=c.current;b&&y((b.textContent??"").trim())},[a.children]),n.jsx(Xu.ItemSlot,{scope:s,disabled:r,textValue:i??m,children:n.jsx(yF,{asChild:!0,...l,focusable:!r,children:n.jsx(Le.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:ye(t.onPointerMove,Zu(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,Zu(b=>o.onItemLeave(b))),onFocus:ye(t.onFocus,()=>h(!0)),onBlur:ye(t.onBlur,()=>h(!1))})})})}),G7="MenuCheckboxItem",OF=x.forwardRef((t,e)=>{const{checked:s=!1,onCheckedChange:r,...i}=t;return n.jsx(BF,{scope:t.__scopeMenu,checked:s,children:n.jsx(Dx,{role:"menuitemcheckbox","aria-checked":up(s)?"mixed":s,...i,ref:e,"data-state":Nw(s),onSelect:ye(i.onSelect,()=>r==null?void 0:r(up(s)?!0:!s),{checkForDefaultPrevented:!1})})})});OF.displayName=G7;var MF="MenuRadioGroup",[Q7,Y7]=bl(MF,{value:void 0,onValueChange:()=>{}}),LF=x.forwardRef((t,e)=>{const{value:s,onValueChange:r,...i}=t,a=Wt(r);return n.jsx(Q7,{scope:t.__scopeMenu,value:s,onValueChange:a,children:n.jsx(bw,{...i,ref:e})})});LF.displayName=MF;var $F="MenuRadioItem",UF=x.forwardRef((t,e)=>{const{value:s,...r}=t,i=Y7($F,t.__scopeMenu),a=s===i.value;return n.jsx(BF,{scope:t.__scopeMenu,checked:a,children:n.jsx(Dx,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Nw(a),onSelect:ye(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});UF.displayName=$F;var ww="MenuItemIndicator",[BF,X7]=bl(ww,{checked:!1}),zF=x.forwardRef((t,e)=>{const{__scopeMenu:s,forceMount:r,...i}=t,a=X7(ww,s);return n.jsx(Ks,{present:r||up(a.checked)||a.checked===!0,children:n.jsx(Le.span,{...i,ref:e,"data-state":Nw(a.checked)})})});zF.displayName=ww;var Z7="MenuSeparator",VF=x.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});VF.displayName=Z7;var J7="MenuArrow",qF=x.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t,i=Ix(s);return n.jsx(uw,{...i,...r,ref:e})});qF.displayName=J7;var e9="MenuSub",[Ise,HF]=bl(e9),tu="MenuSubTrigger",WF=x.forwardRef((t,e)=>{const s=wl(tu,t.__scopeMenu),r=am(tu,t.__scopeMenu),i=HF(tu,t.__scopeMenu),a=vw(tu,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(gw,{asChild:!0,...d,children:n.jsx(DF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":QF(s.open),...t,ref:gx(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,Zu(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:ye(t.onPointerLeave,Zu(h=>{var y,b;u();const m=(y=s.content)==null?void 0:y.getBoundingClientRect();if(m){const j=(b=s.content)==null?void 0:b.dataset.side,v=j==="right",p=v?-5:5,f=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+p,y:h.clientY},{x:f,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:f,y:m.bottom}],side:j}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,h=>{var y;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||I7[r.dir].includes(h.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),h.preventDefault())})})})});WF.displayName=tu;var KF="MenuSubContent",GF=x.forwardRef((t,e)=>{const s=AF(cr,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,a=wl(cr,t.__scopeMenu),o=am(cr,t.__scopeMenu),l=HF(KF,t.__scopeMenu),c=x.useRef(null),d=lt(e,c);return n.jsx(Xu.Provider,{scope:t.__scopeMenu,children:n.jsx(Ks,{present:r||a.open,children:n.jsx(Xu.Slot,{scope:t.__scopeMenu,children:n.jsx(jw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ye(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ye(t.onKeyDown,u=>{var y;const h=u.currentTarget.contains(u.target),m=D7[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),u.preventDefault())})})})})})});GF.displayName=KF;function QF(t){return t?"open":"closed"}function up(t){return t==="indeterminate"}function Nw(t){return up(t)?"indeterminate":t?"checked":"unchecked"}function t9(t){const e=document.activeElement;for(const s of t)if(s===e||(s.focus(),document.activeElement!==e))return}function s9(t,e){return t.map((s,r)=>t[(e+r)%t.length])}function n9(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=s9(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function r9(t,e){const{x:s,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(i=!i)}return i}function i9(t,e){if(!e)return!1;const s={x:t.clientX,y:t.clientY};return r9(s,e)}function Zu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var a9=EF,o9=gw,l9=FF,c9=RF,d9=bw,u9=IF,h9=Dx,m9=OF,f9=LF,p9=UF,x9=zF,g9=VF,y9=qF,v9=WF,j9=GF,Sw="DropdownMenu",[b9,Dse]=Ws(Sw,[PF]),jn=PF(),[w9,YF]=b9(Sw),XF=t=>{const{__scopeDropdownMenu:e,children:s,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=jn(e),d=x.useRef(null),[u=!1,h]=Vr({prop:i,defaultProp:a,onChange:o});return n.jsx(w9,{scope:e,triggerId:lr(),triggerRef:d,contentId:lr(),open:u,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(a9,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:s})})};XF.displayName=Sw;var ZF="DropdownMenuTrigger",JF=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=t,a=YF(ZF,s),o=jn(s);return n.jsx(o9,{asChild:!0,...o,children:n.jsx(Le.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:gx(e,a.triggerRef),onPointerDown:ye(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ye(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JF.displayName=ZF;var N9="DropdownMenuPortal",eR=t=>{const{__scopeDropdownMenu:e,...s}=t,r=jn(e);return n.jsx(l9,{...r,...s})};eR.displayName=N9;var tR="DropdownMenuContent",sR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=YF(tR,s),a=jn(s),o=x.useRef(!1);return n.jsx(c9,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sR.displayName=tR;var S9="DropdownMenuGroup",C9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(d9,{...i,...r,ref:e})});C9.displayName=S9;var _9="DropdownMenuLabel",nR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(u9,{...i,...r,ref:e})});nR.displayName=_9;var k9="DropdownMenuItem",rR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(h9,{...i,...r,ref:e})});rR.displayName=k9;var P9="DropdownMenuCheckboxItem",iR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(m9,{...i,...r,ref:e})});iR.displayName=P9;var T9="DropdownMenuRadioGroup",E9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(f9,{...i,...r,ref:e})});E9.displayName=T9;var A9="DropdownMenuRadioItem",aR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(p9,{...i,...r,ref:e})});aR.displayName=A9;var F9="DropdownMenuItemIndicator",oR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(x9,{...i,...r,ref:e})});oR.displayName=F9;var R9="DropdownMenuSeparator",lR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(g9,{...i,...r,ref:e})});lR.displayName=R9;var I9="DropdownMenuArrow",D9=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(y9,{...i,...r,ref:e})});D9.displayName=I9;var O9="DropdownMenuSubTrigger",cR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(v9,{...i,...r,ref:e})});cR.displayName=O9;var M9="DropdownMenuSubContent",dR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=jn(s);return n.jsx(j9,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dR.displayName=M9;var L9=XF,$9=JF,U9=eR,uR=sR,hR=nR,mR=rR,fR=iR,pR=aR,xR=oR,gR=lR,yR=cR,vR=dR;const B9=L9,z9=$9,V9=x.forwardRef(({className:t,inset:e,children:s,...r},i)=>n.jsxs(yR,{ref:i,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[s,n.jsx(K8,{className:"ml-auto"})]}));V9.displayName=yR.displayName;const q9=x.forwardRef(({className:t,...e},s)=>n.jsx(vR,{ref:s,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));q9.displayName=vR.displayName;const jR=x.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(U9,{children:n.jsx(uR,{ref:r,sideOffset:e,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));jR.displayName=uR.displayName;const pa=x.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(mR,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s}));pa.displayName=mR.displayName;const H9=x.forwardRef(({className:t,children:e,checked:s,...r},i)=>n.jsxs(fR,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(xR,{children:n.jsx(Gu,{className:"h-4 w-4"})})}),e]}));H9.displayName=fR.displayName;const W9=x.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(pR,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(xR,{children:n.jsx(Q8,{className:"h-2 w-2 fill-current"})})}),e]}));W9.displayName=pR.displayName;const bR=x.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(hR,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));bR.displayName=hR.displayName;const jf=x.forwardRef(({className:t,...e},s)=>n.jsx(gR,{ref:s,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));jf.displayName=gR.displayName;const K9="/assets/RSFOpaqueLogo_1761494760586-CszXmNPH.png";function G9(){var o;const[t]=Hs(),{user:e}=vn(),s=t==="/rentals"||t.startsWith("/aircraft"),r=t.startsWith("/marketplace"),i=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.email)||"User",a=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`:((o=e==null?void 0:e.email)==null?void 0:o[0].toUpperCase())||"U";return n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8",children:n.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between gap-2 sm:gap-4",children:[n.jsxs(bt,{href:"/",className:"flex items-center gap-1 sm:gap-2 hover-elevate active-elevate-2 rounded-md px-1 sm:px-2 py-1 flex-shrink-0","data-testid":"link-home",children:[n.jsx("img",{src:K9,alt:"Ready Set Fly",className:"h-8 w-8 sm:h-[2.6rem] sm:w-[2.6rem]"}),n.jsx("span",{className:"font-display text-sm sm:text-xl font-bold hidden min-[400px]:inline",children:"Ready Set Fly"})]}),n.jsxs("nav",{className:"flex items-center gap-0.5 sm:gap-1 rounded-full bg-muted p-0.5 sm:p-1",role:"navigation","aria-label":"Main navigation",children:[n.jsx(bt,{href:"/rentals","data-testid":"link-rentals",children:n.jsx($,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${s?"bg-background shadow-sm":""}`,children:"Rentals"})}),n.jsx(bt,{href:"/marketplace","data-testid":"link-marketplace",children:n.jsx($,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${r?"bg-background shadow-sm":""}`,children:"Marketplace"})})]}),n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e&&n.jsx(bt,{href:"/list-aircraft","data-testid":"link-list-aircraft",className:"hidden sm:block",children:n.jsx($,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-list-aircraft",children:"List Your Aircraft"})}),e&&n.jsxs($,{variant:"ghost",size:"icon",className:"relative hidden sm:flex","data-testid":"button-notifications","aria-label":"Notifications",children:[n.jsx(qv,{className:"h-5 w-5"}),n.jsx(Y,{className:"absolute -right-1 -top-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]}),n.jsx(NV,{}),e?n.jsxs(n.Fragment,{children:[e.isSuperAdmin&&n.jsx(Y,{variant:"default",className:"bg-primary text-primary-foreground","data-testid":"badge-super-admin",children:"Super Admin"}),n.jsxs(B9,{children:[n.jsx(z9,{asChild:!0,children:n.jsx($,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-profile-menu","aria-label":"User menu",children:n.jsxs(bi,{className:"h-9 w-9",children:[n.jsx(wi,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:i}),n.jsx(Ni,{children:a})]})})}),n.jsxs(jR,{align:"end",className:"w-56",children:[n.jsx(bR,{children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:i}),(e==null?void 0:e.isSuperAdmin)&&n.jsx(Y,{variant:"default",className:"text-xs h-5 bg-primary text-primary-foreground",children:"Super Admin"})]}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email})]})}),n.jsx(jf,{}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/dashboard","data-testid":"link-dashboard",children:"Dashboard"})}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/profile","data-testid":"link-profile",children:"Profile"})}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/my-listings","data-testid":"link-my-listings",children:"My Listings"})}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/messages","data-testid":"link-messages",children:"Messages"})}),(e==null?void 0:e.isAdmin)&&n.jsxs(n.Fragment,{children:[n.jsx(jf,{}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/admin","data-testid":"link-admin",className:"text-primary font-medium",children:" Admin Dashboard"})})]}),n.jsx(jf,{}),n.jsx(pa,{asChild:!0,children:n.jsx(bt,{href:"/settings","data-testid":"link-settings",children:"Settings"})}),n.jsx(pa,{asChild:!0,children:n.jsxs("a",{href:"/api/logout","data-testid":"button-logout",children:[n.jsx(J8,{className:"mr-2 h-4 w-4"}),"Log out"]})})]})]})]}):n.jsx(bt,{href:"/login",children:n.jsx($,{variant:"default","data-testid":"button-login",children:"Sign In"})})]})]})})})}var om=t=>t.type==="checkbox",Eo=t=>t instanceof Date,hn=t=>t==null;const wR=t=>typeof t=="object";var fs=t=>!hn(t)&&!Array.isArray(t)&&wR(t)&&!Eo(t),NR=t=>fs(t)&&t.target?om(t.target)?t.target.checked:t.target.value:t,Q9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,SR=(t,e)=>t.has(Q9(e)),Y9=t=>{const e=t.constructor&&t.constructor.prototype;return fs(e)&&e.hasOwnProperty("isPrototypeOf")},Cw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Us(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Cw&&(t instanceof Blob||r))&&(s||fs(t)))if(e=s?[]:{},!s&&!Y9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Us(t[i]));else return t;return e}var Ox=t=>Array.isArray(t)?t.filter(Boolean):[],ds=t=>t===void 0,ke=(t,e,s)=>{if(!e||!fs(t))return s;const r=Ox(e.split(/[,[\].]+?/)).reduce((i,a)=>hn(i)?i:i[a],t);return ds(r)||r===t?ds(t[e])?s:t[e]:r},On=t=>typeof t=="boolean",_w=t=>/^\w*$/.test(t),CR=t=>Ox(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(t,e,s)=>{let r=-1;const i=_w(e)?[e]:CR(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const d=t[l];c=fs(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const hp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_R=at.createContext(null),Mx=()=>at.useContext(_R),X9=t=>{const{children:e,...s}=t;return at.createElement(_R.Provider,{value:s},e)};var kR=(t,e,s,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Rr.all&&(e._proxyFormState[o]=!r||Rr.all),s&&(s[o]=!0),t[o]}});return i};function Z9(t){const e=Mx(),{control:s=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=at.useState(s._formState),c=at.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=at.useRef(i);return d.current=i,at.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!r&&l({...s._formState,...u})}}),[s,r,a]),at.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),at.useMemo(()=>kR(o,s,c.current,!1),[o,s])}var mi=t=>typeof t=="string",PR=(t,e,s,r,i)=>mi(t)?(r&&e.watch.add(t),ke(s,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),ke(s,a))):(r&&(e.watchAll=!0),s);function J9(t){const e=Mx(),{control:s=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t||{},l=at.useRef(r),c=at.useRef(i);l.current=r,at.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(PR(l.current,s._names,h.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,u]=at.useState(s._getWatch(r,i));return at.useEffect(()=>s._removeUnmounted()),d}function eq(t){const e=Mx(),{name:s,disabled:r,control:i=e.control,shouldUnregister:a}=t,o=SR(i._names.array,s),l=J9({control:i,name:s,defaultValue:ke(i._formValues,s,ke(i._defaultValues,s,t.defaultValue)),exact:!0}),c=Z9({control:i,name:s,exact:!0}),d=at.useRef(t),u=at.useRef(i.register(s,{...t.rules,value:l,...On(t.disabled)?{disabled:t.disabled}:{}})),h=at.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,s)},error:{enumerable:!0,get:()=>ke(c.errors,s)}}),[c,s]),m=at.useCallback(v=>u.current.onChange({target:{value:NR(v),name:s},type:hp.CHANGE}),[s]),y=at.useCallback(()=>u.current.onBlur({target:{value:ke(i._formValues,s),name:s},type:hp.BLUR}),[s,i._formValues]),b=at.useCallback(v=>{const p=ke(i._fields,s);p&&v&&(p._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:f=>v.setCustomValidity(f),reportValidity:()=>v.reportValidity()})},[i._fields,s]),j=at.useMemo(()=>({name:s,value:l,...On(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:y,ref:b}),[s,r,c.disabled,m,y,b,l]);return at.useEffect(()=>{const v=i._options.shouldUnregister||a;i.register(s,{...d.current.rules,...On(d.current.disabled)?{disabled:d.current.disabled}:{}});const p=(f,w)=>{const S=ke(i._fields,f);S&&S._f&&(S._f.mount=w)};if(p(s,!0),v){const f=Us(ke(i._options.defaultValues,s));_t(i._defaultValues,s,f),ds(ke(i._formValues,s))&&_t(i._formValues,s,f)}return!o&&i.register(s),()=>{(o?v&&!i._state.action:v)?i.unregister(s):p(s,!1)}},[s,i,o,a]),at.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),at.useMemo(()=>({field:j,formState:c,fieldState:h}),[j,c,h])}const tq=t=>t.render(eq(t));var TR=(t,e,s,r,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:i||!0}}:{},wu=t=>Array.isArray(t)?t:[t],xS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ej=t=>hn(t)||!wR(t);function Na(t,e){if(ej(t)||ej(e))return t===e;if(Eo(t)&&Eo(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Eo(a)&&Eo(o)||fs(a)&&fs(o)||Array.isArray(a)&&Array.isArray(o)?!Na(a,o):a!==o)return!1}}return!0}var dn=t=>fs(t)&&!Object.keys(t).length,kw=t=>t.type==="file",Ir=t=>typeof t=="function",mp=t=>{if(!Cw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ER=t=>t.type==="select-multiple",Pw=t=>t.type==="radio",sq=t=>Pw(t)||om(t),dy=t=>mp(t)&&t.isConnected;function nq(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=ds(t)?r++:t[e[r++]];return t}function rq(t){for(const e in t)if(t.hasOwnProperty(e)&&!ds(t[e]))return!1;return!0}function Cs(t,e){const s=Array.isArray(e)?e:_w(e)?[e]:CR(e),r=s.length===1?t:nq(t,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(fs(r)&&dn(r)||Array.isArray(r)&&rq(r))&&Cs(t,s.slice(0,-1)),t}var AR=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function fp(t,e={}){const s=Array.isArray(t);if(fs(t)||s)for(const r in t)Array.isArray(t[r])||fs(t[r])&&!AR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},fp(t[r],e[r])):hn(t[r])||(e[r]=!0);return e}function FR(t,e,s){const r=Array.isArray(t);if(fs(t)||r)for(const i in t)Array.isArray(t[i])||fs(t[i])&&!AR(t[i])?ds(e)||ej(s[i])?s[i]=Array.isArray(t[i])?fp(t[i],[]):{...fp(t[i])}:FR(t[i],hn(e)?{}:e[i],s[i]):s[i]=!Na(t[i],e[i]);return s}var $d=(t,e)=>FR(t,e,fp(e));const gS={value:!1,isValid:!1},yS={value:!0,isValid:!0};var RR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ds(t[0].attributes.value)?ds(t[0].value)||t[0].value===""?yS:{value:t[0].value,isValid:!0}:yS:gS}return gS},IR=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>ds(t)?t:e?t===""?NaN:t&&+t:s&&mi(t)?new Date(t):r?r(t):t;const vS={isValid:!1,value:null};var DR=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,vS):vS;function jS(t){const e=t.ref;return kw(e)?e.files:Pw(e)?DR(t.refs).value:ER(e)?[...e.selectedOptions].map(({value:s})=>s):om(e)?RR(t.refs).value:IR(ds(e.value)?t.ref.value:e.value,t)}var iq=(t,e,s,r)=>{const i={};for(const a of t){const o=ke(e,a);o&&_t(i,a,o._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:r}},pp=t=>t instanceof RegExp,Ud=t=>ds(t)?t:pp(t)?t.source:fs(t)?pp(t.value)?t.value.source:t.value:t,bS=t=>({isOnSubmit:!t||t===Rr.onSubmit,isOnBlur:t===Rr.onBlur,isOnChange:t===Rr.onChange,isOnAll:t===Rr.all,isOnTouch:t===Rr.onTouched});const wS="AsyncFunction";var aq=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===wS||fs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wS)),oq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),NS=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nu=(t,e,s,r)=>{for(const i of s||Object.keys(t)){const a=ke(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Nu(l,e))break}else if(fs(l)&&Nu(l,e))break}}};function SS(t,e,s){const r=ke(t,s);if(r||_w(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=ke(e,a),l=ke(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var lq=(t,e,s,r)=>{s(t);const{name:i,...a}=t;return dn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Rr.all))},cq=(t,e,s)=>!t||!e||t===e||wu(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),dq=(t,e,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?r.isOnBlur:i.isOnBlur)?!t:(s?r.isOnChange:i.isOnChange)?t:!0,uq=(t,e)=>!Ox(ke(t,e)).length&&Cs(t,e),hq=(t,e,s)=>{const r=wu(ke(t,s));return _t(r,"root",e[s]),_t(t,s,r),t},bf=t=>mi(t);function CS(t,e,s="validate"){if(bf(t)||Array.isArray(t)&&t.every(bf)||On(t)&&!t)return{type:s,message:bf(t)?t:"",ref:e}}var Ml=t=>fs(t)&&!pp(t)?t:{value:t,message:""},_S=async(t,e,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:y,validate:b,name:j,valueAsNumber:v,mount:p}=t._f,f=ke(s,j);if(!p||e.has(j))return{};const w=l?l[0]:o,S=B=>{i&&w.reportValidity&&(w.setCustomValidity(On(B)?"":B||""),w.reportValidity())},k={},C=Pw(o),_=om(o),T=C||_,R=(v||kw(o))&&ds(o.value)&&ds(f)||mp(o)&&o.value===""||f===""||Array.isArray(f)&&!f.length,D=TR.bind(null,j,r,k),L=(B,ee,W,se=Ai.maxLength,A=Ai.minLength)=>{const K=B?ee:W;k[j]={type:B?se:A,message:K,ref:o,...D(B?se:A,K)}};if(a?!Array.isArray(f)||!f.length:c&&(!T&&(R||hn(f))||On(f)&&!f||_&&!RR(l).isValid||C&&!DR(l).isValid)){const{value:B,message:ee}=bf(c)?{value:!!c,message:c}:Ml(c);if(B&&(k[j]={type:Ai.required,message:ee,ref:w,...D(Ai.required,ee)},!r))return S(ee),k}if(!R&&(!hn(h)||!hn(m))){let B,ee;const W=Ml(m),se=Ml(h);if(!hn(f)&&!isNaN(f)){const A=o.valueAsNumber||f&&+f;hn(W.value)||(B=A>W.value),hn(se.value)||(ee=A<se.value)}else{const A=o.valueAsDate||new Date(f),K=O=>new Date(new Date().toDateString()+" "+O),M=o.type=="time",F=o.type=="week";mi(W.value)&&f&&(B=M?K(f)>K(W.value):F?f>W.value:A>new Date(W.value)),mi(se.value)&&f&&(ee=M?K(f)<K(se.value):F?f<se.value:A<new Date(se.value))}if((B||ee)&&(L(!!B,W.message,se.message,Ai.max,Ai.min),!r))return S(k[j].message),k}if((d||u)&&!R&&(mi(f)||a&&Array.isArray(f))){const B=Ml(d),ee=Ml(u),W=!hn(B.value)&&f.length>+B.value,se=!hn(ee.value)&&f.length<+ee.value;if((W||se)&&(L(W,B.message,ee.message),!r))return S(k[j].message),k}if(y&&!R&&mi(f)){const{value:B,message:ee}=Ml(y);if(pp(B)&&!f.match(B)&&(k[j]={type:Ai.pattern,message:ee,ref:o,...D(Ai.pattern,ee)},!r))return S(ee),k}if(b){if(Ir(b)){const B=await b(f,s),ee=CS(B,w);if(ee&&(k[j]={...ee,...D(Ai.validate,ee.message)},!r))return S(ee.message),k}else if(fs(b)){let B={};for(const ee in b){if(!dn(B)&&!r)break;const W=CS(await b[ee](f,s),w,ee);W&&(B={...W,...D(ee,W.message)},S(W.message),r&&(k[j]=B))}if(!dn(B)&&(k[j]={ref:w,...B},!r))return k}}return S(!0),k};const mq={mode:Rr.onSubmit,reValidateMode:Rr.onChange,shouldFocusError:!0};function fq(t={}){let e={...mq,...t},s={submitCount:0,isDirty:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=fs(e.defaultValues)||fs(e.values)?Us(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Us(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:xS(),state:xS()},y=bS(e.mode),b=bS(e.reValidateMode),j=e.criteriaMode===Rr.all,v=I=>H=>{clearTimeout(d),d=setTimeout(I,H)},p=async I=>{if(!e.disabled&&(u.isValid||h.isValid||I)){const H=e.resolver?dn((await R()).errors):await L(r,!0);H!==s.isValid&&m.state.next({isValid:H})}},f=(I,H)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((I||Array.from(l.mount)).forEach(ie=>{ie&&(H?_t(s.validatingFields,ie,H):Cs(s.validatingFields,ie))}),m.state.next({validatingFields:s.validatingFields,isValidating:!dn(s.validatingFields)}))},w=(I,H=[],ie,Se,be=!0,xe=!0)=>{if(Se&&ie&&!e.disabled){if(o.action=!0,xe&&Array.isArray(ke(r,I))){const Ae=ie(ke(r,I),Se.argA,Se.argB);be&&_t(r,I,Ae)}if(xe&&Array.isArray(ke(s.errors,I))){const Ae=ie(ke(s.errors,I),Se.argA,Se.argB);be&&_t(s.errors,I,Ae),uq(s.errors,I)}if((u.touchedFields||h.touchedFields)&&xe&&Array.isArray(ke(s.touchedFields,I))){const Ae=ie(ke(s.touchedFields,I),Se.argA,Se.argB);be&&_t(s.touchedFields,I,Ae)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=$d(i,a)),m.state.next({name:I,isDirty:ee(I,H),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else _t(a,I,H)},S=(I,H)=>{_t(s.errors,I,H),m.state.next({errors:s.errors})},k=I=>{s.errors=I,m.state.next({errors:s.errors,isValid:!1})},C=(I,H,ie,Se)=>{const be=ke(r,I);if(be){const xe=ke(a,I,ds(ie)?ke(i,I):ie);ds(xe)||Se&&Se.defaultChecked||H?_t(a,I,H?xe:jS(be._f)):A(I,xe),o.mount&&p()}},_=(I,H,ie,Se,be)=>{let xe=!1,Ae=!1;const ht={name:I};if(!e.disabled){if(!ie||Se){(u.isDirty||h.isDirty)&&(Ae=s.isDirty,s.isDirty=ht.isDirty=ee(),xe=Ae!==ht.isDirty);const st=Na(ke(i,I),H);Ae=!!ke(s.dirtyFields,I),st?Cs(s.dirtyFields,I):_t(s.dirtyFields,I,!0),ht.dirtyFields=s.dirtyFields,xe=xe||(u.dirtyFields||h.dirtyFields)&&Ae!==!st}if(ie){const st=ke(s.touchedFields,I);st||(_t(s.touchedFields,I,ie),ht.touchedFields=s.touchedFields,xe=xe||(u.touchedFields||h.touchedFields)&&st!==ie)}xe&&be&&m.state.next(ht)}return xe?ht:{}},T=(I,H,ie,Se)=>{const be=ke(s.errors,I),xe=(u.isValid||h.isValid)&&On(H)&&s.isValid!==H;if(e.delayError&&ie?(c=v(()=>S(I,ie)),c(e.delayError)):(clearTimeout(d),c=null,ie?_t(s.errors,I,ie):Cs(s.errors,I)),(ie?!Na(be,ie):be)||!dn(Se)||xe){const Ae={...Se,...xe&&On(H)?{isValid:H}:{},errors:s.errors,name:I};s={...s,...Ae},m.state.next(Ae)}},R=async I=>{f(I,!0);const H=await e.resolver(a,e.context,iq(I||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return f(I),H},D=async I=>{const{errors:H}=await R(I);if(I)for(const ie of I){const Se=ke(H,ie);Se?_t(s.errors,ie,Se):Cs(s.errors,ie)}else s.errors=H;return H},L=async(I,H,ie={valid:!0})=>{for(const Se in I){const be=I[Se];if(be){const{_f:xe,...Ae}=be;if(xe){const ht=l.array.has(xe.name),st=be._f&&aq(be._f);st&&u.validatingFields&&f([Se],!0);const pt=await _S(be,l.disabled,a,j,e.shouldUseNativeValidation&&!H,ht);if(st&&u.validatingFields&&f([Se]),pt[xe.name]&&(ie.valid=!1,H))break;!H&&(ke(pt,xe.name)?ht?hq(s.errors,pt,xe.name):_t(s.errors,xe.name,pt[xe.name]):Cs(s.errors,xe.name))}!dn(Ae)&&await L(Ae,H,ie)}}return ie.valid},B=()=>{for(const I of l.unMount){const H=ke(r,I);H&&(H._f.refs?H._f.refs.every(ie=>!dy(ie)):!dy(H._f.ref))&&Ge(I)}l.unMount=new Set},ee=(I,H)=>!e.disabled&&(I&&H&&_t(a,I,H),!Na(_e(),i)),W=(I,H,ie)=>PR(I,l,{...o.mount?a:ds(H)?i:mi(I)?{[I]:H}:H},ie,H),se=I=>Ox(ke(o.mount?a:i,I,e.shouldUnregister?ke(i,I,[]):[])),A=(I,H,ie={})=>{const Se=ke(r,I);let be=H;if(Se){const xe=Se._f;xe&&(!xe.disabled&&_t(a,I,IR(H,xe)),be=mp(xe.ref)&&hn(H)?"":H,ER(xe.ref)?[...xe.ref.options].forEach(Ae=>Ae.selected=be.includes(Ae.value)):xe.refs?om(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ae=>(!Ae.defaultChecked||!Ae.disabled)&&(Ae.checked=Array.isArray(be)?!!be.find(ht=>ht===Ae.value):be===Ae.value)):xe.refs[0]&&(xe.refs[0].checked=!!be):xe.refs.forEach(Ae=>Ae.checked=Ae.value===be):kw(xe.ref)?xe.ref.value="":(xe.ref.value=be,xe.ref.type||m.state.next({name:I,values:Us(a)})))}(ie.shouldDirty||ie.shouldTouch)&&_(I,be,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&he(I)},K=(I,H,ie)=>{for(const Se in H){const be=H[Se],xe=`${I}.${Se}`,Ae=ke(r,xe);(l.array.has(I)||fs(be)||Ae&&!Ae._f)&&!Eo(be)?K(xe,be,ie):A(xe,be,ie)}},M=(I,H,ie={})=>{const Se=ke(r,I),be=l.array.has(I),xe=Us(H);_t(a,I,xe),be?(m.array.next({name:I,values:Us(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ie.shouldDirty&&m.state.next({name:I,dirtyFields:$d(i,a),isDirty:ee(I,xe)})):Se&&!Se._f&&!hn(xe)?K(I,xe,ie):A(I,xe,ie),NS(I,l)&&m.state.next({...s}),m.state.next({name:o.mount?I:void 0,values:Us(a)})},F=async I=>{o.mount=!0;const H=I.target;let ie=H.name,Se=!0;const be=ke(r,ie),xe=Ae=>{Se=Number.isNaN(Ae)||Eo(Ae)&&isNaN(Ae.getTime())||Na(Ae,ke(a,ie,Ae))};if(be){let Ae,ht;const st=H.type?jS(be._f):NR(I),pt=I.type===hp.BLUR||I.type===hp.FOCUS_OUT,Kn=!oq(be._f)&&!e.resolver&&!ke(s.errors,ie)&&!be._f.deps||dq(pt,ke(s.touchedFields,ie),s.isSubmitted,b,y),pr=NS(ie,l,pt);_t(a,ie,st),pt?(be._f.onBlur&&be._f.onBlur(I),c&&c(0)):be._f.onChange&&be._f.onChange(I);const oa=_(ie,st,pt),Sl=!dn(oa)||pr;if(!pt&&m.state.next({name:ie,type:I.type,values:Us(a)}),Kn)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?pt&&p():pt||p()),Sl&&m.state.next({name:ie,...pr?{}:oa});if(!pt&&pr&&m.state.next({...s}),e.resolver){const{errors:Qs}=await R([ie]);if(xe(st),Se){const Mt=SS(s.errors,r,ie),ts=SS(Qs,r,Mt.name||ie);Ae=ts.error,ie=ts.name,ht=dn(Qs)}}else f([ie],!0),Ae=(await _S(be,l.disabled,a,j,e.shouldUseNativeValidation))[ie],f([ie]),xe(st),Se&&(Ae?ht=!1:(u.isValid||h.isValid)&&(ht=await L(r,!0)));Se&&(be._f.deps&&he(be._f.deps),T(ie,ht,Ae,oa))}},O=(I,H)=>{if(ke(s.errors,H)&&I.focus)return I.focus(),1},he=async(I,H={})=>{let ie,Se;const be=wu(I);if(e.resolver){const xe=await D(ds(I)?I:be);ie=dn(xe),Se=I?!be.some(Ae=>ke(xe,Ae)):ie}else I?(Se=(await Promise.all(be.map(async xe=>{const Ae=ke(r,xe);return await L(Ae&&Ae._f?{[xe]:Ae}:Ae)}))).every(Boolean),!(!Se&&!s.isValid)&&p()):Se=ie=await L(r);return m.state.next({...!mi(I)||(u.isValid||h.isValid)&&ie!==s.isValid?{}:{name:I},...e.resolver||!I?{isValid:ie}:{},errors:s.errors}),H.shouldFocus&&!Se&&Nu(r,O,I?be:l.mount),Se},_e=I=>{const H={...o.mount?a:i};return ds(I)?H:mi(I)?ke(H,I):I.map(ie=>ke(H,ie))},tt=(I,H)=>({invalid:!!ke((H||s).errors,I),isDirty:!!ke((H||s).dirtyFields,I),error:ke((H||s).errors,I),isValidating:!!ke(s.validatingFields,I),isTouched:!!ke((H||s).touchedFields,I)}),Ze=I=>{I&&wu(I).forEach(H=>Cs(s.errors,H)),m.state.next({errors:I?s.errors:{}})},St=(I,H,ie)=>{const Se=(ke(r,I,{_f:{}})._f||{}).ref,be=ke(s.errors,I)||{},{ref:xe,message:Ae,type:ht,...st}=be;_t(s.errors,I,{...st,...H,ref:Se}),m.state.next({name:I,errors:s.errors,isValid:!1}),ie&&ie.shouldFocus&&Se&&Se.focus&&Se.focus()},ft=(I,H)=>Ir(I)?m.state.subscribe({next:ie=>I(W(void 0,H),ie)}):W(I,H,!0),je=I=>m.state.subscribe({next:H=>{cq(I.name,H.name,I.exact)&&lq(H,I.formState||u,as,I.reRenderRoot)&&I.callback({values:{...a},...s,...H})}}).unsubscribe,Be=I=>(o.mount=!0,h={...h,...I.formState},je({...I,formState:h})),Ge=(I,H={})=>{for(const ie of I?wu(I):l.mount)l.mount.delete(ie),l.array.delete(ie),H.keepValue||(Cs(r,ie),Cs(a,ie)),!H.keepError&&Cs(s.errors,ie),!H.keepDirty&&Cs(s.dirtyFields,ie),!H.keepTouched&&Cs(s.touchedFields,ie),!H.keepIsValidating&&Cs(s.validatingFields,ie),!e.shouldUnregister&&!H.keepDefaultValue&&Cs(i,ie);m.state.next({values:Us(a)}),m.state.next({...s,...H.keepDirty?{isDirty:ee()}:{}}),!H.keepIsValid&&p()},Qe=({disabled:I,name:H})=>{(On(I)&&o.mount||I||l.disabled.has(H))&&(I?l.disabled.add(H):l.disabled.delete(H))},Oe=(I,H={})=>{let ie=ke(r,I);const Se=On(H.disabled)||On(e.disabled);return _t(r,I,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:I}},name:I,mount:!0,...H}}),l.mount.add(I),ie?Qe({disabled:On(H.disabled)?H.disabled:e.disabled,name:I}):C(I,!0,H.value),{...Se?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Ud(H.min),max:Ud(H.max),minLength:Ud(H.minLength),maxLength:Ud(H.maxLength),pattern:Ud(H.pattern)}:{},name:I,onChange:F,onBlur:F,ref:be=>{if(be){Oe(I,H),ie=ke(r,I);const xe=ds(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Ae=sq(xe),ht=ie._f.refs||[];if(Ae?ht.find(st=>st===xe):xe===ie._f.ref)return;_t(r,I,{_f:{...ie._f,...Ae?{refs:[...ht.filter(dy),xe,...Array.isArray(ke(i,I))?[{}]:[]],ref:{type:xe.type,name:I}}:{ref:xe}}}),C(I,!1,void 0,xe)}else ie=ke(r,I,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(SR(l.array,I)&&o.action)&&l.unMount.add(I)}}},fe=()=>e.shouldFocusError&&Nu(r,O,l.mount),qe=I=>{On(I)&&(m.state.next({disabled:I}),Nu(r,(H,ie)=>{const Se=ke(r,ie);Se&&(H.disabled=Se._f.disabled||I,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(be=>{be.disabled=Se._f.disabled||I}))},0,!1))},nt=(I,H)=>async ie=>{let Se;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let be=Us(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:xe,values:Ae}=await R();s.errors=xe,be=Ae}else await L(r);if(l.disabled.size)for(const xe of l.disabled)_t(be,xe,void 0);if(Cs(s.errors,"root"),dn(s.errors)){m.state.next({errors:{}});try{await I(be,ie)}catch(xe){Se=xe}}else H&&await H({...s.errors},ie),fe(),setTimeout(fe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dn(s.errors)&&!Se,submitCount:s.submitCount+1,errors:s.errors}),Se)throw Se},Dt=(I,H={})=>{ke(r,I)&&(ds(H.defaultValue)?M(I,Us(ke(i,I))):(M(I,H.defaultValue),_t(i,I,Us(H.defaultValue))),H.keepTouched||Cs(s.touchedFields,I),H.keepDirty||(Cs(s.dirtyFields,I),s.isDirty=H.defaultValue?ee(I,Us(ke(i,I))):ee()),H.keepError||(Cs(s.errors,I),u.isValid&&p()),m.state.next({...s}))},Kt=(I,H={})=>{const ie=I?Us(I):i,Se=Us(ie),be=dn(I),xe=be?i:Se;if(H.keepDefaultValues||(i=ie),!H.keepValues){if(H.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys($d(i,a))]);for(const ht of Array.from(Ae))ke(s.dirtyFields,ht)?_t(xe,ht,ke(a,ht)):M(ht,ke(xe,ht))}else{if(Cw&&ds(I))for(const Ae of l.mount){const ht=ke(r,Ae);if(ht&&ht._f){const st=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(mp(st)){const pt=st.closest("form");if(pt){pt.reset();break}}}}for(const Ae of l.mount)M(Ae,ke(xe,Ae))}a=Us(xe),m.array.next({values:{...xe}}),m.state.next({values:{...xe}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:H.keepSubmitCount?s.submitCount:0,isDirty:be?!1:H.keepDirty?s.isDirty:!!(H.keepDefaultValues&&!Na(I,i)),isSubmitted:H.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:be?{}:H.keepDirtyValues?H.keepDefaultValues&&a?$d(i,a):s.dirtyFields:H.keepDefaultValues&&I?$d(i,I):H.keepDirty?s.dirtyFields:{},touchedFields:H.keepTouched?s.touchedFields:{},errors:H.keepErrors?s.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Ot=(I,H)=>Kt(Ir(I)?I(a):I,H),bn=(I,H={})=>{const ie=ke(r,I),Se=ie&&ie._f;if(Se){const be=Se.refs?Se.refs[0]:Se.ref;be.focus&&(be.focus(),H.shouldSelect&&Ir(be.select)&&be.select())}},as=I=>{s={...s,...I}},Gs={control:{register:Oe,unregister:Ge,getFieldState:tt,handleSubmit:nt,setError:St,_subscribe:je,_runSchema:R,_getWatch:W,_getDirty:ee,_setValid:p,_setFieldArray:w,_setDisabledField:Qe,_setErrors:k,_getFieldArray:se,_reset:Kt,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(I=>{Ot(I,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:qe,_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(I){o=I},get _defaultValues(){return i},get _names(){return l},set _names(I){l=I},get _formState(){return s},get _options(){return e},set _options(I){e={...e,...I}}},subscribe:Be,trigger:he,register:Oe,handleSubmit:nt,watch:ft,setValue:M,getValues:_e,reset:Ot,resetField:Dt,clearErrors:Ze,unregister:Ge,setError:St,setFocus:bn,getFieldState:tt};return{...Gs,formControl:Gs}}function Ln(t={}){const e=at.useRef(void 0),s=at.useRef(void 0),[r,i]=at.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:fq(t),formState:r},t.formControl&&t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,at.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),at.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),at.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),at.useEffect(()=>{t.values&&!Na(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),at.useEffect(()=>{t.errors&&!dn(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),at.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),at.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=kR(r,a),e.current}const kS=(t,e,s)=>{if(t&&"reportValidity"in t){const r=ke(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},OR=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?kS(r.ref,s,t):r.refs&&r.refs.forEach(i=>kS(i,s,t))}},pq=(t,e)=>{e.shouldUseNativeValidation&&OR(t,e);const s={};for(const r in t){const i=ke(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(xq(e.names||Object.keys(t),r)){const o=Object.assign({},ke(s,r));_t(o,"root",a),_t(s,r,o)}else _t(s,r,a)}return s},xq=(t,e)=>t.some(s=>s.startsWith(e+"."));var gq=function(t,e){for(var s={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=TR(o,e,s,i,d?[].concat(d,r.message):r.message)}t.shift()}return s},$n=function(t,e,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&OR({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:pq(gq(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},yt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function s(i){throw new Error}t.assertNever=s,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(yt||(yt={}));var tj;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(tj||(tj={}));const Ee=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=t=>{switch(typeof t){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(t)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(t)?Ee.array:t===null?Ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ee.promise:typeof Map<"u"&&t instanceof Map?Ee.map:typeof Set<"u"&&t instanceof Set?Ee.set:typeof Date<"u"&&t instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},me=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yq=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Vn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Vn.create=t=>new Vn(t);const ad=(t,e)=>{let s;switch(t.code){case me.invalid_type:t.received===Ee.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,yt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:s=`Unrecognized key(s) in object: ${yt.joinValues(t.keys,", ")}`;break;case me.invalid_union:s="Invalid input";break;case me.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${yt.joinValues(t.options)}`;break;case me.invalid_enum_value:s=`Invalid enum value. Expected ${yt.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:s="Invalid function arguments";break;case me.invalid_return_type:s="Invalid function return type";break;case me.invalid_date:s="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:yt.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case me.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case me.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case me.custom:s="Invalid input";break;case me.invalid_intersection_types:s="Intersection results could not be merged";break;case me.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:s="Number must be finite";break;default:s=e.defaultError,yt.assertNever(t)}return{message:s}};let MR=ad;function vq(t){MR=t}function xp(){return MR}const gp=t=>{const{data:e,path:s,errorMaps:r,issueData:i}=t,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},jq=[];function Pe(t,e){const s=xp(),r=gp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===ad?void 0:ad].filter(i=>!!i)});t.common.issues.push(r)}class rn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const i of s){if(i.status==="aborted")return He;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return rn.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return He;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),ec=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),sj=t=>t.status==="aborted",nj=t=>t.status==="dirty",dl=t=>t.status==="valid",Ju=t=>typeof Promise<"u"&&t instanceof Promise;var Ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ue||(Ue={}));class Si{constructor(e,s,r,i){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PS=(t,e)=>{if(dl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Vn(t.common.issues);return this._error=s,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:i}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:i}}class ut{get description(){return this._def.description}_getType(e){return Mi(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rn,ctx:{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Ju(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return PS(r,i)}"~validate"(e){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return dl(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>dl(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Ju(i)?i:Promise.resolve(i));return PS(r,a)}refine(e,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(e){return new Wr({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return yi.create(this,this._def)}nullable(){return to.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ur.create(this)}promise(){return ld.create(this,this._def)}or(e){return nh.create([this,e],this._def)}and(e){return rh.create(this,e,this._def)}transform(e){return new Wr({...ot(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new ch({...ot(this._def),innerType:this,defaultValue:s,typeName:Ke.ZodDefault})}brand(){return new Tw({typeName:Ke.ZodBranded,type:this,...ot(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new dh({...ot(this._def),innerType:this,catchValue:s,typeName:Ke.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return lm.create(this,e)}readonly(){return uh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bq=/^c[^\s-]{8,}$/i,wq=/^[0-9a-z]+$/,Nq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cq=/^[a-z0-9_-]{21}$/i,_q=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uy;const Eq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Aq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Fq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Iq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Oq=new RegExp(`^${LR}$`);function $R(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function Mq(t){return new RegExp(`^${$R(t)}$`)}function UR(t){let e=`${LR}T${$R(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Lq(t,e){return!!((e==="v4"||!e)&&Eq.test(t)||(e==="v6"||!e)&&Fq.test(t))}function $q(t,e){if(!_q.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Uq(t,e){return!!((e==="v4"||!e)&&Aq.test(t)||(e==="v6"||!e)&&Rq.test(t))}class Mr extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ee.string){const a=this._getOrReturnCtx(e);return Pe(a,{code:me.invalid_type,expected:Ee.string,received:a.parsedType}),He}const r=new rn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Pe(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Pq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")uy||(uy=new RegExp(Tq,"u")),uy.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Sq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Cq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"nanoid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")bq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")wq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Nq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:me.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:me.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?UR(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Oq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Mq(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?kq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"duration",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Lq(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?$q(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"jwt",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Uq(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cidr",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Iq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Dq.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64url",code:me.invalid_string,message:a.message}),r.dirty()):yt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(i=>e.test(i),{validation:s,code:me.invalid_string,...Ue.errToObj(r)})}_addCheck(e){return new Mr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ue.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ue.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Ue.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...Ue.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Ue.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Ue.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Ue.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Ue.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Ue.errToObj(s)})}nonempty(e){return this.min(1,Ue.errToObj(e))}trim(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Mr.create=t=>new Mr({checks:[],typeName:Ke.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});function Bq(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Za extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ee.number){const a=this._getOrReturnCtx(e);return Pe(a,{code:me.invalid_type,expected:Ee.number,received:a.parsedType}),He}let r;const i=new rn;for(const a of this._def.checks)a.kind==="int"?yt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Bq(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.not_finite,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Ue.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Ue.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Ue.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Ue.toString(s))}setLimit(e,s,r,i){return new Za({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Ue.toString(i)}]})}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yt.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Za.create=t=>new Za({checks:[],typeName:Ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Ja extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ee.bigint)return this._getInvalidInput(e);let r;const i=new rn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return Pe(s,{code:me.invalid_type,expected:Ee.bigint,received:s.parsedType}),He}gte(e,s){return this.setLimit("min",e,!0,Ue.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Ue.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Ue.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Ue.toString(s))}setLimit(e,s,r,i){return new Ja({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Ue.toString(i)}]})}_addCheck(e){return new Ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ja.create=t=>new Ja({checks:[],typeName:Ke.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ot(t)});class eh extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ee.boolean){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.boolean,received:r.parsedType}),He}return xn(e.data)}}eh.create=t=>new eh({typeName:Ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class ul extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ee.date){const a=this._getOrReturnCtx(e);return Pe(a,{code:me.invalid_type,expected:Ee.date,received:a.parsedType}),He}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Pe(a,{code:me.invalid_date}),He}const r=new rn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):yt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Ue.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Ue.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}ul.create=t=>new ul({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ke.ZodDate,...ot(t)});class yp extends ut{_parse(e){if(this._getType(e)!==Ee.symbol){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.symbol,received:r.parsedType}),He}return xn(e.data)}}yp.create=t=>new yp({typeName:Ke.ZodSymbol,...ot(t)});class th extends ut{_parse(e){if(this._getType(e)!==Ee.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.undefined,received:r.parsedType}),He}return xn(e.data)}}th.create=t=>new th({typeName:Ke.ZodUndefined,...ot(t)});class sh extends ut{_parse(e){if(this._getType(e)!==Ee.null){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.null,received:r.parsedType}),He}return xn(e.data)}}sh.create=t=>new sh({typeName:Ke.ZodNull,...ot(t)});class od extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}od.create=t=>new od({typeName:Ke.ZodAny,...ot(t)});class Zo extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}Zo.create=t=>new Zo({typeName:Ke.ZodUnknown,...ot(t)});class na extends ut{_parse(e){const s=this._getOrReturnCtx(e);return Pe(s,{code:me.invalid_type,expected:Ee.never,received:s.parsedType}),He}}na.create=t=>new na({typeName:Ke.ZodNever,...ot(t)});class vp extends ut{_parse(e){if(this._getType(e)!==Ee.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.void,received:r.parsedType}),He}return xn(e.data)}}vp.create=t=>new vp({typeName:Ke.ZodVoid,...ot(t)});class Ur extends ut{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),i=this._def;if(s.parsedType!==Ee.array)return Pe(s,{code:me.invalid_type,expected:Ee.array,received:s.parsedType}),He;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(Pe(s,{code:o?me.too_big:me.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Pe(s,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Pe(s,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new Si(s,o,s.path,l)))).then(o=>rn.mergeArray(r,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new Si(s,o,s.path,l)));return rn.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Ur({...this._def,minLength:{value:e,message:Ue.toString(s)}})}max(e,s){return new Ur({...this._def,maxLength:{value:e,message:Ue.toString(s)}})}length(e,s){return new Ur({...this._def,exactLength:{value:e,message:Ue.toString(s)}})}nonempty(e){return this.min(1,e)}}Ur.create=(t,e)=>new Ur({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...ot(e)});function Ul(t){if(t instanceof Qt){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=yi.create(Ul(r))}return new Qt({...t._def,shape:()=>e})}else return t instanceof Ur?new Ur({...t._def,type:Ul(t.element)}):t instanceof yi?yi.create(Ul(t.unwrap())):t instanceof to?to.create(Ul(t.unwrap())):t instanceof Ci?Ci.create(t.items.map(e=>Ul(e))):t}class Qt extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=yt.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==Ee.object){const d=this._getOrReturnCtx(e);return Pe(d,{code:me.invalid_type,expected:Ee.object,received:d.parsedType}),He}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Si(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof na){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Pe(i,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Si(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>rn.mergeObjectSync(r,d)):rn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ue.errToObj,new Qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:Ue.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Qt({...this._def,catchall:e})}pick(e){const s={};for(const r of yt.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Qt({...this._def,shape:()=>s})}omit(e){const s={};for(const r of yt.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new Qt({...this._def,shape:()=>s})}deepPartial(){return Ul(this)}partial(e){const s={};for(const r of yt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?s[r]=i:s[r]=i.optional()}return new Qt({...this._def,shape:()=>s})}required(e){const s={};for(const r of yt.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof yi;)a=a._def.innerType;s[r]=a}return new Qt({...this._def,shape:()=>s})}keyof(){return BR(yt.objectKeys(this.shape))}}Qt.create=(t,e)=>new Qt({shape:()=>t,unknownKeys:"strip",catchall:na.create(),typeName:Ke.ZodObject,...ot(e)});Qt.strictCreate=(t,e)=>new Qt({shape:()=>t,unknownKeys:"strict",catchall:na.create(),typeName:Ke.ZodObject,...ot(e)});Qt.lazycreate=(t,e)=>new Qt({shape:t,unknownKeys:"strip",catchall:na.create(),typeName:Ke.ZodObject,...ot(e)});class nh extends ut{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Vn(l.ctx.common.issues));return Pe(s,{code:me.invalid_union,unionErrors:o}),He}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Vn(c));return Pe(s,{code:me.invalid_union,unionErrors:l}),He}}get options(){return this._def.options}}nh.create=(t,e)=>new nh({options:t,typeName:Ke.ZodUnion,...ot(e)});const Ii=t=>t instanceof ah?Ii(t.schema):t instanceof Wr?Ii(t.innerType()):t instanceof oh?[t.value]:t instanceof eo?t.options:t instanceof lh?yt.objectValues(t.enum):t instanceof ch?Ii(t._def.innerType):t instanceof th?[void 0]:t instanceof sh?[null]:t instanceof yi?[void 0,...Ii(t.unwrap())]:t instanceof to?[null,...Ii(t.unwrap())]:t instanceof Tw||t instanceof uh?Ii(t.unwrap()):t instanceof dh?Ii(t._def.innerType):[];class Lx extends ut{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Ee.object)return Pe(s,{code:me.invalid_type,expected:Ee.object,received:s.parsedType}),He;const r=this.discriminator,i=s.data[r],a=this.optionsMap.get(i);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(Pe(s,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const i=new Map;for(const a of s){const o=Ii(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Lx({typeName:Ke.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:i,...ot(r)})}}function rj(t,e){const s=Mi(t),r=Mi(e);if(t===e)return{valid:!0,data:t};if(s===Ee.object&&r===Ee.object){const i=yt.objectKeys(e),a=yt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=rj(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Ee.array&&r===Ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=rj(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===Ee.date&&r===Ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rh extends ut{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(sj(a)||sj(o))return He;const l=rj(a.value,o.value);return l.valid?((nj(a)||nj(o))&&s.dirty(),{status:s.value,value:l.data}):(Pe(r,{code:me.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rh.create=(t,e,s)=>new rh({left:t,right:e,typeName:Ke.ZodIntersection,...ot(s)});class Ci extends ut{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.array)return Pe(r,{code:me.invalid_type,expected:Ee.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return Pe(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Si(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>rn.mergeArray(s,o)):rn.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new Ci({...this._def,rest:e})}}Ci.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ci({items:t,typeName:Ke.ZodTuple,rest:null,...ot(e)})};class ih extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.object)return Pe(r,{code:me.invalid_type,expected:Ee.object,received:r.parsedType}),He;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Si(r,l,r.path,l)),value:o._parse(new Si(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?rn.mergeObjectAsync(s,i):rn.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof ut?new ih({keyType:e,valueType:s,typeName:Ke.ZodRecord,...ot(r)}):new ih({keyType:Mr.create(),valueType:e,typeName:Ke.ZodRecord,...ot(s)})}}class jp extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.map)return Pe(r,{code:me.invalid_type,expected:Ee.map,received:r.parsedType}),He;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Si(r,l,r.path,[d,"key"])),value:a._parse(new Si(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return He;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return He;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}jp.create=(t,e,s)=>new jp({valueType:e,keyType:t,typeName:Ke.ZodMap,...ot(s)});class hl extends ut{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.set)return Pe(r,{code:me.invalid_type,expected:Ee.set,received:r.parsedType}),He;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pe(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pe(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return He;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Si(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new hl({...this._def,minSize:{value:e,message:Ue.toString(s)}})}max(e,s){return new hl({...this._def,maxSize:{value:e,message:Ue.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}hl.create=(t,e)=>new hl({valueType:t,minSize:null,maxSize:null,typeName:Ke.ZodSet,...ot(e)});class hc extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Ee.function)return Pe(s,{code:me.invalid_type,expected:Ee.function,received:s.parsedType}),He;function r(l,c){return gp({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xp(),ad].filter(d=>!!d),issueData:{code:me.invalid_arguments,argumentsError:c}})}function i(l,c){return gp({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xp(),ad].filter(d=>!!d),issueData:{code:me.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof ld){const l=this;return xn(async function(...c){const d=new Vn([]),u=await l._def.args.parseAsync(c,a).catch(y=>{throw d.addIssue(r(c,y)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(y=>{throw d.addIssue(i(h,y)),d})})}else{const l=this;return xn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Vn([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new Vn([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hc({...this._def,args:Ci.create(e).rest(Zo.create())})}returns(e){return new hc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new hc({args:e||Ci.create([]).rest(Zo.create()),returns:s||Zo.create(),typeName:Ke.ZodFunction,...ot(r)})}}class ah extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}ah.create=(t,e)=>new ah({getter:t,typeName:Ke.ZodLazy,...ot(e)});class oh extends ut{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return Pe(s,{received:s.data,code:me.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}oh.create=(t,e)=>new oh({value:t,typeName:Ke.ZodLiteral,...ot(e)});function BR(t,e){return new eo({values:t,typeName:Ke.ZodEnum,...ot(e)})}class eo extends ut{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return Pe(s,{expected:yt.joinValues(r),received:s.parsedType,code:me.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return Pe(s,{received:s.data,code:me.invalid_enum_value,options:r}),He}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return eo.create(e,{...this._def,...s})}exclude(e,s=this._def){return eo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}eo.create=BR;class lh extends ut{_parse(e){const s=yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ee.string&&r.parsedType!==Ee.number){const i=yt.objectValues(s);return Pe(r,{expected:yt.joinValues(i),received:r.parsedType,code:me.invalid_type}),He}if(this._cache||(this._cache=new Set(yt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=yt.objectValues(s);return Pe(r,{received:r.data,code:me.invalid_enum_value,options:i}),He}return xn(e.data)}get enum(){return this._def.values}}lh.create=(t,e)=>new lh({values:t,typeName:Ke.ZodNativeEnum,...ot(e)});class ld extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Ee.promise&&s.common.async===!1)return Pe(s,{code:me.invalid_type,expected:Ee.promise,received:s.parsedType}),He;const r=s.parsedType===Ee.promise?s.data:Promise.resolve(s.data);return xn(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ld.create=(t,e)=>new ld({type:t,typeName:Ke.ZodPromise,...ot(e)});class Wr extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Pe(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return He;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?He:c.status==="dirty"||s.value==="dirty"?ec(c.value):c});{if(s.value==="aborted")return He;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?He:l.status==="dirty"||s.value==="dirty"?ec(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?He:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?He:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!dl(o))return He;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>dl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):He);yt.assertNever(i)}}Wr.create=(t,e,s)=>new Wr({schema:t,typeName:Ke.ZodEffects,effect:e,...ot(s)});Wr.createWithPreprocess=(t,e,s)=>new Wr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ke.ZodEffects,...ot(s)});class yi extends ut{_parse(e){return this._getType(e)===Ee.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:Ke.ZodOptional,...ot(e)});class to extends ut{_parse(e){return this._getType(e)===Ee.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}to.create=(t,e)=>new to({innerType:t,typeName:Ke.ZodNullable,...ot(e)});class ch extends ut{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===Ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}ch.create=(t,e)=>new ch({innerType:t,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class dh extends ut{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ju(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dh.create=(t,e)=>new dh({innerType:t,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class bp extends ut{_parse(e){if(this._getType(e)!==Ee.nan){const r=this._getOrReturnCtx(e);return Pe(r,{code:me.invalid_type,expected:Ee.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}bp.create=t=>new bp({typeName:Ke.ZodNaN,...ot(t)});const zq=Symbol("zod_brand");class Tw extends ut{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class lm extends ut{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?He:a.status==="dirty"?(s.dirty(),ec(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,s){return new lm({in:e,out:s,typeName:Ke.ZodPipeline})}}class uh extends ut{_parse(e){const s=this._def.innerType._parse(e),r=i=>(dl(i)&&(i.value=Object.freeze(i.value)),i);return Ju(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}uh.create=(t,e)=>new uh({innerType:t,typeName:Ke.ZodReadonly,...ot(e)});function TS(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function Ew(t,e={},s){return t?od.create().superRefine((r,i)=>{const a=t(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=TS(e,r),c=l.fatal??s??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=TS(e,r),l=o.fatal??s??!0;i.addIssue({code:"custom",...o,fatal:l})}}):od.create()}const Vq={object:Qt.lazycreate};var Ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const zR=(t,e={message:`Input not instance of ${t.name}`})=>Ew(s=>s instanceof t,e),oe=Mr.create,kn=Za.create,qq=bp.create,Hq=Ja.create,Gi=eh.create,Wq=ul.create,Kq=yp.create,Gq=th.create,VR=sh.create,Jo=od.create,Qq=Zo.create,Yq=na.create,Xq=vp.create,Kr=Ur.create,An=Qt.create,Zq=Qt.strictCreate,Aw=nh.create,Jq=Lx.create,eH=rh.create,tH=Ci.create,qR=ih.create,sH=jp.create,nH=hl.create,rH=hc.create,iH=ah.create,aH=oh.create,Vs=eo.create,oH=lh.create,lH=ld.create,ES=Wr.create,cH=yi.create,dH=to.create,uH=Wr.createWithPreprocess,hH=lm.create,mH=()=>oe().optional(),fH=()=>kn().optional(),pH=()=>Gi().optional(),sr={string:t=>Mr.create({...t,coerce:!0}),number:t=>Za.create({...t,coerce:!0}),boolean:t=>eh.create({...t,coerce:!0}),bigint:t=>Ja.create({...t,coerce:!0}),date:t=>ul.create({...t,coerce:!0})},xH=He,gH=Object.freeze(Object.defineProperty({__proto__:null,BRAND:zq,DIRTY:ec,EMPTY_PATH:jq,INVALID:He,NEVER:xH,OK:xn,ParseStatus:rn,Schema:ut,ZodAny:od,ZodArray:Ur,ZodBigInt:Ja,ZodBoolean:eh,ZodBranded:Tw,ZodCatch:dh,ZodDate:ul,ZodDefault:ch,ZodDiscriminatedUnion:Lx,ZodEffects:Wr,ZodEnum:eo,ZodError:Vn,get ZodFirstPartyTypeKind(){return Ke},ZodFunction:hc,ZodIntersection:rh,ZodIssueCode:me,ZodLazy:ah,ZodLiteral:oh,ZodMap:jp,ZodNaN:bp,ZodNativeEnum:lh,ZodNever:na,ZodNull:sh,ZodNullable:to,ZodNumber:Za,ZodObject:Qt,ZodOptional:yi,ZodParsedType:Ee,ZodPipeline:lm,ZodPromise:ld,ZodReadonly:uh,ZodRecord:ih,ZodSchema:ut,ZodSet:hl,ZodString:Mr,ZodSymbol:yp,ZodTransformer:Wr,ZodTuple:Ci,ZodType:ut,ZodUndefined:th,ZodUnion:nh,ZodUnknown:Zo,ZodVoid:vp,addIssueToContext:Pe,any:Jo,array:Kr,bigint:Hq,boolean:Gi,coerce:sr,custom:Ew,date:Wq,datetimeRegex:UR,defaultErrorMap:ad,discriminatedUnion:Jq,effect:ES,enum:Vs,function:rH,getErrorMap:xp,getParsedType:Mi,instanceof:zR,intersection:eH,isAborted:sj,isAsync:Ju,isDirty:nj,isValid:dl,late:Vq,lazy:iH,literal:aH,makeIssue:gp,map:sH,nan:qq,nativeEnum:oH,never:Yq,null:VR,nullable:dH,number:kn,object:An,get objectUtil(){return tj},oboolean:pH,onumber:fH,optional:cH,ostring:mH,pipeline:hH,preprocess:uH,promise:lH,quotelessJson:yq,record:qR,set:nH,setErrorMap:vq,strictObject:Zq,string:oe,symbol:Kq,transformer:ES,tuple:tH,undefined:Gq,union:Aw,unknown:Qq,get util(){return yt},void:Xq},Symbol.toStringTag,{value:"Module"}));var yH="Separator",AS="horizontal",vH=["horizontal","vertical"],HR=x.forwardRef((t,e)=>{const{decorative:s,orientation:r=AS,...i}=t,a=jH(r)?r:AS,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Le.div,{"data-orientation":a,...l,...i,ref:e})});HR.displayName=yH;function jH(t){return vH.includes(t)}var WR=HR;const it=x.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},i)=>n.jsx(WR,{ref:i,decorative:s,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));it.displayName=WR.displayName;var Fw="Dialog",[KR,GR]=Ws(Fw),[bH,Yr]=KR(Fw),QR=t=>{const{__scopeDialog:e,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[d=!1,u]=Vr({prop:r,defaultProp:i,onChange:a});return n.jsx(bH,{scope:e,triggerRef:l,contentRef:c,contentId:lr(),titleId:lr(),descriptionId:lr(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};QR.displayName=Fw;var YR="DialogTrigger",XR=x.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Yr(YR,s),a=lt(e,i.triggerRef);return n.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dw(i.open),...r,ref:a,onClick:ye(t.onClick,i.onOpenToggle)})});XR.displayName=YR;var Rw="DialogPortal",[wH,ZR]=KR(Rw,{forceMount:void 0}),JR=t=>{const{__scopeDialog:e,forceMount:s,children:r,container:i}=t,a=Yr(Rw,e);return n.jsx(wH,{scope:e,forceMount:s,children:x.Children.map(r,o=>n.jsx(Ks,{present:s||a.open,children:n.jsx(Zh,{asChild:!0,container:i,children:o})}))})};JR.displayName=Rw;var wp="DialogOverlay",eI=x.forwardRef((t,e)=>{const s=ZR(wp,t.__scopeDialog),{forceMount:r=s.forceMount,...i}=t,a=Yr(wp,t.__scopeDialog);return a.modal?n.jsx(Ks,{present:r||a.open,children:n.jsx(SH,{...i,ref:e})}):null});eI.displayName=wp;var NH=ol("DialogOverlay.RemoveScroll"),SH=x.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Yr(wp,s);return n.jsx(Rx,{as:NH,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Le.div,{"data-state":Dw(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ml="DialogContent",tI=x.forwardRef((t,e)=>{const s=ZR(ml,t.__scopeDialog),{forceMount:r=s.forceMount,...i}=t,a=Yr(ml,t.__scopeDialog);return n.jsx(Ks,{present:r||a.open,children:a.modal?n.jsx(CH,{...i,ref:e}):n.jsx(_H,{...i,ref:e})})});tI.displayName=ml;var CH=x.forwardRef((t,e)=>{const s=Yr(ml,t.__scopeDialog),r=x.useRef(null),i=lt(e,s.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return xw(a)},[]),n.jsx(sI,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault())})}),_H=x.forwardRef((t,e)=>{const s=Yr(ml,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return n.jsx(sI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),sI=x.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Yr(ml,s),c=x.useRef(null),d=lt(e,c);return pw(),n.jsxs(n.Fragment,{children:[n.jsx(Tx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(yd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(PH,{titleId:l.titleId}),n.jsx(EH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Iw="DialogTitle",nI=x.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Yr(Iw,s);return n.jsx(Le.h2,{id:i.titleId,...r,ref:e})});nI.displayName=Iw;var rI="DialogDescription",iI=x.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Yr(rI,s);return n.jsx(Le.p,{id:i.descriptionId,...r,ref:e})});iI.displayName=rI;var aI="DialogClose",oI=x.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Yr(aI,s);return n.jsx(Le.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});oI.displayName=aI;function Dw(t){return t?"open":"closed"}var lI="DialogTitleWarning",[kH,cI]=e8(lI,{contentName:ml,titleName:Iw,docsSlug:"dialog"}),PH=({titleId:t})=>{const e=cI(lI),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},TH="DialogDescriptionWarning",EH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cI(TH).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dI=QR,uI=XR,hI=JR,Ow=eI,Mw=tI,Lw=nI,$w=iI,Uw=oI;const gs=dI,AH=uI,FH=hI,mI=x.forwardRef(({className:t,...e},s)=>n.jsx(Ow,{ref:s,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mI.displayName=Ow.displayName;const ls=x.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(FH,{children:[n.jsx(mI,{}),n.jsxs(Mw,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,n.jsxs(Uw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(sm,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ls.displayName=Mw.displayName;const ys=({className:t,...e})=>n.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ys.displayName="DialogHeader";const Fn=({className:t,...e})=>n.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fn.displayName="DialogFooter";const vs=x.forwardRef(({className:t,...e},s)=>n.jsx(Lw,{ref:s,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));vs.displayName=Lw.displayName;const _s=x.forwardRef(({className:t,...e},s)=>n.jsx($w,{ref:s,className:we("text-sm text-muted-foreground",t),...e}));_s.displayName=$w.displayName;const Q=x.forwardRef(({className:t,type:e,...s},r)=>n.jsx("input",{type:e,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));Q.displayName="Input";const rs=x.forwardRef(({className:t,...e},s)=>n.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));rs.displayName="Textarea";var RH="Label",fI=x.forwardRef((t,e)=>n.jsx(Le.label,{...t,ref:e,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));fI.displayName=RH;var pI=fI;const IH=em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=x.forwardRef(({className:t,...e},s)=>n.jsx(pI,{ref:s,className:we(IH(),t),...e}));$e.displayName=pI.displayName;const Fr=X9,xI=x.createContext({}),te=({...t})=>n.jsx(xI.Provider,{value:{name:t.name},children:n.jsx(tq,{...t})}),$x=()=>{const t=x.useContext(xI),e=x.useContext(gI),{getFieldState:s,formState:r}=Mx(),i=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},gI=x.createContext({}),Z=x.forwardRef(({className:t,...e},s)=>{const r=x.useId();return n.jsx(gI.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:we("space-y-2",t),...e})})});Z.displayName="FormItem";const J=x.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:i}=$x();return n.jsx($e,{ref:s,className:we(r&&"text-destructive",t),htmlFor:i,...e})});J.displayName="FormLabel";const ne=x.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:i,formMessageId:a}=$x();return n.jsx(MA,{ref:e,id:r,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...t})});ne.displayName="FormControl";const js=x.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=$x();return n.jsx("p",{ref:s,id:r,className:we("text-sm text-muted-foreground",t),...e})});js.displayName="FormDescription";const re=x.forwardRef(({className:t,children:e,...s},r)=>{const{error:i,formMessageId:a}=$x(),o=i?String((i==null?void 0:i.message)??""):e;return o?n.jsx("p",{ref:r,id:a,className:we("text-sm font-medium text-destructive",t),...s,children:o}):null});re.displayName="FormMessage";const DH=An({firstName:oe().min(1,"First name is required"),lastName:oe().min(1,"Last name is required"),email:oe().email("Valid email is required"),subject:oe().min(1,"Subject is required"),message:oe().min(10,"Message must be at least 10 characters")});function OH(){const[t,e]=x.useState(!1),{toast:s}=qt(),r=Ln({resolver:$n(DH),defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:""}}),i=Re({mutationFn:async a=>await Fe("POST","/api/contact",a),onSuccess:()=>{s({title:"Message sent",description:"We'll get back to you as soon as possible."}),r.reset(),e(!1)},onError:a=>{s({title:"Error",description:a.message||"Failed to send message",variant:"destructive"})}});return n.jsxs(n.Fragment,{children:[n.jsx("footer",{className:"mt-auto border-t bg-muted/30",children:n.jsx("div",{className:"container px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Ready Set Fly. All rights reserved."]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[n.jsx("button",{onClick:()=>e(!0),className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"button-contact-us",children:"Contact Us"}),n.jsx(it,{orientation:"vertical",className:"h-4 hidden md:block"}),n.jsx(bt,{href:"/privacy-policy",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-privacy-policy",children:"Privacy Policy"}),n.jsx(it,{orientation:"vertical",className:"h-4 hidden md:block"}),n.jsx(bt,{href:"/terms-of-service",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-terms-of-service",children:"Terms of Service"}),n.jsx(it,{orientation:"vertical",className:"h-4 hidden md:block"}),n.jsx(bt,{href:"/delete-account",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-delete-account",children:"Delete Account"})]})]})})}),n.jsx(gs,{open:t,onOpenChange:e,children:n.jsxs(ls,{className:"max-w-md","data-testid":"dialog-contact-us",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Contact Us"}),n.jsx(_s,{children:"Have a question or feedback? Send us a message and we'll get back to you soon."})]}),n.jsx(Fr,{...r,children:n.jsxs("form",{onSubmit:r.handleSubmit(a=>i.mutate(a)),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:r.control,name:"firstName",render:({field:a})=>n.jsxs(Z,{children:[n.jsx(J,{children:"First Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"John",...a,"data-testid":"input-contact-first-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:r.control,name:"lastName",render:({field:a})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Last Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Doe",...a,"data-testid":"input-contact-last-name"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:r.control,name:"email",render:({field:a})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Email"}),n.jsx(ne,{children:n.jsx(Q,{type:"email",placeholder:"john@example.com",...a,"data-testid":"input-contact-email"})}),n.jsx(re,{})]})}),n.jsx(te,{control:r.control,name:"subject",render:({field:a})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Subject"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"How can we help?",...a,"data-testid":"input-contact-subject"})}),n.jsx(re,{})]})}),n.jsx(te,{control:r.control,name:"message",render:({field:a})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Message"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Tell us what's on your mind...",className:"min-h-[120px]",...a,"data-testid":"textarea-contact-message"})}),n.jsx(re,{})]})}),n.jsxs(Fn,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{e(!1),r.reset()},"data-testid":"button-cancel-contact",children:"Cancel"}),n.jsx($,{type:"submit",disabled:i.isPending,"data-testid":"button-submit-contact",children:i.isPending?"Sending...":"Send Message"})]})]})})]})})]})}function ij(t,[e,s]){return Math.min(s,Math.max(e,t))}function Bw(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var MH=[" ","Enter","ArrowUp","ArrowDown"],LH=[" ","Enter"],cm="Select",[Ux,Bx,$H]=yx(cm),[Nd,Ose]=Ws(cm,[$H,wd]),zx=wd(),[UH,po]=Nd(cm),[BH,zH]=Nd(cm),yI=t=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:y,form:b}=t,j=zx(e),[v,p]=x.useState(null),[f,w]=x.useState(null),[S,k]=x.useState(!1),C=rm(d),[_=!1,T]=Vr({prop:r,defaultProp:i,onChange:a}),[R,D]=Vr({prop:o,defaultProp:l,onChange:c}),L=x.useRef(null),B=v?b||!!v.closest("form"):!0,[ee,W]=x.useState(new Set),se=Array.from(ee).map(A=>A.props.value).join(";");return n.jsx(lw,{...j,children:n.jsxs(UH,{required:y,scope:e,trigger:v,onTriggerChange:p,valueNode:f,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:lr(),value:R,onValueChange:D,open:_,onOpenChange:T,dir:C,triggerPointerDownPosRef:L,disabled:m,children:[n.jsx(Ux.Provider,{scope:e,children:n.jsx(BH,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(A=>{W(K=>new Set(K).add(A))},[]),onNativeOptionRemove:x.useCallback(A=>{W(K=>{const M=new Set(K);return M.delete(A),M})},[]),children:s})}),B?n.jsxs(VI,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:R,onChange:A=>D(A.target.value),disabled:m,form:b,children:[R===void 0?n.jsx("option",{value:""}):null,Array.from(ee)]},se):null]})})};yI.displayName=cm;var vI="SelectTrigger",jI=x.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:r=!1,...i}=t,a=zx(s),o=po(vI,s),l=o.disabled||r,c=lt(e,o.onTriggerChange),d=Bx(s),u=x.useRef("touch"),[h,m,y]=qI(j=>{const v=d().filter(w=>!w.disabled),p=v.find(w=>w.value===o.value),f=HI(v,j,p);f!==void 0&&o.onValueChange(f.value)}),b=j=>{l||(o.onOpenChange(!0),y()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return n.jsx(cw,{asChild:!0,...a,children:n.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zI(o.value)?"":void 0,...i,ref:c,onClick:ye(i.onClick,j=>{j.currentTarget.focus(),u.current!=="mouse"&&b(j)}),onPointerDown:ye(i.onPointerDown,j=>{u.current=j.pointerType;const v=j.target;v.hasPointerCapture(j.pointerId)&&v.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(b(j),j.preventDefault())}),onKeyDown:ye(i.onKeyDown,j=>{const v=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&m(j.key),!(v&&j.key===" ")&&MH.includes(j.key)&&(b(),j.preventDefault())})})})});jI.displayName=vI;var bI="SelectValue",wI=x.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...l}=t,c=po(bI,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=lt(e,c.onValueNodeChange);return ps(()=>{d(u)},[d,u]),n.jsx(Le.span,{...l,ref:h,style:{pointerEvents:"none"},children:zI(c.value)?n.jsx(n.Fragment,{children:o}):a})});wI.displayName=bI;var VH="SelectIcon",NI=x.forwardRef((t,e)=>{const{__scopeSelect:s,children:r,...i}=t;return n.jsx(Le.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});NI.displayName=VH;var qH="SelectPortal",SI=t=>n.jsx(Zh,{asChild:!0,...t});SI.displayName=qH;var fl="SelectContent",CI=x.forwardRef((t,e)=>{const s=po(fl,t.__scopeSelect),[r,i]=x.useState();if(ps(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?jl.createPortal(n.jsx(_I,{scope:t.__scopeSelect,children:n.jsx(Ux.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),a):null}return n.jsx(kI,{...t,ref:e})});CI.displayName=fl;var yr=10,[_I,xo]=Nd(fl),HH="SelectContentImpl",WH=ol("SelectContent.RemoveScroll"),kI=x.forwardRef((t,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:v,...p}=t,f=po(fl,s),[w,S]=x.useState(null),[k,C]=x.useState(null),_=lt(e,je=>S(je)),[T,R]=x.useState(null),[D,L]=x.useState(null),B=Bx(s),[ee,W]=x.useState(!1),se=x.useRef(!1);x.useEffect(()=>{if(w)return xw(w)},[w]),pw();const A=x.useCallback(je=>{const[Be,...Ge]=B().map(fe=>fe.ref.current),[Qe]=Ge.slice(-1),Oe=document.activeElement;for(const fe of je)if(fe===Oe||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Be&&k&&(k.scrollTop=0),fe===Qe&&k&&(k.scrollTop=k.scrollHeight),fe==null||fe.focus(),document.activeElement!==Oe))return},[B,k]),K=x.useCallback(()=>A([T,w]),[A,T,w]);x.useEffect(()=>{ee&&K()},[ee,K]);const{onOpenChange:M,triggerPointerDownPosRef:F}=f;x.useEffect(()=>{if(w){let je={x:0,y:0};const Be=Qe=>{var Oe,fe;je={x:Math.abs(Math.round(Qe.pageX)-(((Oe=F.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Qe.pageY)-(((fe=F.current)==null?void 0:fe.y)??0))}},Ge=Qe=>{je.x<=10&&je.y<=10?Qe.preventDefault():w.contains(Qe.target)||M(!1),document.removeEventListener("pointermove",Be),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[w,M,F]),x.useEffect(()=>{const je=()=>M(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[M]);const[O,he]=qI(je=>{const Be=B().filter(Oe=>!Oe.disabled),Ge=Be.find(Oe=>Oe.ref.current===document.activeElement),Qe=HI(Be,je,Ge);Qe&&setTimeout(()=>Qe.ref.current.focus())}),_e=x.useCallback((je,Be,Ge)=>{const Qe=!se.current&&!Ge;(f.value!==void 0&&f.value===Be||Qe)&&(R(je),Qe&&(se.current=!0))},[f.value]),tt=x.useCallback(()=>w==null?void 0:w.focus(),[w]),Ze=x.useCallback((je,Be,Ge)=>{const Qe=!se.current&&!Ge;(f.value!==void 0&&f.value===Be||Qe)&&L(je)},[f.value]),St=r==="popper"?aj:PI,ft=St===aj?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:j,avoidCollisions:v}:{};return n.jsx(_I,{scope:s,content:w,viewport:k,onViewportChange:C,itemRefCallback:_e,selectedItem:T,onItemLeave:tt,itemTextRefCallback:Ze,focusSelectedItem:K,selectedItemText:D,position:r,isPositioned:ee,searchRef:O,children:n.jsx(Rx,{as:WH,allowPinchZoom:!0,children:n.jsx(Tx,{asChild:!0,trapped:f.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:ye(i,je=>{var Be;(Be=f.trigger)==null||Be.focus({preventScroll:!0}),je.preventDefault()}),children:n.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:n.jsx(St,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:je=>je.preventDefault(),...p,...ft,onPlaced:()=>W(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:ye(p.onKeyDown,je=>{const Be=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Be&&je.key.length===1&&he(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let Qe=B().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(je.key)&&(Qe=Qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Oe=je.target,fe=Qe.indexOf(Oe);Qe=Qe.slice(fe+1)}setTimeout(()=>A(Qe)),je.preventDefault()}})})})})})})});kI.displayName=HH;var KH="SelectItemAlignedPosition",PI=x.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:r,...i}=t,a=po(fl,s),o=xo(fl,s),[l,c]=x.useState(null),[d,u]=x.useState(null),h=lt(e,_=>u(_)),m=Bx(s),y=x.useRef(!1),b=x.useRef(!0),{viewport:j,selectedItem:v,selectedItemText:p,focusSelectedItem:f}=o,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&j&&v&&p){const _=a.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),D=p.getBoundingClientRect();if(a.dir!=="rtl"){const Oe=D.left-T.left,fe=R.left-Oe,qe=_.left-fe,nt=_.width+qe,Dt=Math.max(nt,T.width),Kt=window.innerWidth-yr,Ot=ij(fe,[yr,Math.max(yr,Kt-Dt)]);l.style.minWidth=nt+"px",l.style.left=Ot+"px"}else{const Oe=T.right-D.right,fe=window.innerWidth-R.right-Oe,qe=window.innerWidth-_.right-fe,nt=_.width+qe,Dt=Math.max(nt,T.width),Kt=window.innerWidth-yr,Ot=ij(fe,[yr,Math.max(yr,Kt-Dt)]);l.style.minWidth=nt+"px",l.style.right=Ot+"px"}const L=m(),B=window.innerHeight-yr*2,ee=j.scrollHeight,W=window.getComputedStyle(d),se=parseInt(W.borderTopWidth,10),A=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),M=parseInt(W.paddingBottom,10),F=se+A+ee+M+K,O=Math.min(v.offsetHeight*5,F),he=window.getComputedStyle(j),_e=parseInt(he.paddingTop,10),tt=parseInt(he.paddingBottom,10),Ze=_.top+_.height/2-yr,St=B-Ze,ft=v.offsetHeight/2,je=v.offsetTop+ft,Be=se+A+je,Ge=F-Be;if(Be<=Ze){const Oe=L.length>0&&v===L[L.length-1].ref.current;l.style.bottom="0px";const fe=d.clientHeight-j.offsetTop-j.offsetHeight,qe=Math.max(St,ft+(Oe?tt:0)+fe+K),nt=Be+qe;l.style.height=nt+"px"}else{const Oe=L.length>0&&v===L[0].ref.current;l.style.top="0px";const qe=Math.max(Ze,se+j.offsetTop+(Oe?_e:0)+ft)+Ge;l.style.height=qe+"px",j.scrollTop=Be-Ze+j.offsetTop}l.style.margin=`${yr}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,d,j,v,p,a.dir,r]);ps(()=>w(),[w]);const[S,k]=x.useState();ps(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const C=x.useCallback(_=>{_&&b.current===!0&&(w(),f==null||f(),b.current=!1)},[w,f]);return n.jsx(QH,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(Le.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});PI.displayName=KH;var GH="SelectPopperPosition",aj=x.forwardRef((t,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=yr,...a}=t,o=zx(s);return n.jsx(dw,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aj.displayName=GH;var[QH,zw]=Nd(fl,{}),oj="SelectViewport",TI=x.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:r,...i}=t,a=xo(oj,s),o=zw(oj,s),l=lt(e,a.onViewportChange),c=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(Ux.Slot,{scope:s,children:n.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const b=window.innerHeight-yr*2,j=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),p=Math.max(j,v);if(p<b){const f=p+y,w=Math.min(b,f),S=f-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});TI.displayName=oj;var EI="SelectGroup",[YH,XH]=Nd(EI),ZH=x.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=lr();return n.jsx(YH,{scope:s,id:i,children:n.jsx(Le.div,{role:"group","aria-labelledby":i,...r,ref:e})})});ZH.displayName=EI;var AI="SelectLabel",FI=x.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=XH(AI,s);return n.jsx(Le.div,{id:i.id,...r,ref:e})});FI.displayName=AI;var Np="SelectItem",[JH,RI]=Nd(Np),II=x.forwardRef((t,e)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=t,l=po(Np,s),c=xo(Np,s),d=l.value===r,[u,h]=x.useState(a??""),[m,y]=x.useState(!1),b=lt(e,f=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,f,r,i)}),j=lr(),v=x.useRef("touch"),p=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(JH,{scope:s,value:r,disabled:i,textId:j,isSelected:d,onItemTextChange:x.useCallback(f=>{h(w=>w||((f==null?void 0:f.textContent)??"").trim())},[]),children:n.jsx(Ux.ItemSlot,{scope:s,value:r,disabled:i,textValue:u,children:n.jsx(Le.div,{role:"option","aria-labelledby":j,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:ye(o.onFocus,()=>y(!0)),onBlur:ye(o.onBlur,()=>y(!1)),onClick:ye(o.onClick,()=>{v.current!=="mouse"&&p()}),onPointerUp:ye(o.onPointerUp,()=>{v.current==="mouse"&&p()}),onPointerDown:ye(o.onPointerDown,f=>{v.current=f.pointerType}),onPointerMove:ye(o.onPointerMove,f=>{var w;v.current=f.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,f=>{var w;f.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ye(o.onKeyDown,f=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&f.key===" "||(LH.includes(f.key)&&p(),f.key===" "&&f.preventDefault())})})})})});II.displayName=Np;var su="SelectItemText",DI=x.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:i,...a}=t,o=po(su,s),l=xo(su,s),c=RI(su,s),d=zH(su,s),[u,h]=x.useState(null),m=lt(e,p=>h(p),c.onItemTextChange,p=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,p,c.value,c.disabled)}),y=u==null?void 0:u.textContent,b=x.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:v}=d;return ps(()=>(j(b),()=>v(b)),[j,v,b]),n.jsxs(n.Fragment,{children:[n.jsx(Le.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jl.createPortal(a.children,o.valueNode):null]})});DI.displayName=su;var OI="SelectItemIndicator",MI=x.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return RI(OI,s).isSelected?n.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});MI.displayName=OI;var lj="SelectScrollUpButton",LI=x.forwardRef((t,e)=>{const s=xo(lj,t.__scopeSelect),r=zw(lj,t.__scopeSelect),[i,a]=x.useState(!1),o=lt(e,r.onScrollButtonChange);return ps(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(UI,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LI.displayName=lj;var cj="SelectScrollDownButton",$I=x.forwardRef((t,e)=>{const s=xo(cj,t.__scopeSelect),r=zw(cj,t.__scopeSelect),[i,a]=x.useState(!1),o=lt(e,r.onScrollButtonChange);return ps(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(UI,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$I.displayName=cj;var UI=x.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=t,a=xo("SelectScrollButton",s),o=x.useRef(null),l=Bx(s),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),ps(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Le.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{c()})})}),eW="SelectSeparator",BI=x.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return n.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});BI.displayName=eW;var dj="SelectArrow",tW=x.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=zx(s),a=po(dj,s),o=xo(dj,s);return a.open&&o.position==="popper"?n.jsx(uw,{...i,...r,ref:e}):null});tW.displayName=dj;function zI(t){return t===""||t===void 0}var VI=x.forwardRef((t,e)=>{const{value:s,...r}=t,i=x.useRef(null),a=lt(e,i),o=Bw(s);return x.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),n.jsx(Jh,{asChild:!0,children:n.jsx("select",{...r,ref:a,defaultValue:s})})});VI.displayName="BubbleSelect";function qI(t){const e=Wt(t),s=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=x.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function HI(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=sW(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function sW(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var nW=yI,WI=jI,rW=wI,iW=NI,aW=SI,KI=CI,oW=TI,GI=FI,QI=II,lW=DI,cW=MI,YI=LI,XI=$I,ZI=BI;const As=nW,Fs=rW,ws=x.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(WI,{ref:r,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,n.jsx(iW,{asChild:!0,children:n.jsx(vu,{className:"h-4 w-4 opacity-50"})})]}));ws.displayName=WI.displayName;const JI=x.forwardRef(({className:t,...e},s)=>n.jsx(YI,{ref:s,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(G8,{className:"h-4 w-4"})}));JI.displayName=YI.displayName;const eD=x.forwardRef(({className:t,...e},s)=>n.jsx(XI,{ref:s,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(vu,{className:"h-4 w-4"})}));eD.displayName=XI.displayName;const Ns=x.forwardRef(({className:t,children:e,position:s="popper",...r},i)=>n.jsx(aW,{children:n.jsxs(KI,{ref:i,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[n.jsx(JI,{}),n.jsx(oW,{className:we("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(eD,{})]})}));Ns.displayName=KI.displayName;const dW=x.forwardRef(({className:t,...e},s)=>n.jsx(GI,{ref:s,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));dW.displayName=GI.displayName;const ve=x.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(QI,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cW,{children:n.jsx(Gu,{className:"h-4 w-4"})})}),n.jsx(lW,{children:e})]}));ve.displayName=QI.displayName;const uW=x.forwardRef(({className:t,...e},s)=>n.jsx(ZI,{ref:s,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));uW.displayName=ZI.displayName;const U=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));U.displayName="Card";const ae=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("flex flex-col space-y-1.5 p-6",t),...e}));ae.displayName="CardHeader";const le=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));le.displayName="CardTitle";const Me=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("text-sm text-muted-foreground",t),...e}));Me.displayName="CardDescription";const z=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("p-6 pt-0",t),...e}));z.displayName="CardContent";const Vw=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("flex items-center p-6 pt-0",t),...e}));Vw.displayName="CardFooter";function hW({id:t,make:e,model:s,year:r,hourlyRate:i,image:a,location:o,certifications:l,totalTime:c,avionics:d,insuranceIncluded:u,responseTime:h,acceptanceRate:m,onCardClick:y}){return n.jsxs(U,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02] cursor-pointer",onClick:y,"data-testid":`card-aircraft-${t}`,children:[n.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden rounded-t-xl",children:[n.jsx("img",{src:a,alt:`${r} ${e} ${s}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:l.map(b=>n.jsx(Y,{className:"bg-chart-2 text-white text-xs font-semibold","data-testid":`badge-cert-${b}`,children:b},b))}),n.jsx($,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-background/80 backdrop-blur hover:bg-background","data-testid":`button-favorite-${t}`,"aria-label":"Add to favorites",children:n.jsx(bu,{className:"h-5 w-5"})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsxs(Y,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[n.jsx(Os,{className:"h-3 w-3 mr-1 text-chart-2"}),"Verified Owner"]})})]}),n.jsxs(z,{className:"p-6",children:[n.jsxs("h3",{className:"font-display text-xl font-semibold mb-1 hover:text-primary transition-colors","data-testid":`title-aircraft-${t}`,children:[r," ",e," ",s]}),n.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[n.jsxs("span",{className:"text-2xl font-bold","data-testid":`text-rate-${t}`,children:["$",i]}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"/hour"}),u&&n.jsx(Y,{variant:"outline",className:"text-xs",children:"Insurance Included"})]}),n.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(u4,{className:"h-4 w-4"}),n.jsxs("span",{children:[r," | ",c.toLocaleString()," hrs | ",d]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Po,{className:"h-4 w-4"}),n.jsx("span",{children:o})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Response: ",h,"h"]}),n.jsxs("span",{children:["Acceptance: ",m,"%"]})]})]})]})}var qw="Checkbox",[mW,Mse]=Ws(qw),[fW,pW]=mW(qw),tD=x.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,y]=x.useState(null),b=lt(e,S=>y(S)),j=x.useRef(!1),v=m?u||!!m.closest("form"):!0,[p=!1,f]=Vr({prop:i,defaultProp:a,onChange:d}),w=x.useRef(p);return x.useEffect(()=>{const S=m==null?void 0:m.form;if(S){const k=()=>f(w.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[m,f]),n.jsxs(fW,{scope:s,state:p,disabled:l,children:[n.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":Wa(p)?"mixed":p,"aria-required":o,"data-state":rD(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onKeyDown:ye(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ye(t.onClick,S=>{f(k=>Wa(k)?!0:!k),v&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),v&&n.jsx(xW,{control:m,bubbles:!j.current,name:r,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Wa(a)?!1:a})]})});tD.displayName=qw;var sD="CheckboxIndicator",nD=x.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:r,...i}=t,a=pW(sD,s);return n.jsx(Ks,{present:r||Wa(a.state)||a.state===!0,children:n.jsx(Le.span,{"data-state":rD(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});nD.displayName=sD;var xW=t=>{const{control:e,checked:s,bubbles:r=!0,defaultChecked:i,...a}=t,o=x.useRef(null),l=Bw(s),c=iw(e);x.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&y){const b=new Event("click",{bubbles:r});u.indeterminate=Wa(s),y.call(u,Wa(s)?!1:s),u.dispatchEvent(b)}},[l,s,r]);const d=x.useRef(Wa(s)?!1:s);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wa(t){return t==="indeterminate"}function rD(t){return Wa(t)?"indeterminate":t?"checked":"unchecked"}var iD=tD,gW=nD;const ks=x.forwardRef(({className:t,...e},s)=>n.jsx(iD,{ref:s,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:n.jsx(gW,{className:we("flex items-center justify-center text-current"),children:n.jsx(Gu,{className:"h-4 w-4"})})}));ks.displayName=iD.displayName;var Hw="Collapsible",[yW,Lse]=Ws(Hw),[vW,Ww]=yW(Hw),aD=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c=!1,d]=Vr({prop:r,defaultProp:i,onChange:o});return n.jsx(vW,{scope:s,disabled:a,contentId:lr(),open:c,onOpenToggle:x.useCallback(()=>d(u=>!u),[d]),children:n.jsx(Le.div,{"data-state":Gw(c),"data-disabled":a?"":void 0,...l,ref:e})})});aD.displayName=Hw;var oD="CollapsibleTrigger",lD=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,...r}=t,i=Ww(oD,s);return n.jsx(Le.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Gw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ye(t.onClick,i.onOpenToggle)})});lD.displayName=oD;var Kw="CollapsibleContent",cD=x.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=Ww(Kw,t.__scopeCollapsible);return n.jsx(Ks,{present:s||i.open,children:({present:a})=>n.jsx(jW,{...r,ref:e,present:a})})});cD.displayName=Kw;var jW=x.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:r,children:i,...a}=t,o=Ww(Kw,s),[l,c]=x.useState(r),d=x.useRef(null),u=lt(e,d),h=x.useRef(0),m=h.current,y=x.useRef(0),b=y.current,j=o.open||l,v=x.useRef(j),p=x.useRef(void 0);return x.useEffect(()=>{const f=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(f)},[]),ps(()=>{const f=d.current;if(f){p.current=p.current||{transitionDuration:f.style.transitionDuration,animationName:f.style.animationName},f.style.transitionDuration="0s",f.style.animationName="none";const w=f.getBoundingClientRect();h.current=w.height,y.current=w.width,v.current||(f.style.transitionDuration=p.current.transitionDuration,f.style.animationName=p.current.animationName),c(r)}},[o.open,r]),n.jsx(Le.div,{"data-state":Gw(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!j,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:j&&i})});function Gw(t){return t?"open":"closed"}var bW=aD;const hy=bW,my=lD,fy=cD,wW=["PPL","IR","CPL","Multi-Engine","ATP"],NW=["Single-Engine","Multi-Engine","Jet","Turboprop","Helicopter"],SW=["Garmin G1000","Garmin G500","Aspen","Steam Gauges"];function CW({keyword:t,setKeyword:e,city:s,setCity:r,state:i,setState:a,radius:o,setRadius:l,onClearAll:c}){return n.jsxs("div",{className:"space-y-6","data-testid":"aircraft-filters",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Filters"}),n.jsx($,{variant:"outline",className:"w-full","data-testid":"button-clear-filters",onClick:c,children:"Clear All"})]}),n.jsx(it,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{className:"text-sm font-semibold",children:"Search Aircraft"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{placeholder:"e.g., Cessna 172, Piper Archer",value:t,onChange:d=>e(d.target.value),className:"pl-10","data-testid":"input-keyword-search"})]})]}),n.jsx(it,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx($e,{className:"text-sm font-semibold",children:"Location"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx($e,{className:"text-xs text-muted-foreground mb-1.5 block",children:"City"}),n.jsx(Q,{placeholder:"Enter city",value:s,onChange:d=>r(d.target.value),"data-testid":"input-city"})]}),n.jsxs("div",{children:[n.jsx($e,{className:"text-xs text-muted-foreground mb-1.5 block",children:"State"}),n.jsx(Q,{placeholder:"e.g., CA, TX, FL",value:i,onChange:d=>a(d.target.value),maxLength:2,"data-testid":"input-state"})]}),n.jsxs("div",{children:[n.jsx($e,{className:"text-xs text-muted-foreground mb-1.5 block",children:"Radius"}),n.jsxs(As,{value:o,onValueChange:l,children:[n.jsx(ws,{"data-testid":"select-radius",children:n.jsx(Fs,{})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"25",children:"25 miles"}),n.jsx(ve,{value:"50",children:"50 miles"}),n.jsx(ve,{value:"100",children:"100 miles"}),n.jsx(ve,{value:"200",children:"200 miles"}),n.jsx(ve,{value:"500",children:"500 miles"})]})]})]})]})]}),n.jsx(it,{}),n.jsxs(hy,{defaultOpen:!0,children:[n.jsxs(my,{className:"flex items-center justify-between w-full",children:[n.jsx($e,{className:"text-sm font-semibold cursor-pointer",children:"Certifications Required"}),n.jsx(vu,{className:"h-4 w-4"})]}),n.jsx(fy,{className:"space-y-3 mt-3",children:wW.map(d=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:`cert-${d}`,"data-testid":`checkbox-cert-${d}`}),n.jsx("label",{htmlFor:`cert-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),n.jsx(it,{}),n.jsxs(hy,{defaultOpen:!0,children:[n.jsxs(my,{className:"flex items-center justify-between w-full",children:[n.jsx($e,{className:"text-sm font-semibold cursor-pointer",children:"Aircraft Category"}),n.jsx(vu,{className:"h-4 w-4"})]}),n.jsx(fy,{className:"space-y-3 mt-3",children:NW.map(d=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:`cat-${d}`,"data-testid":`checkbox-category-${d}`}),n.jsx("label",{htmlFor:`cat-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),n.jsx(it,{}),n.jsxs(hy,{children:[n.jsxs(my,{className:"flex items-center justify-between w-full",children:[n.jsx($e,{className:"text-sm font-semibold cursor-pointer",children:"Avionics Suite"}),n.jsx(vu,{className:"h-4 w-4"})]}),n.jsx(fy,{className:"space-y-3 mt-3",children:SW.map(d=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:`avionics-${d}`,"data-testid":`checkbox-avionics-${d}`}),n.jsx("label",{htmlFor:`avionics-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),n.jsx(it,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{className:"text-sm font-semibold",children:"Additional Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:"insurance","data-testid":"checkbox-insurance"}),n.jsx("label",{htmlFor:"insurance",className:"text-sm cursor-pointer",children:"Insurance Included"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:"wet-rate","data-testid":"checkbox-wet-rate"}),n.jsx("label",{htmlFor:"wet-rate",className:"text-sm cursor-pointer",children:"Wet Rate (Fuel Included)"})]})]})]})}var dD="AlertDialog",[_W,$se]=Ws(dD,[GR]),aa=GR(),uD=t=>{const{__scopeAlertDialog:e,...s}=t,r=aa(e);return n.jsx(dI,{...r,...s,modal:!0})};uD.displayName=dD;var kW="AlertDialogTrigger",hD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,i=aa(s);return n.jsx(uI,{...i,...r,ref:e})});hD.displayName=kW;var PW="AlertDialogPortal",mD=t=>{const{__scopeAlertDialog:e,...s}=t,r=aa(e);return n.jsx(hI,{...r,...s})};mD.displayName=PW;var TW="AlertDialogOverlay",fD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,i=aa(s);return n.jsx(Ow,{...i,...r,ref:e})});fD.displayName=TW;var mc="AlertDialogContent",[EW,AW]=_W(mc),FW=$A("AlertDialogContent"),pD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,children:r,...i}=t,a=aa(s),o=x.useRef(null),l=lt(e,o),c=x.useRef(null);return n.jsx(kH,{contentName:mc,titleName:xD,docsSlug:"alert-dialog",children:n.jsx(EW,{scope:s,cancelRef:c,children:n.jsxs(Mw,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:ye(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(FW,{children:r}),n.jsx(IW,{contentRef:o})]})})})});pD.displayName=mc;var xD="AlertDialogTitle",gD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,i=aa(s);return n.jsx(Lw,{...i,...r,ref:e})});gD.displayName=xD;var yD="AlertDialogDescription",vD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,i=aa(s);return n.jsx($w,{...i,...r,ref:e})});vD.displayName=yD;var RW="AlertDialogAction",jD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,i=aa(s);return n.jsx(Uw,{...i,...r,ref:e})});jD.displayName=RW;var bD="AlertDialogCancel",wD=x.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:i}=AW(bD,s),a=aa(s),o=lt(e,i);return n.jsx(Uw,{...a,...r,ref:o})});wD.displayName=bD;var IW=({contentRef:t})=>{const e=`\`${mc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mc}\` by passing a \`${yD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},DW=uD,OW=hD,MW=mD,ND=fD,SD=pD,CD=jD,_D=wD,kD=gD,PD=vD;const pl=DW,TD=OW,LW=MW,ED=x.forwardRef(({className:t,...e},s)=>n.jsx(ND,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));ED.displayName=ND.displayName;const so=x.forwardRef(({className:t,...e},s)=>n.jsxs(LW,{children:[n.jsx(ED,{}),n.jsx(SD,{ref:s,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));so.displayName=SD.displayName;const no=({className:t,...e})=>n.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});no.displayName="AlertDialogHeader";const ro=({className:t,...e})=>n.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ro.displayName="AlertDialogFooter";const io=x.forwardRef(({className:t,...e},s)=>n.jsx(kD,{ref:s,className:we("text-lg font-semibold",t),...e}));io.displayName=kD.displayName;const ao=x.forwardRef(({className:t,...e},s)=>n.jsx(PD,{ref:s,className:we("text-sm text-muted-foreground",t),...e}));ao.displayName=PD.displayName;const oo=x.forwardRef(({className:t,...e},s)=>n.jsx(CD,{ref:s,className:we(mw(),t),...e}));oo.displayName=CD.displayName;const lo=x.forwardRef(({className:t,...e},s)=>n.jsx(_D,{ref:s,className:we(mw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));lo.displayName=_D.displayName;var Qw="Switch",[$W,Use]=Ws(Qw),[UW,BW]=$W(Qw),AD=x.forwardRef((t,e)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,y]=x.useState(null),b=lt(e,w=>y(w)),j=x.useRef(!1),v=m?u||!!m.closest("form"):!0,[p=!1,f]=Vr({prop:i,defaultProp:a,onChange:d});return n.jsxs(UW,{scope:s,checked:p,disabled:l,children:[n.jsx(Le.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":ID(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:ye(t.onClick,w=>{f(S=>!S),v&&(j.current=w.isPropagationStopped(),j.current||w.stopPropagation())})}),v&&n.jsx(zW,{control:m,bubbles:!j.current,name:r,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});AD.displayName=Qw;var FD="SwitchThumb",RD=x.forwardRef((t,e)=>{const{__scopeSwitch:s,...r}=t,i=BW(FD,s);return n.jsx(Le.span,{"data-state":ID(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});RD.displayName=FD;var zW=t=>{const{control:e,checked:s,bubbles:r=!0,...i}=t,a=x.useRef(null),o=Bw(s),l=iw(e);return x.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const m=new Event("click",{bubbles:r});h.call(c,s),c.dispatchEvent(m)}},[o,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ID(t){return t?"checked":"unchecked"}var DD=AD,VW=RD;const hh=x.forwardRef(({className:t,...e},s)=>n.jsx(DD,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:n.jsx(VW,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hh.displayName=DD.displayName;function qW(t){return Object.prototype.toString.call(t)==="[object Object]"}function FS(t){return qW(t)||Array.isArray(t)}function HW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Yw(t,e){const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==a?!1:s.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!FS(l)||!FS(c)?l===c:Yw(l,c)})}function RS(t){return t.concat().sort((e,s)=>e.name>s.name?1:-1).map(e=>e.options)}function WW(t,e){if(t.length!==e.length)return!1;const s=RS(t),r=RS(e);return s.every((i,a)=>{const o=r[a];return Yw(i,o)})}function Xw(t){return typeof t=="number"}function uj(t){return typeof t=="string"}function Vx(t){return typeof t=="boolean"}function IS(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xt(t){return Math.abs(t)}function Zw(t){return Math.sign(t)}function Su(t,e){return Xt(t-e)}function KW(t,e){if(t===0||e===0||Xt(t)<=Xt(e))return 0;const s=Su(Xt(t),Xt(e));return Xt(s/t)}function GW(t){return Math.round(t*100)/100}function mh(t){return fh(t).map(Number)}function Br(t){return t[dm(t)]}function dm(t){return Math.max(0,t.length-1)}function Jw(t,e){return e===dm(t)}function DS(t,e=0){return Array.from(Array(t),(s,r)=>e+r)}function fh(t){return Object.keys(t)}function OD(t,e){return[t,e].reduce((s,r)=>(fh(r).forEach(i=>{const a=s[i],o=r[i],l=IS(a)&&IS(o);s[i]=l?OD(a,o):o}),s),{})}function hj(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function QW(t,e){const s={start:r,center:i,end:a};function r(){return 0}function i(c){return a(c)/2}function a(c){return e-c}function o(c,d){return uj(t)?s[t](c):t(e,c,d)}return{measure:o}}function ph(){let t=[];function e(i,a,o,l={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,o,l),c=()=>i.removeEventListener(a,o,l);else{const d=i;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),r}function s(){t=t.filter(i=>i())}const r={add:e,clear:s};return r}function YW(t,e,s,r){const i=ph(),a=1e3/60;let o=null,l=0,c=0;function d(){i.add(t,"visibilitychange",()=>{t.hidden&&b()})}function u(){y(),i.clear()}function h(v){if(!c)return;o||(o=v,s(),s());const p=v-o;for(o=v,l+=p;l>=a;)s(),l-=a;const f=l/a;r(f),c&&(c=e.requestAnimationFrame(h))}function m(){c||(c=e.requestAnimationFrame(h))}function y(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function b(){o=null,l=0}return{init:d,destroy:u,start:m,stop:y,update:s,render:r}}function XW(t,e){const s=e==="rtl",r=t==="y",i=r?"y":"x",a=r?"x":"y",o=!r&&s?-1:1,l=u(),c=h();function d(b){const{height:j,width:v}=b;return r?j:v}function u(){return r?"top":s?"right":"left"}function h(){return r?"bottom":s?"left":"right"}function m(b){return b*o}return{scroll:i,cross:a,startEdge:l,endEdge:c,measureSize:d,direction:m}}function xl(t=0,e=0){const s=Xt(t-e);function r(d){return d<t}function i(d){return d>e}function a(d){return r(d)||i(d)}function o(d){return a(d)?r(d)?t:e:d}function l(d){return s?d-s*Math.ceil((d-e)/s):d}return{length:s,max:e,min:t,constrain:o,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:l}}function MD(t,e,s){const{constrain:r}=xl(0,t),i=t+1;let a=o(e);function o(m){return s?Xt((i+m)%i):r(m)}function l(){return a}function c(m){return a=o(m),h}function d(m){return u().set(l()+m)}function u(){return MD(t,l(),s)}const h={get:l,set:c,add:d,clone:u};return h}function ZW(t,e,s,r,i,a,o,l,c,d,u,h,m,y,b,j,v,p,f){const{cross:w,direction:S}=t,k=["INPUT","SELECT","TEXTAREA"],C={passive:!1},_=ph(),T=ph(),R=xl(50,225).constrain(y.measure(20)),D={mouse:300,touch:400},L={mouse:500,touch:600},B=b?43:25;let ee=!1,W=0,se=0,A=!1,K=!1,M=!1,F=!1;function O(fe){if(!f)return;function qe(Dt){(Vx(f)||f(fe,Dt))&&ft(Dt)}const nt=e;_.add(nt,"dragstart",Dt=>Dt.preventDefault(),C).add(nt,"touchmove",()=>{},C).add(nt,"touchend",()=>{}).add(nt,"touchstart",qe).add(nt,"mousedown",qe).add(nt,"touchcancel",Be).add(nt,"contextmenu",Be).add(nt,"click",Ge,!0)}function he(){_.clear(),T.clear()}function _e(){const fe=F?s:e;T.add(fe,"touchmove",je,C).add(fe,"touchend",Be).add(fe,"mousemove",je,C).add(fe,"mouseup",Be)}function tt(fe){const qe=fe.nodeName||"";return k.includes(qe)}function Ze(){return(b?L:D)[F?"mouse":"touch"]}function St(fe,qe){const nt=h.add(Zw(fe)*-1),Dt=u.byDistance(fe,!b).distance;return b||Xt(fe)<R?Dt:v&&qe?Dt*.5:u.byIndex(nt.get(),0).distance}function ft(fe){const qe=hj(fe,r);F=qe,M=b&&qe&&!fe.buttons&&ee,ee=Su(i.get(),o.get())>=2,!(qe&&fe.button!==0)&&(tt(fe.target)||(A=!0,a.pointerDown(fe),d.useFriction(0).useDuration(0),i.set(o),_e(),W=a.readPoint(fe),se=a.readPoint(fe,w),m.emit("pointerDown")))}function je(fe){if(!hj(fe,r)&&fe.touches.length>=2)return Be(fe);const nt=a.readPoint(fe),Dt=a.readPoint(fe,w),Kt=Su(nt,W),Ot=Su(Dt,se);if(!K&&!F&&(!fe.cancelable||(K=Kt>Ot,!K)))return Be(fe);const bn=a.pointerMove(fe);Kt>j&&(M=!0),d.useFriction(.3).useDuration(.75),l.start(),i.add(S(bn)),fe.preventDefault()}function Be(fe){const nt=u.byDistance(0,!1).index!==h.get(),Dt=a.pointerUp(fe)*Ze(),Kt=St(S(Dt),nt),Ot=KW(Dt,Kt),bn=B-10*Ot,as=p+Ot/50;K=!1,A=!1,T.clear(),d.useDuration(bn).useFriction(as),c.distance(Kt,!b),F=!1,m.emit("pointerUp")}function Ge(fe){M&&(fe.stopPropagation(),fe.preventDefault(),M=!1)}function Qe(){return A}return{init:O,destroy:he,pointerDown:Qe}}function JW(t,e){let r,i;function a(h){return h.timeStamp}function o(h,m){const b=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(hj(h,e)?h:h.touches[0])[b]}function l(h){return r=h,i=h,o(h)}function c(h){const m=o(h)-o(i),y=a(h)-a(r)>170;return i=h,y&&(r=h),m}function d(h){if(!r||!i)return 0;const m=o(i)-o(r),y=a(h)-a(r),b=a(h)-a(i)>170,j=m/y;return y&&!b&&Xt(j)>.1?j:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function eK(){function t(s){const{offsetTop:r,offsetLeft:i,offsetWidth:a,offsetHeight:o}=s;return{top:r,right:i+a,bottom:r+o,left:i,width:a,height:o}}return{measure:t}}function tK(t){function e(r){return t*(r/100)}return{measure:e}}function sK(t,e,s,r,i,a,o){const l=[t].concat(r);let c,d,u=[],h=!1;function m(v){return i.measureSize(o.measure(v))}function y(v){if(!a)return;d=m(t),u=r.map(m);function p(f){for(const w of f){if(h)return;const S=w.target===t,k=r.indexOf(w.target),C=S?d:u[k],_=m(S?t:r[k]);if(Xt(_-C)>=.5){v.reInit(),e.emit("resize");break}}}c=new ResizeObserver(f=>{(Vx(a)||a(v,f))&&p(f)}),s.requestAnimationFrame(()=>{l.forEach(f=>c.observe(f))})}function b(){h=!0,c&&c.disconnect()}return{init:y,destroy:b}}function nK(t,e,s,r,i,a){let o=0,l=0,c=i,d=a,u=t.get(),h=0;function m(){const C=r.get()-t.get(),_=!c;let T=0;return _?(o=0,s.set(r),t.set(r),T=C):(s.set(t),o+=C/c,o*=d,u+=o,t.add(o),T=u-h),l=Zw(T),h=u,k}function y(){const C=r.get()-e.get();return Xt(C)<.001}function b(){return c}function j(){return l}function v(){return o}function p(){return w(i)}function f(){return S(a)}function w(C){return c=C,k}function S(C){return d=C,k}const k={direction:j,duration:b,velocity:v,seek:m,settled:y,useBaseFriction:f,useBaseDuration:p,useFriction:S,useDuration:w};return k}function rK(t,e,s,r,i){const a=i.measure(10),o=i.measure(50),l=xl(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(s.get())||!t.reachedAny(e.get()))}function u(y){if(!d())return;const b=t.reachedMin(e.get())?"min":"max",j=Xt(t[b]-e.get()),v=s.get()-e.get(),p=l.constrain(j/o);s.subtract(v*p),!y&&Xt(v)<a&&(s.set(t.constrain(s.get())),r.useDuration(25).useBaseFriction())}function h(y){c=!y}return{shouldConstrain:d,constrain:u,toggleActive:h}}function iK(t,e,s,r,i){const a=xl(-e+t,0),o=h(),l=u(),c=m();function d(b,j){return Su(b,j)<=1}function u(){const b=o[0],j=Br(o),v=o.lastIndexOf(b),p=o.indexOf(j)+1;return xl(v,p)}function h(){return s.map((b,j)=>{const{min:v,max:p}=a,f=a.constrain(b),w=!j,S=Jw(s,j);return w?p:S||d(v,f)?v:d(p,f)?p:f}).map(b=>parseFloat(b.toFixed(3)))}function m(){if(e<=t+i)return[a.max];if(r==="keepSnaps")return o;const{min:b,max:j}=l;return o.slice(b,j)}return{snapsContained:c,scrollContainLimit:l}}function aK(t,e,s){const r=e[0],i=s?r-t:Br(e);return{limit:xl(i,r)}}function oK(t,e,s,r){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=xl(a,o);function d(m){return m===1?c(s.get()):m===-1?l(s.get()):!1}function u(m){if(!d(m))return;const y=t*(m*-1);r.forEach(b=>b.add(y))}return{loop:u}}function lK(t){const{max:e,length:s}=t;function r(a){const o=a-e;return s?o/-s:0}return{get:r}}function cK(t,e,s,r,i){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=i,c=h().map(e.measure),d=m(),u=y();function h(){return l(r).map(j=>Br(j)[o]-j[0][a]).map(Xt)}function m(){return r.map(j=>s[a]-j[a]).map(j=>-Xt(j))}function y(){return l(d).map(j=>j[0]).map((j,v)=>j+c[v])}return{snaps:d,snapsAligned:u}}function dK(t,e,s,r,i,a){const{groupSlides:o}=i,{min:l,max:c}=r,d=u();function u(){const m=o(a),y=!t||e==="keepSnaps";return s.length===1?[a]:y?m:m.slice(l,c).map((b,j,v)=>{const p=!j,f=Jw(v,j);if(p){const w=Br(v[0])+1;return DS(w)}if(f){const w=dm(a)-Br(v)[0]+1;return DS(w,Br(v)[0])}return b})}return{slideRegistry:d}}function uK(t,e,s,r,i){const{reachedAny:a,removeOffset:o,constrain:l}=r;function c(b){return b.concat().sort((j,v)=>Xt(j)-Xt(v))[0]}function d(b){const j=t?o(b):l(b),v=e.map((f,w)=>({diff:u(f-j,0),index:w})).sort((f,w)=>Xt(f.diff)-Xt(w.diff)),{index:p}=v[0];return{index:p,distance:j}}function u(b,j){const v=[b,b+s,b-s];if(!t)return b;if(!j)return c(v);const p=v.filter(f=>Zw(f)===j);return p.length?c(p):Br(v)-s}function h(b,j){const v=e[b]-i.get(),p=u(v,j);return{index:b,distance:p}}function m(b,j){const v=i.get()+b,{index:p,distance:f}=d(v),w=!t&&a(v);if(!j||w)return{index:p,distance:b};const S=e[p]-f,k=b+u(S,0);return{index:p,distance:k}}return{byDistance:m,byIndex:h,shortcut:u}}function hK(t,e,s,r,i,a,o){function l(h){const m=h.distance,y=h.index!==e.get();a.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(s.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,m){const y=i.byDistance(h,m);l(y)}function d(h,m){const y=e.clone().set(h),b=i.byIndex(y.get(),m);l(b)}return{distance:c,index:d}}function mK(t,e,s,r,i,a,o,l){const c={passive:!0,capture:!0};let d=0;function u(y){if(!l)return;function b(j){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const f=s.findIndex(w=>w.includes(j));Xw(f)&&(i.useDuration(0),r.index(f,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((j,v)=>{a.add(j,"focus",p=>{(Vx(l)||l(y,p))&&b(v)},c)})}function h(y){y.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function nu(t){let e=t;function s(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return Xw(c)?c:c.get()}return{get:s,set:r,add:i,subtract:a}}function LD(t,e){const s=t.scroll==="x"?o:l,r=e.style;let i=null,a=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(a)return;const y=GW(t.direction(m));y!==i&&(r.transform=s(y),i=y)}function d(m){a=!m}function u(){a||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function fK(t,e,s,r,i,a,o,l,c){const u=mh(i),h=mh(i).reverse(),m=p().concat(f());function y(_,T){return _.reduce((R,D)=>R-i[D],T)}function b(_,T){return _.reduce((R,D)=>y(R,T)>0?R.concat([D]):R,[])}function j(_){return a.map((T,R)=>({start:T-r[R]+.5+_,end:T+e-.5+_}))}function v(_,T,R){const D=j(T);return _.map(L=>{const B=R?0:-s,ee=R?s:0,W=R?"end":"start",se=D[L][W];return{index:L,loopPoint:se,slideLocation:nu(-1),translate:LD(t,c[L]),target:()=>l.get()>se?B:ee}})}function p(){const _=o[0],T=b(h,_);return v(T,s,!1)}function f(){const _=e-o[0]-1,T=b(u,_);return v(T,-s,!0)}function w(){return m.every(({index:_})=>{const T=u.filter(R=>R!==_);return y(T,e)<=.1})}function S(){m.forEach(_=>{const{target:T,translate:R,slideLocation:D}=_,L=T();L!==D.get()&&(R.to(L),D.set(L))})}function k(){m.forEach(_=>_.translate.clear())}return{canLoop:w,clear:k,loop:S,loopPoints:m}}function pK(t,e,s){let r,i=!1;function a(c){if(!s)return;function d(u){for(const h of u)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(Vx(s)||s(c,u))&&d(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:a,destroy:o}}function xK(t,e,s,r){const i={};let a=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(b=>{c||(b.forEach(j=>{const v=e.indexOf(j.target);i[v]=j}),a=null,o=null,s.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(b=>l.observe(b))}function u(){l&&l.disconnect(),c=!0}function h(b){return fh(i).reduce((j,v)=>{const p=parseInt(v),{isIntersecting:f}=i[p];return(b&&f||!b&&!f)&&j.push(p),j},[])}function m(b=!0){if(b&&a)return a;if(!b&&o)return o;const j=h(b);return b&&(a=j),b||(o=j),j}return{init:d,destroy:u,get:m}}function gK(t,e,s,r,i,a){const{measureSize:o,startEdge:l,endEdge:c}=t,d=s[0]&&i,u=b(),h=j(),m=s.map(o),y=v();function b(){if(!d)return 0;const f=s[0];return Xt(e[l]-f[l])}function j(){if(!d)return 0;const f=a.getComputedStyle(Br(r));return parseFloat(f.getPropertyValue(`margin-${c}`))}function v(){return s.map((f,w,S)=>{const k=!w,C=Jw(S,w);return k?m[w]+u:C?m[w]+h:S[w+1][l]-f[l]}).map(Xt)}return{slideSizes:m,slideSizesWithGaps:y,startGap:u,endGap:h}}function yK(t,e,s,r,i,a,o,l,c){const{startEdge:d,endEdge:u,direction:h}=t,m=Xw(s);function y(p,f){return mh(p).filter(w=>w%f===0).map(w=>p.slice(w,w+f))}function b(p){return p.length?mh(p).reduce((f,w,S)=>{const k=Br(f)||0,C=k===0,_=w===dm(p),T=i[d]-a[k][d],R=i[d]-a[w][u],D=!r&&C?h(o):0,L=!r&&_?h(l):0,B=Xt(R-L-(T+D));return S&&B>e+c&&f.push(w),_&&f.push(p.length),f},[]).map((f,w,S)=>{const k=Math.max(S[w-1]||0);return p.slice(k,f)}):[]}function j(p){return m?y(p,s):b(p)}return{groupSlides:j}}function vK(t,e,s,r,i,a,o){const{align:l,axis:c,direction:d,startIndex:u,loop:h,duration:m,dragFree:y,dragThreshold:b,inViewThreshold:j,slidesToScroll:v,skipSnaps:p,containScroll:f,watchResize:w,watchSlides:S,watchDrag:k,watchFocus:C}=a,_=2,T=eK(),R=T.measure(e),D=s.map(T.measure),L=XW(c,d),B=L.measureSize(R),ee=tK(B),W=QW(l,B),se=!h&&!!f,A=h||!!f,{slideSizes:K,slideSizesWithGaps:M,startGap:F,endGap:O}=gK(L,R,D,s,A,i),he=yK(L,B,v,h,R,D,F,O,_),{snaps:_e,snapsAligned:tt}=cK(L,W,R,D,he),Ze=-Br(_e)+Br(M),{snapsContained:St,scrollContainLimit:ft}=iK(B,Ze,tt,f,_),je=se?St:tt,{limit:Be}=aK(Ze,je,h),Ge=MD(dm(je),u,h),Qe=Ge.clone(),Oe=mh(s),fe=({dragHandler:st,scrollBody:pt,scrollBounds:Kn,options:{loop:pr}})=>{pr||Kn.constrain(st.pointerDown()),pt.seek()},qe=({scrollBody:st,translate:pt,location:Kn,offsetLocation:pr,previousLocation:oa,scrollLooper:Sl,slideLooper:Qs,dragHandler:Mt,animation:ts,eventHandler:Ye,scrollBounds:De,options:{loop:Cl}},_l)=>{const kl=st.settled(),_d=!De.shouldConstrain(),Pl=Cl?kl:kl&&_d,Tl=Pl&&!Mt.pointerDown();Tl&&ts.stop();const go=Kn.get()*_l+oa.get()*(1-_l);pr.set(go),Cl&&(Sl.loop(st.direction()),Qs.loop()),pt.to(pr.get()),Tl&&Ye.emit("settle"),Pl||Ye.emit("scroll")},nt=YW(r,i,()=>fe(ht),st=>qe(ht,st)),Dt=.68,Kt=je[Ge.get()],Ot=nu(Kt),bn=nu(Kt),as=nu(Kt),fr=nu(Kt),Gs=nK(Ot,as,bn,fr,m,Dt),I=uK(h,je,Ze,Be,fr),H=hK(nt,Ge,Qe,Gs,I,fr,o),ie=lK(Be),Se=ph(),be=xK(e,s,o,j),{slideRegistry:xe}=dK(se,f,je,ft,he,Oe),Ae=mK(t,s,xe,H,Gs,Se,o,C),ht={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:R,slideRects:D,animation:nt,axis:L,dragHandler:ZW(L,t,r,i,fr,JW(L,i),Ot,nt,H,Gs,I,Ge,o,ee,y,b,p,Dt,k),eventStore:Se,percentOfView:ee,index:Ge,indexPrevious:Qe,limit:Be,location:Ot,offsetLocation:as,previousLocation:bn,options:a,resizeHandler:sK(e,o,i,s,L,w,T),scrollBody:Gs,scrollBounds:rK(Be,as,fr,Gs,ee),scrollLooper:oK(Ze,Be,as,[Ot,as,bn,fr]),scrollProgress:ie,scrollSnapList:je.map(ie.get),scrollSnaps:je,scrollTarget:I,scrollTo:H,slideLooper:fK(L,B,Ze,K,M,_e,je,as,s),slideFocus:Ae,slidesHandler:pK(e,o,S),slidesInView:be,slideIndexes:Oe,slideRegistry:xe,slidesToScroll:he,target:fr,translate:LD(L,e)};return ht}function jK(){let t={},e;function s(d){e=d}function r(d){return t[d]||[]}function i(d){return r(d).forEach(u=>u(e,d)),c}function a(d,u){return t[d]=r(d).concat([u]),c}function o(d,u){return t[d]=r(d).filter(h=>h!==u),c}function l(){t={}}const c={init:s,emit:i,off:o,on:a,clear:l};return c}const bK={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function wK(t){function e(a,o){return OD(a,o||{})}function s(a){const o=a.breakpoints||{},l=fh(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(a,l)}function r(a){return a.map(o=>fh(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:s,optionsMediaQueries:r}}function NK(t){let e=[];function s(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(a=>a.destroy())}return{init:s,destroy:r}}function Sp(t,e,s){const r=t.ownerDocument,i=r.defaultView,a=wK(i),o=NK(a),l=ph(),c=jK(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:m,off:y,emit:b}=c,j=L;let v=!1,p,f=d(bK,Sp.globalOptions),w=d(f),S=[],k,C,_;function T(){const{container:Oe,slides:fe}=w;C=(uj(Oe)?t.querySelector(Oe):Oe)||t.children[0];const nt=uj(fe)?C.querySelectorAll(fe):fe;_=[].slice.call(nt||C.children)}function R(Oe){const fe=vK(t,C,_,r,i,Oe,c);if(Oe.loop&&!fe.slideLooper.canLoop()){const qe=Object.assign({},Oe,{loop:!1});return R(qe)}return fe}function D(Oe,fe){v||(f=d(f,Oe),w=u(f),S=fe||S,T(),p=R(w),h([f,...S.map(({options:qe})=>qe)]).forEach(qe=>l.add(qe,"change",L)),w.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(Qe),p.eventHandler.init(Qe),p.resizeHandler.init(Qe),p.slidesHandler.init(Qe),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&_.length&&p.dragHandler.init(Qe),k=o.init(Qe,S)))}function L(Oe,fe){const qe=he();B(),D(d({startIndex:qe},Oe),fe),c.emit("reInit")}function B(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),l.clear()}function ee(){v||(v=!0,l.clear(),B(),c.emit("destroy"),c.clear())}function W(Oe,fe,qe){!w.active||v||(p.scrollBody.useBaseFriction().useDuration(fe===!0?0:w.duration),p.scrollTo.index(Oe,qe||0))}function se(Oe){const fe=p.index.add(1).get();W(fe,Oe,-1)}function A(Oe){const fe=p.index.add(-1).get();W(fe,Oe,1)}function K(){return p.index.add(1).get()!==he()}function M(){return p.index.add(-1).get()!==he()}function F(){return p.scrollSnapList}function O(){return p.scrollProgress.get(p.offsetLocation.get())}function he(){return p.index.get()}function _e(){return p.indexPrevious.get()}function tt(){return p.slidesInView.get()}function Ze(){return p.slidesInView.get(!1)}function St(){return k}function ft(){return p}function je(){return t}function Be(){return C}function Ge(){return _}const Qe={canScrollNext:K,canScrollPrev:M,containerNode:Be,internalEngine:ft,destroy:ee,off:y,on:m,emit:b,plugins:St,previousScrollSnap:_e,reInit:j,rootNode:je,scrollNext:se,scrollPrev:A,scrollProgress:O,scrollSnapList:F,scrollTo:W,selectedScrollSnap:he,slideNodes:Ge,slidesInView:tt,slidesNotInView:Ze};return D(e,s),setTimeout(()=>c.emit("init"),0),Qe}Sp.globalOptions=void 0;function e0(t={},e=[]){const s=x.useRef(t),r=x.useRef(e),[i,a]=x.useState(),[o,l]=x.useState(),c=x.useCallback(()=>{i&&i.reInit(s.current,r.current)},[i]);return x.useEffect(()=>{Yw(s.current,t)||(s.current=t,c())},[t,c]),x.useEffect(()=>{WW(r.current,e)||(r.current=e,c())},[e,c]),x.useEffect(()=>{if(HW()&&o){Sp.globalOptions=e0.globalOptions;const d=Sp(o,s.current,r.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,i]}e0.globalOptions=void 0;const $D=x.createContext(null);function qx(){const t=x.useContext($D);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Hx=x.forwardRef(({orientation:t="horizontal",opts:e,setApi:s,plugins:r,className:i,children:a,...o},l)=>{const[c,d]=e0({...e,axis:t==="horizontal"?"x":"y"},r),[u,h]=x.useState(!1),[m,y]=x.useState(!1),b=x.useCallback(f=>{f&&(h(f.canScrollPrev()),y(f.canScrollNext()))},[]),j=x.useCallback(()=>{d==null||d.scrollPrev()},[d]),v=x.useCallback(()=>{d==null||d.scrollNext()},[d]),p=x.useCallback(f=>{f.key==="ArrowLeft"?(f.preventDefault(),j()):f.key==="ArrowRight"&&(f.preventDefault(),v())},[j,v]);return x.useEffect(()=>{!d||!s||s(d)},[d,s]),x.useEffect(()=>{if(d)return b(d),d.on("reInit",b),d.on("select",b),()=>{d==null||d.off("select",b)}},[d,b]),n.jsx($D.Provider,{value:{carouselRef:c,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:v,canScrollPrev:u,canScrollNext:m},children:n.jsx("div",{ref:l,onKeyDownCapture:p,className:we("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});Hx.displayName="Carousel";const Wx=x.forwardRef(({className:t,...e},s)=>{const{carouselRef:r,orientation:i}=qx();return n.jsx("div",{ref:r,className:"overflow-hidden",children:n.jsx("div",{ref:s,className:we("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Wx.displayName="CarouselContent";const Kx=x.forwardRef(({className:t,...e},s)=>{const{orientation:r}=qx();return n.jsx("div",{ref:s,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Kx.displayName="CarouselItem";const Gx=x.forwardRef(({className:t,variant:e="outline",size:s="icon",...r},i)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=qx();return n.jsxs($,{ref:i,variant:e,size:s,className:we("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[n.jsx(bx,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Gx.displayName="CarouselPrevious";const Qx=x.forwardRef(({className:t,variant:e="outline",size:s="icon",...r},i)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=qx();return n.jsxs($,{ref:i,variant:e,size:s,className:we("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[n.jsx(q8,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Next slide"})]})});Qx.displayName="CarouselNext";function UD({user:t,aircraft:e,type:s,size:r="md"}){const i=r==="sm"?"h-3 w-3":r==="lg"?"h-5 w-5":"h-4 w-4",a=r==="sm"?"text-xs":r==="lg"?"text-base":"text-sm";if(s==="renter"&&t)return n.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.identityVerified&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,"data-testid":"tooltip-identity-verified",children:n.jsxs(Y,{variant:"secondary",className:a,"data-testid":"badge-identity-verified",children:[n.jsx(pn,{className:`${i} mr-1`}),"Identity Verified"]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"Government ID and identity confirmed"}),t.identityVerifiedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.identityVerifiedAt).toLocaleDateString()]})]})]}),t.paymentVerified&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,"data-testid":"tooltip-payment-verified",children:n.jsxs(Y,{variant:"secondary",className:a,"data-testid":"badge-payment-verified",children:[n.jsx(ju,{className:`${i} mr-1`}),"Payment Verified"]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"Valid payment method on file"}),t.paymentVerifiedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.paymentVerifiedAt).toLocaleDateString()]})]})]}),t.faaVerified&&t.faaVerifiedMonth&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,"data-testid":"tooltip-faa-verified",children:n.jsxs(Y,{variant:"default",className:a,"data-testid":"badge-faa-verified",children:[n.jsx(Os,{className:`${i} mr-1`}),"FAA Verified (",t.faaVerifiedMonth,")"]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"FAA pilot certificate verified"}),t.faaCertificateNumber&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cert #",t.faaCertificateNumber]})]})]})]});if(s==="owner"&&e){const o=e.annualDueDate?new Date(e.annualDueDate)>new Date:!1;return e.annualDueDate&&new Date(e.annualDueDate)<new Date,n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.ownershipVerified&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,children:n.jsxs(Y,{variant:"default",className:a,"data-testid":"badge-ownership-verified",children:[n.jsx(pn,{className:`${i} mr-1`}),"Ownership Verified"]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"FAA aircraft registration confirmed"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["N-Number: ",e.registration]}),e.ownerNameMatch&&n.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Owner name matches registry"})]})]}),e.annualDueDate&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,children:n.jsxs(Y,{variant:o?"default":"destructive",className:a,"data-testid":o?"badge-annual-current":"badge-annual-overdue",children:[n.jsx(x4,{className:`${i} mr-1`}),o?"Annual: Current":"Annual: Overdue"]})}),n.jsx(Ri,{children:o?n.jsxs(n.Fragment,{children:[n.jsx("p",{children:"Annual inspection current"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",new Date(e.annualDueDate).toLocaleDateString()]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-destructive",children:"Annual inspection overdue!"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Was due: ",new Date(e.annualDueDate).toLocaleDateString()]})]})})]}),e.requires100Hour&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,children:n.jsxs(Y,{variant:e.hour100Remaining&&e.hour100Remaining>0?"secondary":"destructive",className:a,"data-testid":"badge-100-hour",children:[n.jsx(Ut,{className:`${i} mr-1`}),e.hour100Remaining!==null&&e.hour100Remaining!==void 0?`100-Hr: ${e.hour100Remaining} hrs left`:"100-Hr: Update needed"]})}),n.jsx(Ri,{children:e.hour100Remaining&&e.hour100Remaining>0?n.jsxs(n.Fragment,{children:[n.jsx("p",{children:"100-hour inspection upcoming"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.hour100Remaining," hours remaining"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-destructive",children:"100-hour inspection may be due!"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please update current tach time"})]})})]}),!e.requires100Hour&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:a,"data-testid":"badge-100-hour-na",children:[n.jsx(Ut,{className:`${i} mr-1`}),"100-Hr: N/A"]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"100-hour inspection not required"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Aircraft not used for hire or instruction"})]})]}),e.hasMaintenanceTracking&&e.maintenanceTrackingProvider&&n.jsxs(ua,{children:[n.jsx(ha,{asChild:!0,children:n.jsxs(Y,{variant:"secondary",className:a,"data-testid":"badge-maintenance-tracking",children:[n.jsx(Os,{className:`${i} mr-1`}),e.maintenanceTrackingProvider]})}),n.jsxs(Ri,{children:[n.jsx("p",{children:"Professional maintenance tracking on file"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Provider: ",e.maintenanceTrackingProvider]})]})]}),!e.ownershipVerified&&!e.maintenanceVerified&&n.jsxs(Y,{variant:"outline",className:`${a} border-yellow-500 text-yellow-700 dark:text-yellow-400`,"data-testid":"badge-verification-pending",children:[n.jsx(ll,{className:`${i} mr-1`}),"Verification Pending"]})]})}return null}function BD({aircraftId:t,open:e,onOpenChange:s}){const{user:r}=vn(),{toast:i}=qt(),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(""),[h,m]=x.useState(!1),[y,b]=x.useState({startDate:"",endDate:"",estimatedHours:"",message:""}),{data:j,isLoading:v,error:p}=ze({queryKey:["/api/aircraft",t],enabled:e});x.useEffect(()=>{j!=null&&j.adminNotes?u(j.adminNotes):j&&u("")},[j==null?void 0:j.id,j==null?void 0:j.adminNotes]),x.useEffect(()=>{e&&!v&&(p||!j)&&s(!1)},[e,v,p,j,s]);const f=Re({mutationFn:async D=>{if(j)return await Fe("POST","/api/rentals",{aircraftId:j.id,ownerId:j.ownerId,...D,hourlyRate:j.hourlyRate})},onSuccess:()=>{i({title:"Rental Request Sent",description:"The aircraft owner will review your request and respond shortly."}),Ce.invalidateQueries({queryKey:["/api/rentals"]}),o(!1),b({startDate:"",endDate:"",estimatedHours:"",message:""}),s(!1)},onError:D=>{i({title:"Request Failed",description:D.message,variant:"destructive"})}}),w=Re({mutationFn:async D=>await Fe("DELETE",`/api/aircraft/${D}`,{}),onSuccess:()=>{i({title:"Aircraft Deleted",description:"The aircraft listing has been permanently deleted."}),Ce.invalidateQueries({queryKey:["/api/aircraft"]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),s(!1)},onError:D=>{i({title:"Delete Failed",description:D.message,variant:"destructive"})}}),S=Re({mutationFn:async D=>await Fe("PATCH",`/api/admin/aircraft/${t}`,D),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/aircraft",t]}),Ce.invalidateQueries({queryKey:["/api/aircraft"]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Aircraft Updated",description:"Aircraft listing has been updated successfully."})},onError:D=>{i({title:"Update Failed",description:D.message,variant:"destructive"})}}),k=()=>{j&&confirm(`Are you sure you want to permanently delete this aircraft listing (${j.year} ${j.make} ${j.model})? This action cannot be undone.`)&&w.mutate(j.id)},C=()=>{j&&S.mutate({isListed:!j.isListed})},_=()=>{j&&S.mutate({isFeatured:!j.isFeatured})},T=()=>{S.mutate({adminNotes:d})},R=j&&j.images&&j.images.length>0?j.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return n.jsxs(n.Fragment,{children:[n.jsx(gs,{open:e,onOpenChange:s,children:n.jsx(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","data-testid":"modal-aircraft-detail",children:v?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):j?n.jsxs(n.Fragment,{children:[n.jsx(ys,{children:n.jsxs(vs,{className:"font-display text-3xl",children:[j.year," ",j.make," ",j.model]})}),n.jsx("div",{className:"relative",children:n.jsxs(Hx,{className:"w-full",children:[n.jsx(Wx,{children:R.map((D,L)=>n.jsx(Kx,{children:n.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:n.jsx("img",{src:D,alt:`${j.year} ${j.make} ${j.model} - Image ${L+1}`,className:"w-full h-full object-cover"})})},L))}),R.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(Gx,{className:"left-4","data-testid":"button-carousel-prev"}),n.jsx(Qx,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),n.jsxs("div",{className:"flex items-center justify-between border-t border-b py-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:"text-3xl font-bold",children:["$",j.hourlyRate]}),n.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(Y,{variant:"outline",children:j.location}),j.airportCode&&n.jsx(Y,{variant:"outline",children:j.airportCode})]})]}),!a&&n.jsxs($,{size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){m(!0);return}r.id!==j.ownerId&&c(!0)},disabled:(r==null?void 0:r.id)===j.ownerId,"data-testid":"button-request-rental",children:[n.jsx(rr,{className:"h-5 w-5 mr-2"}),"Request to Rent"]})]}),a&&n.jsxs("div",{className:"bg-muted/50 p-6 rounded-xl space-y-4",children:[n.jsx("h3",{className:"font-display text-xl font-semibold",children:"Request Rental"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx($e,{htmlFor:"startDate",children:"Start Date"}),n.jsx(Q,{id:"startDate",type:"date",value:y.startDate,onChange:D=>b({...y,startDate:D.target.value}),"data-testid":"input-start-date"})]}),n.jsxs("div",{children:[n.jsx($e,{htmlFor:"endDate",children:"End Date"}),n.jsx(Q,{id:"endDate",type:"date",value:y.endDate,onChange:D=>b({...y,endDate:D.target.value}),"data-testid":"input-end-date"})]})]}),n.jsxs("div",{children:[n.jsx($e,{htmlFor:"estimatedHours",children:"Estimated Flight Hours"}),n.jsx(Q,{id:"estimatedHours",type:"number",step:"0.1",placeholder:"5.0",value:y.estimatedHours,onChange:D=>b({...y,estimatedHours:D.target.value}),"data-testid":"input-estimated-hours"})]}),n.jsxs("div",{children:[n.jsx($e,{htmlFor:"message",children:"Message to Owner (Optional)"}),n.jsx(rs,{id:"message",placeholder:"Tell the owner about your flight plans...",value:y.message,onChange:D=>b({...y,message:D.target.value}),rows:3,"data-testid":"textarea-message"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx($,{className:"flex-1",onClick:()=>f.mutate(y),disabled:!y.startDate||!y.endDate||!y.estimatedHours||f.isPending,"data-testid":"button-submit-request",children:f.isPending?"Sending...":"Send Request"}),n.jsx($,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-request",children:"Cancel"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-display text-xl font-semibold",children:"Aircraft Specifications"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(u4,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Total Time"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.totalTime.toLocaleString()," hours"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Registration"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.registration})]})]}),j.avionicsSuite&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Avionics"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.avionicsSuite})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pn,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Insurance"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.insuranceIncluded?"Included in hourly rate":"Not included"})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium mb-2",children:"Required Certifications"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:j.requiredCertifications.map(D=>n.jsx(Y,{className:"bg-chart-2 text-white",children:D},D))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-display text-xl font-semibold",children:"Owner Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium mb-2",children:"Verification Status"}),n.jsx(UD,{user:void 0,aircraft:j,type:"owner"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),n.jsxs("p",{className:"text-lg font-semibold",children:[j.responseTime||24,"h"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Acceptance Rate"}),n.jsxs("p",{className:"text-lg font-semibold",children:[j.acceptanceRate||95,"%"]})]})]})]})]})]}),j.description&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),n.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:j.description})]}),(r==null?void 0:r.isAdmin)&&n.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[n.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx($e,{className:"font-semibold",children:"Listing Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.isListed?"Active - visible to renters":"Inactive - hidden from search"})]}),n.jsx(hh,{checked:j.isListed||!1,onCheckedChange:C,disabled:S.isPending,"data-testid":"switch-aircraft-active"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx($e,{className:"font-semibold",children:"Featured/Boosted"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.isFeatured?"Featured - shown at top":"Normal priority"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[j.isFeatured&&n.jsx(To,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),n.jsx(hh,{checked:j.isFeatured||!1,onCheckedChange:_,disabled:S.isPending,"data-testid":"switch-aircraft-featured"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),n.jsx(rs,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:d,onChange:D=>u(D.target.value),rows:4,"data-testid":"textarea-admin-notes"}),n.jsx($,{onClick:T,disabled:S.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsx(bt,{href:`/edit-aircraft/${j.id}`,children:n.jsxs($,{variant:"outline","data-testid":"button-edit-aircraft",children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),n.jsx($,{variant:"destructive",onClick:k,disabled:w.isPending,"data-testid":"button-delete-aircraft",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),n.jsx(pl,{open:h,onOpenChange:m,children:n.jsxs(so,{"data-testid":"dialog-login-prompt",children:[n.jsxs(no,{children:[n.jsx(io,{children:"Sign in to continue"}),n.jsx(ao,{children:"You need to create an account or sign in to request aircraft rentals and interact with owners."})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),n.jsx(oo,{onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),n.jsx(pl,{open:l,onOpenChange:c,children:n.jsxs(so,{className:"max-w-2xl",children:[n.jsxs(no,{children:[n.jsxs(io,{className:"flex items-center gap-2",children:[n.jsx(Yb,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),n.jsxs(ao,{className:"text-left space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",n.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",n.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),n.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-best-practices",children:"Cancel"}),n.jsx(oo,{onClick:()=>{c(!1),o(!0)},className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-best-practices",children:"I Understand - Continue to Request"})]})]})})]})}function t0({placement:t,category:e,rotationIntervalMs:s=8e3,className:r=""}){const[i,a]=x.useState(0),[o,l]=x.useState(!1),{data:c=[],isLoading:d}=ze({queryKey:["/api/banner-ads/active",t,e],queryFn:async()=>{const b=new URLSearchParams;t&&b.set("placement",t),e&&b.set("category",e);const j=await fetch(`/api/banner-ads/active?${b.toString()}`);if(!j.ok)throw new Error("Failed to fetch banner ads");return j.json()},staleTime:6e4}),u=Re({mutationFn:async b=>Fe(`/api/banner-ads/${b}/impression`,{method:"POST"})}),h=Re({mutationFn:async b=>Fe(`/api/banner-ads/${b}/click`,{method:"POST"})}),m=c[i];if(x.useEffect(()=>{c.length>0&&(a(0),l(!1))},[c]),x.useEffect(()=>{if(c.length<=1)return;const b=setInterval(()=>{a(j=>(j+1)%c.length),l(!1)},s);return()=>clearInterval(b)},[c.length,s]),x.useEffect(()=>{m&&!o&&(u.mutate(m.id),l(!0))},[m==null?void 0:m.id,o]),d||!m||c.length===0)return null;const y=()=>{h.mutate(m.id),window.open(m.link,"_blank","noopener,noreferrer")};return n.jsx("div",{className:`w-full ${r}`,children:n.jsx(U,{className:"overflow-hidden hover-elevate active-elevate-2 cursor-pointer transition-all duration-500",onClick:y,"data-testid":`banner-ad-${m.id}`,children:n.jsxs("div",{className:"relative",children:[m.imageUrl&&n.jsx("div",{className:"w-full h-32 bg-muted",children:n.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded px-2 py-1 text-xs text-muted-foreground",children:"Sponsored"})}),n.jsxs("div",{className:"p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:m.title}),m.description&&n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:m.description})]}),n.jsx(Zd,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),c.length>1&&n.jsx("div",{className:"flex gap-1 pt-2",children:c.map((b,j)=>n.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${j===i?"bg-primary":"bg-muted"}`},j))})]})]})})})}const SK="/assets/wingtip_featured_1761494838973-BRXeBduT.jpg",CK=[{label:"IFR Equipped",value:"ifr"},{label:"Multi-Engine",value:"multi"},{label:"Glass Cockpit",value:"glass"}];function _K(){const[t,e]=x.useState(!1),[s,r]=x.useState(null),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,h]=x.useState("100"),{data:m=[],isLoading:y}=ze({queryKey:["/api/aircraft"]}),b=m.filter(v=>!(i&&!`${v.make} ${v.model} ${v.registration}`.toLowerCase().includes(i.toLowerCase())||o&&v.location&&!v.location.toLowerCase().includes(o.toLowerCase())||c&&v.location&&!v.location.toLowerCase().includes(c.toLowerCase()))),j=()=>{a(""),l(""),d(""),h("100")};return n.jsxs("div",{className:"min-h-screen",children:[n.jsxs("section",{className:"relative h-[500px] sm:h-[600px] bg-gradient-to-r from-primary/20 to-secondary/20 flex items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-transparent z-10"}),n.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${SK})`}}),n.jsxs("div",{className:"relative z-20 w-full max-w-5xl mx-auto px-3 sm:px-4 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-3 sm:mb-4","data-testid":"text-hero-title",children:"Find Your Perfect Aircraft"}),n.jsx("p",{className:"text-base sm:text-xl text-white/90 max-w-2xl mx-auto px-4",children:"Rent from certified aircraft owners. Fly with confidence."})]}),n.jsxs("div",{className:"bg-background/95 backdrop-blur-lg rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Aircraft Type"}),n.jsxs(As,{"data-testid":"select-aircraft-type",children:[n.jsx(ws,{className:"text-sm",children:n.jsx(Fs,{placeholder:"Any type"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"single",children:"Single-Engine"}),n.jsx(ve,{value:"multi",children:"Multi-Engine"}),n.jsx(ve,{value:"jet",children:"Jet"}),n.jsx(ve,{value:"turboprop",children:"Turboprop"}),n.jsx(ve,{value:"helicopter",children:"Helicopter"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Certification Required"}),n.jsxs(As,{"data-testid":"select-certification",children:[n.jsx(ws,{className:"text-sm",children:n.jsx(Fs,{placeholder:"Select certification"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"ppl",children:"PPL"}),n.jsx(ve,{value:"ir",children:"IR"}),n.jsx(ve,{value:"cpl",children:"CPL"}),n.jsx(ve,{value:"multi",children:"Multi-Engine"}),n.jsx(ve,{value:"atp",children:"ATP"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{placeholder:"City or airport code",className:"pl-10 text-sm","data-testid":"input-location"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Dates"}),n.jsxs("div",{className:"relative",children:[n.jsx(rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{type:"date",className:"pl-10 text-sm","data-testid":"input-dates"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[n.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:CK.map(v=>n.jsx(Y,{variant:"outline",className:"cursor-pointer hover-elevate text-xs sm:text-sm","data-testid":`badge-filter-${v.value}`,children:v.label},v.value))}),n.jsxs($,{className:"bg-accent text-accent-foreground hover:bg-accent rounded-full w-full sm:w-auto",size:"lg","data-testid":"button-search",children:[n.jsx(Jn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Find Aircraft"]})]})]})]})]}),n.jsx(t0,{placement:"rentals",className:"container mx-auto px-4 py-8"}),n.jsxs("section",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-2","data-testid":"text-results-title",children:"Rental Aircraft Avaiable"}),n.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[n.jsx("span",{"data-testid":"text-results-count",children:b.length})," aircraft match your search"]})]}),n.jsxs($,{variant:"outline",onClick:()=>e(!t),className:"w-full sm:w-auto","data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]}),n.jsxs("div",{className:"flex gap-8",children:[t&&n.jsx("aside",{className:"w-80 flex-shrink-0",children:n.jsx(CW,{keyword:i,setKeyword:a,city:o,setCity:l,state:c,setState:d,radius:u,setRadius:h,onClearAll:j})}),n.jsx("div",{className:"flex-1",children:y?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>n.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},v))}):b.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No aircraft found matching your filters"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(v=>n.jsx(hW,{id:v.id,make:v.make,model:v.model,year:v.year,hourlyRate:v.hourlyRate,image:v.images[0]||"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=800",location:`${v.location}${v.airportCode?` (${v.airportCode})`:""}`,certifications:v.requiredCertifications,totalTime:v.totalTime,avionics:v.avionicsSuite||"N/A",insuranceIncluded:v.insuranceIncluded||!1,responseTime:v.responseTime||24,acceptanceRate:v.acceptanceRate||95,onCardClick:()=>r(v.id)},v.id))})})]})]}),n.jsx("section",{className:"bg-muted py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"font-display text-3xl font-bold text-center mb-12",children:"Why Pilots Trust Ready Set Fly"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:n.jsx(pn,{className:"h-8 w-8 text-primary"})}),n.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Verified Pilots"}),n.jsx("p",{className:"text-muted-foreground",children:"All pilots are verified with license checks and insurance checks"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:n.jsx(pn,{className:"h-8 w-8 text-primary"})}),n.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Comprehensive Insurance"}),n.jsx("p",{className:"text-muted-foreground",children:"Owenrs and renters are required to carry comprehensive insurance"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:n.jsx(pn,{className:"h-8 w-8 text-primary"})}),n.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Support Available"}),n.jsx("p",{className:"text-muted-foreground",children:"Our support experts are avaialble to assist you from 8am - 8pm (Central Standard Time) - 7 days a week"})]})]})]})}),s&&n.jsx(BD,{aircraftId:s,open:!!s,onOpenChange:v=>!v&&r(null)})]})}function kK(){return n.jsxs("div",{className:"min-h-screen",children:[n.jsx("div",{className:"relative bg-gradient-to-br from-primary/20 via-background to-background",children:n.jsx("div",{className:"container mx-auto px-4 py-12 sm:py-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-6",children:[n.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight",children:"Ready Set Fly"}),n.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground px-4",children:"The Premier Aviation Marketplace for Aircraft Rentals & Sales"}),n.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Connect with verified pilots and aircraft owners. List your aircraft, find the perfect rental, or explore our marketplace for sales, jobs, CFIs, and more."}),n.jsx(Y,{variant:"outline",className:"mx-auto text-xs px-3 py-1",children:"Available for US Residents Only"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[n.jsx($,{size:"lg",onClick:()=>window.location.href="/rentals","data-testid":"button-browse-listings",children:"Browse Listings"}),n.jsx($,{size:"lg",variant:"outline",onClick:()=>{var t;(t=document.getElementById("features"))==null||t.scrollIntoView({behavior:"smooth"})},"data-testid":"button-learn-more",children:"Learn More"})]})]})})}),n.jsx(t0,{placement:"home",className:"container mx-auto px-4 py-8 max-w-7xl"}),n.jsxs("div",{id:"features",className:"container mx-auto px-4 py-12 sm:py-16",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"Why Choose Ready Set Fly?"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx(U,{"data-testid":"card-feature-verified",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(pn,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Verified Users"}),n.jsx("p",{className:"text-muted-foreground",children:"All pilots and owners undergo verification with license checks and background screening for your safety."})]})})}),n.jsx(U,{"data-testid":"card-feature-transparent",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(us,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Transparent Pricing"}),n.jsx("p",{className:"text-muted-foreground",children:"Fair 15% commission split (7.5% renter + 7.5% owner). No hidden fees, just straightforward pricing."})]})})}),n.jsx(U,{"data-testid":"card-feature-messaging",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(h4,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Secure Messaging"}),n.jsx("p",{className:"text-muted-foreground",children:"Real-time messaging between renters and owners during active rentals for seamless communication."})]})})}),n.jsx(U,{"data-testid":"card-feature-rentals",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Ut,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Aircraft Rentals"}),n.jsx("p",{className:"text-muted-foreground",children:"Browse hundreds of aircraft available for rent. Filter by certification requirements and location."})]})})}),n.jsx(U,{"data-testid":"card-feature-marketplace",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Os,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Full Marketplace"}),n.jsx("p",{className:"text-muted-foreground",children:"Beyond rentals: aircraft sales, aviation jobs, CFI listings, flight schools, mechanics, and charter services."})]})})}),n.jsx(U,{"data-testid":"card-feature-financial",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(us,{className:"h-6 w-6 text-primary"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Financial Tracking"}),n.jsx("p",{className:"text-muted-foreground",children:"Owners can track earnings, deposits, and manage multiple aircraft listings from a single dashboard."})]})})})]})]}),n.jsx("div",{className:"bg-muted/50 py-12 sm:py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Ready to Take Flight?"}),n.jsx("p",{className:"text-base sm:text-xl text-muted-foreground mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Join thousands of pilots and aircraft owners in the most trusted aviation marketplace."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx($,{size:"lg",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-cta-login",children:"Create Your Account"}),n.jsx($,{size:"lg",variant:"outline",onClick:()=>window.location.href="/rentals","data-testid":"button-cta-browse",children:"Browse Listings"})]})]})}),n.jsx("div",{className:"py-12 sm:py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(U,{className:"overflow-hidden",children:n.jsx(z,{className:"p-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[n.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(aB,{className:"h-6 w-6 text-primary"})}),n.jsx(Y,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Take Ready Set Fly Anywhere"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Our mobile app is coming soon to iOS and Android. Book aircraft rentals, browse marketplace listings, and manage your account on the go."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:"Browse and book aircraft on your phone"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:"Real-time messaging with owners"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:"Manage your listings and rentals anywhere"})]})]})]}),n.jsxs("div",{className:"bg-muted/30 p-6 sm:p-8 lg:p-12 flex flex-col justify-center items-center gap-4",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Download on"}),n.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-app-store",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),n.jsx("div",{className:"font-semibold",children:"App Store"})]})}),n.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-play-store",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),n.jsx("div",{className:"font-semibold",children:"Google Play"})]})}),n.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4 max-w-[250px]",children:"Sign up now to be notified when our mobile apps launch"})]})]})})})})})}),n.jsx("div",{className:"py-8",children:n.jsx("div",{className:"container mx-auto px-4 text-center",children:n.jsx($,{variant:"ghost",size:"sm",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-admin-login",className:"text-muted-foreground hover:text-foreground",children:"Admin Login"})})})]})}const PK=em("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ir=x.forwardRef(({className:t,variant:e,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:we(PK({variant:e}),t),...s}));ir.displayName="Alert";const Cu=x.forwardRef(({className:t,...e},s)=>n.jsx("h5",{ref:s,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));Cu.displayName="AlertTitle";const ar=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:we("text-sm [&_p]:leading-relaxed",t),...e}));ar.displayName="AlertDescription";const OS={"aircraft-sale":"bg-primary text-primary-foreground",charter:"bg-secondary text-secondary-foreground",cfi:"bg-chart-2 text-white","flight-school":"bg-accent text-accent-foreground",mechanic:"bg-chart-4 text-white",job:"bg-chart-5 text-white"},MS={"aircraft-sale":"For Sale",charter:"Charter",cfi:"CFI","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function TK({id:t,category:e,title:s,description:r,price:i,location:a,image:o,images:l,tier:c,isExample:d}){return n.jsxs(U,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02]","data-testid":`card-marketplace-${t}`,children:[d&&n.jsx("div",{className:"bg-amber-500 text-white px-4 py-2 text-center font-semibold text-sm","data-testid":"banner-example",children:"EXAMPLE LISTING - For Reference Only"}),o?n.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[n.jsx("img",{src:o,alt:s,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx(Y,{className:OS[e],"data-testid":`badge-category-${e}`,children:MS[e]})}),c&&n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx(Y,{variant:"outline",className:"bg-background/80 backdrop-blur capitalize",children:c})}),l>0&&n.jsx("div",{className:"absolute bottom-3 right-3",children:n.jsxs(Y,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[n.jsx(np,{className:"h-3 w-3 mr-1"}),l]})})]}):n.jsxs("div",{className:"relative aspect-[3/2] bg-muted flex items-center justify-center",children:[n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx(Y,{className:OS[e],"data-testid":`badge-category-${e}`,children:MS[e]})}),n.jsx(np,{className:"h-12 w-12 text-muted-foreground/30"})]}),n.jsxs(z,{className:"p-6",children:[n.jsx("h3",{className:"font-display text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2","data-testid":`text-title-${t}`,children:s}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:r}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"h-4 w-4"}),n.jsx("span",{children:a})]}),i&&n.jsx("span",{className:"font-bold text-lg","data-testid":`text-price-${t}`,children:i})]})]})]})}function EK(t,e){return x.useReducer((s,r)=>e[s][r]??s,t)}var s0="ScrollArea",[zD,Bse]=Ws(s0),[AK,mr]=zD(s0),VD=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=x.useState(null),[d,u]=x.useState(null),[h,m]=x.useState(null),[y,b]=x.useState(null),[j,v]=x.useState(null),[p,f]=x.useState(0),[w,S]=x.useState(0),[k,C]=x.useState(!1),[_,T]=x.useState(!1),R=lt(e,L=>c(L)),D=rm(i);return n.jsx(AK,{scope:s,type:r,dir:D,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:k,onScrollbarXEnabledChange:C,scrollbarY:j,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:f,onCornerHeightChange:S,children:n.jsx(Le.div,{dir:D,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});VD.displayName=s0;var qD="ScrollAreaViewport",HD=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=t,o=mr(qD,s),l=x.useRef(null),c=lt(e,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});HD.displayName=qD;var ki="ScrollAreaScrollbar",n0=x.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=mr(ki,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?n.jsx(FK,{...r,ref:e,forceMount:s}):i.type==="scroll"?n.jsx(RK,{...r,ref:e,forceMount:s}):i.type==="auto"?n.jsx(WD,{...r,ref:e,forceMount:s}):i.type==="always"?n.jsx(r0,{...r,ref:e}):null});n0.displayName=ki;var FK=x.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=mr(ki,t.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(Ks,{present:s||a,children:n.jsx(WD,{"data-state":a?"visible":"hidden",...r,ref:e})})}),RK=x.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=mr(ki,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Xx(()=>c("SCROLL_END"),100),[l,c]=EK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),x.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const y=d[u];h!==y&&(c("SCROLL"),o()),h=y};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),n.jsx(Ks,{present:s||l!=="hidden",children:n.jsx(r0,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WD=x.forwardRef((t,e)=>{const s=mr(ki,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=x.useState(!1),l=t.orientation==="horizontal",c=Xx(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return cd(s.viewport,c),cd(s.content,c),n.jsx(Ks,{present:r||a,children:n.jsx(r0,{"data-state":a?"visible":"hidden",...i,ref:e})})}),r0=x.forwardRef((t,e)=>{const{orientation:s="vertical",...r}=t,i=mr(ki,t.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=XD(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,y){return $K(m,o.current,l,y)}return s==="horizontal"?n.jsx(IK,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,y=LS(m,l,i.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):s==="vertical"?n.jsx(DK,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,y=LS(m,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),IK=x.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...i}=t,a=mr(ki,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=lt(e,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(GD,{"data-orientation":"horizontal",...i,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yx(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(m),JD(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_p(o.paddingLeft),paddingEnd:_p(o.paddingRight)}})}})}),DK=x.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...i}=t,a=mr(ki,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=lt(e,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(GD,{"data-orientation":"vertical",...i,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yx(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(m),JD(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_p(o.paddingTop),paddingEnd:_p(o.paddingBottom)}})}})}),[OK,KD]=zD(ki),GD=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=t,y=mr(ki,s),[b,j]=x.useState(null),v=lt(e,R=>j(R)),p=x.useRef(null),f=x.useRef(""),w=y.viewport,S=r.content-r.viewport,k=Wt(u),C=Wt(c),_=Xx(h,10);function T(R){if(p.current){const D=R.clientX-p.current.left,L=R.clientY-p.current.top;d({x:D,y:L})}}return x.useEffect(()=>{const R=D=>{const L=D.target;(b==null?void 0:b.contains(L))&&k(D,S)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[w,b,S,k]),x.useEffect(C,[r,C]),cd(b,_),cd(y.content,_),n.jsx(OK,{scope:s,scrollbar:b,hasThumb:i,onThumbChange:Wt(a),onThumbPointerUp:Wt(o),onThumbPositionChange:C,onThumbPointerDown:Wt(l),children:n.jsx(Le.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:ye(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),p.current=b.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),T(R))}),onPointerMove:ye(t.onPointerMove,T),onPointerUp:ye(t.onPointerUp,R=>{const D=R.target;D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=f.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),Cp="ScrollAreaThumb",QD=x.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=KD(Cp,t.__scopeScrollArea);return n.jsx(Ks,{present:s||i.hasThumb,children:n.jsx(MK,{ref:e,...r})})}),MK=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:r,...i}=t,a=mr(Cp,s),o=KD(Cp,s),{onThumbPositionChange:l}=o,c=lt(e,h=>o.onThumbChange(h)),d=x.useRef(void 0),u=Xx(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const y=UK(h,l);d.current=y,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),n.jsx(Le.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(t.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,j=h.clientY-y.top;o.onThumbPointerDown({x:b,y:j})}),onPointerUp:ye(t.onPointerUp,o.onThumbPointerUp)})});QD.displayName=Cp;var i0="ScrollAreaCorner",YD=x.forwardRef((t,e)=>{const s=mr(i0,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(LK,{...t,ref:e}):null});YD.displayName=i0;var LK=x.forwardRef((t,e)=>{const{__scopeScrollArea:s,...r}=t,i=mr(i0,s),[a,o]=x.useState(0),[l,c]=x.useState(0),d=!!(a&&l);return cd(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),cd(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?n.jsx(Le.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function _p(t){return t?parseInt(t,10):0}function XD(t,e){const s=t/e;return isNaN(s)?0:s}function Yx(t){const e=XD(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*e;return Math.max(r,18)}function $K(t,e,s,r="ltr"){const i=Yx(s),a=i/2,o=e||a,l=i-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return ZD([c,d],h)(t)}function LS(t,e,s="ltr"){const r=Yx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=s==="ltr"?[0,o]:[o*-1,0],d=ij(t,c);return ZD([0,o],[0,l])(d)}function ZD(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(s-t[0])}}function JD(t,e){return t>0&&t<e}var UK=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&e(),s=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Xx(t,e){const s=Wt(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,e)},[s,e])}function cd(t,e){const s=Wt(e);ps(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,s])}var e5=VD,BK=HD,zK=YD;const xh=x.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(e5,{ref:r,className:we("relative overflow-hidden",t),...s,children:[n.jsx(BK,{className:"h-full w-full rounded-[inherit]",children:e}),n.jsx(a0,{}),n.jsx(zK,{})]}));xh.displayName=e5.displayName;const a0=x.forwardRef(({className:t,orientation:e="vertical",...s},r)=>n.jsx(n0,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:n.jsx(QD,{className:"relative flex-1 rounded-full bg-border"})}));a0.displayName=n0.displayName;function o0(t){if(!t)return"";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)?"":`$${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function t5(t){if(!t)return"";const e=t.replace(/\D/g,"");return e.length===10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:e.length===11&&e[0]==="1"?`(${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:t}const VK=An({firstName:oe().min(1,"First name is required"),lastName:oe().min(1,"Last name is required"),email:oe().email("Valid email is required"),phone:oe().optional(),currentJobTitle:oe().optional(),yearsOfExperience:oe().optional(),coverLetter:oe().optional(),resume:zR(File,{message:"Resume is required"})});function qK({listing:t,open:e,onOpenChange:s}){const{toast:r}=qt(),[i,a]=x.useState(null),[o,l]=x.useState(!1),c=Ln({resolver:$n(VK),defaultValues:{firstName:"",lastName:"",email:"",phone:"",currentJobTitle:"",yearsOfExperience:"",coverLetter:""}}),d=Re({mutationFn:async y=>{const b=new FormData;b.append("listingId",t.id),b.append("firstName",y.firstName),b.append("lastName",y.lastName),b.append("email",y.email),y.phone&&b.append("phone",y.phone),y.currentJobTitle&&b.append("currentJobTitle",y.currentJobTitle),y.yearsOfExperience&&b.append("yearsOfExperience",y.yearsOfExperience),y.coverLetter&&b.append("coverLetter",y.coverLetter),b.append("resume",y.resume);const j=await fetch("/api/job-applications",{method:"POST",body:b,credentials:"include"});if(!j.ok){const v=await j.json();throw new Error(v.error||"Failed to submit application")}return j.json()},onSuccess:()=>{l(!0),r({title:"Application submitted!",description:"The employer has been notified and will review your application soon."})},onError:y=>{r({title:"Submission failed",description:y.message,variant:"destructive"})}}),u=y=>{var j;const b=(j=y.target.files)==null?void 0:j[0];if(b){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(b.type)){r({title:"Invalid file type",description:"Please upload a PDF or Word document",variant:"destructive"});return}if(b.size>5*1024*1024){r({title:"File too large",description:"Resume must be less than 5MB",variant:"destructive"});return}a(b),c.setValue("resume",b),c.clearErrors("resume")}},h=y=>{d.mutate(y)},m=()=>{d.isPending||(s(!1),setTimeout(()=>{c.reset(),a(null),l(!1)},300))};return n.jsx(gs,{open:e,onOpenChange:m,children:n.jsx(ls,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-job-application",children:o?n.jsxs("div",{className:"py-8 text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Os,{className:"w-16 h-16 text-green-600"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Application Submitted Successfully!"}),n.jsx("p",{className:"text-muted-foreground",children:"Your application has been sent to the employer. They will review your resume and contact you if you're a good fit for the position."})]}),n.jsx($,{onClick:m,className:"mt-4","data-testid":"button-close-success",children:"Close"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Apply for Position"}),n.jsxs(_s,{children:[t.title," - ",t.location||"Location not specified"]})]}),n.jsx(Fr,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:c.control,name:"firstName",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"First Name"}),n.jsx(ne,{children:n.jsx(Q,{...y,placeholder:"John","data-testid":"input-first-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:c.control,name:"lastName",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Last Name"}),n.jsx(ne,{children:n.jsx(Q,{...y,placeholder:"Doe","data-testid":"input-last-name"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:c.control,name:"email",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Email"}),n.jsx(ne,{children:n.jsx(Q,{...y,type:"email",placeholder:"john.doe@example.com","data-testid":"input-email"})}),n.jsx(re,{})]})}),n.jsx(te,{control:c.control,name:"phone",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Phone Number (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{...y,type:"tel",placeholder:"(555) 123-4567","data-testid":"input-phone"})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:c.control,name:"currentJobTitle",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Current Job Title (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{...y,placeholder:"e.g., Aviation Mechanic","data-testid":"input-current-job-title"})}),n.jsx(re,{})]})}),n.jsx(te,{control:c.control,name:"yearsOfExperience",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Years of Experience (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{...y,placeholder:"e.g., 5 years","data-testid":"input-years-of-experience"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:c.control,name:"coverLetter",render:({field:y})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Cover Letter (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{...y,placeholder:"Tell the employer why you're a great fit for this position...",className:"min-h-32 resize-none","data-testid":"textarea-cover-letter"})}),n.jsx(re,{})]})}),n.jsx(te,{control:c.control,name:"resume",render:({field:{value:y,onChange:b,...j}})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Resume (PDF or Word)"}),n.jsx(ne,{children:n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{...j,type:"file",accept:".pdf,.doc,.docx",onChange:u,className:"hidden",id:"resume-upload","data-testid":"input-resume"}),n.jsx("label",{htmlFor:"resume-upload",children:n.jsx($,{type:"button",variant:"outline",className:"cursor-pointer",asChild:!0,"data-testid":"button-upload-resume",children:n.jsxs("span",{children:[n.jsx(tm,{className:"w-4 h-4 mr-2"}),"Choose File"]})})}),i&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Or,{className:"w-4 h-4"}),n.jsx("span",{"data-testid":"text-resume-filename",children:i.name}),n.jsxs("span",{className:"text-xs",children:["(",(i.size/1024).toFixed(0)," KB)"]})]})]})})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx($,{type:"button",variant:"outline",onClick:m,disabled:d.isPending,"data-testid":"button-cancel",children:"Cancel"}),n.jsx($,{type:"submit",disabled:d.isPending,"data-testid":"button-submit-application",children:d.isPending?"Submitting...":"Submit Application"})]})]})})]})})})}function s5({listingId:t,listingType:e,variant:s="ghost",size:r="icon",className:i=""}){const{user:a}=vn(),{toast:o}=qt(),[l,c]=x.useState(!1),{data:d}=ze({queryKey:["/api/favorites/check",e,t],queryFn:async()=>{const b=await fetch(`/api/favorites/check/${e}/${t}`,{credentials:"include"});if(!b.ok)throw new Error("Failed to check favorite status");return b.json()},enabled:!!a});x.useEffect(()=>{d&&c(d.isFavorited)},[d]);const u=Re({mutationFn:async()=>await Fe("POST","/api/favorites",{listingType:e,listingId:t}),onSuccess:()=>{c(!0),Ce.invalidateQueries({queryKey:["/api/favorites"]}),Ce.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Added to favorites",description:"You can view your saved listings in the Favorites page"})},onError:()=>{o({title:"Failed to add favorite",description:"Please try again later",variant:"destructive"})}}),h=Re({mutationFn:async()=>await Fe("DELETE",`/api/favorites/${e}/${t}`,{}),onSuccess:()=>{c(!1),Ce.invalidateQueries({queryKey:["/api/favorites"]}),Ce.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Removed from favorites"})},onError:()=>{o({title:"Failed to remove favorite",description:"Please try again later",variant:"destructive"})}}),m=b=>{if(b.stopPropagation(),!a){o({title:"Sign in required",description:"Please sign in to save favorites"});return}l?h.mutate():u.mutate()};if(!a)return null;const y=u.isPending||h.isPending;return n.jsx($,{variant:s,size:r,onClick:m,disabled:y,className:i,"data-testid":`button-favorite-${e}-${t}`,children:n.jsx(bu,{className:`h-5 w-5 ${l?"fill-red-500 text-red-500":""}`})})}const HK={"aircraft-sale":Ut,job:Qb,cfi:ep,"flight-school":W8,mechanic:x4,charter:Ut},py={"aircraft-sale":"Aircraft For Sale",charter:"Charter Services",cfi:"CFI Services","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function l0({listingId:t,open:e,onOpenChange:s}){const{user:r}=vn(),{toast:i}=qt(),[a,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState(!1),[y,b]=x.useState(!1),[j,v]=x.useState(!1),{data:p,isLoading:f}=ze({queryKey:["/api/marketplace",t],enabled:e&&!!t});x.useEffect(()=>{if(p){if(o(p.adminNotes||""),p.expiresAt){const L=new Date(p.expiresAt);c(L.toISOString().split("T")[0])}else c("");m(p.userHasFlagged||!1)}},[p==null?void 0:p.id,p==null?void 0:p.adminNotes,p==null?void 0:p.expiresAt]),x.useEffect(()=>{p&&e&&Fe("POST",`/api/marketplace/${p.id}/view`,{}).catch(()=>{})},[p==null?void 0:p.id,e]);const w=Re({mutationFn:async L=>await Fe("DELETE",`/api/marketplace/${L}`,{}),onSuccess:()=>{i({title:"Listing Deleted",description:"The marketplace listing has been permanently deleted."}),Ce.invalidateQueries({queryKey:["/api/marketplace"]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),s(!1)},onError:L=>{i({title:"Delete Failed",description:L.message,variant:"destructive"})}}),S=Re({mutationFn:async L=>await Fe("POST",`/api/marketplace/${L}/flag`,{reason:"Suspected fraud or spam"}),onSuccess:L=>{m(!0),u(!1),i({title:"Listing Flagged",description:`This listing has been flagged for admin review (${L.flagCount} total flags). Thank you for helping keep our marketplace safe.`}),Ce.invalidateQueries({queryKey:["/api/marketplace",t]})},onError:L=>{u(!1),L.message&&L.message.includes("already flagged")&&m(!0),i({title:"Flag Failed",description:L.message||"You may have already flagged this listing.",variant:"destructive"})}}),k=Re({mutationFn:async L=>await Fe("PATCH",`/api/admin/marketplace/${t}`,L),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/marketplace",t]}),Ce.invalidateQueries({queryKey:["/api/marketplace"]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Listing Updated",description:"Marketplace listing has been updated successfully."})},onError:L=>{i({title:"Update Failed",description:L.message,variant:"destructive"})}}),C=()=>{p&&confirm(`Are you sure you want to permanently delete this ${py[p.category]} listing (${p.title})? This action cannot be undone.`)&&w.mutate(p.id)},_=()=>{p&&k.mutate({isActive:!p.isActive})},T=()=>{p&&k.mutate({isFeatured:!p.isFeatured})},R=()=>{k.mutate({adminNotes:a})},D=()=>{if(!l){i({title:"Invalid Date",description:"Please select a valid expiration date.",variant:"destructive"});return}k.mutate({expiresAt:l})};return!p&&!f?null:(p&&HK[p.category],n.jsxs(n.Fragment,{children:[n.jsx(gs,{open:e,onOpenChange:s,children:n.jsx(ls,{className:"max-w-5xl max-h-[90vh] overflow-y-auto","data-testid":"modal-marketplace-listing",children:f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):p?n.jsxs(n.Fragment,{children:[p.isExample&&n.jsxs("div",{className:"bg-amber-500 text-white px-6 py-3 -mx-6 -mt-6 mb-4 text-center font-semibold","data-testid":"banner-example-modal",children:["EXAMPLE LISTING - For Reference Only",n.jsx("p",{className:"text-sm font-normal mt-1 opacity-90",children:"This is an example to help you create your own quality listing"})]}),n.jsx(ys,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Y,{className:"capitalize","data-testid":"badge-category",children:py[p.category]}),p.tier&&n.jsxs(Y,{variant:"outline",className:"capitalize",children:[p.tier," Tier"]})]}),n.jsx(vs,{className:"font-display text-3xl pr-8",children:p.title}),n.jsxs(_s,{className:"sr-only",children:[py[p.category]," listing for ",p.title]}),p.location&&n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[n.jsx(ea,{className:"h-4 w-4"}),n.jsx("span",{children:p.location})]})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(s5,{listingId:p.id,listingType:"marketplace"}),p.price&&n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-3xl font-bold text-primary",children:["$",parseFloat(p.price).toLocaleString()]})})]})]})}),p.images&&p.images.length>0&&n.jsx("div",{className:"relative",children:n.jsxs(Hx,{className:"w-full",children:[n.jsx(Wx,{children:p.images.map((L,B)=>n.jsx(Kx,{children:n.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:n.jsx("img",{src:L,alt:`${p.title} - Image ${B+1}`,className:"w-full h-full object-cover"})})},B))}),p.images.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(Gx,{className:"left-4"}),n.jsx(Qx,{className:"right-4"})]})]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),n.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:p.description})]}),n.jsx(it,{}),p.details&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"font-display text-xl font-semibold",children:"Details"}),p.category==="aircraft-sale"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-lg",children:"Aircraft Information"}),p.details.make&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Make"}),n.jsx("p",{className:"font-medium",children:p.details.make})]}),p.details.model&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),n.jsx("p",{className:"font-medium",children:p.details.model})]}),p.details.year&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Year"}),n.jsx("p",{className:"font-medium",children:p.details.year})]}),p.details.registration&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Registration"}),n.jsx("p",{className:"font-medium",children:p.details.registration})]}),p.details.seats&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats"}),n.jsx("p",{className:"font-medium",children:p.details.seats})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-lg",children:"Specifications"}),p.details.totalTime&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Time"}),n.jsxs("p",{className:"font-medium",children:[p.details.totalTime," hours"]})]}),p.details.engineTime&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Engine Time"}),n.jsxs("p",{className:"font-medium",children:[p.details.engineTime," hours"]})]}),p.details.usefulLoad&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Useful Load"}),n.jsxs("p",{className:"font-medium",children:[p.details.usefulLoad," lbs"]})]}),p.details.annualDue&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual Due"}),n.jsx("p",{className:"font-medium",children:p.details.annualDue})]})]}),p.details.avionics&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Avionics Package"}),n.jsx("p",{className:"font-medium",children:p.details.avionics})]}),(p.details.interiorCondition||p.details.exteriorCondition)&&n.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2 gap-4",children:[p.details.interiorCondition&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Interior Condition"}),n.jsx(Y,{variant:"outline",className:"capitalize mt-1",children:p.details.interiorCondition})]}),p.details.exteriorCondition&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Exterior/Paint Condition"}),n.jsx(Y,{variant:"outline",className:"capitalize mt-1",children:p.details.exteriorCondition})]})]}),p.details.damageHistory&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Damage History"}),n.jsx("p",{className:"font-medium",children:p.details.damageHistory})]})]}),p.category==="job"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.jobTitle&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),n.jsx("p",{className:"font-medium",children:p.details.jobTitle})]}),p.details.company&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:p.details.company})]}),p.details.employmentType&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Employment Type"}),n.jsx(Y,{variant:"outline",className:"capitalize mt-1",children:p.details.employmentType})]}),p.details.salaryRange&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Salary Range"}),n.jsx("p",{className:"font-medium",children:p.details.salaryRange})]}),p.details.requirements&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Requirements"}),n.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.requirements})]})]}),p.category==="cfi"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.instructorName&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor Name"}),n.jsx("p",{className:"font-medium",children:p.details.instructorName})]}),p.details.hourlyRate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hourly Rate"}),n.jsxs("p",{className:"font-medium",children:["$",p.details.hourlyRate,"/hr"]})]}),p.details.certifications&&p.details.certifications.length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Certifications"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:p.details.certifications.map((L,B)=>n.jsx(Y,{variant:"secondary",children:L},B))})]}),p.details.specialties&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),n.jsx("p",{className:"font-medium",children:p.details.specialties})]})]}),p.category==="flight-school"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.schoolName&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"School Name"}),n.jsx("p",{className:"font-medium text-lg",children:p.details.schoolName})]}),p.details.aircraftFleet&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Fleet"}),n.jsx("p",{className:"font-medium",children:p.details.aircraftFleet})]}),p.details.programsOffered&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Programs Offered"}),n.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.programsOffered})]}),p.details.pricingInfo&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing"}),n.jsx("p",{className:"font-medium",children:p.details.pricingInfo})]})]}),p.category==="mechanic"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.businessName&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Business Name"}),n.jsx("p",{className:"font-medium text-lg",children:p.details.businessName})]}),p.details.specialties&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),n.jsx("p",{className:"font-medium",children:p.details.specialties})]}),p.details.serviceArea&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),n.jsx("p",{className:"font-medium",children:p.details.serviceArea})]})]}),p.category==="charter"&&n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.companyName&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),n.jsx("p",{className:"font-medium text-lg",children:p.details.companyName})]}),p.details.aircraftAvailable&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Available"}),n.jsx("p",{className:"font-medium",children:p.details.aircraftAvailable})]}),p.details.serviceArea&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),n.jsx("p",{className:"font-medium",children:p.details.serviceArea})]}),p.details.pricingStructure&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing Structure"}),n.jsx("p",{className:"font-medium",children:p.details.pricingStructure})]})]})]}),n.jsx(it,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.contactEmail&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(nd,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),n.jsx("a",{href:`mailto:${p.contactEmail}`,className:"font-medium hover:text-primary",children:p.contactEmail})]})]}),p.contactPhone&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rp,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),n.jsx("a",{href:`tel:${p.contactPhone}`,className:"font-medium hover:text-primary",children:t5(p.contactPhone)})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[p.category==="job"?n.jsxs($,{className:"flex-1",onClick:()=>v(!0),"data-testid":"button-apply-now",size:"lg",children:[n.jsx(Qb,{className:"h-4 w-4 mr-2"}),"Apply Now"]}):n.jsxs(n.Fragment,{children:[p.contactEmail&&n.jsxs($,{className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){b(!0);return}const B={"aircraft-sale":"Aircraft for Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Service"}[p.category]||p.category,ee=`Inquiry From Ready Set Fly about your ${B} Listing: ${p.title}`,W=`Hi,

I'm interested in your ${B} listing: ${p.title}

`,se=`mailto:${p.contactEmail}?subject=${encodeURIComponent(ee)}&body=${encodeURIComponent(W)}`;window.location.href=se},"data-testid":"button-contact-seller",children:[n.jsx(nd,{className:"h-4 w-4 mr-2"}),"Contact Seller"]}),p.contactPhone&&n.jsxs($,{variant:"outline",onClick:()=>{if(!r){b(!0);return}window.location.href=`tel:${p.contactPhone}`},"data-testid":"button-call-seller",children:[n.jsx(rp,{className:"h-4 w-4 mr-2"}),"Call"]})]}),r&&!r.isAdmin&&(h?n.jsxs(Y,{variant:"outline",className:"text-muted-foreground","data-testid":"badge-already-flagged",children:[n.jsx(q1,{className:"h-3 w-3 mr-1"}),"Already Flagged"]}):n.jsxs($,{variant:"outline",onClick:()=>u(!0),disabled:S.isPending,"data-testid":"button-flag-listing",className:"text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[n.jsx(q1,{className:"h-4 w-4 mr-2"}),"Flag as Spam"]}))]}),(r==null?void 0:r.isAdmin)&&n.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[n.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx($e,{className:"font-semibold",children:"Listing Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p.isActive?"Active - visible in search":"Inactive - hidden from search"})]}),n.jsx(hh,{checked:p.isActive||!1,onCheckedChange:_,disabled:k.isPending,"data-testid":"switch-listing-active"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx($e,{className:"font-semibold",children:"Featured/Boosted"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p.isFeatured?"Featured - shown at top":"Normal priority"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[p.isFeatured&&n.jsx(To,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),n.jsx(hh,{checked:p.isFeatured||!1,onCheckedChange:T,disabled:k.isPending,"data-testid":"switch-listing-featured"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{className:"font-semibold",children:"Extend Expiration Date"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current expiration: ",p.expiresAt?new Date(p.expiresAt).toLocaleDateString():"No expiration"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{type:"date",value:l,onChange:L=>c(L.target.value),"data-testid":"input-expiration-date",className:"flex-1"}),n.jsx($,{onClick:D,disabled:k.isPending,"data-testid":"button-update-expiration",size:"sm",children:"Update"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),n.jsx(rs,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:a,onChange:L=>o(L.target.value),rows:4,"data-testid":"textarea-admin-notes"}),n.jsx($,{onClick:R,disabled:k.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsx(bt,{href:`/dashboard/marketplace/${p.id}/edit`,children:n.jsxs($,{variant:"outline","data-testid":"button-edit-listing",children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),n.jsx($,{variant:"destructive",onClick:C,disabled:w.isPending,"data-testid":"button-delete-listing",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),n.jsx(pl,{open:d,onOpenChange:u,children:n.jsxs(so,{"data-testid":"dialog-flag-confirm",children:[n.jsxs(no,{children:[n.jsx(io,{children:"Flag this listing as spam or fraud?"}),n.jsx(ao,{children:"This action will notify administrators to review this listing. False reports may result in account restrictions. Are you sure this listing violates our community guidelines?"})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-flag",children:"Cancel"}),n.jsx(oo,{onClick:()=>{p&&S.mutate(p.id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-flag",children:S.isPending?"Flagging...":"Flag Listing"})]})]})}),n.jsx(pl,{open:y,onOpenChange:b,children:n.jsxs(so,{"data-testid":"dialog-login-prompt",children:[n.jsxs(no,{children:[n.jsx(io,{children:"Sign in to continue"}),n.jsx(ao,{children:"You need to create an account or sign in to contact sellers, apply for jobs, and interact with listings."})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),n.jsx(oo,{onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),p&&p.category==="job"&&n.jsx(qK,{listing:p,open:j,onOpenChange:v})]}))}const $S=[{id:"aircraft-sale",label:"Aircraft For Sale",fee:"$25-100/mo"},{id:"job",label:"Aviation Jobs",fee:"$40/mo"},{id:"cfi",label:"CFIs",fee:"$30/mo"},{id:"flight-school",label:"Flight Schools",fee:"$250/mo"},{id:"mechanic",label:"Mechanics",fee:"$40/mo"},{id:"charter",label:"Charter Services",fee:"$250/mo"}];function WK(){var F;const[t,e]=x.useState("aircraft-sale"),[s,r]=x.useState(null),[i,a]=x.useState(!1),[o,l]=x.useState([]),[c,d]=x.useState(!1),[u,h]=x.useState("aircraft-sale"),[m,y]=x.useState(""),[b,j]=x.useState(""),[v,p]=x.useState(""),[f,w]=x.useState("all"),[S,k]=x.useState(""),[C,_]=x.useState("100"),[T,R]=x.useState("all"),[,D]=Hs(),B=(()=>{const O=new URLSearchParams;return t&&O.set("category",t),m&&O.set("city",m),b&&O.set("minPrice",b),v&&O.set("maxPrice",v),f&&f!=="all"&&O.set("engineType",f),S&&O.set("keyword",S),C&&O.set("radius",C),T&&T!=="all"&&O.set("cfiRating",T),O.toString()})(),{data:ee=[],isLoading:W}=ze({queryKey:["/api/marketplace",t,m,b,v,f,S,C,T],queryFn:async()=>{const O=await fetch(`/api/marketplace?${B}`);if(!O.ok)throw new Error("Failed to fetch listings");return O.json()}}),{data:se=[]}=ze({queryKey:["/api/promo-alerts"]});x.useEffect(()=>{if(u!==t){h(t);const O=`promo-seen-${t}`;localStorage.getItem(O)||se.find(tt=>tt.showOnCategoryPages&&(!tt.targetCategories||tt.targetCategories.length===0||tt.targetCategories.includes(t)))&&(d(!0),localStorage.setItem(O,"true"))}},[t,u,se]);const A=O=>{l(he=>[...he,O])},K=se.filter(O=>O.showOnMainPage&&!o.includes(O.id)),M=se.find(O=>O.showOnCategoryPages&&(!O.targetCategories||O.targetCategories.length===0||O.targetCategories.includes(t)));return n.jsxs("div",{className:"min-h-screen",children:[n.jsx("section",{className:"bg-muted py-8 sm:py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3 sm:mb-4","data-testid":"text-marketplace-title",children:"Aviation Marketplace"}),n.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl",children:"Connect with the aviation community. Buy, sell, and find professional services."})]})}),n.jsx("section",{className:"border-b bg-background sticky top-16 z-40",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs(xh,{className:"w-full whitespace-nowrap",children:[n.jsx("div",{className:"flex gap-2 py-4",children:$S.map(O=>n.jsxs($,{variant:t===O.id?"default":"outline",onClick:()=>e(O.id),className:"rounded-full shrink-0","data-testid":`button-category-${O.id}`,children:[O.label,n.jsx("span",{className:"ml-2 text-xs opacity-70",children:O.fee})]},O.id))}),n.jsx(a0,{orientation:"horizontal"})]})})}),n.jsxs("section",{className:"container mx-auto px-4 py-12",children:[K.map(O=>n.jsxs(ir,{className:"mb-6 border-green-500 bg-green-50 dark:bg-green-950/20","data-testid":`alert-promo-${O.id}`,children:[n.jsx(sp,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Cu,{className:"text-green-800 dark:text-green-200 font-semibold",children:O.title}),n.jsxs(ar,{className:"text-green-700 dark:text-green-300",children:[O.message,O.promoCode&&n.jsx("span",{className:"inline-block ml-2 px-2 py-1 bg-green-600 text-white text-xs font-mono rounded",children:O.promoCode})]})]}),n.jsx($,{variant:"ghost",size:"icon",onClick:()=>A(O.id),className:"text-green-600 hover:text-green-800 dark:text-green-400","data-testid":`button-dismiss-alert-${O.id}`,children:n.jsx(sm,{className:"h-4 w-4"})})]},O.id)),n.jsx(t0,{placement:"marketplace",category:t,className:"mb-8"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold mb-1",children:(F=$S.find(O=>O.id===t))==null?void 0:F.label}),n.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[n.jsx("span",{"data-testid":"text-marketplace-count",children:ee.length})," active listings"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($,{variant:"outline",onClick:()=>a(!i),className:"flex-1 sm:flex-initial","data-testid":"button-toggle-filters",children:[n.jsx(iB,{className:"w-4 h-4 mr-2"}),"Filters"]}),n.jsx($,{variant:"default",onClick:()=>D("/create-marketplace-listing"),className:"flex-1 sm:flex-initial","data-testid":"button-create-listing",children:"Create Listing"})]})]}),i&&n.jsx(U,{className:"mb-6",children:n.jsxs(z,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t==="job"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"keyword-filter",children:"Keyword Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"keyword-filter",placeholder:"e.g. pilot, mechanic, CFI...",value:S,onChange:O=>k(O.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"city-filter",children:"City"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:O=>y(O.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"radius-filter",children:"Distance (miles)"}),n.jsxs(As,{value:C,onValueChange:_,children:[n.jsx(ws,{id:"radius-filter","data-testid":"select-radius-filter",children:n.jsx(Fs,{placeholder:"Select radius"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"10",children:"Within 10 miles"}),n.jsx(ve,{value:"25",children:"Within 25 miles"}),n.jsx(ve,{value:"50",children:"Within 50 miles"}),n.jsx(ve,{value:"100",children:"Within 100 miles"}),n.jsx(ve,{value:"250",children:"Within 250 miles"}),n.jsx(ve,{value:"500",children:"Within 500 miles"}),n.jsx(ve,{value:"999999",children:"Any distance"})]})]})]})]}),t==="aircraft-sale"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"city-filter",children:"City"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:O=>y(O.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"min-price",children:"Min Price"}),n.jsx(Q,{id:"min-price",type:"number",placeholder:"$0",value:b,onChange:O=>j(O.target.value),"data-testid":"input-min-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"max-price",children:"Max Price"}),n.jsx(Q,{id:"max-price",type:"number",placeholder:"No max",value:v,onChange:O=>p(O.target.value),"data-testid":"input-max-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"engine-type",children:"Engine Type"}),n.jsxs(As,{value:f,onValueChange:w,children:[n.jsx(ws,{id:"engine-type","data-testid":"select-engine-type",children:n.jsx(Fs,{placeholder:"All types"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"all",children:"All types"}),n.jsx(ve,{value:"Single-Engine",children:"Single-Engine"}),n.jsx(ve,{value:"Multi-Engine",children:"Multi-Engine"}),n.jsx(ve,{value:"Turboprop",children:"Turboprop"}),n.jsx(ve,{value:"Jet",children:"Jet"}),n.jsx(ve,{value:"Rotor",children:"Rotor (Helicopters)"})]})]})]})]}),t==="cfi"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"keyword-filter",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"keyword-filter",placeholder:"Search by name, certifications...",value:S,onChange:O=>k(O.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"cfi-rating",children:"Rating / Certification"}),n.jsxs(As,{value:T,onValueChange:R,children:[n.jsx(ws,{id:"cfi-rating","data-testid":"select-cfi-rating",children:n.jsx(Fs,{placeholder:"All ratings"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"all",children:"All ratings"}),n.jsx(ve,{value:"CFI",children:"CFI (Basic)"}),n.jsx(ve,{value:"CFII",children:"CFII (Instrument)"}),n.jsx(ve,{value:"MEI",children:"MEI (Multi-Engine)"}),n.jsx(ve,{value:"ATP",children:"ATP"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"city-filter",children:"City"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:O=>y(O.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]}),["flight-school","mechanic","charter"].includes(t)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"keyword-filter",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"keyword-filter",placeholder:"Search by name, services...",value:S,onChange:O=>k(O.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"city-filter",children:"City"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(Q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:O=>y(O.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]})]}),(m||b||v||f!=="all"||S||C!=="100"||T!=="all")&&n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx($,{variant:"ghost",onClick:()=>{y(""),j(""),p(""),w("all"),k(""),_("100"),R("all")},"data-testid":"button-clear-filters",children:"Clear all filters"})})]})}),W?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(O=>n.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},O))}):ee.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No listings in this category yet"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(O=>{var he,_e;return n.jsx("div",{onClick:()=>r(O.id),className:"cursor-pointer",children:n.jsx(TK,{id:O.id,category:O.category,title:O.title,description:O.description,price:o0(O.price),location:O.city&&O.state?`${O.city}, ${O.state}`:O.location||"N/A",image:(he=O.images)==null?void 0:he[0],images:((_e=O.images)==null?void 0:_e.length)||0,tier:O.tier||void 0,isExample:O.isExample||!1})},O.id)})})]}),s&&n.jsx(l0,{listingId:s,open:!!s,onOpenChange:O=>!O&&r(null)}),M&&n.jsx(gs,{open:c,onOpenChange:d,children:n.jsxs(ls,{className:"sm:max-w-md","data-testid":"dialog-promo-modal",children:[n.jsxs(ys,{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:n.jsx(sp,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),n.jsx("div",{className:"flex-1",children:n.jsx(vs,{className:"text-xl",children:M.title})})]}),n.jsx(_s,{className:"text-base",children:M.message})]}),M.promoCode&&n.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg border-2 border-dashed border-green-500",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2 text-center",children:"Your Promo Code"}),n.jsx("p",{className:"text-2xl font-mono font-bold text-center text-green-600 dark:text-green-400","data-testid":"text-promo-code",children:M.promoCode})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx($,{onClick:()=>d(!1),"data-testid":"button-close-promo-modal",children:"Got it, thanks!"})})]})})]})}var c0="Tabs",[KK,zse]=Ws(c0,[Ax]),n5=Ax(),[GK,d0]=KK(c0),r5=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=rm(l),[h,m]=Vr({prop:r,onChange:i,defaultProp:a});return n.jsx(GK,{scope:s,baseId:lr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(Le.div,{dir:u,"data-orientation":o,...d,ref:e})})});r5.displayName=c0;var i5="TabsList",a5=x.forwardRef((t,e)=>{const{__scopeTabs:s,loop:r=!0,...i}=t,a=d0(i5,s),o=n5(s);return n.jsx(gF,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Le.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});a5.displayName=i5;var o5="TabsTrigger",l5=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=t,o=d0(o5,s),l=n5(s),c=u5(o.baseId,r),d=h5(o.baseId,r),u=r===o.value;return n.jsx(yF,{asChild:!0,...l,focusable:!i,active:u,children:n.jsx(Le.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:ye(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});l5.displayName=o5;var c5="TabsContent",d5=x.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=t,l=d0(c5,s),c=u5(l.baseId,r),d=h5(l.baseId,r),u=r===l.value,h=x.useRef(u);return x.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(Ks,{present:i||u,children:({present:m})=>n.jsx(Le.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});d5.displayName=c5;function u5(t,e){return`${t}-trigger-${e}`}function h5(t,e){return`${t}-content-${e}`}var QK=r5,m5=a5,f5=l5,p5=d5;const Sd=QK,Nl=x.forwardRef(({className:t,...e},s)=>n.jsx(m5,{ref:s,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Nl.displayName=m5.displayName;const Ct=x.forwardRef(({className:t,...e},s)=>n.jsx(f5,{ref:s,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ct.displayName=f5.displayName;const Et=x.forwardRef(({className:t,...e},s)=>n.jsx(p5,{ref:s,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Et.displayName=p5.displayName;const x5=x.forwardRef(({className:t,...e},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:we("w-full caption-bottom text-sm",t),...e})}));x5.displayName="Table";const g5=x.forwardRef(({className:t,...e},s)=>n.jsx("thead",{ref:s,className:we("[&_tr]:border-b",t),...e}));g5.displayName="TableHeader";const y5=x.forwardRef(({className:t,...e},s)=>n.jsx("tbody",{ref:s,className:we("[&_tr:last-child]:border-0",t),...e}));y5.displayName="TableBody";const YK=x.forwardRef(({className:t,...e},s)=>n.jsx("tfoot",{ref:s,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));YK.displayName="TableFooter";const wf=x.forwardRef(({className:t,...e},s)=>n.jsx("tr",{ref:s,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));wf.displayName="TableRow";const Bl=x.forwardRef(({className:t,...e},s)=>n.jsx("th",{ref:s,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Bl.displayName="TableHead";const bo=x.forwardRef(({className:t,...e},s)=>n.jsx("td",{ref:s,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));bo.displayName="TableCell";const XK=x.forwardRef(({className:t,...e},s)=>n.jsx("caption",{ref:s,className:we("mt-4 text-sm text-muted-foreground",t),...e}));XK.displayName="TableCaption";function mj({rating:t,totalReviews:e,size:s="md",showCount:r=!0}){const i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},a=()=>{const o=[],l=Math.floor(t),c=t%1>=.5;for(let d=0;d<5;d++)d<l?o.push(n.jsx(To,{className:`${i[s]} fill-yellow-400 text-yellow-400`,"data-testid":`star-filled-${d}`},d)):d===l&&c?o.push(n.jsxs("div",{className:"relative","data-testid":`star-half-${d}`,children:[n.jsx(To,{className:`${i[s]} text-gray-300`}),n.jsx("div",{className:"absolute top-0 left-0 w-1/2 overflow-hidden",children:n.jsx(To,{className:`${i[s]} fill-yellow-400 text-yellow-400`})})]},d)):o.push(n.jsx(To,{className:`${i[s]} text-gray-300`,"data-testid":`star-empty-${d}`},d));return o};return n.jsxs("div",{className:"flex items-center gap-1","data-testid":"star-rating",children:[n.jsx("div",{className:"flex gap-0.5",children:a()}),r&&e!==void 0&&n.jsxs("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"review-count",children:["(",e,")"]}),!r&&n.jsx("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"rating-value",children:t.toFixed(1)})]})}function ZK(){const[,t]=Hs(),{user:e}=vn(),{toast:s}=qt(),{data:r}=ze({queryKey:["/api/users",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:i=[]}=ze({queryKey:["/api/aircraft"]}),a=i.filter(C=>C.ownerId===(e==null?void 0:e.id)),{data:o=[]}=ze({queryKey:["/api/rentals/owner",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:l=[]}=ze({queryKey:["/api/rentals/renter",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:c=[]}=ze({queryKey:["/api/transactions/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:d=[]}=ze({queryKey:["/api/users"]}),u=o.filter(C=>C.status==="completed"),h=o.filter(C=>C.status==="active"),m=o.filter(C=>C.status==="pending"),y=l.filter(C=>C.status==="pending"),b=l.filter(C=>C.status==="approved"&&!C.isPaid),j=u.filter(C=>C.payoutCompleted).reduce((C,_)=>C+parseFloat(_.ownerPayout),0),v=u.filter(C=>!C.payoutCompleted).reduce((C,_)=>C+parseFloat(_.ownerPayout),0),p=a.filter(C=>C.isListed).length,f=h.length,w=()=>{t("/owner-withdrawals")},S=Re({mutationFn:async C=>await Fe("PATCH",`/api/rentals/${C}`,{status:"approved"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),s({title:"Request Approved",description:"The renter has been notified and can now proceed with payment."})},onError:C=>{s({title:"Error",description:C.message||"Failed to approve request",variant:"destructive"})}}),k=Re({mutationFn:async C=>await Fe("PATCH",`/api/rentals/${C}`,{status:"cancelled"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),s({title:"Request Declined",description:"The rental request has been cancelled."})},onError:C=>{s({title:"Error",description:C.message||"Failed to decline request",variant:"destructive"})}});return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-dashboard-title",children:"Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your rentals, listings, and earnings"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Earnings"}),n.jsx(us,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",j.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",c.filter(C=>C.status==="completed").length," completed rentals"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Pending Payouts"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pending-payouts",children:["$",v.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",u.filter(C=>!C.payoutCompleted).length," completed rentals"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active Listings"}),n.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-listings",children:p}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," total aircraft"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active Rentals"}),n.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-rentals",children:f}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently rented"})]})]})]}),!(r!=null&&r.paypalEmail)&&v>0&&n.jsxs(ir,{className:"mb-6 border-accent","data-testid":"alert-paypal-setup",children:[n.jsx(ju,{className:"h-4 w-4"}),n.jsx(Cu,{children:"PayPal Account Required"}),n.jsxs(ar,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("span",{children:["Set up your PayPal account to receive instant payouts of $",v.toFixed(2)]}),n.jsx($,{onClick:w,"data-testid":"button-setup-paypal",className:"w-full sm:w-auto",children:"Setup PayPal Payouts"})]})]}),(r==null?void 0:r.paypalEmail)&&n.jsxs(ir,{className:"mb-6 border-chart-2","data-testid":"alert-paypal-connected",children:[n.jsx(Os,{className:"h-4 w-4 text-chart-2"}),n.jsx(Cu,{children:"PayPal Account Connected"}),n.jsxs(ar,{children:["Your PayPal account (",r.paypalEmail,") is ready to receive instant payouts"]})]}),b.length>0&&n.jsxs(ir,{className:"mb-6 border-accent","data-testid":"alert-payment-needed",children:[n.jsx(ll,{className:"h-4 w-4"}),n.jsx(Cu,{children:"Payment Required"}),n.jsx(ar,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{children:["You have ",b.length," approved rental",b.length>1?"s":""," awaiting payment."]}),n.jsx("div",{className:"space-y-2",children:b.map(C=>{const _=i.find(T=>T.id===C.aircraftId);return n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 bg-background rounded-lg border","data-testid":`alert-payment-rental-${C.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-foreground",children:[_==null?void 0:_.year," ",_==null?void 0:_.make," ",_==null?void 0:_.model]}),n.jsxs("p",{className:"text-sm",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex flex-row items-center justify-between sm:flex-col sm:items-end gap-2",children:[n.jsxs("p",{className:"font-bold text-foreground",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),n.jsx($,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{window.location.href=`/rental-payment/${C.id}`},"data-testid":`button-pay-rental-${C.id}`,children:"Pay Now"})]})]},C.id)})})]})})]}),n.jsxs(Sd,{defaultValue:m.length>0?"pending":"active",className:"space-y-6",children:[n.jsxs(Nl,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 h-auto","data-testid":"tabs-dashboard",children:[n.jsxs(Ct,{value:"pending","data-testid":"tab-pending",className:"flex-col sm:flex-row gap-1",children:[n.jsx("span",{className:"text-xs sm:text-sm",children:"Pending"}),m.length>0&&n.jsx(Y,{className:"bg-accent text-accent-foreground text-xs",children:m.length})]}),n.jsx(Ct,{value:"active","data-testid":"tab-active",className:"text-xs sm:text-sm",children:"Active"}),n.jsx(Ct,{value:"upcoming","data-testid":"tab-upcoming",className:"text-xs sm:text-sm",children:"Upcoming"}),n.jsx(Ct,{value:"past","data-testid":"tab-past",className:"text-xs sm:text-sm",children:"Past"}),n.jsx(Ct,{value:"listings","data-testid":"tab-listings",className:"text-xs sm:text-sm",children:"Listings"}),n.jsx(Ct,{value:"financials","data-testid":"tab-financials",className:"text-xs sm:text-sm",children:"Financials"})]}),n.jsxs(Et,{value:"pending",className:"space-y-4",children:[n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Pending Rental Requests"})}),n.jsx(z,{children:n.jsx("div",{className:"space-y-4",children:m.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending requests at this time"}):m.map(C=>{const _=i.find(R=>R.id===C.aircraftId),T=d.find(R=>R.id===C.renterId);return n.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`rental-pending-${C.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold mb-1",children:[(_==null?void 0:_.year)||""," ",(_==null?void 0:_.make)||"Unknown"," ",(_==null?void 0:_.model)||""]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renter: ",T==null?void 0:T.firstName," ",T==null?void 0:T.lastName]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),(T==null?void 0:T.averageRating)&&(T==null?void 0:T.totalReviews)&&T.totalReviews>0&&n.jsx(mj,{rating:parseFloat(T.averageRating),totalReviews:T.totalReviews||0,size:"sm"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(C.estimatedHours)," flight hours estimated"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(C.ownerPayout).toFixed(2)]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[n.jsx(Y,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{size:"sm",className:"bg-chart-2 text-white hover:bg-chart-2 flex-1 sm:flex-none",onClick:()=>S.mutate(C.id),disabled:S.isPending||k.isPending,"data-testid":`button-approve-${C.id}`,children:"Approve"}),n.jsx($,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>k.mutate(C.id),disabled:S.isPending||k.isPending,"data-testid":`button-decline-${C.id}`,children:"Decline"})]})]})]})]},C.id)})})})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"My Rental Requests"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests you've sent to aircraft owners"})]}),n.jsx(z,{children:n.jsx("div",{className:"space-y-4",children:y.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending rental requests"}):y.map(C=>{const _=i.find(R=>R.id===C.aircraftId),T=d.find(R=>R.id===C.ownerId);return n.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`my-rental-request-${C.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold mb-1",children:[(_==null?void 0:_.year)||""," ",(_==null?void 0:_.make)||"Unknown"," ",(_==null?void 0:_.model)||""]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",T==null?void 0:T.firstName," ",T==null?void 0:T.lastName]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),(T==null?void 0:T.averageRating)&&(T==null?void 0:T.totalReviews)&&T.totalReviews>0&&n.jsx(mj,{rating:parseFloat(T.averageRating),totalReviews:T.totalReviews||0,size:"sm"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(C.estimatedHours)," flight hours estimated"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total cost"})]}),n.jsx(Y,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending Review"})]})]},C.id)})})})]})]}),n.jsx(Et,{value:"active",className:"space-y-4",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Active Rentals"})}),n.jsx(z,{children:n.jsx("div",{className:"space-y-4",children:h.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active rentals at this time"}):h.map(C=>{const _=i.find(T=>T.id===C.aircraftId);return n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 border rounded-lg hover-elevate","data-testid":`rental-active-${C.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-semibold mb-1",children:[(_==null?void 0:_.year)||""," ",(_==null?void 0:_.make)||"Unknown"," ",(_==null?void 0:_.model)||""]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rented to: Renter #",C.renterId.substring(0,8)]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-bold",children:["$",parseFloat(C.totalCostRenter).toFixed(2)]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(C.ownerPayout).toFixed(2)]})]}),n.jsx(Y,{className:"bg-chart-2 text-white text-center",children:"Active"}),n.jsx($,{size:"sm",className:"w-full sm:w-auto","data-testid":`button-message-${C.id}`,children:"Message"})]})]},C.id)})})})]})}),n.jsx(Et,{value:"listings",children:n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsx(le,{children:"My Listings"}),n.jsx($,{className:"w-full sm:w-auto","data-testid":"button-add-listing",children:"Add New Listing"})]}),n.jsx(z,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4 border rounded-lg hover-elevate","data-testid":`listing-${C}`,children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("img",{src:"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=200",alt:"Aircraft",className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-1",children:"2018 Cessna 172 Skyhawk"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]})]}),n.jsxs("div",{className:"flex flex-row sm:items-center gap-3 justify-between sm:justify-end",children:[n.jsxs("div",{className:"flex flex-col items-start sm:items-end",children:[n.jsx("p",{className:"font-bold",children:"$145/hr"}),n.jsx(Y,{variant:"outline",className:"bg-chart-2/10 text-chart-2 border-chart-2 mt-1",children:"Listed"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"sm","data-testid":`button-toggle-listing-${C}`,children:"Unlist"}),n.jsx($,{variant:"ghost",size:"sm","data-testid":`button-edit-listing-${C}`,children:"Edit"})]})]})]},C))})})]})}),n.jsx(Et,{value:"financials",children:n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsx(le,{children:"Financial Transactions"}),n.jsx($,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent w-full sm:w-auto",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-manage-withdrawals",children:"Manage Withdrawals"})]}),n.jsx(z,{className:"overflow-x-auto",children:n.jsxs(x5,{children:[n.jsx(g5,{children:n.jsxs(wf,{children:[n.jsx(Bl,{children:"Date"}),n.jsx(Bl,{children:"Description"}),n.jsx(Bl,{children:"Type"}),n.jsx(Bl,{children:"Amount"}),n.jsx(Bl,{children:"Status"})]})}),n.jsx(y5,{children:u.length===0?n.jsx(wf,{children:n.jsx(bo,{colSpan:5,className:"text-center text-muted-foreground",children:"No completed rentals yet"})}):u.map(C=>{const _=i.find(T=>T.id===C.aircraftId);return n.jsxs(wf,{"data-testid":`transaction-${C.id}`,children:[n.jsx(bo,{children:new Date(C.endDate).toLocaleDateString()}),n.jsxs(bo,{children:["Rental payout - ",(_==null?void 0:_.make)||"Unknown"," ",(_==null?void 0:_.model)||""]}),n.jsx(bo,{children:n.jsx(Y,{variant:"outline",children:"Payout"})}),n.jsxs(bo,{className:"font-semibold",children:["$",parseFloat(C.ownerPayout).toFixed(2)]}),n.jsx(bo,{children:C.payoutCompleted?n.jsx(Y,{className:"bg-chart-2 text-white",children:"Completed"}):n.jsx(Y,{variant:"outline",children:"Pending"})})]},C.id)})})]})})]})})]})]})})}const ue=Symbol.for("drizzle:entityKind");function xs(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ue))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(t).constructor;if(s)for(;s;){if(ue in s&&s[ue]===e[ue])return!0;s=Object.getPrototypeOf(s)}return!1}var m2;m2=ue;class dd{constructor(e,s){P(this,"name");P(this,"keyAsName");P(this,"primary");P(this,"notNull");P(this,"default");P(this,"defaultFn");P(this,"onUpdateFn");P(this,"hasDefault");P(this,"isUnique");P(this,"uniqueName");P(this,"uniqueType");P(this,"dataType");P(this,"columnType");P(this,"enumValues");P(this,"generated");P(this,"generatedIdentity");P(this,"config");this.table=e,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}P(dd,m2,"Column");var f2;f2=ue;class v5{constructor(e,s,r){P(this,"config");P(this,"$default",this.$defaultFn);P(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}P(v5,f2,"ColumnBuilder");const fc=Symbol.for("drizzle:Name");var p2;p2=ue;class u0{constructor(e,s){P(this,"reference");P(this,"_onUpdate","no action");P(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new j5(e,this)}}P(u0,p2,"PgForeignKeyBuilder");var x2;x2=ue;class j5{constructor(e,s){P(this,"reference");P(this,"onUpdate");P(this,"onDelete");this.table=e,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:e,columns:s,foreignColumns:r}=this.reference(),i=s.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[fc],...i,r[0].table[fc],...a];return e??`${o.join("_")}_fk`}}P(j5,x2,"PgForeignKey");function JK(t){function e(){const{name:s,columns:r,foreignColumns:i}=t;return{name:s,columns:r,foreignColumns:i}}return new u0(e)}function eG(t,...e){return t(...e)}function tG(t,e){return`${t[fc]}_${e.join("_")}_unique`}function US(t,e,s){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!s&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function b5(t,e=0){const s=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&s.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=US(t,r+1,!0);s.push(c),r=d;continue}if(a==="}")return[s,r+1];if(a==="{"){const[c,d]=b5(t,r+1);s.push(c),r=d;continue}const[o,l]=US(t,r,!1);s.push(o),r=l}return[s,r]}function sG(t){const[e]=b5(t,1);return e}function w5(t){return`{${t.map(e=>Array.isArray(e)?w5(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var g2,y2;class vt extends(y2=v5,g2=ue,y2){constructor(){super(...arguments);P(this,"foreignKeyConfigs",[])}array(s){return new S5(this.config.name,this,s)}references(s,r={}){return this.foreignKeyConfigs.push({ref:s,actions:r}),this}unique(s,r){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>eG((o,l)=>{const c=new u0(()=>{const d=o();return{columns:[s],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(s){return new N5(s,this.config)}}P(vt,g2,"PgColumnBuilder");var v2,j2;class ct extends(j2=dd,v2=ue,j2){constructor(e,s){s.uniqueName||(s.uniqueName=tG(e,[s.name])),super(e,s),this.table=e}}P(ct,v2,"PgColumn");var b2,w2;class N5 extends(w2=ct,b2=ue,w2){constructor(){super(...arguments);P(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});P(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}P(N5,b2,"ExtraConfigColumn");var N2;N2=ue;class Nf{constructor(e,s,r,i){P(this,"name");P(this,"keyAsName");P(this,"type");P(this,"indexConfig");this.name=e,this.keyAsName=s,this.type=r,this.indexConfig=i}}P(Nf,N2,"IndexedColumn");var S2,C2;class S5 extends(C2=vt,S2=ue,C2){constructor(e,s,r){super(e,"array","PgArray"),this.config.baseBuilder=s,this.config.size=r}build(e){const s=this.config.baseBuilder.build(e);return new fj(e,this.config,s)}}P(S5,S2,"PgArrayBuilder");var _2,k2;const Mp=class Mp extends(k2=ct,_2=ue,k2){constructor(s,r,i,a){super(s,r);P(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=sG(s)),s.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(s,r=!1){const i=s.map(a=>a===null?null:xs(this.baseColumn,Mp)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:w5(i)}};P(Mp,_2,"PgArray");let fj=Mp;const BS=Symbol.for("drizzle:isPgEnum");function nG(t){return!!t&&typeof t=="function"&&BS in t&&t[BS]===!0}var P2;P2=ue;class h0{constructor(e,s,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:s,alias:r,isWith:i}}}P(h0,P2,"Subquery");const rG={startActiveSpan(t,e){return e()}},pc=Symbol.for("drizzle:ViewBaseConfig"),xy=Symbol.for("drizzle:Schema"),zS=Symbol.for("drizzle:Columns"),VS=Symbol.for("drizzle:ExtraConfigColumns"),gy=Symbol.for("drizzle:OriginalName"),yy=Symbol.for("drizzle:BaseName"),kp=Symbol.for("drizzle:IsAlias"),qS=Symbol.for("drizzle:ExtraConfigBuilder"),C5=Symbol.for("drizzle:IsDrizzleTable");var T2,E2,A2,F2,R2,I2,D2,O2,M2,L2;L2=ue,M2=fc,O2=gy,D2=xy,I2=zS,R2=VS,F2=yy,A2=kp,E2=C5,T2=qS;class mn{constructor(e,s,r){P(this,M2);P(this,O2);P(this,D2);P(this,I2);P(this,R2);P(this,F2);P(this,A2,!1);P(this,E2,!0);P(this,T2);this[fc]=this[gy]=e,this[xy]=s,this[yy]=r}}P(mn,L2,"Table"),P(mn,"Symbol",{Name:fc,Schema:xy,OriginalName:gy,Columns:zS,ExtraConfigColumns:VS,BaseName:yy,IsAlias:kp,ExtraConfigBuilder:qS});function _5(t){return typeof t=="object"&&t!==null&&C5 in t}function iG(t){return t!=null&&typeof t.getSQL=="function"}function aG(t){var s;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(s=r.typings)!=null&&s.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var $2;$2=ue;class Zn{constructor(e){P(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new is([this])}}P(Zn,$2,"StringChunk");var U2;U2=ue;const So=class So{constructor(e){P(this,"decoder",k5);P(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return rG.startActiveSpan("drizzle.buildSQL",s=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return s==null||s.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,s){const r=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return aG(e.map(u=>{var h;if(xs(u,Zn))return{sql:u.value.join(""),params:[]};if(xs(u,Pp))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new Zn("(")];for(const[y,b]of u.entries())m.push(b),y<u.length-1&&m.push(new Zn(", "));return m.push(new Zn(")")),this.buildQueryFromSourceParams(m,r)}if(xs(u,So))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(xs(u,mn)){const m=u[mn.Symbol.Schema],y=u[mn.Symbol.Name];return{sql:m===void 0||u[kp]?a(y):a(m)+"."+a(y),params:[]}}if(xs(u,dd)){const m=i.getColumnCasing(u);if(s.invokeSource==="indexes")return{sql:a(m),params:[]};const y=u.table[mn.Symbol.Schema];return{sql:u.table[kp]||y===void 0?a(u.table[mn.Symbol.Name])+"."+a(m):a(y)+"."+a(u.table[mn.Symbol.Name])+"."+a(m),params:[]}}if(xs(u,E5)){const m=u[pc].schema,y=u[pc].name;return{sql:m===void 0||u[pc].isAlias?a(y):a(m)+"."+a(y),params:[]}}if(xs(u,m0)){if(xs(u.value,Tp))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(xs(m,So))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let y=["none"];return l&&(y=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:y}}return xs(u,Tp)?{sql:o(d.value++,u),params:[u],typings:["none"]}:xs(u,So.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:xs(u,h0)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Zn("("),u._.sql,new Zn(") "),new Pp(u._.alias)],r):nG(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:iG(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new Zn("("),u.getSQL(),new Zn(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:s}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return s(e);if(typeof e=="object"){const r=e.toString();return s(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new So.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};P(So,U2,"SQL");let is=So;var B2;B2=ue;class Pp{constructor(e){P(this,"brand");this.value=e}getSQL(){return new is([this])}}P(Pp,B2,"Name");const k5={mapFromDriverValue:t=>t},P5={mapToDriverValue:t=>t};({...k5,...P5});var z2;z2=ue;class m0{constructor(e,s=P5){P(this,"brand");this.value=e,this.encoder=s}getSQL(){return new is([this])}}P(m0,z2,"Param");function et(t,...e){const s=[];(e.length>0||t.length>0&&t[0]!=="")&&s.push(new Zn(t[0]));for(const[r,i]of e.entries())s.push(i,new Zn(t[r+1]));return new is(s)}(t=>{function e(){return new is([])}t.empty=e;function s(c){return new is(c)}t.fromList=s;function r(c){return new is([new Zn(c)])}t.raw=r;function i(c,d){const u=[];for(const[h,m]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(m);return new is(u)}t.join=i;function a(c){return new Pp(c)}t.identifier=a;function o(c){return new Tp(c)}t.placeholder=o;function l(c,d){return new m0(c,d)}t.param=l})(et||(et={}));(t=>{var s;s=ue;const r=class r{constructor(a,o){P(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};P(r,s,"SQL.Aliased");let e=r;t.Aliased=e})(is||(is={}));var V2;V2=ue;class Tp{constructor(e){this.name=e}getSQL(){return new is([this])}}P(Tp,V2,"Placeholder");const T5=Symbol.for("drizzle:IsDrizzleView");var q2,H2,W2;W2=ue,H2=pc,q2=T5;class E5{constructor({name:e,schema:s,selectedFields:r,query:i}){P(this,H2);P(this,q2,!0);this[pc]={name:e,originalName:e,schema:s,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new is([this])}}P(E5,W2,"View");function oG(t){return typeof t=="object"&&t!==null&&T5 in t}dd.prototype.getSQL=function(){return new is([this])};mn.prototype.getSQL=function(){return new is([this])};h0.prototype.getSQL=function(){return new is([this])};function lG(t){return t[mn.Symbol.Columns]}function cG(t){return t[pc].selectedFields}function $s(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var K2,G2;class um extends(G2=vt,K2=ue,G2){generatedAlwaysAsIdentity(e){if(e){const{name:s,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:s,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}P(um,K2,"PgIntColumnBaseBuilder");var Q2,Y2;class A5 extends(Y2=um,Q2=ue,Y2){constructor(e){super(e,"number","PgBigInt53")}build(e){return new F5(e,this.config)}}P(A5,Q2,"PgBigInt53Builder");var X2,Z2;class F5 extends(Z2=ct,X2=ue,Z2){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}P(F5,X2,"PgBigInt53");var J2,e_;class R5 extends(e_=um,J2=ue,e_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new I5(e,this.config)}}P(R5,J2,"PgBigInt64Builder");var t_,s_;class I5 extends(s_=ct,t_=ue,s_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}P(I5,t_,"PgBigInt64");function dG(t,e){const{name:s,config:r}=$s(t,e);return r.mode==="number"?new A5(s):new R5(s)}var n_,r_;class D5 extends(r_=vt,n_=ue,r_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new O5(e,this.config)}}P(D5,n_,"PgBigSerial53Builder");var i_,a_;class O5 extends(a_=ct,i_=ue,a_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}P(O5,i_,"PgBigSerial53");var o_,l_;class M5 extends(l_=vt,o_=ue,l_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new L5(e,this.config)}}P(M5,o_,"PgBigSerial64Builder");var c_,d_;class L5 extends(d_=ct,c_=ue,d_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}P(L5,c_,"PgBigSerial64");function uG(t,e){const{name:s,config:r}=$s(t,e);return r.mode==="number"?new D5(s):new M5(s)}var u_,h_;class $5 extends(h_=vt,u_=ue,h_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new U5(e,this.config)}}P($5,u_,"PgBooleanBuilder");var m_,f_;class U5 extends(f_=ct,m_=ue,f_){getSQLType(){return"boolean"}}P(U5,m_,"PgBoolean");function Xe(t){return new $5(t??"")}var p_,x_;class B5 extends(x_=vt,p_=ue,x_){constructor(e,s){super(e,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new z5(e,this.config)}}P(B5,p_,"PgCharBuilder");var g_,y_;class z5 extends(y_=ct,g_=ue,y_){constructor(){super(...arguments);P(this,"length",this.config.length);P(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}P(z5,g_,"PgChar");function hG(t,e={}){const{name:s,config:r}=$s(t,e);return new B5(s,r)}var v_,j_;class V5 extends(j_=vt,v_=ue,j_){constructor(e){super(e,"string","PgCidr")}build(e){return new q5(e,this.config)}}P(V5,v_,"PgCidrBuilder");var b_,w_;class q5 extends(w_=ct,b_=ue,w_){getSQLType(){return"cidr"}}P(q5,b_,"PgCidr");function mG(t){return new V5(t??"")}var N_,S_;class H5 extends(S_=vt,N_=ue,S_){constructor(e,s,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=r}build(e){return new W5(e,this.config)}}P(H5,N_,"PgCustomColumnBuilder");var C_,__;class W5 extends(__=ct,C_=ue,__){constructor(s,r){super(s,r);P(this,"sqlName");P(this,"mapTo");P(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}P(W5,C_,"PgCustomColumn");function fG(t){return(e,s)=>{const{name:r,config:i}=$s(e,s);return new H5(r,i,t)}}var k_,P_;class Cd extends(P_=vt,k_=ue,P_){defaultNow(){return this.default(et`now()`)}}P(Cd,k_,"PgDateColumnBaseBuilder");var T_,E_;class K5 extends(E_=Cd,T_=ue,E_){constructor(e){super(e,"date","PgDate")}build(e){return new G5(e,this.config)}}P(K5,T_,"PgDateBuilder");var A_,F_;class G5 extends(F_=ct,A_=ue,F_){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}P(G5,A_,"PgDate");var R_,I_;class Q5 extends(I_=Cd,R_=ue,I_){constructor(e){super(e,"string","PgDateString")}build(e){return new Y5(e,this.config)}}P(Q5,R_,"PgDateStringBuilder");var D_,O_;class Y5 extends(O_=ct,D_=ue,O_){getSQLType(){return"date"}}P(Y5,D_,"PgDateString");function pG(t,e){const{name:s,config:r}=$s(t,e);return(r==null?void 0:r.mode)==="date"?new K5(s):new Q5(s)}var M_,L_;class X5 extends(L_=vt,M_=ue,L_){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Z5(e,this.config)}}P(X5,M_,"PgDoublePrecisionBuilder");var $_,U_;class Z5 extends(U_=ct,$_=ue,U_){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}P(Z5,$_,"PgDoublePrecision");function xG(t){return new X5(t??"")}var B_,z_;class J5 extends(z_=vt,B_=ue,z_){constructor(e){super(e,"string","PgInet")}build(e){return new e3(e,this.config)}}P(J5,B_,"PgInetBuilder");var V_,q_;class e3 extends(q_=ct,V_=ue,q_){getSQLType(){return"inet"}}P(e3,V_,"PgInet");function gG(t){return new J5(t??"")}var H_,W_;class t3 extends(W_=um,H_=ue,W_){constructor(e){super(e,"number","PgInteger")}build(e){return new s3(e,this.config)}}P(t3,H_,"PgIntegerBuilder");var K_,G_;class s3 extends(G_=ct,K_=ue,G_){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}P(s3,K_,"PgInteger");function Lt(t){return new t3(t??"")}var Q_,Y_;class n3 extends(Y_=vt,Q_=ue,Y_){constructor(e,s){super(e,"string","PgInterval"),this.config.intervalConfig=s}build(e){return new r3(e,this.config)}}P(n3,Q_,"PgIntervalBuilder");var X_,Z_;class r3 extends(Z_=ct,X_=ue,Z_){constructor(){super(...arguments);P(this,"fields",this.config.intervalConfig.fields);P(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${s}${r}`}}P(r3,X_,"PgInterval");function yG(t,e={}){const{name:s,config:r}=$s(t,e);return new n3(s,r)}var J_,ek;class i3 extends(ek=vt,J_=ue,ek){constructor(e){super(e,"json","PgJson")}build(e){return new a3(e,this.config)}}P(i3,J_,"PgJsonBuilder");var tk,sk;class a3 extends(sk=ct,tk=ue,sk){constructor(e,s){super(e,s)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}P(a3,tk,"PgJson");function vG(t){return new i3(t??"")}var nk,rk;class o3 extends(rk=vt,nk=ue,rk){constructor(e){super(e,"json","PgJsonb")}build(e){return new l3(e,this.config)}}P(o3,nk,"PgJsonbBuilder");var ik,ak;class l3 extends(ak=ct,ik=ue,ak){constructor(e,s){super(e,s)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}P(l3,ik,"PgJsonb");function gh(t){return new o3(t??"")}var ok,lk;class c3 extends(lk=vt,ok=ue,lk){constructor(e){super(e,"array","PgLine")}build(e){return new d3(e,this.config)}}P(c3,ok,"PgLineBuilder");var ck,dk;class d3 extends(dk=ct,ck=ue,dk){getSQLType(){return"line"}mapFromDriverValue(e){const[s,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}P(d3,ck,"PgLine");var uk,hk;class u3 extends(hk=vt,uk=ue,hk){constructor(e){super(e,"json","PgLineABC")}build(e){return new h3(e,this.config)}}P(u3,uk,"PgLineABCBuilder");var mk,fk;class h3 extends(fk=ct,mk=ue,fk){getSQLType(){return"line"}mapFromDriverValue(e){const[s,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}P(h3,mk,"PgLineABC");function jG(t,e){const{name:s,config:r}=$s(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new c3(s):new u3(s)}var pk,xk;class m3 extends(xk=vt,pk=ue,xk){constructor(e){super(e,"string","PgMacaddr")}build(e){return new f3(e,this.config)}}P(m3,pk,"PgMacaddrBuilder");var gk,yk;class f3 extends(yk=ct,gk=ue,yk){getSQLType(){return"macaddr"}}P(f3,gk,"PgMacaddr");function bG(t){return new m3(t??"")}var vk,jk;class p3 extends(jk=vt,vk=ue,jk){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new x3(e,this.config)}}P(p3,vk,"PgMacaddr8Builder");var bk,wk;class x3 extends(wk=ct,bk=ue,wk){getSQLType(){return"macaddr8"}}P(x3,bk,"PgMacaddr8");function wG(t){return new p3(t??"")}var Nk,Sk;class g3 extends(Sk=vt,Nk=ue,Sk){constructor(e,s,r){super(e,"string","PgNumeric"),this.config.precision=s,this.config.scale=r}build(e){return new y3(e,this.config)}}P(g3,Nk,"PgNumericBuilder");var Ck,_k;class y3 extends(_k=ct,Ck=ue,_k){constructor(s,r){super(s,r);P(this,"precision");P(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}P(y3,Ck,"PgNumeric");function v3(t,e){const{name:s,config:r}=$s(t,e);return new g3(s,r==null?void 0:r.precision,r==null?void 0:r.scale)}const kt=v3;var kk,Pk;class j3 extends(Pk=vt,kk=ue,Pk){constructor(e){super(e,"array","PgPointTuple")}build(e){return new b3(e,this.config)}}P(j3,kk,"PgPointTupleBuilder");var Tk,Ek;class b3 extends(Ek=ct,Tk=ue,Ek){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,r]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}P(b3,Tk,"PgPointTuple");var Ak,Fk;class w3 extends(Fk=vt,Ak=ue,Fk){constructor(e){super(e,"json","PgPointObject")}build(e){return new N3(e,this.config)}}P(w3,Ak,"PgPointObjectBuilder");var Rk,Ik;class N3 extends(Ik=ct,Rk=ue,Ik){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}P(N3,Rk,"PgPointObject");function NG(t,e){const{name:s,config:r}=$s(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new j3(s):new w3(s)}function SG(t){const e=[];for(let s=0;s<t.length;s+=2)e.push(Number.parseInt(t.slice(s,s+2),16));return new Uint8Array(e)}function HS(t,e){const s=new ArrayBuffer(8),r=new DataView(s);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function S3(t){const e=SG(t);let s=0;const r=e[s];s+=1;const i=new DataView(e.buffer),a=i.getUint32(s,r===1);if(s+=4,a&536870912&&(i.getUint32(s,r===1),s+=4),(a&65535)===1){const o=HS(e,s);s+=8;const l=HS(e,s);return s+=8,[o,l]}throw new Error("Unsupported geometry type")}var Dk,Ok;class C3 extends(Ok=vt,Dk=ue,Ok){constructor(e){super(e,"array","PgGeometry")}build(e){return new _3(e,this.config)}}P(C3,Dk,"PgGeometryBuilder");var Mk,Lk;class _3 extends(Lk=ct,Mk=ue,Lk){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return S3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}P(_3,Mk,"PgGeometry");var $k,Uk;class k3 extends(Uk=vt,$k=ue,Uk){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new P3(e,this.config)}}P(k3,$k,"PgGeometryObjectBuilder");var Bk,zk;class P3 extends(zk=ct,Bk=ue,zk){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const s=S3(e);return{x:s[0],y:s[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}P(P3,Bk,"PgGeometryObject");function CG(t,e){const{name:s,config:r}=$s(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new C3(s):new k3(s)}var Vk,qk;class T3 extends(qk=vt,Vk=ue,qk){constructor(e,s){super(e,"number","PgReal"),this.config.length=s}build(e){return new E3(e,this.config)}}P(T3,Vk,"PgRealBuilder");var Hk,Wk;class E3 extends(Wk=ct,Hk=ue,Wk){constructor(s,r){super(s,r);P(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}P(E3,Hk,"PgReal");function _G(t){return new T3(t??"")}var Kk,Gk;class A3 extends(Gk=vt,Kk=ue,Gk){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new F3(e,this.config)}}P(A3,Kk,"PgSerialBuilder");var Qk,Yk;class F3 extends(Yk=ct,Qk=ue,Yk){getSQLType(){return"serial"}}P(F3,Qk,"PgSerial");function kG(t){return new A3(t??"")}var Xk,Zk;class R3 extends(Zk=um,Xk=ue,Zk){constructor(e){super(e,"number","PgSmallInt")}build(e){return new I3(e,this.config)}}P(R3,Xk,"PgSmallIntBuilder");var Jk,eP;class I3 extends(eP=ct,Jk=ue,eP){constructor(){super(...arguments);P(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}P(I3,Jk,"PgSmallInt");function PG(t){return new R3(t??"")}var tP,sP;class D3 extends(sP=vt,tP=ue,sP){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new O3(e,this.config)}}P(D3,tP,"PgSmallSerialBuilder");var nP,rP;class O3 extends(rP=ct,nP=ue,rP){getSQLType(){return"smallserial"}}P(O3,nP,"PgSmallSerial");function TG(t){return new D3(t??"")}var iP,aP;class M3 extends(aP=vt,iP=ue,aP){constructor(e,s){super(e,"string","PgText"),this.config.enumValues=s.enum}build(e){return new L3(e,this.config)}}P(M3,iP,"PgTextBuilder");var oP,lP;class L3 extends(lP=ct,oP=ue,lP){constructor(){super(...arguments);P(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}P(L3,oP,"PgText");function V(t,e={}){const{name:s,config:r}=$s(t,e);return new M3(s,r)}var cP,dP;class $3 extends(dP=Cd,cP=ue,dP){constructor(e,s,r){super(e,"string","PgTime"),this.withTimezone=s,this.precision=r,this.config.withTimezone=s,this.config.precision=r}build(e){return new U3(e,this.config)}}P($3,cP,"PgTimeBuilder");var uP,hP;class U3 extends(hP=ct,uP=ue,hP){constructor(s,r){super(s,r);P(this,"withTimezone");P(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(U3,uP,"PgTime");function EG(t,e={}){const{name:s,config:r}=$s(t,e);return new $3(s,r.withTimezone??!1,r.precision)}var mP,fP;class B3 extends(fP=Cd,mP=ue,fP){constructor(e,s,r){super(e,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=r}build(e){return new z3(e,this.config)}}P(B3,mP,"PgTimestampBuilder");var pP,xP;class z3 extends(xP=ct,pP=ue,xP){constructor(s,r){super(s,r);P(this,"withTimezone");P(this,"precision");P(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));P(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(z3,pP,"PgTimestamp");var gP,yP;class V3 extends(yP=Cd,gP=ue,yP){constructor(e,s,r){super(e,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=r}build(e){return new q3(e,this.config)}}P(V3,gP,"PgTimestampStringBuilder");var vP,jP;class q3 extends(jP=ct,vP=ue,jP){constructor(s,r){super(s,r);P(this,"withTimezone");P(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(q3,vP,"PgTimestampString");function ge(t,e={}){const{name:s,config:r}=$s(t,e);return(r==null?void 0:r.mode)==="string"?new V3(s,r.withTimezone??!1,r.precision):new B3(s,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var bP,wP;class H3 extends(wP=vt,bP=ue,wP){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(et`gen_random_uuid()`)}build(e){return new W3(e,this.config)}}P(H3,bP,"PgUUIDBuilder");var NP,SP;class W3 extends(SP=ct,NP=ue,SP){getSQLType(){return"uuid"}}P(W3,NP,"PgUUID");function AG(t){return new H3(t??"")}var CP,_P;class K3 extends(_P=vt,CP=ue,_P){constructor(e,s){super(e,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new G3(e,this.config)}}P(K3,CP,"PgVarcharBuilder");var kP,PP;class G3 extends(PP=ct,kP=ue,PP){constructor(){super(...arguments);P(this,"length",this.config.length);P(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}P(G3,kP,"PgVarchar");function Ne(t,e={}){const{name:s,config:r}=$s(t,e);return new K3(s,r)}var TP,EP;class Q3 extends(EP=vt,TP=ue,EP){constructor(e,s){super(e,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(e){return new Y3(e,this.config)}}P(Q3,TP,"PgBinaryVectorBuilder");var AP,FP;class Y3 extends(FP=ct,AP=ue,FP){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}P(Y3,AP,"PgBinaryVector");function FG(t,e){const{name:s,config:r}=$s(t,e);return new Q3(s,r)}var RP,IP;class X3 extends(IP=vt,RP=ue,IP){constructor(e,s){super(e,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(e){return new Z3(e,this.config)}}P(X3,RP,"PgHalfVectorBuilder");var DP,OP;class Z3 extends(OP=ct,DP=ue,OP){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}P(Z3,DP,"PgHalfVector");function RG(t,e){const{name:s,config:r}=$s(t,e);return new X3(s,r)}var MP,LP;class J3 extends(LP=vt,MP=ue,LP){constructor(e,s){super(e,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(e){return new eO(e,this.config)}}P(J3,MP,"PgSparseVectorBuilder");var $P,UP;class eO extends(UP=ct,$P=ue,UP){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}P(eO,$P,"PgSparseVector");function IG(t,e){const{name:s,config:r}=$s(t,e);return new J3(s,r)}var BP,zP;class tO extends(zP=vt,BP=ue,zP){constructor(e,s){super(e,"array","PgVector"),this.config.dimensions=s.dimensions}build(e){return new sO(e,this.config)}}P(tO,BP,"PgVectorBuilder");var VP,qP;class sO extends(qP=ct,VP=ue,qP){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}P(sO,VP,"PgVector");function DG(t,e){const{name:s,config:r}=$s(t,e);return new tO(s,r)}function OG(){return{bigint:dG,bigserial:uG,boolean:Xe,char:hG,cidr:mG,customType:fG,date:pG,doublePrecision:xG,inet:gG,integer:Lt,interval:yG,json:vG,jsonb:gh,line:jG,macaddr:bG,macaddr8:wG,numeric:v3,point:NG,geometry:CG,real:_G,serial:kG,smallint:PG,smallserial:TG,text:V,time:EG,timestamp:ge,uuid:AG,varchar:Ne,bit:FG,halfvec:RG,sparsevec:IG,vector:DG}}const pj=Symbol.for("drizzle:PgInlineForeignKeys"),WS=Symbol.for("drizzle:EnableRLS");var HP,WP,KP,GP,QP;class _u extends(QP=mn,GP=ue,KP=pj,WP=WS,HP=mn.Symbol.ExtraConfigBuilder,QP){constructor(){super(...arguments);P(this,KP,[]);P(this,WP,!1);P(this,HP)}}P(_u,GP,"PgTable"),P(_u,"Symbol",Object.assign({},mn.Symbol,{InlineForeignKeys:pj,EnableRLS:WS}));function MG(t,e,s,r,i=t){const a=new _u(t,r,i),o=typeof e=="function"?e(OG()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const y=m.build(a);return a[pj].push(...m.buildForeignKeys(y,a)),[u,y]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const y=m.buildExtraConfigColumn(a);return[u,y]})),d=Object.assign(a,l);return d[mn.Symbol.Columns]=l,d[mn.Symbol.ExtraConfigColumns]=c,s&&(d[_u.Symbol.ExtraConfigBuilder]=s),Object.assign(d,{enableRLS:()=>(d[_u.Symbol.EnableRLS]=!0,d)})}const It=(t,e,s)=>MG(t,e,s,void 0);var YP;YP=ue;class f0{constructor(e,s){this.unique=e,this.name=s}on(...e){return new Sf(e.map(s=>{if(xs(s,is))return s;s=s;const r=new Nf(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new Sf(e.map(s=>{if(xs(s,is))return s;s=s;const r=new Nf(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=s.defaultConfig,r}),this.unique,!0,this.name)}using(e,...s){return new Sf(s.map(r=>{if(xs(r,is))return r;r=r;const i=new Nf(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}P(f0,YP,"PgIndexBuilderOn");var XP;XP=ue;class Sf{constructor(e,s,r,i,a="btree"){P(this,"config");this.config={name:i,columns:e,unique:s,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new nO(this.config,e)}}P(Sf,XP,"PgIndexBuilder");var ZP;ZP=ue;class nO{constructor(e,s){P(this,"config");this.config={...e,table:s}}}P(nO,ZP,"PgIndex");function wt(t){return new f0(!1,t)}function rO(t){return new f0(!0,t)}const Gt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function cs(t,e){return e.includes(t.columnType)}function LG(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const $G=Aw([oe(),kn(),Gi(),VR()]),UG=Aw([$G,qR(Jo()),Kr(Jo())]),BG=Ew(t=>t instanceof Buffer);function iO(t,e){const s=(e==null?void 0:e.zodInstance)??gH,r=(e==null?void 0:e.coerce)??{};let i;return LG(t)&&(i=t.enumValues.length?s.enum(t.enumValues):s.string()),i||(cs(t,["PgGeometry","PgPointTuple"])?i=s.tuple([s.number(),s.number()]):cs(t,["PgGeometryObject","PgPointObject"])?i=s.object({x:s.number(),y:s.number()}):cs(t,["PgHalfVector","PgVector"])?(i=s.array(s.number()),i=t.dimensions?i.length(t.dimensions):i):cs(t,["PgLine"])?i=s.tuple([s.number(),s.number(),s.number()]):cs(t,["PgLineABC"])?i=s.object({a:s.number(),b:s.number(),c:s.number()}):cs(t,["PgArray"])?(i=s.array(iO(t.baseColumn,s)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=s.array(s.any()):t.dataType==="number"?i=zG(t,s,r):t.dataType==="bigint"?i=VG(t,s,r):t.dataType==="boolean"?i=r===!0||r.boolean?s.coerce.boolean():s.boolean():t.dataType==="date"?i=r===!0||r.date?s.coerce.date():s.date():t.dataType==="string"?i=qG(t,s,r):t.dataType==="json"?i=UG:t.dataType==="custom"?i=s.any():t.dataType==="buffer"&&(i=BG)),i||(i=s.any()),i}function zG(t,e,s){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;cs(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:Gt.INT8_MIN,a=r?Gt.INT8_UNSIGNED_MAX:Gt.INT8_MAX,o=!0):cs(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:Gt.INT16_MIN,a=r?Gt.INT16_UNSIGNED_MAX:Gt.INT16_MAX,o=!0):cs(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:Gt.INT24_MIN,a=r?Gt.INT24_UNSIGNED_MAX:Gt.INT24_MAX,o=cs(t,["MySqlMediumInt","SingleStoreMediumInt"])):cs(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:Gt.INT32_MIN,a=r?Gt.INT32_UNSIGNED_MAX:Gt.INT32_MAX,o=!0):cs(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:Gt.INT48_MIN,a=r?Gt.INT48_UNSIGNED_MAX:Gt.INT48_MAX):cs(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||cs(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):cs(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=s===!0||s!=null&&s.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function VG(t,e,s){const r=t.getSQLType().includes("unsigned"),i=r?0n:Gt.INT64_MIN,a=r?Gt.INT64_UNSIGNED_MAX:Gt.INT64_MAX;return(s===!0||s!=null&&s.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function qG(t,e,s){if(cs(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;cs(t,["PgVarchar","SQLiteText"])?r=t.length:cs(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Gt.INT16_UNSIGNED_MAX:cs(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Gt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Gt.INT24_UNSIGNED_MAX:t.textType==="text"?r=Gt.INT16_UNSIGNED_MAX:r=Gt.INT8_UNSIGNED_MAX),cs(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),cs(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=s===!0||s!=null&&s.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function aO(t){return _5(t)?lG(t):cG(t)}function oO(t,e,s,r){const i={};for(const[a,o]of Object.entries(t)){if(!xs(o,dd)&&!xs(o,is)&&!xs(o,is.Aliased)&&typeof o=="object"){const h=_5(o)||oG(o)?aO(o):o;i[a]=oO(h,e[a]??{},s,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=xs(o,dd)?o:void 0,d=c?iO(c,r):Jo(),u=typeof l=="function"?l(d):d;s.never(c)||(i[a]=u,c&&(s.nullable(c)&&(i[a]=i[a].nullable()),s.optional(c)&&(i[a]=i[a].optional())))}return An(i)}const HG={never:t=>{var e,s;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((s=t==null?void 0:t.generatedIdentity)==null?void 0:s.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},es=(t,e)=>{const s=aO(t);return oO(s,{},HG)},lO=["PPL","IR","CPL","Multi-Engine","ATP","CFI","CFII","MEI"],WG=["Single-Engine","Multi-Engine","Turboprop","Jet","Rotor"],KG=["aircraft-sale","charter","cfi","flight-school","mechanic","job"],GG=["new","contacted","qualified","proposal","negotiation","won","lost"],QG=["lead","prospect","proposal","negotiation","closed_won","closed_lost"],YG=["call","email","meeting","note","task"],XG=["website","referral","social_media","advertising","cold_outreach","event","other"],ZG=["server","database","storage","api","other"];It("sessions",{sid:Ne("sid").primaryKey(),sess:gh("sess").notNull(),expire:ge("expire").notNull()},t=>[wt("IDX_session_expire").on(t.expire)]);const JG=It("refresh_tokens",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),token:V("token").notNull().unique(),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow(),deviceInfo:V("device_info"),ipAddress:V("ip_address")},t=>[wt("idx_refresh_tokens_user").on(t.userId),wt("idx_refresh_tokens_expires").on(t.expiresAt)]),eQ=It("oauth_exchange_tokens",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),token:V("token").notNull().unique(),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()},t=>[wt("idx_oauth_exchange_tokens_token").on(t.token),wt("idx_oauth_exchange_tokens_expires").on(t.expiresAt)]),Rt=It("users",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),email:Ne("email").unique(),firstName:Ne("first_name"),lastName:Ne("last_name"),profileImageUrl:Ne("profile_image_url"),phone:V("phone"),certifications:V("certifications").array().notNull().default(et`ARRAY[]::text[]`),totalFlightHours:Lt("total_flight_hours").default(0),aircraftTypesFlown:V("aircraft_types_flown").array().default(et`ARRAY[]::text[]`),pilotLicenseUrl:V("pilot_license_url"),insuranceUrl:V("insurance_url"),isVerified:Xe("is_verified").default(!1),licenseVerified:Xe("license_verified").default(!1),backgroundCheckCompleted:Xe("background_check_completed").default(!1),isAdmin:Xe("is_admin").default(!1),isSuperAdmin:Xe("is_super_admin").default(!1),legalFirstName:V("legal_first_name"),legalLastName:V("legal_last_name"),dateOfBirth:V("date_of_birth"),phoneVerified:Xe("phone_verified").default(!1),emailVerified:Xe("email_verified").default(!1),governmentIdFrontUrl:V("government_id_front_url"),governmentIdBackUrl:V("government_id_back_url"),selfieUrl:V("selfie_url"),identityVerified:Xe("identity_verified").default(!1),identityVerifiedAt:ge("identity_verified_at"),paymentMethodOnFile:Xe("payment_method_on_file").default(!1),paymentVerified:Xe("payment_verified").default(!1),paymentVerifiedAt:ge("payment_verified_at"),faaCertificateNumber:V("faa_certificate_number"),pilotCertificateName:V("pilot_certificate_name"),pilotCertificatePhotoUrl:V("pilot_certificate_photo_url"),faaVerified:Xe("faa_verified").default(!1),faaVerifiedMonth:V("faa_verified_month"),faaVerifiedAt:ge("faa_verified_at"),bankAccountConnected:Xe("bank_account_connected").default(!1),stripeAccountId:V("stripe_account_id"),paypalEmail:V("paypal_email"),balance:kt("balance",{precision:10,scale:2}).default("0.00"),hashedPassword:V("hashed_password"),passwordCreatedAt:ge("password_created_at"),emailVerificationToken:V("email_verification_token"),emailVerificationExpires:ge("email_verification_expires"),averageRating:kt("average_rating",{precision:3,scale:2}),totalReviews:Lt("total_reviews").default(0),isSuspended:Xe("is_suspended").default(!1),suspensionReason:V("suspension_reason"),suspendedAt:ge("suspended_at"),suspendedBy:Ne("suspended_by"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>({usersSuspendedByFk:JK({columns:[t.suspendedBy],foreignColumns:[t.id]})})),p0=It("aircraft_listings",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),ownerId:Ne("owner_id").notNull().references(()=>Rt.id),make:V("make").notNull(),model:V("model").notNull(),year:Lt("year").notNull(),registration:V("registration").notNull(),category:V("category").notNull(),totalTime:Lt("total_time").notNull(),engine:V("engine"),avionicsSuite:V("avionics_suite"),requiredCertifications:V("required_certifications").array().notNull(),minFlightHours:Lt("min_flight_hours").default(0),hourlyRate:kt("hourly_rate",{precision:10,scale:2}).notNull(),insuranceIncluded:Xe("insurance_included").default(!0),wetRate:Xe("wet_rate").default(!0),images:V("images").array().notNull(),location:V("location").notNull(),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:kt("latitude",{precision:10,scale:7}),longitude:kt("longitude",{precision:10,scale:7}),airportCode:V("airport_code"),engineType:V("engine_type"),engineCount:Lt("engine_count"),seatingCapacity:Lt("seating_capacity"),description:V("description"),isListed:Xe("is_listed").default(!0),adminNotes:V("admin_notes"),isFeatured:Xe("is_featured").default(!1),responseTime:Lt("response_time_hours").default(24),acceptanceRate:Lt("acceptance_rate").default(100),serialNumber:V("serial_number"),registrationDocUrl:V("registration_doc_url"),llcAuthorizationUrl:V("llc_authorization_url"),ownershipVerified:Xe("ownership_verified").default(!1),ownershipVerifiedAt:ge("ownership_verified_at"),registryCheckedAt:ge("registry_checked_at"),ownerNameMatch:Xe("owner_name_match"),annualInspectionDocUrl:V("annual_inspection_doc_url"),annualInspectionDate:V("annual_inspection_date"),annualDueDate:V("annual_due_date"),annualSignerName:V("annual_signer_name"),annualSignerCertNumber:V("annual_signer_cert_number"),annualSignerIaNumber:V("annual_signer_ia_number"),annualApVerified:Xe("annual_ap_verified").default(!1),requires100Hour:Xe("requires_100_hour").default(!1),hour100InspectionDocUrl:V("hour_100_inspection_doc_url"),hour100InspectionTach:Lt("hour_100_inspection_tach"),currentTach:Lt("current_tach"),hour100Remaining:Lt("hour_100_remaining"),maintenanceTrackingProvider:V("maintenance_tracking_provider"),maintenanceTrackingDocUrl:V("maintenance_tracking_doc_url"),hasMaintenanceTracking:Xe("has_maintenance_tracking").default(!1),maintenanceVerified:Xe("maintenance_verified").default(!1),maintenanceVerifiedAt:ge("maintenance_verified_at"),lastRefreshedAt:ge("last_refreshed_at").defaultNow(),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_aircraft_city").on(t.city),wt("idx_aircraft_is_listed").on(t.isListed),wt("idx_aircraft_category").on(t.category),wt("idx_aircraft_engine_type").on(t.engineType),wt("idx_aircraft_city_engine_type").on(t.city,t.engineType),wt("idx_aircraft_category_city").on(t.category,t.city)]),hm=It("marketplace_listings",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),category:V("category").notNull(),tier:V("tier"),title:V("title").notNull(),description:V("description").notNull(),images:V("images").array().default(et`ARRAY[]::text[]`),location:V("location"),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:kt("latitude",{precision:10,scale:7}),longitude:kt("longitude",{precision:10,scale:7}),contactEmail:V("contact_email"),contactPhone:V("contact_phone"),details:gh("details"),price:kt("price",{precision:12,scale:2}),isActive:Xe("is_active").default(!0),expiresAt:ge("expires_at"),expirationReminderSent:Xe("expiration_reminder_sent").default(!1),expirationReminderSentAt:ge("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),isFeatured:Xe("is_featured").default(!1),isExample:Xe("is_example").default(!1),flagCount:Lt("flag_count").default(0).notNull(),viewCount:Lt("view_count").default(0).notNull(),isPaid:Xe("is_paid").default(!1),monthlyFee:kt("monthly_fee",{precision:10,scale:2}),upgradeTransactions:V("upgrade_transactions").array().default(et`ARRAY[]::text[]`),promoFreeUntil:ge("promo_free_until"),promoGrantedBy:Ne("promo_granted_by").references(()=>Rt.id),promoGrantedAt:ge("promo_granted_at"),lastRefreshedAt:ge("last_refreshed_at").defaultNow(),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_marketplace_category").on(t.category),wt("idx_marketplace_city").on(t.city),wt("idx_marketplace_is_active").on(t.isActive),wt("idx_marketplace_category_city").on(t.category,t.city),wt("idx_marketplace_category_active").on(t.category,t.isActive),wt("idx_marketplace_flag_count").on(t.flagCount)]),tQ=It("marketplace_flags",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),listingId:Ne("listing_id").notNull().references(()=>hm.id,{onDelete:"cascade"}),userId:Ne("user_id").notNull().references(()=>Rt.id),reason:V("reason"),createdAt:ge("created_at").defaultNow()},t=>[rO("idx_marketplace_flags_unique").on(t.listingId,t.userId)]),sQ=It("job_applications",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),listingId:Ne("listing_id").notNull().references(()=>hm.id,{onDelete:"cascade"}),applicantId:Ne("applicant_id").references(()=>Rt.id),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),phone:V("phone"),currentJobTitle:V("current_job_title"),yearsOfExperience:V("years_of_experience"),coverLetter:V("cover_letter"),resumeUrl:V("resume_url").notNull(),status:V("status").default("new").notNull(),employerNotes:V("employer_notes"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_job_applications_listing").on(t.listingId),wt("idx_job_applications_applicant").on(t.applicantId),wt("idx_job_applications_status").on(t.status)]),nQ=It("promo_alerts",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),title:V("title").notNull(),message:V("message").notNull(),promoCode:V("promo_code"),isEnabled:Xe("is_enabled").default(!0),showOnMainPage:Xe("show_on_main_page").default(!0),showOnCategoryPages:Xe("show_on_category_pages").default(!0),targetCategories:V("target_categories").array().default(et`ARRAY[]::text[]`),variant:V("variant").default("info"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),Zx=It("rentals",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),aircraftId:Ne("aircraft_id").notNull().references(()=>p0.id),renterId:Ne("renter_id").notNull().references(()=>Rt.id),ownerId:Ne("owner_id").notNull().references(()=>Rt.id),startDate:ge("start_date").notNull(),endDate:ge("end_date").notNull(),estimatedHours:kt("estimated_hours",{precision:6,scale:2}).notNull(),actualHours:kt("actual_hours",{precision:6,scale:2}),hourlyRate:kt("hourly_rate",{precision:10,scale:2}).notNull(),baseCost:kt("base_cost",{precision:10,scale:2}).notNull(),salesTax:kt("sales_tax",{precision:10,scale:2}).notNull(),platformFeeRenter:kt("platform_fee_renter",{precision:10,scale:2}).notNull(),platformFeeOwner:kt("platform_fee_owner",{precision:10,scale:2}).notNull(),processingFee:kt("processing_fee",{precision:10,scale:2}).notNull(),totalCostRenter:kt("total_cost_renter",{precision:10,scale:2}).notNull(),ownerPayout:kt("owner_payout",{precision:10,scale:2}).notNull(),status:V("status").notNull().default("pending"),isPaid:Xe("is_paid").default(!1),payoutCompleted:Xe("payout_completed").default(!1),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),rQ=It("messages",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),rentalId:Ne("rental_id").notNull().references(()=>Zx.id),senderId:Ne("sender_id").notNull().references(()=>Rt.id),receiverId:Ne("receiver_id").notNull().references(()=>Rt.id),content:V("content").notNull(),isRead:Xe("is_read").default(!1),createdAt:ge("created_at").defaultNow()}),iQ=It("reviews",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),rentalId:Ne("rental_id").notNull().references(()=>Zx.id),reviewerId:Ne("reviewer_id").notNull().references(()=>Rt.id),revieweeId:Ne("reviewee_id").notNull().references(()=>Rt.id),rating:Lt("rating").notNull(),comment:V("comment"),communicationRating:Lt("communication_rating"),cleanlinessRating:Lt("cleanliness_rating"),accuracyRating:Lt("accuracy_rating"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),aQ=It("favorites",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),listingType:V("listing_type").notNull(),listingId:Ne("listing_id").notNull(),createdAt:ge("created_at").defaultNow()},t=>({idxFavoritesUser:wt("idx_favorites_user").on(t.userId),idxFavoritesListing:wt("idx_favorites_listing").on(t.listingType,t.listingId),uniqueUserListing:rO("idx_favorites_user_listing_unique").on(t.userId,t.listingType,t.listingId)}));It("transactions",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),type:V("type").notNull(),amount:kt("amount",{precision:10,scale:2}).notNull(),rentalId:Ne("rental_id").references(()=>Zx.id),marketplaceListingId:Ne("marketplace_listing_id").references(()=>hm.id),status:V("status").notNull().default("pending"),depositedToBankAt:ge("deposited_to_bank_at"),description:V("description"),createdAt:ge("created_at").defaultNow()});const oQ=It("withdrawal_requests",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),amount:kt("amount",{precision:10,scale:2}).notNull(),paypalEmail:V("paypal_email").notNull(),status:V("status").notNull().default("pending"),payoutBatchId:V("payout_batch_id"),payoutItemId:V("payout_item_id"),transactionId:V("transaction_id"),processedAt:ge("processed_at"),processedBy:Ne("processed_by").references(()=>Rt.id),failureReason:V("failure_reason"),adminNotes:V("admin_notes"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_withdrawal_user").on(t.userId),wt("idx_withdrawal_status").on(t.status)]),cO=It("promo_codes",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),code:V("code").notNull().unique(),description:V("description"),discountType:V("discount_type").notNull(),discountValue:kt("discount_value",{precision:10,scale:2}),maxUses:Lt("max_uses"),usedCount:Lt("used_count").default(0),isActive:Xe("is_active").default(!0),validFrom:ge("valid_from").defaultNow(),validUntil:ge("valid_until"),applicableToMarketplace:Xe("applicable_to_marketplace").default(!0),applicableToBannerAds:Xe("applicable_to_banner_ads").default(!1),applicableCategories:V("applicable_categories").array().default(et`ARRAY[]::text[]`),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});It("promo_code_usages",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),promoCodeId:Ne("promo_code_id").notNull().references(()=>cO.id),userId:Ne("user_id").references(()=>Rt.id),marketplaceListingId:Ne("marketplace_listing_id").references(()=>hm.id),bannerAdOrderId:Ne("banner_ad_order_id").references(()=>x0.id),createdAt:ge("created_at").defaultNow()});const lQ=It("expenses",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),category:V("category").notNull(),amount:kt("amount",{precision:10,scale:2}).notNull(),description:V("description"),invoiceUrl:V("invoice_url"),expenseDate:ge("expense_date").notNull().defaultNow(),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),cQ=It("admin_notifications",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),type:V("type").notNull(),category:V("category"),title:V("title").notNull(),message:V("message").notNull(),isRead:Xe("is_read").default(!1),isActionable:Xe("is_actionable").default(!0),listingCount:Lt("listing_count"),threshold:Lt("threshold"),createdAt:ge("created_at").defaultNow(),readAt:ge("read_at")}),dQ=It("contact_submissions",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),subject:V("subject").notNull(),message:V("message").notNull(),ipAddress:V("ip_address"),userAgent:V("user_agent"),emailSent:Xe("email_sent").default(!1),emailSentAt:ge("email_sent_at"),createdAt:ge("created_at").defaultNow()},t=>[wt("idx_contact_email").on(t.email),wt("idx_contact_created").on(t.createdAt),wt("idx_contact_ip").on(t.ipAddress)]);es(dQ).omit({id:!0,emailSent:!0,emailSentAt:!0,createdAt:!0});const x0=It("banner_ad_orders",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),sponsorName:V("sponsor_name").notNull(),sponsorEmail:V("sponsor_email").notNull(),sponsorCompany:V("sponsor_company"),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url"),link:V("link").notNull(),placements:V("placements").array().notNull().default(et`ARRAY[]::text[]`),category:V("category"),tier:V("tier").notNull(),monthlyRate:kt("monthly_rate",{precision:10,scale:2}).notNull(),totalAmount:kt("total_amount",{precision:10,scale:2}).notNull(),creationFee:kt("creation_fee",{precision:10,scale:2}).default("40.00"),grandTotal:kt("grand_total",{precision:10,scale:2}).notNull(),promoCode:V("promo_code"),discountAmount:kt("discount_amount",{precision:10,scale:2}).default("0.00"),approvalStatus:V("approval_status").notNull().default("draft"),paymentStatus:V("payment_status").notNull().default("pending"),paypalOrderId:V("paypal_order_id"),paypalPaymentDate:ge("paypal_payment_date"),startDate:ge("start_date"),endDate:ge("end_date"),expirationReminderSent:Xe("expiration_reminder_sent").default(!1),expirationReminderSentAt:ge("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_banner_orders_status").on(t.approvalStatus,t.paymentStatus),wt("idx_banner_orders_email").on(t.sponsorEmail)]),uQ=It("banner_ads",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),orderId:Ne("order_id").references(()=>x0.id),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url").notNull(),link:V("link").notNull(),placements:V("placements").array().notNull().default(et`ARRAY[]::text[]`),category:V("category"),listingId:Ne("listing_id"),listingType:V("listing_type"),isActive:Xe("is_active").default(!0),startDate:ge("start_date").notNull(),endDate:ge("end_date"),impressions:Lt("impressions").default(0),clicks:Lt("clicks").default(0),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()},t=>[wt("idx_banner_ads_placements").on(t.placements),wt("idx_banner_ads_active").on(t.isActive),wt("idx_banner_ads_dates").on(t.startDate,t.endDate),wt("idx_banner_ads_order").on(t.orderId)]);It("verification_submissions",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),userId:Ne("user_id").notNull().references(()=>Rt.id),type:V("type").notNull(),status:V("status").notNull().default("pending"),aircraftId:Ne("aircraft_id").references(()=>p0.id),submissionData:gh("submission_data").notNull(),documentUrls:V("document_urls").array().default(et`ARRAY[]::text[]`),reviewedBy:Ne("reviewed_by").references(()=>Rt.id),reviewedAt:ge("reviewed_at"),reviewNotes:V("review_notes"),rejectionReason:V("rejection_reason"),faaRegistryChecked:Xe("faa_registry_checked").default(!1),faaRegistryMatch:Xe("faa_registry_match"),faaRegistryData:gh("faa_registry_data"),sources:V("sources").array().default(et`ARRAY[]::text[]`),fileHashes:V("file_hashes").array().default(et`ARRAY[]::text[]`),pilotLicenseExpiresAt:ge("pilot_license_expires_at"),medicalCertExpiresAt:ge("medical_cert_expires_at"),insuranceExpiresAt:ge("insurance_expires_at"),governmentIdExpiresAt:ge("government_id_expires_at"),expirationNotificationSent:Xe("expiration_notification_sent").default(!1),lastNotificationSentAt:ge("last_notification_sent_at"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});const dO=It("crm_leads",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:Ne("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),status:V("status").notNull().default("new"),source:V("source"),value:kt("value",{precision:10,scale:2}),assignedTo:Ne("assigned_to").references(()=>Rt.id),notes:V("notes"),tags:V("tags").array().default(et`ARRAY[]::text[]`),convertedToContactId:Ne("converted_to_contact_id"),convertedToDealId:Ne("converted_to_deal_id"),convertedAt:ge("converted_at"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),g0=It("crm_contacts",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:Ne("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),userId:Ne("user_id").references(()=>Rt.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),notes:V("notes"),tags:V("tags").array().default(et`ARRAY[]::text[]`),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),uO=It("crm_deals",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),name:V("name").notNull(),stage:V("stage").notNull().default("lead"),value:kt("value",{precision:10,scale:2}).notNull(),probability:Lt("probability").default(50),contactId:Ne("contact_id").references(()=>g0.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),expectedCloseDate:ge("expected_close_date"),closedDate:ge("closed_date"),description:V("description"),notes:V("notes"),tags:V("tags").array().default(et`ARRAY[]::text[]`),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),hQ=It("crm_activities",{id:Ne("id").primaryKey().default(et`gen_random_uuid()`),type:V("type").notNull(),subject:V("subject").notNull(),description:V("description"),leadId:Ne("lead_id").references(()=>dO.id),contactId:Ne("contact_id").references(()=>g0.id),dealId:Ne("deal_id").references(()=>uO.id),createdBy:Ne("created_by").notNull().references(()=>Rt.id),assignedTo:Ne("assigned_to").references(()=>Rt.id),dueDate:ge("due_date"),completedAt:ge("completed_at"),isCompleted:Xe("is_completed").default(!1),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});es(Rt).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({certifications:Kr(Vs(lO)).default([]),totalFlightHours:kn().min(0).default(0)});es(JG).omit({id:!0,createdAt:!0});es(eQ).omit({id:!0,createdAt:!0});es(p0).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({year:kn().min(1900).max(new Date().getFullYear()+1),totalTime:kn().min(0),hourlyRate:oe().regex(/^\d+(\.\d{1,2})?$/),requiredCertifications:Kr(oe()).min(1),images:Kr(oe()).min(1).max(15),engineType:Vs(WG).optional(),engineCount:kn().min(1).max(8).optional(),seatingCapacity:kn().min(1).max(20).optional(),latitude:oe().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:oe().regex(/^-?\d+(\.\d+)?$/).optional()});const mQ=es(hm).omit({id:!0,createdAt:!0,updatedAt:!0,flagCount:!0,viewCount:!0}).extend({category:Vs(KG),images:Kr(oe()).max(15),price:oe().regex(/^\d+(\.\d{1,2})?$/).optional(),monthlyFee:oe().regex(/^\d+(\.\d{1,2})?$/).optional(),latitude:oe().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:oe().regex(/^-?\d+(\.\d+)?$/).optional()});es(tQ).omit({id:!0,createdAt:!0});es(Zx).omit({id:!0,createdAt:!0,updatedAt:!0,actualHours:!0,status:!0,isPaid:!0,payoutCompleted:!0,baseCost:!0,salesTax:!0,platformFeeRenter:!0,platformFeeOwner:!0,processingFee:!0,totalCostRenter:!0,ownerPayout:!0}).extend({startDate:sr.date(),endDate:sr.date(),estimatedHours:oe().regex(/^\d+(\.\d{1,2})?$/),hourlyRate:oe().regex(/^\d+(\.\d{1,2})?$/)});es(rQ).omit({id:!0,createdAt:!0,isRead:!0});es(iQ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({rating:kn().min(1).max(5),communicationRating:kn().min(1).max(5).optional(),cleanlinessRating:kn().min(1).max(5).optional(),accuracyRating:kn().min(1).max(5).optional(),comment:oe().max(1e3).optional()});es(aQ).omit({id:!0,createdAt:!0}).extend({listingType:Vs(["marketplace","aircraft"])});const fQ=es(dO).omit({id:!0,createdAt:!0,updatedAt:!0,convertedToContactId:!0,convertedToDealId:!0,convertedAt:!0}).extend({status:Vs(GG).default("new"),source:Vs(XG).optional(),value:oe().regex(/^\d+(\.\d{1,2})?$/).optional()});es(g0).omit({id:!0,createdAt:!0,updatedAt:!0});es(uO).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({stage:Vs(QG).default("lead"),value:oe().regex(/^\d+(\.\d{1,2})?$/),probability:kn().min(0).max(100).default(50)});es(hQ).omit({id:!0,createdAt:!0,updatedAt:!0,isCompleted:!0,completedAt:!0}).extend({type:Vs(YG)});const pQ=es(cO).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0,applicableCategories:!0}).extend({code:oe().min(1,"Promo code is required").toUpperCase(),description:oe().optional(),discountType:Vs(["free_7_day","percentage","fixed_amount","waive_creation_fee"]),discountValue:oe().regex(/^\d+(\.\d{1,2})?$/).optional(),maxUses:kn().int().positive().optional(),isActive:Gi().default(!0),validFrom:sr.date().optional(),validUntil:sr.date().optional(),applicableToMarketplace:Gi().default(!0),applicableToBannerAds:Gi().default(!1)}),xQ=es(lQ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({category:Vs(ZG),amount:oe().regex(/^\d+(\.\d{1,2})?$/),expenseDate:sr.date().optional(),invoiceUrl:oe().optional()});es(cQ).omit({id:!0,createdAt:!0,readAt:!0});const gQ=es(x0).omit({id:!0,createdAt:!0,updatedAt:!0,paypalOrderId:!0,paypalPaymentDate:!0}).extend({sponsorName:oe().min(1,"Sponsor name is required"),sponsorEmail:oe().email("Valid email is required"),title:oe().min(1,"Title is required"),link:oe().url("Please enter a valid URL (e.g., https://www.example.com)"),placements:Kr(oe()).min(1,"At least one page placement is required"),tier:Vs(["1month","3months","6months","12months"])}),yQ=es(uQ).omit({id:!0,impressions:!0,clicks:!0,createdAt:!0,updatedAt:!0}).extend({placements:Kr(oe()).min(1,"At least one page placement is required"),imageUrl:oe().min(1,"Banner image is required"),link:oe().url("Please enter a valid URL (e.g., https://www.example.com)"),title:oe().min(1,"Title is required")});es(sQ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,employerNotes:!0}).extend({firstName:oe().min(1,"First name is required"),lastName:oe().min(1,"Last name is required"),email:oe().email("Valid email is required"),phone:oe().optional(),coverLetter:oe().optional(),resumeUrl:oe().min(1,"Resume is required")});const vQ=es(nQ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({title:oe().min(1,"Title is required"),message:oe().min(1,"Message is required"),promoCode:oe().optional(),variant:Vs(["info","success","warning","destructive"]).default("info")});es(oQ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,payoutBatchId:!0,payoutItemId:!0,transactionId:!0,processedAt:!0,processedBy:!0,failureReason:!0,adminNotes:!0}).extend({amount:oe().regex(/^\d+(\.\d{1,2})?$/,"Amount must be a valid number"),paypalEmail:oe().email("Valid PayPal email is required")});const jQ=An({firstName:oe().min(1,"First name is required"),lastName:oe().min(1,"Last name is required"),phone:oe().optional(),totalFlightHours:sr.number().min(0).optional(),certifications:Kr(oe()),profilePicture:Jo().optional(),pilotLicense:Jo().optional(),insurance:Jo().optional()}),bQ=["Cessna 172","Cessna 182","Piper Cherokee","Cirrus SR22","Diamond DA40"];function wQ(){var b,j,v,p;const[t,e]=x.useState(!1),[s,r]=x.useState(!1),{toast:i}=qt(),{user:a}=vn(),{data:o,isLoading:l}=ze({queryKey:["/api/users",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:c=[]}=ze({queryKey:["/api/rentals/owner",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:d=[]}=ze({queryKey:["/api/rentals/renter",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),u=c.length+d.length,h=Ln({resolver:$n(jQ),defaultValues:{firstName:"",lastName:"",phone:"",totalFlightHours:0,certifications:[]}});x.useEffect(()=>{o&&h.reset({firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",totalFlightHours:o.totalFlightHours||0,certifications:o.certifications||[]})},[o,h]);const m=Re({mutationFn:async f=>{var S,k,C;let w={...f.updates};if((S=f.files)!=null&&S.profilePicture||(k=f.files)!=null&&k.license||(C=f.files)!=null&&C.insurance){r(!0);const _=new FormData;f.files.profilePicture&&_.append("images",f.files.profilePicture),f.files.license&&_.append("images",f.files.license),f.files.insurance&&_.append("images",f.files.insurance);try{const T=await fetch("/api/upload-images",{method:"POST",body:_,credentials:"include"});if(!T.ok)throw new Error("Failed to upload documents");const D=(await T.json()).imageUrls||[];let L=0;f.files.profilePicture&&D[L]&&(w.profileImageUrl=D[L],L++),f.files.license&&D[L]&&(w.pilotLicenseUrl=D[L],L++),f.files.insurance&&D[L]&&(w.insuranceUrl=D[L])}finally{r(!1)}}return await Fe("PATCH",`/api/users/${a==null?void 0:a.id}`,w)},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/users",a==null?void 0:a.id]}),Ce.invalidateQueries({queryKey:["/api/auth/user"]}),i({title:"Profile Updated",description:"Your profile has been successfully updated."}),e(!1),h.reset()},onError:f=>{i({title:"Error",description:f.message||"Failed to update profile",variant:"destructive"})}}),y=f=>{var k,C,_;const w={firstName:f.firstName,lastName:f.lastName,phone:f.phone,totalFlightHours:f.totalFlightHours,certifications:f.certifications},S={};(k=f.profilePicture)!=null&&k[0]&&(S.profilePicture=f.profilePicture[0]),(C=f.pilotLicense)!=null&&C[0]&&(S.license=f.pilotLicense[0]),(_=f.insurance)!=null&&_[0]&&(S.insurance=f.insurance[0]),m.mutate({updates:w,files:S})};return l||!o?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[n.jsx(U,{className:"mb-8",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[n.jsxs(bi,{className:"h-24 w-24","data-testid":"avatar-profile",children:[n.jsx(wi,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),n.jsxs(Ni,{children:[(b=o.firstName)==null?void 0:b[0],(j=o.lastName)==null?void 0:j[0]]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-1","data-testid":"text-profile-name",children:[o.firstName," ",o.lastName]}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-3",children:o.email}),n.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[n.jsx(UD,{user:o,type:"renter",size:"md"}),!o.identityVerified&&n.jsx(bt,{href:"/verify-identity",children:n.jsxs($,{variant:"outline",size:"sm",className:"w-full sm:w-auto","data-testid":"button-start-verification",children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Start Verification"]})})]})]}),n.jsxs(gs,{open:t,onOpenChange:e,children:[n.jsx(AH,{asChild:!0,children:n.jsxs($,{variant:"outline",className:"w-full sm:w-auto","data-testid":"button-edit-profile",children:[n.jsx(wa,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),n.jsxs(ls,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Edit Profile"}),n.jsx(_s,{children:"Update your profile information, certifications, and documents"})]}),n.jsx(Fr,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(y),className:"space-y-6 py-4",children:[n.jsx(te,{control:h.control,name:"profilePicture",render:({field:{onChange:f,value:w,...S}})=>{var k,C;return n.jsxs(Z,{children:[n.jsx(J,{children:"Profile Picture"}),n.jsx(ne,{children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(bi,{className:"h-20 w-20",children:[n.jsx(wi,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),n.jsxs(Ni,{children:[(k=o.firstName)==null?void 0:k[0],(C=o.lastName)==null?void 0:C[0]]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{type:"file",accept:"image/*",onChange:_=>f(_.target.files),...S,"data-testid":"input-profile-picture"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload a new profile picture (JPG, PNG, or GIF)"})]})]})}),n.jsx(re,{})]})}}),n.jsx(it,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:h.control,name:"firstName",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"First Name"}),n.jsx(ne,{children:n.jsx(Q,{...f,"data-testid":"input-edit-firstname"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"lastName",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Last Name"}),n.jsx(ne,{children:n.jsx(Q,{...f,"data-testid":"input-edit-lastname"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:h.control,name:"phone",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Phone Number"}),n.jsx(ne,{children:n.jsx(Q,{...f,placeholder:"+1 (555) 123-4567","data-testid":"input-edit-phone"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"totalFlightHours",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Total Flight Hours"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",...f,onChange:w=>f.onChange(parseInt(w.target.value)||0),"data-testid":"input-edit-hours"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"certifications",render:()=>n.jsxs(Z,{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx(J,{children:"Pilot Certifications"}),n.jsx(js,{children:"Select all certifications you hold"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:lO.map(f=>n.jsx(te,{control:h.control,name:"certifications",render:({field:w})=>{var S;return n.jsxs(Z,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:(S=w.value)==null?void 0:S.includes(f),onCheckedChange:k=>{var C;return k?w.onChange([...w.value,f]):w.onChange((C=w.value)==null?void 0:C.filter(_=>_!==f))},"data-testid":`checkbox-cert-${f}`})}),n.jsx(J,{className:"font-normal cursor-pointer",children:f})]},f)}},f))}),n.jsx(re,{})]})}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"font-semibold",children:"Document Uploads"}),n.jsx(te,{control:h.control,name:"pilotLicense",render:({field:{onChange:f,value:w,...S}})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Pilot License"}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{type:"file",accept:"image/*,.pdf",onChange:k=>f(k.target.files),...S,"data-testid":"input-pilot-license"}),o.pilotLicenseUrl&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("a",{href:o.pilotLicenseUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current license on file"})]})]})}),n.jsx(js,{children:"Upload a copy of your pilot license (image or PDF)"}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"insurance",render:({field:{onChange:f,value:w,...S}})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Insurance Certificate"}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{type:"file",accept:"image/*,.pdf",onChange:k=>f(k.target.files),...S,"data-testid":"input-insurance"}),o.insuranceUrl&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("a",{href:o.insuranceUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current insurance on file"})]})]})}),n.jsx(js,{children:"Upload a copy of your insurance certificate (image or PDF)"}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{e(!1),h.reset()},disabled:m.isPending||s,children:"Cancel"}),n.jsx($,{type:"submit",disabled:m.isPending||s,"data-testid":"button-save-profile",children:s?n.jsxs(n.Fragment,{children:[n.jsx(tm,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):m.isPending?"Saving...":"Save Changes"})]})]})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[n.jsx(Po,{className:"h-4 w-4"}),"Total Hours"]}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:((v=o.totalFlightHours)==null?void 0:v.toLocaleString())||0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[n.jsx(ep,{className:"h-4 w-4"}),"Certifications"]}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-cert-count",children:((p=o.certifications)==null?void 0:p.length)||0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[n.jsx(Ut,{className:"h-4 w-4"}),"Rentals"]}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-rental-count",children:u})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[n.jsx(pn,{className:"h-4 w-4"}),"Verification"]}),n.jsxs(Y,{className:o.identityVerified?"bg-chart-2 text-white":"",children:[n.jsx(Os,{className:"h-3 w-3 mr-1"}),o.identityVerified?"Verified":"Unverified"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.identityVerified&&n.jsxs(Y,{variant:"outline",className:"bg-background",children:[n.jsx(Os,{className:"h-3 w-3 mr-1 text-chart-2"}),"ID Verified"]}),o.licenseVerified&&n.jsxs(Y,{variant:"outline",className:"bg-background",children:[n.jsx(Os,{className:"h-3 w-3 mr-1 text-chart-2"}),"License Verified"]}),o.backgroundCheckCompleted&&n.jsxs(Y,{variant:"outline",className:"bg-background",children:[n.jsx(Os,{className:"h-3 w-3 mr-1 text-chart-2"}),"Background Check"]}),o.pilotLicenseUrl&&n.jsxs(Y,{variant:"outline",className:"bg-background",children:[n.jsx(Or,{className:"h-3 w-3 mr-1 text-primary"}),"License on File"]}),o.insuranceUrl&&n.jsxs(Y,{variant:"outline",className:"bg-background",children:[n.jsx(Or,{className:"h-3 w-3 mr-1 text-primary"}),"Insurance on File"]})]})]})]})})}),n.jsxs(Sd,{defaultValue:"certifications",className:"space-y-6",children:[n.jsxs(Nl,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto","data-testid":"tabs-profile",children:[n.jsx(Ct,{value:"certifications",className:"text-xs sm:text-sm","data-testid":"tab-certifications",children:"Certifications"}),n.jsx(Ct,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-types",children:"Aircraft"}),n.jsx(Ct,{value:"history",className:"text-xs sm:text-sm","data-testid":"tab-rental-history",children:"History"}),n.jsx(Ct,{value:"reviews",className:"text-xs sm:text-sm","data-testid":"tab-reviews",children:"Reviews"})]}),n.jsx(Et,{value:"certifications",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Pilot Certifications"})}),n.jsx(z,{children:o.certifications&&o.certifications.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.certifications.map(f=>n.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`cert-${f}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ep,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:f}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilot Certification"})]})]})},f))}):n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:'No certifications added yet. Click "Edit Profile" to add certifications.'})})]})}),n.jsx(Et,{value:"aircraft",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Aircraft Types Flown"})}),n.jsx(z,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:bQ.map(f=>n.jsxs(Y,{variant:"outline",className:"px-4 py-2 text-sm","data-testid":`aircraft-type-${f}`,children:[n.jsx(Ut,{className:"h-4 w-4 mr-2"}),f]},f))})})]})}),n.jsx(Et,{value:"history",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Rental History"})}),n.jsx(z,{children:n.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>n.jsxs("div",{className:"p-4 border rounded-lg hover-elevate","data-testid":`rental-history-${f}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:"2018 Cessna 172 Skyhawk"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]}),n.jsx(Y,{className:"bg-chart-2 text-white",children:"Completed"})]}),n.jsx(it,{className:"my-2"}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Dec 1-3, 2024  6 hours"}),n.jsx("span",{className:"font-semibold",children:"$870.00"})]})]},f))})})]})}),n.jsx(Et,{value:"reviews",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Reviews"})}),n.jsx(z,{children:n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No reviews yet"})})]})})]})]})})}const NQ=.0825,SQ={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40,jobs:40};function KS(t,e){const s=SQ[t];return typeof s=="object"&&e?s[e]||s.basic||25:typeof s=="number"?s:25}function CQ(t,e,s){const r=KS(t,e);return KS(t,s)-r}function _Q(t){return t+t*NQ}const Vm=[{id:"basic",label:"Basic",price:25,description:"Essential features for smaller listings",features:["30-day listing","Basic visibility","Up to 3 images"]},{id:"standard",label:"Standard",price:40,description:"Enhanced features for better exposure",features:["30-day listing","Enhanced visibility","Up to 5 images","Featured badge"]},{id:"premium",label:"Premium",price:100,description:"Maximum visibility and features",features:["30-day listing","Top placement","Up to 10 images","Featured badge","Priority support"]}];function kQ({listing:t,isOpen:e,onClose:s}){const[r,i]=x.useState(""),{toast:a}=qt(),[,o]=Hs(),l=Vm.find(y=>y.id===t.tier),c=Vm.findIndex(y=>y.id===t.tier),d=Vm.filter((y,b)=>b>c),u=()=>{if(!r){a({title:"Select a tier",description:"Please select a tier to upgrade to",variant:"destructive"});return}const y=CQ(t.category,t.tier||"basic",r),b=_Q(y),j={listingId:t.id,listingTitle:t.title,currentTier:t.tier||"basic",newTier:r,category:t.category,upgradeDelta:y,totalWithTax:b};localStorage.setItem("upgradeContext",JSON.stringify(j)),s(),o("/marketplace/listing/checkout?mode=upgrade")},h=Vm.find(y=>y.id===r),m=h?h.price-((l==null?void 0:l.price)||25):0;return n.jsx(gs,{open:e,onOpenChange:s,children:n.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(ys,{children:[n.jsxs(vs,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"w-5 h-5"}),"Upgrade Your Listing"]}),n.jsx(_s,{children:"Boost your listing's visibility and features by upgrading to a higher tier"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Tier"}),n.jsxs(Y,{variant:"secondary",className:"text-sm",children:[l==null?void 0:l.label," - $",l==null?void 0:l.price,"/month"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium mb-4",children:"Available Upgrades"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(y=>{const b=y.price-((l==null?void 0:l.price)||25),j=r===y.id;return n.jsxs(U,{className:`cursor-pointer transition-all ${j?"border-primary ring-2 ring-primary":"hover-elevate"}`,onClick:()=>i(y.id),"data-testid":`tier-option-${y.id}`,children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(le,{className:"text-lg",children:y.label}),n.jsxs(Me,{className:"text-sm mt-1",children:["$",y.price,"/month"]})]}),j&&n.jsx(Gu,{className:"w-5 h-5 text-primary"})]}),n.jsx(Me,{className:"mt-2",children:y.description})]}),n.jsxs(z,{children:[n.jsx("ul",{className:"space-y-2",children:y.features.map((v,p)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Gu,{className:"w-4 h-4 text-green-600"}),v]},p))}),n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Upgrade cost: ",n.jsxs("span",{className:"text-foreground",children:["$",b]})]})})]})]},y.id)})})]}),d.length===0&&n.jsx(U,{children:n.jsx(z,{className:"py-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"You're already at the highest tier! "})})}),r&&n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Upgrade Summary"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l==null?void 0:l.label,"  ",h==null?void 0:h.label]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",m]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"one-time upgrade fee"})]})]})}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx($,{variant:"outline",onClick:s,"data-testid":"button-cancel-upgrade",children:"Cancel"}),n.jsx($,{onClick:u,disabled:!r,"data-testid":"button-confirm-upgrade",children:"Proceed to Payment"})]})]})]})})}function PQ(){const{user:t}=vn(),[,e]=Hs(),{toast:s}=qt(),[r,i]=x.useState(null),{data:a=[],isLoading:o}=ze({queryKey:["/api/marketplace/user",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:l=[],isLoading:c}=ze({queryKey:["/api/aircraft/owner",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),d=Re({mutationFn:async m=>await Fe("PATCH",`/api/aircraft/${m}/refresh`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/aircraft/owner",t==null?void 0:t.id]}),s({title:"Listing refreshed",description:"Your aircraft listing has been marked as recently reviewed."})},onError:()=>{s({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),u=Re({mutationFn:async m=>await Fe("PATCH",`/api/marketplace/${m}/refresh`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/marketplace/user",t==null?void 0:t.id]}),s({title:"Listing refreshed",description:"Your marketplace listing has been marked as recently reviewed."})},onError:()=>{s({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),h=m=>({"aircraft-sale":"Aircraft For Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[m]||m;return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-my-listings-title",children:"My Listings"}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your aircraft rentals and marketplace listings"})]}),n.jsxs(Sd,{defaultValue:"marketplace",className:"space-y-6",children:[n.jsxs(Nl,{className:"grid w-full grid-cols-2 h-auto",children:[n.jsxs(Ct,{value:"marketplace",className:"text-xs sm:text-sm","data-testid":"tab-marketplace-listings",children:["Marketplace (",a.length,")"]}),n.jsxs(Ct,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-listings",children:["Rentals (",l.length,")"]})]}),n.jsxs(Et,{value:"marketplace",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Marketplace Listings"}),n.jsx($,{onClick:()=>e("/create-marketplace-listing"),className:"w-full sm:w-auto","data-testid":"button-create-marketplace",children:"Create New Listing"})]}),o?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>n.jsx(U,{className:"animate-pulse",children:n.jsx(z,{className:"h-64 bg-muted"})},m))}):a.length===0?n.jsx(U,{children:n.jsxs(z,{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings yet"}),n.jsx($,{onClick:()=>e("/create-marketplace-listing"),"data-testid":"button-create-first-marketplace",children:"Create Your First Listing"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>n.jsxs(U,{className:"hover-elevate",children:[n.jsx(ae,{children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsx(Y,{variant:m.isActive?"default":"secondary",className:"mb-2",children:m.isActive?"Active":"Inactive"}),n.jsx(le,{className:"text-lg line-clamp-2",children:m.title}),n.jsx(Me,{className:"line-clamp-1",children:h(m.category)})]})})}),n.jsxs(z,{className:"space-y-3",children:[m.price&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:o0(m.price)})]}),(m.city||m.location)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"w-4 h-4"}),n.jsx("span",{children:m.city?`${m.city}, ${m.state}`:m.location})]}),m.createdAt&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(rr,{className:"w-4 h-4"}),n.jsxs("span",{children:["Created ",new Date(m.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(tp,{className:"w-4 h-4"}),n.jsxs("span",{children:[m.viewCount||0," views"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:n.jsxs(Y,{variant:"outline",className:"text-xs",children:[m.tier==="basic"?"Basic":m.tier==="standard"?"Standard":"Premium"," Tier"]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-marketplace-listing/${m.id}`),"data-testid":`button-edit-marketplace-${m.id}`,children:"Edit"}),m.tier!=="premium"&&n.jsxs($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>i(m),"data-testid":`button-upgrade-marketplace-${m.id}`,children:[n.jsx(Gn,{className:"h-4 w-4 mr-1"}),"Upgrade"]}),n.jsx($,{variant:"outline",size:"icon",onClick:()=>u.mutate(m.id),disabled:u.isPending,"data-testid":`button-refresh-marketplace-${m.id}`,children:n.jsx(ip,{className:"h-4 w-4"})})]})]})]})]},m.id))})]}),n.jsxs(Et,{value:"aircraft",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Aircraft Rental Listings"}),n.jsx($,{onClick:()=>e("/list-aircraft"),className:"w-full sm:w-auto","data-testid":"button-list-aircraft",children:"List New Aircraft"})]}),c?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>n.jsx(U,{className:"animate-pulse",children:n.jsx(z,{className:"h-64 bg-muted"})},m))}):l.length===0?n.jsx(U,{children:n.jsxs(z,{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft listed for rent yet"}),n.jsx($,{onClick:()=>e("/list-aircraft"),"data-testid":"button-list-first-aircraft",children:"List Your First Aircraft"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>n.jsxs(U,{className:"hover-elevate",children:[n.jsx(ae,{children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsx(Y,{variant:m.isListed?"default":"secondary",className:"mb-2",children:m.isListed?"Listed":"Unlisted"}),n.jsxs(le,{className:"text-lg",children:[m.year," ",m.make," ",m.model]}),n.jsx(Me,{children:m.registration})]})})}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"font-semibold",children:["$",m.hourlyRate,"/hour"]})]}),m.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"w-4 h-4"}),n.jsx("span",{children:m.location})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ut,{className:"w-4 h-4"}),n.jsx("span",{children:m.category||"Single Engine"})]}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx($,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/aircraft/${m.id}`),"data-testid":`button-view-aircraft-${m.id}`,children:"View"}),n.jsx($,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-edit-aircraft-${m.id}`,children:"Edit"}),n.jsx($,{variant:"outline",size:"icon",onClick:()=>d.mutate(m.id),disabled:d.isPending,"data-testid":`button-refresh-aircraft-${m.id}`,children:n.jsx(ip,{className:"h-4 w-4"})})]})]})]},m.id))})]})]}),r&&n.jsx(kQ,{listing:r,isOpen:!!r,onClose:()=>i(null)})]})}function TQ(){const[t,e]=x.useState(null),[s,r]=x.useState(""),[i,a]=x.useState(""),{data:o=[]}=ze({queryKey:["/api/messages/conversations"]}),{data:l=[]}=ze({queryKey:["/api/messages",t],enabled:!!t}),c=o.filter(h=>{var m;return h.userName.toLowerCase().includes(i.toLowerCase())||((m=h.aircraftName)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))}),d=()=>{!s.trim()||!t||r("")},u=o.find(h=>h.id===t);return n.jsx("div",{className:"container mx-auto px-4 py-8 h-[calc(100vh-4rem)]",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-messages-title",children:"Messages"}),n.jsx("p",{className:"text-muted-foreground",children:"Communicate with aircraft owners and renters"})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[n.jsxs(U,{className:"md:col-span-1 flex flex-col",children:[n.jsx(ae,{className:"space-y-0 pb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{placeholder:"Search conversations...",value:i,onChange:h=>a(h.target.value),className:"pl-10","data-testid":"input-search-conversations"})]})}),n.jsx(z,{className:"flex-1 overflow-hidden p-0",children:n.jsx(xh,{className:"h-full",children:c.length===0?n.jsxs("div",{className:"text-center py-12 px-4",children:[n.jsx(K1,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:o.length===0?"No messages yet":"No conversations found"})]}):n.jsx("div",{children:c.map(h=>n.jsx("div",{onClick:()=>e(h.id),className:`
                          p-4 border-b cursor-pointer hover-elevate transition-colors
                          ${t===h.id?"bg-accent/10":""}
                        `,"data-testid":`conversation-${h.id}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(bi,{className:"h-10 w-10 flex-shrink-0",children:[n.jsx(wi,{src:h.userAvatar}),n.jsx(Ni,{children:h.userName[0]})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:h.userName}),h.unreadCount>0&&n.jsx(Y,{variant:"default",className:"ml-2 h-5 min-w-5 rounded-full text-xs",children:h.unreadCount})]}),h.aircraftName&&n.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Re: ",h.aircraftName]}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.lastMessage}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(h.lastMessageTime).toLocaleDateString()})]})]})},h.id))})})})]}),n.jsx(U,{className:"md:col-span-2 flex flex-col",children:u?n.jsxs(n.Fragment,{children:[n.jsx(ae,{className:"border-b",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(bi,{className:"h-10 w-10",children:[n.jsx(wi,{src:u.userAvatar}),n.jsx(Ni,{children:u.userName[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:u.userName}),u.aircraftName&&n.jsx("p",{className:"text-sm text-muted-foreground",children:u.aircraftName})]})]})}),n.jsx(z,{className:"flex-1 overflow-hidden p-0",children:n.jsx(xh,{className:"h-full p-4",children:l.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})}):n.jsx("div",{className:"space-y-4",children:l.map(h=>n.jsx("div",{className:`flex ${h.senderId==="current-user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`
                                max-w-[70%] rounded-lg p-3
                                ${h.senderId==="current-user"?"bg-primary text-primary-foreground":"bg-muted"}
                              `,children:[n.jsx("p",{className:"text-sm",children:h.content}),n.jsx("p",{className:`
                                text-xs mt-1
                                ${h.senderId==="current-user"?"text-primary-foreground/70":"text-muted-foreground"}
                              `,children:new Date(h.timestamp).toLocaleTimeString()})]})},h.id))})})}),n.jsxs("div",{className:"border-t p-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(rs,{placeholder:"Type your message...",value:s,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},className:"resize-none",rows:2,"data-testid":"textarea-message"}),n.jsx($,{onClick:d,disabled:!s.trim(),className:"self-end","data-testid":"button-send-message",children:n.jsx(m4,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(K1,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to start messaging"})]})})})]})]})})}function EQ(){var l,c,d,u,h,m;const{user:t}=vn(),[,e]=Hs(),[s,r]=x.useState(null),{data:i,isLoading:a}=ze({queryKey:["/api/favorites"],enabled:!!t}),o=y=>({"aircraft-sale":"Aircraft for Sale",job:"Aviation Jobs",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[y]||y;return t?n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-favorites-title",children:"My Favorites"}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your saved aircraft rentals and marketplace listings"})]}),n.jsxs(Sd,{defaultValue:"marketplace",className:"space-y-6",children:[n.jsxs(Nl,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ct,{value:"marketplace","data-testid":"tab-marketplace",children:["Marketplace (",((l=i==null?void 0:i.marketplace)==null?void 0:l.length)||0,")"]}),n.jsxs(Ct,{value:"aircraft","data-testid":"tab-aircraft",children:["Aircraft Rentals (",((c=i==null?void 0:i.aircraft)==null?void 0:c.length)||0,")"]})]}),n.jsx(Et,{value:"marketplace",className:"space-y-4",children:a?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(y=>n.jsx(U,{className:"animate-pulse",children:n.jsx(z,{className:"h-64 bg-muted"})},y))}):((d=i==null?void 0:i.marketplace)==null?void 0:d.length)===0?n.jsx(U,{children:n.jsxs(z,{className:"text-center py-12",children:[n.jsx(bu,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings saved yet"}),n.jsx($,{onClick:()=>e("/marketplace"),"data-testid":"button-browse-marketplace",children:"Browse Marketplace"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=i==null?void 0:i.marketplace)==null?void 0:u.map(y=>n.jsxs(U,{className:"hover-elevate cursor-pointer",onClick:()=>r(y.id),"data-testid":`card-marketplace-${y.id}`,children:[n.jsxs(ae,{children:[n.jsx(le,{className:"text-lg line-clamp-2",children:y.title}),n.jsx(Me,{className:"line-clamp-1",children:o(y.category)})]}),n.jsxs(z,{className:"space-y-3",children:[y.price&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"font-semibold",children:o0(y.price)})]}),(y.city||y.location)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"w-4 h-4"}),n.jsx("span",{children:y.city?`${y.city}, ${y.state}`:y.location})]}),y.createdAt&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(rr,{className:"w-4 h-4"}),n.jsxs("span",{children:["Listed ",new Date(y.createdAt).toLocaleDateString()]})]})]})]},y.id))})}),n.jsx(Et,{value:"aircraft",className:"space-y-4",children:a?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(y=>n.jsx(U,{className:"animate-pulse",children:n.jsx(z,{className:"h-64 bg-muted"})},y))}):((h=i==null?void 0:i.aircraft)==null?void 0:h.length)===0?n.jsx(U,{children:n.jsxs(z,{className:"text-center py-12",children:[n.jsx(bu,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft saved yet"}),n.jsx($,{onClick:()=>e("/"),"data-testid":"button-browse-aircraft",children:"Browse Aircraft"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(m=i==null?void 0:i.aircraft)==null?void 0:m.map(y=>n.jsxs(U,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/aircraft/${y.id}`),"data-testid":`card-aircraft-${y.id}`,children:[n.jsxs(ae,{children:[n.jsxs(le,{className:"text-lg",children:[y.year," ",y.make," ",y.model]}),n.jsx(Me,{children:y.registration})]}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"font-semibold",children:["$",y.hourlyRate,"/hour"]})]}),y.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"w-4 h-4"}),n.jsx("span",{children:y.location})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ut,{className:"w-4 h-4"}),n.jsx("span",{children:y.category||"Single Engine"})]})]})]},y.id))})})]}),n.jsx(l0,{listingId:s||"",open:!!s,onOpenChange:y=>{y||r(null)}})]}):n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx(U,{children:n.jsxs(z,{className:"text-center py-12",children:[n.jsx(bu,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to view your favorites"}),n.jsx($,{onClick:()=>e("/login"),"data-testid":"button-login",children:"Sign In"})]})})})}function AQ({rentalId:t,userId:e,rentalStatus:s}){const[r,i]=x.useState([]),[a,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(null),h=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{if(s!=="active"){u("Messaging is only available for active rentals");return}const v=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const p=new WebSocket(v);return h.current=p,p.onopen=()=>{console.log("WebSocket connected"),c(!0),u(null)},p.onmessage=f=>{try{const w=JSON.parse(f.data);w.type==="error"?u(w.message):w.type==="chat"&&w.rentalId===t&&(i(S=>[...S,w]),setTimeout(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},100))}catch(w){console.error("Failed to parse message:",w)}},p.onerror=f=>{console.error("WebSocket error:",f),u("Connection error. Please try again."),c(!1)},p.onclose=()=>{console.log("WebSocket disconnected"),c(!1)},()=>{p.readyState===WebSocket.OPEN&&p.close()}}catch(p){console.error("Failed to create WebSocket:",p),u("Failed to connect to messaging service")}},[t,s]);const y=()=>{if(!a.trim()||!h.current||h.current.readyState!==WebSocket.OPEN)return;const j={type:"chat",rentalId:t,senderId:e,content:a.trim()};h.current.send(JSON.stringify(j)),o("")},b=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),y())};return s!=="active"?n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Messages"})}),n.jsx(z,{children:n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Messaging is only available during active rentals"})})]}):n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{children:"Messages"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${l?"bg-chart-2":"bg-destructive"}`,"data-testid":"status-connection"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Connected":"Disconnected"})]})]}),n.jsxs(z,{children:[d&&n.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:d}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(xh,{className:"h-[400px] pr-4",ref:m,children:n.jsx("div",{className:"space-y-4",children:r.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):r.map((j,v)=>{const p=j.senderId===e;return n.jsxs("div",{className:`flex gap-3 ${p?"flex-row-reverse":""}`,"data-testid":`message-${v}`,children:[n.jsxs(bi,{className:"h-8 w-8",children:[n.jsx(wi,{src:""}),n.jsx(Ni,{children:p?"You":"Them"})]}),n.jsxs("div",{className:`flex-1 max-w-[70%] ${p?"text-right":""}`,children:[n.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${p?"bg-primary text-primary-foreground":"bg-muted"}`,children:j.content}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(j.timestamp).toLocaleTimeString()})]})]},v)})})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{placeholder:"Type a message...",value:a,onChange:j=>o(j.target.value),onKeyPress:b,disabled:!l,"data-testid":"input-message"}),n.jsx($,{onClick:y,disabled:!l||!a.trim(),size:"icon","data-testid":"button-send-message",children:n.jsx(m4,{className:"h-4 w-4"})})]})]})]})]})}function FQ(){var ee,W;const[,t]=px("/aircraft/:id"),[,e]=Hs(),[s,r]=x.useState("6"),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(!1),{user:u,isAuthenticated:h}=vn(),{toast:m}=qt(),[y]=x.useState({id:"rental-demo-123",status:"active",userId:"user-123"}),{data:b,isLoading:j,error:v}=ze({queryKey:["/api/aircraft",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:p}=ze({queryKey:["/api/users",b==null?void 0:b.ownerId],enabled:!!(b!=null&&b.ownerId)});x.useEffect(()=>{!j&&(v||!b)&&e("/404")},[j,v,b,e]);const f=Re({mutationFn:async se=>await Fe("POST","/api/rentals",se),onSuccess:se=>{e(`/rental-payment/${se.id}`),m({title:"Booking request created!",description:"Please complete payment to finalize your booking."})},onError:se=>{m({title:"Booking request failed",description:se.message||"Please try again later.",variant:"destructive"})}}),w=()=>{if(!h||!u){m({title:"Authentication required",description:"Please log in to request a booking.",variant:"destructive"});return}if(!i||!o){m({title:"Missing information",description:"Please select start and end dates.",variant:"destructive"});return}if(new Date(o)<new Date(i)){m({title:"Invalid dates",description:"End date must be on or after start date.",variant:"destructive"});return}if(!s||parseFloat(s)<=0){m({title:"Invalid flight hours",description:"Please enter estimated flight hours.",variant:"destructive"});return}d(!0)},S=()=>{if(!u)return;const se=parseFloat(b.hourlyRate),K=parseFloat(s)*se,M=K*.0825,F=K*.075,O=K*.075,he=K+M+F,_e=he*.03,tt=he+_e,Ze=K-O;f.mutate({aircraftId:b.id,renterId:u.id,ownerId:b.ownerId,startDate:new Date(i).toISOString(),endDate:new Date(o).toISOString(),estimatedHours:s,hourlyRate:b.hourlyRate,baseCost:K.toFixed(2),salesTax:M.toFixed(2),platformFeeRenter:F.toFixed(2),platformFeeOwner:O.toFixed(2),processingFee:_e.toFixed(2),totalCostRenter:tt.toFixed(2),ownerPayout:Ze.toFixed(2)}),d(!1)};if(j||!b)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})});const k=parseFloat(b.hourlyRate),C=parseFloat(s)*k,_=C*.0825,T=C*.075,R=C+_+T,D=R*.03,L=R+D,B=b.images&&b.images.length>0?b.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsxs("section",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"relative mb-6",children:n.jsxs(Hx,{className:"w-full",children:[n.jsx(Wx,{children:B.map((se,A)=>n.jsx(Kx,{children:n.jsx("div",{className:"aspect-[16/9] rounded-xl overflow-hidden bg-muted",children:n.jsx("img",{src:se,alt:`${b.year} ${b.make} ${b.model} - Image ${A+1}`,className:"w-full h-full object-cover"})})},A))}),B.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(Gx,{className:"left-4","data-testid":"button-carousel-prev"}),n.jsx(Qx,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-aircraft-title",children:[b.year," ",b.make," ",b.model]}),n.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-4 w-4"}),n.jsxs("span",{children:[b.location,b.airportCode?` (${b.airportCode})`:""]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(To,{className:"h-4 w-4 fill-current text-accent"}),n.jsx("span",{className:"font-semibold text-foreground",children:"4.95"}),n.jsx("span",{children:"(24 reviews)"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"icon","data-testid":"button-share","aria-label":"Share listing",children:n.jsx(sB,{className:"h-5 w-5"})}),n.jsx(s5,{listingId:b.id,listingType:"aircraft",variant:"outline"})]})]})]}),n.jsx("section",{className:"container mx-auto px-4 pb-12",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Aircraft Specifications"})}),n.jsx(z,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Make & Model"}),n.jsxs("div",{className:"font-semibold",children:[b.make," ",b.model]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),n.jsx("div",{className:"font-semibold",children:b.year})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Registration"}),n.jsx("div",{className:"font-semibold",children:b.registration})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Time"}),n.jsxs("div",{className:"font-semibold",children:[b.totalTime.toLocaleString()," hours"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),n.jsx("div",{className:"font-semibold",children:b.engine||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Avionics"}),n.jsx("div",{className:"font-semibold",children:b.avionicsSuite||"N/A"})]})]})})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Required Certifications"})}),n.jsx(z,{children:n.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.requiredCertifications.map(se=>n.jsx(Y,{className:"bg-primary text-primary-foreground px-4 py-2",children:se},se)),b.minFlightHours&&b.minFlightHours>0&&n.jsxs(Y,{variant:"outline",className:"px-4 py-2",children:["Minimum ",b.minFlightHours," flight hours"]})]})})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Description"})}),n.jsx(z,{className:"prose prose-sm max-w-none",children:n.jsx("p",{children:b.description})})]}),y&&n.jsx(AQ,{rentalId:y.id,userId:y.userId,rentalStatus:y.status}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Aircraft Owner"})}),n.jsx(z,{children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(bi,{className:"h-16 w-16",children:[n.jsx(wi,{src:(p==null?void 0:p.profileImageUrl)||void 0}),n.jsxs(Ni,{children:[(ee=p==null?void 0:p.firstName)==null?void 0:ee[0],(W=p==null?void 0:p.lastName)==null?void 0:W[0]]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold mb-1","data-testid":"text-owner-name",children:[p==null?void 0:p.firstName," ",p==null?void 0:p.lastName]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[(p==null?void 0:p.averageRating)&&p.totalReviews&&p.totalReviews>0&&n.jsx(mj,{rating:parseFloat(p.averageRating),totalReviews:p.totalReviews||0,size:"sm"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Response time: ",b.responseTime,"h"]}),n.jsxs("span",{children:["Acceptance rate: ",b.acceptanceRate,"%"]}),(p==null?void 0:p.isVerified)&&n.jsx(Y,{className:"bg-chart-2 text-white",children:"Verified"})]})]})]}),n.jsx($,{variant:"outline","data-testid":"button-message-owner",children:"Message Owner"})]})})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(U,{className:"sticky top-24 shadow-xl",children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:"text-3xl font-bold","data-testid":"text-booking-rate",children:["$",k.toFixed(0)]}),n.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),b.insuranceIncluded&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(pn,{className:"h-4 w-4 text-chart-2"}),n.jsx("span",{className:"text-muted-foreground",children:"Insurance included"})]})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"start-date",children:"Start Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{id:"start-date",type:"date",value:i,onChange:se=>a(se.target.value),className:"pl-10","data-testid":"input-start-date"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"end-date",children:"End Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{id:"end-date",type:"date",value:o,onChange:se=>l(se.target.value),min:i||void 0,className:"pl-10","data-testid":"input-end-date"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"hours",children:"Estimated Flight Hours"}),n.jsx(Q,{id:"hours",type:"number",value:s,onChange:se=>r(se.target.value),min:"1",step:"0.5","data-testid":"input-estimated-hours"})]}),n.jsx(it,{}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["$",k,"  ",s," hours"]}),n.jsxs("span",{"data-testid":"text-base-cost",children:["$",C.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),n.jsxs("span",{"data-testid":"text-sales-tax",children:["$",_.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),n.jsxs("span",{"data-testid":"text-platform-fee",children:["$",T.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{"data-testid":"text-subtotal",children:["$",R.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),n.jsxs("span",{"data-testid":"text-processing-fee",children:["$",D.toFixed(2)]})]})]}),n.jsx(it,{}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{"data-testid":"text-total-cost",children:["$",L.toFixed(2)]})]}),n.jsx($,{className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg",onClick:w,disabled:f.isPending||!h,"data-testid":"button-request-booking",children:f.isPending?"Sending request...":"Request to Book"}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"You won't be charged yet"})]})]})})]})}),n.jsx(pl,{open:c,onOpenChange:d,children:n.jsxs(so,{className:"max-w-2xl",children:[n.jsxs(no,{children:[n.jsxs(io,{className:"flex items-center gap-2",children:[n.jsx(Yb,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),n.jsxs(ao,{className:"text-left space-y-4 pt-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",n.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",n.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),n.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-booking",children:"Cancel"}),n.jsx(oo,{onClick:S,className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-booking",children:"I Understand - Continue to Book"})]})]})})]})}function hO(t){return/^401: .*Unauthorized/.test(t.message)}function mO(t,e){return Object.hasOwn(t,e)}const{AbortController:vy}=globalThis,fO=(t="Aborted",e)=>{const s=new DOMException(t,"AbortError");return e!=null&&mO(e,"cause")&&Object.defineProperty(s,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),s},RQ=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function IQ(t,e,s){const r=RQ.exec(t),i=e.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}class DQ extends Error{constructor(s,r){super(s);P(this,"isNetworkError");P(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&mO(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function GS(t,e,s,r){return t===e?t:r===0?e:t+(e-t)*2**(-r/s)}const pO=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class OQ extends Error{constructor(s,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");P(this,"cause");P(this,"isNetworkError");P(this,"request");this.cause=s,this.isNetworkError=!0,this.request=r}}function MQ(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new OQ(e)})}function LQ(t){const e=s=>"error"in s&&!!s.error;return t.filter(s=>!e(s))}function $Q(t){return t.filter(e=>{var s;return!((s=e.progress)!=null&&s.uploadStarted)||!e.isRestored})}function xO(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function QS(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&xO(t)?[t]:null}function UQ(t,e=document){return typeof t=="string"?e.querySelector(t):xO(t)?t:null}function gO(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const YS={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function yO(t){var s;if(t.type)return t.type;const e=t.name?(s=gO(t.name).extension)==null?void 0:s.toLowerCase():null;return e&&e in YS?YS[e]:"application/octet-stream"}function BQ(t){return t.charCodeAt(0).toString(32)}function XS(t){let e="";return t.replace(/[^A-Z0-9]/gi,s=>(e+=`-${BQ(s)}`,"/"))+e}function zQ(t,e){var r;let s=e||"uppy";return typeof t.name=="string"&&(s+=`-${XS(t.name.toLowerCase())}`),t.type!==void 0&&(s+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(s+=`-${XS(t.meta.relativePath.toLowerCase())}`),((r=t.data)==null?void 0:r.size)!==void 0&&(s+=`-${t.data.size}`),t.data.lastModified!==void 0&&(s+=`-${t.data.lastModified}`),s}function VQ(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function qQ(t,e){if(VQ(t))return t.id;const s=yO(t);return zQ({...t,type:s},e)}function ZS(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const ku=Array.from;function HQ(t){const e=ku(t.files);return Promise.resolve(e)}function vO(t,e,s,{onSuccess:r}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{vO(t,a,s,{onSuccess:r})}):r(a)},i=>{s(i),r(e)})}function jO(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((s,r)=>t.file(s,r))},async*values(){const s=t.createReader();yield*await new Promise(i=>{vO(s,[],e,{onSuccess:a=>i(a.map(o=>jO(o,e)))})})},isSameEntry:void 0}}async function*bO(t,e,s=void 0){const r=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?r():null,yield i):s!=null&&(yield s)}else if(t.kind==="directory")for await(const i of t.values())yield*bO(i,e?r():t.name);else s!=null&&(yield s)}async function*WQ(t,e){const s=await Promise.all(Array.from(t.items,async r=>{let i;return i??(i=jO(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of s)if(i!=null)try{yield*bO(i,"",r)}catch(a){r!=null?yield r:e(a)}else r!=null&&(yield r)}async function KQ(t,e){const s=(e==null?void 0:e.logDropError)??Function.prototype;try{const r=[];for await(const i of WQ(t,s))r.push(i);return r}catch{return HQ(t)}}function GQ(t){var i;const s=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${s}`}function QQ(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function jy(t){return t<10?`0${t}`:t.toString()}function Cf(){const t=new Date,e=jy(t.getHours()),s=jy(t.getMinutes()),r=jy(t.getSeconds());return`${e}:${s}:${r}`}function YQ(){if(typeof window>"u")return!1;const t=document.body;return!(t==null||window==null||!("draggable"in t)||!("ondragstart"in t)||!("ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function JS(t){return t.startsWith("blob:")}function eC(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function XQ(t){const e=Math.floor(t/3600)%24,s=Math.floor(t/60)%60,r=Math.floor(t%60);return{hours:e,minutes:s,seconds:r}}function ZQ(t){const e=XQ(t),s=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${s}${r}${i}`}function JQ(t){return new Error("Cancelled",{cause:t})}function tC(t){var e;if(t!=null){const s=()=>this.abort(t.reason);t.addEventListener("abort",s,{once:!0});const r=()=>{t.removeEventListener("abort",s)};(e=this.then)==null||e.call(this,r,r)}return this}var $i,ai,Ui,Tc,oi,Ec,$o,sn,xj,ru,wO,NO,SO,Lp,Ac;class eY{constructor(e){G(this,sn);G(this,$i,0);G(this,ai,[]);G(this,Ui,!1);G(this,Tc);G(this,oi,1);G(this,Ec);G(this,$o);P(this,"limit");G(this,Lp,()=>this.resume());G(this,Ac,()=>{if(N(this,Ui)){X(this,$o,setTimeout(N(this,Ac),0));return}X(this,oi,this.limit),this.limit=Math.ceil((N(this,Ec)+N(this,oi))/2);for(let e=N(this,oi);e<=this.limit;e++)ce(this,sn,ru).call(this);N(this,Ec)-N(this,oi)>3?X(this,$o,setTimeout(N(this,Ac),2e3)):X(this,oi,Math.floor(N(this,oi)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,s){return!N(this,Ui)&&N(this,$i)<this.limit?ce(this,sn,xj).call(this,e):ce(this,sn,NO).call(this,e,s)}wrapSyncFunction(e,s){return(...r)=>{const i=this.run(()=>(e(...r),queueMicrotask(()=>i.done()),()=>{}),s);return{abortOn:tC,abort(){i.abort()}}}}wrapPromiseFunction(e,s){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...r))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(i.done(),o(u))},u=>{c?l(c):(i.done(),l(u))}),u=>{c=JQ(u)}},s)});return a.abort=o=>{i.abort(o)},a.abortOn=tC,a}}resume(){X(this,Ui,!1),clearTimeout(N(this,Tc));for(let e=0;e<this.limit;e++)ce(this,sn,ru).call(this)}pause(e=null){X(this,Ui,!0),clearTimeout(N(this,Tc)),e!=null&&X(this,Tc,setTimeout(N(this,Lp),e))}rateLimit(e){clearTimeout(N(this,$o)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(X(this,Ec,this.limit-1),this.limit=N(this,oi),X(this,$o,setTimeout(N(this,Ac),e)))}get isPaused(){return N(this,Ui)}}$i=new WeakMap,ai=new WeakMap,Ui=new WeakMap,Tc=new WeakMap,oi=new WeakMap,Ec=new WeakMap,$o=new WeakMap,sn=new WeakSet,xj=function(e){X(this,$i,N(this,$i)+1);let s=!1,r;try{r=e()}catch(i){throw X(this,$i,N(this,$i)-1),i}return{abort:i=>{s||(s=!0,X(this,$i,N(this,$i)-1),r==null||r(i),ce(this,sn,ru).call(this))},done:()=>{s||(s=!0,X(this,$i,N(this,$i)-1),ce(this,sn,ru).call(this))}}},ru=function(){queueMicrotask(()=>ce(this,sn,wO).call(this))},wO=function(){if(N(this,Ui)||N(this,$i)>=this.limit||N(this,ai).length===0)return;const e=N(this,ai).shift();if(e==null)throw new Error("Invariant violation: next is null");const s=ce(this,sn,xj).call(this,e.fn);e.abort=s.abort,e.done=s.done},NO=function(e,s){const r={fn:e,priority:(s==null?void 0:s.priority)||0,abort:()=>{ce(this,sn,SO).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=N(this,ai).findIndex(a=>r.priority>a.priority);return i===-1?N(this,ai).push(r):N(this,ai).splice(i,0,r),r},SO=function(e){const s=N(this,ai).indexOf(e);s!==-1&&N(this,ai).splice(s,1)},Lp=new WeakMap,Ac=new WeakMap;function tY(t,e,s){const r=[];return t.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(s)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function sC(t,e){const s=/\$/g,r="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=s[Symbol.replace](o,r)),i=tY(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const sY=t=>{throw new Error(`missing string: ${t}`)};var _h,kh,gj;class CO{constructor(e,{onMissingKey:s=sY}={}){G(this,kh);P(this,"locale");G(this,_h);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(ce(this,kh,gj),this):ce(this,kh,gj).call(this,e),X(this,_h,s)}translate(e,s){return this.translateArray(e,s).join("")}translateArray(e,s){let r=this.locale.strings[e];if(r==null&&(N(this,_h).call(this,e),r=e),typeof r=="object"){if(s&&typeof s.smart_count<"u"){const a=this.locale.pluralize(s.smart_count);return sC(r[a],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return sC(r,s)}}_h=new WeakMap,kh=new WeakSet,gj=function(e){if(!(e!=null&&e.strings))return;const s=this.locale;Object.assign(this.locale,{strings:{...s.strings,...e.strings},pluralize:e.pluralize||s.pluralize})};const by="...";function _O(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=by.length+1)return`${t.slice(0,e-1)}`;const s=e-by.length,r=Math.ceil(s/2),i=Math.floor(s/2);return t.slice(0,r)+by+t.slice(-i)}class nY extends Error{constructor(){super(...arguments);P(this,"name","UserFacingApiError")}}var mm,Ft,kO,No,nC,PO,TO,EO,y0,yj,vj,yh={},AO=[],rY=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fm=Array.isArray;function fi(t,e){for(var s in e)t[s]=e[s];return t}function v0(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function j0(t,e,s){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?mm.call(arguments,2):s),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Pu(t,o,r,i,null)}function Pu(t,e,s,r,i){var a={type:t,props:e,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++kO,__i:-1,__u:0};return i==null&&Ft.vnode!=null&&Ft.vnode(a),a}function iY(){return{current:null}}function Wi(t){return t.children}function vi(t,e){this.props=t,this.context=e}function ud(t,e){if(e==null)return t.__?ud(t.__,t.__i+1):null;for(var s;e<t.__k.length;e++)if((s=t.__k[e])!=null&&s.__e!=null)return s.__e;return typeof t.type=="function"?ud(t):null}function FO(t){var e,s;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((s=t.__k[e])!=null&&s.__e!=null){t.__e=t.__c.base=s.__e;break}return FO(t)}}function rC(t){(!t.__d&&(t.__d=!0)&&No.push(t)&&!Ep.__r++||nC!=Ft.debounceRendering)&&((nC=Ft.debounceRendering)||PO)(Ep)}function Ep(){for(var t,e,s,r,i,a,o,l=1;No.length;)No.length>l&&No.sort(TO),t=No.shift(),l=No.length,t.__d&&(s=void 0,r=void 0,i=(r=(e=t).__v).__e,a=[],o=[],e.__P&&((s=fi({},r)).__v=r.__v+1,Ft.vnode&&Ft.vnode(s),b0(e.__P,s,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??ud(r),!!(32&r.__u),o),s.__v=r.__v,s.__.__k[s.__i]=s,DO(a,s,o),r.__e=r.__=null,s.__e!=i&&FO(s)));Ep.__r=0}function RO(t,e,s,r,i,a,o,l,c,d,u){var h,m,y,b,j,v,p,f=r&&r.__k||AO,w=e.length;for(c=aY(s,e,f,c,w),h=0;h<w;h++)(y=s.__k[h])!=null&&(m=y.__i==-1?yh:f[y.__i]||yh,y.__i=h,v=b0(t,y,m,i,a,o,l,c,d,u),b=y.__e,y.ref&&m.ref!=y.ref&&(m.ref&&w0(m.ref,null,y),u.push(y.ref,y.__c||b,y)),j==null&&b!=null&&(j=b),(p=!!(4&y.__u))||m.__k===y.__k?c=IO(y,c,t,p):typeof y.type=="function"&&v!==void 0?c=v:b&&(c=b.nextSibling),y.__u&=-7);return s.__e=j,c}function aY(t,e,s,r,i){var a,o,l,c,d,u=s.length,h=u,m=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=t.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Pu(null,o,null,null,null):fm(o)?Pu(Wi,{children:o},null,null,null):o.constructor==null&&o.__b>0?Pu(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(d=o.__i=oY(o,s,c,h))!=-1&&(h--,(l=s[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=s[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=ud(l)),MO(l,l));return r}function IO(t,e,s,r){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=IO(i[a],e,s,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=ud(t)),s.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function va(t,e){return e=e||[],t==null||typeof t=="boolean"||(fm(t)?t.some(function(s){va(s,e)}):e.push(t)),e}function oY(t,e,s,r){var i,a,o,l=t.key,c=t.type,d=e[s],u=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||u&&l==d.key&&c==d.type)return s;if(r>(u?1:0)){for(i=s-1,a=s+1;i>=0||a<e.length;)if((d=e[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function iC(t,e,s){e[0]=="-"?t.setProperty(e,s??""):t[e]=s==null?"":typeof s!="number"||rY.test(e)?s:s+"px"}function qm(t,e,s,r,i){var a,o;e:if(e=="style")if(typeof s=="string")t.style.cssText=s;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)s&&e in s||iC(t.style,e,"");if(s)for(e in s)r&&s[e]==r[e]||iC(t.style,e,s[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(EO,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=s,s?r?s.u=r.u:(s.u=y0,t.addEventListener(e,a?vj:yj,a)):t.removeEventListener(e,a?vj:yj,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=s??"";break e}catch{}typeof s=="function"||(s==null||s===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&s==1?"":s))}}function aC(t){return function(e){if(this.l){var s=this.l[e.type+t];if(e.t==null)e.t=y0++;else if(e.t<s.u)return;return s(Ft.event?Ft.event(e):e)}}}function b0(t,e,s,r,i,a,o,l,c,d){var u,h,m,y,b,j,v,p,f,w,S,k,C,_,T,R,D,L=e.type;if(e.constructor!=null)return null;128&s.__u&&(c=!!(32&s.__u),a=[l=e.__e=s.__e]),(u=Ft.__b)&&u(e);e:if(typeof L=="function")try{if(p=e.props,f="prototype"in L&&L.prototype.render,w=(u=L.contextType)&&r[u.__c],S=u?w?w.props.value:u.__:r,s.__c?v=(h=e.__c=s.__c).__=h.__E:(f?e.__c=h=new L(p,S):(e.__c=h=new vi(p,S),h.constructor=L,h.render=cY),w&&w.sub(h),h.props=p,h.state||(h.state={}),h.context=S,h.__n=r,m=h.__d=!0,h.__h=[],h._sb=[]),f&&h.__s==null&&(h.__s=h.state),f&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=fi({},h.__s)),fi(h.__s,L.getDerivedStateFromProps(p,h.__s))),y=h.props,b=h.state,h.__v=e,m)f&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),f&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(f&&L.getDerivedStateFromProps==null&&p!==y&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(p,S),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(p,h.__s,S)===!1||e.__v==s.__v){for(e.__v!=s.__v&&(h.props=p,h.state=h.__s,h.__d=!1),e.__e=s.__e,e.__k=s.__k,e.__k.some(function(B){B&&(B.__=e)}),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(p,h.__s,S),f&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(y,b,j)})}if(h.context=S,h.props=p,h.__P=t,h.__e=!1,C=Ft.__r,_=0,f){for(h.state=h.__s,h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[]}else do h.__d=!1,C&&C(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++_<25);h.state=h.__s,h.getChildContext!=null&&(r=fi(fi({},r),h.getChildContext())),f&&!m&&h.getSnapshotBeforeUpdate!=null&&(j=h.getSnapshotBeforeUpdate(y,b)),R=u,u!=null&&u.type===Wi&&u.key==null&&(R=OO(u.props.children)),l=RO(t,fm(R)?R:[R],e,s,r,i,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),v&&(h.__E=h.__=null)}catch(B){if(e.__v=null,c||a!=null)if(B.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(D=a.length;D--;)v0(a[D]);jj(e)}else e.__e=s.__e,e.__k=s.__k,B.then||jj(e);Ft.__e(B,e,s)}else a==null&&e.__v==s.__v?(e.__k=s.__k,e.__e=s.__e):l=e.__e=lY(s.__e,e,s,r,i,a,o,c,d);return(u=Ft.diffed)&&u(e),128&e.__u?void 0:l}function jj(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(jj)}function DO(t,e,s){for(var r=0;r<s.length;r++)w0(s[r],s[++r],s[++r]);Ft.__c&&Ft.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){Ft.__e(a,i.__v)}})}function OO(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:fm(t)?t.map(OO):fi({},t)}function lY(t,e,s,r,i,a,o,l,c){var d,u,h,m,y,b,j,v=s.props,p=e.props,f=e.type;if(f=="svg"?i="http://www.w3.org/2000/svg":f=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((y=a[d])&&"setAttribute"in y==!!f&&(f?y.localName==f:y.nodeType==3)){t=y,a[d]=null;break}}if(t==null){if(f==null)return document.createTextNode(p);t=document.createElementNS(i,f,p.is&&p),l&&(Ft.__m&&Ft.__m(e,a),l=!1),a=null}if(f==null)v===p||l&&t.data==p||(t.data=p);else{if(a=a&&mm.call(t.childNodes),v=s.props||yh,!l&&a!=null)for(v={},d=0;d<t.attributes.length;d++)v[(y=t.attributes[d]).name]=y.value;for(d in v)if(y=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=y;else if(!(d in p)){if(d=="value"&&"defaultValue"in p||d=="checked"&&"defaultChecked"in p)continue;qm(t,d,null,y,i)}}for(d in p)y=p[d],d=="children"?m=y:d=="dangerouslySetInnerHTML"?u=y:d=="value"?b=y:d=="checked"?j=y:l&&typeof y!="function"||v[d]===y||qm(t,d,y,v[d],i);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),RO(e.type=="template"?t.content:t,fm(m)?m:[m],e,s,r,f=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:s.__k&&ud(s,0),l,c),a!=null)for(d=a.length;d--;)v0(a[d]);l||(d="value",f=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[d]||f=="progress"&&!b||f=="option"&&b!=v[d])&&qm(t,d,b,v[d],i),d="checked",j!=null&&j!=t[d]&&qm(t,d,j,v[d],i))}return t}function w0(t,e,s){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ft.__e(i,s)}}function MO(t,e,s){var r,i;if(Ft.unmount&&Ft.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||w0(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Ft.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&MO(r[i],e,s||typeof t.type!="function");s||v0(t.__e),t.__c=t.__=t.__e=void 0}function cY(t,e,s){return this.constructor(t,s)}function oC(t,e,s){var r,i,a,o;e==document&&(e=document.documentElement),Ft.__&&Ft.__(t,e),i=(r=typeof s=="function")?null:e.__k,a=[],o=[],b0(e,t=(!r&&s||e).__k=j0(Wi,null,[t]),i||yh,yh,e.namespaceURI,!r&&s?[s]:i?null:e.firstChild?mm.call(e.childNodes):null,a,!r&&s?s:i?i.__e:e.firstChild,r,o),DO(a,t,o)}function LO(t,e,s){var r,i,a,o,l=fi({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?mm.call(arguments,2):s),Pu(t.type,l,r||t.key,i||t.ref,null)}mm=AO.slice,Ft={__e:function(t,e,s,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},kO=0,vi.prototype.setState=function(t,e){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=fi({},this.state),typeof t=="function"&&(t=t(fi({},s),this.props)),t&&fi(s,t),t!=null&&this.__v&&(e&&this._sb.push(e),rC(this))},vi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),rC(this))},vi.prototype.render=Wi,No=[],PO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,TO=function(t,e){return t.__v.__b-e.__v.__b},Ep.__r=0,EO=/(PointerCapture)$|Capture$/i,y0=0,yj=aC(!1),vj=aC(!0);var dY=0;function E(t,e,s,r,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--dY,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return Ft.vnode&&Ft.vnode(d),d}var vh,hs,wy,lC,jh=0,$O=[],bs=Ft,cC=bs.__b,dC=bs.__r,uC=bs.diffed,hC=bs.__c,mC=bs.unmount,fC=bs.__;function N0(t,e){bs.__h&&bs.__h(hs,t,jh||e),jh=0;var s=hs.__H||(hs.__H={__:[],__h:[]});return t>=s.__.length&&s.__.push({}),s.__[t]}function hd(t){return jh=1,uY(BO,t)}function uY(t,e,s){var r=N0(vh++,2);if(r.t=t,!r.__c&&(r.__=[BO(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=hs,!hs.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var h=r.__c.props!==l;return u.forEach(function(m){if(m.__N){var y=m.__[0];m.__=m.__N,m.__N=void 0,y!==m.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};hs.__f=!0;var a=hs.shouldComponentUpdate,o=hs.componentWillUpdate;hs.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,i(l,c,d),a=u}o&&o.call(this,l,c,d)},hs.shouldComponentUpdate=i}return r.__N||r.__}function Ap(t,e){var s=N0(vh++,3);!bs.__s&&UO(s.__H,e)&&(s.__=t,s.u=e,hs.__H.__h.push(s))}function Tu(t){return jh=5,S0(function(){return{current:t}},[])}function S0(t,e){var s=N0(vh++,7);return UO(s.__H,e)&&(s.__=t(),s.__H=e,s.__h=t),s.__}function Fp(t,e){return jh=8,S0(function(){return t},e)}function hY(){for(var t;t=$O.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(_f),t.__H.__h.forEach(bj),t.__H.__h=[]}catch(e){t.__H.__h=[],bs.__e(e,t.__v)}}bs.__b=function(t){hs=null,cC&&cC(t)},bs.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),fC&&fC(t,e)},bs.__r=function(t){dC&&dC(t),vh=0;var e=(hs=t.__c).__H;e&&(wy===hs?(e.__h=[],hs.__h=[],e.__.forEach(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(e.__h.forEach(_f),e.__h.forEach(bj),e.__h=[],vh=0)),wy=hs},bs.diffed=function(t){uC&&uC(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&($O.push(e)!==1&&lC===bs.requestAnimationFrame||((lC=bs.requestAnimationFrame)||mY)(hY)),e.__H.__.forEach(function(s){s.u&&(s.__H=s.u),s.u=void 0})),wy=hs=null},bs.__c=function(t,e){e.some(function(s){try{s.__h.forEach(_f),s.__h=s.__h.filter(function(r){return!r.__||bj(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],bs.__e(r,s.__v)}}),hC&&hC(t,e)},bs.unmount=function(t){mC&&mC(t);var e,s=t.__c;s&&s.__H&&(s.__H.__.forEach(function(r){try{_f(r)}catch(i){e=i}}),s.__H=void 0,e&&bs.__e(e,s.__v))};var pC=typeof requestAnimationFrame=="function";function mY(t){var e,s=function(){clearTimeout(r),pC&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(s,35);pC&&(e=requestAnimationFrame(s))}function _f(t){var e=hs,s=t.__c;typeof s=="function"&&(t.__c=void 0,s()),hs=e}function bj(t){var e=hs;t.__c=t.__(),hs=e}function UO(t,e){return!t||t.length!==e.length||e.some(function(s,r){return s!==t[r]})}function BO(t,e){return typeof e=="function"?e(t):e}const fY={position:"relative",width:"100%",minHeight:"100%"},pY={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function xY({data:t,rowHeight:e,renderRow:s,overscanCount:r=10,padding:i=4,...a}){const o=Tu(null),[l,c]=hd(0),[d,u]=hd(0);Ap(()=>{function f(){o.current!=null&&d!==o.current.offsetHeight&&u(o.current.offsetHeight)}return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[d]);const h=Fp(()=>{o.current&&c(o.current.scrollTop)},[]);let m=Math.floor(l/e),y=Math.floor(d/e);r&&(m=Math.max(0,m-m%r),y+=r);const b=m+y+i,j=t.slice(m,b),v={...fY,height:t.length*e},p={...pY,top:m*e};return E("div",{onScroll:h,ref:o,...a,children:E("div",{role:"presentation",style:v,children:E("div",{role:"presentation",style:p,children:j.map(s)})})})}class zO{constructor(e,s){P(this,"uppy");P(this,"opts");P(this,"id");P(this,"defaultLocale");P(this,"i18n");P(this,"i18nArray");P(this,"type");P(this,"VERSION");this.uppy=e,this.opts=s??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new CO([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var li,Ph;class gY{constructor(e){G(this,li);G(this,Ph,[]);X(this,li,e)}on(e,s){return N(this,Ph).push([e,s]),N(this,li).on(e,s)}remove(){for(const[e,s]of N(this,Ph).splice(0))N(this,li).off(e,s)}onFilePause(e,s){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&s(i)})}onFileRemove(e,s){this.on("file-removed",r=>{e===r.id&&s(r.id)})}onPause(e,s){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&s(i)})}onRetry(e,s){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&s()})}onRetryAll(e,s){this.on("retry-all",()=>{N(this,li).getFile(e)&&s()})}onPauseAll(e,s){this.on("pause-all",()=>{N(this,li).getFile(e)&&s()})}onCancelAll(e,s){this.on("cancel-all",(...r)=>{N(this,li).getFile(e)&&s(...r)})}onResumeAll(e,s){this.on("resume-all",()=>{N(this,li).getFile(e)&&s()})}}li=new WeakMap,Ph=new WeakMap;const yY={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Cf()}]`,...t)},vY={debug:(...t)=>console.debug(`[Uppy] [${Cf()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Cf()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Cf()}]`,...t)};var jY=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const s=e<0;let r=Math.abs(e);if(s&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Ao=ra(jY);function VO(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}VO.prototype.match=function(t){var e=!0,s=this.parts,r,i=s.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),r=0;e&&r<i;r++)s[r]!=="*"&&(r<a.length?e=s[r]===a[r]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var bY=function(t,e,s){var r=new VO(t,s||/[\/\.]/);return typeof e<"u"?r.match(e):r},wY=bY,NY=/[\/\+\.]/,SY=function(t,e){function s(r){var i=wY(r,t,NY);return i&&i.length>=2}return e?s(e.split(";")[0]):s};const CY=ra(SY),_Y={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Pr extends Error{constructor(s,r){super(s);P(this,"isUserFacing");P(this,"file");P(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class kY{constructor(e,s){P(this,"getI18n");P(this,"getOpts");this.getI18n=s,this.getOpts=()=>{var i;const r=e();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,s){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+s.length>i)throw new Pr(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...e,...s].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Pr(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Ao(r),size:Ao(a)}))}}validateSingleFile(e){const{maxFileSize:s,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?CY(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Pr(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(s&&e.size!=null&&e.size>s)throw new Pr(this.getI18n()("exceedsSize",{size:Ao(s),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Pr(this.getI18n()("inferiorSize",{size:Ao(r)}),{file:e})}validate(e,s){s.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,s)}validateMinNumberOfFiles(e){const{minNumberOfFiles:s}=this.getOpts().restrictions;if(s&&Object.keys(e).length<s)throw new Pr(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:s}))}getMissingRequiredMetaFields(e){const s=new Pr(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:s}}}function PY(t){let e=null,s;return(...r)=>(s=r,e||(e=Promise.resolve().then(()=>(e=null,t(...s)))),e)}var Th;const $p=class $p extends zO{constructor(){super(...arguments);G(this,Th);P(this,"isTargetDOMEl");P(this,"el");P(this,"parent");P(this,"title")}getTargetPlugin(s){let r;if(typeof(s==null?void 0:s.addTarget)=="function")r=s,r instanceof $p||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:$p}}));else if(typeof s=="function"){const i=s;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(s,r){const i=r.id,a=UQ(s);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),X(this,Th,PY(d=>{this.uppy.getPlugin(this.id)&&(oC(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${s}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),oC(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||QQ(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(s);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof s=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(s,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(s){var r;this.el!=null&&((r=N(this,Th))==null||r.call(this,s))}unmount(){var s;this.isTargetDOMEl&&((s=this.el)==null||s.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Th=new WeakMap;let Rp=$p;const TY="@uppy/store-default",EY="The default simple object-based store for Uppy.",AY="5.0.0",FY="MIT",RY="lib/index.js",IY="module",DY=!1,OY={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},MY=["file uploader","uppy","uppy-store"],LY="https://uppy.io",$Y={url:"https://github.com/transloadit/uppy/issues"},UY={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},BY={type:"git",url:"git+https://github.com/transloadit/uppy.git"},zY={".":"./lib/index.js","./package.json":"./package.json"},VY=["src","lib","dist","CHANGELOG.md"],qY={name:TY,description:EY,version:AY,license:FY,main:RY,type:IY,sideEffects:DY,scripts:OY,keywords:MY,homepage:LY,bugs:$Y,devDependencies:UY,repository:BY,exports:zY,files:VY};var Fc,Up,HO;class qO{constructor(){G(this,Up);P(this,"state",{});G(this,Fc,new Set)}getState(){return this.state}setState(e){const s={...this.state},r={...this.state,...e};this.state=r,ce(this,Up,HO).call(this,s,r,e)}subscribe(e){return N(this,Fc).add(e),()=>{N(this,Fc).delete(e)}}}Fc=new WeakMap,Up=new WeakSet,HO=function(...e){N(this,Fc).forEach(s=>{s(...e)})},P(qO,"VERSION",qY.version);function HY(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var C0=HY,WY=typeof gm=="object"&&gm&&gm.Object===Object&&gm,KY=WY,GY=KY,QY=typeof self=="object"&&self&&self.Object===Object&&self,YY=GY||QY||Function("return this")(),WO=YY,XY=WO,ZY=function(){return XY.Date.now()},JY=ZY,eX=/\s/;function tX(t){for(var e=t.length;e--&&eX.test(t.charAt(e)););return e}var sX=tX,nX=sX,rX=/^\s+/;function iX(t){return t&&t.slice(0,nX(t)+1).replace(rX,"")}var aX=iX,oX=WO,lX=oX.Symbol,KO=lX,xC=KO,GO=Object.prototype,cX=GO.hasOwnProperty,dX=GO.toString,Bd=xC?xC.toStringTag:void 0;function uX(t){var e=cX.call(t,Bd),s=t[Bd];try{t[Bd]=void 0;var r=!0}catch{}var i=dX.call(t);return r&&(e?t[Bd]=s:delete t[Bd]),i}var hX=uX,mX=Object.prototype,fX=mX.toString;function pX(t){return fX.call(t)}var xX=pX,gC=KO,gX=hX,yX=xX,vX="[object Null]",jX="[object Undefined]",yC=gC?gC.toStringTag:void 0;function bX(t){return t==null?t===void 0?jX:vX:yC&&yC in Object(t)?gX(t):yX(t)}var wX=bX;function NX(t){return t!=null&&typeof t=="object"}var SX=NX,CX=wX,_X=SX,kX="[object Symbol]";function PX(t){return typeof t=="symbol"||_X(t)&&CX(t)==kX}var TX=PX,EX=aX,vC=C0,AX=TX,jC=NaN,FX=/^[-+]0x[0-9a-f]+$/i,RX=/^0b[01]+$/i,IX=/^0o[0-7]+$/i,DX=parseInt;function OX(t){if(typeof t=="number")return t;if(AX(t))return jC;if(vC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=EX(t);var s=RX.test(t);return s||IX.test(t)?DX(t.slice(2),s?2:8):FX.test(t)?jC:+t}var MX=OX,LX=C0,Ny=JY,bC=MX,$X="Expected a function",UX=Math.max,BX=Math.min;function zX(t,e,s){var r,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError($X);e=bC(e)||0,LX(s)&&(u=!!s.leading,h="maxWait"in s,a=h?UX(bC(s.maxWait)||0,e):a,m="trailing"in s?!!s.trailing:m);function y(C){var _=r,T=i;return r=i=void 0,d=C,o=t.apply(T,_),o}function b(C){return d=C,l=setTimeout(p,e),u?y(C):o}function j(C){var _=C-c,T=C-d,R=e-_;return h?BX(R,a-T):R}function v(C){var _=C-c,T=C-d;return c===void 0||_>=e||_<0||h&&T>=a}function p(){var C=Ny();if(v(C))return f(C);l=setTimeout(p,j(C))}function f(C){return l=void 0,m&&r?y(C):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function S(){return l===void 0?o:f(Ny())}function k(){var C=Ny(),_=v(C);if(r=arguments,i=this,c=C,_){if(l===void 0)return b(c);if(h)return clearTimeout(l),l=setTimeout(p,e),y(c)}return l===void 0&&(l=setTimeout(p,e)),o}return k.cancel=w,k.flush=S,k}var QO=zX;const VX=ra(QO);var qX=QO,HX=C0,WX="Expected a function";function KX(t,e,s){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(WX);return HX(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),qX(t,e,{leading:r,maxWait:e,trailing:i})}var GX=KX;const QX=ra(GX);var YX=function(){var e={},s=e._fns={};e.emit=function(o,l,c,d,u,h,m){var y=r(o);y.length&&i(o,y,[l,c,d,u,h,m])},e.on=function(o,l){s[o]||(s[o]=[]),s[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=s[a]?s[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(s),u=0,h=d.length;for(u;u<h;u++){var m=d[u];if(m==="*"&&(o=o.concat(s[m])),c.length===2&&c[0]===m){o=o.concat(s[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const XX=ra(YX);let ZX="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",JX=(t=21)=>{let e="",s=t|0;for(;s--;)e+=ZX[Math.random()*64|0];return e};const eZ="@uppy/core",tZ="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",sZ="5.1.1",nZ="MIT",rZ="dist/style.min.css",iZ="module",aZ=["*.css"],oZ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},lZ=["file uploader","uppy","uppy-plugin"],cZ="https://uppy.io",dZ={url:"https://github.com/transloadit/uppy/issues"},uZ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},hZ=["src","lib","dist","CHANGELOG.md"],mZ={".":"./lib/index.js","./css/style.min.css":"./dist/style.min.css","./css/style.css":"./dist/style.css","./css/style.scss":"./src/style.scss","./package.json":"./package.json"},fZ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^5.0.0","@uppy/utils":"^7.1.1",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},pZ={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},xZ={name:eZ,description:tZ,version:sZ,license:nZ,style:rZ,type:iZ,sideEffects:aZ,scripts:oZ,keywords:lZ,homepage:cZ,bugs:dZ,repository:uZ,files:hZ,exports:mZ,dependencies:fZ,devDependencies:pZ};function gZ(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const yZ={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function vZ(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const r=e[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const Hm={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var br,wr,Eh,Uo,Rc,Ic,Bo,Ve,wo,Nj,YO,XO,ZO,Sj,Cj,_j,kj,Bp,Pj,zo,JO,eM,Ra,Ah,iu,tM,Tj,au;const zp=class zp{constructor(e){G(this,Ve);G(this,br,Object.create(null));G(this,wr);G(this,Eh);G(this,Uo,XX());G(this,Rc,new Set);G(this,Ic,new Set);G(this,Bo,new Set);P(this,"defaultLocale");P(this,"locale");P(this,"opts");P(this,"store");P(this,"i18n");P(this,"i18nArray");P(this,"scheduledAutoProceed",null);P(this,"wasOffline",!1);G(this,Bp,(e,s)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:s.bytesTotal,percentage:s.bytesTotal!=null&&Number.isFinite(s.bytesTotal)&&s.bytesTotal>0?Math.round(s.bytesUploaded/s.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...i,bytesUploaded:s.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...i}}),N(this,zo).call(this)});G(this,zo,QX(()=>ce(this,Ve,Pj).call(this),500,{leading:!0,trailing:!0}));G(this,Ra,this.updateOnlineStatus.bind(this));G(this,Ah,new Map);this.defaultLocale=yZ;const s={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:_Y,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new qO,logger:yY,infoTimeout:5e3},r={...s,...e};this.opts={...r,restrictions:{...s.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=vY),this.log(`Using Core v${zp.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Hm,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:vZ(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),X(this,wr,new kY(()=>this.opts,()=>this.i18n)),X(this,Eh,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ce(this,Ve,eM).call(this)}emit(e,...s){N(this,Uo).emit(e,...s)}on(e,s){return N(this,Uo).on(e,s),this}once(e,s){return N(this,Uo).once(e,s),this}off(e,s){return N(this,Uo).off(e,s),this}updateAll(e){this.iteratePlugins(s=>{s.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const s=this.getState().files;this.setState({files:{...s,...Object.fromEntries(Object.entries(e).map(([r,i])=>[r,{...s[r],...i}]))}})}setFileState(e,s){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:s})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),s=new CO([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=s.translate.bind(s),this.i18nArray=s.translateArray.bind(s),this.locale=s.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(s=>{s.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},r=Object.create(null);Object.keys(s).forEach(i=>{r[i]={...s[i],progress:{...s[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...Hm})}clear(){const{capabilities:e,currentUploads:s}=this.getState();if(Object.keys(s).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Hm,files:{}})}addPreProcessor(e){N(this,Rc).add(e)}removePreProcessor(e){return N(this,Rc).delete(e)}addPostProcessor(e){N(this,Bo).add(e)}removePostProcessor(e){return N(this,Bo).delete(e)}addUploader(e){N(this,Ic).add(e)}removeUploader(e){return N(this,Ic).delete(e)}setMeta(e){const s={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:s,files:r})}setFileMeta(e,s){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...r[e].meta,...s};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(s=>this.getFile(s))}getObjectOfFilesPerState(){const{files:e,totalProgress:s,error:r}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],m=[],y=[];for(const b of i){const{progress:j}=b;!j.uploadComplete&&j.uploadStarted&&(a.push(b),b.isPaused||m.push(b)),j.uploadStarted||o.push(b),(j.uploadStarted||j.preprocess||j.postprocess)&&l.push(b),j.uploadStarted&&c.push(b),b.isPaused&&d.push(b),j.uploadComplete&&u.push(b),b.error&&h.push(b),(j.preprocess||j.postprocess)&&y.push(b)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:c.length>0,isAllComplete:s===100&&u.length===i.length&&y.length===0,isAllErrored:!!r&&h.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(b=>b.isGhost)}}validateRestrictions(e,s=this.getFiles()){try{N(this,wr).validate(s,[e])}catch(r){return r}return null}validateSingleFile(e){try{N(this,wr).validateSingleFile(e)}catch(s){return s.message}return null}validateAggregateRestrictions(e){const s=this.getFiles();try{N(this,wr).validateAggregateRestrictions(s,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:s}=this.getState();return!!(s[e]&&!s[e].isGhost)}addFile(e){const{nextFilesState:s,validFilesToAdd:r,errors:i}=ce(this,Ve,Cj).call(this,[e]),a=i.filter(l=>l.isRestriction);if(ce(this,Ve,wo).call(this,a),i.length>0)throw i[0];this.setState({files:s});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),ce(this,Ve,Sj).call(this),o.id}addFiles(e){const{nextFilesState:s,validFilesToAdd:r,errors:i}=ce(this,Ve,Cj).call(this,e),a=i.filter(l=>l.isRestriction);ce(this,Ve,wo).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:s}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&ce(this,Ve,Sj).call(this)}removeFiles(e){const{files:s,currentUploads:r}=this.getState(),i={...s},a={...r},o=Object.create(null);e.forEach(u=>{s[u]&&(o[u]=s[u],delete i[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=r[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:m}=this.getState();if(h.length!==r[u].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...r[u],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),N(this,zo).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const s=this.getFile(e),i=!(s.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",s,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await ce(this,Ve,kj).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),s=Object.keys(e);s.length&&this.removeFiles(s),this.setState(Hm)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const s=ce(this,Ve,iu).call(this,[e],{forceAllowNewUpload:!0});return ce(this,Ve,au).call(this,s)}logout(){this.iteratePlugins(e=>{var s,r;(r=(s=e.provider)==null?void 0:s.logout)==null||r.call(s)})}[Symbol.for("uppy test: updateTotalProgress")](){return ce(this,Ve,Pj).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...s){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...s),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in N(this,br)?N(this,br)[r.type].push(r):N(this,br)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const s of Object.values(N(this,br))){const r=s.find(i=>i.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return N(this,br)[e]}iteratePlugins(e){Object.values(N(this,br)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const s=N(this,br)[e.type],r=s.findIndex(o=>o.id===e.id);r!==-1&&s.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),N(this,Eh).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",N(this,Ra)),window.removeEventListener("offline",N(this,Ra)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,s="info",r=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:s,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,s){const{logger:r}=this.opts;switch(s){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,s){N(this,Ah).set(e,s)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const s=N(this,Ah).get(e.remote.requestClientId);if(s==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return s}async restore(e){this.log(`Core: Running restored upload "${e}"`);const s=await ce(this,Ve,au).call(this,e);return this.emit("complete",s),s}[Symbol.for("uppy test: createUpload")](...e){return ce(this,Ve,iu).call(this,...e)}addResultData(e,s){if(!ce(this,Ve,tM).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...s}};this.setState({currentUploads:{...r,[e]:i}})}async upload(){var i;(i=N(this,br).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(ce(this,Ve,_j).call(this).length>0){const a=await ce(this,Ve,kj).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(N(this,wr).validateMinNumberOfFiles(e),!ce(this,Ve,YO).call(this,e))throw new Pr(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=Object.keys(e).filter(u=>{const h=this.getFile(u);return h&&!h.progress.uploadStarted&&!o.includes(u)}),c=ce(this,Ve,iu).call(this,l),d=await ce(this,Ve,au).call(this,c);return this.emit("complete",d),d}catch(a){throw ce(this,Ve,wo).call(this,[a]),a}}};br=new WeakMap,wr=new WeakMap,Eh=new WeakMap,Uo=new WeakMap,Rc=new WeakMap,Ic=new WeakMap,Bo=new WeakMap,Ve=new WeakSet,wo=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const s=e.filter(o=>o.isUserFacing),r=4,i=s.slice(0,r),a=s.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Nj=function(e){const{missingFields:s,error:r}=N(this,wr).getMissingRequiredMetaFields(e);return s.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:s,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(s.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},YO=function(e){let s=!0;for(const r of Object.values(e))ce(this,Ve,Nj).call(this,r)||(s=!1);return s},XO=function(e){const{allowNewUpload:s}=this.getState();if(s===!1){const r=new Pr(this.i18n("noMoreFilesAllowed"),{file:e});throw ce(this,Ve,wo).call(this,[r]),r}},ZO=function(e){const s=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=yO(s),i=gZ(r,s),a=gO(i).extension,o=qQ(s,this.getID()),l={...s.meta,name:i,type:r},c=Number.isFinite(s.data.size)?s.data.size:null;return{source:s.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...s.isRemote?{isRemote:!0,remote:s.remote,data:s.data}:{isRemote:!1,data:s.data},preview:s.preview}},Sj=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},Cj=function(e){let{files:s}=this.getState(),r={...s};const i=[],a=[];for(const o of e)try{let l=ce(this,Ve,ZO).call(this,o);ce(this,Ve,XO).call(this,l);const c=s[l.id],d=c==null?void 0:c.isGhost;if(d&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const u=this.opts.onBeforeFileAdded(l,r);if(s=this.getState().files,r={...s,...r},!u&&this.checkIfFileAlreadyExists(l.id))throw new Pr(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Pr("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(l=u),N(this,wr).validateSingleFile(l),r[l.id]=l,i.push(l)}catch(l){a.push(l)}try{N(this,wr).validateAggregateRestrictions(Object.values(s),i)}catch(o){return a.push(o),{nextFilesState:s,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},_j=function(){const{files:e}=this.getState();return Object.keys(e).filter(s=>{const r=e[s];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},kj=async function(){const e=ce(this,Ve,_j).call(this),s={...this.getState().files};if(e.forEach(i=>{s[i]={...s[i],isPaused:!1,error:null}}),this.setState({files:s,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=ce(this,Ve,iu).call(this,e,{forceAllowNewUpload:!0});return ce(this,Ve,au).call(this,r)},Bp=new WeakMap,Pj=function(){const e=ce(this,Ve,JO).call(this);let s=null;e!=null&&(s=Math.round(e*100),s>100?s=100:s<0&&(s=0)),this.emit("progress",s??0),this.setState({totalProgress:s??0})},zo=new WeakMap,JO=function(){const s=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(s.length===0)return 0;if(s.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=s.filter(r),a=s.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},eM=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),ce(this,Ve,wo).call(this,[l])}else ce(this,Ve,wo).call(this,[a])});let s=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");s||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),s=setTimeout(()=>{s=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",N(this,Bp)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress,l=N(this,Bo).size>0;this.setFileState(i.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),N(this,zo).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{const a=i&&this.getFile(i.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{N(this,zo).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&ce(this,Ve,Nj).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",N(this,Ra)),window.addEventListener("offline",N(this,Ra)),setTimeout(N(this,Ra),3e3))},Ra=new WeakMap,Ah=new WeakMap,iu=function(e,s={}){const{forceAllowNewUpload:r=!1}=s,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=JX();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},tM=function(e){const{currentUploads:s}=this.getState();return s[e]},Tj=function(e){const{[e]:s,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},au=async function(e){const s=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=s();if(!r)throw new Error("Nonexistent upload");const i=[...N(this,Rc),...N(this,Ic),...N(this,Bo)];try{for(let o=r.step||0;o<i.length&&r;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const c=r.fileIDs.filter(d=>!this.getFile(d).progress.uploadComplete);await l(c,e),r=s()}}catch(o){throw ce(this,Ve,Tj).call(this,e),o}if(r){r.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=s()}let a;return r&&(a=r.result,ce(this,Ve,Tj).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},P(zp,"VERSION",xZ.version);let wj=zp;var sM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(sM);var jZ=sM.exports;const Gr=ra(jZ);function bZ(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:E("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Pt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var nM=typeof self<"u"?self:global;const bh=typeof navigator<"u",wZ=bh&&typeof HTMLImageElement>"u",wC=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),rM=nM.Buffer,iM=!!rM,NZ=t=>t!==void 0;function aM(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(NZ).length===0)}function Ls(t){let e=new Error(t);throw delete e.stack,e}function NC(t){let e=function(s){let r=0;return s.ifd0.enabled&&(r+=1024),s.exif.enabled&&(r+=2048),s.makerNote&&(r+=2048),s.userComment&&(r+=1024),s.gps.enabled&&(r+=512),s.interop.enabled&&(r+=100),s.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Sy=t=>String.fromCharCode.apply(null,t),SC=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Dr{static from(e,s){return e instanceof this&&e.le===s?e:new Dr(e,void 0,void 0,s)}constructor(e,s=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-s);let a=new DataView(e,s,r);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Dr){r===void 0&&(r=e.byteLength-s),(s+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Ls("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,s,r);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else Ls("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,s,r=Dr){return e instanceof DataView||e instanceof Dr?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ls("BufferView.set(): Invalid data argument."),this.toUint8().set(e,s),new r(this,s,e.byteLength)}subarray(e,s){return s=s||this._lengthToEnd(e),new Dr(this,e,s)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,s){return new Uint8Array(this.buffer,this.byteOffset+e,s)}getString(e=0,s=this.byteLength){return i=this.getUint8Array(e,s),SC?SC.decode(i):iM?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Sy(i)));var i}getLatin1String(e=0,s=this.byteLength){let r=this.getUint8Array(e,s);return Sy(r)}getUnicodeString(e=0,s=this.byteLength){const r=[];for(let i=0;i<s&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Sy(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,s=this.le){return this.dataView.getInt16(e,s)}getInt32(e,s=this.le){return this.dataView.getInt32(e,s)}getUint16(e,s=this.le){return this.dataView.getUint16(e,s)}getUint32(e,s=this.le){return this.dataView.getUint32(e,s)}getFloat32(e,s=this.le){return this.dataView.getFloat32(e,s)}getFloat64(e,s=this.le){return this.dataView.getFloat64(e,s)}getFloat(e,s=this.le){return this.dataView.getFloat32(e,s)}getDouble(e,s=this.le){return this.dataView.getFloat64(e,s)}getUintBytes(e,s,r){switch(s){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,s,r){switch(s){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Ej(t,e){Ls(`${t} '${e}' was not loaded, try using full build of exifr.`)}class _0 extends Map{constructor(e){super(),this.kind=e}get(e,s){return this.has(e)||Ej(this.kind,e),s&&(e in s||function(r,i){Ls(`Unknown ${r} '${i}'.`)}(this.kind,e),s[e].enabled||Ej(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var oM=new _0("file parser"),Tr=new _0("segment parser"),k0=new _0("file reader");let SZ=nM.fetch;function CC(t,e){return(s=t).startsWith("data:")||s.length>1e4?Fj(t,e,"base64"):wC&&t.includes("://")?Aj(t,e,"url",_C):wC?Fj(t,e,"fs"):bh?Aj(t,e,"url",_C):void Ls("Invalid input argument");var s}async function Aj(t,e,s,r){return k0.has(s)?Fj(t,e,s):r?async function(i,a){let o=await a(i);return new Dr(o)}(t,r):void Ls(`Parser ${s} is not loaded`)}async function Fj(t,e,s){let r=new(k0.get(s))(t,e);return await r.read(),r}const _C=t=>SZ(t).then(e=>e.arrayBuffer()),Rj=t=>new Promise((e,s)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=s,r.readAsArrayBuffer(t)}),P0=new Map,CZ=new Map,_Z=new Map,Wm=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],lM=["jfif","xmp","icc","iptc","ihdr"],Ij=["tiff",...lM],Is=["ifd0","ifd1","exif","gps","interop"],Km=[...Ij,...Is],Gm=["makerNote","userComment"],cM=["translateKeys","translateValues","reviveValues","multiSegment"],Qm=[...cM,"sanitize","mergeOutput","silentErrors"];class dM{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class zd extends dM{get needed(){return this.enabled||this.deps.size>0}constructor(e,s,r,i){if(super(),Pt(this,"enabled",!1),Pt(this,"skip",new Set),Pt(this,"pick",new Set),Pt(this,"deps",new Set),Pt(this,"translateKeys",!1),Pt(this,"translateValues",!1),Pt(this,"reviveValues",!1),this.key=e,this.enabled=s,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Is.includes(e),this.canBeFiltered&&(this.dict=P0.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Ls(`Invalid options argument: ${r}`)}applyInheritables(e){let s,r;for(s of cM)r=e[s],r!==void 0&&(this[s]=r)}translateTagSet(e,s){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&s.add(Number(a[i]))):s.add(r)}else for(let r of e)s.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Ip(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Ip(this.pick,this.deps)}}var an={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},kC=new Map;class T0 extends dM{static useCached(e){let s=kC.get(e);return s!==void 0||(s=new this(e),kC.set(e,s)),s}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Ls(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=bh?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Wm)this[e]=an[e];for(e of Qm)this[e]=an[e];for(e of Gm)this[e]=an[e];for(e of Km)this[e]=new zd(e,an[e],void 0,this)}setupFromTrue(){let e;for(e of Wm)this[e]=an[e];for(e of Qm)this[e]=an[e];for(e of Gm)this[e]=!0;for(e of Km)this[e]=new zd(e,!0,void 0,this)}setupFromArray(e){let s;for(s of Wm)this[s]=an[s];for(s of Qm)this[s]=an[s];for(s of Gm)this[s]=an[s];for(s of Km)this[s]=new zd(s,!1,void 0,this);this.setupGlobalFilters(e,void 0,Is)}setupFromObject(e){let s;for(s of(Is.ifd0=Is.ifd0||Is.image,Is.ifd1=Is.ifd1||Is.thumbnail,Object.assign(this,e),Wm))this[s]=Cy(e[s],an[s]);for(s of Qm)this[s]=Cy(e[s],an[s]);for(s of Gm)this[s]=Cy(e[s],an[s]);for(s of Ij)this[s]=new zd(s,an[s],e[s],this);for(s of Is)this[s]=new zd(s,an[s],e[s],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Is,Km),e.tiff===!0?this.batchEnableWithBool(Is,!0):e.tiff===!1?this.batchEnableWithUserValue(Is,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Is):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Is)}batchEnableWithBool(e,s){for(let r of e)this[r].enabled=s}batchEnableWithUserValue(e,s){for(let r of e){let i=s[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,s,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=PC(e,r);for(let[o,l]of a)Ip(this[o].pick,l),this[o].enabled=!0}else if(s&&s.length){let a=PC(s,r);for(let[o,l]of a)Ip(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:s,xmp:r,iptc:i,icc:a}=this;this.makerNote?s.deps.add(37500):s.skip.add(37500),this.userComment?s.deps.add(37510):s.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:s,gps:r,interop:i}=this;i.needed&&(s.deps.add(40965),e.deps.add(40965)),s.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Is.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Is)this[a].finalizeFilters()}get onlyTiff(){return!lM.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Ij)this[e].enabled&&!Tr.has(e)&&Ej("segment parser",e)}}function PC(t,e){let s,r,i,a,o=[];for(i of e){for(a of(s=P0.get(i),r=[],s))(t.includes(a[0])||t.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function Cy(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Ip(t,e){for(let s of e)t.add(s)}Pt(T0,"default",an);class kZ{constructor(e){Pt(this,"parsers",{}),Pt(this,"output",{}),Pt(this,"errors",[]),Pt(this,"pushToErrors",s=>this.errors.push(s)),this.options=T0.useCached(e)}async read(e){this.file=await function(s,r){return typeof s=="string"?CC(s,r):bh&&!wZ&&s instanceof HTMLImageElement?CC(s.src,r):s instanceof Uint8Array||s instanceof ArrayBuffer||s instanceof DataView?new Dr(s):bh&&s instanceof Blob?Aj(s,r,"blob",Rj):void Ls("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,s=e.getUint16(0);for(let[r,i]of oM)if(i.canHandle(e,s))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Ls("Unknown file format")}async parse(){let{output:e,errors:s}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),s.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&s.length>0&&(e.errors=s),aM(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let s=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(s=s.map(r=>r.catch(this.pushToErrors))),await Promise.all(s)}async extractThumbnail(){this.setup();let{options:e,file:s}=this,r=Tr.get("tiff",e);var i;if(s.tiff?i={start:0,type:"tiff"}:s.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,e,s),l=await o.extractThumbnail();return s.close&&s.close(),l}}class tc{static findPosition(e,s){let r=e.getUint16(s+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,s,r):this.headerLength,a=s+i,o=r-i;return{offset:s,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(e,s={}){return new this(e,new T0({[this.type]:s}),e).parse()}normalizeInput(e){return e instanceof Dr?e:new Dr(e)}constructor(e,s={},r){Pt(this,"errors",[]),Pt(this,"raw",new Map),Pt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,s){let r=_Z.get(s),i=CZ.get(s),a=P0.get(s),o=this.options[s],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,u={};for(let[h,m]of e)l&&r.has(h)?m=r.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=m;return u}translateValue(e,s){return s[e]||s.DEFAULT||e}assignToOutput(e,s){this.assignObjectToOutput(e,this.constructor.type,s)}assignObjectToOutput(e,s,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[s]?Object.assign(e[s],r):e[s]=r}}Pt(tc,"headerLength",4),Pt(tc,"type",void 0),Pt(tc,"multiSegment",!1),Pt(tc,"canHandle",()=>!1);function PZ(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function TZ(t){return t>=224&&t<=239}function EZ(t,e,s){for(let[r,i]of Tr)if(i.canHandle(t,e,s))return r}class TC extends class{constructor(e,s,r){Pt(this,"errors",[]),Pt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){Ls(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):Ls("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=s,this.parsers=r}injectSegment(e,s){this.options[e].enabled&&this.createParser(e,s)}createParser(e,s){let r=new(Tr.get(e))(s,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let s of e){let{type:r,chunk:i}=s,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let s=e.map(this.ensureSegmentChunk);await Promise.all(s)}}{constructor(...e){super(...e),Pt(this,"appSegments",[]),Pt(this,"jpegSegments",[]),Pt(this,"unknownSegments",[])}static canHandle(e,s){return s===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Tr.keyList())):(e=e===void 0?Tr.keyList().filter(s=>this.options[s].enabled):e.filter(s=>this.options[s].enabled&&Tr.has(s)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,s){this.setupSegmentFinderArgs(s);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Tr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await r.readNextChunk(e):!await r.readNextChunk(c),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,s){s-=2;let r,i,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:m,options:y}=this;for(;e<s;e++)if(d.getUint8(e)===255){if(r=d.getUint8(e+1),TZ(r)){if(i=d.getUint16(e+2),a=EZ(d,e,i),a&&h.has(a)&&(o=Tr.get(a),l=o.findPosition(d,e),c=y[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;y.recordUnknownSegments&&(l=tc.findPosition(d,e),l.marker=r,this.unknownSegments.push(l)),e+=i+1}else if(PZ(r)){if(i=d.getUint16(e+2),r===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(s=>s.multiSegment))return;let e=function(s,r){let i,a,o,l=new Map;for(let c=0;c<s.length;c++)i=s[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([s,r])=>{let i=Tr.get(s,this.options);return i.handleMultiSegments?{type:s,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(s=>s.type===e)}async getOrFindSegment(e){let s=this.getSegment(e);return s===void 0&&(await this.findAppSegments(0,[e]),s=this.getSegment(e)),s}}Pt(TC,"type","jpeg"),oM.set("jpeg",TC);const AZ=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class FZ extends tc{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,s,r=new Map){let{pick:i,skip:a}=this.options[s];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(i.has(u)&&(r.set(u,this.parseTag(e,u,s)),i.delete(u),i.size===0))break}else!l&&a.has(u)||r.set(u,this.parseTag(e,u,s));e+=12}return r}parseTag(e,s,r){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=AZ[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&Ls(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&Ls(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${s.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,s){let{chunk:r}=this;switch(e){case 1:return r.getUint8(s);case 3:return r.getUint16(s);case 4:return r.getUint32(s);case 5:return r.getUint32(s)/r.getUint32(s+4);case 6:return r.getInt8(s);case 8:return r.getInt16(s);case 9:return r.getInt32(s);case 10:return r.getInt32(s)/r.getInt32(s+4);case 11:return r.getFloat(s);case 12:return r.getDouble(s);case 13:return r.getUint32(s);default:Ls(`Invalid tiff type ${e}`)}}}class _y extends FZ{static canHandle(e,s){return e.getUint8(s+1)===225&&e.getUint32(s+4)===1165519206&&e.getUint16(s+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let s=this[e]();return s.catch!==void 0&&(s=s.catch(this.handleError)),s}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),s=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(s)}}parseBlock(e,s){let r=new Map;return this[s]=r,this.parseTags(e,s,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ls("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ls(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,NC(this.options));let s=this.parseBlock(this.ifd0Offset,"ifd0");return s.size!==0?(this.exifOffset=s.get(34665),this.interopOffset=s.get(40965),this.gpsOffset=s.get(34853),this.xmp=s.get(700),this.iptc=s.get(33723),this.icc=s.get(34675),this.options.sanitize&&(s.delete(34665),s.delete(40965),s.delete(34853),s.delete(700),s.delete(33723),s.delete(34675)),s):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,NC(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,s){let r=e.get(s);r&&r.length===1&&e.set(s,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",EC(...e.get(2),e.get(1))),e.set("longitude",EC(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),s=this.ifd1.get(514);return this.chunk.getUint8Array(e,s)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,s,r,i={};for(s of Is)if(e=this[s],!aM(e))if(r=this.canTranslate?this.translateBlock(e,s):Object.fromEntries(e),this.options.mergeOutput){if(s==="ifd1")continue;Object.assign(i,r)}else i[s]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,s){if(this.globalOptions.mergeOutput)Object.assign(e,s);else for(let[r,i]of Object.entries(s))this.assignObjectToOutput(e,r,i)}}function EC(t,e,s,r){var i=t+e/60+s/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Pt(_y,"type","tiff"),Pt(_y,"headerLength",10),Tr.set("tiff",_y);const E0={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},E0,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},E0,{tiff:!1,ifd1:!0,mergeOutput:!1});const RZ=Object.assign({},E0,{firstChunkSize:4e4,ifd0:[274]});async function IZ(t){let e=new kZ(RZ);await e.read(t);let s=await e.parse();if(s&&s.ifd0)return s.ifd0[274]}const DZ=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ou=!0,lu=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,s,r]=e;ou=Number(s)+.1*Number(r)<13.4,lu=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);ou=lu=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);ou=lu=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);ou=lu=Number(e)<77}}async function OZ(t){let e=await IZ(t);return Object.assign({canvas:ou,css:lu},DZ[e])}class MZ extends Dr{constructor(...e){super(...e),Pt(this,"ranges",new LZ),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,s,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+s;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let s;s=iM?rM.allocUnsafe(e):new Uint8Array(e);let r=new DataView(s.buffer,s.byteOffset,s.byteLength);return s.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:s,dataView:r}}subarray(e,s,r=!1){return s=s||this._lengthToEnd(e),r&&this._tryExtend(e,s),this.ranges.add(e,s),super.subarray(e,s)}set(e,s,r=!1){r&&this._tryExtend(s,e.byteLength,e);let i=super.set(e,s);return this.ranges.add(s,i.byteLength),i}async ensureChunk(e,s){this.chunked&&(this.ranges.available(e,s)||await this.readChunk(e,s))}available(e,s){return this.ranges.available(e,s)}}class LZ{constructor(){Pt(this,"list",[])}get length(){return this.list.length}add(e,s,r=0){let i=e+s,a=this.list.filter(o=>AC(e,o.offset,i)||AC(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),s=i-e;let o=a.shift();o.offset=e,o.length=s,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:s,end:i})}available(e,s){let r=e+s;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function AC(t,e,s){return t<=e&&e<=s}class $Z extends MZ{constructor(e,s){super(0),Pt(this,"chunksRead",0),this.input=e,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let s=this.options.chunkSize,r=await this.readChunk(e,s);return!!r&&r.byteLength===s}async readChunk(e,s){if(this.chunksRead++,(s=this.safeWrapAddress(e,s))!==0)return this._readChunk(e,s)}safeWrapAddress(e,s){return this.size!==void 0&&e+s>this.size?Math.max(0,this.size-e):s}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}k0.set("blob",class extends $Z{async readWhole(){this.chunked=!1;let t=await Rj(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let s=e?t+e:void 0,r=this.input.slice(t,s),i=await Rj(r);return this.set(i,t,!0)}});const UZ="@uppy/thumbnail-generator",BZ="Uppy plugin that generates small previews of images to show on your upload UI.",zZ="5.0.2",VZ="MIT",qZ="module",HZ=!1,WZ={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},KZ=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],GZ="https://uppy.io",QZ={url:"https://github.com/transloadit/uppy/issues"},YZ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},XZ=["src","lib","dist","CHANGELOG.md"],ZZ={".":"./lib/index.js","./package.json":"./package.json"},JZ={"@uppy/utils":"^7.1.1",exifr:"^7.0.0"},eJ={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},tJ={"@uppy/core":"^5.1.1"},sJ={name:UZ,description:BZ,version:zZ,license:VZ,type:qZ,sideEffects:HZ,scripts:WZ,keywords:KZ,homepage:GZ,bugs:QZ,repository:YZ,files:XZ,exports:ZZ,dependencies:JZ,devDependencies:eJ,peerDependencies:tJ},nJ={strings:{generatingThumbnails:"Generating thumbnails..."}};function rJ(t,e,s){try{t.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(r=>{t.toBlob(r,e,s)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>IQ(t.toDataURL(e,s),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function iJ(t,e){let s=t.width,r=t.height;(e.deg===90||e.deg===270)&&(s=t.height,r=t.width);const i=document.createElement("canvas");i.width=s,i.height=r;const a=i.getContext("2d");return a.translate(s/2,r/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function aJ(t){const e=t.width/t.height,s=5e6,r=4096;let i=Math.floor(Math.sqrt(s*e)),a=Math.floor(s/Math.sqrt(s*e));if(i>r&&(i=r,a=Math.round(i/e)),a>r&&(a=r,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const oJ={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class uM extends Rp{constructor(s,r){super(s,{...oJ,...r});P(this,"queue");P(this,"queueProcessing");P(this,"defaultThumbnailDimension");P(this,"thumbnailType");P(this,"onFileAdded",s=>{!s.preview&&s.data&&eC(s.type)&&!s.isRemote&&this.addToQueue(s.id)});P(this,"onCancelRequest",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1)});P(this,"onFileRemoved",s=>{const r=this.queue.indexOf(s.id);r!==-1&&this.queue.splice(r,1),s.preview&&JS(s.preview)&&URL.revokeObjectURL(s.preview)});P(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||JS(r.preview))&&this.addToQueue(r.id)})});P(this,"onAllFilesRemoved",()=>{this.queue=[]});P(this,"waitUntilAllProcessed",s=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{s.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=nJ,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(s,r,i){if(s.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(s.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=OZ(s.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,r,i,d.deg),h=iJ(c,d),m=this.resizeImage(h,u.width,u.height);return rJ(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(s,r,i,a){let o=s.width/s.height;if((a===90||a===270)&&(o=s.height/s.width),r!=null){let l=r;return s.width<r&&(l=s.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return s.height<i&&(l=s.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(s,r,i){let a=aJ(s),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(s,r){this.uppy.setFileState(s,{preview:r})}addToQueue(s){this.queue.push(s),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const s=this.uppy.getFile(this.queue.shift());return s?this.requestThumbnail(s).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(s){return eC(s.type)&&!s.isRemote?this.createThumbnail(s,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(s.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${s.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(s.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${s.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(s.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}P(uM,"VERSION",sJ.version);let lJ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",hM=(t=21)=>{let e="",s=t|0;for(;s--;)e+=lJ[Math.random()*64|0];return e};const cJ="@uppy/dashboard",dJ="Universal UI plugin for Uppy.",uJ="5.0.3",hJ="MIT",mJ="dist/style.min.css",fJ="module",pJ=["*.css"],xJ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest run --project browser"},gJ=["file uploader","uppy","uppy-plugin","dashboard","ui"],yJ="https://uppy.io",vJ={url:"https://github.com/transloadit/uppy/issues"},jJ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},bJ=["src","lib","dist","CHANGELOG.md"],wJ={".":"./lib/index.js","./css/style.css":"./dist/style.css","./css/style.min.css":"./dist/style.min.css","./css/style.scss":"./src/style.scss","./package.json":"./package.json"},NJ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/provider-views":"^5.1.1","@uppy/thumbnail-generator":"^5.0.2","@uppy/utils":"^7.1.1",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},SJ={"@uppy/core":"^5.1.1","@uppy/google-drive":"^5.0.1","@uppy/url":"^5.0.2","@uppy/webcam":"^5.0.1","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",playwright:"1.54.1",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},CJ={"@uppy/core":"^5.1.1"},_J={name:cJ,description:dJ,version:uJ,license:hJ,style:mJ,type:fJ,sideEffects:pJ,scripts:xJ,keywords:gJ,homepage:yJ,bugs:vJ,repository:jJ,files:bJ,exports:wJ,dependencies:NJ,devDependencies:SJ,peerDependencies:CJ};class mM extends vi{constructor(){super(...arguments);P(this,"fileInput",null);P(this,"folderInput",null);P(this,"mobilePhotoFileInput",null);P(this,"mobileVideoFileInput",null);P(this,"triggerFileInputClick",()=>{var s;(s=this.fileInput)==null||s.click()});P(this,"triggerFolderInputClick",()=>{var s;(s=this.folderInput)==null||s.click()});P(this,"triggerVideoCameraInputClick",()=>{var s;(s=this.mobileVideoFileInput)==null||s.click()});P(this,"triggerPhotoCameraInputClick",()=>{var s;(s=this.mobilePhotoFileInput)==null||s.click()});P(this,"onFileInputChange",s=>{this.props.handleInputChange(s),s.currentTarget.value=""});P(this,"renderHiddenInput",(s,r)=>{var i;return E("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:s,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});P(this,"renderHiddenCameraInput",(s,r,i)=>{const o={photo:"image/*",video:"video/*"}[s];return E("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${s}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});P(this,"renderMyDeviceAcquirer",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));P(this,"renderPhotoCamera",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));P(this,"renderVideoCamera",()=>E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[E("div",{className:"uppy-DashboardTab-inner",children:E("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:E("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),E("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));P(this,"renderBrowseButton",(s,r)=>{const i=this.props.acquirers.length;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:s})});P(this,"renderDropPasteBrowseTagline",s=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return E("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):s>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});P(this,"renderAcquirer",s=>{var r;return E("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":s.id,children:E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":s.id,"aria-controls":`uppy-DashboardContent-panel--${s.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===s.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(s.id),children:[E("div",{className:"uppy-DashboardTab-inner",children:s.icon()}),E("div",{className:"uppy-DashboardTab-name",children:s.name})]})})});P(this,"renderAcquirers",s=>{const r=[...s],i=r.splice(s.length-2,s.length);return E(Wi,{children:[r.map(a=>this.renderAcquirer(a)),E("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});P(this,"renderSourcesList",(s,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...s.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return E(Wi,{children:[this.renderDropPasteBrowseTagline(o.length),E("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:m})=>E(Wi,{children:m},h)),E("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:m})=>E(Wi,{children:m},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:s}=this.props,r=E("span",{children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:E("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),E("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=s("poweredBy",{uppy:r});return E("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:s,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return E("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),s&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),E("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&E("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const kJ=t=>E("div",{className:Gr("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),E(mM,{...t})]});function PJ(t){const e=t.files[t.fileCardFor],s=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return E("div",{className:Gr("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:E("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:t.i18n("cancel")}),E("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),E("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(r=>t.uppy.getPlugin(r.id).render(t.state))})]})}function TJ(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:E("g",{fill:"#686DE0",fillRule:"evenodd",children:[E("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),E("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),E("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function EJ(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function AJ(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function FJ(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function RJ(){return E("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function IJ(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[E("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),E("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function DJ(){return E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:E("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function A0(t){const e={color:"#838999",icon:IJ()};if(!t)return e;const s=t.split("/")[0],r=t.split("/")[1];return s==="text"?{color:"#5a5e69",icon:DJ()}:s==="image"?{color:"#686de0",icon:TJ()}:s==="audio"?{color:"#068dbb",icon:EJ()}:s==="video"?{color:"#19af67",icon:AJ()}:s==="application"&&r==="pdf"?{color:"#e25149",icon:FJ()}:s==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:RJ()}:e}function Ma(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function fM(t){const{file:e}=t;if(e.preview)return E("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:s,icon:r}=A0(e.type);return E("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[E("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:s},children:r}),E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:E("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function OJ(t){const{computedMetaFields:e,requiredMetaFields:s,updateMeta:r,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=s.includes(l.id);return E("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[E("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>r(u,l.id),fieldCSSClasses:o,required:d,form:i.id},j0):E("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>r(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function MJ(t){const{files:e,fileCardFor:s,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,m=()=>typeof a=="function"?a(e[s]):a,y=e[s],b=m()??[],j=h(y),v={};b.forEach(_=>{v[_.id]=y.meta[_.id]??""});const[p,f]=hd(v),w=Fp(_=>{_.preventDefault(),i(p,s)},[i,p,s]),S=(_,T)=>{f({...p,[T]:_})},k=()=>{r(!1)},[C]=hd(()=>{const _=document.createElement("form");return _.setAttribute("tabindex","-1"),_.id=hM(),_});return Ap(()=>(document.body.appendChild(C),C.addEventListener("submit",w),()=>{C.removeEventListener("submit",w),C.parentNode&&document.body.removeChild(C)}),[C,w]),E("div",{className:Gr("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:Ma,onDragLeave:Ma,onDrop:Ma,onPaste:Ma,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:E("span",{className:"uppy-DashboardContent-titleFile",children:y.meta?y.meta.name:y.name})})}),E("button",{className:"uppy-DashboardContent-back",type:"button",form:C.id,title:c("finishEditingFile"),onClick:k,children:c("cancel")})]}),E("div",{className:"uppy-Dashboard-FileCard-inner",children:[E("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:A0(y.type).color},children:[E(fM,{file:y}),j&&E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:_=>{w(_),l(y)},children:c("editImage")})]}),E("div",{className:"uppy-Dashboard-FileCard-info",children:E(OJ,{computedMetaFields:b,requiredMetaFields:o,updateMeta:S,form:C,formState:p})}),E("div",{className:"uppy-Dashboard-FileCard-actions",children:[E("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:C.id,children:c("saveChanges")}),E("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:k,form:C.id,children:c("cancel")})]})]})]})}function LJ(t,e){if(t===e)return!0;if(!t||!e)return!1;const s=Object.keys(t),r=Object.keys(e),i=s.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=s[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function $J(t,e="Copy the URL below"){return new Promise(s=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=t,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,t),s()};try{return document.execCommand("copy")?(document.body.removeChild(r),s()):i()}catch{return document.body.removeChild(r),i()}})}function UJ({file:t,uploadInProgressOrComplete:e,metaFields:s,canEditFile:r,i18n:i,onClick:a}){return!e&&s&&s.length>0||!e&&r(t)?E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:E("g",{fillRule:"evenodd",children:[E("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),E("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),E("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function BJ({i18n:t,onClick:e,file:s}){return E("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:s.meta.name}),title:t("removeFile",{file:s.meta.name}),onClick:()=>e(),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[E("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),E("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function zJ({file:t,uppy:e,i18n:s}){const r=i=>{$J(t.uploadURL,s("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(s("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return E("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":s("copyLink"),title:s("copyLink"),onClick:i=>r(i),children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:E("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function VJ(t){const{uppy:e,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return E("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[E(UJ,{i18n:c,file:s,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,s.id):u(s)}}),o&&s.uploadURL?E(zJ,{file:s,uppy:e,i18n:c}):null,l?E(BJ,{i18n:c,file:s,onClick:()=>e.removeFile(s.id)}):null]})}const qJ=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function pM(t){const{file:e,toggleFileCard:s,i18n:r,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>qJ(l,i)).join(", ");return E("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",E("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>s(!0,e.id),children:r("editFile")})]})}const HJ=t=>{const{author:e,name:s}=t.file.meta;function r(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return E("div",{className:"uppy-Dashboard-Item-name",title:s,children:_O(s,r())})},WJ=t=>{var i;const{author:e}=t.file.meta,s="remote"in t.file?(i=t.file.remote)==null?void 0:i.providerName:void 0,r="";return e?E("div",{className:"uppy-Dashboard-Item-author",children:[E("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:_O(e.name,13)}),s?E(Wi,{children:[` ${r} `,s,` ${r} `]}):null]}):null},KJ=t=>t.file.size&&E("div",{className:"uppy-Dashboard-Item-statusSize",children:Ao(t.file.size)}),GJ=t=>t.file.isGhost&&E("span",{children:["  ",E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),QJ=({file:t,onClick:e})=>t.error?E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function YJ(t){const{file:e,i18n:s,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return E("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[E("div",{className:"uppy-Dashboard-Item-fileName",children:[HJ({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),E(QJ,{file:e,onClick:()=>alert(e.error)})]}),E("div",{className:"uppy-Dashboard-Item-status",children:[WJ({file:e}),KJ({file:e}),GJ({file:e,toggleAddFilesPanel:a,i18n:s})]}),E(pM,{file:e,i18n:s,toggleFileCard:r,metaFields:i})]})}function XJ(t){const{file:e,i18n:s,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":A0(e.type).color;return E("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&E("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:E("span",{hidden:!0,children:e.meta.name})}),E(fM,{file:e}),E(pM,{file:e,i18n:s,toggleFileCard:r,metaFields:i})]})}function ZJ(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function FC(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function ky(t){return E("div",{className:"uppy-Dashboard-Item-progress",children:E("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":FC(t),title:FC(t),onClick:()=>ZJ(t),children:t.children})})}function Ym({children:t}){return E("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Py({progress:t}){const e=2*Math.PI*15;return E("g",{children:[E("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),E("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function JJ(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?E("div",{className:"uppy-Dashboard-Item-progress",children:E("div",{className:"uppy-Dashboard-Item-progressIndicator",children:E(Ym,{children:[E("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),E("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?E(ky,{...t,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[E("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),E("path",{d:"M7.9 3H10v2H7.9z"}),E("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),E("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?E(ky,{...t,children:E(Ym,{children:[E(Py,{progress:t.file.progress.percentage}),t.file.isPaused?E("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):E("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[E("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),E("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?E(ky,{...t,children:E(Ym,{children:[E(Py,{progress:t.file.progress.percentage}),E("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):E("div",{className:"uppy-Dashboard-Item-progress",children:E("div",{className:"uppy-Dashboard-Item-progressIndicator",children:E(Ym,{children:E(Py,{progress:t.file.progress.percentage})})})})}class eee extends vi{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!LJ(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,s=e.progress.preprocess||e.progress.postprocess,r=!!e.progress.uploadComplete&&!s&&!e.error,i=!!e.progress.uploadStarted||!!s,a=e.progress.uploadStarted&&!e.progress.uploadComplete||s,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Gr({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":s,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return E("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[E("div",{className:"uppy-Dashboard-Item-preview",children:[E(XJ,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),E(JJ,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),E("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[E(YJ,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),E(VJ,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function tee(t,e){const s=[];let r=[];return t.forEach(i=>{r.length<e?r.push(i):(s.push(r),r=[i])}),r.length&&s.push(r),s}function see({id:t,i18n:e,uppy:s,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:m,handleRequestThumbnail:y,handleCancelThumbnail:b,recoveredState:j,individualCancellation:v,itemsPerRow:p,openFileEditor:f,canEditFile:w,toggleAddFilesPanel:S,containerWidth:k,containerHeight:C}){const _=p===1?71:200,T=S0(()=>{const D=(B,ee)=>Number(r[ee].isGhost)-Number(r[B].isGhost),L=Object.keys(r);return j&&L.sort(D),tee(L,p)},[r,p,j]),R=D=>E("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:D.map(L=>E(eee,{uppy:s,id:t,i18n:e,resumableUploads:i,individualCancellation:v,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:j,isSingleFile:h,containerWidth:k,containerHeight:C,toggleFileCard:m,handleRequestThumbnail:y,handleCancelThumbnail:b,role:"listitem",openFileEditor:f,canEditFile:w,toggleAddFilesPanel:S,file:r[L]},L))},D[0]);return h?E("div",{class:"uppy-Dashboard-files",children:R(T[0])}):E(xY,{class:"uppy-Dashboard-files",role:"list",data:T,renderRow:R,rowHeight:_})}const RC=300;class nee extends vi{constructor(){super(...arguments);P(this,"ref",iY())}componentWillEnter(s){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(s,RC)}componentWillLeave(s){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(s,RC)}render(){const{children:s}=this.props;return E("div",{className:"uppy-Informer-animated",ref:this.ref,children:s})}}function ree(t,e){return Object.assign(t,e)}function iee(t,e){return(t==null?void 0:t.key)??e}function aee(t,e){const s=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return s[e]||(s[e]=r=>{t.refs[e]=r})}function Vd(t){const e={};for(let s=0;s<t.length;s++)if(t[s]!=null){const r=iee(t[s],s.toString(36));e[r]=t[s]}return e}function oee(t,e){t=t||{},e=e||{};const s=o=>Object.hasOwn(e,o)?e[o]:t[o],r={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=s(c)}a[o]=s(o)}for(let o=0;o<i.length;o++)a[i[o]]=s(i[o]);return a}const lee=t=>t;class xM extends vi{constructor(e,s){super(e,s),this.refs={},this.state={children:Vd(va(va(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const s in e)e[s]&&this.performAppear(s)}componentWillReceiveProps(e){const s=Vd(va(e.children)||[]),r=this.state.children;this.setState(a=>({children:oee(a.children,s)}));let i;for(i in s)if(Object.hasOwn(s,i)){const a=r&&Object.hasOwn(r,i);s[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):s[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=s&&Object.hasOwn(s,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:s}=this;this.keysToLeave=[],s.forEach(this.performLeave)}_finishAbort(e){const s=this.keysToAbortLeave.indexOf(e);s!==-1&&this.keysToAbortLeave.splice(s,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const s=this.refs[e];s!=null&&s.componentWillAppear?s.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const s=this.refs[e];s!=null&&s.componentDidAppear&&s.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Vd(va(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const s=this.refs[e];s!=null&&s.componentWillEnter?s.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const s=this.refs[e];s!=null&&s.componentDidEnter&&s.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Vd(va(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Vd(va(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=ree({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:s,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const m=Object.entries(h).map(([y,b])=>{if(!b)return;const j=aee(this,y);return LO(e(b),{ref:j,key:y})}).filter(Boolean);return j0(d,u,m)}}xM.defaultProps={component:"span",childFactory:lee};class IC extends vi{render(){const{info:e}=this.props.uppy.getState();return E("div",{className:"uppy uppy-Informer",children:E(xM,{children:e.map(s=>E(nee,{children:E("p",{role:"alert",children:[s.message," ",s.details&&E("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${s.message} 

 ${s.details}`),children:"?"})]})},s.message))})})}}function cee({activePickerPanel:t,className:e,hideAllPanels:s,i18n:r,state:i,uppy:a}){const o=Tu(null);return E("div",{className:Gr("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Ma,onDragLeave:Ma,onDrop:Ma,onPaste:Ma,children:[E("div",{className:"uppy-DashboardContent-bar",children:[E("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:t.name})}),E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:s,children:r("cancel")})]}),E("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const Jr={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function dee(t,e,s,r={}){if(t)return Jr.STATE_ERROR;if(e)return Jr.STATE_COMPLETE;if(s)return Jr.STATE_PAUSED;let i=Jr.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return Jr.STATE_UPLOADING;l.preprocess&&i!==Jr.STATE_UPLOADING&&(i=Jr.STATE_PREPROCESSING),l.postprocess&&i!==Jr.STATE_UPLOADING&&i!==Jr.STATE_PREPROCESSING&&(i=Jr.STATE_POSTPROCESSING)}return i}function uee({files:t,i18n:e,isAllComplete:s,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(dee(r,s,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function hee(t){const{i18n:e,isAllComplete:s,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),E("div",{className:"uppy-DashboardContent-bar",children:[!s&&!r?E("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):E("div",{}),E("div",{className:"uppy-DashboardContent-title",children:E(uee,{...t})}),l?E("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:E("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),E("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):E("div",{})]})}const Ll="uppy-transition-slideDownUp",DC=250;function Xm({children:t}){const[e,s]=hd(null),[r,i]=hd(""),a=Tu(),o=Tu(),l=Tu(),c=Fp(()=>{i(`${Ll}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ll}-enter ${Ll}-enter-active`),a.current=setTimeout(()=>{i("")},DC)})},[]),d=Fp(()=>{i(`${Ll}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Ll}-leave ${Ll}-leave-active`),o.current=setTimeout(()=>{s(null),i("")},DC)})},[]);return Ap(()=>{const u=va(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),s(u))},[t,e,c,d]),Ap(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?LO(e,{className:Gr(r,e.props.className)}):null}const ti={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},mee="",OC=()=>` ${mee} `;function fee(t){const{newFiles:e,isUploadStarted:s,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=Gr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ti.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&s&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return E("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function pee(t){const{i18n:e,uppy:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>s.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:E("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function xee(t){const{i18n:e,uppy:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>s.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:E("g",{fill:"none",fillRule:"evenodd",children:[E("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),E("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function gee(t){const{isAllPaused:e,i18n:s,isAllComplete:r,resumableUploads:i,uppy:a}=t,o=s(e?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return E("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:E("g",{fill:"none",fillRule:"evenodd",children:[E("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),E("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function yee(t){const{i18n:e,doneButtonHandler:s}=t;return E("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:s,"data-uppy-super-focusable":!0,children:e("done")})}function gM(){return E("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:E("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function vee(t){const{progress:e}=t,{value:s,mode:r,message:i}=e;return E("div",{className:"uppy-StatusBar-content",children:[E(gM,{}),r==="determinate"?`${Math.round(s*100)}%  `:"",i]})}function jee(t){const{numUploads:e,complete:s,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=Ao(r);return E("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:s,smart_count:e}),E("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&OC(),i!=null?o("dataUploadedOfTotal",{complete:c,total:Ao(i)}):o("dataUploadedOfUnknown",{complete:c}),OC(),a!=null&&o("xTimeLeft",{time:ZQ(a)})]})]})}function yM(t){const{i18n:e,complete:s,numUploads:r}=t;return E("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:s,smart_count:r})})}function bee(t){const{i18n:e,newFiles:s,startUpload:r}=t,i=Gr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return E("div",{className:"uppy-StatusBar-statusSecondary",children:[E("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:s})}),E("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:s}),onClick:r,children:e("upload")})]})}function wee(t){const{i18n:e,supportsUploadProgress:s,totalProgress:r,hideProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:y,startUpload:b}=t,j=c&&a;if(!a||o)return null;const v=e(l?"paused":"uploading");function p(){return!l&&!j&&!i?s?E(jee,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:y,i18n:e}):E(yM,{i18n:e,complete:u,numUploads:d}):null}return E("div",{className:"uppy-StatusBar-content",title:v,children:[l?null:E(gM,{}),E("div",{className:"uppy-StatusBar-status",children:[E("div",{className:"uppy-StatusBar-statusPrimary",children:s&&r!==0?`${v}: ${r}%`:v}),p(),j?E(bee,{i18n:e,newFiles:c,startUpload:b}):null]})]})}function Nee(t){const{i18n:e}=t;return E("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:E("div",{className:"uppy-StatusBar-status",children:E("div",{className:"uppy-StatusBar-statusPrimary",children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:E("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function See(t){const{error:e,i18n:s,complete:r,numUploads:i}=t;function a(){const o=`${s("uploadFailed")} 

 ${e}`;alert(o)}return E("div",{className:"uppy-StatusBar-content",title:s("uploadFailed"),children:[E("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:E("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),E("div",{className:"uppy-StatusBar-status",children:[E("div",{className:"uppy-StatusBar-statusPrimary",children:[s("uploadFailed"),E("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":s("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),E(yM,{i18n:s,complete:r,numUploads:i})]})]})}function Ty(t){const e=[];let s="indeterminate",r;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:s,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:s,message:r,value:i}}const{STATE_ERROR:MC,STATE_WAITING:Cee,STATE_PREPROCESSING:Ey,STATE_UPLOADING:Zm,STATE_POSTPROCESSING:Ay,STATE_COMPLETE:Jm}=ti;function _ee({newFiles:t,allowNewUpload:e,isUploadInProgress:s,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:m,files:y,supportsUploadProgress:b,hideAfterFinish:j=!1,isSomeGhost:v,doneButtonHandler:p=void 0,isUploadStarted:f,i18n:w,startUpload:S,uppy:k,isAllComplete:C,hideProgressDetails:_=void 0,numUploads:T,complete:R,totalSize:D,totalETA:L,totalUploadedSize:B}){function ee(){switch(h){case Ay:case Ey:{const Be=Ty(y);return Be.mode==="determinate"?Be.value*100:m}case MC:return null;case Zm:return b?m:null;default:return m}}function W(){switch(h){case Ay:case Ey:{const{mode:Be}=Ty(y);return Be==="indeterminate"}case Zm:return!b;default:return!1}}const se=ee(),A=se??100,K=!a&&t&&(!s&&!r||u)&&e&&!o,M=!c&&h!==Cee&&h!==Jm,F=i&&!l&&h===Zm,O=a&&!C&&!d,he=p&&h===Jm,_e=Gr("uppy-StatusBar-progress",{"is-indeterminate":W()}),tt=Gr("uppy-StatusBar",`is-${h}`,{"has-ghosts":v}),Ze=(()=>{switch(h){case Ey:case Ay:return E(vee,{progress:Ty(y)});case Jm:return E(Nee,{i18n:w});case MC:return E(See,{error:a,i18n:w,numUploads:T,complete:R});case Zm:return E(wee,{i18n:w,supportsUploadProgress:b,totalProgress:m,hideProgressDetails:_,isUploadStarted:f,isAllComplete:C,isAllPaused:r,newFiles:t,numUploads:T,complete:R,totalUploadedSize:B,totalSize:D,totalETA:L,startUpload:S});default:return null}})();return!(K||O||F||M||he)&&!Ze||h===Jm&&j?null:E("div",{className:tt,children:[E("div",{className:_e,style:{width:`${A}%`},role:"progressbar","aria-label":`${A}%`,"aria-valuetext":`${A}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":se}),Ze,E("div",{className:"uppy-StatusBar-actions",children:[K?E(fee,{newFiles:t,isUploadStarted:f,recoveredState:u,i18n:w,isSomeGhost:v,startUpload:S,uploadState:h}):null,O?E(pee,{i18n:w,uppy:k}):null,F?E(gee,{isAllPaused:r,i18n:w,isAllComplete:C,resumableUploads:i,uppy:k}):null,M?E(xee,{i18n:w,uppy:k}):null,he?E(yee,{i18n:w,doneButtonHandler:p}):null]})]})}const kee=2e3,Pee=2e3;function Tee(t,e,s,r){if(t)return ti.STATE_ERROR;if(e)return ti.STATE_COMPLETE;if(s)return ti.STATE_WAITING;let i=ti.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ti.STATE_UPLOADING;l.preprocess&&(i=ti.STATE_PREPROCESSING),l.postprocess&&i!==ti.STATE_PREPROCESSING&&(i=ti.STATE_POSTPROCESSING)}return i}var Ia,ci,Vo,Bi,Fh,Vp,vM;class Eee extends vi{constructor(){super(...arguments);G(this,Vp);G(this,Ia);G(this,ci);G(this,Vo);G(this,Bi);G(this,Fh,()=>{const{recoveredState:s}=this.props.uppy.getState();if(X(this,Vo,null),X(this,Bi,null),s){X(this,ci,Object.values(s.files).reduce((r,{progress:i})=>r+(i.bytesUploaded||0),0));return}X(this,Ia,performance.now()),X(this,ci,0)});P(this,"startUpload",()=>{const{recoveredState:s}=this.props.uppy.getState();s?this.props.uppy.emit("restore-confirmed"):this.props.uppy.upload().catch(()=>{})})}componentDidMount(){X(this,Ia,performance.now()),X(this,ci,this.props.uppy.getFiles().reduce((s,r)=>s+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",N(this,Fh))}componentWillUnmount(){this.props.uppy.off("upload",N(this,Fh))}render(){const{capabilities:s,files:r,allowNewUpload:i,totalProgress:a,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:h,isAllComplete:m,isAllPaused:y,isUploadInProgress:b,isSomeGhost:j}=this.props.uppy.getObjectOfFilesPerState(),v=l?Object.values(r):c,p=!!s.resumableUploads,f=s.uploadProgress!==!1;let w=null,S=0;d.every(C=>C.progress.bytesTotal!=null&&C.progress.bytesTotal!==0)?(w=0,d.forEach(C=>{w+=C.progress.bytesTotal||0,S+=C.progress.bytesUploaded||0})):d.forEach(C=>{S+=C.progress.bytesUploaded||0});const k=ce(this,Vp,vM).call(this,{uploaded:S,total:w});return E(_ee,{error:o,uploadState:Tee(o,m,l,r||{}),allowNewUpload:i,totalProgress:a,totalSize:w,totalUploadedSize:S,isAllComplete:m,isAllPaused:y,isUploadStarted:h,isUploadInProgress:b,isSomeGhost:j,recoveredState:l,complete:u.length,newFiles:v.length,numUploads:d.length,totalETA:k,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:p,supportsUploadProgress:f,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}Ia=new WeakMap,ci=new WeakMap,Vo=new WeakMap,Bi=new WeakMap,Fh=new WeakMap,Vp=new WeakSet,vM=function(s){if(s.total==null||s.total===0)return null;const r=s.total-s.uploaded;if(r<=0)return null;N(this,Ia)??X(this,Ia,performance.now());const i=performance.now()-N(this,Ia);if(i===0)return Math.round((N(this,Bi)??0)/100)/10;if(N(this,ci)==null)return X(this,ci,s.uploaded),null;const a=s.uploaded-N(this,ci);if(X(this,ci,s.uploaded),a<=0)return Math.round((N(this,Bi)??0)/100)/10;const o=a/i;if(!Number.isFinite(o)||o<=0)return null;const l=N(this,Vo)==null?o:GS(o,N(this,Vo),kee,i);if(!Number.isFinite(l)||l<=0)return null;X(this,Vo,l);const c=r/l;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((N(this,Bi)??0)-i,0),u=N(this,Bi)==null?c:GS(c,d,Pee,i);return!Number.isFinite(u)||u<0?null:(X(this,Bi,u),X(this,Ia,performance.now()),Math.round(u/100)/10)};const LC=900,$C=700,Fy=576,UC=330;function Aee(t){const e=t.totalFileCount===0,s=t.totalFileCount===1,r=t.containerWidth>Fy,i=t.containerHeight>UC,a=Gr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Fy,"uppy-size--lg":t.containerWidth>$C,"uppy-size--xl":t.containerWidth>LC,"uppy-size--height-md":t.containerHeight>UC,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&s&&i});let o=1;t.containerWidth>LC?o=5:t.containerWidth>$C?o=4:t.containerWidth>Fy&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return E("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&YQ(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[E("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),E("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:E("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:E("span",{"aria-hidden":"true",children:""})}),E("div",{className:"uppy-Dashboard-innerWrap",children:[E("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&E(hee,{...t}),c&&E("div",{className:"uppy-Dashboard-serviceMsg",children:[E("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:E("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[E("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),E("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),E("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),E("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),E("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?E(see,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:s,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):E(mM,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),E(Xm,{children:t.showAddFilesPanel?E(kJ,{...t,isSizeMD:r},"AddFiles"):null}),E(Xm,{children:t.fileCardFor?E(MJ,{...t},"FileCard"):null}),E(Xm,{children:t.activePickerPanel?E(cee,{...t},"Picker"):null}),E(Xm,{children:t.showFileEditor?E(PJ,{...t},"Editor"):null}),E("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&E(IC,{uppy:t.uppy}),!t.disableStatusBar&&E(Eee,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&E(IC,{uppy:t.uppy}),t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))]})]})]})]})}const Fee={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function jM(t,e){if(e){const s=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(s)return s}return t}function Ree(){let t=!1;return VX((s,r)=>{const i=jM(s,r),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(pO);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function BC(t,e){const s=e[0];s&&(s.focus(),t.preventDefault())}function Iee(t,e){const s=e[e.length-1];s&&(s.focus(),t.preventDefault())}function Dee(t){return t.contains(document.activeElement)}function bM(t,e,s){const r=jM(s,e),i=ku(r.querySelectorAll(pO)),a=i.indexOf(document.activeElement);Dee(r)?t.shiftKey&&a===0?Iee(t,i):!t.shiftKey&&a===i.length-1&&BC(t,i):BC(t,i)}function Oee(t,e,s){e===null||bM(t,e,s)}const zC=9,Mee=27;function VC(){const t={};return t.promise=new Promise((e,s)=>{t.resolve=e,t.reject=s}),t}const Lee={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:bZ,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Ry,Dc,qo,Rh,Oc,qp,Hp,Wp,Ho,Kp,Gp,Mc,co,Dj,Oj;let $ee=(Ry=class extends Rp{constructor(s,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(s,{...Lee,...r,autoOpen:i});G(this,co);G(this,Dc);P(this,"modalName",`uppy-Dashboard-${hM()}`);P(this,"superFocus",Ree());P(this,"ifFocusedOnUppyRecently",!1);P(this,"dashboardIsDisabled");P(this,"savedScrollPosition");P(this,"savedActiveElement");P(this,"resizeObserver");P(this,"darkModeMediaQuery");P(this,"makeDashboardInsidesVisibleAnywayTimeout");P(this,"removeTarget",s=>{const i=this.getPluginState().targets.filter(a=>a.id!==s.id);this.setPluginState({targets:i})});P(this,"addTarget",s=>{const r=s.id||s.constructor.name,i=s.title||r,a=s.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});P(this,"hideAllPanels",()=>{var i;const s=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===r.activePickerPanel&&s.showAddFilesPanel===r.showAddFilesPanel&&s.showFileEditor===r.showFileEditor&&s.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=s.activePickerPanel)==null?void 0:i.id))});P(this,"showPanel",s=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===s);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)});P(this,"canEditFile",s=>{const{targets:r}=this.getPluginState();return N(this,Ho).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(s))});P(this,"openFileEditor",s=>{const{targets:r}=this.getPluginState(),i=N(this,Ho).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(s)})});P(this,"closeFileEditor",()=>{const{metaFields:s}=this.getPluginState();s&&s.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});P(this,"saveFileEditor",()=>{const{targets:s}=this.getPluginState();N(this,Ho).call(this,s).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});P(this,"openModal",()=>{const{promise:s,resolve:r}=VC();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s});P(this,"closeModal",s=>{var c;const r=(s==null?void 0:s.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=VC();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});P(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);P(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());P(this,"setDarkModeCapability",s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:s}})});P(this,"handleSystemDarkModeChange",s=>{const r=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});P(this,"toggleFileCard",(s,r)=>{const i=this.uppy.getFile(r);s?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:s?r:null,activeOverlayType:s?"FileCard":null})});P(this,"toggleAddFilesPanel",s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})});P(this,"addFiles",s=>{const r=s.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});P(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(s=>{const r=s[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),r=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});P(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});P(this,"recordIfFocusedOnUppyRecently",s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});P(this,"disableInteractiveElements",s=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=N(this,Dc)??ku(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",s):a.disabled=s;s?X(this,Dc,i):X(this,Dc,null),this.dashboardIsDisabled=s});P(this,"updateBrowserHistory",()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});P(this,"handlePopState",s=>{var r;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=s.state)!=null&&r[this.modalName])&&history.back()});P(this,"handleKeyDownInModal",s=>{s.keyCode===Mee&&this.requestCloseModal(),s.keyCode===zC&&bM(s,this.getPluginState().activeOverlayType,this.el)});P(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});P(this,"handlePaste",s=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,s))});const r=ku(s.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});P(this,"handleInputChange",s=>{s.preventDefault();const r=ku(s.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});P(this,"handleDragOver",s=>{s.preventDefault(),s.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,s)&&(l=!0)}),l},i=()=>{const{types:l}=s.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none";return}s.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(s)});P(this,"handleDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(s)});P(this,"handleDrop",async s=>{s.preventDefault(),s.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,s))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await KQ(s.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(s)});P(this,"handleRequestThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)});P(this,"handleCancelThumbnail",s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)});P(this,"handleKeyDownInInline",s=>{s.keyCode===zC&&Oee(s,this.getPluginState().activeOverlayType,this.el)});P(this,"handlePasteOnBody",s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)});P(this,"handleComplete",({failed:s})=>{this.opts.closeAfterFinish&&!(s!=null&&s.length)&&this.requestCloseModal()});G(this,qo,()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:s});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});G(this,Rh,s=>{const r=s[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});P(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const s=QS(this.opts.trigger);s?s.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",N(this,Mc)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",N(this,qo)),this.uppy.on("file-removed",N(this,qo)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",N(this,Rh))});P(this,"removeEvents",()=>{const s=QS(this.opts.trigger);!this.opts.inline&&s&&s.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",N(this,Mc)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",N(this,qo)),this.uppy.off("file-removed",N(this,qo)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",N(this,Rh))});P(this,"superFocusOnEachUpdate",()=>{const s=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||s||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});P(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});P(this,"saveFileCard",(s,r)=>{this.uppy.setFileMeta(r,s),this.toggleFileCard(!1,r)});G(this,Oc,s=>{const r=this.uppy.getPlugin(s.id);return{...s,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});G(this,qp,s=>{const r=this.uppy.getPlugin(s.id);return typeof r.isSupported!="function"?!0:r.isSupported()});G(this,Hp,s=>s.filter(r=>r.type==="acquirer"&&N(this,qp).call(this,r)).map(N(this,Oc)));G(this,Wp,s=>s.filter(r=>r.type==="progressindicator").map(N(this,Oc)));G(this,Ho,s=>s.filter(r=>r.type==="editor").map(N(this,Oc)));P(this,"render",s=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=s,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:b,isAllComplete:j,isAllPaused:v}=this.uppy.getObjectOfFilesPerState(),p=N(this,Hp).call(this,r.targets),f=N(this,Wp).call(this,r.targets),w=N(this,Ho).call(this,r.targets);let S;return this.opts.theme==="auto"?S=a.darkMode?"dark":"light":S=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Aee({state:s,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:y,isUploadStarted:b,isAllComplete:j,isAllPaused:v,totalFileCount:Object.keys(i).length,totalProgress:s.totalProgress,allowNewUpload:o,acquirers:p,theme:S,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:f,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});G(this,Kp,()=>{const{plugins:s}=this.opts;s.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});G(this,Gp,()=>{this.uppy.iteratePlugins(N(this,Mc))});G(this,Mc,s=>{var i;const r=["acquirer","editor"];s&&!((i=s.opts)!=null&&i.target)&&r.includes(s.type)&&(this.getPluginState().targets.some(o=>s.id===o.id)||s.mount(this,s))});P(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:r}=this.opts;if(s&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(uM,{id:ce(this,co,Oj).call(this),...ce(this,co,Dj).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),N(this,Kp).call(this),N(this,Gp).call(this),this.initEvents()});P(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:s}=this.opts;s.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Fee,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(s){var r;super.setOptions(s),(r=this.uppy.getPlugin(ce(this,co,Oj).call(this)))==null||r.setOptions(ce(this,co,Dj).call(this))}},Dc=new WeakMap,qo=new WeakMap,Rh=new WeakMap,Oc=new WeakMap,qp=new WeakMap,Hp=new WeakMap,Wp=new WeakMap,Ho=new WeakMap,Kp=new WeakMap,Gp=new WeakMap,Mc=new WeakMap,co=new WeakSet,Dj=function(){const{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:s,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},Oj=function(){return`${this.id}:ThumbnailGenerator`},P(Ry,"VERSION",_J.version),Ry);const Uee=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bee=/^(aria-|data-)/,wM=t=>Object.fromEntries(Object.entries(t).filter(([e])=>Bee.test(e)||Uee.includes(e)));function zee(t,e){const s=wM(t);return Object.keys(t).some(r=>!Object.hasOwn(s,r)&&t[r]!==e[r])}class Vee extends x.Component{constructor(){super(...arguments);P(this,"container");P(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(s){if(s.uppy!==this.props.uppy)this.uninstallPlugin(s),this.installPlugin();else if(zee(this.props,s)){const{uppy:r,...i}={...this.props,target:this.container};this.plugin.setOptions(i)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:s,...r}={id:"Dashboard",...this.props,inline:!0,target:this.container};s.use($ee,r),this.plugin=s.getPlugin(r.id)}uninstallPlugin(s=this.props){const{uppy:r}=s;r.removePlugin(this.plugin)}render(){return x.createElement("div",{className:"uppy-Container",ref:s=>{this.container=s},...wM(this.props)})}}var NM={};function hr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var qee=hr;hr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};hr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};hr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0};hr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};hr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};hr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};hr.prototype.start=hr.prototype.try;hr.prototype.errors=function(){return this._errors};hr.prototype.attempts=function(){return this._attempts};hr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,s=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(t[a]||0)+1;t[a]=o,o>=s&&(e=i,s=o)}return e};(function(t){var e=qee;t.operation=function(s){var r=t.timeouts(s);return new e(r,{forever:s&&(s.forever||s.retries===1/0),unref:s&&s.unref,maxRetryTime:s&&s.maxRetryTime})},t.timeouts=function(s){if(s instanceof Array)return[].concat(s);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in s)r[i]=s[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return s&&s.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(s,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,s));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(s,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in s)typeof s[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=s[l];s[l]=(function(u){var h=t.operation(r),m=Array.prototype.slice.call(arguments,1),y=m.pop();m.push(function(b){h.retry(b)||(b&&(arguments[0]=h.mainError()),y.apply(this,arguments))}),h.attempt(function(){u.apply(s,m)})}).bind(s,c),s[l].options=r}}})(NM);var Hee=NM;const Wee=ra(Hee),Kee=Object.prototype.toString,Gee=t=>Kee.call(t)==="[object Error]",Qee=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Yee(t){if(!(t&&Gee(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:s,stack:r}=t;return s==="Load failed"?r===void 0||"__sentry_captured__"in t:s.startsWith("error sending request for url")?!0:Qee.has(s)}class Mj extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const qC=(t,e,s)=>{const r=s.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function HC(t,e){return new Promise((s,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=Wee.operation(e),a=()=>{var l;i.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),s(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Mj)throw c.originalError;if(c instanceof TypeError&&!Yee(c))throw c;if(qC(c,l,e),await e.shouldRetry(c)||(i.stop(),r(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){qC(d,l,e),o(),r(d)}}})})}const Xee="@uppy/companion-client",Zee="Client library for communication with Companion. Intended for use in Uppy plugins.",Jee="5.1.1",ete="MIT",tte="module",ste=!1,nte={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},rte=["file uploader","uppy","uppy-plugin","companion","provider"],ite="https://uppy.io",ate={url:"https://github.com/transloadit/uppy/issues"},ote={type:"git",url:"git+https://github.com/transloadit/uppy.git"},lte=["src","lib","dist","CHANGELOG.md"],cte={".":"./lib/index.js","./package.json":"./package.json"},dte={"@uppy/utils":"^7.1.1","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},ute={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},hte={"@uppy/core":"^5.1.1"},mte={name:Xee,description:Zee,version:Jee,license:ete,type:tte,sideEffects:ste,scripts:nte,keywords:rte,homepage:ite,bugs:ate,repository:ote,files:lte,exports:cte,dependencies:dte,devDependencies:ute,peerDependencies:hte};class fte extends Error{constructor(){super("Authorization required");P(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function pte(t){return t.replace(/\/$/,"")}const WC=10,xte=5*60*1e3,gte=401;class yte extends Error{constructor({statusCode:s,message:r}){super(r);P(this,"statusCode");this.name="HttpError",this.statusCode=s}}async function vte(t){if(t.status===gte)throw new fte;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,s;try{s=await t.json(),s.message&&(e=`${e} message: ${s.message}`),s.requestId&&(e=`${e} request-Id: ${s.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw t.status>=400&&t.status<=499&&s.message?new nY(s.message):new yte({statusCode:t.status,message:e})}function jte(t,e,s){const{progress:r,bytesUploaded:i,bytesTotal:a}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",s,{uploadStarted:s.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var Wo,uo,Lj,Qp,$j;class SM{constructor(e,s){G(this,uo);G(this,Wo);P(this,"uppy");P(this,"opts");G(this,Qp,async({file:e,postBody:s,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...s},{signal:r})).token});this.uppy=e,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),X(this,Wo,s.companionHeaders)}setCompanionHeaders(e){X(this,Wo,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return N(this,Wo)}get hostname(){const{companion:e}=this.uppy.getState(),s=this.opts.companionUrl;return pte(e!=null&&e[s]?e[s]:s)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...N(this,Wo)}}onReceiveResponse(e){const{headers:s}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;s.has("i-am")&&s.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:s.get("i-am")}})}async request({path:e,method:s="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await MQ(ce(this,uo,Lj).call(this,e),{method:s,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await vte(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new DQ(`Could not ${s} ${ce(this,uo,Lj).call(this,e)}`,{cause:o})}}async get(e,s){return this.request({...s,path:e})}async post(e,s,r){return this.request({...r,path:e,method:"POST",data:s})}async delete(e,s,r){return this.request({...r,path:e,method:"DELETE",data:s})}async uploadRemoteFile(e,s,r){try{const{signal:i,getQueue:a}=r||{};return await HC(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),ce(this,uo,$j).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await N(this,Qp).call(this,...u)}catch(h){if(h.isAuthError)throw new Mj(h);if(h.cause==null)throw h;const m=h.cause,y=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!y()?new Mj(m):m}},{priority:-1})({file:e,postBody:s,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),ce(this,uo,$j).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:WC,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}Wo=new WeakMap,uo=new WeakSet,Lj=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Qp=new WeakMap,$j=async function({file:e,queue:s,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=GQ(e.remote.companionUrl);let u,h,m,{isPaused:y}=e;const b=(_,T)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${_}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:_,payload:T??{}}))};function j(){a.resumableUploads&&b(y?"pause":"resume")}const v=async()=>{h&&h.abort(),h=new AbortController;const _=R=>{var D;this.uppy.setFileState(e.id,{serverToken:null}),(D=h==null?void 0:h.abort)==null||D.call(h),l(R)};function T(){clearTimeout(m),!y&&(m=setTimeout(()=>_(new Error("Timeout waiting for message from Companion socket")),xte))}try{await s.wrapPromiseFunction(async()=>{await HC(async()=>new Promise((D,L)=>{u=new WebSocket(`${d}/api/${c}`),T(),u.addEventListener("close",()=>{u=void 0,L(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",ee=>{this.uppy.log(`Companion socket error ${JSON.stringify(ee)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{j()}),u.addEventListener("message",ee=>{var W,se,A;T();try{const{action:K,payload:M}=JSON.parse(ee.data);switch(K){case"progress":{jte(this,M,this.uppy.getFile(e.id));break}case"success":{const F=(W=M.response)==null?void 0:W.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:M.url,status:((se=M.response)==null?void 0:se.status)??200,body:F?JSON.parse(F):void 0}),(A=h==null?void 0:h.abort)==null||A.call(h),o();break}case"error":{const{message:F}=M.error;throw Object.assign(new Error(F),{cause:M.error})}default:this.uppy.log(`Companion socket unknown action ${K}`,"warning")}}catch(K){_(K)}});const B=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{B()})}),{retries:WC,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(R){if(h.signal.aborted)return;_(R)}},p=_=>{a.resumableUploads&&(y=_,u&&j())},f=_=>{var T;a.individualCancellation&&_.id===e.id&&(b("cancel"),(T=h==null?void 0:h.abort)==null||T.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},w=()=>{var _;b("cancel"),(_=h==null?void 0:h.abort)==null||_.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},S=(_,T)=>{(_==null?void 0:_.id)===e.id&&p(T)},k=()=>p(!0),C=()=>p(!1);this.uppy.on("file-removed",f),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",S),this.uppy.on("pause-all",k),this.uppy.on("resume-all",C),i=()=>{this.uppy.off("file-removed",f),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",S),this.uppy.off("pause-all",k),this.uppy.off("resume-all",C)},r.addEventListener("abort",()=>{h==null||h.abort()}),v()})}finally{i==null||i()}},P(SM,"VERSION",mte.version);const bte="@uppy/aws-s3",wte="Upload to Amazon S3 with Uppy",Nte="5.0.2",Ste="MIT",Cte="module",_te=!1,kte={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Pte=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],Tte="https://uppy.io",Ete={url:"https://github.com/transloadit/uppy/issues"},Ate={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Fte=["src","lib","dist","CHANGELOG.md"],Rte={".":"./lib/index.js","./package.json":"./package.json"},Ite={"@uppy/companion-client":"^5.1.1","@uppy/utils":"^7.1.1"},Dte={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^5.1.1",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Ote={"@uppy/core":"^5.1.1"},Mte={name:bte,description:wte,version:Nte,license:Ste,type:Cte,sideEffects:_te,scripts:kte,keywords:Pte,homepage:Tte,bugs:Ete,repository:Ate,files:Fte,exports:Rte,dependencies:Ite,devDependencies:Dte,peerDependencies:Ote};function Lte({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:s="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[t,e,s,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const F0=new TextEncoder,R0={name:"HMAC",hash:"SHA-256"};async function $te(t){const{subtle:e}=globalThis.crypto;return e.digest(R0.hash,F0.encode(t))}async function Ute(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?F0.encode(t):t,R0,!1,["sign"])}function KC(t){const e=new Uint8Array(t);let s="";for(let r=0;r<e.length;r++)s+=e[r].toString(16).padStart(2,"0");return s}async function qd(t,e){const{subtle:s}=globalThis.crypto;return s.sign(R0,await Ute(t),F0.encode(e))}async function Bte({accountKey:t,accountSecret:e,sessionToken:s,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,R=>`%${R.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",y=new Date().toISOString().replace(/[-:]|\.\d+/g,""),b=y.slice(0,8),j=`${b}/${a}/${d}/aws4_request`,v=new URL(`https://${u}${h}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",m),v.searchParams.set("X-Amz-Credential",`${t}/${j}`),v.searchParams.set("X-Amz-Date",y),v.searchParams.set("X-Amz-Expires",o),v.searchParams.set("X-Amz-Security-Token",s),v.searchParams.set("X-Amz-SignedHeaders","host"),c&&v.searchParams.set("partNumber",c),l&&v.searchParams.set("uploadId",l),v.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const p=Lte({CanonicalUri:h,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:u},HashedPayload:m}),f=KC(await $te(p)),w=["AWS4-HMAC-SHA256",y,j,f].join(`
`),S=await qd(`AWS4${e}`,b),k=await qd(S,a),C=await qd(k,d),_=await qd(C,"aws4_request"),T=KC(await qd(_,w));return v.searchParams.set("X-Amz-Signature",T),v}const zte=1024*1024,GC={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Vte(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const kf=Symbol("pausing upload, not an actual error");var Nr,Yn,di,zi,Vi,Ih,Dh,Lc,Ko,$c,Oh,Uc,Mh,Qr,CM,_M,Uj,Lh,$h,kM;class qte{constructor(e,s){G(this,Qr);P(this,"options");G(this,Nr,new vy);G(this,Yn,[]);G(this,di,[]);G(this,zi);G(this,Vi);G(this,Ih,!1);G(this,Dh);G(this,Lc);G(this,Ko);G(this,$c);G(this,Oh,e=>(e==null?void 0:e.cause)===kf?null:N(this,Dh).call(this,e));G(this,Uc,1e4);G(this,Mh,5*zte);G(this,Lh,e=>s=>{if(!s.lengthComputable)return;N(this,di)[e].uploaded=Vte(s.loaded);const r=N(this,di).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,N(this,zi).size)});G(this,$h,e=>s=>{N(this,Yn)[e]=null,N(this,di)[e].etag=s,N(this,di)[e].done=!0;const r={PartNumber:e+1,ETag:s};this.options.onPartComplete(r)});var r;this.options={...GC,...s},(r=this.options).getChunkSize??(r.getChunkSize=GC.getChunkSize),X(this,zi,e),X(this,Vi,s.file),X(this,Lc,this.options.onSuccess),X(this,Dh,this.options.onError),X(this,Ko,this.options.shouldUseMultipart),X(this,$c,s.uploadId&&s.key),ce(this,Qr,CM).call(this)}start(){N(this,Ih)?(N(this,Nr).signal.aborted||N(this,Nr).abort(kf),X(this,Nr,new vy),ce(this,Qr,Uj).call(this)):N(this,$c)?(this.options.companionComm.restoreUploadFile(N(this,Vi),{uploadId:this.options.uploadId,key:this.options.key}),ce(this,Qr,Uj).call(this)):ce(this,Qr,_M).call(this)}pause(){N(this,Nr).abort(kf),X(this,Nr,new vy)}abort(e){e!=null&&e.really?ce(this,Qr,kM).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return N(this,di)}}Nr=new WeakMap,Yn=new WeakMap,di=new WeakMap,zi=new WeakMap,Vi=new WeakMap,Ih=new WeakMap,Dh=new WeakMap,Lc=new WeakMap,Ko=new WeakMap,$c=new WeakMap,Oh=new WeakMap,Uc=new WeakMap,Mh=new WeakMap,Qr=new WeakSet,CM=function(){const e=N(this,zi).size,s=typeof N(this,Ko)=="function"?N(this,Ko).call(this,N(this,Vi)):!!N(this,Ko);if(s&&e>N(this,Mh)){let r=Math.max(this.options.getChunkSize(N(this,zi)),N(this,Mh)),i=Math.floor(e/r);i>N(this,Uc)&&(i=N(this,Uc),r=e/N(this,Uc)),X(this,Yn,Array(i));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const d=a;return N(this,zi).slice(d,l)};if(N(this,Yn)[o]={getData:c,onProgress:N(this,Lh).call(this,o),onComplete:N(this,$h).call(this,o),shouldUseMultipart:s},N(this,$c)){const d=a+r>e?e-a:r;N(this,Yn)[o].setAsUploaded=()=>{N(this,Yn)[o]=null,N(this,di)[o].uploaded=d}}}}else X(this,Yn,[{getData:()=>N(this,zi),onProgress:N(this,Lh).call(this,0),onComplete:N(this,$h).call(this,0),shouldUseMultipart:s}]);X(this,di,N(this,Yn).map(()=>({uploaded:0})))},_M=function(){this.options.companionComm.uploadFile(N(this,Vi),N(this,Yn),N(this,Nr).signal).then(N(this,Lc),N(this,Oh)),X(this,Ih,!0)},Uj=function(){this.options.companionComm.resumeUploadFile(N(this,Vi),N(this,Yn),N(this,Nr).signal).then(N(this,Lc),N(this,Oh))},Lh=new WeakMap,$h=new WeakMap,kM=function(){N(this,Nr).abort(),this.options.companionComm.abortFileUpload(N(this,Vi)).catch(e=>this.options.log(e))};function en(t){if(t!=null&&t.aborted)throw fO("The operation was aborted",{cause:t.reason})}function Hte(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Uh,Sr,Bh,zh,Vh,qh,Bc,zc,Vc,qc,Go,Hc,Cr,gl,PM,Bj;class Wte{constructor(e,s,r,i){G(this,gl);G(this,Uh);G(this,Sr,new WeakMap);G(this,Bh);G(this,zh);G(this,Vh);G(this,qh);G(this,Bc);G(this,zc);G(this,Vc);G(this,qc);G(this,Go);G(this,Hc);G(this,Cr);X(this,zc,e),X(this,Go,r),X(this,Cr,i),this.setOptions(s)}setOptions(e){const s=N(this,zc);"abortMultipartUpload"in e&&X(this,Uh,s.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&X(this,Bh,s.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&X(this,zh,s.wrapPromiseFunction(e.signPart)),"listParts"in e&&X(this,qh,s.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&X(this,qc,s.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&X(this,Vc,e.retryDelays??[]),"uploadPartBytes"in e&&X(this,Hc,s.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&X(this,Vh,s.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,s){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=N(this,Sr).get(e.data),r==null)break;try{return await r}catch{}}const i=N(this,Bh).call(this,N(this,Cr).call(this,e),s),a=()=>{if(e.data==null)throw new Error("File data is empty");i.abort(s.reason),N(this,Sr).delete(e.data)};return s.addEventListener("abort",a,{once:!0}),N(this,Sr).set(e.data,i),i.then(async o=>{if(s.removeEventListener("abort",a),N(this,Go).call(this,e,o),e.data==null)throw new Error("File data is empty");N(this,Sr).set(e.data,o)},()=>{if(s.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");N(this,Sr).delete(e.data)}),i}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const s=N(this,Sr).get(e.data);if(s==null)return;N(this,Sr).delete(e.data),N(this,Go).call(this,e,Object.create(null));let r;try{r=await s}catch{return}await N(this,Uh).call(this,N(this,Cr).call(this,e),r)}async uploadFile(e,s,r){if(en(r),s.length===1&&!s[0].shouldUseMultipart)return ce(this,gl,Bj).call(this,e,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);en(r);try{const o=await Promise.all(s.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return en(r),await N(this,qc).call(this,N(this,Cr).call(this,e),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==kf&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,s){if(e.data==null)throw new Error("File data is empty");N(this,Sr).set(e.data,s)}async resumeUploadFile(e,s,r){if(en(r),s.length===1&&s[0]!=null&&!s[0].shouldUseMultipart)return ce(this,gl,Bj).call(this,e,s[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);en(r);const o=await N(this,qh).call(this,N(this,Cr).call(this,e),{uploadId:i,key:a,signal:r},r).abortOn(r);en(r);const l=await Promise.all(s.map((c,d)=>{var m;const u=d+1,h=o.find(({PartNumber:y})=>y===u);return h==null?this.uploadChunk(e,u,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:u,ETag:h.ETag})}));return en(r),N(this,qc).call(this,N(this,Cr).call(this,e),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,s,r,i){en(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=N(this,Vc).values(),c=N(this,Vc).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){en(i);const u=r.getData(),{onProgress:h,onComplete:m}=r;let y;try{y=await N(this,zh).call(this,N(this,Cr).call(this,e),{uploadId:a,key:o,partNumber:s,body:u,signal:i}).abortOn(i)}catch(b){const j=d();if(j==null||i.aborted)throw b;await new Promise(v=>setTimeout(v,j));continue}en(i);try{return{PartNumber:s,...await N(this,Hc).call(this,{signature:y,body:u,size:u.size,onProgress:h,onComplete:m,signal:i}).abortOn(i)}}catch(b){if(!await ce(this,gl,PM).call(this,b,c))throw b}}}}Uh=new WeakMap,Sr=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Vh=new WeakMap,qh=new WeakMap,Bc=new WeakMap,zc=new WeakMap,Vc=new WeakMap,qc=new WeakMap,Go=new WeakMap,Hc=new WeakMap,Cr=new WeakMap,gl=new WeakSet,PM=async function(e,s){var a;const r=N(this,zc),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||N(this,Bc)==null){const o=s.next();if(o==null||o.done)return!1;X(this,Bc,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,N(this,Bc)))}}else if(i===429){if(!r.isPaused){const o=s.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=s.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Bj=async function(e,s,r){const{method:i="POST",url:a,fields:o,headers:l}=await N(this,Vh).call(this,N(this,Cr).call(this,e),{signal:r}).abortOn(r);let c;const d=s.getData();if(i.toUpperCase()==="POST"){const b=new FormData;Object.entries(o).forEach(([j,v])=>b.set(j,v)),b.set("file",d),c=b}else c=d;const{onProgress:u,onComplete:h}=s,m=await N(this,Hc).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:u,onComplete:h,signal:r}).abortOn(r),y=o==null?void 0:o.key;return N(this,Go).call(this,e,{key:y}),{...m,location:m.location??Hte(a),bucket:o==null?void 0:o.bucket,key:y}};function $l(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function QC(t){const e=t.Expiration;if(e){const s=Math.floor((new Date(e)-Date.now())/1e3);if(s>9)return s}}function YC({meta:t,allowedMetaFields:e,querify:s=!1}){const r=e??Object.keys(t);return t?Object.fromEntries(r.filter(i=>t[i]!=null).map(i=>{const a=s?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const Kte={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Wc,cn,Ts,Vj,xa,_r,TM,Yp,Kc,EM,AM,Hh,Gc,Qo,Wh;const Xp=class Xp extends zO{constructor(s,r){super(s,{...Kte,uploadPartBytes:Xp.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});G(this,Ts);G(this,Wc);G(this,cn);P(this,"requests");P(this,"uploaderEvents");P(this,"uploaders");G(this,_r);G(this,Yp,(s,{key:r,uploadId:i})=>{const a=this.uppy.getFile(s.id);a!=null&&this.uppy.setFileState(s.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});G(this,Kc,s=>this.uppy.getFile(s.id)||s);G(this,Hh,async s=>{if(s.length===0)return;const r=this.uppy.getFilesByIds(s),i=LQ(r),a=$Q(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;N(this,Qo).call(this,!1);const u=new AbortController,h=y=>{y.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,ce(this,Ts,AM).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),m}return ce(this,Ts,EM).call(this,c)}),l=await Promise.allSettled(o);return N(this,Qo).call(this,!0),l});G(this,Gc,()=>{var s;(s=N(this,cn))==null||s.setCompanionHeaders(this.opts.headers)});G(this,Qo,s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:s}})});G(this,Wh,()=>{N(this,Qo).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",ce(this,Ts,Vj).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new eY(this.opts.limit),X(this,Wc,new Wte(this.requests,this.opts,N(this,Yp),N(this,Kc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return N(this,cn)}setOptions(s){N(this,Wc).setOptions(s),super.setOptions(s),ce(this,Ts,Vj).call(this,s)}resetUploaderReferences(s,r){this.uploaders[s]&&(this.uploaders[s].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[s]=null),this.uploaderEvents[s]&&(this.uploaderEvents[s].remove(),this.uploaderEvents[s]=null)}createMultipartUpload(s,r){ce(this,Ts,xa).call(this,"createMultipartUpload"),en(r);const i=ZS(this.opts.allowedMetaFields,s.meta),a=YC({meta:s.meta,allowedMetaFields:i});return N(this,cn).post("s3/multipart",{filename:s.name,type:s.type,metadata:a},{signal:r}).then($l)}listParts(s,{key:r,uploadId:i,signal:a},o){a??(a=o),ce(this,Ts,xa).call(this,"listParts"),en(a);const l=encodeURIComponent(r);return N(this,cn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then($l)}completeMultipartUpload(s,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),ce(this,Ts,xa).call(this,"completeMultipartUpload"),en(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return N(this,cn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then($l)}async createSignedURL(s,r){const i=await ce(this,Ts,TM).call(this,r),a=QC(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Bte({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${s.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":s.type}}}signPart(s,{uploadId:r,key:i,partNumber:a,signal:o}){if(ce(this,Ts,xa).call(this,"signPart"),en(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return N(this,cn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then($l)}abortMultipartUpload(s,{key:r,uploadId:i,signal:a}){ce(this,Ts,xa).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return N(this,cn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then($l)}getUploadParameters(s,r){ce(this,Ts,xa).call(this,"getUploadParameters");const{meta:i}=s,{type:a,name:o}=i,l=ZS(this.opts.allowedMetaFields,s.meta),c=YC({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return N(this,cn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:s,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(en(u),s==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,m)=>{const y=new XMLHttpRequest;y.open(a,s,!0),i&&Object.keys(i).forEach(v=>{y.setRequestHeader(v,i[v])}),y.responseType="text",typeof r=="number"&&(y.timeout=r*1e3);function b(){y.abort()}function j(){u==null||u.removeEventListener("abort",b)}u==null||u.addEventListener("abort",b),y.upload.addEventListener("progress",v=>{c(v)}),y.addEventListener("abort",()=>{j(),m(fO())}),y.addEventListener("timeout",()=>{j();const v=new Error("Request has expired");v.source={status:403},m(v)}),y.addEventListener("load",()=>{if(j(),y.status===403&&y.responseText.includes("<Message>Request has expired</Message>")){const S=new Error("Request has expired");S.source=y,m(S);return}if(y.status<200||y.status>=300){const S=new Error("Non 2xx");S.source=y,m(S);return}c==null||c({loaded:l,lengthComputable:!0});const v=y.getAllResponseHeaders().trim().split(/[\r\n]+/),p={__proto__:null};for(const S of v){const k=S.split(": "),C=k.shift(),_=k.join(": ");p[C]=_}const{etag:f,location:w}=p;if(a.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),f==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(f),h({...p,ETag:f})}),y.addEventListener("error",v=>{j();const p=new Error("Unknown error");p.source=v.target,m(p)}),y.send(o)})}install(){N(this,Qo).call(this,!0),this.uppy.addPreProcessor(N(this,Gc)),this.uppy.addUploader(N(this,Hh)),this.uppy.on("cancel-all",N(this,Wh))}uninstall(){this.uppy.removePreProcessor(N(this,Gc)),this.uppy.removeUploader(N(this,Hh)),this.uppy.off("cancel-all",N(this,Wh))}};Wc=new WeakMap,cn=new WeakMap,Ts=new WeakSet,Vj=function(s){s==null||!("endpoint"in s||"companionUrl"in s||"headers"in s||"companionHeaders"in s||"cookiesRule"in s||"companionCookiesRule"in s)||("companionUrl"in s&&!("endpoint"in s)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in s&&!("headers"in s)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in s&&!("cookiesRule"in s)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in s?X(this,cn,new SM(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in s&&N(this,Gc).call(this),"cookiesRule"in s&&(N(this,cn).opts.companionCookiesRule=s.cookiesRule)))},xa=function(s){if(!N(this,cn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${s}\` implementation.`)},_r=new WeakMap,TM=async function(s){if(en(s==null?void 0:s.signal),N(this,_r)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(ce(this,Ts,xa).call(this,"getTemporarySecurityCredentials"),X(this,_r,N(this,cn).get("s3/sts",s).then($l))):X(this,_r,r(s)),X(this,_r,await N(this,_r)),setTimeout(()=>{X(this,_r,null)},(QC(N(this,_r).credentials)||0)*500)}return N(this,_r)},Yp=new WeakMap,Kc=new WeakMap,EM=function(s){return new Promise((r,i)=>{const a=(u,h)=>{const m=this.uppy.getFile(s.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",s,u),this.resetUploaderReferences(s.id),i(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(s.id),this.uppy.emit("upload-success",N(this,Kc).call(this,s),h),u.location&&this.uppy.log(`Download ${s.name} from ${u.location}`),r(void 0)};if(s.data==null)throw new Error("File data is empty");const c=new qte(s.data,{companionComm:N(this,Wc),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",N(this,Kc).call(this,s),u)},file:s,shouldUseMultipart:this.opts.shouldUseMultipart,...s.s3Multipart});this.uploaders[s.id]=c;const d=new gY(this.uppy);this.uploaderEvents[s.id]=d,d.onFileRemove(s.id,u=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${u} was removed`)}),d.onCancelAll(s.id,()=>{c.abort(),this.resetUploaderReferences(s.id,{abort:!0}),r(`upload ${s.id} was canceled`)}),d.onFilePause(s.id,u=>{u?c.pause():c.start()}),d.onPauseAll(s.id,()=>{c.pause()}),d.onResumeAll(s.id,()=>{c.start()}),c.start()})},AM=function(s){var r;return{..."remote"in s&&((r=s.remote)==null?void 0:r.body),protocol:"s3-multipart",size:s.data.size,metadata:s.meta}},Hh=new WeakMap,Gc=new WeakMap,Qo=new WeakMap,Wh=new WeakMap,P(Xp,"VERSION",Mte.version);let zj=Xp;function Dp({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:s,onComplete:r,buttonClassName:i,buttonVariant:a="default",buttonSize:o="default",children:l}){const[c,d]=x.useState(!1),[u]=x.useState(()=>new wj({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(zj,{shouldUseMultipart:!1,getUploadParameters:s}).on("complete",h=>{r==null||r(h),d(!1)}));return n.jsxs("div",{children:[n.jsx($,{onClick:()=>d(!0),className:i,variant:a,size:o,type:"button","data-testid":"button-open-upload-modal",children:l}),n.jsx(gs,{open:c,onOpenChange:d,children:n.jsx(ls,{className:"max-w-2xl",children:n.jsx(Vee,{uppy:u,proudlyDisplayPoweredByUppy:!1})})})]})}const Gte=An({make:oe().min(1,"Make is required"),model:oe().min(1,"Model is required"),year:sr.number().min(1900).max(new Date().getFullYear()+1),registration:oe().min(1,"Registration is required"),category:oe().min(1,"Category is required"),totalTime:sr.number().min(0),engine:oe().optional(),avionics:oe().optional(),hourlyRate:oe().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid price (e.g., 150 or 150.50)").min(1,"Hourly rate is required"),location:oe().min(1,"Location is required"),airportCode:oe().optional(),description:oe().min(20,"Description must be at least 20 characters"),insuranceIncluded:Gi().default(!0),wetRate:Gi().default(!0),minFlightHours:sr.number().min(0).default(0),serialNumber:oe().min(1,"Serial number is required"),annualInspectionDate:oe().optional(),annualSignerName:oe().optional(),annualSignerCertNumber:oe().optional(),requires100Hour:Gi().default(!1),currentTach:sr.number().optional(),hour100InspectionTach:sr.number().optional(),maintenanceTrackingProvider:oe().optional()});function XC(){const[t,e]=x.useState([]),[s,r]=x.useState(["PPL"]),[i,a]=x.useState({insuranceDoc:null,annualInspectionDoc:null}),[,o]=Hs(),{toast:l}=qt(),{user:c}=vn(),d=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),u=async f=>{try{const w=[];for(const S of f.successful||[])if(S.uploadURL){const C=new URL(S.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:C,access:"publicRead"})});const _=S.uploadURL.split("?")[0];w.push(_)}w.length>0&&(e([...t,...w]),l({title:"Images uploaded successfully",description:`${w.length} image(s) added to your listing`}))}catch(w){console.error("Error processing aircraft image upload:",w),l({title:"Upload failed",description:"Failed to process the uploaded images. Please try again.",variant:"destructive"})}},h=Ln({resolver:$n(Gte),defaultValues:{insuranceIncluded:!0,wetRate:!0,minFlightHours:0,requires100Hour:!1}}),m=Re({mutationFn:async({formData:f,hasFiles:w})=>{if(w){const S=await fetch("/api/aircraft",{method:"POST",body:f,credentials:"include"});if(!S.ok){const k=await S.json();throw new Error(k.error||"Submission failed")}return{data:await S.json(),hasVerificationDocs:w}}else return{data:await Fe("POST","/api/aircraft",f),hasVerificationDocs:!1}},onSuccess:f=>{Ce.invalidateQueries({queryKey:["/api/aircraft"]}),f.hasVerificationDocs?l({title:"Listing Submitted",description:"Your aircraft listing is pending admin review. It will be visible in the marketplace once approved."}):l({title:"Aircraft Listed",description:"Your aircraft has been successfully listed and is now visible in the rental marketplace."}),o("/dashboard")},onError:f=>{if(hO(f)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(f.message.includes("403")||f.message.includes("verification")){l({title:"Verification Required",description:"Please complete account verification to list aircraft.",variant:"destructive"}),setTimeout(()=>{o("/profile")},1e3);return}l({title:"Error",description:f.message||"Failed to list aircraft",variant:"destructive"})}}),y=Re({mutationFn:async f=>{const S=await(await Fe("POST","/api/generate-description",{listingType:"aircraft-rental",details:f})).json();return console.log("AI Response received:",S),S},onSuccess:f=>{console.log("Setting description to:",f.description),h.setValue("description",f.description,{shouldValidate:!0,shouldDirty:!0}),l({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:f=>{l({title:"Generation Failed",description:f.message||"Could not generate description",variant:"destructive"})}}),b=()=>{const f=h.getValues();if(!f.make||!f.model){l({title:"More Information Needed",description:"Please fill in at least the Make and Model to generate a description.",variant:"destructive"});return}y.mutate({make:f.make,model:f.model,year:f.year,category:f.category,engine:f.engine,avionics:f.avionics,totalTime:f.totalTime,location:f.location})},j=f=>{console.log("Form submitted with data:",f),console.log("Form errors:",h.formState.errors);const w=Object.values(i).some(k=>k!==null),S={...f,requiredCertifications:s,images:t.length>0?t:[]};if(w){const k=new FormData;k.append("listingData",JSON.stringify(S)),i.insuranceDoc&&k.append("insuranceDoc",i.insuranceDoc),i.annualInspectionDoc&&k.append("annualInspectionDoc",i.annualInspectionDoc),m.mutate({formData:k,hasFiles:!0})}else m.mutate({formData:S,hasFiles:!1})},v=["PPL","IR","CPL","Multi-Engine","ATP"],p=(c==null?void 0:c.isVerified)||!1;return n.jsx("div",{className:"min-h-screen bg-background",children:n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[!p&&n.jsxs(ir,{className:"mb-6 border-yellow-500","data-testid":"alert-verification-info",children:[n.jsx(nB,{className:"h-4 w-4"}),n.jsxs(ar,{children:[n.jsx("strong",{children:"Verification Recommended"})," - Verified aircraft listings get priority placement and build trust with renters. Visit your ",n.jsx("a",{href:"/profile",className:"underline font-medium",children:"profile page"})," to complete verification."]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-list-aircraft-title",children:"List Your Aircraft"}),n.jsx("p",{className:"text-muted-foreground",children:"Share your aircraft with the pilot community and earn income when you're not flying"})]}),n.jsx(Fr,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(j),className:"space-y-8",children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Aircraft Information"}),n.jsx(Me,{children:"Provide basic details about your aircraft"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:h.control,name:"make",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Make"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Cessna",...f,"data-testid":"input-make"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"model",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Model"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"172 Skyhawk",...f,"data-testid":"input-model"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(te,{control:h.control,name:"year",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Year"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",placeholder:"2018",...f,"data-testid":"input-year"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"registration",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Registration"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"N12345",...f,"data-testid":"input-registration"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"category",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Category"}),n.jsxs(As,{onValueChange:f.onChange,defaultValue:f.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-category",children:n.jsx(Fs,{placeholder:"Select category"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"Single-Engine",children:"Single-Engine"}),n.jsx(ve,{value:"Multi-Engine",children:"Multi-Engine"}),n.jsx(ve,{value:"Jet",children:"Jet"}),n.jsx(ve,{value:"Turboprop",children:"Turboprop"}),n.jsx(ve,{value:"Helicopter",children:"Helicopter"})]})]}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:h.control,name:"totalTime",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Total Time (hours)"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",placeholder:"2500",...f,"data-testid":"input-total-time"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"engine",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Engine"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Lycoming IO-360",...f,"data-testid":"input-engine"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:h.control,name:"avionics",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Avionics Suite"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Garmin G1000",...f,"data-testid":"input-avionics"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"description",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Describe your aircraft, its condition, features, and any special notes for renters...",className:"min-h-32",...f,"data-testid":"textarea-description"})}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx(js,{className:"flex-1",children:"Provide detailed information to help renters understand your aircraft"}),n.jsx($,{type:"button",variant:"outline",size:"sm",onClick:b,disabled:y.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:y.isPending?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(f4,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),n.jsx(re,{})]})})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Location"})}),n.jsx(z,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:h.control,name:"location",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Location"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Santa Monica, CA",...f,"data-testid":"input-location"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"airportCode",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Airport Code"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"SMO",...f,"data-testid":"input-airport-code"})}),n.jsx(re,{})]})})]})})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Pricing & Requirements"})}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:h.control,name:"hourlyRate",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Hourly Rate ($)"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",placeholder:"145",...f,"data-testid":"input-hourly-rate"})}),n.jsx(js,{children:"Set your hourly rental rate. Ready Set Fly will collect 7.5% platform fee from both you and the renter."}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"minFlightHours",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Minimum Flight Hours"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",placeholder:"100",...f,"data-testid":"input-min-hours"})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{children:"Required Certifications"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map(f=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{id:`cert-${f}`,checked:s.includes(f),onCheckedChange:w=>{r(w?[...s,f]:s.filter(S=>S!==f))},"data-testid":`checkbox-required-cert-${f}`}),n.jsx("label",{htmlFor:`cert-${f}`,className:"text-sm cursor-pointer",children:f})]},f))})]}),n.jsx(te,{control:h.control,name:"insuranceIncluded",render:({field:f})=>n.jsxs(Z,{className:"flex items-center space-x-2",children:[n.jsx(ne,{children:n.jsx(ks,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-insurance"})}),n.jsx(J,{className:"!mt-0",children:"Insurance included in rate"})]})}),n.jsx(te,{control:h.control,name:"wetRate",render:({field:f})=>n.jsxs(Z,{className:"flex items-center space-x-2",children:[n.jsx(ne,{children:n.jsx(ks,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-wet-rate"})}),n.jsx(J,{className:"!mt-0",children:"Wet rate (fuel included)"})]})})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Owner & Aircraft Verification"}),n.jsx(Me,{children:"Provide insurance and annual inspection documentation for verification"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:h.control,name:"serialNumber",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Aircraft Serial Number"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Enter serial number",...f,"data-testid":"input-serial-number"})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{children:"Aircraft Insurance Certificate *"}),n.jsx(Q,{type:"file",accept:"image/*,.pdf",onChange:f=>{var S;const w=(S=f.target.files)==null?void 0:S[0];w&&a(k=>({...k,insuranceDoc:w}))},"data-testid":"input-insurance-doc"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload aircraft insurance certificate"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{children:"Annual Inspection Certificate *"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[n.jsx(te,{control:h.control,name:"annualInspectionDate",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Inspection Date"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",...f,"data-testid":"input-annual-date"})}),n.jsx(re,{})]})}),n.jsx(te,{control:h.control,name:"annualSignerName",render:({field:f})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Signer Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"A&P/IA name",...f,"data-testid":"input-signer-name"})}),n.jsx(re,{})]})})]}),n.jsx(Q,{type:"file",accept:"image/*,.pdf",onChange:f=>{var S;const w=(S=f.target.files)==null?void 0:S[0];w&&a(k=>({...k,annualInspectionDoc:w}))},"data-testid":"input-annual-doc"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload annual inspection certificate"})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Photos"}),n.jsx(Me,{children:"Add up to 15 photos of your aircraft. Upload multiple images at once using cloud storage."})]}),n.jsx(z,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.map((f,w)=>n.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[n.jsx("img",{src:f,alt:`Aircraft ${w+1}`,className:"w-full h-full object-cover"}),n.jsx($,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>e(t.filter((S,k)=>k!==w)),children:n.jsx(sm,{className:"h-4 w-4"})})]},w)),t.length<15&&n.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center gap-2",children:n.jsxs(Dp,{onGetUploadParameters:d,onComplete:u,allowedFileTypes:["image/*"],maxNumberOfFiles:15-t.length,buttonClassName:"w-full h-full flex flex-col items-center justify-center gap-2",buttonVariant:"ghost",children:[n.jsx(tm,{className:"h-8 w-8 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photos"})]})})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," of 15 photos uploaded"]})]})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx($,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:m.isPending,"data-testid":"button-submit-listing",children:m.isPending?"Listing...":"List Aircraft"}),n.jsx($,{type:"button",variant:"outline",size:"lg","data-testid":"button-cancel-listing",onClick:()=>o("/dashboard"),children:"Cancel"})]})]})})]})})}const Qte=mQ.omit({userId:!0}).extend({category:oe().min(1,"Category is required"),title:oe().min(3,"Title must be at least 3 characters"),description:oe().min(20,"Description must be at least 20 characters"),location:oe().optional(),city:oe().optional(),state:oe().optional(),zipCode:oe().optional(),contactEmail:oe().email("Valid email required").min(1,"Contact email is required"),contactPhone:oe().optional(),price:oe().optional(),tier:Vs(["basic","standard","premium"]).optional()});An({make:oe().min(1,"Make is required"),model:oe().min(1,"Model is required"),year:oe().min(4,"Year is required"),registration:oe().optional(),totalTime:oe().optional(),engineTime:oe().optional(),engineType:Vs(["Single-Engine","Multi-Engine","Turboprop","Jet"]).optional(),engineCount:oe().optional(),seatingCapacity:oe().optional(),avionicsPackage:oe().optional(),usefulLoad:oe().optional(),annualDueDate:oe().optional(),interiorCondition:Vs(["excellent","good","fair","needs-work"]).optional(),exteriorCondition:Vs(["excellent","good","fair","needs-work"]).optional(),damageHistory:oe().optional()});An({jobTitle:oe().min(1,"Job title is required"),company:oe().min(1,"Company is required"),employmentType:oe().min(1,"Employment type is required"),salaryRange:oe().optional(),requirements:oe().optional()});An({instructorName:oe().min(1,"Instructor name is required"),certifications:Kr(oe()).min(1,"At least one certification required"),hourlyRate:oe().optional(),specialties:oe().optional()});An({schoolName:oe().min(1,"School name is required"),aircraftFleet:oe().optional(),programsOffered:oe().optional(),pricingInfo:oe().optional()});An({businessName:oe().min(1,"Business name is required"),certifications:Kr(oe()).optional(),specialties:oe().optional(),serviceArea:oe().optional()});An({companyName:oe().min(1,"Company name is required"),aircraftAvailable:oe().optional(),serviceArea:oe().optional(),pricingStructure:oe().optional()});const Yte=[{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"charter",label:"Charter Services"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight School"},{value:"mechanic",label:"Mechanic Services"},{value:"job",label:"Aviation Jobs"}];function ZC(){const[,t]=Hs(),{toast:e}=qt(),{user:s}=vn(),[r,i]=x.useState([]),[a,o]=x.useState(""),[l,c]=x.useState(null),[d,u]=x.useState(!1),[h,m]=x.useState(""),[y,b]=px("/edit-marketplace-listing/:id"),j=y?b==null?void 0:b.id:null,{data:v,isLoading:p}=ze({queryKey:["/api/marketplace",j],queryFn:async()=>{const A=await fetch(`/api/marketplace/${j}`);if(!A.ok)throw new Error("Failed to fetch listing");return A.json()},enabled:!!j&&y}),f=Ln({resolver:$n(Qte),defaultValues:{category:"",title:"",description:"",location:"",contactEmail:(s==null?void 0:s.email)||"",contactPhone:"",price:"",tier:"basic",details:{},images:[],isActive:!0}});x.useEffect(()=>{s!=null&&s.email&&!f.getValues("contactEmail")&&f.setValue("contactEmail",s.email)},[s==null?void 0:s.email,f]),x.useEffect(()=>{v&&y&&(f.reset({category:v.category,title:v.title,description:v.description,location:v.location||void 0,city:v.city||void 0,state:v.state||void 0,zipCode:v.zipCode||void 0,contactEmail:v.contactEmail,contactPhone:v.contactPhone||void 0,price:v.price||void 0,tier:v.tier||"basic",details:v.details||{},images:v.images||[],isActive:v.isActive}),v.images&&i(v.images))},[v,y,f]);const w=f.watch("category"),S=f.watch("details.tier"),C=((A,K)=>A==="aircraft-sale"?K==="basic"?3:K==="standard"?5:K==="premium"?10:3:A==="job"||A==="cfi"?1:A==="flight-school"||A==="mechanic"?3:5)(w,S),_=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),T=async A=>{try{const K=[];for(const M of A.successful||[])if(M.uploadURL){const O=await(await fetch("/api/listing-images",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageURL:M.uploadURL}),credentials:"include"})).json();K.push(O.objectPath)}i([...r,...K]),e({title:"Images Uploaded Successfully",description:`Added ${K.length} image(s) to your listing.`})}catch(K){console.error("Error processing uploads:",K),e({title:"Upload Error",description:"Some images failed to upload. Please try again.",variant:"destructive"})}},R=A=>{i(r.filter((K,M)=>M!==A))};x.useEffect(()=>{if(r.length>C){const A=r.slice(0,C);i(A),e({title:"Images Trimmed",description:`Reduced to ${C} images for this ${w==="aircraft-sale"?"tier":"category"}.`})}},[w,S,C,r,e]),s!=null&&s.isVerified;const D=(s==null?void 0:s.isSuperAdmin)||!1,L=async()=>{if(!a.trim()){c(null);return}u(!0);try{const K=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,category:w})})).json();c(K.valid),K.valid?e({title:"Promo Code Applied!",description:K.description||"You've unlocked a free 7-day listing!"}):e({title:"Invalid Promo Code",description:K.message||"This promo code is not valid",variant:"destructive"})}catch{c(!1),e({title:"Error",description:"Failed to validate promo code",variant:"destructive"})}finally{u(!1)}},B=Re({mutationFn:async({listingType:A,details:K})=>{const F=await(await Fe("POST","/api/generate-description",{listingType:A,details:K})).json();return console.log("AI Response received:",F),F},onSuccess:A=>{console.log("Setting description to:",A.description),f.setValue("description",A.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:A=>{e({title:"Generation Failed",description:A.message||"Could not generate description",variant:"destructive"})}}),ee=()=>{const A=f.getValues();if(!A.category){e({title:"Category Required",description:"Please select a category first.",variant:"destructive"});return}const K=h.trim()||A.title;if(!K){e({title:"Prompt Required",description:"Please enter either a title or an AI prompt.",variant:"destructive"});return}const F={"aircraft-sale":"aircraft-sale",job:"aviation-job",cfi:"cfi-listing","flight-school":"flight-school",mechanic:"mechanic",charter:"charter"}[A.category];B.mutate({listingType:F,details:{title:K,price:A.price,location:A.location,...A.details}})},W=Re({mutationFn:async A=>y&&j?await Fe("PATCH",`/api/marketplace/${j}`,A):await Fe("POST","/api/marketplace",A),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/marketplace"]}),j&&Ce.invalidateQueries({queryKey:["/api/marketplace",j]}),e({title:"Success",description:y?"Your marketplace listing has been updated.":"Your marketplace listing has been created."}),t(y?"/my-listings":"/marketplace")},onError:A=>{if(hO(A)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(A.message.includes("403")||A.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to create listings.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:A.message||"Failed to create listing",variant:"destructive"})}}),se=A=>{var F,O,he,_e,tt,Ze,St,ft,je,Be;console.log("Form submitted with data:",A),console.log("Form errors:",f.formState.errors),console.log("User data:",s);let K=null;if(A.category==="aircraft-sale"?(!((F=A.details)!=null&&F.make)||!((O=A.details)!=null&&O.model)||!((he=A.details)!=null&&he.year))&&(K="Please fill in all required aircraft details (make, model, year)"):A.category==="job"?(!((_e=A.details)!=null&&_e.jobTitle)||!((tt=A.details)!=null&&tt.company)||!((Ze=A.details)!=null&&Ze.employmentType))&&(K="Please fill in all required job details (title, company, employment type)"):A.category==="cfi"?(St=A.details)!=null&&St.instructorName||(K="Please provide instructor name"):A.category==="flight-school"?(ft=A.details)!=null&&ft.schoolName||(K="Please provide school name"):A.category==="mechanic"?(je=A.details)!=null&&je.businessName||(K="Please provide business name"):A.category==="charter"&&((Be=A.details)!=null&&Be.companyName||(K="Please provide company name")),K){e({title:"Validation Error",description:K,variant:"destructive"});return}if(r.length>C){e({title:"Too Many Images",description:`Please reduce to ${C} images for this ${A.category==="aircraft-sale"?"tier":"category"}.`,variant:"destructive"});return}if(y&&j){console.log("Updating existing listing..."),W.mutate({...A,price:A.price||void 0,images:r.length>0?r:[]});return}if(D){console.log("Super admin creating listing directly..."),W.mutate({...A,price:A.price||void 0,images:r.length>0?r:[],promoCode:l?a:void 0});return}const M={...A,price:A.price||void 0,images:r.length>0?r:[],promoCode:l?a:void 0};localStorage.setItem("pendingListingData",JSON.stringify(M)),t("/marketplace/listing/checkout")};return n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[n.jsxs($,{variant:"ghost",onClick:()=>t("/marketplace"),className:"mb-6","data-testid":"button-back",children:[n.jsx(bx,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-page-title",children:y?"Edit Marketplace Listing":"Create Marketplace Listing"}),n.jsx("p",{className:"text-muted-foreground",children:y?"Update your listing details below":"List your services, aircraft for sale, job openings, or other aviation-related offerings"})]}),n.jsx(Fr,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(se,A=>{console.error("Form validation errors:",A);const K=Object.keys(A)[0],M=A[K];M&&typeof M=="object"&&"message"in M&&e({title:"Form Validation Error",description:String(M.message)||"Please check all required fields",variant:"destructive"})}),className:"space-y-6",children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Basic Information"}),n.jsx(Me,{children:"Choose a category and provide details about your listing"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"category",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Category"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-category",children:n.jsx(Fs,{placeholder:"Select a category"})})}),n.jsx(Ns,{children:Yte.map(K=>n.jsx(ve,{value:K.value,children:K.label},K.value))})]}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"title",render:({field:A})=>{const K={"aircraft-sale":"e.g., 2018 Cessna 172 Skyhawk - Low Time",job:"e.g., Commercial Pilot - Regional Airline",cfi:"e.g., Experienced CFI - Instrument & Multi-Engine","flight-school":"e.g., ABC Flight Academy - Professional Pilot Training",mechanic:"e.g., Certified A&P Mechanic - Aircraft Maintenance",charter:"e.g., Luxury Charter Services - Citation Jet"};return n.jsxs(Z,{children:[n.jsx(J,{children:"Title"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:K[w]||"Enter a descriptive title",...A,"data-testid":"input-title"})}),n.jsx(re,{})]})}}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"ai-prompt",children:"AI Prompt (Optional)"}),n.jsx(Q,{id:"ai-prompt",placeholder:"e.g., Describe a well-maintained Cessna 172 with recent avionics upgrade",value:h,onChange:A=>m(A.target.value),"data-testid":"input-ai-prompt"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide specific details for AI to generate a description, or leave blank to use the title"})]}),n.jsx(te,{control:f.control,name:"description",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Provide detailed information about your listing...",className:"min-h-[120px]",...A,"data-testid":"textarea-description"})}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx(js,{className:"flex-1",children:"Include all relevant details potential customers should know"}),n.jsx($,{type:"button",variant:"outline",size:"sm",onClick:ee,disabled:B.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:B.isPending?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(f4,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(te,{control:f.control,name:"city",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"City (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., Denver",...A,"data-testid":"input-city"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"state",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"State (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., CO",...A,"data-testid":"input-state"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"zipCode",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"ZIP Code (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 80202",...A,"data-testid":"input-zipcode"})}),n.jsx(re,{})]})})]}),w==="aircraft-sale"&&n.jsx(te,{control:f.control,name:"price",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Asking Price (Optional)"}),n.jsx(ne,{children:n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{type:"number",placeholder:"0.00",className:"pl-10",...A,"data-testid":"input-price"})]})}),n.jsx(js,{children:"Leave blank if price varies or negotiable"}),n.jsx(re,{})]})})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Contact Information"}),n.jsx(Me,{children:"How should interested parties reach you?"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"contactEmail",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Contact Email"}),n.jsx(ne,{children:n.jsx(Q,{type:"email",placeholder:"your@email.com",...A,"data-testid":"input-contact-email"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"contactPhone",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Contact Phone (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"(555) 123-4567",...A,"data-testid":"input-contact-phone"})}),n.jsx(re,{})]})})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Promo Code (Optional)"}),n.jsx(Me,{children:"Enter a promo code for a free 7-day listing or other discounts"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{placeholder:"Enter promo code",value:a,onChange:A=>{o(A.target.value.toUpperCase()),c(null)},"data-testid":"input-promo-code",className:"flex-1"}),n.jsx($,{type:"button",onClick:L,disabled:!a.trim()||d,"data-testid":"button-check-promo",children:d?"Checking...":"Apply"})]}),l===!0&&n.jsx("div",{className:"mt-2 text-sm text-chart-2 flex items-center gap-1",children:" Promo code applied! Your listing is free for 7 days."}),l===!1&&n.jsx("div",{className:"mt-2 text-sm text-destructive flex items-center gap-1",children:" Invalid promo code"})]})]}),w&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Photos"}),n.jsxs(Me,{children:["Upload up to ",C," ",C===1?"photo":"photos",w==="aircraft-sale"?` (${S||"basic"} tier)`:"",w==="job"&&" - Company logo or branding",w==="cfi"&&" - Professional headshot"]})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.map((A,K)=>n.jsxs("div",{className:"relative aspect-square rounded-md border overflow-hidden group",children:[n.jsx("img",{src:A,alt:`Upload ${K+1}`,className:"w-full h-full object-cover"}),n.jsx($,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>R(K),"data-testid":`button-remove-image-${K}`,children:n.jsx(sm,{className:"h-3 w-3"})})]},K)),r.length<C&&n.jsxs(Dp,{maxNumberOfFiles:C-r.length,maxFileSize:10*1024*1024,onGetUploadParameters:_,onComplete:T,buttonClassName:"aspect-square rounded-md border-2 border-dashed flex flex-col items-center justify-center w-full h-full",buttonVariant:"ghost",children:[n.jsx(tm,{className:"h-8 w-8 text-muted-foreground mb-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload"})]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," of ",C," photos uploaded",w==="aircraft-sale"&&S&&n.jsx("span",{className:"ml-2 text-accent",children:"(Upgrade tier for more photos)"})]})]})]}),w==="aircraft-sale"&&n.jsxs(n.Fragment,{children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Aircraft Details"}),n.jsx(Me,{children:"Specific information about the aircraft for sale"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(te,{control:f.control,name:"details.make",render:({field:A})=>n.jsxs(Z,{children:[n.jsxs(J,{className:"flex items-center gap-1",children:["Make ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., Cessna",...A,"data-testid":"input-aircraft-make",required:!0})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.model",render:({field:A})=>n.jsxs(Z,{children:[n.jsxs(J,{className:"flex items-center gap-1",children:["Model ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 172 Skyhawk",...A,"data-testid":"input-aircraft-model",required:!0})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.year",render:({field:A})=>n.jsxs(Z,{children:[n.jsxs(J,{className:"flex items-center gap-1",children:["Year ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 2018",...A,"data-testid":"input-aircraft-year",required:!0})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(te,{control:f.control,name:"details.registration",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Registration (N-Number)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., N12345",...A,"data-testid":"input-aircraft-registration"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.totalTime",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Total Time (hours)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 3500",...A,"data-testid":"input-aircraft-total-time"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.engineTime",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Engine Time (hours)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 500 SMOH",...A,"data-testid":"input-aircraft-engine-time"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.engineType",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Engine Type"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-aircraft-engine-type",children:n.jsx(Fs,{placeholder:"Select engine type"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"Single-Engine",children:"Single-Engine"}),n.jsx(ve,{value:"Multi-Engine",children:"Multi-Engine"}),n.jsx(ve,{value:"Turboprop",children:"Turboprop"}),n.jsx(ve,{value:"Jet",children:"Jet"})]})]}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:f.control,name:"details.seats",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Number of Seats"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 4",...A,"data-testid":"input-aircraft-seats"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.usefulLoad",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Useful Load (lbs)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 1,200",...A,"data-testid":"input-aircraft-useful-load"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:f.control,name:"details.avionicsPackage",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Avionics Package"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., Garmin G1000, dual GNS 430",...A,"data-testid":"input-aircraft-avionics"})}),n.jsx(js,{className:"text-xs",children:"Describe GPS, radios, autopilot, and other avionics"}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.annualDue",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Annual Due Date"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., 12/2025",type:"month",...A,"data-testid":"input-aircraft-annual-due"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:f.control,name:"details.interiorCondition",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Interior Condition"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-interior-condition",children:n.jsx(Fs,{placeholder:"Select condition"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"excellent",children:"Excellent"}),n.jsx(ve,{value:"good",children:"Good"}),n.jsx(ve,{value:"fair",children:"Fair"}),n.jsx(ve,{value:"needs-work",children:"Needs Work"})]})]}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.exteriorCondition",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Exterior/Paint Condition"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-exterior-condition",children:n.jsx(Fs,{placeholder:"Select condition"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"excellent",children:"Excellent"}),n.jsx(ve,{value:"good",children:"Good"}),n.jsx(ve,{value:"fair",children:"Fair"}),n.jsx(ve,{value:"needs-work",children:"Needs Work"})]})]}),n.jsx(re,{})]})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsx(te,{control:f.control,name:"details.damageHistory",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Damage History"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., None, or describe any incidents",...A,"data-testid":"input-aircraft-damage-history"})}),n.jsx(js,{className:"text-xs",children:"Disclose any accident/incident history or major repairs"}),n.jsx(re,{})]})})})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Listing Tier"}),n.jsx(Me,{children:"Choose your listing package"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"tier",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Select Tier"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-listing-tier",children:n.jsx(Fs,{placeholder:"Select a tier"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"basic",children:n.jsxs("div",{className:"flex flex-col py-1",children:[n.jsx("span",{className:"font-semibold",children:"Basic - $25/month"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 3 photos"})]})}),n.jsx(ve,{value:"standard",children:n.jsxs("div",{className:"flex flex-col py-1",children:[n.jsx("span",{className:"font-semibold",children:"Standard - $40/month"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 5 photos, priority placement"})]})}),n.jsx(ve,{value:"premium",children:n.jsxs("div",{className:"flex flex-col py-1",children:[n.jsx("span",{className:"font-semibold",children:"Premium - $100/month"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 10 photos, featured on homepage"})]})})]})]}),n.jsx(re,{})]})}),n.jsxs("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md",children:[n.jsx("p",{className:"font-medium mb-1",children:"Tier Benefits:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Basic: Standard listing visibility"}),n.jsx("li",{children:"Standard: 2x visibility, priority in search results"}),n.jsx("li",{children:"Premium: 5x visibility, homepage feature, social media promotion"})]})]})]})]})]}),w==="job"&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Job Details"}),n.jsx(Me,{children:"Information about the aviation job opening"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:f.control,name:"details.jobTitle",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Job Title"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., Commercial Pilot",...A,"data-testid":"input-job-title"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.company",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Company"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., ABC Airlines",...A,"data-testid":"input-job-company"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(te,{control:f.control,name:"details.employmentType",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Employment Type"}),n.jsxs(As,{onValueChange:A.onChange,defaultValue:A.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-employment-type",children:n.jsx(Fs,{placeholder:"Select type"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"full-time",children:"Full-time"}),n.jsx(ve,{value:"part-time",children:"Part-time"}),n.jsx(ve,{value:"contract",children:"Contract"}),n.jsx(ve,{value:"temporary",children:"Temporary"})]})]}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.salaryRange",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Salary Range (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., $60k-$80k",...A,"data-testid":"input-salary-range"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:f.control,name:"details.requirements",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Requirements (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"List qualifications and requirements...",className:"min-h-[80px]",...A,"data-testid":"textarea-job-requirements"})}),n.jsx(re,{})]})})]})]}),w==="cfi"&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"CFI Details"}),n.jsx(Me,{children:"Information about your flight instruction services"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"details.instructorName",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Instructor Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Your name",...A,"data-testid":"input-instructor-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.hourlyRate",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Hourly Rate (Optional)"}),n.jsx(ne,{children:n.jsxs("div",{className:"relative",children:[n.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{type:"number",placeholder:"0.00",className:"pl-10",...A,"data-testid":"input-cfi-hourly-rate"})]})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.specialties",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Specialties (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"e.g., Instrument training, tailwheel, aerobatics...",className:"min-h-[80px]",...A,"data-testid":"textarea-cfi-specialties"})}),n.jsx(re,{})]})})]})]}),w==="flight-school"&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Flight School Details"}),n.jsx(Me,{children:"Information about your flight school"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"details.schoolName",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"School Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., ABC Flight Academy",...A,"data-testid":"input-school-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.aircraftFleet",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Aircraft Fleet (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"List your training aircraft...",className:"min-h-[80px]",...A,"data-testid":"textarea-aircraft-fleet"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.programsOffered",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Programs Offered (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"e.g., Private Pilot, Instrument Rating, Commercial...",className:"min-h-[80px]",...A,"data-testid":"textarea-programs-offered"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.pricingInfo",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Pricing Information (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Describe your pricing structure...",className:"min-h-[80px]",...A,"data-testid":"textarea-pricing-info"})}),n.jsx(re,{})]})})]})]}),w==="mechanic"&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Mechanic Services"}),n.jsx(Me,{children:"Information about your aviation maintenance services"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"details.businessName",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Business Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., ABC Aviation Maintenance",...A,"data-testid":"input-business-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.specialties",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Specialties (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"e.g., Piston engines, avionics, annuals...",className:"min-h-[80px]",...A,"data-testid":"textarea-mechanic-specialties"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.serviceArea",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Service Area (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., Southern California",...A,"data-testid":"input-service-area"})}),n.jsx(re,{})]})})]})]}),w==="charter"&&n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Charter Services"}),n.jsx(Me,{children:"Information about your charter operation"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx(te,{control:f.control,name:"details.companyName",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Company Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., ABC Charter Services",...A,"data-testid":"input-charter-company-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.aircraftAvailable",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Aircraft Available (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"List your charter aircraft...",className:"min-h-[80px]",...A,"data-testid":"textarea-charter-aircraft"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.serviceArea",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Service Area (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"e.g., West Coast, USA",...A,"data-testid":"input-charter-service-area"})}),n.jsx(re,{})]})}),n.jsx(te,{control:f.control,name:"details.pricingStructure",render:({field:A})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Pricing Structure (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Describe your charter rates...",className:"min-h-[80px]",...A,"data-testid":"textarea-charter-pricing"})}),n.jsx(re,{})]})})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx($,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:W.isPending||y&&p,"data-testid":"button-submit-listing",children:p?"Loading...":W.isPending?y?"Updating...":"Creating...":y?"Update Listing":"Create Listing"}),n.jsx($,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/marketplace"),"data-testid":"button-cancel",children:"Cancel"})]})]})})]})}const Xte={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40},Hd=.0825,ef=(t,e)=>{const s=Xte[t];return typeof s=="object"&&e?s[e]||s.basic||25:typeof s=="number"?s:25},Zte=({listingData:t,onSuccess:e,isFree:s,promoCode:r,discountAmount:i,originalAmount:a,finalAmount:o,completionToken:l,isUpgradeMode:c,upgradeContext:d})=>{const{toast:u}=qt(),[h,m]=x.useState(!1),[y,b]=x.useState(!1),[j,v]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{fetch("/api/paypal/config").then(S=>S.json()).then(S=>v(S)).catch(S=>{console.error("Failed to fetch PayPal config:",S),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),x.useEffect(()=>{if(!j)return;const S=async()=>{if(window.paypal){k();return}const C=document.createElement("script");C.src=`https://www.paypal.com/sdk/js?client-id=${j.clientId}&components=card-fields&disable-funding=paylater`,C.async=!0,C.onload=()=>{k()},C.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(C)},k=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const C=window.paypal.CardFields({createOrder:async()=>{const _=c?"/api/paypal/create-order-upgrade":"/api/paypal/create-order-listing",T=c?{listingId:d.listingId,newTier:d.newTier}:{category:t.category,tier:t.tier,promoCode:r||null,discountAmount:i?i.toString():null,finalAmount:o?o.toString():null};return(await(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(T)})).json()).id},onApprove:async _=>{m(!0);try{const T=await fetch(`/api/paypal/capture-order/${_.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),R=await T.json();if(!T.ok||R.status!=="COMPLETED")throw new Error("Payment capture failed");u({title:"Payment Successful",description:"Your listing is being created!"});const D={...t,transactionId:_.orderID};localStorage.setItem("pendingListingData",JSON.stringify(D)),e(_.orderID)}catch(T){u({title:"Payment Failed",description:T.message||"An unexpected error occurred",variant:"destructive"}),m(!1)}},onError:_=>{console.error("PayPal error:",_),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),m(!1)}});C.isEligible()?(C.NumberField().render("#card-number-field"),C.ExpiryField().render("#card-expiry-field"),C.CVVField().render("#card-cvv-field"),C.NameField().render("#card-name-field"),p.current=C,b(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(C){console.error("Error initializing card fields:",C),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};S()},[j,t.category,t.tier]);const f=async S=>{if(S.preventDefault(),!!p.current){m(!0);try{await p.current.submit()}catch(k){u({title:"Payment failed",description:k.message||"Please check your card details and try again",variant:"destructive"}),m(!1)}}},w=async()=>{m(!0);try{const S=await Fe("POST","/api/marketplace/complete-free-listing",{completionToken:l,listingData:t});u({title:"Success",description:"Your free listing has been created!"}),e("FREE-ORDER")}catch(S){u({title:"Failed to create listing",description:S.message||"An unexpected error occurred",variant:"destructive"})}finally{m(!1)}};return s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:" 100% Discount Applied!"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your listing is completely free with the applied promo code."})]}),n.jsx($,{onClick:w,size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:h,"data-testid":"button-claim-free-listing",children:h?"Creating Listing...":"Claim Free Listing"})]}):n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),n.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),n.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),n.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),n.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),n.jsx($,{type:"submit",size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:!y||h,"data-testid":"button-confirm-payment",children:h?"Processing...":"Confirm Payment"}),n.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",n.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),n.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})};function Jte(){var ee;const[t,e]=Hs();px("/marketplace/listing/checkout");const[s,r]=x.useState(null),[i,a]=x.useState(!1),[o,l]=x.useState(null),{toast:c}=qt(),[d,u]=x.useState(""),[h,m]=x.useState(null),[y,b]=x.useState(!1),[j,v]=x.useState(""),[p,f]=x.useState(0),[w,S]=x.useState(0),[k,C]=x.useState(null);x.useEffect(()=>{if(new URLSearchParams(window.location.search).get("mode")==="upgrade"){a(!0);const A=localStorage.getItem("upgradeContext");if(!A){c({title:"Error",description:"No upgrade data found. Please try again.",variant:"destructive"}),e("/my-listings");return}const K=JSON.parse(A);l(K),S(K.totalWithTax)}else{const A=localStorage.getItem("pendingListingData");if(!A){c({title:"Error",description:"No listing data found. Please try again.",variant:"destructive"}),e("/create-marketplace-listing");return}const K=JSON.parse(A);r(K)}},[e,c]);const _=async W=>{if(i&&o){try{await Fe("POST",`/api/marketplace/${o.listingId}/complete-upgrade`,{orderId:W,newTier:o.newTier}),localStorage.removeItem("upgradeContext"),Ce.invalidateQueries({queryKey:["/api/marketplace"]}),Ce.invalidateQueries({queryKey:["/api/marketplace",o.listingId]}),c({title:"Upgrade Successful",description:"Your listing has been upgraded to "+o.newTier+" tier!"}),e("/my-listings")}catch(se){c({title:"Upgrade Failed",description:se.message||"Could not complete upgrade. Please contact support.",variant:"destructive"})}return}if(!(!s||!W)){if(W==="FREE-ORDER"){localStorage.removeItem("pendingListingData"),Ce.invalidateQueries({queryKey:["/api/marketplace"]}),e("/marketplace");return}try{const se=ef(s.category,s.tier),A=se*Hd,K=se+A,M={...s,paymentIntentId:W,promoCodeUsed:(h==null?void 0:h.code)||null,discountAmount:p.toString(),originalAmount:K.toString(),finalAmount:(w||K).toString()};await Fe("POST","/api/marketplace",M),localStorage.removeItem("pendingListingData"),Ce.invalidateQueries({queryKey:["/api/marketplace"]}),c({title:"Success",description:"Your marketplace listing has been created!"}),e("/marketplace")}catch(se){c({title:"Listing Creation Failed",description:se.message||"Could not create listing. Please contact support.",variant:"destructive"})}}},T=async()=>{b(!0),v("");try{const W=ef(s.category,s.tier),se=W*Hd,A=W+se,M=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:d,context:"marketplace",amount:A})})).json();if(!M.valid)throw new Error(M.message||"Invalid promo code");m(M);let F=0;M.discountType==="percentage"?F=A*parseFloat(M.discountValue)/100:M.discountType==="fixed"&&(F=parseFloat(M.discountValue)),f(F);const O=Math.max(0,A-F);S(O),c({title:"Promo Code Applied",description:M.description||"Discount applied successfully!"})}catch(W){v(W.message)}finally{b(!1)}},R=()=>{m(null),u(""),f(0),S(0),v(""),C(null)};if(x.useEffect(()=>{if(h&&w===0&&s){const W=ef(s.category,s.tier),se=W*Hd,A=W+se,K={type:"free-marketplace-listing",userId:"CURRENT_USER",promoCode:h.code,originalAmount:A.toString(),discountAmount:p.toString(),timestamp:Date.now()},M=btoa(JSON.stringify(K));C(M)}},[h,w,p,s]),!s&&!o)return n.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})});let D,L,B;if(i&&o)D=o.upgradeDelta,L=D*Hd,B=o.totalWithTax;else if(s)D=ef(s.category,s.tier),L=D*Hd,B=D+L;else return null;return n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[n.jsxs($,{variant:"ghost",onClick:()=>e(i?"/my-listings":"/create-marketplace-listing"),className:"mb-6","data-testid":"button-back",children:[n.jsx(bx,{className:"mr-2 h-4 w-4"}),i?"Back to My Listings":"Back to Listing"]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{className:"flex items-center gap-2",children:i?"Complete Upgrade Payment":"Complete Your Payment"}),n.jsx(Me,{children:"Secure payment powered by PayPal"})]}),n.jsxs(z,{className:"space-y-6",children:[n.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[n.jsx("h3",{className:"font-semibold",children:i?"Upgrade Summary":"Order Summary"}),i&&o?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Listing:"}),n.jsx("span",{className:"font-medium",children:o.listingTitle})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Current Tier:"}),n.jsx("span",{className:"capitalize",children:o.currentTier})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"New Tier:"}),n.jsx("span",{className:"capitalize font-medium text-primary",children:o.newTier})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{children:"Upgrade Fee:"}),n.jsxs("span",{children:["$",D.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Sales Tax (8.25%):"}),n.jsxs("span",{children:["$",L.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["$",B.toFixed(2)]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Listing Type:"}),n.jsx("span",{className:"capitalize",children:(ee=s==null?void 0:s.category)==null?void 0:ee.replace("-"," ")})]}),(s==null?void 0:s.tier)&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Tier:"}),n.jsx("span",{className:"capitalize",children:s.tier})]}),n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsx("span",{children:"Base Price:"}),n.jsxs("span",{children:["$",D.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Sales Tax (8.25%):"}),n.jsxs("span",{children:["$",L.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Total (Monthly):"}),n.jsxs("span",{children:["$",B.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Promo Code"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{placeholder:"Enter promo code",value:d,onChange:W=>u(W.target.value.toUpperCase()),disabled:h!==null,"data-testid":"input-promo-code"}),h?n.jsx($,{variant:"outline",onClick:R,"data-testid":"button-remove-promo",children:"Remove"}):n.jsx($,{onClick:T,disabled:!d||y,"data-testid":"button-apply-promo",children:y?"Applying...":"Apply"})]}),h&&n.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:['Promo code "',h.code,'" applied! ',h.description]}),j&&n.jsx("div",{className:"text-sm text-destructive",children:j})]}),h&&n.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Original Total:"}),n.jsxs("span",{className:"line-through",children:["$",B.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-$",p.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[n.jsx("span",{children:"Final Total:"}),n.jsxs("span",{children:["$",w.toFixed(2)]})]})]}),n.jsx(Zte,{listingData:s||{},onSuccess:_,isFree:h!==null&&w===0,promoCode:(h==null?void 0:h.code)||null,discountAmount:p,originalAmount:B,finalAmount:w||B,completionToken:k,isUpgradeMode:i,upgradeContext:o}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your payment information is securely processed by PayPal. We never store your card details."})]})]})]})}function ese({rental:t,aircraft:e,onSuccess:s}){const[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(null),d=x.useRef(null),{toast:u}=qt();x.useEffect(()=>{fetch("/api/paypal/config").then(m=>m.json()).then(m=>c(m)).catch(m=>{console.error("Failed to fetch PayPal config:",m),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),x.useEffect(()=>{if(!l)return;const m=async()=>{if(window.paypal){y();return}const b=document.createElement("script");b.src=`https://www.paypal.com/sdk/js?client-id=${l.clientId}&components=card-fields&disable-funding=paylater`,b.async=!0,b.onload=()=>{y()},b.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(b)},y=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const b=window.paypal.CardFields({createOrder:async()=>(await(await fetch("/api/paypal/create-order-rental",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:parseFloat(t.totalCostRenter),rentalId:t.id})})).json()).id,onApprove:async j=>{i(!0);try{const v=await fetch(`/api/paypal/capture-order/${j.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),p=await v.json();if(!v.ok||p.status!=="COMPLETED")throw new Error("Payment capture failed");if(!(await fetch(`/api/rentals/${t.id}/complete-payment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({transactionId:j.orderID})})).ok)throw new Error("Failed to complete rental");u({title:"Payment successful!",description:"Your rental is now active. Safe flying!"}),s()}catch(v){u({title:"Payment failed",description:v.message||"Please try again",variant:"destructive"}),i(!1)}},onError:j=>{console.error("PayPal error:",j),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),i(!1)}});b.isEligible()?(b.NumberField().render("#card-number-field"),b.ExpiryField().render("#card-expiry-field"),b.CVVField().render("#card-cvv-field"),b.NameField().render("#card-name-field"),d.current=b,o(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(b){console.error("Error initializing card fields:",b),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};m()},[l,t.id,t.totalCostRenter]);const h=async m=>{if(m.preventDefault(),!!d.current){i(!0);try{await d.current.submit()}catch(y){u({title:"Payment failed",description:y.message||"Please check your card details and try again",variant:"destructive"}),i(!1)}}};return n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),n.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),n.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),n.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),n.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),n.jsx($,{type:"submit",disabled:!a||r,className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg","data-testid":"button-submit-payment",children:r?"Processing...":`Pay $${parseFloat(t.totalCostRenter).toFixed(2)}`}),n.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",n.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),n.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})}function tse(){const[,t]=px("/rental-payment/:id"),[,e]=Hs();qt();const{data:s}=ze({queryKey:["/api/rentals",t==null?void 0:t.id],queryFn:async()=>{const i=await fetch(`/api/rentals/${t==null?void 0:t.id}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch rental");return i.json()},enabled:!!(t!=null&&t.id)}),{data:r}=ze({queryKey:["/api/aircraft",s==null?void 0:s.aircraftId],queryFn:async()=>{const i=await fetch(`/api/aircraft/${s==null?void 0:s.aircraftId}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch aircraft");return i.json()},enabled:!!(s!=null&&s.aircraftId)});return!s||!r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading rental details..."})]})}):n.jsx("div",{className:"min-h-screen bg-background",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("h1",{className:"font-display text-4xl font-bold mb-8","data-testid":"text-payment-title",children:"Complete Your Rental Payment"}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Rental Summary"})}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:[r.year," ",r.make," ",r.model]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.registration})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rr,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm",children:[new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Po,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm",children:[parseFloat(s.estimatedHours)," estimated flight hours"]})})]}),n.jsxs("div",{className:"pt-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Base cost"}),n.jsxs("span",{children:["$",parseFloat(s.baseCost).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),n.jsxs("span",{children:["$",parseFloat(s.salesTax).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),n.jsxs("span",{children:["$",parseFloat(s.platformFeeRenter).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),n.jsxs("span",{children:["$",parseFloat(s.processingFee).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["$",parseFloat(s.totalCostRenter).toFixed(2)]})]})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{children:"Payment Information"})}),n.jsx(z,{children:n.jsx(ese,{rental:s,aircraft:r,onSuccess:()=>e("/dashboard")})})]})]})]})})})}const sse=40,nse={"1month":{label:"1 Month",months:1,monthlyRate:75,totalPrice:75,description:"Entry-level, test water"},"3months":{label:"3 Months",months:3,monthlyRate:60,totalPrice:180,description:"Most purchased",badge:"Popular"},"6months":{label:"6 Months",months:6,monthlyRate:50,totalPrice:300,description:"Best long-term value",badge:"Best Value"},"12months":{label:"12 Months",months:12,monthlyRate:45,totalPrice:540,description:"Commitment tier"}};function Wd(t,e=!0){const s=nse[t],r=s.totalPrice,i=e?sse:0,a=r+i;return{tier:t,monthlyRate:s.monthlyRate,months:s.months,subscriptionTotal:r,creationFee:i,grandTotal:a,label:s.label,description:s.description,badge:"badge"in s?s.badge:void 0}}const rse={LAUNCH2025:{code:"LAUNCH2025",description:"Launch promotion - Free ad creation + 20% off subscription",creationFeeDiscount:100,subscriptionDiscount:20,isPercentage:!0,validFrom:new Date("2025-01-01"),validUntil:null,isActive:!0}};function FM(t){const e=t.trim().toUpperCase(),s=rse[e];if(!s||!s.isActive)return null;const r=new Date;return r<s.validFrom||s.validUntil&&r>s.validUntil?null:s}function JC(t,e,s){if(!s)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};const r=FM(s);if(!r)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};let i=0;r.isPercentage?i=t*r.creationFeeDiscount/100:i=Math.min(r.creationFeeDiscount,t);let a=0;r.isPercentage?a=e*r.subscriptionDiscount/100:a=Math.min(r.subscriptionDiscount,e);const o=i+a,l=t-i,c=e-a,d=l+c;return{creationFeeDiscount:i,subscriptionDiscount:a,totalDiscount:o,finalCreationFee:l,finalSubscriptionTotal:c,finalGrandTotal:d}}function ise({userId:t,open:e,onOpenChange:s}){var K,M;const[r,i]=x.useState("profile"),[a,o]=x.useState(null),[l,c]=x.useState(null),[d,u]=x.useState(!1),[h,m]=x.useState(null),[y,b]=x.useState("7"),{toast:j}=qt(),{data:v,isLoading:p}=ze({queryKey:["/api/admin/users",t],enabled:e&&!!t}),{data:f=[],isLoading:w}=ze({queryKey:["/api/admin/users",t,"aircraft"],enabled:e&&!!t}),{data:S=[],isLoading:k}=ze({queryKey:["/api/admin/users",t,"marketplace"],enabled:e&&!!t}),{data:C=[],isLoading:_}=ze({queryKey:["/api/admin/users",t,"verifications"],enabled:e&&!!t}),T=Re({mutationFn:async F=>await Fe("POST",`/api/admin/users/${F}/reset-password`,{}),onSuccess:()=>{j({title:"Password Reset Email Sent",description:"The user will receive an email with password reset instructions."})},onError:()=>{j({title:"Error",description:"Failed to send password reset email. Please try again.",variant:"destructive"})}}),R=Re({mutationFn:async({userId:F,field:O,value:he})=>await Fe("PATCH",`/api/admin/users/${F}`,{[O]:he}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/users",t]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),j({title:"User Updated",description:"User verification status has been updated."})}}),D=Re({mutationFn:async({userId:F,isAdmin:O})=>await Fe("PATCH",`/api/admin/users/${F}`,{isAdmin:O}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/users",t]}),Ce.invalidateQueries({queryKey:["/api/admin/users"]}),j({title:"Admin Status Updated",description:"User admin privileges have been updated."})}}),L=Re({mutationFn:async({listingId:F,durationDays:O})=>await Fe("POST",`/api/admin/marketplace/${F}/grant-promo`,{durationDays:O}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/users",t,"marketplace"]}),Ce.invalidateQueries({queryKey:["/api/admin/marketplace"]}),j({title:"Promotional Free Time Granted",description:"The listing has been granted free promotional time."}),u(!1),m(null),b("7")},onError:()=>{j({title:"Error",description:"Failed to grant promotional free time. Please try again.",variant:"destructive"})}});if(!v&&!p)return null;const B=()=>{!t||!confirm("Are you sure you want to send a password reset email to this user?")||T.mutate(t)},ee=(F,O)=>{t&&R.mutate({userId:t,field:F,value:!O})},W=()=>{!t||!v||confirm(`Are you sure you want to ${v.isAdmin?"remove":"grant"} admin privileges for this user?`)&&D.mutate({userId:t,isAdmin:!v.isAdmin})},se=F=>{if(!F)return{status:"no-date",label:"No expiration date",variant:"secondary"};const O=new Date(F),he=new Date,_e=Math.ceil((O.getTime()-he.getTime())/(1e3*60*60*24));return _e<0?{status:"expired",label:`Expired ${Math.abs(_e)} days ago`,variant:"destructive"}:_e<=7?{status:"critical",label:`Expires in ${_e} days`,variant:"destructive"}:_e<=30?{status:"warning",label:`Expires in ${_e} days`,variant:"outline"}:{status:"valid",label:`Valid for ${_e} days`,variant:"default"}},A=F=>({renter_identity:"Identity Verification",renter_payment:"Payment Verification",renter_pilot:"Pilot License",owner_aircraft:"Aircraft Ownership",owner_maintenance:"Maintenance Records"})[F]||F;return n.jsxs(gs,{open:e,onOpenChange:s,children:[n.jsx(ls,{className:"max-w-6xl max-h-[95vh] overflow-y-auto","data-testid":"modal-admin-user",children:p?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):v?n.jsxs(n.Fragment,{children:[n.jsx(ys,{children:n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsxs(bi,{className:"h-16 w-16",children:[n.jsx(wi,{src:v.profileImageUrl||void 0}),n.jsxs(Ni,{className:"text-lg",children:[(K=v.firstName)==null?void 0:K[0],(M=v.lastName)==null?void 0:M[0]]})]}),n.jsxs("div",{children:[n.jsxs(vs,{className:"font-display text-2xl",children:[v.firstName," ",v.lastName]}),n.jsxs(_s,{className:"flex items-center gap-2 mt-1",children:[n.jsx(nd,{className:"h-4 w-4"}),v.email]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.isAdmin&&n.jsx(Y,{variant:"default",children:"Admin"}),v.isSuperAdmin&&n.jsx(Y,{variant:"default",children:"Super Admin"}),v.isVerified&&n.jsx(Y,{variant:"secondary",children:"Verified"}),v.identityVerified&&n.jsx(Y,{variant:"secondary",children:"Identity Verified"}),v.faaVerified&&n.jsx(Y,{variant:"secondary",children:"FAA Verified"})]})]})]})})}),n.jsxs(Sd,{value:r,onValueChange:i,className:"mt-4",children:[n.jsxs(Nl,{className:"grid w-full grid-cols-4",children:[n.jsxs(Ct,{value:"profile","data-testid":"tab-user-profile",children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Profile"]}),n.jsxs(Ct,{value:"aircraft","data-testid":"tab-user-aircraft",children:[n.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Aircraft (",f.length,")"]}),n.jsxs(Ct,{value:"marketplace","data-testid":"tab-user-marketplace",children:[n.jsx(Jd,{className:"h-4 w-4 mr-2"}),"Listings (",S.length,")"]}),n.jsxs(Ct,{value:"admin-actions","data-testid":"tab-admin-actions",children:[n.jsx(W1,{className:"h-4 w-4 mr-2"}),"Admin Actions"]})]}),n.jsx(Et,{value:"profile",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Personal Information"})}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),n.jsxs("div",{className:"text-base",children:[v.firstName," ",v.lastName]})]}),(v.legalFirstName||v.legalLastName)&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Legal Name"}),n.jsxs("div",{className:"text-base",children:[v.legalFirstName," ",v.legalLastName]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsxs("div",{className:"text-base flex items-center gap-2",children:[n.jsx(nd,{className:"h-4 w-4"}),v.email,v.emailVerified&&n.jsx(os,{className:"h-4 w-4 text-chart-2"})]})]}),v.phone&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),n.jsxs("div",{className:"text-base flex items-center gap-2",children:[n.jsx(rp,{className:"h-4 w-4"}),t5(v.phone),v.phoneVerified&&n.jsx(os,{className:"h-4 w-4 text-chart-2"})]})]}),v.dateOfBirth&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),n.jsx("div",{className:"text-base",children:v.dateOfBirth})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),n.jsx("div",{className:"text-xs font-mono",children:v.id})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Pilot Information"})}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Flight Hours"}),n.jsxs("div",{className:"text-base font-semibold",children:[v.totalFlightHours||0," hours"]})]}),v.certifications&&v.certifications.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Certifications"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:v.certifications.map((F,O)=>n.jsx(Y,{variant:"outline",children:F},O))})]}),v.faaCertificateNumber&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Certificate Number"}),n.jsx("div",{className:"text-base font-mono",children:v.faaCertificateNumber})]}),v.aircraftTypesFlown&&v.aircraftTypesFlown.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Aircraft Types Flown"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:v.aircraftTypesFlown.map((F,O)=>n.jsx(Y,{variant:"outline",children:F},O))})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Verification Status"})}),n.jsxs(z,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Identity Verified"}),v.identityVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"FAA Verified"}),v.faaVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Payment Verified"}),v.paymentVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Email Verified"}),v.emailVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Phone Verified"}),v.phoneVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"License Verified"}),v.licenseVerified?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Financial Information"})}),n.jsxs(z,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Payment Method On File"}),v.paymentMethodOnFile?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"PayPal Account Connected"}),v.paypalEmail?n.jsx(os,{className:"h-5 w-5 text-chart-2"}):n.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"})]}),v.paypalEmail&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-3",children:"PayPal Email"}),n.jsx("div",{className:"text-xs",children:v.paypalEmail})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),n.jsxs("div",{className:"text-base flex items-center gap-2",children:[n.jsx(ep,{className:"h-4 w-4"}),v.averageRating||"N/A"," (",v.totalReviews||0," reviews)"]})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsxs(le,{className:"text-lg flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"Uploaded Documents"]})}),n.jsx(z,{children:_?n.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"Loading documents..."}):C.length===0?n.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No verification documents uploaded"}):n.jsx("div",{className:"space-y-4",children:C.map(F=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:A(F.type)}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Submitted ",F.createdAt?new Date(F.createdAt).toLocaleDateString():"N/A"]})]}),n.jsx(Y,{variant:F.status==="approved"?"default":F.status==="rejected"?"destructive":"secondary",children:F.status})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[F.pilotLicenseExpiresAt&&n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pilot License"}),n.jsx(Y,{variant:se(F.pilotLicenseExpiresAt.toString()).variant,className:"w-fit",children:se(F.pilotLicenseExpiresAt.toString()).label}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.pilotLicenseExpiresAt).toLocaleDateString()]})]}),F.medicalCertExpiresAt&&n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Medical Certificate"}),n.jsx(Y,{variant:se(F.medicalCertExpiresAt.toString()).variant,className:"w-fit",children:se(F.medicalCertExpiresAt.toString()).label}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.medicalCertExpiresAt).toLocaleDateString()]})]}),F.insuranceExpiresAt&&n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Insurance"}),n.jsx(Y,{variant:se(F.insuranceExpiresAt.toString()).variant,className:"w-fit",children:se(F.insuranceExpiresAt.toString()).label}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.insuranceExpiresAt).toLocaleDateString()]})]}),F.governmentIdExpiresAt&&n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Government ID"}),n.jsx(Y,{variant:se(F.governmentIdExpiresAt.toString()).variant,className:"w-fit",children:se(F.governmentIdExpiresAt.toString()).label}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(F.governmentIdExpiresAt).toLocaleDateString()]})]})]}),F.documentUrls&&F.documentUrls.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium",children:"Documents:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:F.documentUrls.map((O,he)=>n.jsx($,{size:"sm",variant:"outline",asChild:!0,"data-testid":`button-view-document-${he}`,children:n.jsxs("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[n.jsx(tp,{className:"h-3 w-3"}),n.jsxs("span",{children:["View Document ",he+1]}),n.jsx(Y8,{className:"h-3 w-3"})]})},he))})]}),F.reviewNotes&&n.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md",children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"Admin Notes:"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:F.reviewNotes})]})]},F.id))})})]})]})}),n.jsx(Et,{value:"aircraft",className:"space-y-4 mt-4",children:w?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}):f.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no aircraft listings"}):n.jsx("div",{className:"space-y-3",children:f.map(F=>n.jsx(U,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>o(F.id),"data-testid":`card-user-aircraft-${F.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx(Y,{variant:F.isListed?"default":"secondary",children:F.isListed?"Listed":"Unlisted"})}),n.jsxs("div",{className:"font-semibold text-lg",children:[F.year," ",F.make," ",F.model]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.registration,"  ",F.location]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(us,{className:"h-4 w-4"}),"$",F.hourlyRate,"/hour"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:F.category})]})]}),F.images&&F.images.length>0&&n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:n.jsx("img",{src:F.images[0],alt:`${F.make} ${F.model}`,className:"w-full h-full object-cover"})})]})})},F.id))})}),n.jsx(Et,{value:"marketplace",className:"space-y-4 mt-4",children:k?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}):S.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no marketplace listings"}):n.jsx("div",{className:"space-y-3",children:S.map(F=>n.jsx(U,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>c(F.id),"data-testid":`card-user-marketplace-${F.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Y,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"}),n.jsx(Y,{variant:"outline",className:"capitalize",children:F.category}),F.promoFreeUntil&&new Date(F.promoFreeUntil)>new Date&&n.jsxs(Y,{variant:"default",className:"bg-green-600",children:["Free Until ",new Date(F.promoFreeUntil).toLocaleDateString()]})]}),n.jsx("div",{className:"font-semibold text-lg",children:F.title}),n.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:F.description}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[F.price&&n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(us,{className:"h-4 w-4"}),"$",F.price]}),F.location&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(ea,{className:"h-4 w-4"}),F.location]})]})]}),n.jsx("div",{className:"flex-shrink-0",onClick:O=>O.stopPropagation(),children:n.jsx($,{size:"sm",variant:"outline",onClick:()=>{m(F.id),u(!0)},"data-testid":`button-grant-promo-${F.id}`,children:"Grant Promo"})})]})})},F.id))})}),n.jsxs(Et,{value:"admin-actions",className:"space-y-4 mt-4",children:[n.jsxs(ir,{children:[n.jsx(ll,{className:"h-4 w-4"}),n.jsx(ar,{children:"These actions affect user account settings and permissions. Use with caution."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Password Reset"})}),n.jsxs(z,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a password reset email to the user. They will receive instructions to create a new password."}),n.jsxs($,{onClick:B,disabled:T.isPending,"data-testid":"button-reset-password",children:[n.jsx(W1,{className:"h-4 w-4 mr-2"}),T.isPending?"Sending...":"Send Password Reset Email"]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Admin Privileges"})}),n.jsxs(z,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant or remove admin access for this user. Admins can manage users, listings, and view analytics."}),n.jsxs($,{variant:v.isAdmin?"destructive":"default",onClick:W,disabled:D.isPending,"data-testid":"button-toggle-admin",children:[n.jsx(lB,{className:"h-4 w-4 mr-2"}),v.isAdmin?"Remove Admin Access":"Grant Admin Access"]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Verification Controls"})}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Identity Verified"}),n.jsx($,{size:"sm",variant:v.identityVerified?"destructive":"default",onClick:()=>ee("identityVerified",v.identityVerified||!1),disabled:R.isPending,"data-testid":"button-toggle-identity",children:v.identityVerified?"Revoke":"Verify"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"FAA Verified"}),n.jsx($,{size:"sm",variant:v.faaVerified?"destructive":"default",onClick:()=>ee("faaVerified",v.faaVerified||!1),disabled:R.isPending,"data-testid":"button-toggle-faa",children:v.faaVerified?"Revoke":"Verify"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"License Verified"}),n.jsx($,{size:"sm",variant:v.licenseVerified?"destructive":"default",onClick:()=>ee("licenseVerified",v.licenseVerified||!1),disabled:R.isPending,"data-testid":"button-toggle-license",children:v.licenseVerified?"Revoke":"Verify"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"General Verification"}),n.jsx($,{size:"sm",variant:v.isVerified?"destructive":"default",onClick:()=>ee("isVerified",v.isVerified||!1),disabled:R.isPending,"data-testid":"button-toggle-verified",children:v.isVerified?"Revoke":"Verify"})]})]})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-lg",children:"Account Actions"})}),n.jsx(z,{className:"space-y-3",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional account management actions will be available here in future updates."})})]})]})]})]})]}):null}),a&&n.jsx(BD,{aircraftId:a,open:!!a,onOpenChange:F=>!F&&o(null)}),l&&n.jsx(l0,{listingId:l,open:!!l,onOpenChange:F=>!F&&c(null)}),n.jsx(gs,{open:d,onOpenChange:u,children:n.jsxs(ls,{"data-testid":"dialog-grant-promo",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Grant Promotional Free Time"}),n.jsx(_s,{children:"Grant this user free listing time as a customer service gesture. The listing will be active for the selected duration without charging the user."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"promo-duration",children:"Duration"}),n.jsxs(As,{value:y,onValueChange:b,children:[n.jsx(ws,{id:"promo-duration","data-testid":"select-promo-duration",children:n.jsx(Fs,{placeholder:"Select duration"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"7",children:"7 Days"}),n.jsx(ve,{value:"14",children:"14 Days (2 weeks)"}),n.jsx(ve,{value:"21",children:"21 Days (3 weeks)"}),n.jsx(ve,{value:"30",children:"30 Days (1 month)"})]})]})]}),n.jsxs(ir,{children:[n.jsx(ll,{className:"h-4 w-4"}),n.jsxs(ar,{children:["This will extend the listing's active period by ",y," days without any charge to the user. This action will be tracked for audit purposes."]})]})]}),n.jsxs(Fn,{children:[n.jsx($,{variant:"outline",onClick:()=>{u(!1),m(null),b("7")},"data-testid":"button-cancel-promo",children:"Cancel"}),n.jsx($,{onClick:()=>{h&&L.mutate({listingId:h,durationDays:parseInt(y)})},disabled:L.isPending,"data-testid":"button-confirm-promo",children:L.isPending?"Granting...":"Grant Free Time"})]})]})})]})}function ase(){var J0,eN,tN,sN,nN,rN,iN,aN,oN,lN,cN,dN,uN,hN;const[t,e]=x.useState(""),[s,r]=x.useState("analytics"),[i,a]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,h]=x.useState(null),[m,y]=x.useState(!1),[b,j]=x.useState(!1),[v,p]=x.useState(null),[f,w]=x.useState(!1),[S,k]=x.useState(null),[C,_]=x.useState(null),[T,R]=x.useState(null),[D,L]=x.useState(!1),[B,ee]=x.useState(null),[W,se]=x.useState(!1),[A,K]=x.useState(null),[M,F]=x.useState(!1),[O,he]=x.useState(null),[_e,tt]=x.useState(""),[Ze,St]=x.useState(!1),[ft,je]=x.useState(null),[Be,Ge]=x.useState(""),[Qe,Oe]=x.useState(!1),[fe,qe]=x.useState(null),[nt,Dt]=x.useState("3months"),[Kt,Ot]=x.useState(""),[bn,as]=x.useState(""),[fr,Gs]=x.useState(null),[I,H]=x.useState(""),[ie,Se]=x.useState(null),[be,xe]=x.useState(""),[Ae,ht]=x.useState("all"),st=Ln({resolver:$n(fQ),defaultValues:{firstName:"",lastName:"",email:"",phone:"",company:"",status:"new",source:void 0,notes:""}}),pt=Ln({resolver:$n(xQ),defaultValues:{category:"server",amount:"",expenseDate:new Date,description:"",invoiceUrl:""}}),[Kn,pr]=x.useState(null),[oa,Sl]=x.useState(!1),Qs=Ln({resolver:$n(vQ),defaultValues:{title:"",message:"",promoCode:"",isEnabled:!0,showOnMainPage:!0,showOnCategoryPages:!0,targetCategories:[],variant:"info"}}),Mt=Ln({resolver:$n(pQ),defaultValues:{code:"",description:"",discountType:"percentage",discountValue:"",maxUses:void 0,validFrom:new Date,validUntil:void 0,isActive:!0,applicableToBannerAds:!1,applicableToMarketplace:!0}}),ts=Ln({resolver:$n(yQ),defaultValues:{title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,listingId:void 0,listingType:void 0,isActive:!0,startDate:new Date,endDate:void 0}}),Ye=Ln({resolver:$n(gQ),defaultValues:{sponsorName:"",sponsorEmail:"",sponsorCompany:"",title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,tier:"3months",monthlyRate:"60.00",totalAmount:"180.00",creationFee:"40.00",grandTotal:"220.00",promoCode:"",discountAmount:"0.00",approvalStatus:"draft",paymentStatus:"pending",adminNotes:""}}),{toast:De}=qt(),{data:Cl=[],isLoading:_l}=ze({queryKey:[`/api/admin/users?q=${t}`],enabled:t.length>0}),{data:kl=[],isLoading:_d}=ze({queryKey:["/api/admin/aircraft"],enabled:s==="aircraft"}),{data:Pl=[],isLoading:Tl}=ze({queryKey:["/api/admin/marketplace"],enabled:s==="marketplace"}),{data:go=[]}=ze({queryKey:["/api/marketplace/flagged"]}),{data:kd=[],isLoading:Jx}=ze({queryKey:["/api/verification-submissions/pending"],staleTime:0,gcTime:0,refetchOnMount:"always"}),{data:de,isLoading:$M}=ze({queryKey:["/api/admin/analytics"],enabled:s==="analytics"}),{data:yo=[],isLoading:eg}=ze({queryKey:["/api/crm/leads"],enabled:s==="crm"}),{data:tg=[],isLoading:sg}=ze({queryKey:["/api/admin/expenses"],enabled:s==="analytics"}),{data:O0=[],isLoading:UM}=ze({queryKey:["/api/admin/promo-alerts"],enabled:s==="promo"}),{data:M0=[],isLoading:BM}=ze({queryKey:["/api/admin/promo-codes"],enabled:s==="promo-codes"}),{data:Pi,isLoading:zM}=ze({queryKey:["/api/admin/stale-listings"],enabled:s==="stale"}),{data:Ti,isLoading:VM}=ze({queryKey:["/api/admin/orphaned-listings"],enabled:s==="stale"}),{data:rt,isLoading:Pd}=ze({queryKey:["/api/admin/user-metrics"],enabled:s==="analytics"}),{data:ng=[],isLoading:L0}=ze({queryKey:["/api/admin/withdrawals"],enabled:s==="withdrawals"}),{data:$0=[],isLoading:qM}=ze({queryKey:["/api/admin/notifications"],enabled:s==="notifications"}),{data:U0=[]}=ze({queryKey:["/api/admin/notifications/unread"]}),{data:pm=[],isLoading:HM}=ze({queryKey:["/api/admin/banner-ads"],enabled:s==="banners"}),{data:B0=[],isLoading:WM}=ze({queryKey:["/api/admin/banner-ad-orders"],enabled:s==="banners"}),KM=x.useMemo(()=>{const g=new Map;return pm.forEach(q=>{q.orderId&&g.set(q.orderId,q)}),g},[pm]),z0=g=>KM.has(g),rg=Re({mutationFn:async g=>await Fe("PATCH",`/api/verification-submissions/${g}`,{status:"approved"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),De({title:"Verification Approved",description:"User verification has been approved successfully."}),l(!1)}}),ig=Re({mutationFn:async({id:g,notes:q})=>await Fe("PATCH",`/api/verification-submissions/${g}`,{status:"rejected",rejectionReason:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),De({title:"Verification Rejected",description:"User has been notified of the rejection."}),l(!1),d("")}}),ag=Re({mutationFn:async g=>await Fe("POST","/api/crm/leads",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/crm/leads"]}),De({title:"Lead created successfully"}),j(!1),st.reset(),p(null)}}),og=Re({mutationFn:async({id:g,data:q})=>await Fe("PATCH",`/api/crm/leads/${g}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/crm/leads"]}),De({title:"Lead updated successfully"}),j(!1),st.reset(),p(null)}}),GM=Re({mutationFn:async g=>await Fe("DELETE",`/api/crm/leads/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/crm/leads"]}),De({title:"Lead deleted successfully"})}}),lg=Re({mutationFn:async g=>await Fe("POST","/api/admin/expenses",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/expenses"]}),Ce.invalidateQueries({queryKey:["/api/admin/analytics"]}),De({title:"Expense added successfully"}),w(!1),pt.reset(),k(null)}}),cg=Re({mutationFn:async({id:g,data:q})=>await Fe("PATCH",`/api/admin/expenses/${g}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/expenses"]}),Ce.invalidateQueries({queryKey:["/api/admin/analytics"]}),De({title:"Expense updated successfully"}),w(!1),pt.reset(),k(null)}}),QM=Re({mutationFn:async g=>await Fe("DELETE",`/api/admin/expenses/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/expenses"]}),Ce.invalidateQueries({queryKey:["/api/admin/analytics"]}),De({title:"Expense deleted successfully"})}}),YM=Re({mutationFn:async g=>await Fe("PATCH",`/api/admin/notifications/${g}/read`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/notifications"]}),Ce.invalidateQueries({queryKey:["/api/admin/notifications/unread"]})}}),XM=Re({mutationFn:async g=>await Fe("DELETE",`/api/admin/notifications/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/notifications"]}),Ce.invalidateQueries({queryKey:["/api/admin/notifications/unread"]}),De({title:"Notification deleted"})}}),V0=Re({mutationFn:async({id:g,isListed:q})=>await Fe("PATCH",`/api/aircraft/${g}`,{isListed:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/aircraft"]}),De({title:"Aircraft listing updated"})}}),dg=Re({mutationFn:async g=>await Fe("DELETE",`/api/aircraft/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/aircraft"]}),De({title:"Aircraft listing deleted"}),L(!1),ee(null)}}),q0=Re({mutationFn:async({id:g,isActive:q})=>await Fe("PATCH",`/api/marketplace/${g}`,{isActive:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/marketplace"]}),De({title:"Marketplace listing updated"})}}),H0=Re({mutationFn:async({id:g,isEnabled:q})=>await Fe("PATCH",`/api/promo-alerts/${g}`,{isEnabled:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),De({title:"Promotional alert updated"})}}),ug=Re({mutationFn:async g=>await Fe("POST","/api/promo-alerts",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),Qs.reset(),se(!1),K(null),De({title:"Promotional alert created successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to create promotional alert",variant:"destructive"})}}),hg=Re({mutationFn:async g=>await Fe("POST","/api/admin/promo-codes",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),he(null),Mt.reset(),De({title:"Promo code created successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to create promo code",variant:"destructive"})}}),mg=Re({mutationFn:async({id:g,data:q})=>await Fe("PATCH",`/api/admin/promo-codes/${g}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),he(null),Mt.reset(),De({title:"Promo code updated successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to update promo code",variant:"destructive"})}}),W0=Re({mutationFn:async g=>await Fe("DELETE",`/api/admin/promo-codes/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),he(null),Mt.reset(),De({title:"Promo code deleted successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to delete promo code",variant:"destructive"})}}),K0=Re({mutationFn:async({id:g,isActive:q})=>await Fe("PATCH",`/api/admin/promo-codes/${g}`,{isActive:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),F(!1),he(null),Mt.reset(),De({title:"Promo code status updated successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to update promo code status",variant:"destructive"})}}),ZM=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),JM=async g=>{try{for(const q of g.successful||[])if(q.uploadURL){const xt=new URL(q.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:xt,access:"publicRead"})});const jt=q.uploadURL.split("?")[0];Ge(jt),ts.setValue("imageUrl",jt,{shouldValidate:!0,shouldDirty:!0}),De({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(q){console.error("Error processing banner upload:",q),De({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}},eL=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),tL=async g=>{try{for(const q of g.successful||[])if(q.uploadURL){const xt=new URL(q.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:xt,access:"publicRead"})});const jt=q.uploadURL.split("?")[0];Ot(jt),Ye.setValue("imageUrl",jt,{shouldValidate:!0,shouldDirty:!0}),De({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(q){console.error("Error processing order upload:",q),De({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}};Re({mutationFn:async g=>await Fe("POST","/api/admin/banner-ads",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),ts.reset(),St(!1),je(null),Ge(""),De({title:"Banner ad created successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to create banner ad",variant:"destructive"})}});const fg=Re({mutationFn:async({id:g,data:q})=>await Fe("PATCH",`/api/admin/banner-ads/${g}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),ts.reset(),St(!1),je(null),Ge(""),De({title:"Banner ad updated successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to update banner ad",variant:"destructive"})}}),sL=Re({mutationFn:async g=>await Fe("DELETE",`/api/admin/banner-ads/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),De({title:"Banner ad deleted successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to delete banner ad",variant:"destructive"})}}),nL=Re({mutationFn:async({id:g,isActive:q})=>await Fe("PATCH",`/api/admin/banner-ads/${g}`,{isActive:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),De({title:"Banner ad status updated"})}}),pg=Re({mutationFn:async g=>await Fe("POST","/api/admin/banner-ad-orders",g),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ye.reset(),Oe(!1),qe(null),Ot(""),De({title:"Banner ad order created successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to create banner ad order",variant:"destructive"})}}),xg=Re({mutationFn:async({id:g,data:q})=>await Fe("PATCH",`/api/admin/banner-ad-orders/${g}`,q),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ye.reset(),Oe(!1),qe(null),Ot(""),De({title:"Banner ad order updated successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to update banner ad order",variant:"destructive"})}}),G0=Re({mutationFn:async g=>await Fe("POST",`/api/admin/banner-ad-orders/${g}/activate`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ce.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),De({title:"Order activated",description:"Banner ad is now live"})},onError:g=>{var q;(g==null?void 0:g.status)===409?De({title:"Order already activated",description:"This order has an active banner ad.",variant:"destructive"}):(g==null?void 0:g.errorCode)==="IMAGE_REQUIRED"||(q=g==null?void 0:g.message)!=null&&q.includes("IMAGE_REQUIRED")?De({title:"Image required",description:"Please upload a banner image before activating this order.",variant:"destructive"}):De({title:"Activation failed",description:(g==null?void 0:g.message)||"Failed to activate banner ad order",variant:"destructive"})}}),rL=Re({mutationFn:async g=>await Fe("DELETE",`/api/admin/banner-ad-orders/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),De({title:"Banner ad order deleted successfully"})},onError:g=>{De({title:"Error",description:g.message||"Failed to delete banner ad order",variant:"destructive"})}}),Q0=Re({mutationFn:async g=>await Fe("PATCH",`/api/admin/banner-ad-orders/${g}/approval`,{approvalStatus:"approved"}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),De({title:"Order approved",description:"Banner ad order approved successfully. You can now activate it."})},onError:g=>{De({title:"Error",description:g.message||"Failed to approve order",variant:"destructive"})}}),Y0=Re({mutationFn:async({id:g,adminNotes:q})=>await Fe("PATCH",`/api/admin/banner-ad-orders/${g}/approval`,{approvalStatus:"rejected",adminNotes:q}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),De({title:"Order rejected",description:"Banner ad order has been rejected."})},onError:g=>{De({title:"Error",description:g.message||"Failed to reject order",variant:"destructive"})}}),gg=Re({mutationFn:async g=>await Fe("DELETE",`/api/marketplace/${g}`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/marketplace"]}),De({title:"Marketplace listing deleted"}),L(!1),ee(null)}}),iL=()=>{const g=bn.trim();if(!g){Gs(null),H(""),Se(null);const jt=Wd(nt);Ye.setValue("promoCode",""),Ye.setValue("discountAmount","0.00"),Ye.setValue("creationFee",jt.creationFee.toString()),Ye.setValue("grandTotal",jt.grandTotal.toString());return}const q=FM(g);if(!q){Gs(!1),H("Invalid or expired promo code"),Se(null);const jt=Wd(nt);Ye.setValue("promoCode",""),Ye.setValue("discountAmount","0.00"),Ye.setValue("creationFee",jt.creationFee.toString()),Ye.setValue("grandTotal",jt.grandTotal.toString());return}const We=Wd(nt),xt=JC(We.creationFee,We.subscriptionTotal,g);Ye.setValue("promoCode",q.code),Ye.setValue("discountAmount",xt.totalDiscount.toFixed(2)),Ye.setValue("creationFee",xt.finalCreationFee.toFixed(2)),Ye.setValue("grandTotal",xt.finalGrandTotal.toFixed(2)),Gs(!0),H(`Promo code applied! You save $${xt.totalDiscount.toFixed(2)}`),Se(q.code),De({title:"Promo code applied!",description:q.description})},aL=()=>{B&&(B.type==="aircraft"?dg.mutate(B.id):gg.mutate(B.id))},yg=Re({mutationFn:async()=>await Fe("POST","/api/admin/send-listing-reminders",{}),onSuccess:g=>{De({title:"Email reminders sent",description:`Successfully sent ${g.emailsSent} emails to users with active listings.`})},onError:()=>{De({title:"Failed to send reminders",description:"Please try again later.",variant:"destructive"})}}),X0=Re({mutationFn:async g=>await Fe("PATCH",`/api/aircraft/${g}/refresh`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),De({title:"Aircraft listing refreshed"})}}),Z0=Re({mutationFn:async g=>await Fe("PATCH",`/api/marketplace/${g}/refresh`,{}),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),De({title:"Marketplace listing refreshed"})}}),oL=g=>{p(g),st.reset({firstName:g.firstName,lastName:g.lastName,email:g.email,phone:g.phone||"",company:g.company||"",status:g.status,source:g.source,notes:g.notes||""}),j(!0)},lL=g=>{k(g),pt.reset({category:g.category,amount:g.amount,expenseDate:g.expenseDate?new Date(g.expenseDate):new Date,description:g.description||"",invoiceUrl:g.invoiceUrl||""}),pr(null),w(!0)},cL=async g=>{var We;let q={...g};if(Kn&&!S)try{const xt=new FormData;xt.append("documents",Kn);const jt=await fetch("/api/upload-documents",{method:"POST",body:xt,credentials:"include"});if(!jt.ok){const xr=await jt.json();De({title:"Invoice upload failed",description:xr.error||"Please try again",variant:"destructive"});return}const Xr=await jt.json();q.invoiceUrl=((We=Xr.documentUrls)==null?void 0:We[0])||""}catch(xt){console.error("Invoice upload failed:",xt),De({title:"Invoice upload failed",description:"Please try again",variant:"destructive"});return}S?cg.mutate({id:S.id,data:q}):lg.mutate(q)},dL=async()=>{if(!Kn){De({title:"No invoice selected",variant:"destructive"});return}Sl(!0);try{const g=new FormData;g.append("invoice",Kn);const q=await fetch("/api/admin/extract-invoice-data",{method:"POST",body:g,credentials:"include"});if(!q.ok){const jt=await q.json();throw new Error(jt.error||"Failed to extract data")}const We=await q.json();let xt=0;if(We.amount&&typeof We.amount=="string"&&(pt.setValue("amount",We.amount),xt++),We.date&&typeof We.date=="string")try{const jt=new Date(We.date);isNaN(jt.getTime())||(pt.setValue("expenseDate",jt),xt++)}catch{console.warn("Invalid date from OCR:",We.date)}We.description&&typeof We.description=="string"&&(pt.setValue("description",We.description),xt++),We.category&&["server","database","other"].includes(We.category)&&(pt.setValue("category",We.category),xt++),xt>0?De({title:"Invoice data extracted!",description:`${xt} field(s) auto-filled. Please review before saving.`}):De({title:"Could not extract data",description:"Please enter the information manually.",variant:"destructive"})}catch(g){console.error("OCR extraction error:",g),De({title:"Failed to extract invoice data",description:g instanceof Error?g.message:"Please try again",variant:"destructive"})}finally{Sl(!1)}},uL=g=>{v?og.mutate({id:v.id,data:g}):ag.mutate(g)},El=ng.filter(g=>{var q,We,xt,jt,Xr;if(Ae!=="all"&&g.status!==Ae)return!1;if(be){const xr=be.toLowerCase();return((q=g.userId)==null?void 0:q.toLowerCase().includes(xr))||((We=g.paypalEmail)==null?void 0:We.toLowerCase().includes(xr))||((xt=g.transactionId)==null?void 0:xt.toLowerCase().includes(xr))||((jt=g.payoutBatchId)==null?void 0:jt.toLowerCase().includes(xr))||((Xr=g.amount)==null?void 0:Xr.toString().includes(xr))}return!0});return n.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-admin-title",children:"Admin Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users, aircraft listings, and marketplace content"})]}),n.jsxs(Sd,{value:s,onValueChange:r,className:"space-y-6",children:[n.jsxs(Nl,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-12 h-auto",children:[n.jsxs(Ct,{value:"analytics","data-testid":"tab-analytics",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Gn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Analytics"})]}),n.jsxs(Ct,{value:"crm","data-testid":"tab-crm",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Qb,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"CRM"})]}),n.jsxs(Ct,{value:"users","data-testid":"tab-users",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Zg,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Users"})]}),n.jsxs(Ct,{value:"verifications","data-testid":"tab-verifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(pn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsxs("span",{className:"flex items-center gap-1",children:["Verify",kd.length>0&&n.jsx(Y,{variant:"destructive",className:"text-xs px-1",children:kd.length})]})]}),n.jsxs(Ct,{value:"aircraft","data-testid":"tab-aircraft",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Ut,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Aircraft"})]}),n.jsxs(Ct,{value:"marketplace","data-testid":"tab-marketplace",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Jd,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsxs("span",{className:"flex items-center gap-1",children:["Market",go.length>0&&n.jsx(Y,{variant:"destructive",className:"text-xs px-1",children:go.length})]})]}),n.jsxs(Ct,{value:"stale","data-testid":"tab-stale",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Po,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Stale"})]}),n.jsxs(Ct,{value:"promo","data-testid":"tab-promo",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(sp,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Promos"})]}),n.jsxs(Ct,{value:"promo-codes","data-testid":"tab-promo-codes",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(Xg,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Codes"})]}),n.jsxs(Ct,{value:"withdrawals","data-testid":"tab-withdrawals",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(us,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Payouts"})]}),n.jsxs(Ct,{value:"notifications","data-testid":"tab-notifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(qv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsxs("span",{className:"flex items-center gap-1",children:["Alerts",U0.length>0&&n.jsx(Y,{variant:"destructive",className:"text-xs px-1",children:U0.length})]})]}),n.jsxs(Ct,{value:"banners","data-testid":"tab-banners",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[n.jsx(np,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),n.jsx("span",{children:"Banners"})]})]}),n.jsxs(Et,{value:"analytics",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Revenue Today"}),n.jsx(us,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["$",(de==null?void 0:de.revenueToday)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(de==null?void 0:de.transactionsToday)||0," transactions"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Revenue This Week"}),n.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["$",(de==null?void 0:de.revenueWeek)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(de==null?void 0:de.transactionsWeek)||0," transactions"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Revenue This Month"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["$",(de==null?void 0:de.revenueMonth)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(de==null?void 0:de.transactionsMonth)||0," transactions"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Revenue This Year"}),n.jsx(us,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["$",(de==null?void 0:de.revenueYear)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(de==null?void 0:de.transactionsYear)||0," transactions"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Expenses Today"}),n.jsx(Gn,{className:"h-4 w-4 text-destructive"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(de==null?void 0:de.expensesToday)||"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Server & database costs"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Expenses This Week"}),n.jsx(Gn,{className:"h-4 w-4 text-destructive"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(de==null?void 0:de.expensesWeek)||"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform operating costs"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Expenses This Month"}),n.jsx(Gn,{className:"h-4 w-4 text-destructive"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(de==null?void 0:de.expensesMonth)||"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly operational costs"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Expenses This Year"}),n.jsx(Gn,{className:"h-4 w-4 text-destructive"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(de==null?void 0:de.expensesYear)||"0.00"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual operational costs"})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Profit Today"}),n.jsx(us,{className:"h-4 w-4 text-chart-2"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(de==null?void 0:de.profitToday)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(de==null?void 0:de.profitMarginToday)||"0.00","%"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Profit This Week"}),n.jsx(us,{className:"h-4 w-4 text-chart-2"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(de==null?void 0:de.profitWeek)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(de==null?void 0:de.profitMarginWeek)||"0.00","%"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Profit This Month"}),n.jsx(us,{className:"h-4 w-4 text-chart-2"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(de==null?void 0:de.profitMonth)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(de==null?void 0:de.profitMarginMonth)||"0.00","%"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Profit This Year"}),n.jsx(us,{className:"h-4 w-4 text-chart-2"})]}),n.jsxs(z,{children:[n.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(de==null?void 0:de.profitYear)||"0.00"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(de==null?void 0:de.profitMarginYear)||"0.00","%"]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Marketplace Overview"}),n.jsx(Me,{children:"Current listing statistics"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jd,{className:"h-5 w-5 text-chart-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Active Listings"})]}),n.jsx(Y,{className:"bg-chart-2","data-testid":"badge-active-marketplace",children:(de==null?void 0:de.totalActiveMarketplaceListings)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eu,{className:"h-5 w-5 text-destructive"}),n.jsx("span",{className:"text-sm font-medium",children:"Expired Listings"})]}),n.jsx(Y,{variant:"destructive","data-testid":"badge-expired-marketplace",children:(de==null?void 0:de.totalExpiredMarketplaceListings)||0})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Listings by Category"}),n.jsx(Me,{children:"Active listings per category"})]}),n.jsxs(z,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Aviation Jobs"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-job",children:((J0=de==null?void 0:de.marketplaceByCategory)==null?void 0:J0.job)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Aircraft For Sale"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-aircraft-sale",children:((eN=de==null?void 0:de.marketplaceByCategory)==null?void 0:eN["aircraft-sale"])||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"CFIs"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-cfi",children:((tN=de==null?void 0:de.marketplaceByCategory)==null?void 0:tN.cfi)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Flight Schools"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-flight-school",children:((sN=de==null?void 0:de.marketplaceByCategory)==null?void 0:sN["flight-school"])||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mechanics"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-mechanic",children:((nN=de==null?void 0:de.marketplaceByCategory)==null?void 0:nN.mechanic)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Charter Services"}),n.jsx(Y,{variant:"outline","data-testid":"badge-category-charter",children:((rN=de==null?void 0:de.marketplaceByCategory)==null?void 0:rN.charter)||0})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Commission Details"}),n.jsx(Me,{children:"Ready Set Fly revenue model"})]}),n.jsx(z,{className:"space-y-2",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{className:"font-medium text-foreground mb-2",children:"Rental Commission:"}),n.jsx("p",{children:" Renter: 7.5%"}),n.jsx("p",{children:" Owner: 7.5%"}),n.jsx("p",{className:"font-medium text-foreground mt-3 mb-2",children:"Marketplace Fees:"}),n.jsx("p",{children:" $25-$250/month per listing"})]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Rental Pipeline Overview"}),n.jsx(Me,{children:"Rentals by status"})]}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pending"}),n.jsx(Y,{variant:"outline","data-testid":"badge-pending-rentals",children:(de==null?void 0:de.pendingRentals)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Approved"}),n.jsx(Y,{variant:"outline","data-testid":"badge-approved-rentals",children:(de==null?void 0:de.approvedRentals)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Active"}),n.jsx(Y,{variant:"outline","data-testid":"badge-active-rentals",children:(de==null?void 0:de.activeRentals)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Completed"}),n.jsx(Y,{variant:"outline","data-testid":"badge-completed-rentals",children:(de==null?void 0:de.completedRentals)||0})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cancelled"}),n.jsx(Y,{variant:"outline","data-testid":"badge-cancelled-rentals",children:(de==null?void 0:de.cancelledRentals)||0})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ut,{className:"h-5 w-5 text-chart-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Grand Total"})]}),n.jsx(Y,{className:"bg-chart-1","data-testid":"badge-total-rentals",children:(de==null?void 0:de.totalRentals)||0})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Rental Activity - Today"}),n.jsx(Me,{children:"New and active rentals today"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5 text-chart-2"}),n.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),n.jsx(Y,{className:"bg-chart-2","data-testid":"badge-new-rentals-today",children:(de==null?void 0:de.newRentalsToday)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5 text-chart-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),n.jsx(Y,{className:"bg-chart-1","data-testid":"badge-active-rentals-today",children:(de==null?void 0:de.activeRentalsToday)||0})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Rental Activity - This Week"}),n.jsx(Me,{children:"New and active rentals this week"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5 text-chart-2"}),n.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),n.jsx(Y,{className:"bg-chart-2","data-testid":"badge-new-rentals-week",children:(de==null?void 0:de.newRentalsWeek)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5 text-chart-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),n.jsx(Y,{className:"bg-chart-1","data-testid":"badge-active-rentals-week",children:(de==null?void 0:de.activeRentalsWeek)||0})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth & Engagement"}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Users"}),n.jsx(Zg,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(rt==null?void 0:rt.totalUsers)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Verified Users"}),n.jsx(os,{className:"h-4 w-4 text-chart-2"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold text-chart-2","data-testid":"text-verified-users",children:(rt==null?void 0:rt.verifiedUsers)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[((iN=rt==null?void 0:rt.verificationRate)==null?void 0:iN.toFixed(1))||"0.0","% verified"]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active Owners"}),n.jsx(Ut,{className:"h-4 w-4 text-chart-1"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold text-chart-1","data-testid":"text-active-owners",children:(rt==null?void 0:rt.activeListingOwners)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"With active listings"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Active Renters"}),n.jsx(Fl,{className:"h-4 w-4 text-chart-3"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold text-chart-3","data-testid":"text-active-renters",children:(rt==null?void 0:rt.activeRenters)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed rentals"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New User Registrations"}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Today"}),n.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-today",children:(rt==null?void 0:rt.newUsersToday)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"New signups today"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"This Week"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-week",children:(rt==null?void 0:rt.newUsersThisWeek)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"This Month"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-month",children:(rt==null?void 0:rt.newUsersThisMonth)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Geographic Distribution"}),n.jsx(Me,{children:"Users by location (top 10 states)"})]}),n.jsxs(z,{children:[Pd&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading geographic data..."}),!Pd&&(!((aN=rt==null?void 0:rt.geographic)!=null&&aN.byState)||rt.geographic.byState.length===0)&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No geographic data available yet"}),!Pd&&((oN=rt==null?void 0:rt.geographic)==null?void 0:oN.byState)&&rt.geographic.byState.length>0&&n.jsx("div",{className:"space-y-3",children:rt.geographic.byState.map(({state:g,count:q},We)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:"outline",className:"w-8 text-center",children:We+1}),n.jsx("span",{className:"text-sm font-medium",children:g})]}),n.jsxs(Y,{"data-testid":`badge-state-${g}`,children:[q," users"]})]},g))})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"User Retention"}),n.jsx(Me,{children:"Returning vs. one-time users"})]}),n.jsxs(z,{children:[Pd&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading retention data..."}),!Pd&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fl,{className:"h-5 w-5 text-chart-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Returning Users"})]}),n.jsx(Y,{className:"bg-chart-2","data-testid":"badge-returning-users",children:((lN=rt==null?void 0:rt.retention)==null?void 0:lN.returningUsers)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zg,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"One-Time Users"})]}),n.jsx(Y,{variant:"outline","data-testid":"badge-onetime-users",children:((cN=rt==null?void 0:rt.retention)==null?void 0:cN.oneTimeUsers)||0})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),n.jsxs(Y,{className:"bg-chart-1","data-testid":"badge-retention-rate",children:[((uN=(dN=rt==null?void 0:rt.retention)==null?void 0:dN.retentionRate)==null?void 0:uN.toFixed(1))||"0.0","%"]})]})]})]})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Expense Tracking"}),n.jsx(Me,{children:"Track server, database, and operational costs"})]}),n.jsxs($,{onClick:()=>{pt.reset(),k(null),w(!0)},"data-testid":"button-add-expense",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Add Expense"]})]}),n.jsxs(z,{children:[sg&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading expenses..."}),!sg&&tg.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No expenses tracked yet. Add your first expense to start tracking costs."}),!sg&&tg.length>0&&n.jsx("div",{className:"border rounded-md",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-muted/50",children:[n.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Date"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Category"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Description"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Invoice"}),n.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Amount"}),n.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:tg.map(g=>n.jsxs("tr",{className:"border-b last:border-0","data-testid":`expense-row-${g.id}`,children:[n.jsx("td",{className:"p-3 text-sm","data-testid":`text-date-${g.id}`,children:g.expenseDate?new Date(g.expenseDate).toLocaleDateString():""}),n.jsx("td",{className:"p-3",children:n.jsx(Y,{variant:"outline",className:"capitalize","data-testid":`badge-category-${g.id}`,children:g.category})}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground","data-testid":`text-description-${g.id}`,children:g.description||""}),n.jsx("td",{className:"p-3 text-sm",children:g.invoiceUrl?n.jsxs("a",{href:g.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1","data-testid":`link-invoice-${g.id}`,children:[n.jsx(Or,{className:"h-4 w-4"}),"View"]}):n.jsx("span",{className:"text-muted-foreground",children:""})}),n.jsxs("td",{className:"p-3 text-sm text-right font-medium text-destructive","data-testid":`text-amount-${g.id}`,children:["$",g.amount]}),n.jsx("td",{className:"p-3 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx($,{size:"icon",variant:"ghost",onClick:()=>lL(g),"data-testid":`button-edit-expense-${g.id}`,children:n.jsx(wa,{className:"h-4 w-4"})}),n.jsx($,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this expense?")&&QM.mutate(g.id)},"data-testid":`button-delete-expense-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4 text-destructive"})})]})})]},g.id))})]})})]})]}),$M&&n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]}),n.jsxs(Et,{value:"crm",className:"space-y-6",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Sales & Marketing CRM"}),n.jsx(Me,{children:"Manage leads, contacts, and deal pipeline"})]}),n.jsxs($,{onClick:()=>{st.reset(),p(null),j(!0)},"data-testid":"button-add-lead",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),n.jsxs(z,{children:[eg&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading leads..."}),!eg&&yo.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No leads yet. Add your first lead to get started."}),!eg&&yo.length>0&&n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Name"}),n.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Email"}),n.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Company"}),n.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Status"}),n.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Source"}),n.jsx("th",{className:"text-right p-3 font-medium text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:yo.map(g=>n.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-lead-${g.id}`,children:[n.jsxs("td",{className:"p-3",children:[n.jsxs("div",{className:"font-medium",children:[g.firstName," ",g.lastName]}),g.phone&&n.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[n.jsx(rp,{className:"h-3 w-3"}),g.phone]})]}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(nd,{className:"h-3 w-3"}),g.email]})}),n.jsx("td",{className:"p-3 text-sm",children:g.company||"-"}),n.jsx("td",{className:"p-3",children:n.jsx(Y,{variant:g.status==="won"?"default":g.status==="lost"?"destructive":g.status==="new"?"secondary":"outline",children:g.status})}),n.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:g.source||"-"}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx($,{size:"sm",variant:"ghost",onClick:()=>oL(g),"data-testid":`button-edit-lead-${g.id}`,children:n.jsx(wa,{className:"h-4 w-4"})}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&GM.mutate(g.id)},"data-testid":`button-delete-lead-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})})]},g.id))})]})})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Total Leads"}),n.jsx(cB,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(z,{children:n.jsx("div",{className:"text-2xl font-bold",children:yo.length})})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"New Leads"}),n.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(z,{children:n.jsx("div",{className:"text-2xl font-bold",children:yo.filter(g=>g.status==="new").length})})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"Won"}),n.jsx(os,{className:"h-4 w-4 text-chart-2"})]}),n.jsx(z,{children:n.jsx("div",{className:"text-2xl font-bold",children:yo.filter(g=>g.status==="won").length})})]}),n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(le,{className:"text-sm font-medium",children:"In Progress"}),n.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(z,{children:n.jsx("div",{className:"text-2xl font-bold",children:yo.filter(g=>["contacted","qualified","proposal","negotiation"].includes(g.status)).length})})]})]})]}),n.jsx(Et,{value:"verifications",className:"space-y-4",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Verification Review Queue"}),n.jsx(Me,{children:"Review and approve user verification submissions"})]}),n.jsxs(z,{children:[Jx&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading verifications..."}),!Jx&&kd.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending verification submissions"}),!Jx&&kd.length>0&&n.jsx("div",{className:"space-y-3",children:kd.map(g=>{var We;const q=g.submissionData;return n.jsx(U,{"data-testid":`card-verification-${g.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Y,{variant:"outline",children:g.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted ",g.createdAt?new Date(g.createdAt).toLocaleDateString():"Unknown"]})]}),n.jsxs("div",{className:"font-semibold text-foreground mb-1",children:[q.legalFirstName," ",q.legalLastName]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("div",{children:["User ID: ",g.userId]}),n.jsxs("div",{children:["DOB: ",q.dateOfBirth]}),q.faaCertificateNumber&&n.jsxs("div",{children:["FAA Certificate: ",q.faaCertificateNumber]}),n.jsxs("div",{children:["Documents: ",((We=g.documentUrls)==null?void 0:We.length)||0," files"]})]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs($,{size:"sm",variant:"outline",onClick:()=>{a(g),l(!0)},"data-testid":`button-review-${g.id}`,children:[n.jsx(tp,{className:"h-4 w-4 mr-2"}),"Review"]})})]})})},g.id)})})]})]})}),n.jsx(Et,{value:"users",className:"space-y-4",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Search Users"}),n.jsx(Me,{children:"Search by first name, last name, or email"})]}),n.jsxs(z,{children:[n.jsx("div",{className:"flex gap-2 mb-6",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Q,{placeholder:"Search users...",value:t,onChange:g=>e(g.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),_l&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching..."}),!_l&&t&&Cl.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No users found matching "',t,'"']}),!_l&&Cl.length>0&&n.jsx("div",{className:"space-y-3",children:Cl.map(g=>{var q,We;return n.jsx(U,{"data-testid":`card-user-${g.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>{h(g.id),y(!0)},children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(bi,{children:[n.jsx(wi,{src:g.profileImageUrl||void 0}),n.jsxs(Ni,{children:[(q=g.firstName)==null?void 0:q[0],(We=g.lastName)==null?void 0:We[0]]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-semibold text-foreground",children:[g.firstName," ",g.lastName,g.isAdmin&&n.jsx(Y,{className:"ml-2",variant:"default",children:"Admin"}),g.isVerified&&n.jsx(Y,{className:"ml-2",variant:"secondary",children:"Verified"})]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:g.email}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",g.id,"  Flight Hours: ",g.totalFlightHours]})]})]})})},g.id)})}),!t&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Enter a search term to find users"})]})]})}),n.jsx(Et,{value:"aircraft",className:"space-y-4",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"All Aircraft Listings"}),n.jsx(Me,{children:"View and manage all aircraft rental listings"})]}),n.jsxs(z,{children:[_d&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}),!_d&&kl.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No aircraft listings found"}),!_d&&kl.length>0&&n.jsx("div",{className:"space-y-3",children:kl.map(g=>n.jsx("div",{"data-testid":`card-aircraft-${g.id}`,className:"border rounded-lg overflow-visible hover-elevate cursor-pointer transition-all",onClick:()=>_(g),children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex gap-4",children:[g.images&&g.images.length>0&&n.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:n.jsx("img",{src:g.images[0],alt:`${g.make} ${g.model}`,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"font-semibold text-foreground",children:[g.year," ",g.make," ",g.model]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.registration,"  ",g.location]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",g.hourlyRate,"/hr  Owner ID: ",g.ownerId]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:q=>q.stopPropagation(),children:[n.jsx(Y,{variant:g.isListed?"default":"secondary",children:g.isListed?"Listed":"Unlisted"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>V0.mutate({id:g.id,isListed:!g.isListed}),"data-testid":`button-toggle-aircraft-${g.id}`,children:g.isListed?"Unlist":"List"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{ee({type:"aircraft",id:g.id}),L(!0)},"data-testid":`button-delete-aircraft-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]})]})}),n.jsxs(Et,{value:"marketplace",className:"space-y-4",children:[go.length>0&&n.jsxs(U,{className:"border-destructive",children:[n.jsxs(ae,{children:[n.jsxs(le,{className:"flex items-center gap-2",children:[n.jsx(eu,{className:"h-5 w-5 text-destructive"}),"Flagged Listings (",go.length,")"]}),n.jsx(Me,{children:"Listings with 5+ fraud/spam reports - review and remove if necessary"})]}),n.jsx(z,{children:n.jsx("div",{className:"space-y-3",children:go.map(g=>n.jsx("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20","data-testid":`flagged-listing-${g.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold",children:g.title}),n.jsxs(Y,{variant:"destructive",className:"text-xs",children:[g.flagCount," flags"]}),!g.isActive&&n.jsx(Y,{variant:"outline",className:"text-xs",children:"Inactive"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Category: ",g.category,"  Location: ",g.location||g.city]}),n.jsx("p",{className:"text-sm line-clamp-2",children:g.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx($,{variant:"outline",size:"sm",onClick:()=>{R(g)},"data-testid":`button-review-flagged-${g.id}`,children:"Review"}),n.jsx($,{variant:"destructive",size:"sm",onClick:()=>{ee({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-remove-flagged-${g.id}`,children:"Remove"})]})]})},g.id))})})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"All Marketplace Listings"}),n.jsx(Me,{children:"View and manage all marketplace listings"})]}),n.jsxs(z,{children:[Tl&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}),!Tl&&Pl.length===0&&n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No marketplace listings found"}),!Tl&&Pl.length>0&&n.jsx("div",{className:"space-y-3",children:Pl.map(g=>n.jsx(U,{"data-testid":`card-marketplace-${g.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>R(g),children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-foreground",children:g.title}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.category,"  ",g.location||"No location"]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[g.price&&`$${g.price}`,"  User ID: ",g.userId,g.monthlyFee==="0"&&"  FREE"]})]}),n.jsxs("div",{className:"flex items-center gap-2",onClick:q=>q.stopPropagation(),children:[n.jsx(Y,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>q0.mutate({id:g.id,isActive:!g.isActive}),"data-testid":`button-toggle-marketplace-${g.id}`,children:g.isActive?"Deactivate":"Activate"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{ee({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-delete-marketplace-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})})},g.id))})]})]})]}),n.jsx(Et,{value:"stale",className:"space-y-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(U,{children:n.jsx(ae,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(le,{children:"Monthly Email Reminders"}),n.jsx(Me,{children:"Send email reminders to all users with active listings to review and refresh their listings"})]}),n.jsxs($,{onClick:()=>yg.mutate(),disabled:yg.isPending,"data-testid":"button-send-reminders",children:[n.jsx(nd,{className:"h-4 w-4 mr-2"}),yg.isPending?"Sending...":"Send Reminders Now"]})]})})}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Stale Listings (60+ Days Without Refresh)"}),n.jsx(Me,{children:"These listings haven't been refreshed by their owners in over 60 days"})]}),n.jsx(z,{children:zM?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):!Pi||Pi.aircraft.length===0&&Pi.marketplace.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No stale listings found"})]}):n.jsxs("div",{className:"space-y-6",children:[Pi.aircraft.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Ut,{className:"h-4 w-4"}),"Aircraft Listings (",Pi.aircraft.length,")"]}),n.jsx("div",{className:"space-y-3",children:Pi.aircraft.map(g=>n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:n.jsx(Po,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),n.jsx("div",{className:"flex-1 space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-base",children:[g.make," ",g.model," - ",g.tailNumber]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.location}),g.lastRefreshedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(g.lastRefreshedAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>X0.mutate(g.id),disabled:X0.isPending,"data-testid":`button-refresh-aircraft-${g.id}`,children:n.jsx(ip,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]}),Pi.marketplace.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Jd,{className:"h-4 w-4"}),"Marketplace Listings (",Pi.marketplace.length,")"]}),n.jsx("div",{className:"space-y-3",children:Pi.marketplace.map(g=>n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:n.jsx(Po,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),n.jsx("div",{className:"flex-1 space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base",children:g.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.category.replace("-"," ")," - ",g.city]}),g.lastRefreshedAt&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(g.lastRefreshedAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>Z0.mutate(g.id),disabled:Z0.isPending,"data-testid":`button-refresh-marketplace-${g.id}`,children:n.jsx(ip,{className:"h-4 w-4"})})]})]})})]})})},g.id))})]})]})})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{children:"Orphaned Listings"}),n.jsx(Me,{children:"Listings where the owner account no longer exists or is suspended"})]}),n.jsx(z,{children:VM?n.jsx("div",{className:"space-y-4",children:[1,2].map(g=>n.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):!Ti||Ti.aircraft.length===0&&Ti.marketplace.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(os,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No orphaned listings found"})]}):n.jsxs("div",{className:"space-y-6",children:[Ti.aircraft.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Ut,{className:"h-4 w-4"}),"Aircraft Listings (",Ti.aircraft.length,")"]}),n.jsx("div",{className:"space-y-3",children:Ti.aircraft.map(g=>n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:n.jsx(eu,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),n.jsx("div",{className:"flex-1 space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-base",children:[g.make," ",g.model," - ",g.tailNumber]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.location}),n.jsx(Y,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{ee({type:"aircraft",id:g.id}),L(!0)},"data-testid":`button-delete-orphaned-aircraft-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})})]})})},g.id))})]}),Ti.marketplace.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Jd,{className:"h-4 w-4"}),"Marketplace Listings (",Ti.marketplace.length,")"]}),n.jsx("div",{className:"space-y-3",children:Ti.marketplace.map(g=>n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:n.jsx(eu,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),n.jsx("div",{className:"flex-1 space-y-2",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base",children:g.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.category.replace("-"," ")," - ",g.city]}),n.jsx(Y,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{ee({type:"marketplace",id:g.id}),L(!0)},"data-testid":`button-delete-orphaned-marketplace-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})})]})})},g.id))})]})]})})]})]})}),n.jsx(Et,{value:"promo",className:"space-y-6",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(le,{children:"Promotional Alerts"}),n.jsx(Me,{children:"Manage promotional banners and announcements that appear on the marketplace"})]}),n.jsxs($,{onClick:()=>{K(null),Qs.reset(),se(!0)},"data-testid":"button-add-promo",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Add Promo"]})]})}),n.jsx(z,{children:UM?n.jsx("div",{className:"space-y-4",children:[1,2].map(g=>n.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},g))}):O0.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No promotional alerts configured"})}):n.jsx("div",{className:"space-y-4",children:O0.map(g=>n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30",children:n.jsx(sp,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base",children:g.title}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.message}),g.promoCode&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-muted rounded-md",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Code:"}),n.jsx("span",{className:"font-mono font-semibold text-sm",children:g.promoCode})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:g.isEnabled?"default":"secondary",children:g.isEnabled?"Active":"Inactive"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>H0.mutate({id:g.id,isEnabled:!g.isEnabled}),disabled:H0.isPending,"data-testid":`button-toggle-promo-${g.id}`,children:g.isEnabled?"Disable":"Enable"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[g.showOnMainPage&&n.jsx(Y,{variant:"outline",children:"Main Page"}),g.showOnCategoryPages&&n.jsx(Y,{variant:"outline",children:"Category Pages"}),g.targetCategories&&g.targetCategories.length>0&&n.jsxs(Y,{variant:"outline",children:[g.targetCategories.length," Categories"]})]})]})]})})},g.id))})})]})}),n.jsx(Et,{value:"promo-codes",className:"space-y-6",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(le,{children:"Promo Codes Management"}),n.jsx(Me,{children:"Create and manage promotional discount codes"})]}),n.jsxs($,{onClick:()=>{he(null),Mt.reset(),F(!0)},"data-testid":"button-add-promo-code",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Add Promo Code"]})]})}),n.jsxs(z,{children:[n.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx(Q,{placeholder:"Search promo codes...",value:_e,onChange:g=>tt(g.target.value),"data-testid":"input-promo-code-search"})})}),BM?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(g=>n.jsx("div",{className:"h-32 rounded-lg bg-muted animate-pulse"},g))}):M0.filter(g=>{var q;return _e===""||g.code.toLowerCase().includes(_e.toLowerCase())||((q=g.description)==null?void 0:q.toLowerCase().includes(_e.toLowerCase()))}).length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:_e?"No promo codes match your search":"No promo codes configured"})]}):n.jsx("div",{className:"space-y-4",children:M0.filter(g=>{var q;return _e===""||g.code.toLowerCase().includes(_e.toLowerCase())||((q=g.description)==null?void 0:q.toLowerCase().includes(_e.toLowerCase()))}).map(g=>{const q=g.validTo&&new Date(g.validTo)<new Date,We=g.currentRedemptions||0,xt=g.maxRedemptions||"";return n.jsx(U,{className:"hover-elevate",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:n.jsx(Xg,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"px-3 py-1 bg-muted rounded-md font-mono font-bold text-lg",children:g.code}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(g.code),De({title:"Promo code copied to clipboard"})},"data-testid":`button-copy-code-${g.id}`,children:n.jsx(Or,{className:"h-4 w-4"})})]}),g.description&&n.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Y,{variant:g.isActive&&!q?"default":"secondary","data-testid":`badge-status-${g.id}`,children:q?"Expired":g.isActive?"Active":"Inactive"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>K0.mutate({id:g.id,isActive:!g.isActive}),disabled:K0.isPending||q,"data-testid":`button-toggle-promo-code-${g.id}`,children:g.isActive?"Disable":"Enable"}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{he(g),Mt.reset({code:g.code,description:g.description||"",discountType:g.discountType,discountValue:g.discountValue,maxRedemptions:g.maxRedemptions||void 0,usageLimitPerUser:g.usageLimitPerUser,validFrom:g.validFrom?new Date(g.validFrom):new Date,validTo:g.validTo?new Date(g.validTo):void 0,isActive:g.isActive,applicableToBannerAds:g.applicableToBannerAds,applicableToMarketplace:g.applicableToMarketplace}),F(!0)},"data-testid":`button-edit-promo-code-${g.id}`,children:n.jsx(wa,{className:"h-4 w-4"})}),n.jsx($,{size:"sm",variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete promo code "${g.code}"?`)&&W0.mutate(g.id)},disabled:W0.isPending,"data-testid":`button-delete-promo-code-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2 border-t",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsx("p",{className:"font-semibold",children:g.discountType==="percentage"?`${g.discountValue}%`:`$${g.discountValue}`})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid From"}),n.jsx("p",{className:"text-sm",children:g.validFrom?new Date(g.validFrom).toLocaleDateString():""})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid To"}),n.jsx("p",{className:"text-sm",children:g.validTo?new Date(g.validTo).toLocaleDateString():"No expiry"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Usage"}),n.jsxs("p",{className:"font-semibold",children:[We," / ",xt]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.applicableToBannerAds&&n.jsx(Y,{variant:"outline","data-testid":`badge-banner-${g.id}`,children:"Banner Ads"}),g.applicableToMarketplace&&n.jsx(Y,{variant:"outline","data-testid":`badge-marketplace-${g.id}`,children:"Marketplace"}),g.usageLimitPerUser&&g.usageLimitPerUser>1&&n.jsxs(Y,{variant:"outline",children:[g.usageLimitPerUser," uses per user"]})]})]})]})})},g.id)})})]})]})}),n.jsx(Et,{value:"withdrawals",className:"space-y-6",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-withdrawal-requests",children:"Owner Payouts Dashboard"}),n.jsx(Me,{children:"Monitor and track all automated payouts to aircraft owners"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx(Q,{placeholder:"Search by user ID, email, transaction ID...",value:be,onChange:g=>xe(g.target.value),"data-testid":"input-withdrawal-search"})}),n.jsxs(As,{value:Ae,onValueChange:ht,children:[n.jsx(ws,{className:"w-[180px]","data-testid":"select-status-filter",children:n.jsx(Fs,{placeholder:"Filter by status"})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"all",children:"All Statuses"}),n.jsx(ve,{value:"completed",children:"Completed"}),n.jsx(ve,{value:"processing",children:"Processing"}),n.jsx(ve,{value:"failed",children:"Failed"})]})]})]}),!L0&&ng.length>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(U,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Payouts"}),n.jsx("div",{className:"text-2xl font-bold",children:El.length})]}),n.jsxs(U,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:El.filter(g=>g.status==="completed").length})]}),n.jsxs(U,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:El.filter(g=>g.status==="failed").length})]}),n.jsxs(U,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl font-bold",children:["$",El.filter(g=>g.status==="completed").reduce((g,q)=>g+parseFloat(q.amount),0).toFixed(2)]})]})]}),L0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading withdrawal history..."}):ng.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-withdrawals",children:"No withdrawal history yet"}):El.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No withdrawals match your search criteria"}):n.jsx("div",{className:"space-y-4",children:El.map(g=>n.jsx(U,{className:"p-4","data-testid":`card-withdrawal-${g.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-semibold text-lg","data-testid":`text-amount-${g.id}`,children:["$",parseFloat(g.amount).toFixed(2)]}),n.jsx(Y,{variant:g.status==="completed"?"default":g.status==="processing"?"secondary":g.status==="failed"?"destructive":"outline","data-testid":`badge-status-${g.id}`,children:g.status})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",g.userId]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"PayPal Email:"})," ",g.paypalEmail]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Requested:"})," ",new Date(g.requestedAt).toLocaleString()]}),g.processedAt&&n.jsxs("p",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Processed:"})," ",new Date(g.processedAt).toLocaleString()]}),g.payoutBatchId&&n.jsxs("p",{className:"text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",g.payoutBatchId]}),g.transactionId&&n.jsxs("p",{className:"text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"})," ",g.transactionId]}),g.failureReason&&n.jsxs("p",{className:"text-sm text-destructive",children:[n.jsx("span",{className:"font-medium",children:"Failure Reason:"})," ",g.failureReason]})]})]}),n.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[n.jsx("p",{children:"Automated Payout"}),g.status==="completed"&&n.jsx("p",{className:"text-green-600 font-medium",children:" Sent"}),g.status==="failed"&&n.jsx("p",{className:"text-red-600 font-medium",children:" Failed"}),g.status==="processing"&&n.jsx("p",{className:"text-blue-600 font-medium",children:" Processing"})]})]})},g.id))})]})]})}),n.jsx(Et,{value:"notifications",className:"space-y-6",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-notifications",children:"Admin Notifications"}),n.jsx(Me,{children:"System alerts for listing thresholds and important events"})]}),n.jsx(z,{children:qM?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading notifications..."})}):$0.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(qv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]}):n.jsx("div",{className:"space-y-3",children:$0.map(g=>{var q;return n.jsx(U,{className:g.isRead?"opacity-60":"border-primary","data-testid":`notification-${g.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:g.title}),!g.isRead&&n.jsx(Y,{variant:"destructive",className:"text-xs",children:"New"}),g.type==="listing_threshold"&&n.jsx(Y,{variant:"secondary",className:"text-xs",children:"Threshold Alert"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.message}),g.listingCount&&n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Category: ",(q=g.category)==null?void 0:q.replace("-"," ").toUpperCase()]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Count: ",g.listingCount]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["Threshold: ",g.threshold]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(g.createdAt).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!g.isRead&&n.jsx($,{size:"sm",variant:"ghost",onClick:()=>YM.mutate(g.id),"data-testid":`button-mark-read-${g.id}`,children:n.jsx(os,{className:"h-4 w-4"})}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>XM.mutate(g.id),"data-testid":`button-delete-notification-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})})},g.id)})})})]})}),n.jsxs(Et,{value:"banners",className:"space-y-6",children:[n.jsxs(U,{children:[n.jsxs(ae,{className:"flex flex-row items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{"data-testid":"heading-banner-orders",children:"Banner Ad Orders"}),n.jsx(Me,{children:"Manage sponsor orders, track payments, and activate banner campaigns"})]}),n.jsxs($,{onClick:()=>{qe(null),Ot(""),Ye.reset(),Oe(!0)},"data-testid":"button-create-order",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx(z,{children:WM?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):B0.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Or,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Orders Yet"}),n.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:"Create banner ad orders to manage sponsor billing and campaign activation."}),n.jsxs($,{onClick:()=>{qe(null),Ot(""),Ye.reset(),Oe(!0)},"data-testid":"button-create-first-order",children:[n.jsx(Rl,{className:"h-4 w-4 mr-2"}),"Create First Order"]})]}):n.jsx("div",{className:"space-y-4",children:B0.map(g=>n.jsx(U,{"data-testid":`order-card-${g.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[g.imageUrl&&n.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:n.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h4",{className:"font-semibold",children:g.title}),n.jsx(Y,{variant:g.approvalStatus==="approved"?"default":g.approvalStatus==="rejected"?"destructive":g.approvalStatus==="sent"?"secondary":"outline",children:g.approvalStatus}),n.jsx(Y,{variant:g.paymentStatus==="paid"?"default":g.paymentStatus==="refunded"?"destructive":"outline",children:g.paymentStatus}),n.jsx(Y,{variant:"outline",className:"capitalize",children:g.tier.replace(/(\d+)month/,"$1 Month")})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Sponsor:"})," ",g.sponsorName,g.sponsorCompany&&` (${g.sponsorCompany})`]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",g.sponsorEmail]}),g.description&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Description:"})," ",g.description]}),n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[n.jsxs("span",{className:"font-medium",children:["Total: $",g.grandTotal]}),g.placements&&n.jsxs("span",{children:[n.jsx("span",{className:"font-medium",children:"Placements:"})," ",g.placements.length," pages"]}),g.paypalPaymentDate&&n.jsxs("span",{children:[n.jsx("span",{className:"font-medium",children:"Paid:"})," ",new Date(g.paypalPaymentDate).toLocaleDateString()]})]}),g.adminNotes&&n.jsxs("p",{className:"text-xs italic",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",g.adminNotes]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[g.paymentStatus==="paid"&&(g.approvalStatus==="draft"||g.approvalStatus==="sent"||g.approvalStatus==="pending_review")&&n.jsxs(n.Fragment,{children:[n.jsxs($,{size:"sm",variant:"default",onClick:()=>Q0.mutate(g.id),disabled:Q0.isPending,"data-testid":`button-approve-order-${g.id}`,children:[n.jsx(os,{className:"h-4 w-4 mr-1"}),"Approve"]}),n.jsxs($,{size:"sm",variant:"destructive",onClick:()=>{const q=prompt("Rejection reason (optional):");q!==null&&Y0.mutate({id:g.id,adminNotes:q||void 0})},disabled:Y0.isPending,"data-testid":`button-reject-order-${g.id}`,children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),g.paymentStatus==="paid"&&g.approvalStatus==="approved"&&(z0(g.id)?n.jsxs(Y,{variant:"secondary",className:"cursor-not-allowed","data-testid":`badge-activated-${g.id}`,children:[n.jsx(os,{className:"h-3 w-3 mr-1"}),"Already Activated"]}):n.jsxs($,{size:"sm",variant:"default",onClick:()=>G0.mutate(g.id),disabled:G0.isPending,"data-testid":`button-activate-order-${g.id}`,children:[n.jsx(tB,{className:"h-4 w-4 mr-1"}),"Activate"]})),!z0(g.id)&&n.jsxs($,{size:"sm",variant:"ghost",onClick:()=>{if(qe(g),Ot(g.imageUrl??""),Dt(g.tier),g.promoCode){as(g.promoCode),Se(g.promoCode),Gs(!0);const q=parseFloat(g.discountAmount||"0");H(`Promo code applied! You save $${q.toFixed(2)}`)}else as(""),Se(null),Gs(null),H("");Ye.reset({sponsorName:g.sponsorName,sponsorEmail:g.sponsorEmail,sponsorCompany:g.sponsorCompany??"",title:g.title,description:g.description??"",imageUrl:g.imageUrl??"",link:g.link??"",placements:g.placements??[],category:g.category??void 0,tier:g.tier,monthlyRate:g.monthlyRate,totalAmount:g.totalAmount,creationFee:g.creationFee,promoCode:g.promoCode??"",discountAmount:g.discountAmount??"0.00",grandTotal:g.grandTotal,approvalStatus:g.approvalStatus,paymentStatus:g.paymentStatus,adminNotes:g.adminNotes??""}),Oe(!0)},"data-testid":`button-edit-order-${g.id}`,children:[n.jsx(wa,{className:"h-4 w-4 mr-1"}),"Edit Order Details"]}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this order?")&&rL.mutate(g.id)},"data-testid":`button-delete-order-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})})},g.id))})})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-banners",children:"Live Banner Ads"}),n.jsx(Me,{children:"View and manage active banner campaigns created from paid orders. Banner ads are automatically created when you activate a paid Banner Ad Order."})]}),n.jsx(z,{children:HM?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading banner ads..."})}):pm.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(np,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Live Banner Ads"}),n.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Banner ads appear here when you activate paid orders from the Banner Ad Orders section. Create an order, get payment from the sponsor, then activate it to create a live banner ad."})]}):n.jsx("div",{className:"space-y-4",children:pm.map(g=>n.jsx(U,{"data-testid":`banner-card-${g.id}`,children:n.jsx(z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[g.imageUrl&&n.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:n.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold",children:g.title}),n.jsx(Y,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"}),g.placements&&g.placements.length>0&&n.jsx(Y,{variant:"outline",className:"capitalize",children:g.placements[0].replace("_"," ")}),g.category&&n.jsx(Y,{variant:"outline",className:"capitalize",children:g.category.replace("-"," ")})]}),n.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[g.link&&n.jsxs("p",{className:"truncate",children:[n.jsx("span",{className:"font-medium",children:"Link URL:"})," ",g.link]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{children:[n.jsx(Po,{className:"h-3 w-3 inline mr-1"}),new Date(g.startDate).toLocaleDateString(),g.endDate&&` - ${new Date(g.endDate).toLocaleDateString()}`]}),n.jsxs("span",{children:[n.jsx(tp,{className:"h-3 w-3 inline mr-1"}),g.impressions??0," impressions"]}),n.jsxs("span",{children:[n.jsx(Fl,{className:"h-3 w-3 inline mr-1"}),g.clicks??0," clicks"]}),(g.impressions??0)>0&&n.jsxs("span",{className:"text-primary",children:["CTR: ",((g.clicks??0)/(g.impressions??0)*100).toFixed(2),"%"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($,{size:"sm",variant:"ghost",onClick:()=>nL.mutate({id:g.id,isActive:!g.isActive}),"data-testid":`button-toggle-banner-${g.id}`,children:g.isActive?n.jsx(Dn,{className:"h-4 w-4"}):n.jsx(os,{className:"h-4 w-4"})}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>{je(g),Ge(g.imageUrl||""),ts.reset({title:g.title,imageUrl:g.imageUrl||"",link:g.link??"",description:g.description??"",placements:g.placements||[],category:g.category||void 0,listingId:g.listingId||void 0,listingType:g.listingType||void 0,isActive:g.isActive,startDate:g.startDate?new Date(g.startDate):new Date,endDate:g.endDate?new Date(g.endDate):void 0}),St(!0)},"data-testid":`button-edit-banner-${g.id}`,children:n.jsx(wa,{className:"h-4 w-4"})}),n.jsx($,{size:"sm",variant:"ghost",onClick:()=>{confirm(`Are you sure you want to delete the banner ad "${g.title}"?`)&&sL.mutate(g.id)},"data-testid":`button-delete-banner-${g.id}`,children:n.jsx(Sn,{className:"h-4 w-4"})})]})]})})},g.id))})})]})]})]}),n.jsx(gs,{open:o,onOpenChange:g=>{l(g),g||(a(null),d(""))},children:n.jsxs(ls,{className:"max-w-2xl",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Review Verification Submission"}),n.jsx(_s,{children:"Review the submitted documents and information carefully before approving or rejecting."})]}),i&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-semibold",children:"Submission Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",i.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Y,{variant:"outline",children:i.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Submitted:"})," ",i.createdAt?new Date(i.createdAt).toLocaleString():"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",i.userId]})]})]}),(()=>{const g=i.submissionData;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-semibold",children:"User Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Legal Name:"})," ",g.legalFirstName," ",g.legalLastName]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",g.dateOfBirth]}),g.faaCertificateNumber&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"FAA Certificate:"})," ",g.faaCertificateNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Certificate Name:"})," ",g.pilotCertificateName]})]})]})]})})(),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h3",{className:"font-semibold",children:["Documents (",((hN=i.documentUrls)==null?void 0:hN.length)||0,")"]}),n.jsx("div",{className:"space-y-1 text-sm",children:(i.documentUrls||[]).map((g,q)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Y,{variant:"secondary",className:"text-xs",children:["Document ",q+1]}),n.jsx("span",{className:"text-muted-foreground truncate",children:g})]},q))}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Document URLs are placeholders. In production, these will link to cloud storage."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"rejection-notes",children:"Rejection Notes (optional)"}),n.jsx(rs,{id:"rejection-notes",placeholder:"Provide feedback on why this verification is being rejected...",value:c,onChange:g=>d(g.target.value),rows:3,"data-testid":"textarea-rejection-notes"})]})]}),n.jsxs(Fn,{className:"gap-2",children:[n.jsx($,{variant:"outline",onClick:()=>{l(!1),d("")},children:"Cancel"}),n.jsxs($,{variant:"destructive",onClick:()=>{i&&ig.mutate({id:i.id,notes:c||"No reason provided"})},disabled:ig.isPending,"data-testid":"button-reject-verification",children:[n.jsx(Dn,{className:"h-4 w-4 mr-2"}),ig.isPending?"Rejecting...":"Reject"]}),n.jsxs($,{onClick:()=>{i&&rg.mutate(i.id)},disabled:rg.isPending,"data-testid":"button-approve-verification",children:[n.jsx(os,{className:"h-4 w-4 mr-2"}),rg.isPending?"Approving...":"Approve"]})]})]})}),n.jsx(gs,{open:b,onOpenChange:j,children:n.jsxs(ls,{className:"max-w-2xl","data-testid":"dialog-lead-form",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:v?"Edit Lead":"Add New Lead"}),n.jsx(_s,{children:v?"Update lead information":"Add a new sales lead to your CRM"})]}),n.jsx(Fr,{...st,children:n.jsxs("form",{onSubmit:st.handleSubmit(uL),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:st.control,name:"firstName",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"First Name"}),n.jsx(ne,{children:n.jsx(Q,{...g,"data-testid":"input-lead-first-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:st.control,name:"lastName",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Last Name"}),n.jsx(ne,{children:n.jsx(Q,{...g,"data-testid":"input-lead-last-name"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:st.control,name:"email",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Email"}),n.jsx(ne,{children:n.jsx(Q,{type:"email",...g,"data-testid":"input-lead-email"})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:st.control,name:"phone",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Phone"}),n.jsx(ne,{children:n.jsx(Q,{...g,value:g.value||"","data-testid":"input-lead-phone"})}),n.jsx(re,{})]})}),n.jsx(te,{control:st.control,name:"company",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Company"}),n.jsx(ne,{children:n.jsx(Q,{...g,value:g.value||"","data-testid":"input-lead-company"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:st.control,name:"status",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Status"}),n.jsxs(As,{onValueChange:g.onChange,value:g.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-lead-status",children:n.jsx(Fs,{placeholder:"Select status"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"new",children:"New"}),n.jsx(ve,{value:"contacted",children:"Contacted"}),n.jsx(ve,{value:"qualified",children:"Qualified"}),n.jsx(ve,{value:"proposal",children:"Proposal"}),n.jsx(ve,{value:"negotiation",children:"Negotiation"}),n.jsx(ve,{value:"won",children:"Won"}),n.jsx(ve,{value:"lost",children:"Lost"})]})]}),n.jsx(re,{})]})}),n.jsx(te,{control:st.control,name:"source",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Source"}),n.jsxs(As,{onValueChange:g.onChange,value:g.value||"",children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-lead-source",children:n.jsx(Fs,{placeholder:"Select source"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"website",children:"Website"}),n.jsx(ve,{value:"referral",children:"Referral"}),n.jsx(ve,{value:"social_media",children:"Social Media"}),n.jsx(ve,{value:"advertising",children:"Advertising"}),n.jsx(ve,{value:"cold_outreach",children:"Cold Outreach"}),n.jsx(ve,{value:"event",children:"Event"}),n.jsx(ve,{value:"other",children:"Other"})]})]}),n.jsx(re,{})]})})]}),n.jsx(te,{control:st.control,name:"notes",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Notes"}),n.jsx(ne,{children:n.jsx(rs,{...g,value:g.value||"","data-testid":"textarea-lead-notes",placeholder:"Add any notes about this lead...",rows:4})}),n.jsx(re,{})]})}),n.jsxs(Fn,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{j(!1),st.reset(),p(null)},children:"Cancel"}),n.jsx($,{type:"submit",disabled:ag.isPending||og.isPending,"data-testid":"button-submit-lead",children:ag.isPending||og.isPending?"Saving...":v?"Update Lead":"Create Lead"})]})]})})]})}),n.jsx(gs,{open:f,onOpenChange:w,children:n.jsxs(ls,{className:"max-w-md","data-testid":"dialog-expense-form",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:S?"Edit Expense":"Add New Expense"}),n.jsx(_s,{children:S?"Update expense information":"Track a new expense"})]}),n.jsx(Fr,{...pt,children:n.jsxs("form",{onSubmit:pt.handleSubmit(cL),className:"space-y-4",children:[n.jsx(te,{control:pt.control,name:"category",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Category"}),n.jsxs(As,{onValueChange:g.onChange,value:g.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-expense-category",children:n.jsx(Fs,{placeholder:"Select category"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"server",children:"Server"}),n.jsx(ve,{value:"database",children:"Database"}),n.jsx(ve,{value:"other",children:"Other"})]})]}),n.jsx(re,{})]})}),n.jsx(te,{control:pt.control,name:"amount",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Amount ($)"}),n.jsx(ne,{children:n.jsx(Q,{...g,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-expense-amount"})}),n.jsx(re,{})]})}),n.jsx(te,{control:pt.control,name:"expenseDate",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Date"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):new Date),"data-testid":"input-expense-date"})}),n.jsx(re,{})]})}),n.jsxs(Z,{children:[n.jsx(J,{children:"Invoice (Optional)"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{type:"file",accept:"image/*,.pdf",onChange:g=>{var We;const q=(We=g.target.files)==null?void 0:We[0];q&&pr(q)},"data-testid":"input-invoice-file"}),Kn&&n.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[n.jsx("span",{className:"text-sm truncate",children:Kn.name}),n.jsx($,{type:"button",size:"sm",onClick:dL,disabled:oa,"data-testid":"button-extract-invoice-data",children:oa?"Extracting...":"Auto-fill from invoice"})]})]}),n.jsx(js,{children:"Upload an invoice image or PDF. We'll automatically extract the amount, date, and description."})]}),n.jsx(te,{control:pt.control,name:"description",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description (Optional)"}),n.jsx(ne,{children:n.jsx(rs,{...g,value:g.value||"","data-testid":"textarea-expense-description",placeholder:"Add details about this expense...",rows:3})}),n.jsx(re,{})]})}),n.jsxs(Fn,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{w(!1),pt.reset(),k(null)},children:"Cancel"}),n.jsx($,{type:"submit",disabled:lg.isPending||cg.isPending,"data-testid":"button-submit-expense",children:lg.isPending||cg.isPending?"Saving...":S?"Update Expense":"Add Expense"})]})]})})]})}),n.jsx(gs,{open:!!C,onOpenChange:g=>!g&&_(null),children:n.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Aircraft Listing Details"}),n.jsx(_s,{children:"Review full aircraft listing information"})]}),C&&n.jsxs("div",{className:"space-y-6",children:[C.images&&C.images.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.images.slice(0,6).map((g,q)=>n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:n.jsx("img",{src:g,alt:`Aircraft ${q+1}`,className:"w-full h-full object-cover"})},q))}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg mb-3",children:[C.year," ",C.make," ",C.model]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Registration:"})," ",n.jsx("span",{className:"font-medium",children:C.registration})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",n.jsx("span",{className:"font-medium",children:C.location})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Hourly Rate:"})," ",n.jsxs("span",{className:"font-medium",children:["$",C.hourlyRate,"/hr"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Time:"})," ",n.jsxs("span",{className:"font-medium",children:[C.totalTime," hrs"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Owner ID:"})," ",n.jsx("span",{className:"font-medium",children:C.ownerId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Y,{variant:C.isListed?"default":"secondary",children:C.isListed?"Listed":"Unlisted"})]})]})]}),C.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:C.description})]}),C.requiredCertifications&&C.requiredCertifications.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Required Certifications"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:C.requiredCertifications.map((g,q)=>n.jsx(Y,{variant:"outline",children:g},q))})]}),n.jsxs(Fn,{className:"gap-2",children:[n.jsxs($,{variant:"outline",onClick:()=>{V0.mutate({id:C.id,isListed:!C.isListed}),_(null)},children:[C.isListed?"Unlist":"List"," Aircraft"]}),n.jsx($,{variant:"destructive",onClick:()=>{ee({type:"aircraft",id:C.id}),L(!0),_(null)},children:"Delete Listing"})]})]})]})}),n.jsx(gs,{open:!!T,onOpenChange:g=>!g&&R(null),children:n.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Marketplace Listing Details"}),n.jsx(_s,{children:"Review full marketplace listing information"})]}),T&&n.jsxs("div",{className:"space-y-6",children:[T.images&&T.images.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2",children:T.images.slice(0,6).map((g,q)=>n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:n.jsx("img",{src:g,alt:`Listing ${q+1}`,className:"w-full h-full object-cover"})},q))}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg mb-3",children:T.title}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",n.jsx(Y,{variant:"outline",className:"ml-1",children:T.category})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",n.jsx("span",{className:"font-medium",children:T.location||"Not specified"})]}),T.price&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",n.jsxs("span",{className:"font-medium",children:["$",T.price]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"})," ",n.jsxs("span",{className:"font-medium",children:["$",T.monthlyFee,T.monthlyFee==="0"&&" (FREE)"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",n.jsx("span",{className:"font-medium",children:T.userId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Y,{variant:T.isActive?"default":"secondary",children:T.isActive?"Active":"Inactive"})]}),T.isPaid&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment:"})," ",n.jsx(Y,{variant:"default",children:"Paid"})]}),T.expiresAt&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",n.jsx("span",{className:"font-medium",children:new Date(T.expiresAt).toLocaleDateString()})]})]})]}),T.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:T.description})]}),(T.contactEmail||T.contactPhone)&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[T.contactEmail&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",n.jsx("span",{className:"font-medium",children:T.contactEmail})]}),T.contactPhone&&n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",n.jsx("span",{className:"font-medium",children:T.contactPhone})]})]})]}),n.jsxs(Fn,{className:"gap-2",children:[n.jsxs($,{variant:"outline",onClick:()=>{q0.mutate({id:T.id,isActive:!T.isActive}),R(null)},children:[T.isActive?"Deactivate":"Activate"," Listing"]}),n.jsx($,{variant:"destructive",onClick:()=>{ee({type:"marketplace",id:T.id}),L(!0),R(null)},children:"Delete Listing"})]})]})]})}),n.jsx(gs,{open:D,onOpenChange:L,children:n.jsxs(ls,{children:[n.jsxs(ys,{children:[n.jsx(vs,{children:"Delete Listing"}),n.jsxs(_s,{children:["Are you sure you want to delete this ",(B==null?void 0:B.type)==="aircraft"?"aircraft":"marketplace"," listing? This action cannot be undone."]})]}),n.jsxs(Fn,{children:[n.jsx($,{variant:"outline",onClick:()=>{L(!1),ee(null)},"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx($,{variant:"destructive",onClick:aL,disabled:dg.isPending||gg.isPending,"data-testid":"button-confirm-delete",children:dg.isPending||gg.isPending?"Deleting...":"Delete"})]})]})}),n.jsx(gs,{open:W,onOpenChange:se,children:n.jsxs(ls,{className:"max-w-2xl","data-testid":"dialog-create-promo",children:[n.jsxs(ys,{children:[n.jsxs(vs,{children:[A?"Edit":"Create"," Promotional Alert"]}),n.jsxs(_s,{children:[A?"Update":"Create a new"," promotional banner or announcement for the marketplace"]})]}),n.jsx(Fr,{...Qs,children:n.jsxs("form",{onSubmit:Qs.handleSubmit(g=>ug.mutate(g)),className:"space-y-4",children:[n.jsx(te,{control:Qs.control,name:"title",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Title"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Limited Time Offer!",...g,"data-testid":"input-promo-title"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Qs.control,name:"message",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Message"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Get your first listing free for 7 days!",...g,"data-testid":"textarea-promo-message"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Qs.control,name:"promoCode",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Promo Code (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"LAUNCH2025",...g,value:g.value||"","data-testid":"input-promo-code"})}),n.jsx(js,{children:"Leave blank if no code needed"}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:Qs.control,name:"showOnMainPage",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-show-main"})}),n.jsx(J,{className:"cursor-pointer",children:"Show on Main Page"}),n.jsx(re,{})]})}),n.jsx(te,{control:Qs.control,name:"showOnCategoryPages",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-show-category"})}),n.jsx(J,{className:"cursor-pointer",children:"Show on Category Pages"}),n.jsx(re,{})]})})]}),n.jsx(te,{control:Qs.control,name:"targetCategories",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Target Categories"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["sale","charter","cfi","flight-school","mechanic","job"].map(q=>{var We;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ks,{checked:(We=g.value)==null?void 0:We.includes(q),onCheckedChange:xt=>{const jt=g.value||[];xt?g.onChange([...jt,q]):g.onChange(jt.filter(Xr=>Xr!==q))},"data-testid":`checkbox-category-${q}`}),n.jsx($e,{className:"cursor-pointer capitalize",children:q==="cfi"?"CFI":q.replace("-"," ")})]},q)})}),n.jsx(js,{children:"Leave all unchecked to show on all categories"}),n.jsx(re,{})]})}),n.jsxs(Fn,{children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{se(!1),K(null),Qs.reset()},"data-testid":"button-cancel-create-promo",children:"Cancel"}),n.jsxs($,{type:"submit",disabled:ug.isPending,"data-testid":"button-submit-promo",children:[ug.isPending?"Creating...":A?"Update":"Create"," Alert"]})]})]})})]})}),n.jsx(gs,{open:Ze,onOpenChange:g=>{St(g),g||(je(null),ts.reset(),Ge(""))},children:n.jsx(ls,{className:"max-w-3xl p-0","data-testid":"dialog-create-banner",children:n.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[n.jsxs(ys,{className:"px-6 pt-6",children:[n.jsx(vs,{children:"Edit Live Banner Ad"}),n.jsx(_s,{children:"Admin override: You can edit all banner ad fields including creative content, scheduling, and status."})]}),n.jsx(Fr,{...ts,children:n.jsxs("form",{onSubmit:ts.handleSubmit(g=>{if(!ft){De({title:"Error",description:"Can only edit existing banner ads. Banner ads are created by activating paid orders.",variant:"destructive"});return}const q={title:g.title,description:g.description,imageUrl:Be||g.imageUrl,link:g.link,placements:g.placements,category:g.category,startDate:g.startDate,endDate:g.endDate,isActive:g.isActive};fg.mutate({id:ft.id,data:q})}),className:"flex flex-col flex-1 min-h-0",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),n.jsx(te,{control:ts.control,name:"title",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Banner Title"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Premium Aircraft Rentals",...g,"data-testid":"input-banner-title"})}),n.jsx(re,{})]})}),n.jsx(te,{control:ts.control,name:"description",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description/Tagline (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Fly with confidence",...g,value:g.value??"","data-testid":"input-banner-description"})}),n.jsx(re,{})]})}),n.jsx(te,{control:ts.control,name:"link",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Link URL (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"https://example.com",...g,value:g.value??"","data-testid":"input-banner-link"})}),n.jsx(re,{})]})}),n.jsx(te,{control:ts.control,name:"imageUrl",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Banner Image"}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{placeholder:"Image URL",...g,value:g.value??"","data-testid":"input-banner-image-url"}),n.jsx(Dp,{onGetUploadParameters:ZM,onUploadComplete:JM,allowedFileTypes:["image/*"],maxNumberOfFiles:1}),(g.value||Be)&&n.jsx("img",{src:g.value||Be,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),n.jsx(te,{control:ts.control,name:"placements",render:()=>n.jsxs(Z,{children:[n.jsx(J,{children:"Display On"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage"},{value:"rentals",label:"Aircraft Rentals"},{value:"marketplace",label:"Marketplace Hub"}].map(g=>n.jsx(te,{control:ts.control,name:"placements",render:({field:q})=>{var We;return n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:((We=q.value)==null?void 0:We.includes(g.value))??!1,onCheckedChange:xt=>{const jt=q.value||[],Xr=xt?[...jt,g.value]:jt.filter(xr=>xr!==g.value);q.onChange(Xr)},"data-testid":`checkbox-banner-placement-${g.value}`})}),n.jsx(J,{className:"cursor-pointer font-normal",children:g.label})]})}},g.value))}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Scheduling & Status"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:ts.control,name:"startDate",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Start Date"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-banner-start-date"})}),n.jsx(re,{})]})}),n.jsx(te,{control:ts.control,name:"endDate",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"End Date"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-banner-end-date"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:ts.control,name:"isActive",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-banner-active"})}),n.jsx(J,{className:"cursor-pointer",children:"Active (show banner immediately)"}),n.jsx(re,{})]})})]})]}),n.jsxs(Fn,{className:"px-6 pb-6",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{St(!1),je(null),ts.reset(),Ge("")},"data-testid":"button-cancel-edit-banner",children:"Cancel"}),n.jsx($,{type:"submit",disabled:fg.isPending,"data-testid":"button-submit-edit-banner",children:fg.isPending?"Updating...":"Update Banner Ad"})]})]})})]})})}),n.jsx(gs,{open:Qe,onOpenChange:g=>{Oe(g),g||(qe(null),Ye.reset(),as(""),Gs(null),H(""),Se(null),Ot(""))},children:n.jsx(ls,{className:"max-w-3xl p-0","data-testid":"dialog-create-order",children:n.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[n.jsxs(ys,{className:"px-6 pt-6",children:[n.jsxs(vs,{children:[fe?"Edit":"Create"," Banner Ad Order"]}),n.jsxs(_s,{children:[fe?"Update":"Create a new"," banner ad order for sponsor billing and activation"]})]}),n.jsx(Fr,{...Ye,children:n.jsxs("form",{onSubmit:Ye.handleSubmit(g=>{if(!g.placements||g.placements.length===0){De({title:"Validation Error",description:"Please select at least one page for banner placement",variant:"destructive"});return}const q={...g,imageUrl:g.imageUrl||Kt};fe?xg.mutate({id:fe.id,data:q}):pg.mutate(q)}),className:"flex flex-col flex-1 min-h-0",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Sponsor Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:Ye.control,name:"sponsorName",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Sponsor Name"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"John Doe",...g,"data-testid":"input-order-sponsor-name"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Ye.control,name:"sponsorEmail",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Sponsor Email"}),n.jsx(ne,{children:n.jsx(Q,{type:"email",placeholder:"sponsor@example.com",...g,"data-testid":"input-order-sponsor-email"})}),n.jsx(re,{})]})})]}),n.jsx(te,{control:Ye.control,name:"sponsorCompany",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Company Name (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Aviation Corp",...g,value:g.value??"","data-testid":"input-order-sponsor-company"})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),n.jsx(te,{control:Ye.control,name:"title",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Banner Title"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Premium Aircraft Rentals",...g,"data-testid":"input-order-title"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Ye.control,name:"description",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description/Tagline (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Fly with confidence",...g,value:g.value??"","data-testid":"input-order-description"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Ye.control,name:"link",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Link URL (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"https://example.com",...g,value:g.value??"","data-testid":"input-order-link"})}),n.jsx(re,{})]})}),n.jsx(te,{control:Ye.control,name:"imageUrl",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Banner Image"}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{placeholder:"Image URL",...g,value:g.value??"","data-testid":"input-order-image-url"}),n.jsx(Dp,{onGetUploadParameters:eL,onComplete:tL,maxNumberOfFiles:1,children:"Upload Image"}),Kt&&n.jsx("img",{src:Kt,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),n.jsx(te,{control:Ye.control,name:"placements",render:()=>n.jsxs(Z,{children:[n.jsx(J,{children:"Display On"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage (Landing Page)"},{value:"rentals",label:"Aircraft Rentals Page"},{value:"marketplace",label:"Marketplace Hub"},{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"jobs",label:"Aviation Jobs"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight Schools"},{value:"mechanic",label:"Mechanic Services"},{value:"charter",label:"Charter Services"}].map(g=>n.jsx(te,{control:Ye.control,name:"placements",render:({field:q})=>{var We;return n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:((We=q.value)==null?void 0:We.includes(g.value))??!1,onCheckedChange:xt=>{const jt=q.value||[],Xr=xt?[...jt,g.value]:jt.filter(xr=>xr!==g.value);q.onChange(Xr)},"data-testid":`checkbox-order-placement-${g.value}`})}),n.jsx(J,{className:"cursor-pointer font-normal",children:g.label})]})}},g.value))}),n.jsx(re,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Pricing & Billing"}),n.jsx(te,{control:Ye.control,name:"tier",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Select Tier"}),n.jsx(ne,{children:n.jsxs("select",{...g,className:"w-full h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",onChange:q=>{g.onChange(q);const We=q.target.value;Dt(We),as(""),Gs(null),H(""),Se(null);const xt=Wd(We);Ye.setValue("monthlyRate",xt.monthlyRate.toString()),Ye.setValue("totalAmount",xt.subscriptionTotal.toString()),Ye.setValue("creationFee",xt.creationFee.toString()),Ye.setValue("grandTotal",xt.grandTotal.toString()),Ye.setValue("promoCode",""),Ye.setValue("discountAmount","0.00")},"data-testid":"select-order-tier",children:[n.jsx("option",{value:"1month",children:"1 Month - $75/mo"}),n.jsx("option",{value:"3months",children:"3 Months - $60/mo (Most Popular)"}),n.jsx("option",{value:"6months",children:"6 Months - $50/mo (Best Value)"}),n.jsx("option",{value:"12months",children:"12 Months - $45/mo"})]})}),n.jsx(re,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{children:"Promo Code (Optional)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{placeholder:"Enter promo code",value:bn,onChange:g=>as(g.target.value.toUpperCase()),"data-testid":"input-order-promo-code",className:"flex-1"}),n.jsx($,{type:"button",variant:"outline",onClick:iL,"data-testid":"button-apply-promo-code",children:"Apply"})]}),fr===!1&&n.jsx("p",{className:"text-sm text-destructive","data-testid":"text-promo-error",children:I}),fr===!0&&n.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1","data-testid":"text-promo-success",children:[n.jsx(os,{className:"h-4 w-4"}),I]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Monthly Rate:"}),n.jsxs("span",{className:"font-semibold",children:["$",Ye.watch("monthlyRate"),"/mo"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Subscription (",nt==="1month"?"1":nt==="3months"?"3":nt==="6months"?"6":"12"," months):"]}),n.jsxs("span",{className:"font-semibold",children:["$",Ye.watch("totalAmount")]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"One-time creation fee:"}),n.jsxs("span",{className:"font-semibold",children:["$",Ye.watch("creationFee")]})]}),ie&&parseFloat(Ye.watch("discountAmount")||"0")>0&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"border-t pt-2 space-y-2",children:(()=>{const g=Wd(nt),q=JC(g.creationFee,g.subscriptionTotal,ie);return n.jsxs(n.Fragment,{children:[q.creationFeeDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Creation fee discount:"}),n.jsxs("span",{children:["-$",q.creationFeeDiscount.toFixed(2)]})]}),q.subscriptionDiscount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Subscription discount (20%):"}),n.jsxs("span",{children:["-$",q.subscriptionDiscount.toFixed(2)]})]})]})})()})}),n.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[n.jsx("span",{className:"font-bold",children:"Due Today:"}),n.jsxs("span",{className:"font-bold text-lg",children:["$",Ye.watch("grandTotal")]})]})]})]}),n.jsx(te,{control:Ye.control,name:"adminNotes",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Admin Notes (Optional)"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"Internal notes",...g,value:g.value??"","data-testid":"input-order-admin-notes"})}),n.jsx(re,{})]})})]}),n.jsxs(Fn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{Oe(!1),qe(null),Ye.reset()},"data-testid":"button-cancel-create-order",children:"Cancel"}),n.jsx($,{type:"submit",disabled:pg.isPending||xg.isPending,"data-testid":"button-submit-order",children:pg.isPending||xg.isPending?"Saving...":fe?"Update Order":"Create Order"})]})]})})]})})}),n.jsx(gs,{open:M,onOpenChange:g=>{F(g),g||(he(null),Mt.reset())},children:n.jsx(ls,{className:"max-w-2xl p-0","data-testid":"dialog-create-promo-code",children:n.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[n.jsxs(ys,{className:"px-6 pt-6",children:[n.jsxs(vs,{children:[O?"Edit":"Create"," Promo Code"]}),n.jsxs(_s,{children:[O?"Update":"Create a new"," promotional discount code for marketplace listings or banner ads"]})]}),n.jsx(Fr,{...Mt,children:n.jsxs("form",{onSubmit:Mt.handleSubmit(g=>{const q={...g,code:g.code.toUpperCase().replace(/\s+/g,"")};O?mg.mutate({id:O.id,data:q}):hg.mutate(q)}),className:"flex flex-col flex-1 min-h-0",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[n.jsx(te,{control:Mt.control,name:"code",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Code"}),n.jsx(ne,{children:n.jsx(Q,{placeholder:"LAUNCH2025",...g,onChange:q=>g.onChange(q.target.value.toUpperCase().replace(/\s+/g,"")),"data-testid":"input-promo-code-code"})}),n.jsx(js,{children:"Uppercase letters and numbers only, no spaces"}),n.jsx(re,{})]})}),n.jsx(te,{control:Mt.control,name:"description",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Description"}),n.jsx(ne,{children:n.jsx(rs,{placeholder:"Launch promotion for new users",...g,rows:3,"data-testid":"textarea-promo-code-description"})}),n.jsx(js,{children:"Internal description for this promo code"}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:Mt.control,name:"discountType",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Discount Type"}),n.jsxs(As,{onValueChange:g.onChange,value:g.value,children:[n.jsx(ne,{children:n.jsx(ws,{"data-testid":"select-promo-code-discount-type",children:n.jsx(Fs,{placeholder:"Select type"})})}),n.jsxs(Ns,{children:[n.jsx(ve,{value:"percentage",children:"Percentage (%)"}),n.jsx(ve,{value:"fixed",children:"Fixed Amount ($)"})]})]}),n.jsx(re,{})]})}),n.jsx(te,{control:Mt.control,name:"discountValue",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Discount Value"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",step:"0.01",placeholder:Mt.watch("discountType")==="percentage"?"10":"5.00",...g,"data-testid":"input-promo-code-discount-value"})}),n.jsx(js,{children:Mt.watch("discountType")==="percentage"?"Percentage (0-100)":"Dollar amount"}),n.jsx(re,{})]})})]}),n.jsx(te,{control:Mt.control,name:"maxUses",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Max Uses"}),n.jsx(ne,{children:n.jsx(Q,{type:"number",placeholder:"Unlimited",...g,value:g.value??"",onChange:q=>g.onChange(q.target.value?parseInt(q.target.value):void 0),"data-testid":"input-promo-code-max-uses"})}),n.jsx(js,{children:"Leave empty for unlimited uses"}),n.jsx(re,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(te,{control:Mt.control,name:"validFrom",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Valid From"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):new Date),"data-testid":"input-promo-code-valid-from"})}),n.jsx(js,{children:"Start date"}),n.jsx(re,{})]})}),n.jsx(te,{control:Mt.control,name:"validUntil",render:({field:g})=>n.jsxs(Z,{children:[n.jsx(J,{children:"Valid Until"}),n.jsx(ne,{children:n.jsx(Q,{type:"date",value:g.value instanceof Date?g.value.toISOString().split("T")[0]:typeof g.value=="string"?g.value.split("T")[0]:"",onChange:q=>g.onChange(q.target.value?new Date(q.target.value):void 0),"data-testid":"input-promo-code-valid-until"})}),n.jsx(js,{children:"Leave empty for no expiration"}),n.jsx(re,{})]})})]}),n.jsx(te,{control:Mt.control,name:"isActive",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!0,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-active"})}),n.jsx(J,{className:"cursor-pointer",children:"Active (code can be used immediately)"}),n.jsx(re,{})]})}),n.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Applies To"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(te,{control:Mt.control,name:"applicableToBannerAds",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!1,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-banner-ads"})}),n.jsx(J,{className:"cursor-pointer",children:"Banner Ads"}),n.jsx(re,{})]})}),n.jsx(te,{control:Mt.control,name:"applicableToMarketplace",render:({field:g})=>n.jsxs(Z,{className:"flex items-center gap-2 space-y-0",children:[n.jsx(ne,{children:n.jsx(ks,{checked:g.value??!0,onCheckedChange:g.onChange,"data-testid":"checkbox-promo-code-marketplace"})}),n.jsx(J,{className:"cursor-pointer",children:"Marketplace Listings"}),n.jsx(re,{})]})})]}),n.jsx(js,{children:"Select where this promo code can be applied"})]})]}),n.jsxs(Fn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[n.jsx($,{type:"button",variant:"outline",onClick:()=>{F(!1),he(null),Mt.reset()},"data-testid":"button-cancel-promo-code",children:"Cancel"}),n.jsx($,{type:"submit",disabled:hg.isPending||mg.isPending,"data-testid":"button-submit-promo-code",children:hg.isPending||mg.isPending?"Saving...":O?"Update Code":"Create Code"})]})]})})]})})}),n.jsx(ise,{userId:u,open:m,onOpenChange:g=>{y(g),g||h(null)}})]})}var I0="Progress",D0=100,[ose,qse]=Ws(I0),[lse,cse]=ose(I0),RM=x.forwardRef((t,e)=>{const{__scopeProgress:s,value:r=null,max:i,getValueLabel:a=dse,...o}=t;(i||i===0)&&!e2(i)&&console.error(use(`${i}`,"Progress"));const l=e2(i)?i:D0;r!==null&&!t2(r,l)&&console.error(hse(`${r}`,"Progress"));const c=t2(r,l)?r:null,d=Op(c)?a(c,l):void 0;return n.jsx(lse,{scope:s,value:c,max:l,children:n.jsx(Le.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Op(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":OM(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});RM.displayName=I0;var IM="ProgressIndicator",DM=x.forwardRef((t,e)=>{const{__scopeProgress:s,...r}=t,i=cse(IM,s);return n.jsx(Le.div,{"data-state":OM(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});DM.displayName=IM;function dse(t,e){return`${Math.round(t/e*100)}%`}function OM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Op(t){return typeof t=="number"}function e2(t){return Op(t)&&!isNaN(t)&&t>0}function t2(t,e){return Op(t)&&!isNaN(t)&&t<=e&&t>=0}function use(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${D0}\`.`}function hse(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${D0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MM=RM,mse=DM;const LM=x.forwardRef(({className:t,value:e,...s},r)=>n.jsx(MM,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:n.jsx(mse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));LM.displayName=MM.displayName;function fse(){const{user:t}=vn(),[,e]=Hs(),{toast:s}=qt(),[r,i]=x.useState("identity"),[a,o]=x.useState({legalFirstName:"",legalLastName:"",dateOfBirth:"",governmentIdFront:null,governmentIdBack:null,faaCertificateNumber:"",pilotCertificateName:"",pilotCertificatePhoto:null}),[l,c]=x.useState({}),d=[{id:"identity",title:"Identity",icon:pn},{id:"documents",title:"Documents",icon:tm},{id:"payment",title:"Payment",icon:ju},{id:"pilot",title:"FAA Pilot (Optional)",icon:Ut}],u=d.findIndex(v=>v.id===r),h=(u+1)/d.length*100,m=Re({mutationFn:async v=>{const p=await fetch("/api/verification-submissions",{method:"POST",body:v,credentials:"include"});if(!p.ok){const f=await p.json();throw new Error(f.error||"Submission failed")}return await p.json()},onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/auth/user"]}),s({title:"Verification Submitted",description:"Your verification is under review. We'll notify you once it's approved."}),e("/profile")},onError:v=>{s({title:"Submission Failed",description:v.message||"Failed to submit verification",variant:"destructive"})}}),y=(v,p)=>{if(o(f=>({...f,[v]:p})),p){const f=new FileReader;f.onloadend=()=>{const w=v==="governmentIdFront"?"idFront":v==="governmentIdBack"?"idBack":"pilot";c(S=>({...S,[w]:f.result}))},f.readAsDataURL(p)}},b=()=>{if(r==="identity"){if(!a.legalFirstName||!a.legalLastName||!a.dateOfBirth){s({title:"Missing Information",description:"Please fill out all required fields",variant:"destructive"});return}i("documents")}else if(r==="documents"){if(!a.governmentIdFront||!a.governmentIdBack){s({title:"Missing Documents",description:"Please upload all required documents",variant:"destructive"});return}i("payment")}else r==="payment"&&i("pilot")},j=async()=>{const v=new FormData;v.append("type","renter_identity"),v.append("submissionData",JSON.stringify({legalFirstName:a.legalFirstName,legalLastName:a.legalLastName,dateOfBirth:a.dateOfBirth,faaCertificateNumber:a.faaCertificateNumber,pilotCertificateName:a.pilotCertificateName})),a.governmentIdFront&&v.append("governmentIdFront",a.governmentIdFront),a.governmentIdBack&&v.append("governmentIdBack",a.governmentIdBack),a.pilotCertificatePhoto&&v.append("pilotCertificatePhoto",a.pilotCertificatePhoto),m.mutate(v)};return t?n.jsx("div",{className:"min-h-screen bg-background py-8",children:n.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-verification-title",children:"Identity Verification"}),n.jsx("p",{className:"text-muted-foreground",children:"Complete verification to list aircraft and book rentals"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex justify-between mb-2",children:d.map((v,p)=>{const f=v.icon,w=p===u,S=p<u;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`flex items-center justify-center h-10 w-10 rounded-full border-2 ${S?"bg-primary border-primary text-primary-foreground":w?"border-primary text-primary":"border-muted text-muted-foreground"}`,"data-testid":`step-indicator-${v.id}`,children:S?n.jsx(Os,{className:"h-5 w-5"}):n.jsx(f,{className:"h-5 w-5"})}),n.jsx("span",{className:`hidden md:inline text-sm ${w?"font-medium":""}`,children:v.title})]},v.id)})}),n.jsx(LM,{value:h,className:"h-2"})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsxs(le,{children:[r==="identity"&&"Personal Information",r==="documents"&&"Upload Documents",r==="payment"&&"Payment Method",r==="pilot"&&"FAA Pilot Certificate (Optional)"]}),n.jsxs(Me,{children:[r==="identity"&&"Enter your legal name and date of birth",r==="documents"&&"Upload clear photos of your government ID (front and back)",r==="payment"&&"Add a payment method for booking rentals",r==="pilot"&&"Upload your FAA pilot certificate for additional verification"]})]}),n.jsxs(z,{className:"space-y-6",children:[r==="identity"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"legalFirstName",children:"Legal First Name *"}),n.jsx(Q,{id:"legalFirstName",value:a.legalFirstName,onChange:v=>o(p=>({...p,legalFirstName:v.target.value})),placeholder:"John","data-testid":"input-legal-first-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"legalLastName",children:"Legal Last Name *"}),n.jsx(Q,{id:"legalLastName",value:a.legalLastName,onChange:v=>o(p=>({...p,legalLastName:v.target.value})),placeholder:"Smith","data-testid":"input-legal-last-name"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),n.jsx(Q,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:v=>o(p=>({...p,dateOfBirth:v.target.value})),"data-testid":"input-date-of-birth"})]}),n.jsxs(ir,{children:[n.jsx(ll,{className:"h-4 w-4"}),n.jsx(ar,{children:"Your information must match your government-issued ID exactly."})]})]}),r==="documents"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"idFront",children:"Government ID - Front *"}),n.jsx(Q,{id:"idFront",type:"file",accept:"image/*",onChange:v=>{var p;return y("governmentIdFront",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-front"}),l.idFront&&n.jsx("img",{src:l.idFront,alt:"ID Front",className:"mt-2 max-w-xs rounded-md border"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"idBack",children:"Government ID - Back *"}),n.jsx(Q,{id:"idBack",type:"file",accept:"image/*",onChange:v=>{var p;return y("governmentIdBack",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-back"}),l.idBack&&n.jsx("img",{src:l.idBack,alt:"ID Back",className:"mt-2 max-w-xs rounded-md border"})]})]}),n.jsxs(ir,{children:[n.jsx(ll,{className:"h-4 w-4"}),n.jsx(ar,{children:"Ensure all documents are clear and readable."})]})]}),r==="payment"&&n.jsxs(n.Fragment,{children:[n.jsxs(ir,{children:[n.jsx(ju,{className:"h-4 w-4"}),n.jsx(ar,{children:"Payment processing is handled securely through PayPal Business when you complete your first rental or listing transaction."})]}),n.jsxs("div",{className:"p-6 border-2 border-dashed rounded-lg text-center",children:[n.jsx(ju,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"Payment Method"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your payment method will be securely added via PayPal Business when you make your first rental or listing payment. All transactions are processed through our trusted payment partner."}),n.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Ready Set Fly uses PayPal Business for secure payment processing"})]})]}),r==="pilot"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"faaCertNumber",children:"FAA Certificate Number (Optional)"}),n.jsx(Q,{id:"faaCertNumber",value:a.faaCertificateNumber,onChange:v=>o(p=>({...p,faaCertificateNumber:v.target.value})),placeholder:"1234567","data-testid":"input-faa-cert-number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"pilotName",children:"Name on Certificate (Optional)"}),n.jsx(Q,{id:"pilotName",value:a.pilotCertificateName,onChange:v=>o(p=>({...p,pilotCertificateName:v.target.value})),placeholder:"John Smith","data-testid":"input-pilot-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"pilotPhoto",children:"Pilot Certificate Photo (Optional)"}),n.jsx(Q,{id:"pilotPhoto",type:"file",accept:"image/*",onChange:v=>{var p;return y("pilotCertificatePhoto",((p=v.target.files)==null?void 0:p[0])||null)},"data-testid":"input-pilot-photo"}),l.pilot&&n.jsx("img",{src:l.pilot,alt:"Pilot Certificate",className:"mt-2 max-w-xs rounded-md border"})]})]}),n.jsxs(ir,{children:[n.jsx(Ut,{className:"h-4 w-4"}),n.jsx(ar,{children:"Adding your FAA pilot certificate is optional but helps verify your credentials for aircraft rentals."})]})]}),n.jsxs("div",{className:"flex justify-between pt-6",children:[n.jsx($,{variant:"outline",onClick:()=>{const v=u-1;v>=0?i(d[v].id):e("/profile")},"data-testid":"button-back",children:u===0?"Cancel":"Back"}),r!=="pilot"?n.jsx($,{onClick:b,"data-testid":"button-next",children:"Next"}):n.jsx($,{onClick:j,disabled:m.isPending,"data-testid":"button-submit-verification",children:m.isPending?"Submitting...":"Submit for Review"})]})]})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(U,{className:"max-w-md",children:n.jsxs(ae,{children:[n.jsx(le,{children:"Authentication Required"}),n.jsx(Me,{children:"Please log in to verify your identity"})]})})})}function pse(){const[,t]=Hs();return n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[n.jsxs($,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-6","data-testid":"button-back",children:[n.jsx(bx,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Set Up Instant PayPal Payouts"}),n.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Ready Set Fly uses PayPal Business for secure, instant payout processing. Get your rental earnings in minutes, not days."})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsx(U,{className:"border-primary/20",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(dB,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Instant Transfers"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Funds arrive in your PayPal account within minutes"})]})]})})}),n.jsx(U,{className:"border-primary/20",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(pn,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Secure Processing"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Trusted PayPal Business payment gateway"})]})]})})}),n.jsx(U,{className:"border-primary/20",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(us,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Simple Setup"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Just add your PayPal email and start withdrawing"})]})]})})})]}),n.jsxs(U,{className:"border-primary/20 bg-primary/5",children:[n.jsx(ae,{children:n.jsxs(le,{className:"flex items-center gap-2 text-lg",children:[n.jsx(Yb,{className:"h-5 w-5 text-primary"}),"How PayPal Payouts Work"]})}),n.jsx(z,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Connect Your PayPal Account"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your PayPal email address to receive instant payouts"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Request Withdrawals Anytime"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Withdraw your available balance instantly, any time you want"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Os,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Receive Funds Instantly"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Funds typically arrive in your PayPal account within minutes"})]})]})]})})]}),n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-base",children:"Learn More About PayPal"})}),n.jsxs(z,{className:"space-y-3",children:[n.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/payouts",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-docs",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Zd,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"PayPal Payouts Documentation"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Learn about instant payout processing"})]})]}),n.jsx(Zd,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/checkout",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-guide",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Zd,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"PayPal Business Guide"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment processing and withdrawals"})]})]}),n.jsx(Zd,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),n.jsx(U,{className:"border-primary",children:n.jsx(z,{className:"pt-6",children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Ready to Get Started?"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up instant PayPal withdrawals to receive your rental earnings"})]}),n.jsxs($,{size:"lg",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-setup-payouts",className:"bg-accent text-accent-foreground hover:bg-accent",children:[n.jsx(us,{className:"mr-2 h-4 w-4"}),"Go to PayPal Withdrawals"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Funds typically arrive within minutes. US residents only."})]})})})]})]})}function xse(){const{user:t}=vn(),{toast:e}=qt(),[s,r]=x.useState((t==null?void 0:t.paypalEmail)||""),[i,a]=x.useState(""),{data:o,isLoading:l}=ze({queryKey:["/api/balance"],enabled:!!t}),{data:c=[],isLoading:d}=ze({queryKey:["/api/withdrawals"],enabled:!!t}),u=Re({mutationFn:async v=>await(await Fe("PATCH","/api/user/profile",{paypalEmail:v})).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"PayPal Email Updated",description:"Your PayPal email has been saved successfully."})},onError:v=>{e({title:"Update Failed",description:v.message||"Failed to update PayPal email",variant:"destructive"})}}),h=Re({mutationFn:async v=>await(await Fe("POST","/api/withdrawals",v)).json(),onSuccess:()=>{Ce.invalidateQueries({queryKey:["/api/balance"]}),Ce.invalidateQueries({queryKey:["/api/withdrawals"]}),a(""),e({title:"Payout Processing",description:"Your funds are being sent to PayPal now. Funds typically arrive within minutes."})},onError:v=>{e({title:"Withdrawal Failed",description:v.message||"Failed to request withdrawal",variant:"destructive"})}}),m=()=>{if(!s||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){e({title:"Invalid Email",description:"Please enter a valid PayPal email address",variant:"destructive"});return}u.mutate(s)},y=()=>{const v=parseFloat(i),p=parseFloat((o==null?void 0:o.balance)||"0");if(isNaN(v)||v<=0){e({title:"Invalid Amount",description:"Please enter a valid withdrawal amount",variant:"destructive"});return}if(v>p){e({title:"Insufficient Balance",description:"Withdrawal amount exceeds your available balance",variant:"destructive"});return}if(!s){e({title:"PayPal Email Required",description:"Please set your PayPal email before requesting a withdrawal",variant:"destructive"});return}h.mutate({amount:i,paypalEmail:s})},b=v=>{switch(v){case"processing":return n.jsxs(Y,{variant:"outline",className:"gap-1","data-testid":"badge-status-processing",children:[n.jsx(ll,{className:"w-3 h-3"}),"Processing"]});case"completed":return n.jsxs(Y,{variant:"outline",className:"gap-1","data-testid":"badge-status-completed",children:[n.jsx(os,{className:"w-3 h-3"}),"Completed"]});case"failed":return n.jsxs(Y,{variant:"destructive",className:"gap-1","data-testid":"badge-status-failed",children:[n.jsx(Dn,{className:"w-3 h-3"}),"Failed"]});default:return n.jsx(Y,{variant:"outline","data-testid":`badge-status-${v}`,children:v})}};if(!t)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(U,{children:n.jsxs(ae,{children:[n.jsx(le,{children:"Authentication Required"}),n.jsx(Me,{children:"Please log in to view your withdrawals."})]})})});const j=parseFloat((o==null?void 0:o.balance)||"0");return n.jsxs("div",{className:"container mx-auto p-6 max-w-5xl space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-withdrawals",children:"Withdrawals & Payouts"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your rental earnings and request withdrawals"})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsxs(le,{className:"flex items-center gap-2","data-testid":"heading-balance",children:[n.jsx(us,{className:"w-5 h-5"}),"Available Balance"]}),n.jsx(Me,{children:"Your current balance available for withdrawal"})]}),n.jsx(z,{children:l?n.jsx("p",{className:"text-muted-foreground",children:"Loading balance..."}):n.jsxs("div",{className:"text-4xl font-bold","data-testid":"text-balance",children:["$",j.toFixed(2)]})})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-paypal-setup",children:"PayPal Email"}),n.jsx(Me,{children:"Set your PayPal email to receive withdrawals"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"paypal-email",children:"PayPal Email Address"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Q,{id:"paypal-email",type:"email",placeholder:"your.email@example.com",value:s,onChange:v=>r(v.target.value),"data-testid":"input-paypal-email"}),n.jsx($,{onClick:m,disabled:u.isPending,"data-testid":"button-save-email",children:u.isPending?"Saving...":"Save"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Payouts are sent via PayPal and typically arrive within minutes to 30 minutes."})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-request-withdrawal",children:"Request Withdrawal"}),n.jsx(Me,{children:"Withdraw your available balance to PayPal"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"withdrawal-amount",children:"Withdrawal Amount"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),n.jsx(Q,{id:"withdrawal-amount",type:"number",step:"0.01",min:"0",max:j,placeholder:"0.00",value:i,onChange:v=>a(v.target.value),className:"pl-7","data-testid":"input-withdrawal-amount"})]}),n.jsx($,{onClick:y,disabled:h.isPending||j<=0,"data-testid":"button-request-withdrawal",children:h.isPending?"Requesting...":"Request Withdrawal"})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Important Information"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsx("li",{children:" Withdrawals are processed instantly via PayPal Payouts"}),n.jsx("li",{children:" PayPal charges approximately 2% per payout (deducted from platform funds)"}),n.jsx("li",{children:" Funds typically arrive in your PayPal account within minutes"}),n.jsx("li",{children:" You'll receive an email confirmation from PayPal when funds arrive"})]})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{"data-testid":"heading-withdrawal-history",children:"Withdrawal History"}),n.jsx(Me,{children:"View your past withdrawal requests"})]}),n.jsx(z,{children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."}):c.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-withdrawals",children:"No withdrawal requests yet"}):n.jsx("div",{className:"space-y-4",children:c.map(v=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md","data-testid":`card-withdrawal-${v.id}`,children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-medium","data-testid":`text-amount-${v.id}`,children:["$",parseFloat(v.amount).toFixed(2)]}),b(v.status)]}),n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-email-${v.id}`,children:["To: ",v.paypalEmail]}),n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-date-${v.id}`,children:["Requested: ",v.requestedAt?new Date(v.requestedAt).toLocaleDateString():"N/A"]}),v.processedAt&&n.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-processed-${v.id}`,children:["Processed: ",new Date(v.processedAt).toLocaleDateString()]}),v.failureReason&&n.jsxs("p",{className:"text-sm text-destructive","data-testid":`text-error-${v.id}`,children:["Error: ",v.failureReason]})]}),v.transactionId&&n.jsxs("div",{className:"text-xs text-muted-foreground","data-testid":`text-transaction-${v.id}`,children:["Transaction: ",v.transactionId]})]},v.id))})})]})]})}function Zs(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:n.jsxs(U,{className:"max-w-md w-full",children:[n.jsxs(ae,{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:n.jsx(Ut,{className:"h-12 w-12 text-primary"})})}),n.jsxs("div",{children:[n.jsx(le,{className:"text-2xl font-bold",children:"Sign In Required"}),n.jsx(Me,{className:"text-base mt-2",children:"You need to be signed in to create listings and access this feature"})]})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Create an account or sign in to list your aircraft, post marketplace listings, and connect with the aviation community."}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(bt,{href:"/login",children:n.jsxs($,{size:"lg",className:"w-full","data-testid":"button-sign-in-required",children:[n.jsx(Z8,{className:"mr-2 h-5 w-5"}),"Sign In to Continue"]})}),n.jsx(bt,{href:"/",children:n.jsx($,{size:"lg",variant:"outline",className:"w-full","data-testid":"button-back-home",children:"Back to Home"})})]})]})]})})}function s2(){const{isAuthenticated:t}=vn();return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4 py-12",children:n.jsxs("div",{className:"flex flex-col gap-8 items-center text-center max-w-3xl",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Ut,{className:"h-32 w-32 text-muted-foreground/20 animate-pulse"}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-display text-7xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"404"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-muted-foreground max-w-md",children:"Looks like this flight path doesn't exist. The page you're looking for may have been moved or deleted."})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full mt-4",children:[n.jsx(bt,{href:"/",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-home",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(H1,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Home"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to landing page"})]})]})})}),n.jsx(bt,{href:"/rentals",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-rentals",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(Jn,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Browse Rentals"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Find aircraft to rent"})]})]})})}),n.jsx(bt,{href:"/marketplace",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-marketplace",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(Ut,{className:"h-8 w-8 text-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Marketplace"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Aviation services"})]})]})})})]}),t&&n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full",children:[n.jsx(bt,{href:"/dashboard",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-dashboard",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(p4,{className:"h-8 w-8 text-accent"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Dashboard"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"View your activity"})]})]})})}),n.jsx(bt,{href:"/favorites",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-favorites",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(H8,{className:"h-8 w-8 text-accent"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Favorites"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved listings"})]})]})})}),n.jsx(bt,{href:"/messages",children:n.jsx(U,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-messages",children:n.jsxs(z,{className:"flex flex-col items-center gap-3 p-6",children:[n.jsx(h4,{className:"h-8 w-8 text-accent"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Check conversations"})]})]})})})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsx(bt,{href:"/",children:n.jsxs($,{size:"lg","data-testid":"button-go-home",children:[n.jsx(H1,{className:"h-5 w-5 mr-2"}),"Return to Home"]})}),!t&&n.jsx(bt,{href:"/login",children:n.jsx($,{size:"lg",variant:"outline","data-testid":"button-sign-in",children:"Sign In"})})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If you believe this is an error, please"," ",n.jsx(bt,{href:"/messages",className:"text-primary hover:underline",children:"contact support"}),"."]})]})})}function gse(){return n.jsx("div",{className:"container max-w-4xl py-8 px-4",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{className:"text-3xl",children:"Privacy Policy"}),n.jsx(Me,{children:"Last Updated: November 8, 2024"})]}),n.jsxs(z,{className:"space-y-6 prose prose-sm max-w-none",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),n.jsx("p",{children:'Ready Set Fly ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),n.jsx("p",{children:"By using the Platform, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use the Platform."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Information We Collect"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.1 Information You Provide to Us"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Account Information:"})," When you create an account, we collect your name, email address, and password (if using email/password authentication)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Profile Information:"})," We collect additional information you provide such as phone number, profile photo, and bio."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Verification Documents:"})," To verify your identity as a pilot or aircraft owner, we collect pilot licenses, certificates, insurance documents, and other verification materials."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Aircraft Information:"})," If you list an aircraft for rent, we collect aircraft registration numbers, make, model, specifications, photos, and availability information."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Marketplace Listings:"})," If you create marketplace listings, we collect listing descriptions, photos, prices, and contact information."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Payment Information:"})," We collect payment information necessary to process rental payments and marketplace transactions, including payment method details processed by our payment processor (PayPal)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Messages:"})," We collect and store messages you send through our platform messaging system."]})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.2 Information Automatically Collected"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Usage Data:"})," We collect information about your interactions with the Platform, including pages visited, features used, and time spent on the Platform."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Device Information:"})," We collect information about your device, including device type, operating system, browser type, and IP address."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Authentication Data:"})," When you use third-party authentication (Google SignIn; legacy Replit Auth may also be supported), we receive your name, email, and profile information from those services."]})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Information"}),n.jsx("p",{children:"We use the information we collect for the following purposes:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"To create and manage your account"}),n.jsx("li",{children:"To verify your identity as a pilot or aircraft owner"}),n.jsx("li",{children:"To facilitate aircraft rentals and marketplace transactions"}),n.jsx("li",{children:"To process payments and manage financial transactions"}),n.jsx("li",{children:"To enable communication between users through our messaging system"}),n.jsx("li",{children:"To provide customer support and respond to your inquiries"}),n.jsx("li",{children:"To send important notifications about your account, rentals, and transactions"}),n.jsx("li",{children:"To prevent fraud, enforce our Terms of Service, and ensure platform security"}),n.jsx("li",{children:"To improve and optimize the Platform based on usage patterns"}),n.jsx("li",{children:"To comply with legal obligations and regulatory requirements"})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. How We Share Your Information"}),n.jsx("p",{children:"We may share your information in the following circumstances:"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 With Other Users"}),n.jsx("p",{children:"When you list an aircraft or create a marketplace listing, certain information (name, profile photo, listing details) is visible to other users. When you book a rental, your information is shared with the aircraft owner to facilitate the rental."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 With Service Providers"}),n.jsx("p",{children:"We share information with third-party service providers who assist us in operating the Platform:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"PayPal:"})," Processes all payments for aircraft rentals and marketplace listing fees. View their privacy policy at ",n.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"PayPal Payouts API:"})," Processes owner withdrawals. View their privacy policy at ",n.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Google (Identity):"})," Provides authentication services when you sign in using Google. View their privacy policy at ",n.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"policies.google.com/privacy"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Replit (Legacy):"})," Previously used for authentication/hosting for some deployments. If applicable, we may continue to support legacy Replit-authenticated accounts. View their privacy policy at ",n.jsx("a",{href:"https://replit.com/site/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"replit.com/site/privacy"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Neon (PostgreSQL Database):"})," Hosts our database. View their privacy policy at ",n.jsx("a",{href:"https://neon.tech/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"neon.tech/privacy-policy"})]})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 For Legal Reasons"}),n.jsx("p",{children:"We may disclose your information if required by law or to:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Comply with legal processes or government requests"}),n.jsx("li",{children:"Enforce our Terms of Service and other agreements"}),n.jsx("li",{children:"Protect the rights, property, or safety of Ready Set Fly, our users, or others"}),n.jsx("li",{children:"Prevent fraud or security threats"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.4 Business Transfers"}),n.jsx("p",{children:"If Ready Set Fly is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction. We will notify you via email and/or prominent notice on the Platform of any change in ownership or use of your information."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Data Retention"}),n.jsx("p",{children:"We retain your information for as long as your account is active or as needed to provide you services. We will retain and use your information as necessary to:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Comply with legal obligations (e.g., tax records for 7 years)"}),n.jsx("li",{children:"Resolve disputes and enforce our agreements"}),n.jsx("li",{children:"Prevent fraud and maintain platform security"})]}),n.jsx("p",{className:"mt-3",children:"When you request account deletion, we will delete your personal information within 30 days, except for information we are required to retain for legal, regulatory, or security purposes."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Your Rights and Choices"}),n.jsx("p",{children:"You have the following rights regarding your information:"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Access and Update"}),n.jsx("p",{children:"You can access and update your account information at any time by logging into your account and visiting your Profile settings."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Account Deletion"}),n.jsx("p",{children:"You have the right to request deletion of your account and personal data. You can:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Delete your account from within the app by visiting Settings  Account  Delete Account"}),n.jsxs("li",{children:["Submit a deletion request at ",n.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:"readysetfly.us/delete-account"})]})]}),n.jsx("p",{className:"mt-3",children:"When you delete your account, we will remove your personal information, rental history, messages, and verification documents within 30 days. Some information may be retained as required by law."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 Marketing Communications"}),n.jsx("p",{children:"You can opt out of marketing communications by following the unsubscribe link in our emails. You will continue to receive transactional emails related to your account and rentals."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.4 Data Portability"}),n.jsx("p",{children:"You have the right to request a copy of your personal data in a portable format. Contact us at privacy@readysetfly.us to request your data."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Data Security"}),n.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your information, including:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Encryption of data in transit using SSL/TLS"}),n.jsx("li",{children:"Secure password hashing using bcrypt"}),n.jsx("li",{children:"Secure token-based authentication (JWT for mobile apps)"}),n.jsx("li",{children:"Regular security audits and updates"}),n.jsx("li",{children:"Limited access to personal data by authorized personnel only"})]}),n.jsx("p",{className:"mt-3",children:"However, no method of transmission over the internet or electronic storage is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Children's Privacy"}),n.jsx("p",{children:"The Platform is not intended for users under the age of 18. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us at privacy@readysetfly.us, and we will delete such information."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Geographic Restrictions"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Ready Set Fly is available exclusively to residents of the United States."})," The Platform is not intended for use by individuals located outside the United States. By using the Platform, you represent and warrant that you are a resident of the United States."]}),n.jsx("p",{className:"mt-3",children:"All data is stored and processed on servers located in the United States. We comply with applicable US federal and state privacy laws, including the California Consumer Privacy Act (CCPA) and other state-specific privacy regulations."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Changes to This Privacy Policy"}),n.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Posting the new Privacy Policy on this page"}),n.jsx("li",{children:'Updating the "Last Updated" date at the top'}),n.jsx("li",{children:"Sending you an email notification for material changes"})]}),n.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after changes are posted constitutes your acceptance of the updated Privacy Policy."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Contact Us"}),n.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),n.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," privacy@readysetfly.us"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Website:"})," ",n.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. State-Specific Rights"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"California Residents (CCPA)"}),n.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),n.jsx("li",{children:"Right to delete personal information"}),n.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),n.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"European Residents (GDPR)"}),n.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR):"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Right of access to your personal data"}),n.jsx("li",{children:"Right to rectification of inaccurate data"}),n.jsx("li",{children:'Right to erasure ("right to be forgotten")'}),n.jsx("li",{children:"Right to restriction of processing"}),n.jsx("li",{children:"Right to data portability"}),n.jsx("li",{children:"Right to object to processing"})]}),n.jsx("p",{className:"mt-3",children:"To exercise any of these rights, please contact us at privacy@readysetfly.us."})]})]})]})})}function yse(){return n.jsx("div",{className:"container max-w-4xl py-8 px-4",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{className:"text-3xl",children:"Terms of Service"}),n.jsx(Me,{children:"Last Updated: November 8, 2024"})]}),n.jsxs(z,{className:"space-y-6 prose prose-sm max-w-none",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),n.jsx("p",{children:'Welcome to Ready Set Fly. These Terms of Service ("Terms") govern your access to and use of our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),n.jsx("p",{children:"By accessing or using the Platform, you agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not access or use the Platform."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Eligibility"}),n.jsx("p",{children:"You must meet the following requirements to use the Platform:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:n.jsx("strong",{children:"You must be a resident of the United States"})}),n.jsx("li",{children:"You must be at least 18 years old"}),n.jsx("li",{children:"You must have the legal capacity to enter into binding contracts"}),n.jsx("li",{children:"You must not be prohibited from using the Platform under applicable laws"}),n.jsx("li",{children:"To rent aircraft or list aircraft for rent, you must hold valid pilot certificates and/or aircraft ownership documentation as required by law"})]}),n.jsx("p",{className:"mt-3",children:"Ready Set Fly is exclusively available to United States residents. By using the Platform, you represent and warrant that you are located in and are a resident of the United States."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Account Registration and Security"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Account Creation"}),n.jsx("p",{children:"To use certain features of the Platform, you must create an account. You agree to provide accurate, current, and complete information during registration and to update such information to keep it accurate, current, and complete."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.2 Account Security"}),n.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Use a strong, unique password"}),n.jsx("li",{children:"Not share your password with others"}),n.jsx("li",{children:"Immediately notify us of any unauthorized use of your account"}),n.jsx("li",{children:"Take reasonable precautions to prevent unauthorized access"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.3 Account Verification"}),n.jsx("p",{children:"We may require you to verify your identity by providing pilot certificates, aircraft ownership documents, insurance information, or other documentation. Failure to provide requested verification may result in account suspension or limitations on Platform features."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Platform Services"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 Aircraft Rentals"}),n.jsx("p",{children:"Ready Set Fly provides a platform connecting aircraft owners with pilots seeking to rent aircraft. We are not a party to rental agreements between owners and renters. All rental agreements are directly between the owner and renter."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 Marketplace"}),n.jsx("p",{children:"Our marketplace allows users to list and browse various aviation-related items and services, including aircraft for sale, CFI services, job postings, flight schools, mechanics, and charter services. We do not guarantee the accuracy, quality, safety, or legality of any marketplace listings."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 Messaging"}),n.jsx("p",{children:"The Platform provides messaging functionality to facilitate communication between users. You agree to use messaging only for legitimate Platform-related purposes and not for spam, harassment, or illegal activities."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Fees and Payments"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.1 Platform Fees for Aircraft Rentals"}),n.jsx("p",{children:"Ready Set Fly charges the following fees for aircraft rental transactions:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Renter Booking Fee:"})," 7.5% of the total rental amount"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Owner Commission:"})," 7.5% deducted from owner payout"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Sales Tax:"})," 8.25% on all rental amounts and booking fees"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Credit Card Processing Fee:"})," 3% to cover payment processing costs"]})]}),n.jsxs("p",{className:"mt-3",children:[n.jsx("strong",{children:"Example:"})," For a $1,000 rental, the renter pays $1,000 (base rental) + $75 (7.5% booking fee) + $88.69 (8.25% sales tax on $1,075) + $34.91 (3% CC processing fee) = ",n.jsx("strong",{children:"$1,198.60 total"}),". The owner receives $925 after the 7.5% platform commission is deducted."]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.2 Marketplace Listing Fees"}),n.jsx("p",{children:"Marketplace listings require a monthly subscription fee based on the listing category and tier. All prices include 8.25% sales tax:"}),n.jsxs("p",{className:"mt-3",children:[n.jsx("strong",{children:"Aircraft for Sale"})," (3 tier options):"]}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Basic Tier:"})," $25/month + tax = $27.06/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Standard Tier:"})," $40/month + tax = $43.30/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Premium Tier:"})," $100/month + tax = $108.25/month"]})]}),n.jsxs("p",{className:"mt-3",children:[n.jsx("strong",{children:"Other Categories"})," (fixed monthly fees):"]}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"CFI Listings:"})," $30/month + tax = $32.48/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Job Postings:"})," $40/month + tax = $43.30/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Flight School Listings:"})," $250/month + tax = $270.63/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mechanic Services:"})," $40/month + tax = $43.30/month"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Charter Services:"})," $250/month + tax = $270.63/month"]})]}),n.jsx("p",{className:"mt-3",children:"Listings are automatically renewed monthly unless you cancel your subscription. You are responsible for canceling before the renewal date to avoid being charged for the next billing period. Promotional codes may be available for limited-time free trials or discounts."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.3 Payment Processing"}),n.jsx("p",{children:"All payments are processed through PayPal, our exclusive payment processor. You agree to comply with PayPal's terms of service. We do not store your complete payment card information. Only credit card payments are accepted (Pay Later options are disabled for compliance and security)."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.4 Owner Withdrawals"}),n.jsx("p",{children:"Aircraft owners can request withdrawals of their rental earnings via PayPal. Withdrawals are processed using the PayPal Payouts API and are typically completed within 1-3 business days. Minimum withdrawal amount may apply."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.5 Refunds"}),n.jsx("p",{children:"Refund eligibility is determined by the specific circumstances of each transaction:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Rental Refunds:"})," Subject to the cancellation policy agreed upon between owner and renter. ",n.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."})," Ready Set Fly is not responsible for weather or weather-related cancellations. Platform fees are non-refundable under all circumstances."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Marketplace Listing Fees:"})," Non-refundable. You may cancel at any time to prevent future charges."]})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.6 Fee Changes"}),n.jsx("p",{children:"We reserve the right to change our fees at any time. We will provide at least 30 days' notice of fee increases by email and/or prominent notice on the Platform. Your continued use of the Platform after fee changes take effect constitutes acceptance of the new fees."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. User Responsibilities"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Aircraft Owners"}),n.jsx("p",{children:"If you list aircraft for rent, you represent and warrant that:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"You have legal authority to rent the aircraft"}),n.jsx("li",{children:"The aircraft is airworthy and properly maintained"}),n.jsx("li",{children:"You carry adequate insurance coverage"}),n.jsx("li",{children:"All required certificates and documentation are current and valid"}),n.jsx("li",{children:"Your listing information is accurate and complete"}),n.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Renters"}),n.jsx("p",{children:"If you rent aircraft, you represent and warrant that:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"You hold all required pilot certificates and ratings"}),n.jsx("li",{children:"Your certificates and medical are current and valid"}),n.jsx("li",{children:"You are legally permitted to operate the aircraft"}),n.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"}),n.jsx("li",{children:"You will operate the aircraft safely and responsibly"}),n.jsx("li",{children:"You will pay all rental fees and charges on time"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 All Users"}),n.jsx("p",{children:"All users agree to:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Provide accurate and truthful information"}),n.jsx("li",{children:"Not impersonate others or misrepresent your identity"}),n.jsx("li",{children:"Not engage in fraudulent, deceptive, or illegal activities"}),n.jsx("li",{children:"Not harass, threaten, or abuse other users"}),n.jsx("li",{children:"Not violate the intellectual property rights of others"}),n.jsx("li",{children:"Comply with all applicable laws and regulations"})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Prohibited Conduct"}),n.jsx("p",{children:"You may not:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Use the Platform for any illegal purpose"}),n.jsx("li",{children:"Violate any local, state, national, or international law"}),n.jsx("li",{children:"Interfere with or disrupt the Platform or servers"}),n.jsx("li",{children:"Attempt to gain unauthorized access to the Platform or other user accounts"}),n.jsx("li",{children:"Transmit viruses, malware, or other harmful code"}),n.jsx("li",{children:"Collect or harvest user information without consent"}),n.jsx("li",{children:"Use automated systems (bots, scrapers) to access the Platform"}),n.jsx("li",{children:"Circumvent security features or access controls"}),n.jsx("li",{children:"Post false, misleading, or fraudulent content"}),n.jsx("li",{children:"Engage in price manipulation or other anti-competitive behavior"})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Content and Intellectual Property"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.1 Your Content"}),n.jsx("p",{children:"You retain ownership of all content you post on the Platform (listings, photos, messages, etc.). By posting content, you grant Ready Set Fly a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, display, and distribute your content in connection with operating and promoting the Platform."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.2 Our Content"}),n.jsx("p",{children:"The Platform and all content, features, and functionality (including but not limited to design, text, graphics, logos, and software) are owned by Ready Set Fly and are protected by copyright, trademark, and other intellectual property laws."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.3 Copyright Infringement"}),n.jsx("p",{children:"We respect intellectual property rights. If you believe your copyright has been infringed, please contact us at legal@readysetfly.us with details of the alleged infringement."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Disclaimers and Limitation of Liability"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:'9.1 Platform Provided "As Is"'}),n.jsx("p",{children:'THE PLATFORM IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.2 No Guarantee of Service"}),n.jsx("p",{children:"We do not guarantee that the Platform will be uninterrupted, secure, or error-free. We do not guarantee the accuracy, completeness, or reliability of any content on the Platform."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.3 Third-Party Transactions"}),n.jsx("p",{children:"Ready Set Fly is not a party to any rental agreements or marketplace transactions between users. We do not verify the accuracy of listings, the qualifications of users, or the airworthiness of aircraft. You are solely responsible for evaluating and verifying all aspects of any transaction you enter into through the Platform."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.4 Aviation Risks"}),n.jsx("p",{children:"Aviation involves inherent risks. Ready Set Fly is not responsible for any accidents, injuries, damages, or losses resulting from aircraft rentals or operations. You assume all risks associated with aviation activities."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.5 Limitation of Liability"}),n.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, READY SET FLY, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING OUT OF OR RELATED TO YOUR USE OF THE PLATFORM, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."}),n.jsx("p",{className:"mt-3",children:"IN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS EXCEED THE GREATER OF $100 OR THE AMOUNT YOU PAID TO US IN FEES IN THE 12 MONTHS PRECEDING THE CLAIM."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Indemnification"}),n.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Ready Set Fly, its officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses (including reasonable attorneys' fees) arising out of or related to:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Your use of the Platform"}),n.jsx("li",{children:"Your violation of these Terms"}),n.jsx("li",{children:"Your violation of any law or regulation"}),n.jsx("li",{children:"Your violation of the rights of any third party"}),n.jsx("li",{children:"Any content you post on the Platform"}),n.jsx("li",{children:"Any aircraft rental or marketplace transaction you enter into"})]})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Dispute Resolution"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.1 Informal Resolution"}),n.jsx("p",{children:"If you have a dispute with Ready Set Fly, you agree to first contact us at support@readysetfly.us to attempt to resolve the dispute informally."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.2 Arbitration"}),n.jsx("p",{children:"Any dispute that cannot be resolved informally shall be resolved by binding arbitration in accordance with the rules of the American Arbitration Association. The arbitration shall take place in Texas."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.3 Class Action Waiver"}),n.jsx("p",{children:"You agree that any arbitration or proceeding shall be limited to the dispute between you and Ready Set Fly individually. You waive the right to participate in any class action or class-wide arbitration."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.4 Governing Law"}),n.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of Texas, without regard to its conflict of law provisions."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. Account Termination"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.1 Termination by You"}),n.jsxs("p",{children:["You may delete your account at any time by visiting your account settings or by contacting us at support@readysetfly.us. You can also submit a deletion request at",n.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:" readysetfly.us/delete-account"}),"."]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.2 Termination by Us"}),n.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time, with or without notice, for:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Violation of these Terms"}),n.jsx("li",{children:"Fraudulent, deceptive, or illegal activity"}),n.jsx("li",{children:"Failure to verify your identity when requested"}),n.jsx("li",{children:"Outstanding payment obligations"}),n.jsx("li",{children:"Any reason at our sole discretion"})]}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.3 Effect of Termination"}),n.jsx("p",{children:"Upon termination, your right to use the Platform will immediately cease. We may delete your account data in accordance with our Privacy Policy. Outstanding payment obligations will survive termination."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"13. Modifications to Terms"}),n.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by:"}),n.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[n.jsx("li",{children:"Posting the updated Terms on this page"}),n.jsx("li",{children:'Updating the "Last Updated" date'}),n.jsx("li",{children:"Sending you an email notification"})]}),n.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after the effective date of the revised Terms constitutes your acceptance of the changes. If you do not agree to the revised Terms, you must stop using the Platform."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"14. General Provisions"}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.1 Entire Agreement"}),n.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and Ready Set Fly regarding the Platform."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.2 Severability"}),n.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.3 Waiver"}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be deemed a waiver of such right or provision."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.4 Assignment"}),n.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms without restriction."}),n.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.5 Force Majeure"}),n.jsx("p",{children:"We shall not be liable for any failure or delay in performance due to circumstances beyond our reasonable control, including but not limited to acts of God, war, terrorism, natural disasters, or government actions."})]}),n.jsx(it,{}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-3",children:"15. Contact Information"}),n.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),n.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," legal@readysetfly.us"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Support:"})," support@readysetfly.us"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Website:"})," ",n.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),n.jsx(it,{}),n.jsx("div",{className:"bg-muted/50 p-4 rounded-md border",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Important Notice:"})," These Terms of Service contain important information about your legal rights and obligations, including limitations on liability and dispute resolution provisions. Please read them carefully. By using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms."]})})]})]})})}function vse(){const{data:t,isLoading:e}=ze({queryKey:["/api/auth/user"]}),{toast:s}=qt(),[r,i]=x.useState(""),a=Re({mutationFn:async()=>await Fe("DELETE","/api/auth/user"),onSuccess:()=>{s({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/"},onError:l=>{s({title:"Error",description:l.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),o=()=>{if(r!=="DELETE"){s({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}a.mutate()};return e?n.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:n.jsx(U,{children:n.jsx(z,{className:"p-6",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):t?n.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p4,{className:"h-5 w-5"}),n.jsx(le,{children:"Account Information"})]}),n.jsx(Me,{children:"Your account details"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-base","data-testid":"text-user-email",children:t.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),n.jsxs("p",{className:"text-base","data-testid":"text-user-name",children:[t.firstName," ",t.lastName]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),n.jsx("p",{className:"text-base","data-testid":"text-verification-status",children:t.isVerified?"Verified":"Not Verified"})]})]})]}),n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),n.jsx(le,{children:"Legal Documents"})]}),n.jsx(Me,{children:"View our legal policies and terms"})]}),n.jsxs(z,{className:"space-y-3",children:[n.jsx(bt,{href:"/privacy-policy",children:n.jsxs($,{variant:"outline",className:"w-full justify-start","data-testid":"link-privacy-policy",children:[n.jsx(rB,{className:"mr-2 h-4 w-4"}),"Privacy Policy"]})}),n.jsx(bt,{href:"/terms-of-service",children:n.jsxs($,{variant:"outline",className:"w-full justify-start","data-testid":"link-terms-of-service",children:[n.jsx(Or,{className:"mr-2 h-4 w-4"}),"Terms of Service"]})})]})]}),n.jsxs(U,{className:"border-destructive",children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5 text-destructive"}),n.jsx(le,{className:"text-destructive",children:"Danger Zone"})]}),n.jsx(Me,{children:"Permanently delete your account and all associated data"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4",children:[n.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"Warning: This action cannot be undone"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),n.jsx("li",{children:"All your marketplace listings will be removed"}),n.jsx("li",{children:"Your rental history will be deleted"}),n.jsx("li",{children:"All messages and conversations will be deleted"}),n.jsx("li",{children:"Your verification documents will be permanently removed"}),n.jsx("li",{children:"All financial records and transactions will be deleted"})]})]}),n.jsxs(pl,{children:[n.jsx(TD,{asChild:!0,children:n.jsxs($,{variant:"destructive","data-testid":"button-delete-account",onClick:()=>i(""),children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),n.jsxs(so,{children:[n.jsxs(no,{children:[n.jsx(io,{children:"Are you absolutely sure?"}),n.jsxs(ao,{className:"space-y-4",children:[n.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",n.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),n.jsx(Q,{id:"confirm-delete",value:r,onChange:l=>i(l.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(oo,{onClick:o,disabled:r!=="DELETE"||a.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:a.isPending?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):n.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:n.jsx(U,{children:n.jsx(z,{className:"p-6",children:n.jsx("p",{className:"text-muted-foreground",children:"Please log in to access settings."})})})})}function jse(){const{data:t,isLoading:e}=ze({queryKey:["/api/auth/user"],retry:!1}),{toast:s}=qt(),[r,i]=x.useState(""),[a,o]=x.useState(!1),l=Re({mutationFn:async()=>await Fe("DELETE","/api/auth/user"),onSuccess:()=>{o(!0),s({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."})},onError:d=>{s({title:"Error",description:d.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),c=()=>{if(r!=="DELETE"){s({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}l.mutate()};return e?n.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:n.jsx(U,{children:n.jsx(z,{className:"p-6",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):a?n.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:n.jsxs(U,{children:[n.jsx(ae,{children:n.jsx(le,{className:"text-center",children:"Account Deleted"})}),n.jsxs(z,{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Your account and all associated data have been permanently deleted."}),n.jsx("p",{className:"text-center text-muted-foreground",children:"Thank you for using Ready Set Fly. We hope to see you again in the future."}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx(bt,{href:"/",children:n.jsx($,{"data-testid":"button-back-home",children:"Return to Home"})})})]})]})}):t?n.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:n.jsxs(U,{className:"w-full",children:[n.jsxs(ae,{children:[n.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[n.jsx(Sn,{className:"h-6 w-6 text-destructive"}),n.jsx(le,{children:"Delete Your Account"})]}),n.jsx(Me,{className:"text-center",children:"Permanently remove your account and all associated data"})]}),n.jsxs(z,{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Account Information"}),n.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Email:"})," ",t.email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium text-foreground",children:"Name:"})," ",t.firstName," ",t.lastName]})]})]}),n.jsx("div",{className:"rounded-lg bg-destructive/10 border border-destructive/20 p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(eu,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action cannot be undone"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),n.jsx("li",{children:"All your marketplace listings will be removed"}),n.jsx("li",{children:"Your rental history will be deleted"}),n.jsx("li",{children:"All messages and conversations will be deleted"}),n.jsx("li",{children:"Your verification documents will be permanently removed"}),n.jsx("li",{children:"All financial records and transactions will be deleted"})]})]})]})}),n.jsxs(pl,{children:[n.jsx(TD,{asChild:!0,children:n.jsxs($,{variant:"destructive",className:"w-full","data-testid":"button-delete-account",onClick:()=>i(""),children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),n.jsxs(so,{children:[n.jsxs(no,{children:[n.jsx(io,{children:"Are you absolutely sure?"}),n.jsxs(ao,{className:"space-y-4",children:[n.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",n.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),n.jsx(Q,{id:"confirm-delete",value:r,onChange:d=>i(d.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),n.jsxs(ro,{children:[n.jsx(lo,{"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(oo,{onClick:c,disabled:r!=="DELETE"||l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:l.isPending?"Deleting...":"Delete Account"})]})]})]}),n.jsxs("div",{className:"text-center space-y-2 pt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help or have questions?"}),n.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[n.jsx(bt,{href:"/privacy-policy",className:"text-primary hover:underline","data-testid":"link-privacy",children:"Privacy Policy"}),n.jsx(bt,{href:"/terms-of-service",className:"text-primary hover:underline","data-testid":"link-terms",children:"Terms of Service"})]})]})]})]})}):n.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:n.jsxs(U,{children:[n.jsxs(ae,{children:[n.jsx(le,{className:"text-center",children:"Delete Your Account"}),n.jsx(Me,{className:"text-center",children:"Sign in to delete your Ready Set Fly account"})]}),n.jsxs(z,{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"You must be signed in to delete your account."}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx($,{onClick:()=>window.location.href="https://readysetfly.us/delete-account","data-testid":"button-login-to-delete",children:"Sign In to Continue"})})]})]})})}const bse=An({email:oe().email("Please enter a valid email address"),password:oe().min(1,"Password is required")});function wse(){const[,t]=Hs(),{toast:e}=qt(),s=xx(),[r,i]=x.useState(!1),a=Ln({resolver:$n(bse),defaultValues:{email:"",password:""}}),o=Re({mutationFn:async c=>{const d=await fetch("/api/auth/web-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"}),u=d.headers.get("content-type")||"";try{console.debug("[login] response status:",d.status,"content-type:",u)}catch{}if(!d.ok){let m="Failed to login";if(u.includes("application/json"))try{const y=await d.json();console.debug("[login] error json:",y),m=(y==null?void 0:y.error)||JSON.stringify(y)||m}catch{}else{const y=await d.text();console.debug("[login] error text:",y.slice(0,200)),y&&(m=y.slice(0,500))}throw new Error(m)}if(u.includes("application/json")){const m=await d.json();try{console.debug("[login] success json:",m)}catch{}return m}const h=await d.text();try{const m=JSON.parse(h);try{console.debug("[login] parsed text as json:",m)}catch{}return m}catch{try{console.debug("[login] success text:",h.slice(0,500))}catch{}return{message:h}}},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Welcome back!",description:"You have successfully logged in."}),t("/")},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{await o.mutateAsync(c)}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:n.jsxs(U,{className:"w-full max-w-md",children:[n.jsxs(ae,{className:"space-y-1 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(Ut,{className:"w-8 h-8 text-white"})})}),n.jsx(le,{className:"text-2xl font-bold",children:"Welcome back"}),n.jsx(Me,{children:"Sign in to your Ready Set Fly account"})]}),n.jsxs(z,{children:[n.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"email",children:"Email"}),n.jsx(Q,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"password",children:"Password"}),n.jsx(Q,{id:"password",type:"password",placeholder:"Enter your password",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),n.jsx($,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-login",children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),n.jsxs($,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-oauth-login",children:[n.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),n.jsx(Vw,{className:"flex flex-col space-y-4",children:n.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",n.jsx("button",{onClick:()=>t("/register"),className:"text-primary hover:underline font-medium","data-testid":"link-register",children:"Create account"})]})})]})})}const Nse=An({firstName:oe().min(1,"First name is required"),lastName:oe().min(1,"Last name is required"),email:oe().email("Please enter a valid email address"),password:oe().min(8,"Password must be at least 8 characters"),confirmPassword:oe().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Sse(){const[,t]=Hs(),{toast:e}=qt(),s=xx(),[r,i]=x.useState(!1),a=Ln({resolver:$n(Nse),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),o=Re({mutationFn:async c=>{const d=await fetch("/api/auth/web-register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const u=await d.json();throw new Error(u.error||"Failed to create account")}return d.json()},onSuccess:c=>{s.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Account created!",description:c.message||"Please check your email to verify your account."}),t("/")},onError:c=>{e({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{const{confirmPassword:d,...u}=c;await o.mutateAsync(u)}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:n.jsxs(U,{className:"w-full max-w-md",children:[n.jsxs(ae,{className:"space-y-1 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(Ut,{className:"w-8 h-8 text-white"})})}),n.jsx(le,{className:"text-2xl font-bold",children:"Create an account"}),n.jsx(Me,{children:"Join Ready Set Fly to rent aircraft or list your own"}),n.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"Service available for US residents only"})]}),n.jsxs(z,{children:[n.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"firstName",children:"First name"}),n.jsx(Q,{id:"firstName",placeholder:"John",...a.register("firstName"),"data-testid":"input-firstname",disabled:r}),a.formState.errors.firstName&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.firstName.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"lastName",children:"Last name"}),n.jsx(Q,{id:"lastName",placeholder:"Doe",...a.register("lastName"),"data-testid":"input-lastname",disabled:r}),a.formState.errors.lastName&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.lastName.message})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"email",children:"Email"}),n.jsx(Q,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"password",children:"Password"}),n.jsx(Q,{id:"password",type:"password",placeholder:"At least 8 characters",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx($e,{htmlFor:"confirmPassword",children:"Confirm password"}),n.jsx(Q,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",...a.register("confirmPassword"),"data-testid":"input-confirm-password",disabled:r}),a.formState.errors.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.confirmPassword.message})]}),n.jsx($,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-register",children:r?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),n.jsxs($,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href="https://readysetfly-api.onrender.com/api/auth/google","data-testid":"button-oauth-register",children:[n.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),n.jsx(Vw,{className:"flex flex-col space-y-4",children:n.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",n.jsx("button",{onClick:()=>t("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login",children:"Sign in"})]})})]})})}function Cse(){const[,t]=Hs(),[e,s]=x.useState("loading"),[r,i]=x.useState("");return x.useEffect(()=>{(async()=>{const l=new URLSearchParams(window.location.search).get("token");if(!l){s("error"),i("Verification token is missing");return}try{const c=await fetch(`/api/auth/verify-email?token=${l}`),d=await c.json();c.ok?(s("success"),i(d.message||"Email verified successfully!")):(s("error"),i(d.error||"Verification failed"))}catch{s("error"),i("Failed to verify email. Please try again.")}})()},[]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 p-4",children:n.jsxs(U,{className:"w-full max-w-md",children:[n.jsxs(ae,{className:"text-center",children:[n.jsxs("div",{className:"flex justify-center mb-4",children:[e==="loading"&&n.jsx(X8,{className:"h-16 w-16 text-blue-600 animate-spin","data-testid":"icon-loading"}),e==="success"&&n.jsx(Os,{className:"h-16 w-16 text-green-600","data-testid":"icon-success"}),e==="error"&&n.jsx(Dn,{className:"h-16 w-16 text-red-600","data-testid":"icon-error"})]}),n.jsxs(le,{className:"text-2xl",children:[e==="loading"&&"Verifying Your Email",e==="success"&&"Email Verified!",e==="error"&&"Verification Failed"]}),n.jsx(Me,{"data-testid":"text-message",children:r||"Please wait while we verify your email address..."})]}),n.jsxs(z,{className:"flex flex-col gap-3",children:[e==="success"&&n.jsx($,{onClick:()=>t("/"),className:"w-full","data-testid":"button-continue",children:"Continue to Dashboard"}),e==="error"&&n.jsxs(n.Fragment,{children:[n.jsx($,{onClick:()=>t("/login"),className:"w-full","data-testid":"button-login",children:"Go to Login"}),n.jsx($,{onClick:()=>t("/register"),variant:"outline",className:"w-full","data-testid":"button-register",children:"Create New Account"})]})]})]})})}function _se(){const{isAuthenticated:t,isLoading:e}=vn();return n.jsxs(xU,{children:[n.jsx(Je,{path:"/",component:kK}),n.jsx(Je,{path:"/login",component:wse}),n.jsx(Je,{path:"/register",component:Sse}),n.jsx(Je,{path:"/verify-email",component:Cse}),n.jsx(Je,{path:"/rentals",component:_K}),n.jsx(Je,{path:"/marketplace",component:WK}),n.jsx(Je,{path:"/aircraft/:id",component:FQ}),n.jsx(Je,{path:"/privacy-policy",component:gse}),n.jsx(Je,{path:"/terms-of-service",component:yse}),n.jsx(Je,{path:"/delete-account",component:jse}),n.jsx(Je,{path:"/404",component:s2}),t?n.jsxs(n.Fragment,{children:[n.jsx(Je,{path:"/dashboard",component:ZK}),n.jsx(Je,{path:"/profile",component:wQ}),n.jsx(Je,{path:"/my-listings",component:PQ}),n.jsx(Je,{path:"/favorites",component:EQ}),n.jsx(Je,{path:"/messages",component:TQ}),n.jsx(Je,{path:"/list-aircraft",component:XC}),n.jsx(Je,{path:"/edit-aircraft/:id",component:XC}),n.jsx(Je,{path:"/create-marketplace-listing",component:ZC}),n.jsx(Je,{path:"/edit-marketplace-listing/:id",component:ZC}),n.jsx(Je,{path:"/marketplace/listing/checkout",component:Jte}),n.jsx(Je,{path:"/rental-payment/:id",component:tse}),n.jsx(Je,{path:"/owner-payout-setup",component:pse}),n.jsx(Je,{path:"/owner-withdrawals",component:xse}),n.jsx(Je,{path:"/admin",component:ase}),n.jsx(Je,{path:"/verify-identity",component:fse}),n.jsx(Je,{path:"/settings",component:vse})]}):n.jsxs(n.Fragment,{children:[n.jsx(Je,{path:"/dashboard",component:Zs}),n.jsx(Je,{path:"/profile",component:Zs}),n.jsx(Je,{path:"/my-listings",component:Zs}),n.jsx(Je,{path:"/favorites",component:Zs}),n.jsx(Je,{path:"/messages",component:Zs}),n.jsx(Je,{path:"/list-aircraft",component:Zs}),n.jsx(Je,{path:"/edit-aircraft/:id",component:Zs}),n.jsx(Je,{path:"/create-marketplace-listing",component:Zs}),n.jsx(Je,{path:"/edit-marketplace-listing/:id",component:Zs}),n.jsx(Je,{path:"/marketplace/listing/checkout",component:Zs}),n.jsx(Je,{path:"/rental-payment/:id",component:Zs}),n.jsx(Je,{path:"/owner-payout-setup",component:Zs}),n.jsx(Je,{path:"/owner-withdrawals",component:Zs}),n.jsx(Je,{path:"/admin",component:Zs}),n.jsx(Je,{path:"/verify-identity",component:Zs}),n.jsx(Je,{path:"/settings",component:Zs})]}),n.jsx(Je,{component:s2})]})}function kse(){return n.jsx(OU,{client:Ce,children:n.jsx(jV,{defaultTheme:"light",children:n.jsxs(vV,{children:[n.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[n.jsx(G9,{}),n.jsx("div",{className:"flex-1",children:n.jsx(_se,{})}),n.jsx(OH,{})]}),n.jsx(WB,{})]})})})}hA(document.getElementById("root")).render(n.jsx(kse,{}));
