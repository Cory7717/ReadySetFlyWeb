import{r as o,t as j,j as e,C as m,v as x}from"./index-umuuNHW5.js";import{S as C}from"./StudentLayout-WUZeSZ-N.js";import{N as S}from"./NextStepCTA-Dpv35yEy.js";import{u as N}from"./useStudentProfile-BRpavieF.js";const h=["Aerodynamics","Airspace","Weather","Navigation","Regulations","Performance","Systems","Human factors"];function J(){var p,f;const{profile:t,saveProfile:g}=N(),[n,i]=o.useState(((p=t.progressJson)==null?void 0:p.writtenChecklist)||{}),[a,d]=o.useState(((f=t.progressJson)==null?void 0:f.weakTopics)||{}),[l,k]=o.useState(!1);o.useEffect(()=>{j("student_page_view",{page:"written"})},[]),o.useEffect(()=>{var s,r;l||((s=t.progressJson)!=null&&s.writtenChecklist&&i(t.progressJson.writtenChecklist),(r=t.progressJson)!=null&&r.weakTopics&&d(t.progressJson.weakTopics),k(!0))},[t.progressJson,l]),o.useEffect(()=>{g({progressJson:{...t.progressJson,writtenChecklist:n,weakTopics:a}})},[n,a]);const u=h.filter(s=>a[s]);return e.jsxs(C,{title:"Written Test Prep Tracker",subtitle:"Stay organized and focus on weak topics.",children:[e.jsxs(m,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Study plan"}),h.map(s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{checked:n[s],onCheckedChange:r=>i(c=>({...c,[s]:!!r}))}),e.jsx("span",{className:"text-sm",children:s}),e.jsx(x,{checked:a[s],onCheckedChange:r=>d(c=>({...c,[s]:!!r}))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Needs focus"})]},s))]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Study focus"}),e.jsx("div",{className:"font-semibold",children:u.length?u.join(", "):"You are balanced across topics."})]}),e.jsx(S,{label:"Schedule an instructor session",type:"cfi"})]})}export{J as default};
