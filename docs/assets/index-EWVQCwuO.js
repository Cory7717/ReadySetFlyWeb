var lU=Object.defineProperty;var Q1=t=>{throw TypeError(t)};var cU=(t,e,n)=>e in t?lU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var E=(t,e,n)=>cU(t,typeof e!="symbol"?e+"":e,n),Sy=(t,e,n)=>e.has(t)||Q1("Cannot "+n);var _=(t,e,n)=>(Sy(t,e,"read from private field"),n?n.call(t):e.get(t)),Z=(t,e,n)=>e.has(t)?Q1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(Sy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),me=(t,e,n)=>(Sy(t,e,"access private method"),n);var pf=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return _(t,e,r)}});function dU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ea(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fA={exports:{}},Yx={},pA={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=Symbol.for("react.element"),uU=Symbol.for("react.portal"),hU=Symbol.for("react.fragment"),mU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),pU=Symbol.for("react.provider"),xU=Symbol.for("react.context"),gU=Symbol.for("react.forward_ref"),yU=Symbol.for("react.suspense"),vU=Symbol.for("react.memo"),jU=Symbol.for("react.lazy"),X1=Symbol.iterator;function bU(t){return t===null||typeof t!="object"?null:(t=X1&&t[X1]||t["@@iterator"],typeof t=="function"?t:null)}var xA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gA=Object.assign,yA={};function su(t,e,n){this.props=t,this.context=e,this.refs=yA,this.updater=n||xA}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vA(){}vA.prototype=su.prototype;function mw(t,e,n){this.props=t,this.context=e,this.refs=yA,this.updater=n||xA}var fw=mw.prototype=new vA;fw.constructor=mw;gA(fw,su.prototype);fw.isPureReactComponent=!0;var Z1=Array.isArray,jA=Object.prototype.hasOwnProperty,pw={current:null},bA={key:!0,ref:!0,__self:!0,__source:!0};function wA(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)jA.call(e,r)&&!bA.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zm,type:t,key:a,ref:o,props:i,_owner:pw.current}}function wU(t,e){return{$$typeof:zm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xw(t){return typeof t=="object"&&t!==null&&t.$$typeof===zm}function NU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J1=/\/+/g;function Cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NU(""+t.key):e.toString(36)}function np(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zm:case uU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cy(o,0):r,Z1(i)?(n="",t!=null&&(n=t.replace(J1,"$&/")+"/"),np(i,e,n,"",function(d){return d})):i!=null&&(xw(i)&&(i=wU(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Z1(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Cy(a,l);o+=np(a,e,n,c,i)}else if(c=bU(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Cy(a,l++),o+=np(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gf(t,e,n){if(t==null)return t;var r=[],i=0;return np(t,r,"","",function(a){return e.call(n,a,i++)}),r}function SU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},rp={transition:null},CU={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:rp,ReactCurrentOwner:pw};function NA(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:gf,forEach:function(t,e,n){gf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gf(t,function(){e++}),e},toArray:function(t){return gf(t,function(e){return e})||[]},only:function(t){if(!xw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=su;gt.Fragment=hU;gt.Profiler=fU;gt.PureComponent=mw;gt.StrictMode=mU;gt.Suspense=yU;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CU;gt.act=NA;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gA({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=pw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)jA.call(e,c)&&!bA.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:zm,type:t.type,key:i,ref:a,props:r,_owner:o}};gt.createContext=function(t){return t={$$typeof:xU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pU,_context:t},t.Consumer=t};gt.createElement=wA;gt.createFactory=function(t){var e=wA.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:gU,render:t}};gt.isValidElement=xw;gt.lazy=function(t){return{$$typeof:jU,_payload:{_status:-1,_result:t},_init:SU}};gt.memo=function(t,e){return{$$typeof:vU,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=rp.transition;rp.transition={};try{t()}finally{rp.transition=e}};gt.unstable_act=NA;gt.useCallback=function(t,e){return On.current.useCallback(t,e)};gt.useContext=function(t){return On.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return On.current.useDeferredValue(t)};gt.useEffect=function(t,e){return On.current.useEffect(t,e)};gt.useId=function(){return On.current.useId()};gt.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return On.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};gt.useRef=function(t){return On.current.useRef(t)};gt.useState=function(t){return On.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return On.current.useTransition()};gt.version="18.3.1";pA.exports=gt;var f=pA.exports;const He=Ea(f),Qx=dU({__proto__:null,default:He},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _U=f,kU=Symbol.for("react.element"),PU=Symbol.for("react.fragment"),EU=Object.prototype.hasOwnProperty,TU=_U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AU={key:!0,ref:!0,__self:!0,__source:!0};function SA(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EU.call(e,r)&&!AU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kU,type:t,key:a,ref:o,props:i,_owner:TU.current}}Yx.Fragment=PU;Yx.jsx=SA;Yx.jsxs=SA;fA.exports=Yx;var s=fA.exports,CA={exports:{}},mr={},_A={exports:{}},kA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,R){var I=z.length;z.push(R);e:for(;0<I;){var de=I-1>>>1,A=z[de];if(0<i(A,R))z[de]=R,z[I]=A,I=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var R=z[0],I=z.pop();if(I!==R){z[0]=I;e:for(var de=0,A=z.length,xe=A>>>1;de<xe;){var Le=2*(de+1)-1,it=z[Le],Qe=Le+1,je=z[Qe];if(0>i(it,I))Qe<A&&0>i(je,it)?(z[de]=je,z[Qe]=I,de=Qe):(z[de]=it,z[Le]=I,de=Le);else if(Qe<A&&0>i(je,I))z[de]=je,z[Qe]=I,de=Qe;else break e}}return R}function i(z,R){var I=z.sortIndex-R.sortIndex;return I!==0?I:z.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,x=!1,v=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=z)r(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(d)}}function N(z){if(b=!1,w(z),!v)if(n(c)!==null)v=!0,le(P);else{var R=n(d);R!==null&&he(N,R.startTime-z)}}function P(z,R){v=!1,b&&(b=!1,p(k),k=-1),x=!0;var I=m;try{for(w(R),h=n(c);h!==null&&(!(h.expirationTime>R)||z&&!L());){var de=h.callback;if(typeof de=="function"){h.callback=null,m=h.priorityLevel;var A=de(h.expirationTime<=R);R=t.unstable_now(),typeof A=="function"?h.callback=A:h===n(c)&&r(c),w(R)}else r(c);h=n(c)}if(h!==null)var xe=!0;else{var Le=n(d);Le!==null&&he(N,Le.startTime-R),xe=!1}return xe}finally{h=null,m=I,x=!1}}var S=!1,C=null,k=-1,D=5,F=-1;function L(){return!(t.unstable_now()-F<D)}function B(){if(C!==null){var z=t.unstable_now();F=z;var R=!0;try{R=C(!0,z)}finally{R?Y():(S=!1,C=null)}}else S=!1}var Y;if(typeof j=="function")Y=function(){j(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=B,Y=function(){H.postMessage(null)}}else Y=function(){g(B,0)};function le(z){C=z,S||(S=!0,Y())}function he(z,R){k=g(function(){z(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,le(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var I=m;m=R;try{return z()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=m;m=z;try{return R()}finally{m=I}},t.unstable_scheduleCallback=function(z,R,I){var de=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?de+I:de):I=de,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=I+A,z={id:u++,callback:R,priorityLevel:z,startTime:I,expirationTime:A,sortIndex:-1},I>de?(z.sortIndex=I,e(d,z),n(c)===null&&z===n(d)&&(b?(p(k),k=-1):b=!0,he(N,I-de))):(z.sortIndex=A,e(c,z),v||x||(v=!0,le(P))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var R=m;return function(){var I=m;m=R;try{return z.apply(this,arguments)}finally{m=I}}}})(kA);_A.exports=kA;var FU=_A.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RU=f,ur=FU;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PA=new Set,wh={};function Zl(t,e){Od(t,e),Od(t+"Capture",e)}function Od(t,e){for(wh[t]=e,t=0;t<e.length;t++)PA.add(e[t])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=Object.prototype.hasOwnProperty,DU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eS={},tS={};function IU(t){return zv.call(tS,t)?!0:zv.call(eS,t)?!1:DU.test(t)?tS[t]=!0:(eS[t]=!0,!1)}function OU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MU(t,e,n,r){if(e===null||typeof e>"u"||OU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var gw=/[\-:]([a-z])/g;function yw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gw,yw);on[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gw,yw);on[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gw,yw);on[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function vw(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MU(e,n,i,r)&&(n=null),r||i===null?IU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ta=RU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),Nc=Symbol.for("react.portal"),Sc=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),EA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),Wv=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),AA=Symbol.for("react.offscreen"),sS=Symbol.iterator;function ju(t){return t===null||typeof t!="object"?null:(t=sS&&t[sS]||t["@@iterator"],typeof t=="function"?t:null)}var fs=Object.assign,_y;function Bu(t){if(_y===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_y=e&&e[1]||""}return`
`+_y+t}var ky=!1;function Py(t,e){if(!t||ky)return"";ky=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ky=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function LU(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=Py(t.type,!1),t;case 11:return t=Py(t.type.render,!1),t;case 1:return t=Py(t.type,!0),t;default:return""}}function Kv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sc:return"Fragment";case Nc:return"Portal";case Hv:return"Profiler";case jw:return"StrictMode";case qv:return"Suspense";case Wv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TA:return(t.displayName||"Context")+".Consumer";case EA:return(t._context.displayName||"Context")+".Provider";case bw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ww:return e=t.displayName||null,e!==null?e:Kv(t.type)||"Memo";case Ha:e=t._payload,t=t._init;try{return Kv(t(e))}catch{}}return null}function $U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kv(e);case 8:return e===jw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UU(t){var e=FA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vf(t){t._valueTracker||(t._valueTracker=UU(t))}function RA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gv(t,e){var n=e.checked;return fs({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DA(t,e){e=e.checked,e!=null&&vw(t,"checked",e,!1)}function Yv(t,e){DA(t,e);var n=wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qv(t,e,n){(e!=="number"||kp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vu=Array.isArray;function Uc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return fs({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(Vu(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wo(n)}}function IA(t,e){var n=wo(e.value),r=wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jf,MA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jf=jf||document.createElement("div"),jf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BU=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(t){BU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),th[e]=th[t]})});function LA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||th.hasOwnProperty(t)&&th[t]?(""+e).trim():e+"px"}function $A(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VU=fs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jv(t,e){if(e){if(VU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function ej(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tj=null;function Nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sj=null,Bc=null,Vc=null;function oS(t){if(t=Wm(t)){if(typeof sj!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=tg(e),sj(t.stateNode,t.type,e))}}function UA(t){Bc?Vc?Vc.push(t):Vc=[t]:Bc=t}function BA(){if(Bc){var t=Bc,e=Vc;if(Vc=Bc=null,oS(t),e)for(t=0;t<e.length;t++)oS(e[t])}}function VA(t,e){return t(e)}function zA(){}var Ey=!1;function HA(t,e,n){if(Ey)return t(e,n);Ey=!0;try{return VA(t,e,n)}finally{Ey=!1,(Bc!==null||Vc!==null)&&(zA(),BA())}}function Sh(t,e){var n=t.stateNode;if(n===null)return null;var r=tg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var nj=!1;if(ja)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){nj=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{nj=!1}function zU(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var sh=!1,Pp=null,Ep=!1,rj=null,HU={onError:function(t){sh=!0,Pp=t}};function qU(t,e,n,r,i,a,o,l,c){sh=!1,Pp=null,zU.apply(HU,arguments)}function WU(t,e,n,r,i,a,o,l,c){if(qU.apply(this,arguments),sh){if(sh){var d=Pp;sh=!1,Pp=null}else throw Error(Ne(198));Ep||(Ep=!0,rj=d)}}function Jl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lS(t){if(Jl(t)!==t)throw Error(Ne(188))}function KU(t){var e=t.alternate;if(!e){if(e=Jl(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lS(i),t;if(a===r)return lS(i),e;a=a.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function WA(t){return t=KU(t),t!==null?KA(t):null}function KA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KA(t);if(e!==null)return e;t=t.sibling}return null}var GA=ur.unstable_scheduleCallback,cS=ur.unstable_cancelCallback,GU=ur.unstable_shouldYield,YU=ur.unstable_requestPaint,Cs=ur.unstable_now,QU=ur.unstable_getCurrentPriorityLevel,Sw=ur.unstable_ImmediatePriority,YA=ur.unstable_UserBlockingPriority,Tp=ur.unstable_NormalPriority,XU=ur.unstable_LowPriority,QA=ur.unstable_IdlePriority,Xx=null,Fi=null;function ZU(t){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Xx,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:t8,JU=Math.log,e8=Math.LN2;function t8(t){return t>>>=0,t===0?32:31-(JU(t)/e8|0)|0}var bf=64,wf=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ap(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=zu(l):(a&=o,a!==0&&(r=zu(a)))}else o=n&~i,o!==0?r=zu(o):a!==0&&(r=zu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function s8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ti(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=s8(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function ij(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XA(){var t=bf;return bf<<=1,!(bf&4194240)&&(bf=64),t}function Ty(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function r8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Cw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function ZA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JA,_w,e4,t4,s4,aj=!1,Nf=[],ho=null,mo=null,fo=null,Ch=new Map,_h=new Map,Ka=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dS(t,e){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(e.pointerId)}}function wu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Wm(e),e!==null&&_w(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function a8(t,e,n,r,i){switch(e){case"focusin":return ho=wu(ho,t,e,n,r,i),!0;case"dragenter":return mo=wu(mo,t,e,n,r,i),!0;case"mouseover":return fo=wu(fo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ch.set(a,wu(Ch.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_h.set(a,wu(_h.get(a)||null,t,e,n,r,i)),!0}return!1}function n4(t){var e=el(t.target);if(e!==null){var n=Jl(e);if(n!==null){if(e=n.tag,e===13){if(e=qA(n),e!==null){t.blockedOn=e,s4(t.priority,function(){e4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ip(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tj=r,n.target.dispatchEvent(r),tj=null}else return e=Wm(n),e!==null&&_w(e),t.blockedOn=n,!1;e.shift()}return!0}function uS(t,e,n){ip(t)&&n.delete(e)}function o8(){aj=!1,ho!==null&&ip(ho)&&(ho=null),mo!==null&&ip(mo)&&(mo=null),fo!==null&&ip(fo)&&(fo=null),Ch.forEach(uS),_h.forEach(uS)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,aj||(aj=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,o8)))}function kh(t){function e(i){return Nu(i,t)}if(0<Nf.length){Nu(Nf[0],t);for(var n=1;n<Nf.length;n++){var r=Nf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ho!==null&&Nu(ho,t),mo!==null&&Nu(mo,t),fo!==null&&Nu(fo,t),Ch.forEach(e),_h.forEach(e),n=0;n<Ka.length;n++)r=Ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ka.length&&(n=Ka[0],n.blockedOn===null);)n4(n),n.blockedOn===null&&Ka.shift()}var zc=Ta.ReactCurrentBatchConfig,Fp=!0;function l8(t,e,n,r){var i=Ot,a=zc.transition;zc.transition=null;try{Ot=1,kw(t,e,n,r)}finally{Ot=i,zc.transition=a}}function c8(t,e,n,r){var i=Ot,a=zc.transition;zc.transition=null;try{Ot=4,kw(t,e,n,r)}finally{Ot=i,zc.transition=a}}function kw(t,e,n,r){if(Fp){var i=oj(t,e,n,r);if(i===null)Uy(t,e,r,Rp,n),dS(t,r);else if(a8(i,t,e,n,r))r.stopPropagation();else if(dS(t,r),e&4&&-1<i8.indexOf(t)){for(;i!==null;){var a=Wm(i);if(a!==null&&JA(a),a=oj(t,e,n,r),a===null&&Uy(t,e,r,Rp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Uy(t,e,r,null,n)}}var Rp=null;function oj(t,e,n,r){if(Rp=null,t=Nw(r),t=el(t),t!==null)if(e=Jl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rp=t,null}function r4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QU()){case Sw:return 1;case YA:return 4;case Tp:case XU:return 16;case QA:return 536870912;default:return 16}default:return 16}}var ao=null,Pw=null,ap=null;function i4(){if(ap)return ap;var t,e=Pw,n=e.length,r,i="value"in ao?ao.value:ao.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ap=i.slice(t,1<r?1-r:void 0)}function op(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sf(){return!0}function hS(){return!1}function fr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sf:hS,this.isPropagationStopped=hS,this}return fs(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ew=fr(nu),qm=fs({},nu,{view:0,detail:0}),d8=fr(qm),Ay,Fy,Su,Zx=fs({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Su&&(Su&&t.type==="mousemove"?(Ay=t.screenX-Su.screenX,Fy=t.screenY-Su.screenY):Fy=Ay=0,Su=t),Ay)},movementY:function(t){return"movementY"in t?t.movementY:Fy}}),mS=fr(Zx),u8=fs({},Zx,{dataTransfer:0}),h8=fr(u8),m8=fs({},qm,{relatedTarget:0}),Ry=fr(m8),f8=fs({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),p8=fr(f8),x8=fs({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g8=fr(x8),y8=fs({},nu,{data:0}),fS=fr(y8),v8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b8[t])?!!e[t]:!1}function Tw(){return w8}var N8=fs({},qm,{key:function(t){if(t.key){var e=v8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=op(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tw,charCode:function(t){return t.type==="keypress"?op(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?op(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S8=fr(N8),C8=fs({},Zx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=fr(C8),_8=fs({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tw}),k8=fr(_8),P8=fs({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),E8=fr(P8),T8=fs({},Zx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A8=fr(T8),F8=[9,13,27,32],Aw=ja&&"CompositionEvent"in window,nh=null;ja&&"documentMode"in document&&(nh=document.documentMode);var R8=ja&&"TextEvent"in window&&!nh,a4=ja&&(!Aw||nh&&8<nh&&11>=nh),xS=" ",gS=!1;function o4(t,e){switch(t){case"keyup":return F8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cc=!1;function D8(t,e){switch(t){case"compositionend":return l4(e);case"keypress":return e.which!==32?null:(gS=!0,xS);case"textInput":return t=e.data,t===xS&&gS?null:t;default:return null}}function I8(t,e){if(Cc)return t==="compositionend"||!Aw&&o4(t,e)?(t=i4(),ap=Pw=ao=null,Cc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a4&&e.locale!=="ko"?null:e.data;default:return null}}var O8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O8[t.type]:e==="textarea"}function c4(t,e,n,r){UA(r),e=Dp(e,"onChange"),0<e.length&&(n=new Ew("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rh=null,Ph=null;function M8(t){j4(t,0)}function Jx(t){var e=Pc(t);if(RA(e))return t}function L8(t,e){if(t==="change")return e}var d4=!1;if(ja){var Dy;if(ja){var Iy="oninput"in document;if(!Iy){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),Iy=typeof vS.oninput=="function"}Dy=Iy}else Dy=!1;d4=Dy&&(!document.documentMode||9<document.documentMode)}function jS(){rh&&(rh.detachEvent("onpropertychange",u4),Ph=rh=null)}function u4(t){if(t.propertyName==="value"&&Jx(Ph)){var e=[];c4(e,Ph,t,Nw(t)),HA(M8,e)}}function $8(t,e,n){t==="focusin"?(jS(),rh=e,Ph=n,rh.attachEvent("onpropertychange",u4)):t==="focusout"&&jS()}function U8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jx(Ph)}function B8(t,e){if(t==="click")return Jx(e)}function V8(t,e){if(t==="input"||t==="change")return Jx(e)}function z8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:z8;function Eh(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zv.call(e,i)||!ai(t[i],e[i]))return!1}return!0}function bS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wS(t,e){var n=bS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bS(n)}}function h4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m4(){for(var t=window,e=kp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kp(t.document)}return e}function Fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H8(t){var e=m4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h4(n.ownerDocument.documentElement,n)){if(r!==null&&Fw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=wS(n,a);var o=wS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q8=ja&&"documentMode"in document&&11>=document.documentMode,_c=null,lj=null,ih=null,cj=!1;function NS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cj||_c==null||_c!==kp(r)||(r=_c,"selectionStart"in r&&Fw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ih&&Eh(ih,r)||(ih=r,r=Dp(lj,"onSelect"),0<r.length&&(e=new Ew("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_c)))}function Cf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kc={animationend:Cf("Animation","AnimationEnd"),animationiteration:Cf("Animation","AnimationIteration"),animationstart:Cf("Animation","AnimationStart"),transitionend:Cf("Transition","TransitionEnd")},Oy={},f4={};ja&&(f4=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function eg(t){if(Oy[t])return Oy[t];if(!kc[t])return t;var e=kc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f4)return Oy[t]=e[n];return t}var p4=eg("animationend"),x4=eg("animationiteration"),g4=eg("animationstart"),y4=eg("transitionend"),v4=new Map,SS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){v4.set(t,e),Zl(e,[t])}for(var My=0;My<SS.length;My++){var Ly=SS[My],W8=Ly.toLowerCase(),K8=Ly[0].toUpperCase()+Ly.slice(1);$o(W8,"on"+K8)}$o(p4,"onAnimationEnd");$o(x4,"onAnimationIteration");$o(g4,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(y4,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);Zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hu));function CS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WU(r,e,void 0,t),t.currentTarget=null}function j4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;CS(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;CS(i,l,d),a=c}}}if(Ep)throw t=rj,Ep=!1,rj=null,t}function Yt(t,e){var n=e[fj];n===void 0&&(n=e[fj]=new Set);var r=t+"__bubble";n.has(r)||(b4(e,t,2,!1),n.add(r))}function $y(t,e,n){var r=0;e&&(r|=4),b4(n,t,r,e)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Th(t){if(!t[_f]){t[_f]=!0,PA.forEach(function(n){n!=="selectionchange"&&(G8.has(n)||$y(n,!1,t),$y(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_f]||(e[_f]=!0,$y("selectionchange",!1,e))}}function b4(t,e,n,r){switch(r4(e)){case 1:var i=l8;break;case 4:i=c8;break;default:i=kw}n=i.bind(null,e,n,t),i=void 0,!nj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uy(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=el(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}HA(function(){var d=a,u=Nw(n),h=[];e:{var m=v4.get(t);if(m!==void 0){var x=Ew,v=t;switch(t){case"keypress":if(op(n)===0)break e;case"keydown":case"keyup":x=S8;break;case"focusin":v="focus",x=Ry;break;case"focusout":v="blur",x=Ry;break;case"beforeblur":case"afterblur":x=Ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=h8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=k8;break;case p4:case x4:case g4:x=p8;break;case y4:x=E8;break;case"scroll":x=d8;break;case"wheel":x=A8;break;case"copy":case"cut":case"paste":x=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pS}var b=(e&4)!==0,g=!b&&t==="scroll",p=b?m!==null?m+"Capture":null:m;b=[];for(var j=d,w;j!==null;){w=j;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,p!==null&&(N=Sh(j,p),N!=null&&b.push(Ah(j,N,w)))),g)break;j=j.return}0<b.length&&(m=new x(m,v,null,n,u),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==tj&&(v=n.relatedTarget||n.fromElement)&&(el(v)||v[ba]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=d,v=v?el(v):null,v!==null&&(g=Jl(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(b=mS,N="onMouseLeave",p="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(b=pS,N="onPointerLeave",p="onPointerEnter",j="pointer"),g=x==null?m:Pc(x),w=v==null?m:Pc(v),m=new b(N,j+"leave",x,n,u),m.target=g,m.relatedTarget=w,N=null,el(u)===d&&(b=new b(p,j+"enter",v,n,u),b.target=w,b.relatedTarget=g,N=b),g=N,x&&v)t:{for(b=x,p=v,j=0,w=b;w;w=dc(w))j++;for(w=0,N=p;N;N=dc(N))w++;for(;0<j-w;)b=dc(b),j--;for(;0<w-j;)p=dc(p),w--;for(;j--;){if(b===p||p!==null&&b===p.alternate)break t;b=dc(b),p=dc(p)}b=null}else b=null;x!==null&&_S(h,m,x,b,!1),v!==null&&g!==null&&_S(h,g,v,b,!0)}}e:{if(m=d?Pc(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var P=L8;else if(yS(m))if(d4)P=V8;else{P=U8;var S=$8}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=B8);if(P&&(P=P(t,d))){c4(h,P,n,u);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Qv(m,"number",m.value)}switch(S=d?Pc(d):window,t){case"focusin":(yS(S)||S.contentEditable==="true")&&(_c=S,lj=d,ih=null);break;case"focusout":ih=lj=_c=null;break;case"mousedown":cj=!0;break;case"contextmenu":case"mouseup":case"dragend":cj=!1,NS(h,n,u);break;case"selectionchange":if(q8)break;case"keydown":case"keyup":NS(h,n,u)}var C;if(Aw)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Cc?o4(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(a4&&n.locale!=="ko"&&(Cc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Cc&&(C=i4()):(ao=u,Pw="value"in ao?ao.value:ao.textContent,Cc=!0)),S=Dp(d,k),0<S.length&&(k=new fS(k,t,null,n,u),h.push({event:k,listeners:S}),C?k.data=C:(C=l4(n),C!==null&&(k.data=C)))),(C=R8?D8(t,n):I8(t,n))&&(d=Dp(d,"onBeforeInput"),0<d.length&&(u=new fS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}j4(h,e)})}function Ah(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sh(t,n),a!=null&&r.unshift(Ah(t,a,i)),a=Sh(t,e),a!=null&&r.push(Ah(t,a,i))),t=t.return}return r}function dc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _S(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Sh(n,a),c!=null&&o.unshift(Ah(n,c,l))):i||(c=Sh(n,a),c!=null&&o.push(Ah(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Y8=/\r\n?/g,Q8=/\u0000|\uFFFD/g;function kS(t){return(typeof t=="string"?t:""+t).replace(Y8,`
`).replace(Q8,"")}function kf(t,e,n){if(e=kS(e),kS(t)!==e&&n)throw Error(Ne(425))}function Ip(){}var dj=null,uj=null;function hj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mj=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,PS=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof PS<"u"?function(t){return PS.resolve(null).then(t).catch(J8)}:mj;function J8(t){setTimeout(function(){throw t})}function By(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),kh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kh(e)}function po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ES(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Pi="__reactFiber$"+ru,Fh="__reactProps$"+ru,ba="__reactContainer$"+ru,fj="__reactEvents$"+ru,e9="__reactListeners$"+ru,t9="__reactHandles$"+ru;function el(t){var e=t[Pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ba]||n[Pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ES(t);t!==null;){if(n=t[Pi])return n;t=ES(t)}return e}t=n,n=t.parentNode}return null}function Wm(t){return t=t[Pi]||t[ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function tg(t){return t[Fh]||null}var pj=[],Ec=-1;function Uo(t){return{current:t}}function Jt(t){0>Ec||(t.current=pj[Ec],pj[Ec]=null,Ec--)}function Kt(t,e){Ec++,pj[Ec]=t.current,t.current=e}var No={},xn=Uo(No),Yn=Uo(!1),Rl=No;function Md(t,e){var n=t.type.contextTypes;if(!n)return No;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Op(){Jt(Yn),Jt(xn)}function TS(t,e,n){if(xn.current!==No)throw Error(Ne(168));Kt(xn,e),Kt(Yn,n)}function w4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,$U(t)||"Unknown",i));return fs({},n,r)}function Mp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||No,Rl=xn.current,Kt(xn,t),Kt(Yn,Yn.current),!0}function AS(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=w4(t,e,Rl),r.__reactInternalMemoizedMergedChildContext=t,Jt(Yn),Jt(xn),Kt(xn,t)):Jt(Yn),Kt(Yn,n)}var ta=null,sg=!1,Vy=!1;function N4(t){ta===null?ta=[t]:ta.push(t)}function s9(t){sg=!0,N4(t)}function Bo(){if(!Vy&&ta!==null){Vy=!0;var t=0,e=Ot;try{var n=ta;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ta=null,sg=!1}catch(i){throw ta!==null&&(ta=ta.slice(t+1)),GA(Sw,Bo),i}finally{Ot=e,Vy=!1}}return null}var Tc=[],Ac=0,Lp=null,$p=0,jr=[],br=0,Dl=null,ma=1,fa="";function Go(t,e){Tc[Ac++]=$p,Tc[Ac++]=Lp,Lp=t,$p=e}function S4(t,e,n){jr[br++]=ma,jr[br++]=fa,jr[br++]=Dl,Dl=t;var r=ma;t=fa;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var a=32-ti(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ma=1<<32-ti(e)+i|n<<i|r,fa=a+t}else ma=1<<a|n<<i|r,fa=t}function Rw(t){t.return!==null&&(Go(t,1),S4(t,1,0))}function Dw(t){for(;t===Lp;)Lp=Tc[--Ac],Tc[Ac]=null,$p=Tc[--Ac],Tc[Ac]=null;for(;t===Dl;)Dl=jr[--br],jr[br]=null,fa=jr[--br],jr[br]=null,ma=jr[--br],jr[br]=null}var or=null,ar=null,as=!1,Gr=null;function C4(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,ar=po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dl!==null?{id:ma,overflow:fa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,ar=null,!0):!1;default:return!1}}function xj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gj(t){if(as){var e=ar;if(e){var n=e;if(!FS(t,e)){if(xj(t))throw Error(Ne(418));e=po(n.nextSibling);var r=or;e&&FS(t,e)?C4(r,n):(t.flags=t.flags&-4097|2,as=!1,or=t)}}else{if(xj(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,as=!1,or=t}}}function RS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function Pf(t){if(t!==or)return!1;if(!as)return RS(t),as=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hj(t.type,t.memoizedProps)),e&&(e=ar)){if(xj(t))throw _4(),Error(Ne(418));for(;e;)C4(t,e),e=po(e.nextSibling)}if(RS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=or?po(t.stateNode.nextSibling):null;return!0}function _4(){for(var t=ar;t;)t=po(t.nextSibling)}function Ld(){ar=or=null,as=!1}function Iw(t){Gr===null?Gr=[t]:Gr.push(t)}var n9=Ta.ReactCurrentBatchConfig;function Cu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function Ef(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DS(t){var e=t._init;return e(t._payload)}function k4(t){function e(p,j){if(t){var w=p.deletions;w===null?(p.deletions=[j],p.flags|=16):w.push(j)}}function n(p,j){if(!t)return null;for(;j!==null;)e(p,j),j=j.sibling;return null}function r(p,j){for(p=new Map;j!==null;)j.key!==null?p.set(j.key,j):p.set(j.index,j),j=j.sibling;return p}function i(p,j){return p=vo(p,j),p.index=0,p.sibling=null,p}function a(p,j,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<j?(p.flags|=2,j):w):(p.flags|=2,j)):(p.flags|=1048576,j)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,j,w,N){return j===null||j.tag!==6?(j=Yy(w,p.mode,N),j.return=p,j):(j=i(j,w),j.return=p,j)}function c(p,j,w,N){var P=w.type;return P===Sc?u(p,j,w.props.children,N,w.key):j!==null&&(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ha&&DS(P)===j.type)?(N=i(j,w.props),N.ref=Cu(p,j,w),N.return=p,N):(N=fp(w.type,w.key,w.props,null,p.mode,N),N.ref=Cu(p,j,w),N.return=p,N)}function d(p,j,w,N){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Qy(w,p.mode,N),j.return=p,j):(j=i(j,w.children||[]),j.return=p,j)}function u(p,j,w,N,P){return j===null||j.tag!==7?(j=El(w,p.mode,N,P),j.return=p,j):(j=i(j,w),j.return=p,j)}function h(p,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Yy(""+j,p.mode,w),j.return=p,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yf:return w=fp(j.type,j.key,j.props,null,p.mode,w),w.ref=Cu(p,null,j),w.return=p,w;case Nc:return j=Qy(j,p.mode,w),j.return=p,j;case Ha:var N=j._init;return h(p,N(j._payload),w)}if(Vu(j)||ju(j))return j=El(j,p.mode,w,null),j.return=p,j;Ef(p,j)}return null}function m(p,j,w,N){var P=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(p,j,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yf:return w.key===P?c(p,j,w,N):null;case Nc:return w.key===P?d(p,j,w,N):null;case Ha:return P=w._init,m(p,j,P(w._payload),N)}if(Vu(w)||ju(w))return P!==null?null:u(p,j,w,N,null);Ef(p,w)}return null}function x(p,j,w,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(w)||null,l(j,p,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yf:return p=p.get(N.key===null?w:N.key)||null,c(j,p,N,P);case Nc:return p=p.get(N.key===null?w:N.key)||null,d(j,p,N,P);case Ha:var S=N._init;return x(p,j,w,S(N._payload),P)}if(Vu(N)||ju(N))return p=p.get(w)||null,u(j,p,N,P,null);Ef(j,N)}return null}function v(p,j,w,N){for(var P=null,S=null,C=j,k=j=0,D=null;C!==null&&k<w.length;k++){C.index>k?(D=C,C=null):D=C.sibling;var F=m(p,C,w[k],N);if(F===null){C===null&&(C=D);break}t&&C&&F.alternate===null&&e(p,C),j=a(F,j,k),S===null?P=F:S.sibling=F,S=F,C=D}if(k===w.length)return n(p,C),as&&Go(p,k),P;if(C===null){for(;k<w.length;k++)C=h(p,w[k],N),C!==null&&(j=a(C,j,k),S===null?P=C:S.sibling=C,S=C);return as&&Go(p,k),P}for(C=r(p,C);k<w.length;k++)D=x(C,p,k,w[k],N),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?k:D.key),j=a(D,j,k),S===null?P=D:S.sibling=D,S=D);return t&&C.forEach(function(L){return e(p,L)}),as&&Go(p,k),P}function b(p,j,w,N){var P=ju(w);if(typeof P!="function")throw Error(Ne(150));if(w=P.call(w),w==null)throw Error(Ne(151));for(var S=P=null,C=j,k=j=0,D=null,F=w.next();C!==null&&!F.done;k++,F=w.next()){C.index>k?(D=C,C=null):D=C.sibling;var L=m(p,C,F.value,N);if(L===null){C===null&&(C=D);break}t&&C&&L.alternate===null&&e(p,C),j=a(L,j,k),S===null?P=L:S.sibling=L,S=L,C=D}if(F.done)return n(p,C),as&&Go(p,k),P;if(C===null){for(;!F.done;k++,F=w.next())F=h(p,F.value,N),F!==null&&(j=a(F,j,k),S===null?P=F:S.sibling=F,S=F);return as&&Go(p,k),P}for(C=r(p,C);!F.done;k++,F=w.next())F=x(C,p,k,F.value,N),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?k:F.key),j=a(F,j,k),S===null?P=F:S.sibling=F,S=F);return t&&C.forEach(function(B){return e(p,B)}),as&&Go(p,k),P}function g(p,j,w,N){if(typeof w=="object"&&w!==null&&w.type===Sc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yf:e:{for(var P=w.key,S=j;S!==null;){if(S.key===P){if(P=w.type,P===Sc){if(S.tag===7){n(p,S.sibling),j=i(S,w.props.children),j.return=p,p=j;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ha&&DS(P)===S.type){n(p,S.sibling),j=i(S,w.props),j.ref=Cu(p,S,w),j.return=p,p=j;break e}n(p,S);break}else e(p,S);S=S.sibling}w.type===Sc?(j=El(w.props.children,p.mode,N,w.key),j.return=p,p=j):(N=fp(w.type,w.key,w.props,null,p.mode,N),N.ref=Cu(p,j,w),N.return=p,p=N)}return o(p);case Nc:e:{for(S=w.key;j!==null;){if(j.key===S)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){n(p,j.sibling),j=i(j,w.children||[]),j.return=p,p=j;break e}else{n(p,j);break}else e(p,j);j=j.sibling}j=Qy(w,p.mode,N),j.return=p,p=j}return o(p);case Ha:return S=w._init,g(p,j,S(w._payload),N)}if(Vu(w))return v(p,j,w,N);if(ju(w))return b(p,j,w,N);Ef(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(n(p,j.sibling),j=i(j,w),j.return=p,p=j):(n(p,j),j=Yy(w,p.mode,N),j.return=p,p=j),o(p)):n(p,j)}return g}var $d=k4(!0),P4=k4(!1),Up=Uo(null),Bp=null,Fc=null,Ow=null;function Mw(){Ow=Fc=Bp=null}function Lw(t){var e=Up.current;Jt(Up),t._currentValue=e}function yj(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hc(t,e){Bp=t,Ow=Fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wn=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(Ow!==t)if(t={context:t,memoizedValue:e,next:null},Fc===null){if(Bp===null)throw Error(Ne(308));Fc=t,Bp.dependencies={lanes:0,firstContext:t}}else Fc=Fc.next=t;return e}var tl=null;function $w(t){tl===null?tl=[t]:tl.push(t)}function E4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$w(e)):(n.next=i.next,i.next=n),e.interleaved=n,wa(t,r)}function wa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qa=!1;function Uw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ga(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wa(t,n)}return i=r.interleaved,i===null?(e.next=e,$w(r)):(e.next=i.next,i.next=e),r.interleaved=e,wa(t,n)}function lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cw(t,n)}}function IS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vp(t,e,n,r){var i=t.updateQueue;qa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(m=e,x=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(x,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(x,h,m):v,m==null)break e;h=fs({},h,m);break e;case 2:qa=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=h}}function OS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var Km={},Ri=Uo(Km),Rh=Uo(Km),Dh=Uo(Km);function sl(t){if(t===Km)throw Error(Ne(174));return t}function Bw(t,e){switch(Kt(Dh,e),Kt(Rh,t),Kt(Ri,Km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zv(e,t)}Jt(Ri),Kt(Ri,e)}function Ud(){Jt(Ri),Jt(Rh),Jt(Dh)}function A4(t){sl(Dh.current);var e=sl(Ri.current),n=Zv(e,t.type);e!==n&&(Kt(Rh,t),Kt(Ri,n))}function Vw(t){Rh.current===t&&(Jt(Ri),Jt(Rh))}var ds=Uo(0);function zp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zy=[];function zw(){for(var t=0;t<zy.length;t++)zy[t]._workInProgressVersionPrimary=null;zy.length=0}var cp=Ta.ReactCurrentDispatcher,Hy=Ta.ReactCurrentBatchConfig,Il=0,ms=null,$s=null,Ys=null,Hp=!1,ah=!1,Ih=0,r9=0;function dn(){throw Error(Ne(321))}function Hw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function qw(t,e,n,r,i,a){if(Il=a,ms=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cp.current=t===null||t.memoizedState===null?l9:c9,t=n(r,i),ah){a=0;do{if(ah=!1,Ih=0,25<=a)throw Error(Ne(301));a+=1,Ys=$s=null,e.updateQueue=null,cp.current=d9,t=n(r,i)}while(ah)}if(cp.current=qp,e=$s!==null&&$s.next!==null,Il=0,Ys=$s=ms=null,Hp=!1,e)throw Error(Ne(300));return t}function Ww(){var t=Ih!==0;return Ih=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ys===null?ms.memoizedState=Ys=t:Ys=Ys.next=t,Ys}function kr(){if($s===null){var t=ms.alternate;t=t!==null?t.memoizedState:null}else t=$s.next;var e=Ys===null?ms.memoizedState:Ys.next;if(e!==null)Ys=e,$s=t;else{if(t===null)throw Error(Ne(310));$s=t,t={memoizedState:$s.memoizedState,baseState:$s.baseState,baseQueue:$s.baseQueue,queue:$s.queue,next:null},Ys===null?ms.memoizedState=Ys=t:Ys=Ys.next=t}return Ys}function Oh(t,e){return typeof e=="function"?e(t):e}function qy(t){var e=kr(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=$s,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Il&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ms.lanes|=u,Ol|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,ai(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ms.lanes|=a,Ol|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wy(t){var e=kr(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ai(a,e.memoizedState)||(Wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function F4(){}function R4(t,e){var n=ms,r=kr(),i=e(),a=!ai(r.memoizedState,i);if(a&&(r.memoizedState=i,Wn=!0),r=r.queue,Kw(O4.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ys!==null&&Ys.memoizedState.tag&1){if(n.flags|=2048,Mh(9,I4.bind(null,n,r,i,e),void 0,null),Xs===null)throw Error(Ne(349));Il&30||D4(n,e,i)}return i}function D4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ms.updateQueue,e===null?(e={lastEffect:null,stores:null},ms.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I4(t,e,n,r){e.value=n,e.getSnapshot=r,M4(e)&&L4(t)}function O4(t,e,n){return n(function(){M4(e)&&L4(t)})}function M4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch{return!0}}function L4(t){var e=wa(t,1);e!==null&&si(e,t,1,-1)}function MS(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},e.queue=t,t=t.dispatch=o9.bind(null,ms,t),[e.memoizedState,t]}function Mh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ms.updateQueue,e===null?(e={lastEffect:null,stores:null},ms.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $4(){return kr().memoizedState}function dp(t,e,n,r){var i=yi();ms.flags|=t,i.memoizedState=Mh(1|e,n,void 0,r===void 0?null:r)}function ng(t,e,n,r){var i=kr();r=r===void 0?null:r;var a=void 0;if($s!==null){var o=$s.memoizedState;if(a=o.destroy,r!==null&&Hw(r,o.deps)){i.memoizedState=Mh(e,n,a,r);return}}ms.flags|=t,i.memoizedState=Mh(1|e,n,a,r)}function LS(t,e){return dp(8390656,8,t,e)}function Kw(t,e){return ng(2048,8,t,e)}function U4(t,e){return ng(4,2,t,e)}function B4(t,e){return ng(4,4,t,e)}function V4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z4(t,e,n){return n=n!=null?n.concat([t]):null,ng(4,4,V4.bind(null,e,t),n)}function Gw(){}function H4(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q4(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W4(t,e,n){return Il&21?(ai(n,e)||(n=XA(),ms.lanes|=n,Ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n)}function i9(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=Hy.transition;Hy.transition={};try{t(!1),e()}finally{Ot=n,Hy.transition=r}}function K4(){return kr().memoizedState}function a9(t,e,n){var r=yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G4(t))Y4(e,n);else if(n=E4(t,e,n,r),n!==null){var i=Rn();si(n,t,r,i),Q4(n,e,r)}}function o9(t,e,n){var r=yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G4(t))Y4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,ai(l,o)){var c=e.interleaved;c===null?(i.next=i,$w(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=E4(t,e,i,r),n!==null&&(i=Rn(),si(n,t,r,i),Q4(n,e,r))}}function G4(t){var e=t.alternate;return t===ms||e!==null&&e===ms}function Y4(t,e){ah=Hp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cw(t,n)}}var qp={readContext:_r,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},l9={readContext:_r,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:LS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dp(4194308,4,V4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dp(4194308,4,t,e)},useInsertionEffect:function(t,e){return dp(4,2,t,e)},useMemo:function(t,e){var n=yi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a9.bind(null,ms,t),[r.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:MS,useDebugValue:Gw,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=MS(!1),e=t[0];return t=i9.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ms,i=yi();if(as){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),Xs===null)throw Error(Ne(349));Il&30||D4(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,LS(O4.bind(null,r,a,t),[t]),r.flags|=2048,Mh(9,I4.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=yi(),e=Xs.identifierPrefix;if(as){var n=fa,r=ma;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ih++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c9={readContext:_r,useCallback:H4,useContext:_r,useEffect:Kw,useImperativeHandle:z4,useInsertionEffect:U4,useLayoutEffect:B4,useMemo:q4,useReducer:qy,useRef:$4,useState:function(){return qy(Oh)},useDebugValue:Gw,useDeferredValue:function(t){var e=kr();return W4(e,$s.memoizedState,t)},useTransition:function(){var t=qy(Oh)[0],e=kr().memoizedState;return[t,e]},useMutableSource:F4,useSyncExternalStore:R4,useId:K4,unstable_isNewReconciler:!1},d9={readContext:_r,useCallback:H4,useContext:_r,useEffect:Kw,useImperativeHandle:z4,useInsertionEffect:U4,useLayoutEffect:B4,useMemo:q4,useReducer:Wy,useRef:$4,useState:function(){return Wy(Oh)},useDebugValue:Gw,useDeferredValue:function(t){var e=kr();return $s===null?e.memoizedState=t:W4(e,$s.memoizedState,t)},useTransition:function(){var t=Wy(Oh)[0],e=kr().memoizedState;return[t,e]},useMutableSource:F4,useSyncExternalStore:R4,useId:K4,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=fs({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vj(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fs({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rg={isMounted:function(t){return(t=t._reactInternals)?Jl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=yo(t),a=ga(r,i);a.payload=e,n!=null&&(a.callback=n),e=xo(t,a,i),e!==null&&(si(e,t,i,r),lp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=yo(t),a=ga(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=xo(t,a,i),e!==null&&(si(e,t,i,r),lp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=yo(t),i=ga(n,r);i.tag=2,e!=null&&(i.callback=e),e=xo(t,i,r),e!==null&&(si(e,t,r,n),lp(e,t,r))}};function $S(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Eh(n,r)||!Eh(i,a):!0}function X4(t,e,n){var r=!1,i=No,a=e.contextType;return typeof a=="object"&&a!==null?a=_r(a):(i=Qn(e)?Rl:xn.current,r=e.contextTypes,a=(r=r!=null)?Md(t,i):No),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function US(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rg.enqueueReplaceState(e,e.state,null)}function jj(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_r(a):(a=Qn(e)?Rl:xn.current,i.context=Md(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(vj(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rg.enqueueReplaceState(i,i.state,null),Vp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bd(t,e){try{var n="",r=e;do n+=LU(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ky(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bj(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u9=typeof WeakMap=="function"?WeakMap:Map;function Z4(t,e,n){n=ga(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kp||(Kp=!0,Aj=r),bj(t,e)},n}function J4(t,e,n){n=ga(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bj(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){bj(t,e),typeof r!="function"&&(go===null?go=new Set([this]):go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function BS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C9.bind(null,t,e,n),e.then(t,t))}function VS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ga(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var h9=Ta.ReactCurrentOwner,Wn=!1;function _n(t,e,n,r){e.child=t===null?P4(e,null,n,r):$d(e,t.child,n,r)}function HS(t,e,n,r,i){n=n.render;var a=e.ref;return Hc(e,i),r=qw(t,e,n,r,a,i),n=Ww(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Na(t,e,i)):(as&&n&&Rw(e),e.flags|=1,_n(t,e,r,i),e.child)}function qS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!sN(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,eF(t,e,a,r,i)):(t=fp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Eh,n(o,r)&&t.ref===e.ref)return Na(t,e,i)}return e.flags|=1,t=vo(a,r),t.ref=e.ref,t.return=e,e.child=t}function eF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Eh(a,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Wn=!0);else return e.lanes=t.lanes,Na(t,e,i)}return wj(t,e,n,r,i)}function tF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Dc,Jn),Jn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kt(Dc,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Kt(Dc,Jn),Jn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Kt(Dc,Jn),Jn|=r;return _n(t,e,i,n),e.child}function sF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wj(t,e,n,r,i){var a=Qn(n)?Rl:xn.current;return a=Md(e,a),Hc(e,i),n=qw(t,e,n,r,a,i),r=Ww(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Na(t,e,i)):(as&&r&&Rw(e),e.flags|=1,_n(t,e,n,i),e.child)}function WS(t,e,n,r,i){if(Qn(n)){var a=!0;Mp(e)}else a=!1;if(Hc(e,i),e.stateNode===null)up(t,e),X4(e,n,r),jj(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=_r(d):(d=Qn(n)?Rl:xn.current,d=Md(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&US(e,o,r,d),qa=!1;var m=e.memoizedState;o.state=m,Vp(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Yn.current||qa?(typeof u=="function"&&(vj(e,n,u,r),c=e.memoizedState),(l=qa||$S(e,n,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,T4(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ir(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Qn(n)?Rl:xn.current,c=Md(e,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&US(e,o,r,c),qa=!1,m=e.memoizedState,o.state=m,Vp(e,r,o,i);var v=e.memoizedState;l!==h||m!==v||Yn.current||qa?(typeof x=="function"&&(vj(e,n,x,r),v=e.memoizedState),(d=qa||$S(e,n,d,r,m,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Nj(t,e,n,r,a,i)}function Nj(t,e,n,r,i,a){sF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AS(e,n,!1),Na(t,e,a);r=e.stateNode,h9.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$d(e,t.child,null,a),e.child=$d(e,null,l,a)):_n(t,e,l,a),e.memoizedState=r.state,i&&AS(e,n,!0),e.child}function nF(t){var e=t.stateNode;e.pendingContext?TS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TS(t,e.context,!1),Bw(t,e.containerInfo)}function KS(t,e,n,r,i){return Ld(),Iw(i),e.flags|=256,_n(t,e,n,r),e.child}var Sj={dehydrated:null,treeContext:null,retryLane:0};function Cj(t){return{baseLanes:t,cachePool:null,transitions:null}}function rF(t,e,n){var r=e.pendingProps,i=ds.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kt(ds,i&1),t===null)return gj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=og(o,r,0,null),t=El(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Cj(n),e.memoizedState=Sj,t):Yw(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return m9(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=vo(l,a):(a=El(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Cj(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Sj,r}return a=t.child,t=a.sibling,r=vo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yw(t,e){return e=og({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,n,r){return r!==null&&Iw(r),$d(e,t.child,null,n),t=Yw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m9(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Ky(Error(Ne(422))),Tf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=og({mode:"visible",children:r.children},i,0,null),a=El(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&$d(e,t.child,null,o),e.child.memoizedState=Cj(o),e.memoizedState=Sj,a);if(!(e.mode&1))return Tf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Ne(419)),r=Ky(a,r,void 0),Tf(t,e,o,r)}if(l=(o&t.childLanes)!==0,Wn||l){if(r=Xs,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,wa(t,i),si(r,t,i,-1))}return tN(),r=Ky(Error(Ne(421))),Tf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ar=po(i.nextSibling),or=e,as=!0,Gr=null,t!==null&&(jr[br++]=ma,jr[br++]=fa,jr[br++]=Dl,ma=t.id,fa=t.overflow,Dl=e),e=Yw(e,r.children),e.flags|=4096,e)}function GS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yj(t.return,e,n)}function Gy(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function iF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(_n(t,e,r.children,n),r=ds.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GS(t,n,e);else if(t.tag===19)GS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Kt(ds,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gy(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gy(e,!0,n,null,a);break;case"together":Gy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Na(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f9(t,e,n){switch(e.tag){case 3:nF(e),Ld();break;case 5:A4(e);break;case 1:Qn(e.type)&&Mp(e);break;case 4:Bw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Kt(Up,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Kt(ds,ds.current&1),e.flags|=128,null):n&e.child.childLanes?rF(t,e,n):(Kt(ds,ds.current&1),t=Na(t,e,n),t!==null?t.sibling:null);Kt(ds,ds.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kt(ds,ds.current),r)break;return null;case 22:case 23:return e.lanes=0,tF(t,e,n)}return Na(t,e,n)}var aF,_j,oF,lF;aF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_j=function(){};oF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sl(Ri.current);var a=null;switch(n){case"input":i=Gv(t,i),r=Gv(t,r),a=[];break;case"select":i=fs({},i,{value:void 0}),r=fs({},r,{value:void 0}),a=[];break;case"textarea":i=Xv(t,i),r=Xv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ip)}Jv(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wh.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Yt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};lF=function(t,e,n,r){n!==r&&(e.flags|=4)};function _u(t,e){if(!as)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p9(t,e,n){var r=e.pendingProps;switch(Dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Qn(e.type)&&Op(),un(e),null;case 3:return r=e.stateNode,Ud(),Jt(Yn),Jt(xn),zw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(Dj(Gr),Gr=null))),_j(t,e),un(e),null;case 5:Vw(e);var i=sl(Dh.current);if(n=e.type,t!==null&&e.stateNode!=null)oF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return un(e),null}if(t=sl(Ri.current),Pf(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Pi]=e,r[Fh]=a,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(i=0;i<Hu.length;i++)Yt(Hu[i],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":nS(r,a),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Yt("invalid",r);break;case"textarea":iS(r,a),Yt("invalid",r)}Jv(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&kf(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&kf(r.textContent,l,t),i=["children",""+l]):wh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",r)}switch(n){case"input":vf(r),rS(r,a,!0);break;case"textarea":vf(r),aS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ip)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pi]=e,t[Fh]=r,aF(t,e,!1,!1),e.stateNode=t;e:{switch(o=ej(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),i=r;break;case"iframe":case"object":case"embed":Yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hu.length;i++)Yt(Hu[i],t);i=r;break;case"source":Yt("error",t),i=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=r;break;case"details":Yt("toggle",t),i=r;break;case"input":nS(t,r),i=Gv(t,r),Yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fs({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":iS(t,r),i=Xv(t,r),Yt("invalid",t);break;default:i=r}Jv(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?$A(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MA(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nh(t,c):typeof c=="number"&&Nh(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Yt("scroll",t):c!=null&&vw(t,a,c,o))}switch(n){case"input":vf(t),rS(t,r,!1);break;case"textarea":vf(t),aS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Uc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Uc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ip)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)lF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=sl(Dh.current),sl(Ri.current),Pf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pi]=e,(a=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pi]=e,e.stateNode=r}return un(e),null;case 13:if(Jt(ds),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(as&&ar!==null&&e.mode&1&&!(e.flags&128))_4(),Ld(),e.flags|=98560,a=!1;else if(a=Pf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ne(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ne(317));a[Pi]=e}else Ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),a=!1}else Gr!==null&&(Dj(Gr),Gr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ds.current&1?Hs===0&&(Hs=3):tN())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Ud(),_j(t,e),t===null&&Th(e.stateNode.containerInfo),un(e),null;case 10:return Lw(e.type._context),un(e),null;case 17:return Qn(e.type)&&Op(),un(e),null;case 19:if(Jt(ds),a=e.memoizedState,a===null)return un(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)_u(a,!1);else{if(Hs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zp(t),o!==null){for(e.flags|=128,_u(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Kt(ds,ds.current&1|2),e.child}t=t.sibling}a.tail!==null&&Cs()>Vd&&(e.flags|=128,r=!0,_u(a,!1),e.lanes=4194304)}else{if(!r)if(t=zp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_u(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!as)return un(e),null}else 2*Cs()-a.renderingStartTime>Vd&&n!==1073741824&&(e.flags|=128,r=!0,_u(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Cs(),e.sibling=null,n=ds.current,Kt(ds,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return eN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function x9(t,e){switch(Dw(e),e.tag){case 1:return Qn(e.type)&&Op(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ud(),Jt(Yn),Jt(xn),zw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vw(e),null;case 13:if(Jt(ds),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Ld()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(ds),null;case 4:return Ud(),null;case 10:return Lw(e.type._context),null;case 22:case 23:return eN(),null;case 24:return null;default:return null}}var Af=!1,fn=!1,g9=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Rc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xs(t,e,r)}else n.current=null}function kj(t,e,n){try{n()}catch(r){xs(t,e,r)}}var YS=!1;function y9(t,e){if(dj=Fp,t=m4(),Fw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var x;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uj={focusedElem:t,selectionRange:n},Fp=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,g=v.memoizedState,p=e.stateNode,j=p.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ir(e.type,b),g);p.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(N){xs(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return v=YS,YS=!1,v}function oh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&kj(e,n,a)}i=i.next}while(i!==r)}}function ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cF(t){var e=t.alternate;e!==null&&(t.alternate=null,cF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[Fh],delete e[fj],delete e[e9],delete e[t9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dF(t){return t.tag===5||t.tag===3||t.tag===4}function QS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ej(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ip));else if(r!==4&&(t=t.child,t!==null))for(Ej(t,e,n),t=t.sibling;t!==null;)Ej(t,e,n),t=t.sibling}function Tj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tj(t,e,n),t=t.sibling;t!==null;)Tj(t,e,n),t=t.sibling}var nn=null,qr=!1;function Ia(t,e,n){for(n=n.child;n!==null;)uF(t,e,n),n=n.sibling}function uF(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Xx,n)}catch{}switch(n.tag){case 5:fn||Rc(n,e);case 6:var r=nn,i=qr;nn=null,Ia(t,e,n),nn=r,qr=i,nn!==null&&(qr?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(qr?(t=nn,n=n.stateNode,t.nodeType===8?By(t.parentNode,n):t.nodeType===1&&By(t,n),kh(t)):By(nn,n.stateNode));break;case 4:r=nn,i=qr,nn=n.stateNode.containerInfo,qr=!0,Ia(t,e,n),nn=r,qr=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&kj(n,e,o),i=i.next}while(i!==r)}Ia(t,e,n);break;case 1:if(!fn&&(Rc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xs(n,e,l)}Ia(t,e,n);break;case 21:Ia(t,e,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,Ia(t,e,n),fn=r):Ia(t,e,n);break;default:Ia(t,e,n)}}function XS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g9),e.forEach(function(r){var i=k9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,qr=!1;break e;case 3:nn=l.stateNode.containerInfo,qr=!0;break e;case 4:nn=l.stateNode.containerInfo,qr=!0;break e}l=l.return}if(nn===null)throw Error(Ne(160));uF(a,o,i),nn=null,qr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){xs(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hF(e,t),e=e.sibling}function hF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),xi(t),r&4){try{oh(3,t,t.return),ig(3,t)}catch(b){xs(t,t.return,b)}try{oh(5,t,t.return)}catch(b){xs(t,t.return,b)}}break;case 1:Ar(e,t),xi(t),r&512&&n!==null&&Rc(n,n.return);break;case 5:if(Ar(e,t),xi(t),r&512&&n!==null&&Rc(n,n.return),t.flags&32){var i=t.stateNode;try{Nh(i,"")}catch(b){xs(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&DA(i,a),ej(l,o);var d=ej(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?$A(i,h):u==="dangerouslySetInnerHTML"?MA(i,h):u==="children"?Nh(i,h):vw(i,u,h,d)}switch(l){case"input":Yv(i,a);break;case"textarea":IA(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Uc(i,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Uc(i,!!a.multiple,a.defaultValue,!0):Uc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fh]=a}catch(b){xs(t,t.return,b)}}break;case 6:if(Ar(e,t),xi(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){xs(t,t.return,b)}}break;case 3:if(Ar(e,t),xi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kh(e.containerInfo)}catch(b){xs(t,t.return,b)}break;case 4:Ar(e,t),xi(t);break;case 13:Ar(e,t),xi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Zw=Cs())),r&4&&XS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(fn=(d=fn)||u,Ar(e,t),fn=d):Ar(e,t),xi(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Ve=t,u=t.child;u!==null;){for(h=Ve=u;Ve!==null;){switch(m=Ve,x=m.child,m.tag){case 0:case 11:case 14:case 15:oh(4,m,m.return);break;case 1:Rc(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){xs(r,n,b)}}break;case 5:Rc(m,m.return);break;case 22:if(m.memoizedState!==null){JS(h);continue}}x!==null?(x.return=m,Ve=x):JS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=LA("display",o))}catch(b){xs(t,t.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){xs(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ar(e,t),xi(t),r&4&&XS(t);break;case 21:break;default:Ar(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dF(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Nh(i,""),r.flags&=-33);var a=QS(t);Tj(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=QS(t);Ej(t,l,o);break;default:throw Error(Ne(161))}}catch(c){xs(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v9(t,e,n){Ve=t,mF(t)}function mF(t,e,n){for(var r=(t.mode&1)!==0;Ve!==null;){var i=Ve,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Af;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fn;l=Af;var d=fn;if(Af=o,(fn=c)&&!d)for(Ve=i;Ve!==null;)o=Ve,c=o.child,o.tag===22&&o.memoizedState!==null?eC(i):c!==null?(c.return=o,Ve=c):eC(i);for(;a!==null;)Ve=a,mF(a),a=a.sibling;Ve=i,Af=l,fn=d}ZS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ve=a):ZS(t)}}function ZS(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fn||ig(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&OS(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OS(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}fn||e.flags&512&&Pj(e)}catch(m){xs(e,e.return,m)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function JS(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function eC(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ig(4,e)}catch(c){xs(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){xs(e,i,c)}}var a=e.return;try{Pj(e)}catch(c){xs(e,a,c)}break;case 5:var o=e.return;try{Pj(e)}catch(c){xs(e,o,c)}}}catch(c){xs(e,e.return,c)}if(e===t){Ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ve=l;break}Ve=e.return}}var j9=Math.ceil,Wp=Ta.ReactCurrentDispatcher,Qw=Ta.ReactCurrentOwner,Sr=Ta.ReactCurrentBatchConfig,_t=0,Xs=null,Rs=null,an=0,Jn=0,Dc=Uo(0),Hs=0,Lh=null,Ol=0,ag=0,Xw=0,lh=null,qn=null,Zw=0,Vd=1/0,ea=null,Kp=!1,Aj=null,go=null,Ff=!1,oo=null,Gp=0,ch=0,Fj=null,hp=-1,mp=0;function Rn(){return _t&6?Cs():hp!==-1?hp:hp=Cs()}function yo(t){return t.mode&1?_t&2&&an!==0?an&-an:n9.transition!==null?(mp===0&&(mp=XA()),mp):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:r4(t.type)),t):1}function si(t,e,n,r){if(50<ch)throw ch=0,Fj=null,Error(Ne(185));Hm(t,n,r),(!(_t&2)||t!==Xs)&&(t===Xs&&(!(_t&2)&&(ag|=n),Hs===4&&Ga(t,an)),Xn(t,r),n===1&&_t===0&&!(e.mode&1)&&(Vd=Cs()+500,sg&&Bo()))}function Xn(t,e){var n=t.callbackNode;n8(t,e);var r=Ap(t,t===Xs?an:0);if(r===0)n!==null&&cS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cS(n),e===1)t.tag===0?s9(tC.bind(null,t)):N4(tC.bind(null,t)),Z8(function(){!(_t&6)&&Bo()}),n=null;else{switch(ZA(r)){case 1:n=Sw;break;case 4:n=YA;break;case 16:n=Tp;break;case 536870912:n=QA;break;default:n=Tp}n=bF(n,fF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fF(t,e){if(hp=-1,mp=0,_t&6)throw Error(Ne(327));var n=t.callbackNode;if(qc()&&t.callbackNode!==n)return null;var r=Ap(t,t===Xs?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yp(t,r);else{e=r;var i=_t;_t|=2;var a=xF();(Xs!==t||an!==e)&&(ea=null,Vd=Cs()+500,Pl(t,e));do try{N9();break}catch(l){pF(t,l)}while(!0);Mw(),Wp.current=a,_t=i,Rs!==null?e=0:(Xs=null,an=0,e=Hs)}if(e!==0){if(e===2&&(i=ij(t),i!==0&&(r=i,e=Rj(t,i))),e===1)throw n=Lh,Pl(t,0),Ga(t,r),Xn(t,Cs()),n;if(e===6)Ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!b9(i)&&(e=Yp(t,r),e===2&&(a=ij(t),a!==0&&(r=a,e=Rj(t,a))),e===1))throw n=Lh,Pl(t,0),Ga(t,r),Xn(t,Cs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Yo(t,qn,ea);break;case 3:if(Ga(t,r),(r&130023424)===r&&(e=Zw+500-Cs(),10<e)){if(Ap(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mj(Yo.bind(null,t,qn,ea),e);break}Yo(t,qn,ea);break;case 4:if(Ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ti(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Cs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j9(r/1960))-r,10<r){t.timeoutHandle=mj(Yo.bind(null,t,qn,ea),r);break}Yo(t,qn,ea);break;case 5:Yo(t,qn,ea);break;default:throw Error(Ne(329))}}}return Xn(t,Cs()),t.callbackNode===n?fF.bind(null,t):null}function Rj(t,e){var n=lh;return t.current.memoizedState.isDehydrated&&(Pl(t,e).flags|=256),t=Yp(t,e),t!==2&&(e=qn,qn=n,e!==null&&Dj(e)),t}function Dj(t){qn===null?qn=t:qn.push.apply(qn,t)}function b9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ai(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e){for(e&=~Xw,e&=~ag,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function tC(t){if(_t&6)throw Error(Ne(327));qc();var e=Ap(t,0);if(!(e&1))return Xn(t,Cs()),null;var n=Yp(t,e);if(t.tag!==0&&n===2){var r=ij(t);r!==0&&(e=r,n=Rj(t,r))}if(n===1)throw n=Lh,Pl(t,0),Ga(t,e),Xn(t,Cs()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yo(t,qn,ea),Xn(t,Cs()),null}function Jw(t,e){var n=_t;_t|=1;try{return t(e)}finally{_t=n,_t===0&&(Vd=Cs()+500,sg&&Bo())}}function Ml(t){oo!==null&&oo.tag===0&&!(_t&6)&&qc();var e=_t;_t|=1;var n=Sr.transition,r=Ot;try{if(Sr.transition=null,Ot=1,t)return t()}finally{Ot=r,Sr.transition=n,_t=e,!(_t&6)&&Bo()}}function eN(){Jn=Dc.current,Jt(Dc)}function Pl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X8(n)),Rs!==null)for(n=Rs.return;n!==null;){var r=n;switch(Dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Op();break;case 3:Ud(),Jt(Yn),Jt(xn),zw();break;case 5:Vw(r);break;case 4:Ud();break;case 13:Jt(ds);break;case 19:Jt(ds);break;case 10:Lw(r.type._context);break;case 22:case 23:eN()}n=n.return}if(Xs=t,Rs=t=vo(t.current,null),an=Jn=e,Hs=0,Lh=null,Xw=ag=Ol=0,qn=lh=null,tl!==null){for(e=0;e<tl.length;e++)if(n=tl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}tl=null}return t}function pF(t,e){do{var n=Rs;try{if(Mw(),cp.current=qp,Hp){for(var r=ms.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hp=!1}if(Il=0,Ys=$s=ms=null,ah=!1,Ih=0,Qw.current=null,n===null||n.return===null){Hs=1,Lh=e,Rs=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=VS(o);if(x!==null){x.flags&=-257,zS(x,o,l,a,e),x.mode&1&&BS(a,d,e),e=x,c=d;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){BS(a,d,e),tN();break e}c=Error(Ne(426))}}else if(as&&l.mode&1){var g=VS(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),zS(g,o,l,a,e),Iw(Bd(c,l));break e}}a=c=Bd(c,l),Hs!==4&&(Hs=2),lh===null?lh=[a]:lh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=Z4(a,c,e);IS(a,p);break e;case 1:l=c;var j=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(go===null||!go.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=J4(a,l,e);IS(a,N);break e}}a=a.return}while(a!==null)}yF(n)}catch(P){e=P,Rs===n&&n!==null&&(Rs=n=n.return);continue}break}while(!0)}function xF(){var t=Wp.current;return Wp.current=qp,t===null?qp:t}function tN(){(Hs===0||Hs===3||Hs===2)&&(Hs=4),Xs===null||!(Ol&268435455)&&!(ag&268435455)||Ga(Xs,an)}function Yp(t,e){var n=_t;_t|=2;var r=xF();(Xs!==t||an!==e)&&(ea=null,Pl(t,e));do try{w9();break}catch(i){pF(t,i)}while(!0);if(Mw(),_t=n,Wp.current=r,Rs!==null)throw Error(Ne(261));return Xs=null,an=0,Hs}function w9(){for(;Rs!==null;)gF(Rs)}function N9(){for(;Rs!==null&&!GU();)gF(Rs)}function gF(t){var e=jF(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?yF(t):Rs=e,Qw.current=null}function yF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x9(n,e),n!==null){n.flags&=32767,Rs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hs=6,Rs=null;return}}else if(n=p9(n,e,Jn),n!==null){Rs=n;return}if(e=e.sibling,e!==null){Rs=e;return}Rs=e=t}while(e!==null);Hs===0&&(Hs=5)}function Yo(t,e,n){var r=Ot,i=Sr.transition;try{Sr.transition=null,Ot=1,S9(t,e,n,r)}finally{Sr.transition=i,Ot=r}return null}function S9(t,e,n,r){do qc();while(oo!==null);if(_t&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(r8(t,a),t===Xs&&(Rs=Xs=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ff||(Ff=!0,bF(Tp,function(){return qc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Sr.transition,Sr.transition=null;var o=Ot;Ot=1;var l=_t;_t|=4,Qw.current=null,y9(t,n),hF(n,t),H8(uj),Fp=!!dj,uj=dj=null,t.current=n,v9(n),YU(),_t=l,Ot=o,Sr.transition=a}else t.current=n;if(Ff&&(Ff=!1,oo=t,Gp=i),a=t.pendingLanes,a===0&&(go=null),ZU(n.stateNode),Xn(t,Cs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kp)throw Kp=!1,t=Aj,Aj=null,t;return Gp&1&&t.tag!==0&&qc(),a=t.pendingLanes,a&1?t===Fj?ch++:(ch=0,Fj=t):ch=0,Bo(),null}function qc(){if(oo!==null){var t=ZA(Gp),e=Sr.transition,n=Ot;try{if(Sr.transition=null,Ot=16>t?16:t,oo===null)var r=!1;else{if(t=oo,oo=null,Gp=0,_t&6)throw Error(Ne(331));var i=_t;for(_t|=4,Ve=t.current;Ve!==null;){var a=Ve,o=a.child;if(Ve.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ve=d;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:oh(8,u,a)}var h=u.child;if(h!==null)h.return=u,Ve=h;else for(;Ve!==null;){u=Ve;var m=u.sibling,x=u.return;if(cF(u),u===d){Ve=null;break}if(m!==null){m.return=x,Ve=m;break}Ve=x}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(b!==null)}}Ve=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ve=o;else e:for(;Ve!==null;){if(a=Ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oh(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Ve=p;break e}Ve=a.return}}var j=t.current;for(Ve=j;Ve!==null;){o=Ve;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ve=w;else e:for(o=j;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ig(9,l)}}catch(P){xs(l,l.return,P)}if(l===o){Ve=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ve=N;break e}Ve=l.return}}if(_t=i,Bo(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Xx,t)}catch{}r=!0}return r}finally{Ot=n,Sr.transition=e}}return!1}function sC(t,e,n){e=Bd(n,e),e=Z4(t,e,1),t=xo(t,e,1),e=Rn(),t!==null&&(Hm(t,1,e),Xn(t,e))}function xs(t,e,n){if(t.tag===3)sC(t,t,n);else for(;e!==null;){if(e.tag===3){sC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(go===null||!go.has(r))){t=Bd(n,t),t=J4(e,t,1),e=xo(e,t,1),t=Rn(),e!==null&&(Hm(e,1,t),Xn(e,t));break}}e=e.return}}function C9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Xs===t&&(an&n)===n&&(Hs===4||Hs===3&&(an&130023424)===an&&500>Cs()-Zw?Pl(t,0):Xw|=n),Xn(t,e)}function vF(t,e){e===0&&(t.mode&1?(e=wf,wf<<=1,!(wf&130023424)&&(wf=4194304)):e=1);var n=Rn();t=wa(t,e),t!==null&&(Hm(t,e,n),Xn(t,n))}function _9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vF(t,n)}function k9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),vF(t,n)}var jF;jF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wn=!1,f9(t,e,n);Wn=!!(t.flags&131072)}else Wn=!1,as&&e.flags&1048576&&S4(e,$p,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;up(t,e),t=e.pendingProps;var i=Md(e,xn.current);Hc(e,n),i=qw(null,e,r,t,i,n);var a=Ww();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(a=!0,Mp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uw(e),i.updater=rg,e.stateNode=i,i._reactInternals=e,jj(e,r,t,n),e=Nj(null,e,r,!0,a,n)):(e.tag=0,as&&a&&Rw(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(up(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E9(r),t=Ir(r,t),i){case 0:e=wj(null,e,r,t,n);break e;case 1:e=WS(null,e,r,t,n);break e;case 11:e=HS(null,e,r,t,n);break e;case 14:e=qS(null,e,r,Ir(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),wj(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),WS(t,e,r,i,n);case 3:e:{if(nF(e),t===null)throw Error(Ne(387));r=e.pendingProps,a=e.memoizedState,i=a.element,T4(t,e),Vp(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Bd(Error(Ne(423)),e),e=KS(t,e,r,n,i);break e}else if(r!==i){i=Bd(Error(Ne(424)),e),e=KS(t,e,r,n,i);break e}else for(ar=po(e.stateNode.containerInfo.firstChild),or=e,as=!0,Gr=null,n=P4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ld(),r===i){e=Na(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return A4(e),t===null&&gj(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,hj(r,i)?o=null:a!==null&&hj(r,a)&&(e.flags|=32),sF(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&gj(e),null;case 13:return rF(t,e,n);case 4:return Bw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$d(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),HS(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Kt(Up,r._currentValue),r._currentValue=o,a!==null)if(ai(a.value,o)){if(a.children===i.children&&!Yn.current){e=Na(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ga(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),yj(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ne(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yj(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hc(e,n),i=_r(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=Ir(r,e.pendingProps),i=Ir(r.type,i),qS(t,e,r,i,n);case 15:return eF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),up(t,e),e.tag=1,Qn(r)?(t=!0,Mp(e)):t=!1,Hc(e,n),X4(e,r,i),jj(e,r,i,n),Nj(null,e,r,!0,t,n);case 19:return iF(t,e,n);case 22:return tF(t,e,n)}throw Error(Ne(156,e.tag))};function bF(t,e){return GA(t,e)}function P9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new P9(t,e,n,r)}function sN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E9(t){if(typeof t=="function")return sN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bw)return 11;if(t===ww)return 14}return 2}function vo(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fp(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")sN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sc:return El(n.children,i,a,e);case jw:o=8,i|=8;break;case Hv:return t=wr(12,n,e,i|2),t.elementType=Hv,t.lanes=a,t;case qv:return t=wr(13,n,e,i),t.elementType=qv,t.lanes=a,t;case Wv:return t=wr(19,n,e,i),t.elementType=Wv,t.lanes=a,t;case AA:return og(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EA:o=10;break e;case TA:o=9;break e;case bw:o=11;break e;case ww:o=14;break e;case Ha:o=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function El(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function og(t,e,n,r){return t=wr(22,t,r,e),t.elementType=AA,t.lanes=n,t.stateNode={isHidden:!1},t}function Yy(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function Qy(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nN(t,e,n,r,i,a,o,l,c){return t=new T9(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uw(a),t}function A9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wF(t){if(!t)return No;t=t._reactInternals;e:{if(Jl(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Qn(n))return w4(t,n,e)}return e}function NF(t,e,n,r,i,a,o,l,c){return t=nN(n,r,!0,t,i,a,o,l,c),t.context=wF(null),n=t.current,r=Rn(),i=yo(n),a=ga(r,i),a.callback=e??null,xo(n,a,i),t.current.lanes=i,Hm(t,i,r),Xn(t,r),t}function lg(t,e,n,r){var i=e.current,a=Rn(),o=yo(i);return n=wF(n),e.context===null?e.context=n:e.pendingContext=n,e=ga(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(i,e,o),t!==null&&(si(t,i,o,a),lp(t,i,o)),o}function Qp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rN(t,e){nC(t,e),(t=t.alternate)&&nC(t,e)}function F9(){return null}var SF=typeof reportError=="function"?reportError:function(t){console.error(t)};function iN(t){this._internalRoot=t}cg.prototype.render=iN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));lg(t,e,null,null)};cg.prototype.unmount=iN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ml(function(){lg(null,t,null,null)}),e[ba]=null}};function cg(t){this._internalRoot=t}cg.prototype.unstable_scheduleHydration=function(t){if(t){var e=t4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ka.length&&e!==0&&e<Ka[n].priority;n++);Ka.splice(n,0,t),n===0&&n4(t)}};function aN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rC(){}function R9(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Qp(o);a.call(d)}}var o=NF(e,r,t,0,null,!1,!1,"",rC);return t._reactRootContainer=o,t[ba]=o.current,Th(t.nodeType===8?t.parentNode:t),Ml(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Qp(c);l.call(d)}}var c=nN(t,0,!1,null,null,!1,!1,"",rC);return t._reactRootContainer=c,t[ba]=c.current,Th(t.nodeType===8?t.parentNode:t),Ml(function(){lg(e,c,n,r)}),c}function ug(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Qp(o);l.call(c)}}lg(e,o,t,i)}else o=R9(n,e,t,i,r);return Qp(o)}JA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(Cw(e,n|1),Xn(e,Cs()),!(_t&6)&&(Vd=Cs()+500,Bo()))}break;case 13:Ml(function(){var r=wa(t,1);if(r!==null){var i=Rn();si(r,t,1,i)}}),rN(t,1)}};_w=function(t){if(t.tag===13){var e=wa(t,134217728);if(e!==null){var n=Rn();si(e,t,134217728,n)}rN(t,134217728)}};e4=function(t){if(t.tag===13){var e=yo(t),n=wa(t,e);if(n!==null){var r=Rn();si(n,t,e,r)}rN(t,e)}};t4=function(){return Ot};s4=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};sj=function(t,e,n){switch(e){case"input":if(Yv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tg(r);if(!i)throw Error(Ne(90));RA(r),Yv(r,i)}}}break;case"textarea":IA(t,n);break;case"select":e=n.value,e!=null&&Uc(t,!!n.multiple,e,!1)}};VA=Jw;zA=Ml;var D9={usingClientEntryPoint:!1,Events:[Wm,Pc,tg,UA,BA,Jw]},ku={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I9={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WA(t),t===null?null:t.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||F9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Xx=Rf.inject(I9),Fi=Rf}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D9;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aN(e))throw Error(Ne(200));return A9(t,e,null,n)};mr.createRoot=function(t,e){if(!aN(t))throw Error(Ne(299));var n=!1,r="",i=SF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nN(t,1,!1,null,null,n,!1,r,i),t[ba]=e.current,Th(t.nodeType===8?t.parentNode:t),new iN(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=WA(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return Ml(t)};mr.hydrate=function(t,e,n){if(!dg(e))throw Error(Ne(200));return ug(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!aN(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=SF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NF(e,null,t,1,n??null,i,!1,a,o),t[ba]=e.current,Th(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cg(e)};mr.render=function(t,e,n){if(!dg(e))throw Error(Ne(200));return ug(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!dg(t))throw Error(Ne(40));return t._reactRootContainer?(Ml(function(){ug(null,null,t,!1,function(){t._reactRootContainer=null,t[ba]=null})}),!0):!1};mr.unstable_batchedUpdates=Jw;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dg(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return ug(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function CF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CF)}catch(t){console.error(t)}}CF(),CA.exports=mr;var ec=CA.exports;const O9=Ea(ec);var _F,iC=ec;_F=iC.createRoot,iC.hydrateRoot;function M9(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var kF={exports:{}},PF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=f;function L9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $9=typeof Object.is=="function"?Object.is:L9,U9=zd.useState,B9=zd.useEffect,V9=zd.useLayoutEffect,z9=zd.useDebugValue;function H9(t,e){var n=e(),r=U9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return V9(function(){i.value=n,i.getSnapshot=e,Xy(i)&&a({inst:i})},[t,n,e]),B9(function(){return Xy(i)&&a({inst:i}),t(function(){Xy(i)&&a({inst:i})})},[t]),z9(n),n}function Xy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$9(t,n)}catch{return!0}}function q9(t,e){return e()}var W9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q9:H9;PF.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:W9;kF.exports=PF;var EF=kF.exports;const K9=Qx.useInsertionEffect,G9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y9=G9?f.useLayoutEffect:f.useEffect,Q9=K9||Y9,TF=t=>{const e=f.useRef([t,(...n)=>e[0](...n)]).current;return Q9(()=>{e[0]=t}),e[1]},X9="popstate",oN="pushState",lN="replaceState",Z9="hashchange",aC=[X9,oN,lN,Z9],J9=t=>{for(const e of aC)addEventListener(e,t);return()=>{for(const e of aC)removeEventListener(e,t)}},AF=(t,e)=>EF.useSyncExternalStore(J9,t,e),oC=()=>location.search,eB=({ssrSearch:t}={})=>AF(oC,t!=null?()=>t:oC),lC=()=>location.pathname,tB=({ssrPath:t}={})=>AF(lC,t!=null?()=>t:lC),sB=(t,{replace:e=!1,state:n=null}={})=>history[e?lN:oN](n,"",t),nB=(t={})=>[tB(t),sB],cC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cC]>"u"){for(const t of[oN,lN]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,cC,{value:!0})}const rB=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",FF=(t="")=>t==="/"?"":t,iB=(t,e)=>t[0]==="~"?t.slice(1):FF(e)+t,aB=(t="",e)=>rB(dC(FF(t)),dC(e)),dC=t=>{try{return decodeURI(t)}catch{return t}},RF={hook:nB,searchHook:eB,parser:M9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,e,n)=>t(e,n)},DF=f.createContext(RF),iu=()=>f.useContext(DF),IF={},OF=f.createContext(IF),oB=()=>f.useContext(OF),hg=t=>{const[e,n]=t.hook(t);return[aB(t.base,e),TF((r,i)=>t.aroundNav(n,iB(r,t.base),i))]},en=()=>hg(iu()),cN=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},Gm=t=>cN(iu().parser,t,en()[0]),lB=({children:t,...e})=>{var u,h,m;const n=iu(),r=e.hook?RF:n;let i=r;const[a,o=e.ssrSearch??""]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((m=e.hook)==null?void 0:m.searchHook);let l=f.useRef({}),c=l.current,d=c;for(let x in r){const v=x==="base"?r[x]+(e[x]??""):e[x]??r[x];c===d&&v!==d[x]&&(l.current=d={...d}),d[x]=v,(v!==r[x]||v!==i[x])&&(i=d)}return f.createElement(DF.Provider,{value:i,children:t})},uC=({children:t,component:e},n)=>e?f.createElement(e,{params:n}):typeof t=="function"?t(n):t,cB=t=>{let e=f.useRef(IF);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},Ye=({path:t,nest:e,match:n,...r})=>{const i=iu(),[a]=hg(i),[o,l,c]=n??cN(i.parser,t,a,e),d=cB({...oB(),...l});if(!o)return null;const u=c?f.createElement(lB,{base:c},uC(r,d)):uC(r,d);return f.createElement(OF.Provider,{value:d,children:u})},at=f.forwardRef((t,e)=>{const n=iu(),[r,i]=hg(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,transition:x,...v}=t,b=TF(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(l==null||l(p),p.defaultPrevented||(p.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&f.isValidElement(d)?f.cloneElement(d,{onClick:b,href:g}):f.createElement("a",{...v,onClick:b,href:g,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),MF=t=>Array.isArray(t)?t.flatMap(e=>MF(e&&e.type===f.Fragment?e.props.children:e)):[t],dB=({children:t,location:e})=>{const n=iu(),[r]=hg(n);for(const i of MF(t)){let a=0;if(f.isValidElement(i)&&(a=cN(n.parser,i.props.path,e||r,i.props.nest))[0])return f.cloneElement(i,{match:a})}return null};var au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uB={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ya,hw,gk,hB=(gk=class{constructor(){Z(this,Ya,uB);Z(this,hw,!1)}setTimeoutProvider(t){te(this,Ya,t)}setTimeout(t,e){return _(this,Ya).setTimeout(t,e)}clearTimeout(t){_(this,Ya).clearTimeout(t)}setInterval(t,e){return _(this,Ya).setInterval(t,e)}clearInterval(t){_(this,Ya).clearInterval(t)}},Ya=new WeakMap,hw=new WeakMap,gk),nl=new hB;function mB(t){setTimeout(t,0)}var Ll=typeof window>"u"||"Deno"in globalThis;function Pn(){}function fB(t,e){return typeof t=="function"?t(e):t}function Ij(t){return typeof t=="number"&&t>=0&&t!==1/0}function LF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jo(t,e){return typeof t=="function"?t(e):t}function vr(t,e){return typeof t=="function"?t(e):t}function hC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==dN(o,e.options))return!1}else if(!$h(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function mC(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if($l(e.options.mutationKey)!==$l(a))return!1}else if(!$h(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function dN(t,e){return((e==null?void 0:e.queryKeyHashFn)||$l)(t)}function $l(t){return JSON.stringify(t,(e,n)=>Oj(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $h(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$h(t[n],e[n])):!1}var pB=Object.prototype.hasOwnProperty;function $F(t,e){if(t===e)return t;const n=fC(t)&&fC(e);if(!n&&!(Oj(t)&&Oj(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d],h=t[u],m=e[u];if(h===m){l[u]=h,(n?d<i:pB.call(t,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const x=$F(h,m);l[u]=x,x===h&&c++}return i===o&&c===i?t:l}function Xp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Oj(t){if(!pC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pC(t){return Object.prototype.toString.call(t)==="[object Object]"}function xB(t){return new Promise(e=>{nl.setTimeout(e,t)})}function Mj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$F(t,e):e}function gB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var uN=Symbol();function UF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function hN(t,e){return typeof t=="function"?t(...e):!!t}function vB(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var ll,Qa,rd,yk,jB=(yk=class extends au{constructor(){super();Z(this,ll);Z(this,Qa);Z(this,rd);te(this,rd,e=>{if(!Ll&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,Qa)||this.setEventListener(_(this,rd))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Qa))==null||e.call(this),te(this,Qa,void 0))}setEventListener(e){var n;te(this,rd,e),(n=_(this,Qa))==null||n.call(this),te(this,Qa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){_(this,ll)!==e&&(te(this,ll,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof _(this,ll)=="boolean"?_(this,ll):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ll=new WeakMap,Qa=new WeakMap,rd=new WeakMap,yk),mN=new jB;function Lj(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var bB=mB;function wB(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=bB;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Bs=wB(),id,Xa,ad,vk,NB=(vk=class extends au{constructor(){super();Z(this,id,!0);Z(this,Xa);Z(this,ad);te(this,ad,e=>{if(!Ll&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Xa)||this.setEventListener(_(this,ad))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Xa))==null||e.call(this),te(this,Xa,void 0))}setEventListener(e){var n;te(this,ad,e),(n=_(this,Xa))==null||n.call(this),te(this,Xa,e(this.setOnline.bind(this)))}setOnline(e){_(this,id)!==e&&(te(this,id,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return _(this,id)}},id=new WeakMap,Xa=new WeakMap,ad=new WeakMap,vk),Zp=new NB;function SB(t){return Math.min(1e3*2**t,3e4)}function BF(t){return(t??"online")==="online"?Zp.isOnline():!0}var $j=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function VF(t){let e=!1,n=0,r;const i=Lj(),a=()=>i.status!=="pending",o=b=>{var g;if(!a()){const p=new $j(b);m(p),(g=t.onCancel)==null||g.call(t,p)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>mN.isFocused()&&(t.networkMode==="always"||Zp.isOnline())&&t.canRun(),u=()=>BF(t.networkMode)&&t.canRun(),h=b=>{a()||(r==null||r(),i.resolve(b))},m=b=>{a()||(r==null||r(),i.reject(b))},x=()=>new Promise(b=>{var g;r=p=>{(a()||d())&&b(p)},(g=t.onPause)==null||g.call(t)}).then(()=>{var b;r=void 0,a()||(b=t.onContinue)==null||b.call(t)}),v=()=>{if(a())return;let b;const g=n===0?t.initialPromise:void 0;try{b=g??t.fn()}catch(p){b=Promise.reject(p)}Promise.resolve(b).then(h).catch(p=>{var S;if(a())return;const j=t.retry??(Ll?0:3),w=t.retryDelay??SB,N=typeof w=="function"?w(n,p):w,P=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,p);if(e||!P){m(p);return}n++,(S=t.onFail)==null||S.call(t,n,p),xB(N).then(()=>d()?void 0:x()).then(()=>{e?m(p):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():x().then(v),i)}}var cl,jk,zF=(jk=class{constructor(){Z(this,cl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ij(this.gcTime)&&te(this,cl,nl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ll?1/0:5*60*1e3))}clearGcTimeout(){_(this,cl)&&(nl.clearTimeout(_(this,cl)),te(this,cl,void 0))}},cl=new WeakMap,jk),dl,od,xr,ul,Ws,gm,hl,Mr,Xi,bk,CB=(bk=class extends zF{constructor(e){super();Z(this,Mr);Z(this,dl);Z(this,od);Z(this,xr);Z(this,ul);Z(this,Ws);Z(this,gm);Z(this,hl);te(this,hl,!1),te(this,gm,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,ul,e.client),te(this,xr,_(this,ul).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,dl,gC(this.options)),this.state=e.state??_(this,dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Ws))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,gm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=gC(this.options);n.data!==void 0&&(this.setState(xC(n.data,n.dataUpdatedAt)),te(this,dl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,xr).remove(this)}setData(e,n){const r=Mj(this.state.data,e,this.options);return me(this,Mr,Xi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){me(this,Mr,Xi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=_(this,Ws))==null?void 0:r.promise;return(i=_(this,Ws))==null||i.cancel(e),n?n.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,dl))}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!LF(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,Ws))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,Ws))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,xr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(_(this,Ws)&&(_(this,hl)?_(this,Ws).cancel({revert:!0}):_(this,Ws).cancelRetry()),this.scheduleGc()),_(this,xr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Mr,Xi).call(this,{type:"invalidate"})}async fetch(e,n){var c,d,u,h,m,x,v,b,g,p,j,w;if(this.state.fetchStatus!=="idle"&&((c=_(this,Ws))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Ws))return _(this,Ws).continueRetry(),_(this,Ws).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(te(this,hl,!0),r.signal)})},a=()=>{const N=UF(this.options,n),S=(()=>{const C={client:_(this,ul),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return te(this,hl,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,ul),state:this.state,fetchFn:a};return i(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),te(this,od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&me(this,Mr,Xi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),te(this,Ws,VF({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof $j&&N.revert&&this.setState({..._(this,od),fetchStatus:"idle"}),r.abort()},onFail:(N,P)=>{me(this,Mr,Xi).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{me(this,Mr,Xi).call(this,{type:"pause"})},onContinue:()=>{me(this,Mr,Xi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await _(this,Ws).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(x=(m=_(this,xr).config).onSuccess)==null||x.call(m,N,this),(b=(v=_(this,xr).config).onSettled)==null||b.call(v,N,this.state.error,this),N}catch(N){if(N instanceof $j){if(N.silent)return _(this,Ws).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw me(this,Mr,Xi).call(this,{type:"error",error:N}),(p=(g=_(this,xr).config).onError)==null||p.call(g,N,this),(w=(j=_(this,xr).config).onSettled)==null||w.call(j,this.state.data,N,this),N}finally{this.scheduleGc()}}},dl=new WeakMap,od=new WeakMap,xr=new WeakMap,ul=new WeakMap,Ws=new WeakMap,gm=new WeakMap,hl=new WeakMap,Mr=new WeakSet,Xi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HF(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...xC(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,od,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Bs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,xr).notify({query:this,type:"updated",action:e})})},bk);function HF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xC(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,wt,ym,bn,ml,ld,na,Za,vm,cd,dd,fl,pl,Ja,ud,Ft,qu,Uj,Bj,Vj,zj,Hj,qj,Wj,qF,wk,_B=(wk=class extends au{constructor(e,n){super();Z(this,Ft);Z(this,$n);Z(this,wt);Z(this,ym);Z(this,bn);Z(this,ml);Z(this,ld);Z(this,na);Z(this,Za);Z(this,vm);Z(this,cd);Z(this,dd);Z(this,fl);Z(this,pl);Z(this,Ja);Z(this,ud,new Set);this.options=n,te(this,$n,e),te(this,Za,null),te(this,na,Lj()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,wt).addObserver(this),yC(_(this,wt),this.options)?me(this,Ft,qu).call(this):this.updateResult(),me(this,Ft,zj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kj(_(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kj(_(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Ft,Hj).call(this),me(this,Ft,qj).call(this),_(this,wt).removeObserver(this)}setOptions(e){const n=this.options,r=_(this,wt);if(this.options=_(this,$n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,_(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Ft,Wj).call(this),_(this,wt).setOptions(this.options),n._defaulted&&!Xp(this.options,n)&&_(this,$n).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,wt),observer:this});const i=this.hasListeners();i&&vC(_(this,wt),r,this.options,n)&&me(this,Ft,qu).call(this),this.updateResult(),i&&(_(this,wt)!==r||vr(this.options.enabled,_(this,wt))!==vr(n.enabled,_(this,wt))||jo(this.options.staleTime,_(this,wt))!==jo(n.staleTime,_(this,wt)))&&me(this,Ft,Uj).call(this);const a=me(this,Ft,Bj).call(this);i&&(_(this,wt)!==r||vr(this.options.enabled,_(this,wt))!==vr(n.enabled,_(this,wt))||a!==_(this,Ja))&&me(this,Ft,Vj).call(this,a)}getOptimisticResult(e){const n=_(this,$n).getQueryCache().build(_(this,$n),e),r=this.createResult(n,e);return PB(this,r)&&(te(this,bn,r),te(this,ld,this.options),te(this,ml,_(this,wt).state)),r}getCurrentResult(){return _(this,bn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,na).status==="pending"&&_(this,na).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){_(this,ud).add(e)}getCurrentQuery(){return _(this,wt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=_(this,$n).defaultQueryOptions(e),r=_(this,$n).getQueryCache().build(_(this,$n),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return me(this,Ft,qu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,bn)))}createResult(e,n){var D;const r=_(this,wt),i=this.options,a=_(this,bn),o=_(this,ml),l=_(this,ld),d=e!==r?e.state:_(this,ym),{state:u}=e;let h={...u},m=!1,x;if(n._optimisticResults){const F=this.hasListeners(),L=!F&&yC(e,n),B=F&&vC(e,r,n,i);(L||B)&&(h={...h,...HF(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:g}=h;x=h.data;let p=!1;if(n.placeholderData!==void 0&&x===void 0&&g==="pending"){let F;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(F=a.data,p=!0):F=typeof n.placeholderData=="function"?n.placeholderData((D=_(this,dd))==null?void 0:D.state.data,_(this,dd)):n.placeholderData,F!==void 0&&(g="success",x=Mj(a==null?void 0:a.data,F,n),m=!0)}if(n.select&&x!==void 0&&!p)if(a&&x===(o==null?void 0:o.data)&&n.select===_(this,vm))x=_(this,cd);else try{te(this,vm,n.select),x=n.select(x),x=Mj(a==null?void 0:a.data,x,n),te(this,cd,x),te(this,Za,null)}catch(F){te(this,Za,F)}_(this,Za)&&(v=_(this,Za),x=_(this,cd),b=Date.now(),g="error");const j=h.fetchStatus==="fetching",w=g==="pending",N=g==="error",P=w&&j,S=x!==void 0,k={status:g,fetchStatus:h.fetchStatus,isPending:w,isSuccess:g==="success",isError:N,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:N&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&S,isStale:fN(e,n),refetch:this.refetch,promise:_(this,na),isEnabled:vr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=Y=>{k.status==="error"?Y.reject(k.error):k.data!==void 0&&Y.resolve(k.data)},L=()=>{const Y=te(this,na,k.promise=Lj());F(Y)},B=_(this,na);switch(B.status){case"pending":e.queryHash===r.queryHash&&F(B);break;case"fulfilled":(k.status==="error"||k.data!==B.value)&&L();break;case"rejected":(k.status!=="error"||k.error!==B.reason)&&L();break}}return k}updateResult(){const e=_(this,bn),n=this.createResult(_(this,wt),this.options);if(te(this,ml,_(this,wt).state),te(this,ld,this.options),_(this,ml).data!==void 0&&te(this,dd,_(this,wt)),Xp(n,e))return;te(this,bn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_(this,ud).size)return!0;const o=new Set(a??_(this,ud));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,bn)).some(l=>{const c=l;return _(this,bn)[c]!==e[c]&&o.has(c)})};me(this,Ft,qF).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Ft,zj).call(this)}},$n=new WeakMap,wt=new WeakMap,ym=new WeakMap,bn=new WeakMap,ml=new WeakMap,ld=new WeakMap,na=new WeakMap,Za=new WeakMap,vm=new WeakMap,cd=new WeakMap,dd=new WeakMap,fl=new WeakMap,pl=new WeakMap,Ja=new WeakMap,ud=new WeakMap,Ft=new WeakSet,qu=function(e){me(this,Ft,Wj).call(this);let n=_(this,wt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Pn)),n},Uj=function(){me(this,Ft,Hj).call(this);const e=jo(this.options.staleTime,_(this,wt));if(Ll||_(this,bn).isStale||!Ij(e))return;const r=LF(_(this,bn).dataUpdatedAt,e)+1;te(this,fl,nl.setTimeout(()=>{_(this,bn).isStale||this.updateResult()},r))},Bj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,wt)):this.options.refetchInterval)??!1},Vj=function(e){me(this,Ft,qj).call(this),te(this,Ja,e),!(Ll||vr(this.options.enabled,_(this,wt))===!1||!Ij(_(this,Ja))||_(this,Ja)===0)&&te(this,pl,nl.setInterval(()=>{(this.options.refetchIntervalInBackground||mN.isFocused())&&me(this,Ft,qu).call(this)},_(this,Ja)))},zj=function(){me(this,Ft,Uj).call(this),me(this,Ft,Vj).call(this,me(this,Ft,Bj).call(this))},Hj=function(){_(this,fl)&&(nl.clearTimeout(_(this,fl)),te(this,fl,void 0))},qj=function(){_(this,pl)&&(nl.clearInterval(_(this,pl)),te(this,pl,void 0))},Wj=function(){const e=_(this,$n).getQueryCache().build(_(this,$n),this.options);if(e===_(this,wt))return;const n=_(this,wt);te(this,wt,e),te(this,ym,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},qF=function(e){Bs.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(_(this,bn))}),_(this,$n).getQueryCache().notify({query:_(this,wt),type:"observerResultsUpdated"})})},wk);function kB(t,e){return vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yC(t,e){return kB(t,e)||t.state.data!==void 0&&Kj(t,e,e.refetchOnMount)}function Kj(t,e,n){if(vr(e.enabled,t)!==!1&&jo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fN(t,e)}return!1}function vC(t,e,n,r){return(t!==e||vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fN(t,n)}function fN(t,e){return vr(e.enabled,t)!==!1&&t.isStaleByTime(jo(e.staleTime,t))}function PB(t,e){return!Xp(t.getCurrentResult(),e)}function jC(t){return{onFetch:(e,n)=>{var u,h,m,x,v;const r=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const g=w=>{vB(w,()=>e.signal,()=>b=!0)},p=UF(e.options,e.fetchOptions),j=async(w,N,P)=>{if(b)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:N,direction:P?"backward":"forward",meta:e.options.meta};return g(L),L})(),k=await p(C),{maxPages:D}=e.options,F=P?yB:gB;return{pages:F(w.pages,k,D),pageParams:F(w.pageParams,N,D)}};if(i&&a.length){const w=i==="backward",N=w?EB:bC,P={pages:a,pageParams:o},S=N(r,P);l=await j(P,S,w)}else{const w=t??a.length;do{const N=c===0?o[0]??r.initialPageParam:bC(r,l);if(c>0&&N==null)break;l=await j(l,N),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var b,g;return(g=(b=e.options).persister)==null?void 0:g.call(b,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function bC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function EB(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var jm,ji,wn,xl,bi,Ba,Nk,TB=(Nk=class extends zF{constructor(e){super();Z(this,bi);Z(this,jm);Z(this,ji);Z(this,wn);Z(this,xl);te(this,jm,e.client),this.mutationId=e.mutationId,te(this,wn,e.mutationCache),te(this,ji,[]),this.state=e.state||WF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,ji).includes(e)||(_(this,ji).push(e),this.clearGcTimeout(),_(this,wn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,ji,_(this,ji).filter(n=>n!==e)),this.scheduleGc(),_(this,wn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,ji).length||(this.state.status==="pending"?this.scheduleGc():_(this,wn).remove(this))}continue(){var e;return((e=_(this,xl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,m,x,v,b,g,p,j,w,N,P,S,C,k,D;const n=()=>{me(this,bi,Ba).call(this,{type:"continue"})},r={client:_(this,jm),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,xl,VF({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,L)=>{me(this,bi,Ba).call(this,{type:"failed",failureCount:F,error:L})},onPause:()=>{me(this,bi,Ba).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,wn).canRun(this)}));const i=this.state.status==="pending",a=!_(this,xl).canStart();try{if(i)n();else{me(this,bi,Ba).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=_(this,wn).config).onMutate)==null?void 0:l.call(o,e,this,r));const L=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,r));L!==this.state.context&&me(this,bi,Ba).call(this,{type:"pending",context:L,variables:e,isPaused:a})}const F=await _(this,xl).start();return await((h=(u=_(this,wn).config).onSuccess)==null?void 0:h.call(u,F,e,this.state.context,this,r)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,F,e,this.state.context,r)),await((b=(v=_(this,wn).config).onSettled)==null?void 0:b.call(v,F,null,this.state.variables,this.state.context,this,r)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,F,null,e,this.state.context,r)),me(this,bi,Ba).call(this,{type:"success",data:F}),F}catch(F){try{await((w=(j=_(this,wn).config).onError)==null?void 0:w.call(j,F,e,this.state.context,this,r))}catch(L){Promise.reject(L)}try{await((P=(N=this.options).onError)==null?void 0:P.call(N,F,e,this.state.context,r))}catch(L){Promise.reject(L)}try{await((C=(S=_(this,wn).config).onSettled)==null?void 0:C.call(S,void 0,F,this.state.variables,this.state.context,this,r))}catch(L){Promise.reject(L)}try{await((D=(k=this.options).onSettled)==null?void 0:D.call(k,void 0,F,e,this.state.context,r))}catch(L){Promise.reject(L)}throw me(this,bi,Ba).call(this,{type:"error",error:F}),F}finally{_(this,wn).runNext(this)}}},jm=new WeakMap,ji=new WeakMap,wn=new WeakMap,xl=new WeakMap,bi=new WeakSet,Ba=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bs.batch(()=>{_(this,ji).forEach(r=>{r.onMutationUpdate(e)}),_(this,wn).notify({mutation:this,type:"updated",action:e})})},Nk);function WF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ra,Lr,bm,Sk,AB=(Sk=class extends au{constructor(e={}){super();Z(this,ra);Z(this,Lr);Z(this,bm);this.config=e,te(this,ra,new Set),te(this,Lr,new Map),te(this,bm,0)}build(e,n,r){const i=new TB({client:e,mutationCache:this,mutationId:++pf(this,bm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){_(this,ra).add(e);const n=Df(e);if(typeof n=="string"){const r=_(this,Lr).get(n);r?r.push(e):_(this,Lr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,ra).delete(e)){const n=Df(e);if(typeof n=="string"){const r=_(this,Lr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&_(this,Lr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Df(e);if(typeof n=="string"){const r=_(this,Lr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Df(e);if(typeof n=="string"){const i=(r=_(this,Lr).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bs.batch(()=>{_(this,ra).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,ra).clear(),_(this,Lr).clear()})}getAll(){return Array.from(_(this,ra))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mC(n,r))}findAll(e={}){return this.getAll().filter(n=>mC(e,n))}notify(e){Bs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bs.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pn))))}},ra=new WeakMap,Lr=new WeakMap,bm=new WeakMap,Sk);function Df(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ia,eo,Un,aa,va,pp,Gj,Ck,FB=(Ck=class extends au{constructor(n,r){super();Z(this,va);Z(this,ia);Z(this,eo);Z(this,Un);Z(this,aa);te(this,ia,n),this.setOptions(r),this.bindMethods(),me(this,va,pp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=_(this,ia).defaultMutationOptions(n),Xp(this.options,r)||_(this,ia).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Un),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$l(r.mutationKey)!==$l(this.options.mutationKey)?this.reset():((i=_(this,Un))==null?void 0:i.state.status)==="pending"&&_(this,Un).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,Un))==null||n.removeObserver(this)}onMutationUpdate(n){me(this,va,pp).call(this),me(this,va,Gj).call(this,n)}getCurrentResult(){return _(this,eo)}reset(){var n;(n=_(this,Un))==null||n.removeObserver(this),te(this,Un,void 0),me(this,va,pp).call(this),me(this,va,Gj).call(this)}mutate(n,r){var i;return te(this,aa,r),(i=_(this,Un))==null||i.removeObserver(this),te(this,Un,_(this,ia).getMutationCache().build(_(this,ia),this.options)),_(this,Un).addObserver(this),_(this,Un).execute(n)}},ia=new WeakMap,eo=new WeakMap,Un=new WeakMap,aa=new WeakMap,va=new WeakSet,pp=function(){var r;const n=((r=_(this,Un))==null?void 0:r.state)??WF();te(this,eo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Gj=function(n){Bs.batch(()=>{var r,i,a,o,l,c,d,u;if(_(this,aa)&&this.hasListeners()){const h=_(this,eo).variables,m=_(this,eo).context,x={client:_(this,ia),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=_(this,aa)).onSuccess)==null||i.call(r,n.data,h,m,x)}catch(v){Promise.reject(v)}try{(o=(a=_(this,aa)).onSettled)==null||o.call(a,n.data,null,h,m,x)}catch(v){Promise.reject(v)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=_(this,aa)).onError)==null||c.call(l,n.error,h,m,x)}catch(v){Promise.reject(v)}try{(u=(d=_(this,aa)).onSettled)==null||u.call(d,void 0,n.error,h,m,x)}catch(v){Promise.reject(v)}}}this.listeners.forEach(h=>{h(_(this,eo))})})},Ck),wi,_k,RB=(_k=class extends au{constructor(e={}){super();Z(this,wi);this.config=e,te(this,wi,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??dN(i,n);let o=this.get(a);return o||(o=new CB({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){_(this,wi).has(e.queryHash)||(_(this,wi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=_(this,wi).get(e.queryHash);n&&(e.destroy(),n===e&&_(this,wi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,wi).get(e)}getAll(){return[..._(this,wi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hC(e,r)):n}notify(e){Bs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wi=new WeakMap,_k),ps,to,so,hd,md,no,fd,pd,kk,DB=(kk=class{constructor(t={}){Z(this,ps);Z(this,to);Z(this,so);Z(this,hd);Z(this,md);Z(this,no);Z(this,fd);Z(this,pd);te(this,ps,t.queryCache||new RB),te(this,to,t.mutationCache||new AB),te(this,so,t.defaultOptions||{}),te(this,hd,new Map),te(this,md,new Map),te(this,no,0)}mount(){pf(this,no)._++,_(this,no)===1&&(te(this,fd,mN.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ps).onFocus())})),te(this,pd,Zp.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ps).onOnline())})))}unmount(){var t,e;pf(this,no)._--,_(this,no)===0&&((t=_(this,fd))==null||t.call(this),te(this,fd,void 0),(e=_(this,pd))==null||e.call(this),te(this,pd,void 0))}isFetching(t){return _(this,ps).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,to).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,ps).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=_(this,ps).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(jo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return _(this,ps).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=_(this,ps).get(r.queryHash),a=i==null?void 0:i.state.data,o=fB(e,a);if(o!==void 0)return _(this,ps).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bs.batch(()=>_(this,ps).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,ps).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=_(this,ps);Bs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=_(this,ps);return Bs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bs.batch(()=>_(this,ps).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Pn).catch(Pn)}invalidateQueries(t,e={}){return Bs.batch(()=>(_(this,ps).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bs.batch(()=>_(this,ps).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Pn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=_(this,ps).build(this,e);return n.isStaleByTime(jo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pn).catch(Pn)}fetchInfiniteQuery(t){return t.behavior=jC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pn).catch(Pn)}ensureInfiniteQueryData(t){return t.behavior=jC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zp.isOnline()?_(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ps)}getMutationCache(){return _(this,to)}getDefaultOptions(){return _(this,so)}setDefaultOptions(t){te(this,so,t)}setQueryDefaults(t,e){_(this,hd).set($l(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,hd).values()],n={};return e.forEach(r=>{$h(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){_(this,md).set($l(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,md).values()],n={};return e.forEach(r=>{$h(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,so).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===uN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,so).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,ps).clear(),_(this,to).clear()}},ps=new WeakMap,to=new WeakMap,so=new WeakMap,hd=new WeakMap,md=new WeakMap,no=new WeakMap,fd=new WeakMap,pd=new WeakMap,kk),KF=f.createContext(void 0),ou=t=>{const e=f.useContext(KF);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IB=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(KF.Provider,{value:t,children:e})),GF=f.createContext(!1),OB=()=>f.useContext(GF);GF.Provider;function MB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var LB=f.createContext(MB()),$B=()=>f.useContext(LB),UB=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?hN(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},BB=t=>{f.useEffect(()=>{t.clearReset()},[t])},VB=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||hN(n,[t.error,r])),zB=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},HB=(t,e)=>t.isLoading&&t.isFetching&&!e,qB=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function WB(t,e,n){var m,x,v,b;const r=OB(),i=$B(),a=ou(),o=a.defaultQueryOptions(t);(x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",zB(o),UB(o,i,l),BB(i);const c=!a.getQueryCache().get(o.queryHash),[d]=f.useState(()=>new e(a,o)),u=d.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(g=>{const p=h?d.subscribe(Bs.batchCalls(g)):Pn;return d.updateResult(),p},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f.useEffect(()=>{d.setOptions(o)},[o,d]),qB(o,u))throw wC(o,d,i);if(VB({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw u.error;if((b=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||b.call(v,o,u),o.experimental_prefetchInRender&&!Ll&&HB(u,r)){const g=c?wC(o,d,i):l==null?void 0:l.promise;g==null||g.catch(Pn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function Ge(t,e){return WB(t,_B)}function De(t,e){const n=ou(),[r]=f.useState(()=>new FB(n,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const i=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(Bs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((o,l)=>{r.mutate(o,l).catch(Pn)},[r]);if(i.error&&hN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Zy={},KB=typeof window<"u"&&window.location.hostname.includes("localhost")?"":"https://readysetfly-api.onrender.com",Jy=typeof import.meta<"u"&&(Zy==null?void 0:Zy.VITE_API_BASE_URL)||typeof window<"u"&&window.__API_BASE_URL__||KB;function YF(t){return!Jy||/^https?:\/\//i.test(t)?t:t.startsWith("/")?`${Jy}${t}`:`${Jy}/${t}`}function hs(t){return YF(t)}function GB(t,e){return fetch(YF(t),e)}async function QF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Ae(t,e,n){const r=await fetch(hs(e),{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await QF(r),r}const YB=({on401:t})=>async({queryKey:e})=>{const n=await fetch(hs(e.join("/")),{credentials:"include"});return await QF(n),await n.json()},Fe=new DB({defaultOptions:{queries:{queryFn:YB({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),QB=1,XB=1e6;let ev=0;function ZB(){return ev=(ev+1)%Number.MAX_SAFE_INTEGER,ev.toString()}const tv=new Map,NC=t=>{if(tv.has(t))return;const e=setTimeout(()=>{tv.delete(t),dh({type:"REMOVE_TOAST",toastId:t})},XB);tv.set(t,e)},JB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?NC(n):t.toasts.forEach(r=>{NC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xp=[];let gp={toasts:[]};function dh(t){gp=JB(gp,t),xp.forEach(e=>{e(gp)})}function eV({...t}){const e=ZB(),n=i=>dh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>dh({type:"DISMISS_TOAST",toastId:e});return dh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function $t(){const[t,e]=f.useState(gp);return f.useEffect(()=>(xp.push(e),()=>{const n=xp.indexOf(e);n>-1&&xp.splice(n,1)}),[t]),{...t,toast:eV,dismiss:n=>dh({type:"DISMISS_TOAST",toastId:n})}}function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function SC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Aa(...t){return e=>{let n=!1;const r=t.map(i=>{const a=SC(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():SC(t[i],null)}}}}function lt(...t){return f.useCallback(Aa(...t),t)}function tV(t,e){const n=f.createContext(e),r=a=>{const{children:o,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=f.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function yn(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o),c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:x,...v}=h,b=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,g=f.useMemo(()=>v,Object.values(v));return s.jsx(b.Provider,{value:g,children:x})};d.displayName=a+"Provider";function u(h,m){var b;const x=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=f.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,sV(i,...e)]}function sV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function CC(t){const e=nV(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(iV);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function nV(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=oV(i),l=aV(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rV=Symbol("radix.slottable");function iV(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rV}function aV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function oV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ym(t){const e=t+"CollectionProvider",[n,r]=yn(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:g,children:p}=b,j=He.useRef(null),w=He.useRef(new Map).current;return s.jsx(i,{scope:g,itemMap:w,collectionRef:j,children:p})};o.displayName=e;const l=t+"CollectionSlot",c=CC(l),d=He.forwardRef((b,g)=>{const{scope:p,children:j}=b,w=a(l,p),N=lt(g,w.collectionRef);return s.jsx(c,{ref:N,children:j})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=CC(u),x=He.forwardRef((b,g)=>{const{scope:p,children:j,...w}=b,N=He.useRef(null),P=lt(g,N),S=a(u,p);return He.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),s.jsx(m,{[h]:"",ref:P,children:j})});x.displayName=u;function v(b){const g=a(t+"CollectionConsumer",b);return He.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},v,r]}function lV(t){const e=cV(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(uV);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function cV(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=mV(i),l=hV(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dV=Symbol("radix.slottable");function uV(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dV}function hV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function mV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=fV.reduce((t,e)=>{const n=lV(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pN(t,e){t&&ec.flushSync(()=>t.dispatchEvent(e))}function gs(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pV(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t);f.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xV="DismissableLayer",Yj="dismissableLayer.update",gV="dismissableLayer.pointerDownOutside",yV="dismissableLayer.focusOutside",_C,XF=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lu=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=f.useContext(XF),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=f.useState({}),v=lt(e,C=>h(C)),b=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=b.indexOf(g),j=u?b.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=j>=p,P=jV(C=>{const k=C.target,D=[...d.branches].some(F=>F.contains(k));!N||D||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),S=bV(C=>{const k=C.target;[...d.branches].some(F=>F.contains(k))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return pV(C=>{j===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_C=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),kC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=_C)}},[u,m,n,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),kC())},[u,d]),f.useEffect(()=>{const C=()=>x({});return document.addEventListener(Yj,C),()=>document.removeEventListener(Yj,C)},[]),s.jsx(We.div,{...c,ref:v,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,P.onPointerDownCapture)})});lu.displayName=xV;var vV="DismissableLayerBranch",ZF=f.forwardRef((t,e)=>{const n=f.useContext(XF),r=f.useRef(null),i=lt(e,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(We.div,{...t,ref:i})});ZF.displayName=vV;function jV(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){JF(gV,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bV(t,e=globalThis==null?void 0:globalThis.document){const n=gs(t),r=f.useRef(!1);return f.useEffect(()=>{const i=a=>{a.target&&!r.current&&JF(yV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kC(){const t=new CustomEvent(Yj);document.dispatchEvent(t)}function JF(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pN(i,a):i.dispatchEvent(a)}var wV=lu,NV=ZF,vs=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},SV="Portal",Qm=f.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=f.useState(!1);vs(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?O9.createPortal(s.jsx(We.div,{...r,ref:e}),o):null});Qm.displayName=SV;function CV(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var ln=t=>{const{present:e,children:n}=t,r=_V(e),i=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=lt(r.ref,kV(i));return typeof n=="function"||r.isPresent?f.cloneElement(i,{ref:a}):null};ln.displayName="Presence";function _V(t){const[e,n]=f.useState(),r=f.useRef(null),i=f.useRef(t),a=f.useRef("none"),o=t?"mounted":"unmounted",[l,c]=CV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=If(r.current);a.current=l==="mounted"?d:"none"},[l]),vs(()=>{const d=r.current,u=i.current;if(u!==t){const m=a.current,x=If(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),vs(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=x=>{const b=If(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&b&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},m=x=>{x.target===e&&(a.current=If(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function If(t){return(t==null?void 0:t.animationName)||"none"}function kV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var PV=Qx[" useInsertionEffect ".trim().toString()]||vs;function hr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=EV({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const u=f.useRef(t!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=f.useCallback(u=>{var h;if(l){const m=TV(u)?u(t):u;m!==t&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,t,a,o]);return[c,d]}function EV({defaultProp:t,onChange:e}){const[n,r]=f.useState(t),i=f.useRef(n),a=f.useRef(e);return PV(()=>{a.current=e},[e]),f.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function TV(t){return typeof t=="function"}var eR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AV="VisuallyHidden",mg=f.forwardRef((t,e)=>s.jsx(We.span,{...t,ref:e,style:{...eR,...t.style}}));mg.displayName=AV;var FV=mg,xN="ToastProvider",[gN,RV,DV]=Ym("Toast"),[tR]=yn("Toast",[DV]),[IV,fg]=tR(xN),sR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xN}\`. Expected non-empty \`string\`.`),s.jsx(gN.Provider,{scope:e,children:s.jsx(IV,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(x=>x+1),[]),onToastRemove:f.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};sR.displayName=xN;var nR="ToastViewport",OV=["F8"],Qj="toast.viewportPause",Xj="toast.viewportResume",rR=f.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=OV,label:i="Notifications ({hotkey})",...a}=t,o=fg(nR,n),l=RV(n),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=lt(e,h,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;f.useEffect(()=>{const g=p=>{var w;r.length!==0&&r.every(N=>p[N]||p.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),f.useEffect(()=>{const g=c.current,p=h.current;if(v&&g&&p){const j=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Qj);p.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Xj);p.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!g.contains(S.relatedTarget)&&w()},P=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",j),g.addEventListener("focusout",N),g.addEventListener("pointermove",j),g.addEventListener("pointerleave",P),window.addEventListener("blur",j),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",j),g.removeEventListener("focusout",N),g.removeEventListener("pointermove",j),g.removeEventListener("pointerleave",P),window.removeEventListener("blur",j),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const b=f.useCallback(({tabbingDirection:g})=>{const j=l().map(w=>{const N=w.ref.current,P=[N,...YV(N)];return g==="forwards"?P:P.reverse()});return(g==="forwards"?j.reverse():j).flat()},[l]);return f.useEffect(()=>{const g=h.current;if(g){const p=j=>{var P,S,C;const w=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!w){const k=document.activeElement,D=j.shiftKey;if(j.target===g&&D){(P=d.current)==null||P.focus();return}const B=b({tabbingDirection:D?"backwards":"forwards"}),Y=B.findIndex(Q=>Q===k);sv(B.slice(Y+1))?j.preventDefault():D?(S=d.current)==null||S.focus():(C=u.current)==null||C.focus()}};return g.addEventListener("keydown",p),()=>g.removeEventListener("keydown",p)}},[l,b]),s.jsxs(NV,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(Zj,{ref:d,onFocusFromOutsideViewport:()=>{const g=b({tabbingDirection:"forwards"});sv(g)}}),s.jsx(gN.Slot,{scope:n,children:s.jsx(We.ol,{tabIndex:-1,...a,ref:m})}),v&&s.jsx(Zj,{ref:u,onFocusFromOutsideViewport:()=>{const g=b({tabbingDirection:"backwards"});sv(g)}})]})});rR.displayName=nR;var iR="ToastFocusProxy",Zj=f.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=fg(iR,n);return s.jsx(mg,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Zj.displayName=iR;var Xm="Toast",MV="toast.swipeStart",LV="toast.swipeMove",$V="toast.swipeCancel",UV="toast.swipeEnd",aR=f.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=hr({prop:r,defaultProp:i??!0,onChange:a,caller:Xm});return s.jsx(ln,{present:n||l,children:s.jsx(zV,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:gs(t.onPause),onResume:gs(t.onResume),onSwipeStart:Ce(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});aR.displayName=Xm;var[BV,VV]=tR(Xm,{onClose(){}}),zV=f.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:x,...v}=t,b=fg(Xm,n),[g,p]=f.useState(null),j=lt(e,Q=>p(Q)),w=f.useRef(null),N=f.useRef(null),P=i||b.duration,S=f.useRef(0),C=f.useRef(P),k=f.useRef(0),{onToastAdd:D,onToastRemove:F}=b,L=gs(()=>{var H;(g==null?void 0:g.contains(document.activeElement))&&((H=b.viewport)==null||H.focus()),o()}),B=f.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(L,Q))},[L]);f.useEffect(()=>{const Q=b.viewport;if(Q){const H=()=>{B(C.current),d==null||d()},le=()=>{const he=new Date().getTime()-S.current;C.current=C.current-he,window.clearTimeout(k.current),c==null||c()};return Q.addEventListener(Qj,le),Q.addEventListener(Xj,H),()=>{Q.removeEventListener(Qj,le),Q.removeEventListener(Xj,H)}}},[b.viewport,P,c,d,B]),f.useEffect(()=>{a&&!b.isClosePausedRef.current&&B(P)},[a,P,b.isClosePausedRef,B]),f.useEffect(()=>(D(),()=>F()),[D,F]);const Y=f.useMemo(()=>g?mR(g):null,[g]);return b.viewport?s.jsxs(s.Fragment,{children:[Y&&s.jsx(HV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Y}),s.jsx(BV,{scope:n,onClose:L,children:ec.createPortal(s.jsx(gN.ItemSlot,{scope:n,children:s.jsx(wV,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||L(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(We.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...v,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,Q=>{Q.key==="Escape"&&(l==null||l(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Ce(t.onPointerDown,Q=>{Q.button===0&&(w.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:Ce(t.onPointerMove,Q=>{if(!w.current)return;const H=Q.clientX-w.current.x,le=Q.clientY-w.current.y,he=!!N.current,z=["left","right"].includes(b.swipeDirection),R=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,I=z?R(0,H):0,de=z?0:R(0,le),A=Q.pointerType==="touch"?10:2,xe={x:I,y:de},Le={originalEvent:Q,delta:xe};he?(N.current=xe,Of(LV,h,Le,{discrete:!1})):PC(xe,b.swipeDirection,A)?(N.current=xe,Of(MV,u,Le,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(H)>A||Math.abs(le)>A)&&(w.current=null)}),onPointerUp:Ce(t.onPointerUp,Q=>{const H=N.current,le=Q.target;if(le.hasPointerCapture(Q.pointerId)&&le.releasePointerCapture(Q.pointerId),N.current=null,w.current=null,H){const he=Q.currentTarget,z={originalEvent:Q,delta:H};PC(H,b.swipeDirection,b.swipeThreshold)?Of(UV,x,z,{discrete:!0}):Of($V,m,z,{discrete:!0}),he.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),HV=t=>{const{__scopeToast:e,children:n,...r}=t,i=fg(Xm,e),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return KV(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Qm,{asChild:!0,children:s.jsx(mg,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},qV="ToastTitle",oR=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(We.div,{...r,ref:e})});oR.displayName=qV;var WV="ToastDescription",lR=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(We.div,{...r,ref:e})});lR.displayName=WV;var cR="ToastAction",dR=f.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(hR,{altText:n,asChild:!0,children:s.jsx(yN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cR}\`. Expected non-empty \`string\`.`),null)});dR.displayName=cR;var uR="ToastClose",yN=f.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=VV(uR,n);return s.jsx(hR,{asChild:!0,children:s.jsx(We.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,i.onClose)})})});yN.displayName=uR;var hR=f.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function mR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),GV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...mR(r))}}),e}function Of(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pN(i,a):i.dispatchEvent(a)}var PC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function KV(t=()=>{}){const e=gs(t);vs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function GV(t){return t.nodeType===t.ELEMENT_NODE}function YV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QV=sR,fR=rR,pR=aR,xR=oR,gR=lR,yR=dR,vR=yN;function jR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jR(t))&&(r&&(r+=" "),r+=e);return r}const EC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TC=bR,Zm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return TC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=n==null?void 0:n[d],h=a==null?void 0:a[d];if(u===null)return null;const m=EC(u)||EC(h);return i[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...x}=u;return Object.entries(x).every(v=>{let[b,g]=v;return Array.isArray(g)?g.includes({...a,...l}[b]):{...a,...l}[b]===g})?[...d,h,m]:d},[]);return TC(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...ZV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wR("lucide",i),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=f.forwardRef(({className:r,...i},a)=>f.createElement(JV,{ref:a,iconNode:e,className:wR(`lucide-${XV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Ie("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ie("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Ie("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Ie("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Ie("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ie("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Ie("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ie("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Ie("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Ie("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Ie("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Ie("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=Ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Ie("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bN="-",wz=t=>{const e=Sz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(bN);return l[0]===""&&l.length!==1&&l.shift(),FR(l,e)||Nz(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},FR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?FR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(bN);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},MC=/^\[(.+)\]$/,Nz=t=>{if(MC.test(t)){const e=MC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Sz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _z(Object.entries(t.classGroups),n).forEach(([a,o])=>{eb(o,r,a,e)}),r},eb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:LC(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Cz(i)){eb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{eb(o,LC(e,a),n,r)})})},LC=(t,e)=>{let n=t;return e.split(bN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Cz=t=>t.isThemeGetter,_z=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,kz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},RR="!",Pz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let g=0;g<l.length;g++){let p=l[g];if(d===0){if(p===i&&(r||l.slice(g,g+a)===e)){c.push(l.slice(u,g)),u=g+a;continue}if(p==="/"){h=g;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(u),x=m.startsWith(RR),v=x?m.substring(1):m,b=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},Ez=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Tz=t=>({cache:kz(t.cacheSize),parseClassName:Pz(t),...wz(t)}),Az=/\s+/,Fz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Az);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let v=!!x,b=r(v?m.substring(0,x):m);if(!b){if(!v){l=d+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=d+(l.length>0?" "+l:l);continue}v=!1}const g=Ez(u).join(":"),p=h?g+RR:g,j=p+b;if(a.includes(j))continue;a.push(j);const w=i(b,v);for(let N=0;N<w.length;++N){const P=w[N];a.push(p+P)}l=d+(l.length>0?" "+l:l)}return l};function Rz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DR(e))&&(r&&(r+=" "),r+=n);return r}const DR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=DR(t[r]))&&(n&&(n+=" "),n+=e);return n};function Dz(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=Tz(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Fz(c,n);return i(c,u),u}return function(){return a(Rz.apply(null,arguments))}}const Gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IR=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iz=/^\d+\/\d+$/,Oz=new Set(["px","full","screen"]),Mz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$z=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Uz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=t=>Kc(t)||Oz.has(t)||Iz.test(t),Oa=t=>cu(t,"length",Yz),Kc=t=>!!t&&!Number.isNaN(Number(t)),iv=t=>cu(t,"number",Kc),Pu=t=>!!t&&Number.isInteger(Number(t)),Vz=t=>t.endsWith("%")&&Kc(t.slice(0,-1)),ht=t=>IR.test(t),Ma=t=>Mz.test(t),zz=new Set(["length","size","percentage"]),Hz=t=>cu(t,zz,OR),qz=t=>cu(t,"position",OR),Wz=new Set(["image","url"]),Kz=t=>cu(t,Wz,Xz),Gz=t=>cu(t,"",Qz),Eu=()=>!0,cu=(t,e,n)=>{const r=IR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Yz=t=>Lz.test(t)&&!$z.test(t),OR=()=>!1,Qz=t=>Uz.test(t),Xz=t=>Bz.test(t),Zz=()=>{const t=Gt("colors"),e=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),a=Gt("borderRadius"),o=Gt("borderSpacing"),l=Gt("borderWidth"),c=Gt("contrast"),d=Gt("grayscale"),u=Gt("hueRotate"),h=Gt("invert"),m=Gt("gap"),x=Gt("gradientColorStops"),v=Gt("gradientColorStopPositions"),b=Gt("inset"),g=Gt("margin"),p=Gt("opacity"),j=Gt("padding"),w=Gt("saturate"),N=Gt("scale"),P=Gt("sepia"),S=Gt("skew"),C=Gt("space"),k=Gt("translate"),D=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ht,e],B=()=>[ht,e],Y=()=>["",Yi,Oa],Q=()=>["auto",Kc,ht],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ht],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Kc,ht];return{cacheSize:500,separator:":",theme:{colors:[Eu],spacing:[Yi,Oa],blur:["none","",Ma,ht],brightness:de(),borderColor:[t],borderRadius:["none","","full",Ma,ht],borderSpacing:B(),borderWidth:Y(),contrast:de(),grayscale:R(),hueRotate:de(),invert:R(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[Vz,Oa],inset:L(),margin:L(),opacity:de(),padding:B(),saturate:de(),scale:de(),sepia:R(),skew:de(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[Ma]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ht]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pu,ht]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Pu,ht]}],"grid-cols":[{"grid-cols":[Eu]}],"col-start-end":[{col:["auto",{span:["full",Pu,ht]},ht]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Eu]}],"row-start-end":[{row:["auto",{span:[Pu,ht]},ht]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,e]}],"min-w":[{"min-w":[ht,e,"min","max","fit"]}],"max-w":[{"max-w":[ht,e,"none","full","min","max","fit","prose",{screen:[Ma]},Ma]}],h:[{h:[ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ma,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iv]}],"font-family":[{font:[Eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",Kc,iv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yi,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yi,Oa]}],"underline-offset":[{"underline-offset":["auto",Yi,ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),qz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Yi,ht]}],"outline-w":[{outline:[Yi,Oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Yi,Oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ma,Gz]}],"shadow-color":[{shadow:[Eu]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ma,ht]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Pu,ht]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yi,Oa,iv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Jz=Dz(Zz);function Ee(...t){return Jz(bR(t))}const e7=QV,MR=f.forwardRef(({className:t,...e},n)=>s.jsx(fR,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MR.displayName=fR.displayName;const t7=Zm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LR=f.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(pR,{ref:r,className:Ee(t7({variant:e}),t),...n}));LR.displayName=pR.displayName;const s7=f.forwardRef(({className:t,...e},n)=>s.jsx(yR,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));s7.displayName=yR.displayName;const $R=f.forwardRef(({className:t,...e},n)=>s.jsx(vR,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(ef,{className:"h-4 w-4"})}));$R.displayName=vR.displayName;const UR=f.forwardRef(({className:t,...e},n)=>s.jsx(xR,{ref:n,className:Ee("text-sm font-semibold",t),...e}));UR.displayName=xR.displayName;const BR=f.forwardRef(({className:t,...e},n)=>s.jsx(gR,{ref:n,className:Ee("text-sm opacity-90",t),...e}));BR.displayName=gR.displayName;function n7(){const{toasts:t}=$t();return s.jsxs(e7,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(LR,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(UR,{children:n}),r&&s.jsx(BR,{children:r})]}),i,s.jsx($R,{})]},e)}),s.jsx(MR,{})]})}var r7=Qx[" useId ".trim().toString()]||(()=>{}),i7=0;function lr(t){const[e,n]=f.useState(r7());return vs(()=>{n(r=>r??String(i7++))},[t]),e?`radix-${e}`:""}const a7=["top","right","bottom","left"],So=Math.min,sr=Math.max,sx=Math.round,Mf=Math.floor,Di=t=>({x:t,y:t}),o7={left:"right",right:"left",bottom:"top",top:"bottom"},l7={start:"end",end:"start"};function tb(t,e,n){return sr(t,So(e,n))}function _a(t,e){return typeof t=="function"?t(e):t}function ka(t){return t.split("-")[0]}function du(t){return t.split("-")[1]}function wN(t){return t==="x"?"y":"x"}function NN(t){return t==="y"?"height":"width"}const c7=new Set(["top","bottom"]);function Ti(t){return c7.has(ka(t))?"y":"x"}function SN(t){return wN(Ti(t))}function d7(t,e,n){n===void 0&&(n=!1);const r=du(t),i=SN(t),a=NN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=nx(o)),[o,nx(o)]}function u7(t){const e=nx(t);return[sb(t),e,sb(e)]}function sb(t){return t.replace(/start|end/g,e=>l7[e])}const $C=["left","right"],UC=["right","left"],h7=["top","bottom"],m7=["bottom","top"];function f7(t,e,n){switch(t){case"top":case"bottom":return n?e?UC:$C:e?$C:UC;case"left":case"right":return e?h7:m7;default:return[]}}function p7(t,e,n,r){const i=du(t);let a=f7(ka(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(sb)))),a}function nx(t){return t.replace(/left|right|bottom|top/g,e=>o7[e])}function x7(t){return{top:0,right:0,bottom:0,left:0,...t}}function VR(t){return typeof t!="number"?x7(t):{top:t,right:t,bottom:t,left:t}}function rx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BC(t,e,n){let{reference:r,floating:i}=t;const a=Ti(e),o=SN(e),l=NN(o),c=ka(e),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-i.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(du(e)){case"start":x[o]-=m*(n&&d?-1:1);break;case"end":x[o]+=m*(n&&d?-1:1);break}return x}const g7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=BC(d,r,c),m=r,x={},v=0;for(let b=0;b<l.length;b++){const{name:g,fn:p}=l[b],{x:j,y:w,data:N,reset:P}=await p({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});u=j??u,h=w??h,x={...x,[g]:{...x[g],...N}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:h}=BC(d,m,c)),b=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:x}};async function Bh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:x=0}=_a(e,t),v=VR(x),g=l[m?h==="floating"?"reference":"floating":h],p=rx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),j=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},P=rx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(p.top-P.top+v.top)/N.y,bottom:(P.bottom-p.bottom+v.bottom)/N.y,left:(p.left-P.left+v.left)/N.x,right:(P.right-p.right+v.right)/N.x}}const y7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=_a(t,e)||{};if(d==null)return{};const h=VR(u),m={x:n,y:r},x=SN(i),v=NN(x),b=await o.getDimensions(d),g=x==="y",p=g?"top":"left",j=g?"bottom":"right",w=g?"clientHeight":"clientWidth",N=a.reference[v]+a.reference[x]-m[x]-a.floating[v],P=m[x]-a.reference[x],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||a.floating[v]);const k=N/2-P/2,D=C/2-b[v]/2-1,F=So(h[p],D),L=So(h[j],D),B=F,Y=C-b[v]-L,Q=C/2-b[v]/2+k,H=tb(B,Q,Y),le=!c.arrow&&du(i)!=null&&Q!==H&&a.reference[v]/2-(Q<B?F:L)-b[v]/2<0,he=le?Q<B?Q-B:Q-Y:0;return{[x]:m[x]+he,data:{[x]:H,centerOffset:Q-H-he,...le&&{alignmentOffset:he}},reset:le}}}),v7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...g}=_a(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=ka(i),j=Ti(l),w=ka(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=m||(w||!b?[nx(l)]:u7(l)),S=v!=="none";!m&&S&&P.push(...p7(l,b,v,N));const C=[l,...P],k=await Bh(e,g),D=[];let F=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&D.push(k[p]),h){const Q=d7(i,o,N);D.push(k[Q[0]],k[Q[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every(Q=>Q<=0)){var L,B;const Q=(((L=a.flip)==null?void 0:L.index)||0)+1,H=C[Q];if(H&&(!(h==="alignment"?j!==Ti(H):!1)||F.every(z=>Ti(z.placement)===j?z.overflows[0]>0:!0)))return{data:{index:Q,overflows:F},reset:{placement:H}};let le=(B=F.filter(he=>he.overflows[0]<=0).sort((he,z)=>he.overflows[1]-z.overflows[1])[0])==null?void 0:B.placement;if(!le)switch(x){case"bestFit":{var Y;const he=(Y=F.filter(z=>{if(S){const R=Ti(z.placement);return R===j||R==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(R=>R>0).reduce((R,I)=>R+I,0)]).sort((z,R)=>z[1]-R[1])[0])==null?void 0:Y[0];he&&(le=he);break}case"initialPlacement":le=l;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function VC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zC(t){return a7.some(e=>t[e]>=0)}const j7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=_a(t,e);switch(r){case"referenceHidden":{const a=await Bh(e,{...i,elementContext:"reference"}),o=VC(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zC(o)}}}case"escaped":{const a=await Bh(e,{...i,altBoundary:!0}),o=VC(a,n.floating);return{data:{escapedOffsets:o,escaped:zC(o)}}}default:return{}}}}},zR=new Set(["left","top"]);async function b7(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ka(n),l=du(n),c=Ti(n)==="y",d=zR.has(o)?-1:1,u=a&&c?-1:1,h=_a(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(x=l==="end"?v*-1:v),c?{x:x*u,y:m*d}:{x:m*d,y:x*u}}const w7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await b7(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},N7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:p,y:j}=g;return{x:p,y:j}}},...c}=_a(t,e),d={x:n,y:r},u=await Bh(e,c),h=Ti(ka(i)),m=wN(h);let x=d[m],v=d[h];if(a){const g=m==="y"?"top":"left",p=m==="y"?"bottom":"right",j=x+u[g],w=x-u[p];x=tb(j,x,w)}if(o){const g=h==="y"?"top":"left",p=h==="y"?"bottom":"right",j=v+u[g],w=v-u[p];v=tb(j,v,w)}const b=l.fn({...e,[m]:x,[h]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:a,[h]:o}}}}}},S7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=_a(t,e),u={x:n,y:r},h=Ti(i),m=wN(h);let x=u[m],v=u[h];const b=_a(l,e),g=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const w=m==="y"?"height":"width",N=a.reference[m]-a.floating[w]+g.mainAxis,P=a.reference[m]+a.reference[w]-g.mainAxis;x<N?x=N:x>P&&(x=P)}if(d){var p,j;const w=m==="y"?"width":"height",N=zR.has(ka(i)),P=a.reference[h]-a.floating[w]+(N&&((p=o.offset)==null?void 0:p[h])||0)+(N?0:g.crossAxis),S=a.reference[h]+a.reference[w]+(N?0:((j=o.offset)==null?void 0:j[h])||0)-(N?g.crossAxis:0);v<P?v=P:v>S&&(v=S)}return{[m]:x,[h]:v}}}},C7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=_a(t,e),u=await Bh(e,d),h=ka(i),m=du(i),x=Ti(i)==="y",{width:v,height:b}=a.floating;let g,p;h==="top"||h==="bottom"?(g=h,p=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,g=m==="end"?"top":"bottom");const j=b-u.top-u.bottom,w=v-u.left-u.right,N=So(b-u[g],j),P=So(v-u[p],w),S=!e.middlewareData.shift;let C=N,k=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=j),S&&!m){const F=sr(u.left,0),L=sr(u.right,0),B=sr(u.top,0),Y=sr(u.bottom,0);x?k=v-2*(F!==0||L!==0?F+L:sr(u.left,u.right)):C=b-2*(B!==0||Y!==0?B+Y:sr(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:C});const D=await o.getDimensions(l.floating);return v!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function xg(){return typeof window<"u"}function uu(t){return HR(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hi(t){var e;return(e=(HR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HR(t){return xg()?t instanceof Node||t instanceof cr(t).Node:!1}function oi(t){return xg()?t instanceof Element||t instanceof cr(t).Element:!1}function Mi(t){return xg()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function HC(t){return!xg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}const _7=new Set(["inline","contents"]);function tf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=li(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!_7.has(i)}const k7=new Set(["table","td","th"]);function P7(t){return k7.has(uu(t))}const E7=[":popover-open",":modal"];function gg(t){return E7.some(e=>{try{return t.matches(e)}catch{return!1}})}const T7=["transform","translate","scale","rotate","perspective"],A7=["transform","translate","scale","rotate","perspective","filter"],F7=["paint","layout","strict","content"];function CN(t){const e=_N(),n=oi(t)?li(t):t;return T7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||A7.some(r=>(n.willChange||"").includes(r))||F7.some(r=>(n.contain||"").includes(r))}function R7(t){let e=Co(t);for(;Mi(e)&&!Wd(e);){if(CN(e))return e;if(gg(e))return null;e=Co(e)}return null}function _N(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const D7=new Set(["html","body","#document"]);function Wd(t){return D7.has(uu(t))}function li(t){return cr(t).getComputedStyle(t)}function yg(t){return oi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Co(t){if(uu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HC(t)&&t.host||Hi(t);return HC(e)?e.host:e}function qR(t){const e=Co(t);return Wd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mi(e)&&tf(e)?e:qR(e)}function Vh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qR(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=cr(i);if(a){const l=nb(o);return e.concat(o,o.visualViewport||[],tf(i)?i:[],l&&n?Vh(l):[])}return e.concat(i,Vh(i,[],n))}function nb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WR(t){const e=li(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Mi(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=sx(n)!==a||sx(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function kN(t){return oi(t)?t:t.contextElement}function Gc(t){const e=kN(t);if(!Mi(e))return Di(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=WR(e);let o=(a?sx(n.width):n.width)/r,l=(a?sx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const I7=Di(0);function KR(t){const e=cr(t);return!_N()||!e.visualViewport?I7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function Bl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=kN(t);let o=Di(1);e&&(r?oi(r)&&(o=Gc(r)):o=Gc(t));const l=O7(a,n,r)?KR(a):Di(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=cr(a),x=r&&oi(r)?cr(r):r;let v=m,b=nb(v);for(;b&&r&&x!==v;){const g=Gc(b),p=b.getBoundingClientRect(),j=li(b),w=p.left+(b.clientLeft+parseFloat(j.paddingLeft))*g.x,N=p.top+(b.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=w,d+=N,v=cr(b),b=nb(v)}}return rx({width:u,height:h,x:c,y:d})}function vg(t,e){const n=yg(t).scrollLeft;return e?e.left+n:Bl(Hi(t)).left+n}function GR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function M7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Hi(r),l=e?gg(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Di(1);const u=Di(0),h=Mi(r);if((h||!h&&!a)&&((uu(r)!=="body"||tf(o))&&(c=yg(r)),Mi(r))){const x=Bl(r);d=Gc(r),u.x=x.x+r.clientLeft,u.y=x.y+r.clientTop}const m=o&&!h&&!a?GR(o,c):Di(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function L7(t){return Array.from(t.getClientRects())}function $7(t){const e=Hi(t),n=yg(t),r=t.ownerDocument.body,i=sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vg(t);const l=-n.scrollTop;return li(r).direction==="rtl"&&(o+=sr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const qC=25;function U7(t,e){const n=cr(t),r=Hi(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=_N();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=vg(r);if(d<=0){const u=r.ownerDocument,h=u.body,m=getComputedStyle(h),x=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-x);v<=qC&&(a-=v)}else d<=qC&&(a+=d);return{width:a,height:o,x:l,y:c}}const B7=new Set(["absolute","fixed"]);function V7(t,e){const n=Bl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Mi(t)?Gc(t):Di(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function WC(t,e,n){let r;if(e==="viewport")r=U7(t,n);else if(e==="document")r=$7(Hi(t));else if(oi(e))r=V7(e,n);else{const i=KR(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rx(r)}function YR(t,e){const n=Co(t);return n===e||!oi(n)||Wd(n)?!1:li(n).position==="fixed"||YR(n,e)}function z7(t,e){const n=e.get(t);if(n)return n;let r=Vh(t,[],!1).filter(l=>oi(l)&&uu(l)!=="body"),i=null;const a=li(t).position==="fixed";let o=a?Co(t):t;for(;oi(o)&&!Wd(o);){const l=li(o),c=CN(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&B7.has(i.position)||tf(o)&&!c&&YR(t,o))?r=r.filter(u=>u!==o):i=l,o=Co(o)}return e.set(t,r),r}function H7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?gg(e)?[]:z7(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=WC(e,u,i);return d.top=sr(h.top,d.top),d.right=So(h.right,d.right),d.bottom=So(h.bottom,d.bottom),d.left=sr(h.left,d.left),d},WC(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function q7(t){const{width:e,height:n}=WR(t);return{width:e,height:n}}function W7(t,e,n){const r=Mi(e),i=Hi(e),a=n==="fixed",o=Bl(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Di(0);function d(){c.x=vg(i)}if(r||!r&&!a)if((uu(e)!=="body"||tf(i))&&(l=yg(e)),r){const x=Bl(e,!0,a,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else i&&d();a&&!r&&i&&d();const u=i&&!r&&!a?GR(i,l):Di(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function av(t){return li(t).position==="static"}function KC(t,e){if(!Mi(t)||li(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hi(t)===n&&(n=n.ownerDocument.body),n}function QR(t,e){const n=cr(t);if(gg(t))return n;if(!Mi(t)){let i=Co(t);for(;i&&!Wd(i);){if(oi(i)&&!av(i))return i;i=Co(i)}return n}let r=KC(t,e);for(;r&&P7(r)&&av(r);)r=KC(r,e);return r&&Wd(r)&&av(r)&&!CN(r)?n:r||R7(t)||n}const K7=async function(t){const e=this.getOffsetParent||QR,n=this.getDimensions,r=await n(t.floating);return{reference:W7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G7(t){return li(t).direction==="rtl"}const Y7={convertOffsetParentRelativeRectToViewportRelativeRect:M7,getDocumentElement:Hi,getClippingRect:H7,getOffsetParent:QR,getElementRects:K7,getClientRects:L7,getDimensions:q7,getScale:Gc,isElement:oi,isRTL:G7};function XR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Q7(t,e){let n=null,r;const i=Hi(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:x}=d;if(l||e(),!m||!x)return;const v=Mf(h),b=Mf(i.clientWidth-(u+m)),g=Mf(i.clientHeight-(h+x)),p=Mf(u),w={rootMargin:-v+"px "+-b+"px "+-g+"px "+-p+"px",threshold:sr(0,So(1,c))||1};let N=!0;function P(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!XR(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(P,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(t)}return o(!0),a}function X7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=kN(t),u=i||a?[...d?Vh(d):[],...Vh(e)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const h=d&&l?Q7(d,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(p=>{let[j]=p;j&&j.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let v,b=c?Bl(t):null;c&&g();function g(){const p=Bl(t);b&&!XR(b,p)&&n(),b=p,v=requestAnimationFrame(g)}return n(),()=>{var p;u.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),h==null||h(),(p=x)==null||p.disconnect(),x=null,c&&cancelAnimationFrame(v)}}const Z7=w7,J7=N7,eH=v7,tH=C7,sH=j7,GC=y7,nH=S7,rH=(t,e,n)=>{const r=new Map,i={platform:Y7,...n},a={...i.platform,_c:r};return g7(t,e,{...i,platform:a})};var iH=typeof document<"u",aH=function(){},yp=iH?f.useLayoutEffect:aH;function ix(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ix(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!ix(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ZR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YC(t,e){const n=ZR(t);return Math.round(e*n)/n}function ov(t){const e=f.useRef(t);return yp(()=>{e.current=t}),e}function oH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=f.useState(r);ix(m,r)||x(r);const[v,b]=f.useState(null),[g,p]=f.useState(null),j=f.useCallback(z=>{z!==S.current&&(S.current=z,b(z))},[]),w=f.useCallback(z=>{z!==C.current&&(C.current=z,p(z))},[]),N=a||v,P=o||g,S=f.useRef(null),C=f.useRef(null),k=f.useRef(u),D=c!=null,F=ov(c),L=ov(i),B=ov(d),Y=f.useCallback(()=>{if(!S.current||!C.current)return;const z={placement:e,strategy:n,middleware:m};L.current&&(z.platform=L.current),rH(S.current,C.current,z).then(R=>{const I={...R,isPositioned:B.current!==!1};Q.current&&!ix(k.current,I)&&(k.current=I,ec.flushSync(()=>{h(I)}))})},[m,e,n,L,B]);yp(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const Q=f.useRef(!1);yp(()=>(Q.current=!0,()=>{Q.current=!1}),[]),yp(()=>{if(N&&(S.current=N),P&&(C.current=P),N&&P){if(F.current)return F.current(N,P,Y);Y()}},[N,P,Y,F,D]);const H=f.useMemo(()=>({reference:S,floating:C,setReference:j,setFloating:w}),[j,w]),le=f.useMemo(()=>({reference:N,floating:P}),[N,P]),he=f.useMemo(()=>{const z={position:n,left:0,top:0};if(!le.floating)return z;const R=YC(le.floating,u.x),I=YC(le.floating,u.y);return l?{...z,transform:"translate("+R+"px, "+I+"px)",...ZR(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:I}},[n,l,le.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:Y,refs:H,elements:le,floatingStyles:he}),[u,Y,H,le,he])}const lH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?GC({element:r.current,padding:i}).fn(n):{}:r?GC({element:r,padding:i}).fn(n):{}}}},cH=(t,e)=>({...Z7(t),options:[t,e]}),dH=(t,e)=>({...J7(t),options:[t,e]}),uH=(t,e)=>({...nH(t),options:[t,e]}),hH=(t,e)=>({...eH(t),options:[t,e]}),mH=(t,e)=>({...tH(t),options:[t,e]}),fH=(t,e)=>({...sH(t),options:[t,e]}),pH=(t,e)=>({...lH(t),options:[t,e]});var xH="Arrow",JR=f.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(We.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});JR.displayName=xH;var gH=JR;function PN(t){const[e,n]=f.useState(void 0);return vs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var EN="Popper",[eD,hu]=yn(EN),[yH,tD]=eD(EN),sD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=f.useState(null);return s.jsx(yH,{scope:e,anchor:r,onAnchorChange:i,children:n})};sD.displayName=EN;var nD="PopperAnchor",rD=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=tD(nD,n),o=f.useRef(null),l=lt(e,o),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(We.div,{...i,ref:l})});rD.displayName=nD;var TN="PopperContent",[vH,jH]=eD(TN),iD=f.forwardRef((t,e)=>{var je,Ue,ie,ue,Te,ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:v,...b}=t,g=tD(TN,n),[p,j]=f.useState(null),w=lt(e,Ke=>j(Ke)),[N,P]=f.useState(null),S=PN(N),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,D=r+(a!=="center"?"-"+a:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],B=L.length>0,Y={padding:F,boundary:L.filter(wH),altBoundary:B},{refs:Q,floatingStyles:H,placement:le,isPositioned:he,middlewareData:z}=oH({strategy:"fixed",placement:D,whileElementsMounted:(...Ke)=>X7(...Ke,{animationFrame:x==="always"}),elements:{reference:g.anchor},middleware:[cH({mainAxis:i+k,alignmentAxis:o}),c&&dH({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uH():void 0,...Y}),c&&hH({...Y}),mH({...Y,apply:({elements:Ke,rects:ot,availableWidth:Tt,availableHeight:qt})=>{const{width:Mt,height:sn}=ot.reference,os=Ke.floating.style;os.setProperty("--radix-popper-available-width",`${Tt}px`),os.setProperty("--radix-popper-available-height",`${qt}px`),os.setProperty("--radix-popper-anchor-width",`${Mt}px`),os.setProperty("--radix-popper-anchor-height",`${sn}px`)}}),N&&pH({element:N,padding:l}),NH({arrowWidth:C,arrowHeight:k}),m&&fH({strategy:"referenceHidden",...Y})]}),[R,I]=lD(le),de=gs(v);vs(()=>{he&&(de==null||de())},[he,de]);const A=(je=z.arrow)==null?void 0:je.x,xe=(Ue=z.arrow)==null?void 0:Ue.y,Le=((ie=z.arrow)==null?void 0:ie.centerOffset)!==0,[it,Qe]=f.useState();return vs(()=>{p&&Qe(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:he?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:it,"--radix-popper-transform-origin":[(ue=z.transformOrigin)==null?void 0:ue.x,(Te=z.transformOrigin)==null?void 0:Te.y].join(" "),...((ge=z.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(vH,{scope:n,placedSide:R,onArrowChange:P,arrowX:A,arrowY:xe,shouldHideArrow:Le,children:s.jsx(We.div,{"data-side":R,"data-align":I,...b,ref:w,style:{...b.style,animation:he?void 0:"none"}})})})});iD.displayName=TN;var aD="PopperArrow",bH={top:"bottom",right:"left",bottom:"top",left:"right"},oD=f.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=jH(aD,r),o=bH[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(gH,{...i,ref:n,style:{...i.style,display:"block"}})})});oD.displayName=aD;function wH(t){return t!==null}var NH=t=>({name:"transformOrigin",options:t,fn(e){var g,p,j;const{placement:n,rects:r,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=lD(n),h={start:"0%",center:"50%",end:"100%"}[u],m=(((p=i.arrow)==null?void 0:p.x)??0)+l/2,x=(((j=i.arrow)==null?void 0:j.y)??0)+c/2;let v="",b="";return d==="bottom"?(v=o?h:`${m}px`,b=`${-c}px`):d==="top"?(v=o?h:`${m}px`,b=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,b=o?h:`${x}px`):d==="left"&&(v=`${r.floating.width+c}px`,b=o?h:`${x}px`),{data:{x:v,y:b}}}});function lD(t){const[e,n="center"]=t.split("-");return[e,n]}var AN=sD,FN=rD,RN=iD,DN=oD,SH=Symbol("radix.slottable");function CH(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=SH,e}var[jg]=yn("Tooltip",[hu]),bg=hu(),cD="TooltipProvider",_H=700,rb="tooltip.open",[kH,IN]=jg(cD),dD=t=>{const{__scopeTooltip:e,delayDuration:n=_H,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(kH,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};dD.displayName=cD;var zh="Tooltip",[PH,wg]=jg(zh),uD=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=IN(zh,t.__scopeTooltip),d=bg(e),[u,h]=f.useState(null),m=lr(),x=f.useRef(0),v=o??c.disableHoverableContent,b=l??c.delayDuration,g=f.useRef(!1),[p,j]=hr({prop:r,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(rb))):c.onClose(),a==null||a(C)},caller:zh}),w=f.useMemo(()=>p?g.current?"delayed-open":"instant-open":"closed",[p]),N=f.useCallback(()=>{window.clearTimeout(x.current),x.current=0,g.current=!1,j(!0)},[j]),P=f.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j(!1)},[j]),S=f.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{g.current=!0,j(!0),x.current=0},b)},[b,j]);return f.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(AN,{...d,children:s.jsx(PH,{scope:e,contentId:m,open:p,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:f.useCallback(()=>{v?P():(window.clearTimeout(x.current),x.current=0)},[P,v]),onOpen:N,onClose:P,disableHoverableContent:v,children:n})})};uD.displayName=zh;var ib="TooltipTrigger",hD=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=wg(ib,n),a=IN(ib,n),o=bg(n),l=f.useRef(null),c=lt(e,l,i.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(FN,{asChild:!0,...o,children:s.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});hD.displayName=ib;var EH="TooltipPortal",[Lae,TH]=jg(EH,{forceMount:void 0}),Kd="TooltipContent",mD=f.forwardRef((t,e)=>{const n=TH(Kd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=wg(Kd,t.__scopeTooltip);return s.jsx(ln,{present:r||o.open,children:o.disableHoverableContent?s.jsx(fD,{side:i,...a,ref:e}):s.jsx(AH,{side:i,...a,ref:e})})}),AH=f.forwardRef((t,e)=>{const n=wg(Kd,t.__scopeTooltip),r=IN(Kd,t.__scopeTooltip),i=f.useRef(null),a=lt(e,i),[o,l]=f.useState(null),{trigger:c,onClose:d}=n,u=i.current,{onPointerInTransitChange:h}=r,m=f.useCallback(()=>{l(null),h(!1)},[h]),x=f.useCallback((v,b)=>{const g=v.currentTarget,p={x:v.clientX,y:v.clientY},j=OH(p,g.getBoundingClientRect()),w=MH(p,j),N=LH(b.getBoundingClientRect()),P=UH([...w,...N]);l(P),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const v=g=>x(g,u),b=g=>x(g,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",b)}}},[c,u,x,m]),f.useEffect(()=>{if(o){const v=b=>{const g=b.target,p={x:b.clientX,y:b.clientY},j=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!$H(p,o);j?m():w&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,d,m]),s.jsx(fD,{...t,ref:a})}),[FH,RH]=jg(zh,{isInside:!1}),DH=CH("TooltipContent"),fD=f.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=wg(Kd,n),d=bg(n),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(rb,u),()=>document.removeEventListener(rb,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(RN,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(DH,{children:r}),s.jsx(FH,{scope:n,isInside:!0,children:s.jsx(FV,{id:c.contentId,role:"tooltip",children:i||r})})]})})});mD.displayName=Kd;var pD="TooltipArrow",IH=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bg(n);return RH(pD,n).isInside?null:s.jsx(DN,{...i,...r,ref:e})});IH.displayName=pD;function OH(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MH(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function LH(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function $H(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function UH(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BH(e)}function BH(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var VH=dD,zH=uD,HH=hD,xD=mD;const qH=VH,La=zH,$a=HH,Zi=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(xD,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Zi.displayName=xD.displayName;const gD=f.createContext(void 0);function WH({children:t,defaultTheme:e="light"}){const[n,r]=f.useState(()=>localStorage.getItem("theme")||e);f.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(n),localStorage.setItem("theme",n)},[n]);const i={theme:n,setTheme:r};return s.jsx(gD.Provider,{value:i,children:t})}function KH(){const t=f.useContext(gD);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}var GH=Symbol.for("react.lazy"),ax=Qx[" use ".trim().toString()];function YH(t){return typeof t=="object"&&t!==null&&"then"in t}function yD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===GH&&"_payload"in t&&YH(t._payload)}function sf(t){const e=QH(t),n=f.forwardRef((r,i)=>{let{children:a,...o}=r;yD(a)&&typeof ax=="function"&&(a=ax(a._payload));const l=f.Children.toArray(a),c=l.find(ZH);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var vD=sf("Slot");function QH(t){const e=f.forwardRef((n,r)=>{let{children:i,...a}=n;if(yD(i)&&typeof ax=="function"&&(i=ax(i._payload)),f.isValidElement(i)){const o=eq(i),l=JH(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XH=Symbol("radix.slottable");function ZH(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XH}function JH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function eq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ON=Zm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),O=f.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?vD:"button";return s.jsx(o,{className:Ee(ON({variant:e,size:n,className:t})),ref:a,...i})});O.displayName="Button";const tq=Zm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function G({className:t,variant:e,...n}){return s.jsx("div",{className:Ee(tq({variant:e}),t),...n})}function sq(){const{theme:t,setTheme:e}=KH();return s.jsxs(O,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[s.jsx(yz,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(dz,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}function Os(){const{data:t,isLoading:e}=Ge({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function nq(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:x,...v}=h,b=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,g=f.useMemo(()=>v,Object.values(v));return s.jsx(b.Provider,{value:g,children:x})};d.displayName=a+"Provider";function u(h,m){var b;const x=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=f.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,rq(i,...e)]}function rq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var iq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MN=iq.reduce((t,e)=>{const n=sf(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aq(){return EF.useSyncExternalStore(oq,()=>!0,()=>!1)}function oq(){return()=>{}}var LN="Avatar",[lq]=nq(LN),[cq,jD]=lq(LN),bD=f.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=f.useState("idle");return s.jsx(cq,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(MN.span,{...r,ref:e})})});bD.displayName=LN;var wD="AvatarImage",ND=f.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=jD(wD,n),l=dq(r,a),c=gs(d=>{i(d),o.onImageLoadingStatusChange(d)});return vs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(MN.img,{...a,ref:e,src:r}):null});ND.displayName=wD;var SD="AvatarFallback",CD=f.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=jD(SD,n),[o,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(MN.span,{...i,ref:e}):null});CD.displayName=SD;function QC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function dq(t,{referrerPolicy:e,crossOrigin:n}){const r=aq(),i=f.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=f.useState(()=>QC(a,t));return vs(()=>{l(QC(a,t))},[a,t]),vs(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,n,e]),o}var _D=bD,kD=ND,PD=CD;const Li=f.forwardRef(({className:t,...e},n)=>s.jsx(_D,{ref:n,className:Ee(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Li.displayName=_D.displayName;const $i=f.forwardRef(({className:t,...e},n)=>s.jsx(kD,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));$i.displayName=kD.displayName;const Ui=f.forwardRef(({className:t,...e},n)=>s.jsx(PD,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ui.displayName=PD.displayName;var uq=f.createContext(void 0);function mu(t){const e=f.useContext(uq);return t||e||"ltr"}var lv=0;function $N(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XC()),document.body.insertAdjacentElement("beforeend",t[1]??XC()),lv++,()=>{lv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lv--}},[])}function XC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cv="focusScope.autoFocusOnMount",dv="focusScope.autoFocusOnUnmount",ZC={bubbles:!1,cancelable:!0},hq="FocusScope",Ng=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=f.useState(null),d=gs(i),u=gs(a),h=f.useRef(null),m=lt(e,b=>c(b)),x=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let b=function(w){if(x.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Va(h.current,{select:!0})},g=function(w){if(x.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Va(h.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const P of w)P.removedNodes.length>0&&Va(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",g);const j=new MutationObserver(p);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",g),j.disconnect()}}},[r,l,x.paused]),f.useEffect(()=>{if(l){e2.add(x);const b=document.activeElement;if(!l.contains(b)){const p=new CustomEvent(cv,ZC);l.addEventListener(cv,d),l.dispatchEvent(p),p.defaultPrevented||(mq(yq(ED(l)),{select:!0}),document.activeElement===b&&Va(l))}return()=>{l.removeEventListener(cv,d),setTimeout(()=>{const p=new CustomEvent(dv,ZC);l.addEventListener(dv,u),l.dispatchEvent(p),p.defaultPrevented||Va(b??document.body,{select:!0}),l.removeEventListener(dv,u),e2.remove(x)},0)}}},[l,d,u,x]);const v=f.useCallback(b=>{if(!n&&!r||x.paused)return;const g=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,p=document.activeElement;if(g&&p){const j=b.currentTarget,[w,N]=fq(j);w&&N?!b.shiftKey&&p===N?(b.preventDefault(),n&&Va(w,{select:!0})):b.shiftKey&&p===w&&(b.preventDefault(),n&&Va(N,{select:!0})):p===j&&b.preventDefault()}},[n,r,x.paused]);return s.jsx(We.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});Ng.displayName=hq;function mq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Va(r,{select:e}),document.activeElement!==n)return}function fq(t){const e=ED(t),n=JC(e,t),r=JC(e.reverse(),t);return[n,r]}function ED(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function JC(t,e){for(const n of t)if(!pq(n,{upTo:e}))return n}function pq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xq(t){return t instanceof HTMLInputElement&&"select"in t}function Va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xq(t)&&e&&t.select()}}var e2=gq();function gq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=t2(t,e),t.unshift(e)},remove(e){var n;t=t2(t,e),(n=t[0])==null||n.resume()}}}function t2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yq(t){return t.filter(e=>e.tagName!=="A")}var uv="rovingFocusGroup.onEntryFocus",vq={bubbles:!1,cancelable:!0},nf="RovingFocusGroup",[ab,TD,jq]=Ym(nf),[bq,Sg]=yn(nf,[jq]),[wq,Nq]=bq(nf),AD=f.forwardRef((t,e)=>s.jsx(ab.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(ab.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Sq,{...t,ref:e})})}));AD.displayName=nf;var Sq=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=f.useRef(null),x=lt(e,m),v=mu(a),[b,g]=hr({prop:o,defaultProp:l??null,onChange:c,caller:nf}),[p,j]=f.useState(!1),w=gs(d),N=TD(n),P=f.useRef(!1),[S,C]=f.useState(0);return f.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(uv,w),()=>k.removeEventListener(uv,w)},[w]),s.jsx(wq,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:f.useCallback(k=>g(k),[g]),onItemShiftTab:f.useCallback(()=>j(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:f.useCallback(()=>C(k=>k-1),[]),children:s.jsx(We.div,{tabIndex:p||S===0?-1:0,"data-orientation":r,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{P.current=!0}),onFocus:Ce(t.onFocus,k=>{const D=!P.current;if(k.target===k.currentTarget&&D&&!p){const F=new CustomEvent(uv,vq);if(k.currentTarget.dispatchEvent(F),!F.defaultPrevented){const L=N().filter(le=>le.focusable),B=L.find(le=>le.active),Y=L.find(le=>le.id===b),H=[B,Y,...L].filter(Boolean).map(le=>le.ref.current);DD(H,u)}}P.current=!1}),onBlur:Ce(t.onBlur,()=>j(!1))})})}),FD="RovingFocusGroupItem",RD=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=lr(),d=a||c,u=Nq(FD,n),h=u.currentTabStopId===d,m=TD(n),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:b}=u;return f.useEffect(()=>{if(r)return x(),()=>v()},[r,x,v]),s.jsx(ab.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(We.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,g=>{r?u.onItemFocus(d):g.preventDefault()}),onFocus:Ce(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ce(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=kq(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(p==="last")w.reverse();else if(p==="prev"||p==="next"){p==="prev"&&w.reverse();const N=w.indexOf(g.currentTarget);w=u.loop?Pq(w,N+1):w.slice(N+1)}setTimeout(()=>DD(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:b!=null}):o})})});RD.displayName=FD;var Cq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _q(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kq(t,e,n){const r=_q(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cq[r]}function DD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Pq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ID=AD,OD=RD;function Eq(t){const e=Tq(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(Fq);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Tq(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=Dq(i),l=Rq(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Aq=Symbol("radix.slottable");function Fq(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Aq}function Rq(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Dq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Iq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hc=new WeakMap,Lf=new WeakMap,$f={},hv=0,MD=function(t){return t&&(t.host||MD(t.parentNode))},Oq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=MD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Mq=function(t,e,n,r){var i=Oq(e,Array.isArray(t)?t:[t]);$f[n]||($f[n]=new WeakMap);var a=$f[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var x=m.getAttribute(r),v=x!==null&&x!=="false",b=(hc.get(m)||0)+1,g=(a.get(m)||0)+1;hc.set(m,b),a.set(m,g),o.push(m),b===1&&v&&Lf.set(m,!0),g===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return u(e),l.clear(),hv++,function(){o.forEach(function(h){var m=hc.get(h)-1,x=a.get(h)-1;hc.set(h,m),a.set(h,x),m||(Lf.has(h)||h.removeAttribute(r),Lf.delete(h)),x||h.removeAttribute(n)}),hv--,hv||(hc=new WeakMap,hc=new WeakMap,Lf=new WeakMap,$f={})}},UN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Iq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Mq(r,i,n,"aria-hidden")):function(){return null}},Ei=function(){return Ei=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ei.apply(this,arguments)};function LD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lq(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var vp="right-scroll-bar-position",jp="width-before-scroll-bar",$q="with-scroll-bars-hidden",Uq="--removed-body-scroll-bar-size";function mv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Bq(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Vq=typeof window<"u"?f.useLayoutEffect:f.useEffect,s2=new WeakMap;function zq(t,e){var n=Bq(null,function(r){return t.forEach(function(i){return mv(i,r)})});return Vq(function(){var r=s2.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||mv(l,null)}),a.forEach(function(l){i.has(l)||mv(l,o)})}s2.set(n,t)},[t]),n}function Hq(t){return t}function qq(t,e){e===void 0&&(e=Hq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return i}function Wq(t){t===void 0&&(t={});var e=qq(null);return e.options=Ei({async:!0,ssr:!1},t),e}var $D=function(t){var e=t.sideCar,n=LD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Ei({},n))};$D.isSideCarExport=!0;function Kq(t,e){return t.useMedium(e),$D}var UD=Wq(),fv=function(){},Cg=f.forwardRef(function(t,e){var n=f.useRef(null),r=f.useState({onScrollCapture:fv,onWheelCapture:fv,onTouchMoveCapture:fv}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,x=t.noRelative,v=t.noIsolation,b=t.inert,g=t.allowPinchZoom,p=t.as,j=p===void 0?"div":p,w=t.gapMode,N=LD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,S=zq([n,e]),C=Ei(Ei({},N),i);return f.createElement(f.Fragment,null,u&&f.createElement(P,{sideCar:UD,removeScrollBar:d,shards:h,noRelative:x,noIsolation:v,inert:b,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?f.cloneElement(f.Children.only(l),Ei(Ei({},C),{ref:S})):f.createElement(j,Ei({},C,{className:c,ref:S}),l))});Cg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cg.classNames={fullWidth:jp,zeroRight:vp};var Gq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gq();return e&&t.setAttribute("nonce",e),t}function Qq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Xq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Yq())&&(Qq(e,n),Xq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Jq=function(){var t=Zq();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BD=function(){var t=Jq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},eW={left:0,top:0,right:0,gap:0},pv=function(t){return parseInt(t||"",10)||0},tW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[pv(n),pv(r),pv(i)]},sW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eW;var e=tW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},nW=BD(),Yc="data-scroll-locked",rW=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($q,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vp," .").concat(vp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jp," .").concat(jp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yc,`] {
    `).concat(Uq,": ").concat(l,`px;
  }
`)},n2=function(){var t=parseInt(document.body.getAttribute(Yc)||"0",10);return isFinite(t)?t:0},iW=function(){f.useEffect(function(){return document.body.setAttribute(Yc,(n2()+1).toString()),function(){var t=n2()-1;t<=0?document.body.removeAttribute(Yc):document.body.setAttribute(Yc,t.toString())}},[])},aW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;iW();var a=f.useMemo(function(){return sW(i)},[i]);return f.createElement(nW,{styles:rW(a,!e,i,n?"":"!important")})},ob=!1;if(typeof window<"u")try{var Uf=Object.defineProperty({},"passive",{get:function(){return ob=!0,!0}});window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{ob=!1}var mc=ob?{passive:!1}:!1,oW=function(t){return t.tagName==="TEXTAREA"},VD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!oW(t)&&n[e]==="visible")},lW=function(t){return VD(t,"overflowY")},cW=function(t){return VD(t,"overflowX")},r2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zD(t,r);if(i){var a=HD(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},uW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zD=function(t,e){return t==="v"?lW(e):cW(e)},HD=function(t,e){return t==="v"?dW(e):uW(e)},hW=function(t,e){return t==="h"&&e==="rtl"?-1:1},mW=function(t,e,n,r,i){var a=hW(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var x=HD(t,l),v=x[0],b=x[1],g=x[2],p=b-g-a*v;(v||p)&&zD(t,l)&&(h+=p,m+=v);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Bf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i2=function(t){return[t.deltaX,t.deltaY]},a2=function(t){return t&&"current"in t?t.current:t},fW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xW=0,fc=[];function gW(t){var e=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(xW++)[0],a=f.useState(BD)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Lq([t.lockRef.current],(t.shards||[]).map(a2),!0).filter(Boolean);return b.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(b,g){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var p=Bf(b),j=n.current,w="deltaX"in b?b.deltaX:j[0]-p[0],N="deltaY"in b?b.deltaY:j[1]-p[1],P,S=b.target,C=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in b&&C==="h"&&S.type==="range")return!1;var k=window.getSelection(),D=k&&k.anchorNode,F=D?D===S||D.contains(S):!1;if(F)return!1;var L=r2(C,S);if(!L)return!0;if(L?P=C:(P=C==="v"?"h":"v",L=r2(C,S)),!L)return!1;if(!r.current&&"changedTouches"in b&&(w||N)&&(r.current=P),!P)return!0;var B=r.current||P;return mW(B,g,b,B==="h"?w:N)},[]),c=f.useCallback(function(b){var g=b;if(!(!fc.length||fc[fc.length-1]!==a)){var p="deltaY"in g?i2(g):Bf(g),j=e.current.filter(function(P){return P.name===g.type&&(P.target===g.target||g.target===P.shadowParent)&&fW(P.delta,p)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var w=(o.current.shards||[]).map(a2).filter(Boolean).filter(function(P){return P.contains(g.target)}),N=w.length>0?l(g,w[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),d=f.useCallback(function(b,g,p,j){var w={name:b,delta:g,target:p,should:j,shadowParent:yW(p)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),u=f.useCallback(function(b){n.current=Bf(b),r.current=void 0},[]),h=f.useCallback(function(b){d(b.type,i2(b),b.target,l(b,t.lockRef.current))},[]),m=f.useCallback(function(b){d(b.type,Bf(b),b.target,l(b,t.lockRef.current))},[]);f.useEffect(function(){return fc.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,mc),document.addEventListener("touchmove",c,mc),document.addEventListener("touchstart",u,mc),function(){fc=fc.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,mc),document.removeEventListener("touchmove",c,mc),document.removeEventListener("touchstart",u,mc)}},[]);var x=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(a,{styles:pW(i)}):null,x?f.createElement(aW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vW=Kq(UD,gW);var _g=f.forwardRef(function(t,e){return f.createElement(Cg,Ei({},t,{ref:e,sideCar:vW}))});_g.classNames=Cg.classNames;var lb=["Enter"," "],jW=["ArrowDown","PageUp","Home"],qD=["ArrowUp","PageDown","End"],bW=[...jW,...qD],wW={ltr:[...lb,"ArrowRight"],rtl:[...lb,"ArrowLeft"]},NW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rf="Menu",[Hh,SW,CW]=Ym(rf),[tc,WD]=yn(rf,[CW,hu,Sg]),kg=hu(),KD=Sg(),[_W,sc]=tc(rf),[kW,af]=tc(rf),GD=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=kg(e),[c,d]=f.useState(null),u=f.useRef(!1),h=gs(a),m=mu(i);return f.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(AN,{...l,children:s.jsx(_W,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(kW,{scope:e,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};GD.displayName=rf;var PW="MenuAnchor",BN=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kg(n);return s.jsx(FN,{...i,...r,ref:e})});BN.displayName=PW;var VN="MenuPortal",[EW,YD]=tc(VN,{forceMount:void 0}),QD=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=sc(VN,e);return s.jsx(EW,{scope:e,forceMount:n,children:s.jsx(ln,{present:n||a.open,children:s.jsx(Qm,{asChild:!0,container:i,children:r})})})};QD.displayName=VN;var Cr="MenuContent",[TW,zN]=tc(Cr),XD=f.forwardRef((t,e)=>{const n=YD(Cr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=sc(Cr,t.__scopeMenu),o=af(Cr,t.__scopeMenu);return s.jsx(Hh.Provider,{scope:t.__scopeMenu,children:s.jsx(ln,{present:r||a.open,children:s.jsx(Hh.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(AW,{...i,ref:e}):s.jsx(FW,{...i,ref:e})})})})}),AW=f.forwardRef((t,e)=>{const n=sc(Cr,t.__scopeMenu),r=f.useRef(null),i=lt(e,r);return f.useEffect(()=>{const a=r.current;if(a)return UN(a)},[]),s.jsx(HN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),FW=f.forwardRef((t,e)=>{const n=sc(Cr,t.__scopeMenu);return s.jsx(HN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),RW=Eq("MenuContent.ScrollLock"),HN=f.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,disableOutsideScroll:v,...b}=t,g=sc(Cr,n),p=af(Cr,n),j=kg(n),w=KD(n),N=SW(n),[P,S]=f.useState(null),C=f.useRef(null),k=lt(e,C,g.onContentChange),D=f.useRef(0),F=f.useRef(""),L=f.useRef(0),B=f.useRef(null),Y=f.useRef("right"),Q=f.useRef(0),H=v?_g:f.Fragment,le=v?{as:RW,allowPinchZoom:!0}:void 0,he=R=>{var je,Ue;const I=F.current+R,de=N().filter(ie=>!ie.disabled),A=document.activeElement,xe=(je=de.find(ie=>ie.ref.current===A))==null?void 0:je.textValue,Le=de.map(ie=>ie.textValue),it=qW(Le,I,xe),Qe=(Ue=de.find(ie=>ie.textValue===it))==null?void 0:Ue.ref.current;(function ie(ue){F.current=ue,window.clearTimeout(D.current),ue!==""&&(D.current=window.setTimeout(()=>ie(""),1e3))})(I),Qe&&setTimeout(()=>Qe.focus())};f.useEffect(()=>()=>window.clearTimeout(D.current),[]),$N();const z=f.useCallback(R=>{var de,A;return Y.current===((de=B.current)==null?void 0:de.side)&&KW(R,(A=B.current)==null?void 0:A.area)},[]);return s.jsx(TW,{scope:n,searchRef:F,onItemEnter:f.useCallback(R=>{z(R)&&R.preventDefault()},[z]),onItemLeave:f.useCallback(R=>{var I;z(R)||((I=C.current)==null||I.focus(),S(null))},[z]),onTriggerLeave:f.useCallback(R=>{z(R)&&R.preventDefault()},[z]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(R=>{B.current=R},[]),children:s.jsx(H,{...le,children:s.jsx(Ng,{asChild:!0,trapped:i,onMountAutoFocus:Ce(a,R=>{var I;R.preventDefault(),(I=C.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(lu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,children:s.jsx(ID,{asChild:!0,...w,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:S,onEntryFocus:Ce(c,R=>{p.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(RN,{role:"menu","aria-orientation":"vertical","data-state":mI(g.open),"data-radix-menu-content":"",dir:p.dir,...j,...b,ref:k,style:{outline:"none",...b.style},onKeyDown:Ce(b.onKeyDown,R=>{const de=R.target.closest("[data-radix-menu-content]")===R.currentTarget,A=R.ctrlKey||R.altKey||R.metaKey,xe=R.key.length===1;de&&(R.key==="Tab"&&R.preventDefault(),!A&&xe&&he(R.key));const Le=C.current;if(R.target!==Le||!bW.includes(R.key))return;R.preventDefault();const Qe=N().filter(je=>!je.disabled).map(je=>je.ref.current);qD.includes(R.key)&&Qe.reverse(),zW(Qe)}),onBlur:Ce(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(D.current),F.current="")}),onPointerMove:Ce(t.onPointerMove,qh(R=>{const I=R.target,de=Q.current!==R.clientX;if(R.currentTarget.contains(I)&&de){const A=R.clientX>Q.current?"right":"left";Y.current=A,Q.current=R.clientX}}))})})})})})})});XD.displayName=Cr;var DW="MenuGroup",qN=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(We.div,{role:"group",...r,ref:e})});qN.displayName=DW;var IW="MenuLabel",ZD=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(We.div,{...r,ref:e})});ZD.displayName=IW;var ox="MenuItem",o2="menu.itemSelect",Pg=f.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=f.useRef(null),o=af(ox,t.__scopeMenu),l=zN(ox,t.__scopeMenu),c=lt(e,a),d=f.useRef(!1),u=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(o2,{bubbles:!0,cancelable:!0});h.addEventListener(o2,x=>r==null?void 0:r(x),{once:!0}),pN(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(JD,{...i,ref:c,disabled:n,onClick:Ce(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:Ce(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ce(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||lb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Pg.displayName=ox;var JD=f.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=zN(ox,n),l=KD(n),c=f.useRef(null),d=lt(e,c),[u,h]=f.useState(!1),[m,x]=f.useState("");return f.useEffect(()=>{const v=c.current;v&&x((v.textContent??"").trim())},[a.children]),s.jsx(Hh.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(OD,{asChild:!0,...l,focusable:!r,children:s.jsx(We.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:Ce(t.onPointerMove,qh(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,qh(v=>o.onItemLeave(v))),onFocus:Ce(t.onFocus,()=>h(!0)),onBlur:Ce(t.onBlur,()=>h(!1))})})})}),OW="MenuCheckboxItem",eI=f.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(iI,{scope:t.__scopeMenu,checked:n,children:s.jsx(Pg,{role:"menuitemcheckbox","aria-checked":lx(n)?"mixed":n,...i,ref:e,"data-state":KN(n),onSelect:Ce(i.onSelect,()=>r==null?void 0:r(lx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eI.displayName=OW;var tI="MenuRadioGroup",[MW,LW]=tc(tI,{value:void 0,onValueChange:()=>{}}),sI=f.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=gs(r);return s.jsx(MW,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(qN,{...i,ref:e})})});sI.displayName=tI;var nI="MenuRadioItem",rI=f.forwardRef((t,e)=>{const{value:n,...r}=t,i=LW(nI,t.__scopeMenu),a=n===i.value;return s.jsx(iI,{scope:t.__scopeMenu,checked:a,children:s.jsx(Pg,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":KN(a),onSelect:Ce(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});rI.displayName=nI;var WN="MenuItemIndicator",[iI,$W]=tc(WN,{checked:!1}),aI=f.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=$W(WN,n);return s.jsx(ln,{present:r||lx(a.checked)||a.checked===!0,children:s.jsx(We.span,{...i,ref:e,"data-state":KN(a.checked)})})});aI.displayName=WN;var UW="MenuSeparator",oI=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});oI.displayName=UW;var BW="MenuArrow",lI=f.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kg(n);return s.jsx(DN,{...i,...r,ref:e})});lI.displayName=BW;var VW="MenuSub",[$ae,cI]=tc(VW),Ku="MenuSubTrigger",dI=f.forwardRef((t,e)=>{const n=sc(Ku,t.__scopeMenu),r=af(Ku,t.__scopeMenu),i=cI(Ku,t.__scopeMenu),a=zN(Ku,t.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(BN,{asChild:!0,...d,children:s.jsx(JD,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":mI(n.open),...t,ref:Aa(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,qh(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ce(t.onPointerLeave,qh(h=>{var x,v;u();const m=(x=n.content)==null?void 0:x.getBoundingClientRect();if(m){const b=(v=n.content)==null?void 0:v.dataset.side,g=b==="right",p=g?-5:5,j=m[g?"left":"right"],w=m[g?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+p,y:h.clientY},{x:j,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:j,y:m.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,h=>{var x;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||wW[r.dir].includes(h.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),h.preventDefault())})})})});dI.displayName=Ku;var uI="MenuSubContent",hI=f.forwardRef((t,e)=>{const n=YD(Cr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=sc(Cr,t.__scopeMenu),o=af(Cr,t.__scopeMenu),l=cI(uI,t.__scopeMenu),c=f.useRef(null),d=lt(e,c);return s.jsx(Hh.Provider,{scope:t.__scopeMenu,children:s.jsx(ln,{present:r||a.open,children:s.jsx(Hh.Slot,{scope:t.__scopeMenu,children:s.jsx(HN,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ce(t.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),m=NW[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});hI.displayName=uI;function mI(t){return t?"open":"closed"}function lx(t){return t==="indeterminate"}function KN(t){return lx(t)?"indeterminate":t?"checked":"unchecked"}function zW(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function HW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function qW(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=HW(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function WW(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function KW(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return WW(n,e)}function qh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var GW=GD,YW=BN,QW=QD,XW=XD,ZW=qN,JW=ZD,eK=Pg,tK=eI,sK=sI,nK=rI,rK=aI,iK=oI,aK=lI,oK=dI,lK=hI,Eg="DropdownMenu",[cK]=yn(Eg,[WD]),Ln=WD(),[dK,fI]=cK(Eg),pI=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Ln(e),d=f.useRef(null),[u,h]=hr({prop:i,defaultProp:a??!1,onChange:o,caller:Eg});return s.jsx(dK,{scope:e,triggerId:lr(),triggerRef:d,contentId:lr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(GW,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};pI.displayName=Eg;var xI="DropdownMenuTrigger",gI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=fI(xI,n),o=Ln(n);return s.jsx(YW,{asChild:!0,...o,children:s.jsx(We.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Aa(e,a.triggerRef),onPointerDown:Ce(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ce(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});gI.displayName=xI;var uK="DropdownMenuPortal",yI=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ln(e);return s.jsx(QW,{...r,...n})};yI.displayName=uK;var vI="DropdownMenuContent",jI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=fI(vI,n),a=Ln(n),o=f.useRef(!1);return s.jsx(XW,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jI.displayName=vI;var hK="DropdownMenuGroup",mK=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(ZW,{...i,...r,ref:e})});mK.displayName=hK;var fK="DropdownMenuLabel",bI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(JW,{...i,...r,ref:e})});bI.displayName=fK;var pK="DropdownMenuItem",wI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(eK,{...i,...r,ref:e})});wI.displayName=pK;var xK="DropdownMenuCheckboxItem",NI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(tK,{...i,...r,ref:e})});NI.displayName=xK;var gK="DropdownMenuRadioGroup",yK=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(sK,{...i,...r,ref:e})});yK.displayName=gK;var vK="DropdownMenuRadioItem",SI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(nK,{...i,...r,ref:e})});SI.displayName=vK;var jK="DropdownMenuItemIndicator",CI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(rK,{...i,...r,ref:e})});CI.displayName=jK;var bK="DropdownMenuSeparator",_I=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(iK,{...i,...r,ref:e})});_I.displayName=bK;var wK="DropdownMenuArrow",NK=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(aK,{...i,...r,ref:e})});NK.displayName=wK;var SK="DropdownMenuSubTrigger",kI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(oK,{...i,...r,ref:e})});kI.displayName=SK;var CK="DropdownMenuSubContent",PI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ln(n);return s.jsx(lK,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PI.displayName=CK;var _K=pI,kK=gI,PK=yI,EI=jI,TI=bI,AI=wI,FI=NI,RI=SI,DI=CI,II=_I,OI=kI,MI=PI;const EK=_K,TK=kK,AK=f.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(OI,{ref:i,className:Ee("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(rz,{className:"ml-auto"})]}));AK.displayName=OI.displayName;const FK=f.forwardRef(({className:t,...e},n)=>s.jsx(MI,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));FK.displayName=MI.displayName;const LI=f.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(PK,{children:s.jsx(EI,{ref:r,sideOffset:e,className:Ee("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));LI.displayName=EI.displayName;const Rr=f.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(AI,{ref:r,className:Ee("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Rr.displayName=AI.displayName;const RK=f.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(FI,{ref:i,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DI,{children:s.jsx(Uh,{className:"h-4 w-4"})})}),e]}));RK.displayName=FI.displayName;const DK=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(RI,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(DI,{children:s.jsx(az,{className:"h-2 w-2 fill-current"})})}),e]}));DK.displayName=RI.displayName;const $I=f.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(TI,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$I.displayName=TI.displayName;const bp=f.forwardRef(({className:t,...e},n)=>s.jsx(II,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));bp.displayName=II.displayName;const IK="/assets/RSFOpaqueLogo_1761494760586-CszXmNPH.png";function OK(){var l;const[t]=en(),{user:e}=Os(),n=t==="/rentals"||t.startsWith("/aircraft"),r=t.startsWith("/marketplace"),i=t==="/faq",a=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.email)||"User",o=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`:((l=e==null?void 0:e.email)==null?void 0:l[0].toUpperCase())||"U";return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between gap-2 sm:gap-4",children:[s.jsxs(at,{href:"/",className:"flex items-center gap-1 sm:gap-2 hover-elevate active-elevate-2 rounded-md px-1 sm:px-2 py-1 flex-shrink-0","data-testid":"link-home",children:[s.jsx("img",{src:IK,alt:"Ready Set Fly",className:"h-8 w-8 sm:h-[2.6rem] sm:w-[2.6rem]"}),s.jsx("span",{className:"font-display text-sm sm:text-xl font-bold hidden min-[400px]:inline",children:"Ready Set Fly"})]}),s.jsxs("nav",{className:"flex items-center gap-0.5 sm:gap-1 rounded-full bg-muted p-0.5 sm:p-1",role:"navigation","aria-label":"Main navigation",children:[s.jsx(at,{href:"/rentals","data-testid":"link-rentals",children:s.jsx(O,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${n?"bg-background shadow-sm":""}`,children:"Rentals"})}),s.jsx(at,{href:"/marketplace","data-testid":"link-marketplace",children:s.jsx(O,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${r?"bg-background shadow-sm":""}`,children:"Marketplace"})}),s.jsx(at,{href:"/faq","data-testid":"link-faq",children:s.jsx(O,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${i?"bg-background shadow-sm":""}`,children:"FAQ"})})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e&&s.jsx(at,{href:"/list-aircraft","data-testid":"link-list-aircraft",className:"hidden sm:block",children:s.jsx(O,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-list-aircraft",children:"List Your Aircraft"})}),e&&s.jsxs(O,{variant:"ghost",size:"icon",className:"relative hidden sm:flex","data-testid":"button-notifications","aria-label":"Notifications",children:[s.jsx(Jj,{className:"h-5 w-5"}),s.jsx(G,{className:"absolute -right-1 -top-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]}),s.jsx(sq,{}),e?s.jsxs(s.Fragment,{children:[e.isSuperAdmin&&s.jsx(G,{variant:"default",className:"bg-primary text-primary-foreground","data-testid":"badge-super-admin",children:"Super Admin"}),s.jsxs(EK,{children:[s.jsx(TK,{asChild:!0,children:s.jsx(O,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-profile-menu","aria-label":"User menu",children:s.jsxs(Li,{className:"h-9 w-9",children:[s.jsx($i,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:a}),s.jsx(Ui,{children:o})]})})}),s.jsxs(LI,{align:"end",className:"w-56",children:[s.jsx($I,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:a}),(e==null?void 0:e.isSuperAdmin)&&s.jsx(G,{variant:"default",className:"text-xs h-5 bg-primary text-primary-foreground",children:"Super Admin"})]}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email})]})}),s.jsx(bp,{}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/dashboard","data-testid":"link-dashboard",children:"Dashboard"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/profile","data-testid":"link-profile",children:"Profile"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/my-listings","data-testid":"link-my-listings",children:"My Listings"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/messages","data-testid":"link-messages",children:"Messages"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/logbook","data-testid":"link-logbook",children:"Pilot Logbook"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/pilot-tools","data-testid":"link-pilot-tools",children:"Pilot Tools"})}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/ownership-cost-calculator","data-testid":"link-ownership-cost",children:"Ownership Cost Calculator"})}),(e==null?void 0:e.isAdmin)&&s.jsxs(s.Fragment,{children:[s.jsx(bp,{}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/admin","data-testid":"link-admin",className:"text-primary font-medium",children:" Admin Dashboard"})})]}),s.jsx(bp,{}),s.jsx(Rr,{asChild:!0,children:s.jsx(at,{href:"/settings","data-testid":"link-settings",children:"Settings"})}),s.jsx(Rr,{asChild:!0,children:s.jsxs("a",{href:hs("/api/logout"),"data-testid":"button-logout",children:[s.jsx(cz,{className:"mr-2 h-4 w-4"}),"Log out"]})})]})]})]}):s.jsx(at,{href:"/login",children:s.jsx(O,{variant:"default","data-testid":"button-login",children:"Sign In"})})]})]})})})}var of=t=>t.type==="checkbox",al=t=>t instanceof Date,Vn=t=>t==null;const UI=t=>typeof t=="object";var Is=t=>!Vn(t)&&!Array.isArray(t)&&UI(t)&&!al(t),BI=t=>Is(t)&&t.target?of(t.target)?t.target.checked:t.target.value:t,MK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VI=(t,e)=>t.has(MK(e)),LK=t=>{const e=t.constructor&&t.constructor.prototype;return Is(e)&&e.hasOwnProperty("isPrototypeOf")},GN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _s(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(GN&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(Is(t)&&LK(t)))return t;const r=n?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=_s(t[i]));return r}var Tg=t=>/^\w*$/.test(t),ts=t=>t===void 0,YN=t=>Array.isArray(t)?t.filter(Boolean):[],QN=t=>YN(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(t,e,n)=>{if(!e||!Is(t))return n;const r=(Tg(e)?[e]:QN(e)).reduce((i,a)=>Vn(i)?i:i[a],t);return ts(r)||r===t?ts(t[e])?n:t[e]:r},tr=t=>typeof t=="boolean",Tn=t=>typeof t=="function",Dt=(t,e,n)=>{let r=-1;const i=Tg(e)?[e]:QN(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=Is(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const cx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XN=He.createContext(null);XN.displayName="HookFormContext";const Ag=()=>He.useContext(XN),$K=t=>{const{children:e,...n}=t;return He.createElement(XN.Provider,{value:n},e)};var zI=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Xr.all&&(e._proxyFormState[o]=!r||Xr.all),n&&(n[o]=!0),t[o]}});return i};const ZN=typeof window<"u"?He.useLayoutEffect:He.useEffect;function UK(t){const e=Ag(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=He.useState(n._formState),c=He.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ZN(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),He.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),He.useMemo(()=>zI(o,n,c.current,!1),[o,n])}var ir=t=>typeof t=="string",cb=(t,e,n,r,i)=>ir(t)?(r&&e.watch.add(t),Oe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Oe(n,a))):(r&&(e.watchAll=!0),n),db=t=>Vn(t)||!UI(t);function Zr(t,e,n=new WeakSet){if(db(t)||db(e))return Object.is(t,e);if(al(t)&&al(e))return Object.is(t.getTime(),e.getTime());const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(al(o)&&al(l)||Is(o)&&Is(l)||Array.isArray(o)&&Array.isArray(l)?!Zr(o,l,n):!Object.is(o,l))return!1}}return!0}function BK(t){const e=Ag(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=He.useRef(i),d=He.useRef(l),u=He.useRef(void 0),h=He.useRef(n),m=He.useRef(r);d.current=l;const[x,v]=He.useState(()=>{const N=n._getWatch(r,c.current);return d.current?d.current(N):N}),b=He.useCallback(N=>{const P=cb(r,n._names,N||n._formValues,!1,c.current);return d.current?d.current(P):P},[n._formValues,n._names,r]),g=He.useCallback(N=>{if(!a){const P=cb(r,n._names,N||n._formValues,!1,c.current);if(d.current){const S=d.current(P);Zr(S,u.current)||(v(S),u.current=S)}else v(P)}},[n._formValues,n._names,a,r]);ZN(()=>((h.current!==n||!Zr(m.current,r))&&(h.current=n,m.current=r,g()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:N=>{g(N.values)}})),[n,o,r,g]),He.useEffect(()=>n._removeUnmounted());const p=h.current!==n,j=m.current,w=He.useMemo(()=>{if(a)return null;const N=!p&&!Zr(j,r);return p||N?b():null},[a,p,r,j,b]);return w!==null?w:x}function VK(t){const e=Ag(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=t,c=VI(i._names.array,n),d=He.useMemo(()=>Oe(i._formValues,n,Oe(i._defaultValues,n,o)),[i,n,o]),u=BK({control:i,name:n,defaultValue:d,exact:l}),h=UK({control:i,name:n,exact:l}),m=He.useRef(t),x=He.useRef(void 0),v=He.useRef(i.register(n,{...t.rules,value:u,...tr(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const b=He.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!Oe(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Oe(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Oe(h.validatingFields,n)},error:{enumerable:!0,get:()=>Oe(h.errors,n)}}),[h,n]),g=He.useCallback(N=>v.current.onChange({target:{value:BI(N),name:n},type:cx.CHANGE}),[n]),p=He.useCallback(()=>v.current.onBlur({target:{value:Oe(i._formValues,n),name:n},type:cx.BLUR}),[n,i._formValues]),j=He.useCallback(N=>{const P=Oe(i._fields,n);P&&P._f&&N&&(P._f.ref={focus:()=>Tn(N.focus)&&N.focus(),select:()=>Tn(N.select)&&N.select(),setCustomValidity:S=>Tn(N.setCustomValidity)&&N.setCustomValidity(S),reportValidity:()=>Tn(N.reportValidity)&&N.reportValidity()})},[i._fields,n]),w=He.useMemo(()=>({name:n,value:u,...tr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:g,onBlur:p,ref:j}),[n,r,h.disabled,g,p,j,u]);return He.useEffect(()=>{const N=i._options.shouldUnregister||a,P=x.current;P&&P!==n&&!c&&i.unregister(P),i.register(n,{...m.current.rules,...tr(m.current.disabled)?{disabled:m.current.disabled}:{}});const S=(C,k)=>{const D=Oe(i._fields,C);D&&D._f&&(D._f.mount=k)};if(S(n,!0),N){const C=_s(Oe(i._options.defaultValues,n,m.current.defaultValue));Dt(i._defaultValues,n,C),ts(Oe(i._formValues,n))&&Dt(i._formValues,n,C)}return!c&&i.register(n),x.current=n,()=>{(c?N&&!i._state.action:N)?i.unregister(n):S(n,!1)}},[n,i,c,a]),He.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),He.useMemo(()=>({field:w,formState:h,fieldState:b}),[w,h,b])}const zK=t=>t.render(VK(t));var HI=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},fh=t=>Array.isArray(t)?t:[t],l2=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function qI(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&Is(i)&&a){const o=qI(i,a);Is(o)&&(n[r]=o)}else t[r]&&(n[r]=a)}return n}var Sn=t=>Is(t)&&!Object.keys(t).length,JN=t=>t.type==="file",dx=t=>{if(!GN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},WI=t=>t.type==="select-multiple",e0=t=>t.type==="radio",HK=t=>e0(t)||of(t),xv=t=>dx(t)&&t.isConnected;function qK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ts(t)?r++:t[e[r++]];return t}function WK(t){for(const e in t)if(t.hasOwnProperty(e)&&!ts(t[e]))return!1;return!0}function ks(t,e){const n=Array.isArray(e)?e:Tg(e)?[e]:QN(e),r=n.length===1?t:qK(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Is(r)&&Sn(r)||Array.isArray(r)&&WK(r))&&ks(t,n.slice(0,-1)),t}var KK=t=>{for(const e in t)if(Tn(t[e]))return!0;return!1};function KI(t){return Array.isArray(t)||Is(t)&&!KK(t)}function ub(t,e={}){for(const n in t){const r=t[n];KI(r)?(e[n]=Array.isArray(r)?[]:{},ub(r,e[n])):ts(r)||(e[n]=!0)}return e}function bc(t,e,n){n||(n=ub(e));for(const r in t){const i=t[r];if(KI(i))ts(e)||db(n[r])?n[r]=ub(i,Array.isArray(i)?[]:{}):bc(i,Vn(e)?{}:e[r],n[r]);else{const a=e[r];n[r]=!Zr(i,a)}}return n}const c2={value:!1,isValid:!1},d2={value:!0,isValid:!0};var GI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ts(t[0].attributes.value)?ts(t[0].value)||t[0].value===""?d2:{value:t[0].value,isValid:!0}:d2:c2}return c2},YI=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ts(t)?t:e?t===""?NaN:t&&+t:n&&ir(t)?new Date(t):r?r(t):t;const u2={isValid:!1,value:null};var QI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,u2):u2;function h2(t){const e=t.ref;return JN(e)?e.files:e0(e)?QI(t.refs).value:WI(e)?[...e.selectedOptions].map(({value:n})=>n):of(e)?GI(t.refs).value:YI(ts(e.value)?t.ref.value:e.value,t)}var GK=(t,e,n,r)=>{const i={};for(const a of t){const o=Oe(e,a);o&&Dt(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ux=t=>t instanceof RegExp,Tu=t=>ts(t)?t:ux(t)?t.source:Is(t)?ux(t.value)?t.value.source:t.value:t,m2=t=>({isOnSubmit:!t||t===Xr.onSubmit,isOnBlur:t===Xr.onBlur,isOnChange:t===Xr.onChange,isOnAll:t===Xr.all,isOnTouch:t===Xr.onTouched});const f2="AsyncFunction";var YK=t=>!!t&&!!t.validate&&!!(Tn(t.validate)&&t.validate.constructor.name===f2||Is(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===f2)),QK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),p2=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ph=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Oe(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ph(l,e))break}else if(Is(l)&&ph(l,e))break}}};function x2(t,e,n){const r=Oe(t,n);if(r||Tg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Oe(e,a),l=Oe(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var XK=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Sn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Xr.all))},ZK=(t,e,n)=>!t||!e||t===e||fh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),JK=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,eG=(t,e)=>!YN(Oe(t,e)).length&&ks(t,e),tG=(t,e,n)=>{const r=fh(Oe(t,n));return Dt(r,"root",e[n]),Dt(t,n,r),t};function g2(t,e,n="validate"){if(ir(t)||Array.isArray(t)&&t.every(ir)||tr(t)&&!t)return{type:n,message:ir(t)?t:"",ref:e}}var pc=t=>Is(t)&&!ux(t)?t:{value:t,message:""},y2=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:x,validate:v,name:b,valueAsNumber:g,mount:p}=t._f,j=Oe(n,b);if(!p||e.has(b))return{};const w=l?l[0]:o,N=B=>{i&&w.reportValidity&&(w.setCustomValidity(tr(B)?"":B||""),w.reportValidity())},P={},S=e0(o),C=of(o),k=S||C,D=(g||JN(o))&&ts(o.value)&&ts(j)||dx(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,F=HI.bind(null,b,r,P),L=(B,Y,Q,H=Qi.maxLength,le=Qi.minLength)=>{const he=B?Y:Q;P[b]={type:B?H:le,message:he,ref:o,...F(B?H:le,he)}};if(a?!Array.isArray(j)||!j.length:c&&(!k&&(D||Vn(j))||tr(j)&&!j||C&&!GI(l).isValid||S&&!QI(l).isValid)){const{value:B,message:Y}=ir(c)?{value:!!c,message:c}:pc(c);if(B&&(P[b]={type:Qi.required,message:Y,ref:w,...F(Qi.required,Y)},!r))return N(Y),P}if(!D&&(!Vn(h)||!Vn(m))){let B,Y;const Q=pc(m),H=pc(h);if(!Vn(j)&&!isNaN(j)){const le=o.valueAsNumber||j&&+j;Vn(Q.value)||(B=le>Q.value),Vn(H.value)||(Y=le<H.value)}else{const le=o.valueAsDate||new Date(j),he=I=>new Date(new Date().toDateString()+" "+I),z=o.type=="time",R=o.type=="week";ir(Q.value)&&j&&(B=z?he(j)>he(Q.value):R?j>Q.value:le>new Date(Q.value)),ir(H.value)&&j&&(Y=z?he(j)<he(H.value):R?j<H.value:le<new Date(H.value))}if((B||Y)&&(L(!!B,Q.message,H.message,Qi.max,Qi.min),!r))return N(P[b].message),P}if((d||u)&&!D&&(ir(j)||a&&Array.isArray(j))){const B=pc(d),Y=pc(u),Q=!Vn(B.value)&&j.length>+B.value,H=!Vn(Y.value)&&j.length<+Y.value;if((Q||H)&&(L(Q,B.message,Y.message),!r))return N(P[b].message),P}if(x&&!D&&ir(j)){const{value:B,message:Y}=pc(x);if(ux(B)&&!j.match(B)&&(P[b]={type:Qi.pattern,message:Y,ref:o,...F(Qi.pattern,Y)},!r))return N(Y),P}if(v){if(Tn(v)){const B=await v(j,n),Y=g2(B,w);if(Y&&(P[b]={...Y,...F(Qi.validate,Y.message)},!r))return N(Y.message),P}else if(Is(v)){let B={};for(const Y in v){if(!Sn(B)&&!r)break;const Q=g2(await v[Y](j,n),w,Y);Q&&(B={...Q,...F(Y,Q.message)},N(Q.message),r&&(P[b]=B))}if(!Sn(B)&&(P[b]={ref:w,...B},!r))return P}}return N(!0),P};const sG={mode:Xr.onSubmit,reValidateMode:Xr.onChange,shouldFocusError:!0};function nG(t={}){let e={...sG,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Is(e.defaultValues)||Is(e.values)?_s(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:_s(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...u};let m={...h};const x={array:l2(),state:l2()},v=e.criteriaMode===Xr.all,b=M=>K=>{clearTimeout(d),d=setTimeout(M,K)},g=async M=>{if(!o.keepIsValid&&!e.disabled&&(h.isValid||m.isValid||M)){let K;e.resolver?(K=Sn((await k()).errors),p()):K=await F(r,!0),K!==n.isValid&&x.state.next({isValid:K})}},p=(M,K)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((M||Array.from(l.mount)).forEach(ee=>{ee&&(K?Dt(n.validatingFields,ee,K):ks(n.validatingFields,ee))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Sn(n.validatingFields)}))},j=(M,K=[],ee,Re,Se=!0,be=!0)=>{if(Re&&ee&&!e.disabled){if(o.action=!0,be&&Array.isArray(Oe(r,M))){const ze=ee(Oe(r,M),Re.argA,Re.argB);Se&&Dt(r,M,ze)}if(be&&Array.isArray(Oe(n.errors,M))){const ze=ee(Oe(n.errors,M),Re.argA,Re.argB);Se&&Dt(n.errors,M,ze),eG(n.errors,M)}if((h.touchedFields||m.touchedFields)&&be&&Array.isArray(Oe(n.touchedFields,M))){const ze=ee(Oe(n.touchedFields,M),Re.argA,Re.argB);Se&&Dt(n.touchedFields,M,ze)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=bc(i,a)),x.state.next({name:M,isDirty:B(M,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Dt(a,M,K)},w=(M,K)=>{Dt(n.errors,M,K),x.state.next({errors:n.errors})},N=M=>{n.errors=M,x.state.next({errors:n.errors,isValid:!1})},P=(M,K,ee,Re)=>{const Se=Oe(r,M);if(Se){const be=Oe(a,M,ts(ee)?Oe(i,M):ee);ts(be)||Re&&Re.defaultChecked||K?Dt(a,M,K?be:h2(Se._f)):H(M,be),o.mount&&!o.action&&g()}},S=(M,K,ee,Re,Se)=>{let be=!1,ze=!1;const jt={name:M};if(!e.disabled){if(!ee||Re){(h.isDirty||m.isDirty)&&(ze=n.isDirty,n.isDirty=jt.isDirty=B(),be=ze!==jt.isDirty);const bt=Zr(Oe(i,M),K);ze=!!Oe(n.dirtyFields,M),bt?ks(n.dirtyFields,M):Dt(n.dirtyFields,M,!0),jt.dirtyFields=n.dirtyFields,be=be||(h.dirtyFields||m.dirtyFields)&&ze!==!bt}if(ee){const bt=Oe(n.touchedFields,M);bt||(Dt(n.touchedFields,M,ee),jt.touchedFields=n.touchedFields,be=be||(h.touchedFields||m.touchedFields)&&bt!==ee)}be&&Se&&x.state.next(jt)}return be?jt:{}},C=(M,K,ee,Re)=>{const Se=Oe(n.errors,M),be=(h.isValid||m.isValid)&&tr(K)&&n.isValid!==K;if(e.delayError&&ee?(c=b(()=>w(M,ee)),c(e.delayError)):(clearTimeout(d),c=null,ee?Dt(n.errors,M,ee):ks(n.errors,M)),(ee?!Zr(Se,ee):Se)||!Sn(Re)||be){const ze={...Re,...be&&tr(K)?{isValid:K}:{},errors:n.errors,name:M};n={...n,...ze},x.state.next(ze)}},k=async M=>(p(M,!0),await e.resolver(a,e.context,GK(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),D=async M=>{const{errors:K}=await k(M);if(p(M),M)for(const ee of M){const Re=Oe(K,ee);Re?Dt(n.errors,ee,Re):ks(n.errors,ee)}else n.errors=K;return K},F=async(M,K,ee={valid:!0})=>{for(const Re in M){const Se=M[Re];if(Se){const{_f:be,...ze}=Se;if(be){const jt=l.array.has(be.name),bt=Se._f&&YK(Se._f);bt&&h.validatingFields&&p([be.name],!0);const xt=await y2(Se,l.disabled,a,v,e.shouldUseNativeValidation&&!K,jt);if(bt&&h.validatingFields&&p([be.name]),xt[be.name]&&(ee.valid=!1,K||t.shouldUseNativeValidation))break;!K&&(Oe(xt,be.name)?jt?tG(n.errors,xt,be.name):Dt(n.errors,be.name,xt[be.name]):ks(n.errors,be.name))}!Sn(ze)&&await F(ze,K,ee)}}return ee.valid},L=()=>{for(const M of l.unMount){const K=Oe(r,M);K&&(K._f.refs?K._f.refs.every(ee=>!xv(ee)):!xv(K._f.ref))&&Ue(M)}l.unMount=new Set},B=(M,K)=>!e.disabled&&(M&&K&&Dt(a,M,K),!Zr(de(),i)),Y=(M,K,ee)=>cb(M,l,{...o.mount?a:ts(K)?i:ir(M)?{[M]:K}:K},ee,K),Q=M=>YN(Oe(o.mount?a:i,M,e.shouldUnregister?Oe(i,M,[]):[])),H=(M,K,ee={})=>{const Re=Oe(r,M);let Se=K;if(Re){const be=Re._f;be&&(!be.disabled&&Dt(a,M,YI(K,be)),Se=dx(be.ref)&&Vn(K)?"":K,WI(be.ref)?[...be.ref.options].forEach(ze=>ze.selected=Se.includes(ze.value)):be.refs?of(be.ref)?be.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(Se)?ze.checked=!!Se.find(jt=>jt===ze.value):ze.checked=Se===ze.value||!!Se)}):be.refs.forEach(ze=>ze.checked=ze.value===Se):JN(be.ref)?be.ref.value="":(be.ref.value=Se,be.ref.type||x.state.next({name:M,values:_s(a)})))}(ee.shouldDirty||ee.shouldTouch)&&S(M,Se,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&I(M)},le=(M,K,ee)=>{for(const Re in K){if(!K.hasOwnProperty(Re))return;const Se=K[Re],be=M+"."+Re,ze=Oe(r,be);(l.array.has(M)||Is(Se)||ze&&!ze._f)&&!al(Se)?le(be,Se,ee):H(be,Se,ee)}},he=(M,K,ee={})=>{const Re=Oe(r,M),Se=l.array.has(M),be=_s(K);Dt(a,M,be),Se?(x.array.next({name:M,values:_s(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&ee.shouldDirty&&x.state.next({name:M,dirtyFields:bc(i,a),isDirty:B(M,be)})):Re&&!Re._f&&!Vn(be)?le(M,be,ee):H(M,be,ee),p2(M,l)?x.state.next({...n,name:M,values:_s(a)}):x.state.next({name:o.mount?M:void 0,values:_s(a)})},z=async M=>{o.mount=!0;const K=M.target;let ee=K.name,Re=!0;const Se=Oe(r,ee),be=bt=>{Re=Number.isNaN(bt)||al(bt)&&isNaN(bt.getTime())||Zr(bt,Oe(a,ee,bt))},ze=m2(e.mode),jt=m2(e.reValidateMode);if(Se){let bt,xt;const Ut=K.type?h2(Se._f):BI(M),Ms=M.type===cx.BLUR||M.type===cx.FOCUS_OUT,Wi=!QK(Se._f)&&!e.resolver&&!Oe(n.errors,ee)&&!Se._f.deps||JK(Ms,Oe(n.touchedFields,ee),n.isSubmitted,jt,ze),Ra=p2(ee,l,Ms);Dt(a,ee,Ut),Ms?(!K||!K.readOnly)&&(Se._f.onBlur&&Se._f.onBlur(M),c&&c(0)):Se._f.onChange&&Se._f.onChange(M);const Da=S(ee,Ut,Ms),vn=!Sn(Da)||Ra;if(!Ms&&x.state.next({name:ee,type:M.type,values:_s(a)}),Wi)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?Ms&&g():Ms||g()),vn&&x.state.next({name:ee,...Ra?{}:Da});if(!Ms&&Ra&&x.state.next({...n}),e.resolver){const{errors:Bt}=await k([ee]);if(p([ee]),be(Ut),Re){const js=x2(n.errors,r,ee),et=x2(Bt,r,js.name||ee);bt=et.error,ee=et.name,xt=Sn(Bt)}}else p([ee],!0),bt=(await y2(Se,l.disabled,a,v,e.shouldUseNativeValidation))[ee],p([ee]),be(Ut),Re&&(bt?xt=!1:(h.isValid||m.isValid)&&(xt=await F(r,!0)));Re&&(Se._f.deps&&(!Array.isArray(Se._f.deps)||Se._f.deps.length>0)&&I(Se._f.deps),C(ee,xt,bt,Da))}},R=(M,K)=>{if(Oe(n.errors,K)&&M.focus)return M.focus(),1},I=async(M,K={})=>{let ee,Re;const Se=fh(M);if(e.resolver){const be=await D(ts(M)?M:Se);ee=Sn(be),Re=M?!Se.some(ze=>Oe(be,ze)):ee}else M?(Re=(await Promise.all(Se.map(async be=>{const ze=Oe(r,be);return await F(ze&&ze._f?{[be]:ze}:ze)}))).every(Boolean),!(!Re&&!n.isValid)&&g()):Re=ee=await F(r);return x.state.next({...!ir(M)||(h.isValid||m.isValid)&&ee!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:ee}:{},errors:n.errors}),K.shouldFocus&&!Re&&ph(r,R,M?Se:l.mount),Re},de=(M,K)=>{let ee={...o.mount?a:i};return K&&(ee=qI(K.dirtyFields?n.dirtyFields:n.touchedFields,ee)),ts(M)?ee:ir(M)?Oe(ee,M):M.map(Re=>Oe(ee,Re))},A=(M,K)=>({invalid:!!Oe((K||n).errors,M),isDirty:!!Oe((K||n).dirtyFields,M),error:Oe((K||n).errors,M),isValidating:!!Oe(n.validatingFields,M),isTouched:!!Oe((K||n).touchedFields,M)}),xe=M=>{M&&fh(M).forEach(K=>ks(n.errors,K)),x.state.next({errors:M?n.errors:{}})},Le=(M,K,ee)=>{const Re=(Oe(r,M,{_f:{}})._f||{}).ref,Se=Oe(n.errors,M)||{},{ref:be,message:ze,type:jt,...bt}=Se;Dt(n.errors,M,{...bt,...K,ref:Re}),x.state.next({name:M,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&Re&&Re.focus&&Re.focus()},it=(M,K)=>Tn(M)?x.state.subscribe({next:ee=>"values"in ee&&M(Y(void 0,K),ee)}):Y(M,K,!0),Qe=M=>x.state.subscribe({next:K=>{ZK(M.name,K.name,M.exact)&&XK(K,M.formState||h,sn,M.reRenderRoot)&&M.callback({values:{...a},...n,...K,defaultValues:i})}}).unsubscribe,je=M=>(o.mount=!0,m={...m,...M.formState},Qe({...M,formState:{...u,...M.formState}})),Ue=(M,K={})=>{for(const ee of M?fh(M):l.mount)l.mount.delete(ee),l.array.delete(ee),K.keepValue||(ks(r,ee),ks(a,ee)),!K.keepError&&ks(n.errors,ee),!K.keepDirty&&ks(n.dirtyFields,ee),!K.keepTouched&&ks(n.touchedFields,ee),!K.keepIsValidating&&ks(n.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&ks(i,ee);x.state.next({values:_s(a)}),x.state.next({...n,...K.keepDirty?{isDirty:B()}:{}}),!K.keepIsValid&&g()},ie=({disabled:M,name:K})=>{(tr(M)&&o.mount||M||l.disabled.has(K))&&(M?l.disabled.add(K):l.disabled.delete(K))},ue=(M,K={})=>{let ee=Oe(r,M);const Re=tr(K.disabled)||tr(e.disabled);return Dt(r,M,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:M}},name:M,mount:!0,...K}}),l.mount.add(M),ee?ie({disabled:tr(K.disabled)?K.disabled:e.disabled,name:M}):P(M,!0,K.value),{...Re?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:Tu(K.min),max:Tu(K.max),minLength:Tu(K.minLength),maxLength:Tu(K.maxLength),pattern:Tu(K.pattern)}:{},name:M,onChange:z,onBlur:z,ref:Se=>{if(Se){ue(M,K),ee=Oe(r,M);const be=ts(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,ze=HK(be),jt=ee._f.refs||[];if(ze?jt.find(bt=>bt===be):be===ee._f.ref)return;Dt(r,M,{_f:{...ee._f,...ze?{refs:[...jt.filter(xv),be,...Array.isArray(Oe(i,M))?[{}]:[]],ref:{type:be.type,name:M}}:{ref:be}}}),P(M,!1,void 0,be)}else ee=Oe(r,M,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(VI(l.array,M)&&o.action)&&l.unMount.add(M)}}},Te=()=>e.shouldFocusError&&ph(r,R,l.mount),ge=M=>{tr(M)&&(x.state.next({disabled:M}),ph(r,(K,ee)=>{const Re=Oe(r,ee);Re&&(K.disabled=Re._f.disabled||M,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Se=>{Se.disabled=Re._f.disabled||M}))},0,!1))},Ke=(M,K)=>async ee=>{let Re;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let Se=_s(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:be,values:ze}=await k();p(),n.errors=be,Se=_s(ze)}else await F(r);if(l.disabled.size)for(const be of l.disabled)ks(Se,be);if(ks(n.errors,"root"),Sn(n.errors)){x.state.next({errors:{}});try{await M(Se,ee)}catch(be){Re=be}}else K&&await K({...n.errors},ee),Te(),setTimeout(Te);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(n.errors)&&!Re,submitCount:n.submitCount+1,errors:n.errors}),Re)throw Re},ot=(M,K={})=>{Oe(r,M)&&(ts(K.defaultValue)?he(M,_s(Oe(i,M))):(he(M,K.defaultValue),Dt(i,M,_s(K.defaultValue))),K.keepTouched||ks(n.touchedFields,M),K.keepDirty||(ks(n.dirtyFields,M),n.isDirty=K.defaultValue?B(M,_s(Oe(i,M))):B()),K.keepError||(ks(n.errors,M),h.isValid&&g()),x.state.next({...n}))},Tt=(M,K={})=>{const ee=M?_s(M):i,Re=_s(ee),Se=Sn(M),be=Se?i:Re;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(bc(i,a))]);for(const jt of Array.from(ze)){const bt=Oe(n.dirtyFields,jt),xt=Oe(a,jt),Ut=Oe(be,jt);bt&&!ts(xt)?Dt(be,jt,xt):!bt&&!ts(Ut)&&he(jt,Ut)}}else{if(GN&&ts(M))for(const ze of l.mount){const jt=Oe(r,ze);if(jt&&jt._f){const bt=Array.isArray(jt._f.refs)?jt._f.refs[0]:jt._f.ref;if(dx(bt)){const xt=bt.closest("form");if(xt){xt.reset();break}}}}if(K.keepFieldsRef)for(const ze of l.mount)he(ze,Oe(be,ze));else r={}}a=e.shouldUnregister?K.keepDefaultValues?_s(i):{}:_s(be),x.array.next({values:{...be}}),x.state.next({values:{...be}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!K.keepIsValid||!!K.keepDirtyValues||!e.shouldUnregister&&!Sn(be),o.watch=!!e.shouldUnregister,o.keepIsValid=!!K.keepIsValid,o.action=!1,K.keepErrors||(n.errors={}),x.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:Se?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!Zr(M,i)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Se?{}:K.keepDirtyValues?K.keepDefaultValues&&a?bc(i,a):n.dirtyFields:K.keepDefaultValues&&M?bc(i,M):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},qt=(M,K)=>Tt(Tn(M)?M(a):M,{...e.resetOptions,...K}),Mt=(M,K={})=>{const ee=Oe(r,M),Re=ee&&ee._f;if(Re){const Se=Re.refs?Re.refs[0]:Re.ref;Se.focus&&setTimeout(()=>{Se.focus(),K.shouldSelect&&Tn(Se.select)&&Se.select()})}},sn=M=>{n={...n,...M}},cn={control:{register:ue,unregister:Ue,getFieldState:A,handleSubmit:Ke,setError:Le,_subscribe:Qe,_runSchema:k,_updateIsValidating:p,_focusError:Te,_getWatch:Y,_getDirty:B,_setValid:g,_setFieldArray:j,_setDisabledField:ie,_setErrors:N,_getFieldArray:Q,_reset:Tt,_resetDefaultValues:()=>Tn(e.defaultValues)&&e.defaultValues().then(M=>{qt(M,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:ge,_subjects:x,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:je,trigger:I,register:ue,handleSubmit:Ke,watch:it,setValue:he,getValues:de,reset:qt,resetField:ot,clearErrors:xe,unregister:Ue,setError:Le,setFocus:Mt,getFieldState:A};return{...cn,formControl:cn}}function nr(t={}){const e=He.useRef(void 0),n=He.useRef(void 0),[r,i]=He.useState({isDirty:!1,isValidating:!1,isLoading:Tn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Tn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Tn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=nG(t);e.current={...l,formState:r}}const a=e.current.control;return a._options=t,ZN(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),He.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),He.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),He.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),He.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),He.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),He.useEffect(()=>{var o;t.values&&!Zr(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),He.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=zI(r,a),e.current}const v2=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},XI=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?v2(r.ref,n,t):r.refs&&r.refs.forEach(i=>v2(i,n,t))}},rG=(t,e)=>{e.shouldUseNativeValidation&&XI(t,e);const n={};for(const r in t){const i=Oe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(iG(e.names||Object.keys(t),r)){const o=Object.assign({},Oe(n,r));Dt(o,"root",a),Dt(n,r,o)}else Dt(n,r,a)}return n},iG=(t,e)=>t.some(n=>n.startsWith(e+"."));var aG=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=HI(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},rr=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&XI({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:rG(aG(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Nt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Nt||(Nt={}));var hb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(hb||(hb={}));const Be=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sa=t=>{switch(typeof t){case"undefined":return Be.undefined;case"string":return Be.string;case"number":return Number.isNaN(t)?Be.nan:Be.number;case"boolean":return Be.boolean;case"function":return Be.function;case"bigint":return Be.bigint;case"symbol":return Be.symbol;case"object":return Array.isArray(t)?Be.array:t===null?Be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Be.promise:typeof Map<"u"&&t instanceof Map?Be.map:typeof Set<"u"&&t instanceof Set?Be.set:typeof Date<"u"&&t instanceof Date?Be.date:Be.object;default:return Be.unknown}},we=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dr.create=t=>new dr(t);const Gd=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===Be.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Nt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nt.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nt.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${Nt.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,Nt.assertNever(t)}return{message:n}};let ZI=Gd;function lG(t){ZI=t}function hx(){return ZI}const mx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},cG=[];function Me(t,e){const n=hx(),r=mx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gd?void 0:Gd].filter(i=>!!i)});t.common.issues.push(r)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return tt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return gn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return tt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const tt=Object.freeze({status:"aborted"}),Ic=t=>({status:"dirty",value:t}),In=t=>({status:"valid",value:t}),mb=t=>t.status==="aborted",fb=t=>t.status==="dirty",Vl=t=>t.status==="valid",Wh=t=>typeof Promise<"u"&&t instanceof Promise;var qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(qe||(qe={}));class Bi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const j2=(t,e)=>{if(Vl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dr(t.common.issues);return this._error=n,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class pt{get description(){return this._def.description}_getType(e){return sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Wh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return j2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Vl(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Vl(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Wh(i)?i:Promise.resolve(i));return j2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:we.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ci({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ii.create(this,this._def)}nullable(){return Eo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ni.create(this)}promise(){return Qd.create(this,this._def)}or(e){return Qh.create([this,e],this._def)}and(e){return Xh.create(this,e,this._def)}transform(e){return new ci({...dt(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new sm({...dt(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new t0({typeName:rt.ZodBranded,type:this,...dt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new nm({...dt(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return lf.create(this,e)}readonly(){return rm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dG=/^c[^\s-]{8,}$/i,uG=/^[0-9a-z]+$/,hG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fG=/^[a-z0-9_-]{21}$/i,pG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gv;const vG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,JI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CG=new RegExp(`^${JI}$`);function eO(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function _G(t){return new RegExp(`^${eO(t)}$`)}function tO(t){let e=`${JI}T${eO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function kG(t,e){return!!((e==="v4"||!e)&&vG.test(t)||(e==="v6"||!e)&&bG.test(t))}function PG(t,e){if(!pG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function EG(t,e){return!!((e==="v4"||!e)&&jG.test(t)||(e==="v6"||!e)&&wG.test(t))}class ei extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Be.string){const a=this._getOrReturnCtx(e);return Me(a,{code:we.invalid_type,expected:Be.string,received:a.parsedType}),tt}const r=new gn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Me(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Me(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")gG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"email",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")gv||(gv=new RegExp(yG,"u")),gv.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"emoji",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")mG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"uuid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")fG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"nanoid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")dG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")uG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid2",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")hG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ulid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Me(i,{validation:"url",code:we.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"regex",code:we.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?tO(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?CG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?_G(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:we.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?xG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"duration",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?kG(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ip",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?PG(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"jwt",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?EG(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cidr",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?NG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?SG.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64url",code:we.invalid_string,message:a.message}),r.dirty()):Nt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:we.invalid_string,...qe.errToObj(r)})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...qe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...qe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...qe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...qe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...qe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...qe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...qe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...qe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...qe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...qe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...qe.errToObj(n)})}nonempty(e){return this.min(1,qe.errToObj(e))}trim(){return new ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ei.create=t=>new ei({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});function TG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class _o extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Be.number){const a=this._getOrReturnCtx(e);return Me(a,{code:we.invalid_type,expected:Be.number,received:a.parsedType}),tt}let r;const i=new gn;for(const a of this._def.checks)a.kind==="int"?Nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?TG(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_finite,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,qe.toString(n))}setLimit(e,n,r,i){return new _o({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:qe.toString(i)}]})}_addCheck(e){return new _o({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_o.create=t=>new _o({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class ko extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Be.bigint)return this._getInvalidInput(e);let r;const i=new gn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Be.bigint,received:n.parsedType}),tt}gte(e,n){return this.setLimit("min",e,!0,qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,qe.toString(n))}setLimit(e,n,r,i){return new ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:qe.toString(i)}]})}_addCheck(e){return new ko({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ko.create=t=>new ko({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});class Kh extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Be.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.boolean,received:r.parsedType}),tt}return In(e.data)}}Kh.create=t=>new Kh({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class zl extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Be.date){const a=this._getOrReturnCtx(e);return Me(a,{code:we.invalid_type,expected:Be.date,received:a.parsedType}),tt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Me(a,{code:we.invalid_date}),tt}const r=new gn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:we.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:we.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Nt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}zl.create=t=>new zl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...dt(t)});class fx extends pt{_parse(e){if(this._getType(e)!==Be.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.symbol,received:r.parsedType}),tt}return In(e.data)}}fx.create=t=>new fx({typeName:rt.ZodSymbol,...dt(t)});class Gh extends pt{_parse(e){if(this._getType(e)!==Be.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.undefined,received:r.parsedType}),tt}return In(e.data)}}Gh.create=t=>new Gh({typeName:rt.ZodUndefined,...dt(t)});class Yh extends pt{_parse(e){if(this._getType(e)!==Be.null){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.null,received:r.parsedType}),tt}return In(e.data)}}Yh.create=t=>new Yh({typeName:rt.ZodNull,...dt(t)});class Yd extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return In(e.data)}}Yd.create=t=>new Yd({typeName:rt.ZodAny,...dt(t)});class Al extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return In(e.data)}}Al.create=t=>new Al({typeName:rt.ZodUnknown,...dt(t)});class Pa extends pt{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Be.never,received:n.parsedType}),tt}}Pa.create=t=>new Pa({typeName:rt.ZodNever,...dt(t)});class px extends pt{_parse(e){if(this._getType(e)!==Be.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.void,received:r.parsedType}),tt}return In(e.data)}}px.create=t=>new px({typeName:rt.ZodVoid,...dt(t)});class ni extends pt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Be.array)return Me(n,{code:we.invalid_type,expected:Be.array,received:n.parsedType}),tt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Me(n,{code:o?we.too_big:we.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Me(n,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Me(n,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Bi(n,o,n.path,l)))).then(o=>gn.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Bi(n,o,n.path,l)));return gn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ni({...this._def,minLength:{value:e,message:qe.toString(n)}})}max(e,n){return new ni({...this._def,maxLength:{value:e,message:qe.toString(n)}})}length(e,n){return new ni({...this._def,exactLength:{value:e,message:qe.toString(n)}})}nonempty(e){return this.min(1,e)}}ni.create=(t,e)=>new ni({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...dt(e)});function wc(t){if(t instanceof cs){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ii.create(wc(r))}return new cs({...t._def,shape:()=>e})}else return t instanceof ni?new ni({...t._def,type:wc(t.element)}):t instanceof Ii?Ii.create(wc(t.unwrap())):t instanceof Eo?Eo.create(wc(t.unwrap())):t instanceof Vi?Vi.create(t.items.map(e=>wc(e))):t}class cs extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Be.object){const d=this._getOrReturnCtx(e);return Me(d,{code:we.invalid_type,expected:Be.object,received:d.parsedType}),tt}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pa&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Bi(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Pa){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Me(i,{code:we.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Bi(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>gn.mergeObjectSync(r,d)):gn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return qe.errToObj,new cs({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:qe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new cs({...this._def,unknownKeys:"strip"})}passthrough(){return new cs({...this._def,unknownKeys:"passthrough"})}extend(e){return new cs({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new cs({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new cs({...this._def,catchall:e})}pick(e){const n={};for(const r of Nt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new cs({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Nt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new cs({...this._def,shape:()=>n})}deepPartial(){return wc(this)}partial(e){const n={};for(const r of Nt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new cs({...this._def,shape:()=>n})}required(e){const n={};for(const r of Nt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ii;)a=a._def.innerType;n[r]=a}return new cs({...this._def,shape:()=>n})}keyof(){return sO(Nt.objectKeys(this.shape))}}cs.create=(t,e)=>new cs({shape:()=>t,unknownKeys:"strip",catchall:Pa.create(),typeName:rt.ZodObject,...dt(e)});cs.strictCreate=(t,e)=>new cs({shape:()=>t,unknownKeys:"strict",catchall:Pa.create(),typeName:rt.ZodObject,...dt(e)});cs.lazycreate=(t,e)=>new cs({shape:t,unknownKeys:"strip",catchall:Pa.create(),typeName:rt.ZodObject,...dt(e)});class Qh extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new dr(l.ctx.common.issues));return Me(n,{code:we.invalid_union,unionErrors:o}),tt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new dr(c));return Me(n,{code:we.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}Qh.create=(t,e)=>new Qh({options:t,typeName:rt.ZodUnion,...dt(e)});const Ji=t=>t instanceof Jh?Ji(t.schema):t instanceof ci?Ji(t.innerType()):t instanceof em?[t.value]:t instanceof Po?t.options:t instanceof tm?Nt.objectValues(t.enum):t instanceof sm?Ji(t._def.innerType):t instanceof Gh?[void 0]:t instanceof Yh?[null]:t instanceof Ii?[void 0,...Ji(t.unwrap())]:t instanceof Eo?[null,...Ji(t.unwrap())]:t instanceof t0||t instanceof rm?Ji(t.unwrap()):t instanceof nm?Ji(t._def.innerType):[];class Fg extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Be.object)return Me(n,{code:we.invalid_type,expected:Be.object,received:n.parsedType}),tt;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Me(n,{code:we.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=Ji(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Fg({typeName:rt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...dt(r)})}}function pb(t,e){const n=sa(t),r=sa(e);if(t===e)return{valid:!0,data:t};if(n===Be.object&&r===Be.object){const i=Nt.objectKeys(e),a=Nt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=pb(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Be.array&&r===Be.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=pb(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Be.date&&r===Be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xh extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(mb(a)||mb(o))return tt;const l=pb(a.value,o.value);return l.valid?((fb(a)||fb(o))&&n.dirty(),{status:n.value,value:l.data}):(Me(r,{code:we.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xh.create=(t,e,n)=>new Xh({left:t,right:e,typeName:rt.ZodIntersection,...dt(n)});class Vi extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.array)return Me(r,{code:we.invalid_type,expected:Be.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Me(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>gn.mergeArray(n,o)):gn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Vi({...this._def,rest:e})}}Vi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vi({items:t,typeName:rt.ZodTuple,rest:null,...dt(e)})};class Zh extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.object)return Me(r,{code:we.invalid_type,expected:Be.object,received:r.parsedType}),tt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Bi(r,l,r.path,l)),value:o._parse(new Bi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?gn.mergeObjectAsync(n,i):gn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof pt?new Zh({keyType:e,valueType:n,typeName:rt.ZodRecord,...dt(r)}):new Zh({keyType:ei.create(),valueType:e,typeName:rt.ZodRecord,...dt(n)})}}class xx extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.map)return Me(r,{code:we.invalid_type,expected:Be.map,received:r.parsedType}),tt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Bi(r,l,r.path,[d,"key"])),value:a._parse(new Bi(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return tt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return tt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}xx.create=(t,e,n)=>new xx({valueType:e,keyType:t,typeName:rt.ZodMap,...dt(n)});class Hl extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Be.set)return Me(r,{code:we.invalid_type,expected:Be.set,received:r.parsedType}),tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Me(r,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Me(r,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return tt;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Bi(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Hl({...this._def,minSize:{value:e,message:qe.toString(n)}})}max(e,n){return new Hl({...this._def,maxSize:{value:e,message:qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hl.create=(t,e)=>new Hl({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...dt(e)});class Qc extends pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Be.function)return Me(n,{code:we.invalid_type,expected:Be.function,received:n.parsedType}),tt;function r(l,c){return mx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hx(),Gd].filter(d=>!!d),issueData:{code:we.invalid_arguments,argumentsError:c}})}function i(l,c){return mx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hx(),Gd].filter(d=>!!d),issueData:{code:we.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Qd){const l=this;return In(async function(...c){const d=new dr([]),u=await l._def.args.parseAsync(c,a).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return In(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new dr([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new dr([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qc({...this._def,args:Vi.create(e).rest(Al.create())})}returns(e){return new Qc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Qc({args:e||Vi.create([]).rest(Al.create()),returns:n||Al.create(),typeName:rt.ZodFunction,...dt(r)})}}class Jh extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jh.create=(t,e)=>new Jh({getter:t,typeName:rt.ZodLazy,...dt(e)});class em extends pt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}em.create=(t,e)=>new em({value:t,typeName:rt.ZodLiteral,...dt(e)});function sO(t,e){return new Po({values:t,typeName:rt.ZodEnum,...dt(e)})}class Po extends pt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:Nt.joinValues(r),received:n.parsedType,code:we.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:we.invalid_enum_value,options:r}),tt}return In(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Po.create(e,{...this._def,...n})}exclude(e,n=this._def){return Po.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Po.create=sO;class tm extends pt{_parse(e){const n=Nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Be.string&&r.parsedType!==Be.number){const i=Nt.objectValues(n);return Me(r,{expected:Nt.joinValues(i),received:r.parsedType,code:we.invalid_type}),tt}if(this._cache||(this._cache=new Set(Nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Nt.objectValues(n);return Me(r,{received:r.data,code:we.invalid_enum_value,options:i}),tt}return In(e.data)}get enum(){return this._def.values}}tm.create=(t,e)=>new tm({values:t,typeName:rt.ZodNativeEnum,...dt(e)});class Qd extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Be.promise&&n.common.async===!1)return Me(n,{code:we.invalid_type,expected:Be.promise,received:n.parsedType}),tt;const r=n.parsedType===Be.promise?n.data:Promise.resolve(n.data);return In(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qd.create=(t,e)=>new Qd({type:t,typeName:rt.ZodPromise,...dt(e)});class ci extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Me(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||n.value==="dirty"?Ic(c.value):c});{if(n.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||n.value==="dirty"?Ic(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vl(o))return tt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Vl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):tt);Nt.assertNever(i)}}ci.create=(t,e,n)=>new ci({schema:t,typeName:rt.ZodEffects,effect:e,...dt(n)});ci.createWithPreprocess=(t,e,n)=>new ci({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...dt(n)});class Ii extends pt{_parse(e){return this._getType(e)===Be.undefined?In(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ii.create=(t,e)=>new Ii({innerType:t,typeName:rt.ZodOptional,...dt(e)});class Eo extends pt{_parse(e){return this._getType(e)===Be.null?In(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eo.create=(t,e)=>new Eo({innerType:t,typeName:rt.ZodNullable,...dt(e)});class sm extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sm.create=(t,e)=>new sm({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class nm extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nm.create=(t,e)=>new nm({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class gx extends pt{_parse(e){if(this._getType(e)!==Be.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Be.nan,received:r.parsedType}),tt}return{status:"valid",value:e.data}}}gx.create=t=>new gx({typeName:rt.ZodNaN,...dt(t)});const AG=Symbol("zod_brand");class t0 extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class lf extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(n.dirty(),Ic(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new lf({in:e,out:n,typeName:rt.ZodPipeline})}}class rm extends pt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Vl(i)&&(i.value=Object.freeze(i.value)),i);return Wh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}rm.create=(t,e)=>new rm({innerType:t,typeName:rt.ZodReadonly,...dt(e)});function b2(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function s0(t,e={},n){return t?Yd.create().superRefine((r,i)=>{const a=t(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=b2(e,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=b2(e,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):Yd.create()}const FG={object:cs.lazycreate};var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const nO=(t,e={message:`Input not instance of ${t.name}`})=>s0(n=>n instanceof t,e),se=ei.create,Qs=_o.create,RG=gx.create,DG=ko.create,ya=Kh.create,IG=zl.create,OG=fx.create,MG=Gh.create,rO=Yh.create,Fl=Yd.create,LG=Al.create,$G=Pa.create,UG=px.create,di=ni.create,Zn=cs.create,BG=cs.strictCreate,n0=Qh.create,VG=Fg.create,zG=Xh.create,HG=Vi.create,iO=Zh.create,qG=xx.create,WG=Hl.create,KG=Qc.create,GG=Jh.create,Or=em.create,Zs=Po.create,YG=tm.create,QG=Qd.create,w2=ci.create,XG=Ii.create,ZG=Eo.create,JG=ci.createWithPreprocess,eY=lf.create,tY=()=>se().optional(),sY=()=>Qs().optional(),nY=()=>ya().optional(),An={string:t=>ei.create({...t,coerce:!0}),number:t=>_o.create({...t,coerce:!0}),boolean:t=>Kh.create({...t,coerce:!0}),bigint:t=>ko.create({...t,coerce:!0}),date:t=>zl.create({...t,coerce:!0})},rY=tt,iY=Object.freeze(Object.defineProperty({__proto__:null,BRAND:AG,DIRTY:Ic,EMPTY_PATH:cG,INVALID:tt,NEVER:rY,OK:In,ParseStatus:gn,Schema:pt,ZodAny:Yd,ZodArray:ni,ZodBigInt:ko,ZodBoolean:Kh,ZodBranded:t0,ZodCatch:nm,ZodDate:zl,ZodDefault:sm,ZodDiscriminatedUnion:Fg,ZodEffects:ci,ZodEnum:Po,ZodError:dr,get ZodFirstPartyTypeKind(){return rt},ZodFunction:Qc,ZodIntersection:Xh,ZodIssueCode:we,ZodLazy:Jh,ZodLiteral:em,ZodMap:xx,ZodNaN:gx,ZodNativeEnum:tm,ZodNever:Pa,ZodNull:Yh,ZodNullable:Eo,ZodNumber:_o,ZodObject:cs,ZodOptional:Ii,ZodParsedType:Be,ZodPipeline:lf,ZodPromise:Qd,ZodReadonly:rm,ZodRecord:Zh,ZodSchema:pt,ZodSet:Hl,ZodString:ei,ZodSymbol:fx,ZodTransformer:ci,ZodTuple:Vi,ZodType:pt,ZodUndefined:Gh,ZodUnion:Qh,ZodUnknown:Al,ZodVoid:px,addIssueToContext:Me,any:Fl,array:di,bigint:DG,boolean:ya,coerce:An,custom:s0,date:IG,datetimeRegex:tO,defaultErrorMap:Gd,discriminatedUnion:VG,effect:w2,enum:Zs,function:KG,getErrorMap:hx,getParsedType:sa,instanceof:nO,intersection:zG,isAborted:mb,isAsync:Wh,isDirty:fb,isValid:Vl,late:FG,lazy:GG,literal:Or,makeIssue:mx,map:qG,nan:RG,nativeEnum:YG,never:$G,null:rO,nullable:ZG,number:Qs,object:Zn,get objectUtil(){return hb},oboolean:nY,onumber:sY,optional:XG,ostring:tY,pipeline:eY,preprocess:JG,promise:QG,quotelessJson:oG,record:iO,set:WG,setErrorMap:lG,strictObject:BG,string:se,symbol:OG,transformer:w2,tuple:HG,undefined:MG,union:n0,unknown:LG,get util(){return Nt},void:UG},Symbol.toStringTag,{value:"Module"}));var aY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oY=aY.reduce((t,e)=>{const n=sf(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lY="Separator",N2="horizontal",cY=["horizontal","vertical"],aO=f.forwardRef((t,e)=>{const{decorative:n,orientation:r=N2,...i}=t,a=dY(r)?r:N2,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(oY.div,{"data-orientation":a,...l,...i,ref:e})});aO.displayName=lY;function dY(t){return cY.includes(t)}var oO=aO;const Je=f.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(oO,{ref:i,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Je.displayName=oO.displayName;function uY(t){const e=hY(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(fY);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function hY(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=xY(i),l=pY(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mY=Symbol("radix.slottable");function fY(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mY}function pY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function xY(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Rg="Dialog",[lO,cO]=yn(Rg),[gY,mi]=lO(Rg),dO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=f.useRef(null),c=f.useRef(null),[d,u]=hr({prop:r,defaultProp:i??!1,onChange:a,caller:Rg});return s.jsx(gY,{scope:e,triggerRef:l,contentRef:c,contentId:lr(),titleId:lr(),descriptionId:lr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};dO.displayName=Rg;var uO="DialogTrigger",hO=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mi(uO,n),a=lt(e,i.triggerRef);return s.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":a0(i.open),...r,ref:a,onClick:Ce(t.onClick,i.onOpenToggle)})});hO.displayName=uO;var r0="DialogPortal",[yY,mO]=lO(r0,{forceMount:void 0}),fO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=mi(r0,e);return s.jsx(yY,{scope:e,forceMount:n,children:f.Children.map(r,o=>s.jsx(ln,{present:n||a.open,children:s.jsx(Qm,{asChild:!0,container:i,children:o})}))})};fO.displayName=r0;var yx="DialogOverlay",pO=f.forwardRef((t,e)=>{const n=mO(yx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=mi(yx,t.__scopeDialog);return a.modal?s.jsx(ln,{present:r||a.open,children:s.jsx(jY,{...i,ref:e})}):null});pO.displayName=yx;var vY=uY("DialogOverlay.RemoveScroll"),jY=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mi(yx,n);return s.jsx(_g,{as:vY,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(We.div,{"data-state":a0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ql="DialogContent",xO=f.forwardRef((t,e)=>{const n=mO(ql,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=mi(ql,t.__scopeDialog);return s.jsx(ln,{present:r||a.open,children:a.modal?s.jsx(bY,{...i,ref:e}):s.jsx(wY,{...i,ref:e})})});xO.displayName=ql;var bY=f.forwardRef((t,e)=>{const n=mi(ql,t.__scopeDialog),r=f.useRef(null),i=lt(e,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return UN(a)},[]),s.jsx(gO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault())})}),wY=f.forwardRef((t,e)=>{const n=mi(ql,t.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return s.jsx(gO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),gO=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=mi(ql,n),c=f.useRef(null),d=lt(e,c);return $N(),s.jsxs(s.Fragment,{children:[s.jsx(Ng,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(lu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":a0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(SY,{titleId:l.titleId}),s.jsx(_Y,{contentRef:c,descriptionId:l.descriptionId})]})]})}),i0="DialogTitle",yO=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mi(i0,n);return s.jsx(We.h2,{id:i.titleId,...r,ref:e})});yO.displayName=i0;var vO="DialogDescription",jO=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mi(vO,n);return s.jsx(We.p,{id:i.descriptionId,...r,ref:e})});jO.displayName=vO;var bO="DialogClose",wO=f.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mi(bO,n);return s.jsx(We.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});wO.displayName=bO;function a0(t){return t?"open":"closed"}var NO="DialogTitleWarning",[NY,SO]=tV(NO,{contentName:ql,titleName:i0,docsSlug:"dialog"}),SY=({titleId:t})=>{const e=SO(NO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},CY="DialogDescriptionWarning",_Y=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SO(CY).contentName}}.`;return f.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CO=dO,_O=hO,kO=fO,o0=pO,l0=xO,c0=yO,d0=jO,u0=wO;const Qt=CO,PO=_O,kY=kO,EO=f.forwardRef(({className:t,...e},n)=>s.jsx(o0,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));EO.displayName=o0.displayName;const Wt=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(kY,{children:[s.jsx(EO,{}),s.jsxs(l0,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(u0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ef,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wt.displayName=l0.displayName;const Xt=({className:t,...e})=>s.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xt.displayName="DialogHeader";const hn=({className:t,...e})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hn.displayName="DialogFooter";const Zt=f.forwardRef(({className:t,...e},n)=>s.jsx(c0,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Zt.displayName=c0.displayName;const ss=f.forwardRef(({className:t,...e},n)=>s.jsx(d0,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));ss.displayName=d0.displayName;const q=f.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Ee("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));q.displayName="Input";const ns=f.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));ns.displayName="Textarea";var PY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EY=PY.reduce((t,e)=>{const n=sf(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),TY="Label",TO=f.forwardRef((t,e)=>s.jsx(EY.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TO.displayName=TY;var AO=TO;const AY=Zm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=f.forwardRef(({className:t,...e},n)=>s.jsx(AO,{ref:n,className:Ee(AY(),t),...e}));pe.displayName=AO.displayName;const Qr=$K,FO=f.createContext({}),ae=({...t})=>s.jsx(FO.Provider,{value:{name:t.name},children:s.jsx(zK,{...t})}),Dg=()=>{const t=f.useContext(FO),e=f.useContext(RO),{getFieldState:n,formState:r}=Ag(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},RO=f.createContext({}),ne=f.forwardRef(({className:t,...e},n)=>{const r=f.useId();return s.jsx(RO.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Ee("space-y-2",t),...e})})});ne.displayName="FormItem";const re=f.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Dg();return s.jsx(pe,{ref:n,className:Ee(r&&"text-destructive",t),htmlFor:i,...e})});re.displayName="FormLabel";const oe=f.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Dg();return s.jsx(vD,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});oe.displayName="FormControl";const Es=f.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Dg();return s.jsx("p",{ref:n,id:r,className:Ee("text-sm text-muted-foreground",t),...e})});Es.displayName="FormDescription";const ce=f.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=Dg(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:Ee("text-sm font-medium text-destructive",t),...n,children:o}):null});ce.displayName="FormMessage";const FY=Zn({firstName:se().min(1,"First name is required"),lastName:se().min(1,"Last name is required"),email:se().email("Valid email is required"),subject:se().min(1,"Subject is required"),message:se().min(10,"Message must be at least 10 characters")});function RY(){const[t,e]=f.useState(!1),{toast:n}=$t(),r=nr({resolver:rr(FY),defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:""}}),i=De({mutationFn:async a=>await Ae("POST","/api/contact",a),onSuccess:()=>{n({title:"Message sent",description:"We'll get back to you as soon as possible."}),r.reset(),e(!1)},onError:a=>{n({title:"Error",description:a.message||"Failed to send message",variant:"destructive"})}});return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"mt-auto border-t bg-muted/30",children:s.jsx("div",{className:"container px-4 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Ready Set Fly. All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[s.jsx("button",{onClick:()=>e(!0),className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"button-contact-us",children:"Contact Us"}),s.jsx(Je,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(at,{href:"/privacy-policy",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-privacy-policy",children:"Privacy Policy"}),s.jsx(Je,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(at,{href:"/terms-of-service",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-terms-of-service",children:"Terms of Service"}),s.jsx(Je,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(at,{href:"/delete-account",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-delete-account",children:"Delete Account"})]})]})})}),s.jsx(Qt,{open:t,onOpenChange:e,children:s.jsxs(Wt,{className:"max-w-md","data-testid":"dialog-contact-us",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Contact Us"}),s.jsx(ss,{children:"Have a question or feedback? Send us a message and we'll get back to you soon."})]}),s.jsx(Qr,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(a=>i.mutate(a)),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:r.control,name:"firstName",render:({field:a})=>s.jsxs(ne,{children:[s.jsx(re,{children:"First Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"John",...a,"data-testid":"input-contact-first-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:r.control,name:"lastName",render:({field:a})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Last Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Doe",...a,"data-testid":"input-contact-last-name"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:r.control,name:"email",render:({field:a})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Email"}),s.jsx(oe,{children:s.jsx(q,{type:"email",placeholder:"john@example.com",...a,"data-testid":"input-contact-email"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:r.control,name:"subject",render:({field:a})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Subject"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"How can we help?",...a,"data-testid":"input-contact-subject"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:r.control,name:"message",render:({field:a})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Message"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Tell us what's on your mind...",className:"min-h-[120px]",...a,"data-testid":"textarea-contact-message"})}),s.jsx(ce,{})]})}),s.jsxs(hn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{e(!1),r.reset()},"data-testid":"button-cancel-contact",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:i.isPending,"data-testid":"button-submit-contact",children:i.isPending?"Sending...":"Send Message"})]})]})})]})})]})}function xb(t,[e,n]){return Math.min(n,Math.max(e,t))}function DY(t){const e=IY(t),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(MY);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function IY(t){const e=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=$Y(i),l=LY(a,i.props);return i.type!==f.Fragment&&(l.ref=r?Aa(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OY=Symbol("radix.slottable");function MY(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OY}function LY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function $Y(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function h0(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var UY=[" ","Enter","ArrowUp","ArrowDown"],BY=[" ","Enter"],Wl="Select",[Ig,Og,VY]=Ym(Wl),[fu]=yn(Wl,[VY,hu]),Mg=hu(),[zY,Vo]=fu(Wl),[HY,qY]=fu(Wl),DO=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:x,form:v}=t,b=Mg(e),[g,p]=f.useState(null),[j,w]=f.useState(null),[N,P]=f.useState(!1),S=mu(d),[C,k]=hr({prop:r,defaultProp:i??!1,onChange:a,caller:Wl}),[D,F]=hr({prop:o,defaultProp:l,onChange:c,caller:Wl}),L=f.useRef(null),B=g?v||!!g.closest("form"):!0,[Y,Q]=f.useState(new Set),H=Array.from(Y).map(le=>le.props.value).join(";");return s.jsx(AN,{...b,children:s.jsxs(zY,{required:x,scope:e,trigger:g,onTriggerChange:p,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:lr(),value:D,onValueChange:F,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:L,disabled:m,children:[s.jsx(Ig.Provider,{scope:e,children:s.jsx(HY,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(le=>{Q(he=>new Set(he).add(le))},[]),onNativeOptionRemove:f.useCallback(le=>{Q(he=>{const z=new Set(he);return z.delete(le),z})},[]),children:n})}),B?s.jsxs(rM,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:D,onChange:le=>F(le.target.value),disabled:m,form:v,children:[D===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},H):null]})})};DO.displayName=Wl;var IO="SelectTrigger",OO=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Mg(n),o=Vo(IO,n),l=o.disabled||r,c=lt(e,o.onTriggerChange),d=Og(n),u=f.useRef("touch"),[h,m,x]=aM(b=>{const g=d().filter(w=>!w.disabled),p=g.find(w=>w.value===o.value),j=oM(g,b,p);j!==void 0&&o.onValueChange(j.value)}),v=b=>{l||(o.onOpenChange(!0),x()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(FN,{asChild:!0,...a,children:s.jsx(We.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iM(o.value)?"":void 0,...i,ref:c,onClick:Ce(i.onClick,b=>{b.currentTarget.focus(),u.current!=="mouse"&&v(b)}),onPointerDown:Ce(i.onPointerDown,b=>{u.current=b.pointerType;const g=b.target;g.hasPointerCapture(b.pointerId)&&g.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:Ce(i.onKeyDown,b=>{const g=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(g&&b.key===" ")&&UY.includes(b.key)&&(v(),b.preventDefault())})})})});OO.displayName=IO;var MO="SelectValue",LO=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=Vo(MO,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=lt(e,c.onValueNodeChange);return vs(()=>{d(u)},[d,u]),s.jsx(We.span,{...l,ref:h,style:{pointerEvents:"none"},children:iM(c.value)?s.jsx(s.Fragment,{children:o}):a})});LO.displayName=MO;var WY="SelectIcon",$O=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(We.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});$O.displayName=WY;var KY="SelectPortal",UO=t=>s.jsx(Qm,{asChild:!0,...t});UO.displayName=KY;var Kl="SelectContent",BO=f.forwardRef((t,e)=>{const n=Vo(Kl,t.__scopeSelect),[r,i]=f.useState();if(vs(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?ec.createPortal(s.jsx(VO,{scope:t.__scopeSelect,children:s.jsx(Ig.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(zO,{...t,ref:e})});BO.displayName=Kl;var Dr=10,[VO,zo]=fu(Kl),GY="SelectContentImpl",YY=DY("SelectContent.RemoveScroll"),zO=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:v,hideWhenDetached:b,avoidCollisions:g,...p}=t,j=Vo(Kl,n),[w,N]=f.useState(null),[P,S]=f.useState(null),C=lt(e,je=>N(je)),[k,D]=f.useState(null),[F,L]=f.useState(null),B=Og(n),[Y,Q]=f.useState(!1),H=f.useRef(!1);f.useEffect(()=>{if(w)return UN(w)},[w]),$N();const le=f.useCallback(je=>{const[Ue,...ie]=B().map(ge=>ge.ref.current),[ue]=ie.slice(-1),Te=document.activeElement;for(const ge of je)if(ge===Te||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Ue&&P&&(P.scrollTop=0),ge===ue&&P&&(P.scrollTop=P.scrollHeight),ge==null||ge.focus(),document.activeElement!==Te))return},[B,P]),he=f.useCallback(()=>le([k,w]),[le,k,w]);f.useEffect(()=>{Y&&he()},[Y,he]);const{onOpenChange:z,triggerPointerDownPosRef:R}=j;f.useEffect(()=>{if(w){let je={x:0,y:0};const Ue=ue=>{var Te,ge;je={x:Math.abs(Math.round(ue.pageX)-(((Te=R.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ge=R.current)==null?void 0:ge.y)??0))}},ie=ue=>{je.x<=10&&je.y<=10?ue.preventDefault():w.contains(ue.target)||z(!1),document.removeEventListener("pointermove",Ue),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ie,{capture:!0})}}},[w,z,R]),f.useEffect(()=>{const je=()=>z(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[z]);const[I,de]=aM(je=>{const Ue=B().filter(Te=>!Te.disabled),ie=Ue.find(Te=>Te.ref.current===document.activeElement),ue=oM(Ue,je,ie);ue&&setTimeout(()=>ue.ref.current.focus())}),A=f.useCallback((je,Ue,ie)=>{const ue=!H.current&&!ie;(j.value!==void 0&&j.value===Ue||ue)&&(D(je),ue&&(H.current=!0))},[j.value]),xe=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Le=f.useCallback((je,Ue,ie)=>{const ue=!H.current&&!ie;(j.value!==void 0&&j.value===Ue||ue)&&L(je)},[j.value]),it=r==="popper"?gb:HO,Qe=it===gb?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:v,hideWhenDetached:b,avoidCollisions:g}:{};return s.jsx(VO,{scope:n,content:w,viewport:P,onViewportChange:S,itemRefCallback:A,selectedItem:k,onItemLeave:xe,itemTextRefCallback:Le,focusSelectedItem:he,selectedItemText:F,position:r,isPositioned:Y,searchRef:I,children:s.jsx(_g,{as:YY,allowPinchZoom:!0,children:s.jsx(Ng,{asChild:!0,trapped:j.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:Ce(i,je=>{var Ue;(Ue=j.trigger)==null||Ue.focus({preventScroll:!0}),je.preventDefault()}),children:s.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:s.jsx(it,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:je=>je.preventDefault(),...p,...Qe,onPlaced:()=>Q(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Ce(p.onKeyDown,je=>{const Ue=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Ue&&je.key.length===1&&de(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let ue=B().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(je.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Te=je.target,ge=ue.indexOf(Te);ue=ue.slice(ge+1)}setTimeout(()=>le(ue)),je.preventDefault()}})})})})})})});zO.displayName=GY;var QY="SelectItemAlignedPosition",HO=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Vo(Kl,n),o=zo(Kl,n),[l,c]=f.useState(null),[d,u]=f.useState(null),h=lt(e,C=>u(C)),m=Og(n),x=f.useRef(!1),v=f.useRef(!0),{viewport:b,selectedItem:g,selectedItemText:p,focusSelectedItem:j}=o,w=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&b&&g&&p){const C=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),F=p.getBoundingClientRect();if(a.dir!=="rtl"){const Te=F.left-k.left,ge=D.left-Te,Ke=C.left-ge,ot=C.width+Ke,Tt=Math.max(ot,k.width),qt=window.innerWidth-Dr,Mt=xb(ge,[Dr,Math.max(Dr,qt-Tt)]);l.style.minWidth=ot+"px",l.style.left=Mt+"px"}else{const Te=k.right-F.right,ge=window.innerWidth-D.right-Te,Ke=window.innerWidth-C.right-ge,ot=C.width+Ke,Tt=Math.max(ot,k.width),qt=window.innerWidth-Dr,Mt=xb(ge,[Dr,Math.max(Dr,qt-Tt)]);l.style.minWidth=ot+"px",l.style.right=Mt+"px"}const L=m(),B=window.innerHeight-Dr*2,Y=b.scrollHeight,Q=window.getComputedStyle(d),H=parseInt(Q.borderTopWidth,10),le=parseInt(Q.paddingTop,10),he=parseInt(Q.borderBottomWidth,10),z=parseInt(Q.paddingBottom,10),R=H+le+Y+z+he,I=Math.min(g.offsetHeight*5,R),de=window.getComputedStyle(b),A=parseInt(de.paddingTop,10),xe=parseInt(de.paddingBottom,10),Le=C.top+C.height/2-Dr,it=B-Le,Qe=g.offsetHeight/2,je=g.offsetTop+Qe,Ue=H+le+je,ie=R-Ue;if(Ue<=Le){const Te=L.length>0&&g===L[L.length-1].ref.current;l.style.bottom="0px";const ge=d.clientHeight-b.offsetTop-b.offsetHeight,Ke=Math.max(it,Qe+(Te?xe:0)+ge+he),ot=Ue+Ke;l.style.height=ot+"px"}else{const Te=L.length>0&&g===L[0].ref.current;l.style.top="0px";const Ke=Math.max(Le,H+b.offsetTop+(Te?A:0)+Qe)+ie;l.style.height=Ke+"px",b.scrollTop=Ue-Le+b.offsetTop}l.style.margin=`${Dr}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,d,b,g,p,a.dir,r]);vs(()=>w(),[w]);const[N,P]=f.useState();vs(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const S=f.useCallback(C=>{C&&v.current===!0&&(w(),j==null||j(),v.current=!1)},[w,j]);return s.jsx(ZY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(We.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HO.displayName=QY;var XY="SelectPopperPosition",gb=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Dr,...a}=t,o=Mg(n);return s.jsx(RN,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gb.displayName=XY;var[ZY,m0]=fu(Kl,{}),yb="SelectViewport",qO=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=zo(yb,n),o=m0(yb,n),l=lt(e,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Ig.Slot,{scope:n,children:s.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const v=window.innerHeight-Dr*2,b=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),p=Math.max(b,g);if(p<v){const j=p+x,w=Math.min(v,j),N=j-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});qO.displayName=yb;var WO="SelectGroup",[JY,eQ]=fu(WO),tQ=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lr();return s.jsx(JY,{scope:n,id:i,children:s.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:e})})});tQ.displayName=WO;var KO="SelectLabel",GO=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=eQ(KO,n);return s.jsx(We.div,{id:i.id,...r,ref:e})});GO.displayName=KO;var vx="SelectItem",[sQ,YO]=fu(vx),QO=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=Vo(vx,n),c=zo(vx,n),d=l.value===r,[u,h]=f.useState(a??""),[m,x]=f.useState(!1),v=lt(e,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,r,i)}),b=lr(),g=f.useRef("touch"),p=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(sQ,{scope:n,value:r,disabled:i,textId:b,isSelected:d,onItemTextChange:f.useCallback(j=>{h(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:s.jsx(Ig.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:s.jsx(We.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ce(o.onFocus,()=>x(!0)),onBlur:Ce(o.onBlur,()=>x(!1)),onClick:Ce(o.onClick,()=>{g.current!=="mouse"&&p()}),onPointerUp:Ce(o.onPointerUp,()=>{g.current==="mouse"&&p()}),onPointerDown:Ce(o.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:Ce(o.onPointerMove,j=>{var w;g.current=j.pointerType,i?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ce(o.onKeyDown,j=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&j.key===" "||(BY.includes(j.key)&&p(),j.key===" "&&j.preventDefault())})})})})});QO.displayName=vx;var Gu="SelectItemText",XO=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Vo(Gu,n),l=zo(Gu,n),c=YO(Gu,n),d=qY(Gu,n),[u,h]=f.useState(null),m=lt(e,p=>h(p),c.onItemTextChange,p=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,p,c.value,c.disabled)}),x=u==null?void 0:u.textContent,v=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:g}=d;return vs(()=>(b(v),()=>g(v)),[b,g,v]),s.jsxs(s.Fragment,{children:[s.jsx(We.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ec.createPortal(a.children,o.valueNode):null]})});XO.displayName=Gu;var ZO="SelectItemIndicator",JO=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return YO(ZO,n).isSelected?s.jsx(We.span,{"aria-hidden":!0,...r,ref:e}):null});JO.displayName=ZO;var vb="SelectScrollUpButton",eM=f.forwardRef((t,e)=>{const n=zo(vb,t.__scopeSelect),r=m0(vb,t.__scopeSelect),[i,a]=f.useState(!1),o=lt(e,r.onScrollButtonChange);return vs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(sM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});eM.displayName=vb;var jb="SelectScrollDownButton",tM=f.forwardRef((t,e)=>{const n=zo(jb,t.__scopeSelect),r=m0(jb,t.__scopeSelect),[i,a]=f.useState(!1),o=lt(e,r.onScrollButtonChange);return vs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(sM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tM.displayName=jb;var sM=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=zo("SelectScrollButton",n),o=f.useRef(null),l=Og(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),vs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(We.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{c()})})}),nQ="SelectSeparator",nM=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(We.div,{"aria-hidden":!0,...r,ref:e})});nM.displayName=nQ;var bb="SelectArrow",rQ=f.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Mg(n),a=Vo(bb,n),o=zo(bb,n);return a.open&&o.position==="popper"?s.jsx(DN,{...i,...r,ref:e}):null});rQ.displayName=bb;var iQ="SelectBubbleInput",rM=f.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=f.useRef(null),a=lt(r,i),o=h0(e);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(We.select,{...n,style:{...eR,...n.style},ref:a,defaultValue:e})});rM.displayName=iQ;function iM(t){return t===""||t===void 0}function aM(t){const e=gs(t),n=f.useRef(""),r=f.useRef(0),i=f.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function oM(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=aQ(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function aQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oQ=DO,lM=OO,lQ=LO,cQ=$O,dQ=UO,cM=BO,uQ=qO,dM=GO,uM=QO,hQ=XO,mQ=JO,hM=eM,mM=tM,fM=nM;const Vs=oQ,zs=lQ,As=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(lM,{ref:r,className:Ee("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(cQ,{asChild:!0,children:s.jsx(Wc,{className:"h-4 w-4 opacity-50"})})]}));As.displayName=lM.displayName;const pM=f.forwardRef(({className:t,...e},n)=>s.jsx(hM,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(iz,{className:"h-4 w-4"})}));pM.displayName=hM.displayName;const xM=f.forwardRef(({className:t,...e},n)=>s.jsx(mM,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Wc,{className:"h-4 w-4"})}));xM.displayName=mM.displayName;const Fs=f.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(dQ,{children:s.jsxs(cM,{ref:i,className:Ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(pM,{}),s.jsx(uQ,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(xM,{})]})}));Fs.displayName=cM.displayName;const fQ=f.forwardRef(({className:t,...e},n)=>s.jsx(dM,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));fQ.displayName=dM.displayName;const Pe=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(uM,{ref:r,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mQ,{children:s.jsx(Uh,{className:"h-4 w-4"})})}),s.jsx(hQ,{children:e})]}));Pe.displayName=uM.displayName;const pQ=f.forwardRef(({className:t,...e},n)=>s.jsx(fM,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));pQ.displayName=fM.displayName;const $=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));$.displayName="Card";const X=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));X.displayName="CardHeader";const J=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));J.displayName="CardTitle";const ke=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));ke.displayName="CardDescription";const U=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));U.displayName="CardContent";const f0=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));f0.displayName="CardFooter";function xQ({id:t,make:e,model:n,year:r,hourlyRate:i,image:a,location:o,certifications:l,totalTime:c,avionics:d,insuranceIncluded:u,responseTime:h,acceptanceRate:m,viewCount:x=0,onCardClick:v}){return s.jsxs($,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02] cursor-pointer",onClick:v,"data-testid":`card-aircraft-${t}`,children:[s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden rounded-t-xl",children:[s.jsx("img",{src:a,alt:`${r} ${e} ${n}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:l.map(b=>s.jsx(G,{className:"bg-chart-2 text-white text-xs font-semibold","data-testid":`badge-cert-${b}`,children:b},b))}),s.jsx(O,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-background/80 backdrop-blur hover:bg-background","data-testid":`button-favorite-${t}`,"aria-label":"Add to favorites",children:s.jsx(mh,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs(G,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Verified Owner"]})})]}),s.jsxs(U,{className:"p-6",children:[s.jsxs("h3",{className:"font-display text-xl font-semibold mb-1 hover:text-primary transition-colors","data-testid":`title-aircraft-${t}`,children:[r," ",e," ",n]}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold","data-testid":`text-rate-${t}`,children:["$",i]}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"/hour"}),u&&s.jsx(G,{variant:"outline",className:"text-xs",children:"Insurance Included"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_R,{className:"h-4 w-4"}),s.jsxs("span",{children:[r," | ",c.toLocaleString()," hrs | ",d]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rl,{className:"h-4 w-4"}),s.jsx("span",{children:o})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t text-xs text-muted-foreground",children:[s.jsxs("span",{children:[x," views"]}),s.jsxs("span",{children:["Response: ",h,"h"]}),s.jsxs("span",{children:["Acceptance: ",m,"%"]})]})]})]})}var Lg="Checkbox",[gQ]=yn(Lg),[yQ,p0]=gQ(Lg);function vQ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[m,x]=hr({prop:n,defaultProp:i??!1,onChange:c,caller:Lg}),[v,b]=f.useState(null),[g,p]=f.useState(null),j=f.useRef(!1),w=v?!!o||!!v.closest("form"):!0,N={checked:m,disabled:a,setChecked:x,control:v,setControl:b,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:bo(i)?!1:i,isFormControl:w,bubbleInput:g,setBubbleInput:p};return s.jsx(yQ,{scope:e,...N,children:jQ(h)?h(N):r})}var gM="CheckboxTrigger",yM=f.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:v}=p0(gM,t),b=lt(i,u),g=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const j=()=>h(g.current);return p.addEventListener("reset",j),()=>p.removeEventListener("reset",j)}},[a,h]),s.jsx(We.button,{type:"button",role:"checkbox","aria-checked":bo(c)?"mixed":c,"aria-required":d,"data-state":NM(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:b,onKeyDown:Ce(e,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:Ce(n,p=>{h(j=>bo(j)?!0:!j),v&&x&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});yM.displayName=gM;var x0=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return s.jsx(vQ,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(yM,{...h,ref:e,__scopeCheckbox:n}),m&&s.jsx(wM,{__scopeCheckbox:n})]})})});x0.displayName=Lg;var vM="CheckboxIndicator",jM=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=p0(vM,n);return s.jsx(ln,{present:r||bo(a.checked)||a.checked===!0,children:s.jsx(We.span,{"data-state":NM(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});jM.displayName=vM;var bM="CheckboxBubbleInput",wM=f.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:x}=p0(bM,t),v=lt(n,x),b=h0(a),g=PN(r);f.useEffect(()=>{const j=m;if(!j)return;const w=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(w,"checked").set,S=!i.current;if(b!==a&&P){const C=new Event("click",{bubbles:S});j.indeterminate=bo(a),P.call(j,bo(a)?!1:a),j.dispatchEvent(C)}},[m,b,a,i]);const p=f.useRef(bo(a)?!1:a);return s.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:v,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wM.displayName=bM;function jQ(t){return typeof t=="function"}function bo(t){return t==="indeterminate"}function NM(t){return bo(t)?"indeterminate":t?"checked":"unchecked"}const Ls=f.forwardRef(({className:t,...e},n)=>s.jsx(x0,{ref:n,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(jM,{className:Ee("flex items-center justify-center text-current"),children:s.jsx(Uh,{className:"h-4 w-4"})})}));Ls.displayName=x0.displayName;var $g="Collapsible",[bQ,SM]=yn($g),[wQ,g0]=bQ($g),CM=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=hr({prop:r,defaultProp:i??!1,onChange:o,caller:$g});return s.jsx(wQ,{scope:n,disabled:a,contentId:lr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(We.div,{"data-state":b0(c),"data-disabled":a?"":void 0,...l,ref:e})})});CM.displayName=$g;var _M="CollapsibleTrigger",y0=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=g0(_M,n);return s.jsx(We.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":b0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ce(t.onClick,i.onOpenToggle)})});y0.displayName=_M;var v0="CollapsibleContent",j0=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=g0(v0,t.__scopeCollapsible);return s.jsx(ln,{present:n||i.open,children:({present:a})=>s.jsx(NQ,{...r,ref:e,present:a})})});j0.displayName=v0;var NQ=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,o=g0(v0,n),[l,c]=f.useState(r),d=f.useRef(null),u=lt(e,d),h=f.useRef(0),m=h.current,x=f.useRef(0),v=x.current,b=o.open||l,g=f.useRef(b),p=f.useRef(void 0);return f.useEffect(()=>{const j=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(j)},[]),vs(()=>{const j=d.current;if(j){p.current=p.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const w=j.getBoundingClientRect();h.current=w.height,x.current=w.width,g.current||(j.style.transitionDuration=p.current.transitionDuration,j.style.animationName=p.current.animationName),c(r)}},[o.open,r]),s.jsx(We.div,{"data-state":b0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:b&&i})});function b0(t){return t?"open":"closed"}var kM=CM,SQ=y0,CQ=j0;const yv=kM,vv=y0,jv=j0,_Q=["PPL","IR","CPL","Multi-Engine","ATP"],kQ=["Single-Engine","Multi-Engine","Jet","Turboprop","Helicopter"],PQ=["Garmin G1000","Garmin G500","Aspen","Steam Gauges"];function EQ({keyword:t,setKeyword:e,city:n,setCity:r,state:i,setState:a,radius:o,setRadius:l,onClearAll:c}){return s.jsxs("div",{className:"space-y-6","data-testid":"aircraft-filters",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Filters"}),s.jsx(O,{variant:"outline",className:"w-full","data-testid":"button-clear-filters",onClick:c,children:"Clear All"})]}),s.jsx(Je,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{className:"text-sm font-semibold",children:"Search Aircraft"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{placeholder:"e.g., Cessna 172, Piper Archer",value:t,onChange:d=>e(d.target.value),className:"pl-10","data-testid":"input-keyword-search"})]})]}),s.jsx(Je,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(pe,{className:"text-sm font-semibold",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-xs text-muted-foreground mb-1.5 block",children:"City"}),s.jsx(q,{placeholder:"Enter city",value:n,onChange:d=>r(d.target.value),"data-testid":"input-city"})]}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-xs text-muted-foreground mb-1.5 block",children:"State"}),s.jsx(q,{placeholder:"e.g., CA, TX, FL",value:i,onChange:d=>a(d.target.value),maxLength:2,"data-testid":"input-state"})]}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-xs text-muted-foreground mb-1.5 block",children:"Radius"}),s.jsxs(Vs,{value:o,onValueChange:l,children:[s.jsx(As,{"data-testid":"select-radius",children:s.jsx(zs,{})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"25",children:"25 miles"}),s.jsx(Pe,{value:"50",children:"50 miles"}),s.jsx(Pe,{value:"100",children:"100 miles"}),s.jsx(Pe,{value:"200",children:"200 miles"}),s.jsx(Pe,{value:"500",children:"500 miles"})]})]})]})]})]}),s.jsx(Je,{}),s.jsxs(yv,{defaultOpen:!0,children:[s.jsxs(vv,{className:"flex items-center justify-between w-full",children:[s.jsx(pe,{className:"text-sm font-semibold cursor-pointer",children:"Certifications Required"}),s.jsx(Wc,{className:"h-4 w-4"})]}),s.jsx(jv,{className:"space-y-3 mt-3",children:_Q.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:`cert-${d}`,"data-testid":`checkbox-cert-${d}`}),s.jsx("label",{htmlFor:`cert-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(Je,{}),s.jsxs(yv,{defaultOpen:!0,children:[s.jsxs(vv,{className:"flex items-center justify-between w-full",children:[s.jsx(pe,{className:"text-sm font-semibold cursor-pointer",children:"Aircraft Category"}),s.jsx(Wc,{className:"h-4 w-4"})]}),s.jsx(jv,{className:"space-y-3 mt-3",children:kQ.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:`cat-${d}`,"data-testid":`checkbox-category-${d}`}),s.jsx("label",{htmlFor:`cat-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(Je,{}),s.jsxs(yv,{children:[s.jsxs(vv,{className:"flex items-center justify-between w-full",children:[s.jsx(pe,{className:"text-sm font-semibold cursor-pointer",children:"Avionics Suite"}),s.jsx(Wc,{className:"h-4 w-4"})]}),s.jsx(jv,{className:"space-y-3 mt-3",children:PQ.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:`avionics-${d}`,"data-testid":`checkbox-avionics-${d}`}),s.jsx("label",{htmlFor:`avionics-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(Je,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"text-sm font-semibold",children:"Additional Options"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:"insurance","data-testid":"checkbox-insurance"}),s.jsx("label",{htmlFor:"insurance",className:"text-sm cursor-pointer",children:"Insurance Included"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:"wet-rate","data-testid":"checkbox-wet-rate"}),s.jsx("label",{htmlFor:"wet-rate",className:"text-sm cursor-pointer",children:"Wet Rate (Fuel Included)"})]})]})]})}var TQ=Symbol("radix.slottable");function AQ(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TQ,e}var PM="AlertDialog",[FQ]=yn(PM,[cO]),Fa=cO(),EM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fa(e);return s.jsx(CO,{...r,...n,modal:!0})};EM.displayName=PM;var RQ="AlertDialogTrigger",TM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fa(n);return s.jsx(_O,{...i,...r,ref:e})});TM.displayName=RQ;var DQ="AlertDialogPortal",AM=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fa(e);return s.jsx(kO,{...r,...n})};AM.displayName=DQ;var IQ="AlertDialogOverlay",FM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fa(n);return s.jsx(o0,{...i,...r,ref:e})});FM.displayName=IQ;var Xc="AlertDialogContent",[OQ,MQ]=FQ(Xc),LQ=AQ("AlertDialogContent"),RM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Fa(n),o=f.useRef(null),l=lt(e,o),c=f.useRef(null);return s.jsx(NY,{contentName:Xc,titleName:DM,docsSlug:"alert-dialog",children:s.jsx(OQ,{scope:n,cancelRef:c,children:s.jsxs(l0,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Ce(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(LQ,{children:r}),s.jsx(UQ,{contentRef:o})]})})})});RM.displayName=Xc;var DM="AlertDialogTitle",IM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fa(n);return s.jsx(c0,{...i,...r,ref:e})});IM.displayName=DM;var OM="AlertDialogDescription",MM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fa(n);return s.jsx(d0,{...i,...r,ref:e})});MM.displayName=OM;var $Q="AlertDialogAction",LM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Fa(n);return s.jsx(u0,{...i,...r,ref:e})});LM.displayName=$Q;var $M="AlertDialogCancel",UM=f.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=MQ($M,n),a=Fa(n),o=lt(e,i);return s.jsx(u0,{...a,...r,ref:o})});UM.displayName=$M;var UQ=({contentRef:t})=>{const e=`\`${Xc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xc}\` by passing a \`${OM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},BQ=EM,VQ=TM,zQ=AM,BM=FM,VM=RM,zM=LM,HM=UM,qM=IM,WM=MM;const Gl=BQ,KM=VQ,HQ=zQ,GM=f.forwardRef(({className:t,...e},n)=>s.jsx(BM,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));GM.displayName=BM.displayName;const To=f.forwardRef(({className:t,...e},n)=>s.jsxs(HQ,{children:[s.jsx(GM,{}),s.jsx(VM,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));To.displayName=VM.displayName;const Ao=({className:t,...e})=>s.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ao.displayName="AlertDialogHeader";const Fo=({className:t,...e})=>s.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fo.displayName="AlertDialogFooter";const Ro=f.forwardRef(({className:t,...e},n)=>s.jsx(qM,{ref:n,className:Ee("text-lg font-semibold",t),...e}));Ro.displayName=qM.displayName;const Do=f.forwardRef(({className:t,...e},n)=>s.jsx(WM,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));Do.displayName=WM.displayName;const Io=f.forwardRef(({className:t,...e},n)=>s.jsx(zM,{ref:n,className:Ee(ON(),t),...e}));Io.displayName=zM.displayName;const Oo=f.forwardRef(({className:t,...e},n)=>s.jsx(HM,{ref:n,className:Ee(ON({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Oo.displayName=HM.displayName;var Ug="Switch",[qQ]=yn(Ug),[WQ,KQ]=qQ(Ug),YM=f.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,x]=f.useState(null),v=lt(e,w=>x(w)),b=f.useRef(!1),g=m?u||!!m.closest("form"):!0,[p,j]=hr({prop:i,defaultProp:a??!1,onChange:d,caller:Ug});return s.jsxs(WQ,{scope:n,checked:p,disabled:l,children:[s.jsx(We.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":JM(p),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Ce(t.onClick,w=>{j(N=>!N),g&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),g&&s.jsx(ZM,{control:m,bubbles:!b.current,name:r,value:c,checked:p,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});YM.displayName=Ug;var QM="SwitchThumb",XM=f.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=KQ(QM,n);return s.jsx(We.span,{"data-state":JM(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});XM.displayName=QM;var GQ="SwitchBubbleInput",ZM=f.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=f.useRef(null),l=lt(o,a),c=h0(n),d=PN(e);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&x){const v=new Event("click",{bubbles:r});x.call(u,n),u.dispatchEvent(v)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZM.displayName=GQ;function JM(t){return t?"checked":"unchecked"}var e5=YM,YQ=XM;const im=f.forwardRef(({className:t,...e},n)=>s.jsx(e5,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(YQ,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));im.displayName=e5.displayName;function QQ(t){return Object.prototype.toString.call(t)==="[object Object]"}function S2(t){return QQ(t)||Array.isArray(t)}function XQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function w0(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==a?!1:n.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!S2(l)||!S2(c)?l===c:w0(l,c)})}function C2(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function ZQ(t,e){if(t.length!==e.length)return!1;const n=C2(t),r=C2(e);return n.every((i,a)=>{const o=r[a];return w0(i,o)})}function N0(t){return typeof t=="number"}function wb(t){return typeof t=="string"}function Bg(t){return typeof t=="boolean"}function _2(t){return Object.prototype.toString.call(t)==="[object Object]"}function us(t){return Math.abs(t)}function S0(t){return Math.sign(t)}function xh(t,e){return us(t-e)}function JQ(t,e){if(t===0||e===0||us(t)<=us(e))return 0;const n=xh(us(t),us(e));return us(n/t)}function eX(t){return Math.round(t*100)/100}function am(t){return om(t).map(Number)}function ri(t){return t[cf(t)]}function cf(t){return Math.max(0,t.length-1)}function C0(t,e){return e===cf(t)}function k2(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function om(t){return Object.keys(t)}function t5(t,e){return[t,e].reduce((n,r)=>(om(r).forEach(i=>{const a=n[i],o=r[i],l=_2(a)&&_2(o);n[i]=l?t5(a,o):o}),n),{})}function Nb(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function tX(t,e){const n={start:r,center:i,end:a};function r(){return 0}function i(c){return a(c)/2}function a(c){return e-c}function o(c,d){return wb(t)?n[t](c):t(e,c,d)}return{measure:o}}function lm(){let t=[];function e(i,a,o,l={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,o,l),c=()=>i.removeEventListener(a,o,l);else{const d=i;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function sX(t,e,n,r){const i=lm(),a=1e3/60;let o=null,l=0,c=0;function d(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function u(){x(),i.clear()}function h(g){if(!c)return;o||(o=g,n(),n());const p=g-o;for(o=g,l+=p;l>=a;)n(),l-=a;const j=l/a;r(j),c&&(c=e.requestAnimationFrame(h))}function m(){c||(c=e.requestAnimationFrame(h))}function x(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function v(){o=null,l=0}return{init:d,destroy:u,start:m,stop:x,update:n,render:r}}function nX(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",a=r?"x":"y",o=!r&&n?-1:1,l=u(),c=h();function d(v){const{height:b,width:g}=v;return r?b:g}function u(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(v){return v*o}return{scroll:i,cross:a,startEdge:l,endEdge:c,measureSize:d,direction:m}}function Yl(t=0,e=0){const n=us(t-e);function r(d){return d<t}function i(d){return d>e}function a(d){return r(d)||i(d)}function o(d){return a(d)?r(d)?t:e:d}function l(d){return n?d-n*Math.ceil((d-e)/n):d}return{length:n,max:e,min:t,constrain:o,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:l}}function s5(t,e,n){const{constrain:r}=Yl(0,t),i=t+1;let a=o(e);function o(m){return n?us((i+m)%i):r(m)}function l(){return a}function c(m){return a=o(m),h}function d(m){return u().set(l()+m)}function u(){return s5(t,l(),n)}const h={get:l,set:c,add:d,clone:u};return h}function rX(t,e,n,r,i,a,o,l,c,d,u,h,m,x,v,b,g,p,j){const{cross:w,direction:N}=t,P=["INPUT","SELECT","TEXTAREA"],S={passive:!1},C=lm(),k=lm(),D=Yl(50,225).constrain(x.measure(20)),F={mouse:300,touch:400},L={mouse:500,touch:600},B=v?43:25;let Y=!1,Q=0,H=0,le=!1,he=!1,z=!1,R=!1;function I(ge){if(!j)return;function Ke(Tt){(Bg(j)||j(ge,Tt))&&Qe(Tt)}const ot=e;C.add(ot,"dragstart",Tt=>Tt.preventDefault(),S).add(ot,"touchmove",()=>{},S).add(ot,"touchend",()=>{}).add(ot,"touchstart",Ke).add(ot,"mousedown",Ke).add(ot,"touchcancel",Ue).add(ot,"contextmenu",Ue).add(ot,"click",ie,!0)}function de(){C.clear(),k.clear()}function A(){const ge=R?n:e;k.add(ge,"touchmove",je,S).add(ge,"touchend",Ue).add(ge,"mousemove",je,S).add(ge,"mouseup",Ue)}function xe(ge){const Ke=ge.nodeName||"";return P.includes(Ke)}function Le(){return(v?L:F)[R?"mouse":"touch"]}function it(ge,Ke){const ot=h.add(S0(ge)*-1),Tt=u.byDistance(ge,!v).distance;return v||us(ge)<D?Tt:g&&Ke?Tt*.5:u.byIndex(ot.get(),0).distance}function Qe(ge){const Ke=Nb(ge,r);R=Ke,z=v&&Ke&&!ge.buttons&&Y,Y=xh(i.get(),o.get())>=2,!(Ke&&ge.button!==0)&&(xe(ge.target)||(le=!0,a.pointerDown(ge),d.useFriction(0).useDuration(0),i.set(o),A(),Q=a.readPoint(ge),H=a.readPoint(ge,w),m.emit("pointerDown")))}function je(ge){if(!Nb(ge,r)&&ge.touches.length>=2)return Ue(ge);const ot=a.readPoint(ge),Tt=a.readPoint(ge,w),qt=xh(ot,Q),Mt=xh(Tt,H);if(!he&&!R&&(!ge.cancelable||(he=qt>Mt,!he)))return Ue(ge);const sn=a.pointerMove(ge);qt>b&&(z=!0),d.useFriction(.3).useDuration(.75),l.start(),i.add(N(sn)),ge.preventDefault()}function Ue(ge){const ot=u.byDistance(0,!1).index!==h.get(),Tt=a.pointerUp(ge)*Le(),qt=it(N(Tt),ot),Mt=JQ(Tt,qt),sn=B-10*Mt,os=p+Mt/50;he=!1,le=!1,k.clear(),d.useDuration(sn).useFriction(os),c.distance(qt,!v),R=!1,m.emit("pointerUp")}function ie(ge){z&&(ge.stopPropagation(),ge.preventDefault(),z=!1)}function ue(){return le}return{init:I,destroy:de,pointerDown:ue}}function iX(t,e){let r,i;function a(h){return h.timeStamp}function o(h,m){const v=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Nb(h,e)?h:h.touches[0])[v]}function l(h){return r=h,i=h,o(h)}function c(h){const m=o(h)-o(i),x=a(h)-a(r)>170;return i=h,x&&(r=h),m}function d(h){if(!r||!i)return 0;const m=o(i)-o(r),x=a(h)-a(r),v=a(h)-a(i)>170,b=m/x;return x&&!v&&us(b)>.1?b:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function aX(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:a,offsetHeight:o}=n;return{top:r,right:i+a,bottom:r+o,left:i,width:a,height:o}}return{measure:t}}function oX(t){function e(r){return t*(r/100)}return{measure:e}}function lX(t,e,n,r,i,a,o){const l=[t].concat(r);let c,d,u=[],h=!1;function m(g){return i.measureSize(o.measure(g))}function x(g){if(!a)return;d=m(t),u=r.map(m);function p(j){for(const w of j){if(h)return;const N=w.target===t,P=r.indexOf(w.target),S=N?d:u[P],C=m(N?t:r[P]);if(us(C-S)>=.5){g.reInit(),e.emit("resize");break}}}c=new ResizeObserver(j=>{(Bg(a)||a(g,j))&&p(j)}),n.requestAnimationFrame(()=>{l.forEach(j=>c.observe(j))})}function v(){h=!0,c&&c.disconnect()}return{init:x,destroy:v}}function cX(t,e,n,r,i,a){let o=0,l=0,c=i,d=a,u=t.get(),h=0;function m(){const S=r.get()-t.get(),C=!c;let k=0;return C?(o=0,n.set(r),t.set(r),k=S):(n.set(t),o+=S/c,o*=d,u+=o,t.add(o),k=u-h),l=S0(k),h=u,P}function x(){const S=r.get()-e.get();return us(S)<.001}function v(){return c}function b(){return l}function g(){return o}function p(){return w(i)}function j(){return N(a)}function w(S){return c=S,P}function N(S){return d=S,P}const P={direction:b,duration:v,velocity:g,seek:m,settled:x,useBaseFriction:j,useBaseDuration:p,useFriction:N,useDuration:w};return P}function dX(t,e,n,r,i){const a=i.measure(10),o=i.measure(50),l=Yl(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(x){if(!d())return;const v=t.reachedMin(e.get())?"min":"max",b=us(t[v]-e.get()),g=n.get()-e.get(),p=l.constrain(b/o);n.subtract(g*p),!x&&us(g)<a&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(x){c=!x}return{shouldConstrain:d,constrain:u,toggleActive:h}}function uX(t,e,n,r,i){const a=Yl(-e+t,0),o=h(),l=u(),c=m();function d(v,b){return xh(v,b)<=1}function u(){const v=o[0],b=ri(o),g=o.lastIndexOf(v),p=o.indexOf(b)+1;return Yl(g,p)}function h(){return n.map((v,b)=>{const{min:g,max:p}=a,j=a.constrain(v),w=!b,N=C0(n,b);return w?p:N||d(g,j)?g:d(p,j)?p:j}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(e<=t+i)return[a.max];if(r==="keepSnaps")return o;const{min:v,max:b}=l;return o.slice(v,b)}return{snapsContained:c,scrollContainLimit:l}}function hX(t,e,n){const r=e[0],i=n?r-t:ri(e);return{limit:Yl(i,r)}}function mX(t,e,n,r){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=Yl(a,o);function d(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function u(m){if(!d(m))return;const x=t*(m*-1);r.forEach(v=>v.add(x))}return{loop:u}}function fX(t){const{max:e,length:n}=t;function r(a){const o=a-e;return n?o/-n:0}return{get:r}}function pX(t,e,n,r,i){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=i,c=h().map(e.measure),d=m(),u=x();function h(){return l(r).map(b=>ri(b)[o]-b[0][a]).map(us)}function m(){return r.map(b=>n[a]-b[a]).map(b=>-us(b))}function x(){return l(d).map(b=>b[0]).map((b,g)=>b+c[g])}return{snaps:d,snapsAligned:u}}function xX(t,e,n,r,i,a){const{groupSlides:o}=i,{min:l,max:c}=r,d=u();function u(){const m=o(a),x=!t||e==="keepSnaps";return n.length===1?[a]:x?m:m.slice(l,c).map((v,b,g)=>{const p=!b,j=C0(g,b);if(p){const w=ri(g[0])+1;return k2(w)}if(j){const w=cf(a)-ri(g)[0]+1;return k2(w,ri(g)[0])}return v})}return{slideRegistry:d}}function gX(t,e,n,r,i){const{reachedAny:a,removeOffset:o,constrain:l}=r;function c(v){return v.concat().sort((b,g)=>us(b)-us(g))[0]}function d(v){const b=t?o(v):l(v),g=e.map((j,w)=>({diff:u(j-b,0),index:w})).sort((j,w)=>us(j.diff)-us(w.diff)),{index:p}=g[0];return{index:p,distance:b}}function u(v,b){const g=[v,v+n,v-n];if(!t)return v;if(!b)return c(g);const p=g.filter(j=>S0(j)===b);return p.length?c(p):ri(g)-n}function h(v,b){const g=e[v]-i.get(),p=u(g,b);return{index:v,distance:p}}function m(v,b){const g=i.get()+v,{index:p,distance:j}=d(g),w=!t&&a(g);if(!b||w)return{index:p,distance:v};const N=e[p]-j,P=v+u(N,0);return{index:p,distance:P}}return{byDistance:m,byIndex:h,shortcut:u}}function yX(t,e,n,r,i,a,o){function l(h){const m=h.distance,x=h.index!==e.get();a.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,m){const x=i.byDistance(h,m);l(x)}function d(h,m){const x=e.clone().set(h),v=i.byIndex(x.get(),m);l(v)}return{distance:c,index:d}}function vX(t,e,n,r,i,a,o,l){const c={passive:!0,capture:!0};let d=0;function u(x){if(!l)return;function v(b){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const j=n.findIndex(w=>w.includes(b));N0(j)&&(i.useDuration(0),r.index(j,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((b,g)=>{a.add(b,"focus",p=>{(Bg(l)||l(x,p))&&v(g)},c)})}function h(x){x.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function Yu(t){let e=t;function n(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return N0(c)?c:c.get()}return{get:n,set:r,add:i,subtract:a}}function n5(t,e){const n=t.scroll==="x"?o:l,r=e.style;let i=null,a=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(a)return;const x=eX(t.direction(m));x!==i&&(r.transform=n(x),i=x)}function d(m){a=!m}function u(){a||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function jX(t,e,n,r,i,a,o,l,c){const u=am(i),h=am(i).reverse(),m=p().concat(j());function x(C,k){return C.reduce((D,F)=>D-i[F],k)}function v(C,k){return C.reduce((D,F)=>x(D,k)>0?D.concat([F]):D,[])}function b(C){return a.map((k,D)=>({start:k-r[D]+.5+C,end:k+e-.5+C}))}function g(C,k,D){const F=b(k);return C.map(L=>{const B=D?0:-n,Y=D?n:0,Q=D?"end":"start",H=F[L][Q];return{index:L,loopPoint:H,slideLocation:Yu(-1),translate:n5(t,c[L]),target:()=>l.get()>H?B:Y}})}function p(){const C=o[0],k=v(h,C);return g(k,n,!1)}function j(){const C=e-o[0]-1,k=v(u,C);return g(k,-n,!0)}function w(){return m.every(({index:C})=>{const k=u.filter(D=>D!==C);return x(k,e)<=.1})}function N(){m.forEach(C=>{const{target:k,translate:D,slideLocation:F}=C,L=k();L!==F.get()&&(D.to(L),F.set(L))})}function P(){m.forEach(C=>C.translate.clear())}return{canLoop:w,clear:P,loop:N,loopPoints:m}}function bX(t,e,n){let r,i=!1;function a(c){if(!n)return;function d(u){for(const h of u)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(Bg(n)||n(c,u))&&d(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:a,destroy:o}}function wX(t,e,n,r){const i={};let a=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(v=>{c||(v.forEach(b=>{const g=e.indexOf(b.target);i[g]=b}),a=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>l.observe(v))}function u(){l&&l.disconnect(),c=!0}function h(v){return om(i).reduce((b,g)=>{const p=parseInt(g),{isIntersecting:j}=i[p];return(v&&j||!v&&!j)&&b.push(p),b},[])}function m(v=!0){if(v&&a)return a;if(!v&&o)return o;const b=h(v);return v&&(a=b),v||(o=b),b}return{init:d,destroy:u,get:m}}function NX(t,e,n,r,i,a){const{measureSize:o,startEdge:l,endEdge:c}=t,d=n[0]&&i,u=v(),h=b(),m=n.map(o),x=g();function v(){if(!d)return 0;const j=n[0];return us(e[l]-j[l])}function b(){if(!d)return 0;const j=a.getComputedStyle(ri(r));return parseFloat(j.getPropertyValue(`margin-${c}`))}function g(){return n.map((j,w,N)=>{const P=!w,S=C0(N,w);return P?m[w]+u:S?m[w]+h:N[w+1][l]-j[l]}).map(us)}return{slideSizes:m,slideSizesWithGaps:x,startGap:u,endGap:h}}function SX(t,e,n,r,i,a,o,l,c){const{startEdge:d,endEdge:u,direction:h}=t,m=N0(n);function x(p,j){return am(p).filter(w=>w%j===0).map(w=>p.slice(w,w+j))}function v(p){return p.length?am(p).reduce((j,w,N)=>{const P=ri(j)||0,S=P===0,C=w===cf(p),k=i[d]-a[P][d],D=i[d]-a[w][u],F=!r&&S?h(o):0,L=!r&&C?h(l):0,B=us(D-L-(k+F));return N&&B>e+c&&j.push(w),C&&j.push(p.length),j},[]).map((j,w,N)=>{const P=Math.max(N[w-1]||0);return p.slice(P,j)}):[]}function b(p){return m?x(p,n):v(p)}return{groupSlides:b}}function CX(t,e,n,r,i,a,o){const{align:l,axis:c,direction:d,startIndex:u,loop:h,duration:m,dragFree:x,dragThreshold:v,inViewThreshold:b,slidesToScroll:g,skipSnaps:p,containScroll:j,watchResize:w,watchSlides:N,watchDrag:P,watchFocus:S}=a,C=2,k=aX(),D=k.measure(e),F=n.map(k.measure),L=nX(c,d),B=L.measureSize(D),Y=oX(B),Q=tX(l,B),H=!h&&!!j,le=h||!!j,{slideSizes:he,slideSizesWithGaps:z,startGap:R,endGap:I}=NX(L,D,F,n,le,i),de=SX(L,B,g,h,D,F,R,I,C),{snaps:A,snapsAligned:xe}=pX(L,Q,D,F,de),Le=-ri(A)+ri(z),{snapsContained:it,scrollContainLimit:Qe}=uX(B,Le,xe,j,C),je=H?it:xe,{limit:Ue}=hX(Le,je,h),ie=s5(cf(je),u,h),ue=ie.clone(),Te=am(n),ge=({dragHandler:xt,scrollBody:Ut,scrollBounds:Ms,options:{loop:Wi}})=>{Wi||Ms.constrain(xt.pointerDown()),Ut.seek()},Ke=({scrollBody:xt,translate:Ut,location:Ms,offsetLocation:Wi,previousLocation:Ra,scrollLooper:Da,slideLooper:vn,dragHandler:Bt,animation:js,eventHandler:et,scrollBounds:$e,options:{loop:rc}},ic)=>{const ac=xt.settled(),gu=!$e.shouldConstrain(),oc=rc?ac:ac&&gu,lc=oc&&!Bt.pointerDown();lc&&js.stop();const Ho=Ms.get()*ic+Ra.get()*(1-ic);Wi.set(Ho),rc&&(Da.loop(xt.direction()),vn.loop()),Ut.to(Wi.get()),lc&&et.emit("settle"),oc||et.emit("scroll")},ot=sX(r,i,()=>ge(bt),xt=>Ke(bt,xt)),Tt=.68,qt=je[ie.get()],Mt=Yu(qt),sn=Yu(qt),os=Yu(qt),cn=Yu(qt),M=cX(Mt,os,sn,cn,m,Tt),K=gX(h,je,Le,Ue,cn),ee=yX(ot,ie,ue,M,K,cn,o),Re=fX(Ue),Se=lm(),be=wX(e,n,o,b),{slideRegistry:ze}=xX(H,j,je,Qe,de,Te),jt=vX(t,n,ze,ee,M,Se,o,S),bt={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:D,slideRects:F,animation:ot,axis:L,dragHandler:rX(L,t,r,i,cn,iX(L,i),Mt,ot,ee,M,K,ie,o,Y,x,v,p,Tt,P),eventStore:Se,percentOfView:Y,index:ie,indexPrevious:ue,limit:Ue,location:Mt,offsetLocation:os,previousLocation:sn,options:a,resizeHandler:lX(e,o,i,n,L,w,k),scrollBody:M,scrollBounds:dX(Ue,os,cn,M,Y),scrollLooper:mX(Le,Ue,os,[Mt,os,sn,cn]),scrollProgress:Re,scrollSnapList:je.map(Re.get),scrollSnaps:je,scrollTarget:K,scrollTo:ee,slideLooper:jX(L,B,Le,he,z,A,je,os,n),slideFocus:jt,slidesHandler:bX(e,o,N),slidesInView:be,slideIndexes:Te,slideRegistry:ze,slidesToScroll:de,target:cn,translate:n5(L,e)};return bt}function _X(){let t={},e;function n(d){e=d}function r(d){return t[d]||[]}function i(d){return r(d).forEach(u=>u(e,d)),c}function a(d,u){return t[d]=r(d).concat([u]),c}function o(d,u){return t[d]=r(d).filter(h=>h!==u),c}function l(){t={}}const c={init:n,emit:i,off:o,on:a,clear:l};return c}const kX={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function PX(t){function e(a,o){return t5(a,o||{})}function n(a){const o=a.breakpoints||{},l=om(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(a,l)}function r(a){return a.map(o=>om(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function EX(t){let e=[];function n(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(a=>a.destroy())}return{init:n,destroy:r}}function jx(t,e,n){const r=t.ownerDocument,i=r.defaultView,a=PX(i),o=EX(a),l=lm(),c=_X(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:m,off:x,emit:v}=c,b=L;let g=!1,p,j=d(kX,jx.globalOptions),w=d(j),N=[],P,S,C;function k(){const{container:Te,slides:ge}=w;S=(wb(Te)?t.querySelector(Te):Te)||t.children[0];const ot=wb(ge)?S.querySelectorAll(ge):ge;C=[].slice.call(ot||S.children)}function D(Te){const ge=CX(t,S,C,r,i,Te,c);if(Te.loop&&!ge.slideLooper.canLoop()){const Ke=Object.assign({},Te,{loop:!1});return D(Ke)}return ge}function F(Te,ge){g||(j=d(j,Te),w=u(j),N=ge||N,k(),p=D(w),h([j,...N.map(({options:Ke})=>Ke)]).forEach(Ke=>l.add(Ke,"change",L)),w.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(ue),p.eventHandler.init(ue),p.resizeHandler.init(ue),p.slidesHandler.init(ue),p.options.loop&&p.slideLooper.loop(),S.offsetParent&&C.length&&p.dragHandler.init(ue),P=o.init(ue,N)))}function L(Te,ge){const Ke=de();B(),F(d({startIndex:Ke},Te),ge),c.emit("reInit")}function B(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),l.clear()}function Y(){g||(g=!0,l.clear(),B(),c.emit("destroy"),c.clear())}function Q(Te,ge,Ke){!w.active||g||(p.scrollBody.useBaseFriction().useDuration(ge===!0?0:w.duration),p.scrollTo.index(Te,Ke||0))}function H(Te){const ge=p.index.add(1).get();Q(ge,Te,-1)}function le(Te){const ge=p.index.add(-1).get();Q(ge,Te,1)}function he(){return p.index.add(1).get()!==de()}function z(){return p.index.add(-1).get()!==de()}function R(){return p.scrollSnapList}function I(){return p.scrollProgress.get(p.offsetLocation.get())}function de(){return p.index.get()}function A(){return p.indexPrevious.get()}function xe(){return p.slidesInView.get()}function Le(){return p.slidesInView.get(!1)}function it(){return P}function Qe(){return p}function je(){return t}function Ue(){return S}function ie(){return C}const ue={canScrollNext:he,canScrollPrev:z,containerNode:Ue,internalEngine:Qe,destroy:Y,off:x,on:m,emit:v,plugins:it,previousScrollSnap:A,reInit:b,rootNode:je,scrollNext:H,scrollPrev:le,scrollProgress:I,scrollSnapList:R,scrollTo:Q,selectedScrollSnap:de,slideNodes:ie,slidesInView:xe,slidesNotInView:Le};return F(e,n),setTimeout(()=>c.emit("init"),0),ue}jx.globalOptions=void 0;function _0(t={},e=[]){const n=f.useRef(t),r=f.useRef(e),[i,a]=f.useState(),[o,l]=f.useState(),c=f.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return f.useEffect(()=>{w0(n.current,t)||(n.current=t,c())},[t,c]),f.useEffect(()=>{ZQ(r.current,e)||(r.current=e,c())},[e,c]),f.useEffect(()=>{if(XQ()&&o){jx.globalOptions=_0.globalOptions;const d=jx(o,n.current,r.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,i]}_0.globalOptions=void 0;const r5=f.createContext(null);function Vg(){const t=f.useContext(r5);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const zg=f.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:a,...o},l)=>{const[c,d]=_0({...e,axis:t==="horizontal"?"x":"y"},r),[u,h]=f.useState(!1),[m,x]=f.useState(!1),v=f.useCallback(j=>{j&&(h(j.canScrollPrev()),x(j.canScrollNext()))},[]),b=f.useCallback(()=>{d==null||d.scrollPrev()},[d]),g=f.useCallback(()=>{d==null||d.scrollNext()},[d]),p=f.useCallback(j=>{j.key==="ArrowLeft"?(j.preventDefault(),b()):j.key==="ArrowRight"&&(j.preventDefault(),g())},[b,g]);return f.useEffect(()=>{!d||!n||n(d)},[d,n]),f.useEffect(()=>{if(d)return v(d),d.on("reInit",v),d.on("select",v),()=>{d==null||d.off("select",v)}},[d,v]),s.jsx(r5.Provider,{value:{carouselRef:c,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:b,scrollNext:g,canScrollPrev:u,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:p,className:Ee("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});zg.displayName="Carousel";const Hg=f.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=Vg();return s.jsx("div",{ref:r,className:"overflow-hidden",children:s.jsx("div",{ref:n,className:Ee("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Hg.displayName="CarouselContent";const qg=f.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Vg();return s.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Ee("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});qg.displayName="CarouselItem";const Wg=f.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=Vg();return s.jsxs(O,{ref:i,variant:e,size:n,className:Ee("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx(pg,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Wg.displayName="CarouselPrevious";const Kg=f.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=Vg();return s.jsxs(O,{ref:i,variant:e,size:n,className:Ee("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx(ez,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});Kg.displayName="CarouselNext";function i5({user:t,aircraft:e,type:n,size:r="md"}){const i=r==="sm"?"h-3 w-3":r==="lg"?"h-5 w-5":"h-4 w-4",a=r==="sm"?"text-xs":r==="lg"?"text-base":"text-sm";if(n==="renter"&&t)return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.identityVerified&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,"data-testid":"tooltip-identity-verified",children:s.jsxs(G,{variant:"secondary",className:a,"data-testid":"badge-identity-verified",children:[s.jsx(Dn,{className:`${i} mr-1`}),"Identity Verified"]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"Government ID and identity confirmed"}),t.identityVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.identityVerifiedAt).toLocaleDateString()]})]})]}),t.paymentVerified&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,"data-testid":"tooltip-payment-verified",children:s.jsxs(G,{variant:"secondary",className:a,"data-testid":"badge-payment-verified",children:[s.jsx(uh,{className:`${i} mr-1`}),"Payment Verified"]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"Valid payment method on file"}),t.paymentVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.paymentVerifiedAt).toLocaleDateString()]})]})]}),t.faaVerified&&t.faaVerifiedMonth&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,"data-testid":"tooltip-faa-verified",children:s.jsxs(G,{variant:"default",className:a,"data-testid":"badge-faa-verified",children:[s.jsx(Vt,{className:`${i} mr-1`}),"FAA Verified (",t.faaVerifiedMonth,")"]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"FAA pilot certificate verified"}),t.faaCertificateNumber&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cert #",t.faaCertificateNumber]})]})]})]});if(n==="owner"&&e){const o=e.annualDueDate?new Date(e.annualDueDate)>new Date:!1;return e.annualDueDate&&new Date(e.annualDueDate)<new Date,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.ownershipVerified&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,children:s.jsxs(G,{variant:"default",className:a,"data-testid":"badge-ownership-verified",children:[s.jsx(Dn,{className:`${i} mr-1`}),"Ownership Verified"]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"FAA aircraft registration confirmed"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["N-Number: ",e.registration]}),e.ownerNameMatch&&s.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Owner name matches registry"})]})]}),e.annualDueDate&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,children:s.jsxs(G,{variant:o?"default":"destructive",className:a,"data-testid":o?"badge-annual-current":"badge-annual-overdue",children:[s.jsx(AR,{className:`${i} mr-1`}),o?"Annual: Current":"Annual: Overdue"]})}),s.jsx(Zi,{children:o?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Annual inspection current"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",new Date(e.annualDueDate).toLocaleDateString()]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"Annual inspection overdue!"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Was due: ",new Date(e.annualDueDate).toLocaleDateString()]})]})})]}),e.requires100Hour&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,children:s.jsxs(G,{variant:e.hour100Remaining&&e.hour100Remaining>0?"secondary":"destructive",className:a,"data-testid":"badge-100-hour",children:[s.jsx(Lt,{className:`${i} mr-1`}),e.hour100Remaining!==null&&e.hour100Remaining!==void 0?`100-Hr: ${e.hour100Remaining} hrs left`:"100-Hr: Update needed"]})}),s.jsx(Zi,{children:e.hour100Remaining&&e.hour100Remaining>0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"100-hour inspection upcoming"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.hour100Remaining," hours remaining"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"100-hour inspection may be due!"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please update current tach time"})]})})]}),!e.requires100Hour&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,children:s.jsxs(G,{variant:"outline",className:a,"data-testid":"badge-100-hour-na",children:[s.jsx(Lt,{className:`${i} mr-1`}),"100-Hr: N/A"]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"100-hour inspection not required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Aircraft not used for hire or instruction"})]})]}),e.hasMaintenanceTracking&&e.maintenanceTrackingProvider&&s.jsxs(La,{children:[s.jsx($a,{asChild:!0,children:s.jsxs(G,{variant:"secondary",className:a,"data-testid":"badge-maintenance-tracking",children:[s.jsx(Vt,{className:`${i} mr-1`}),e.maintenanceTrackingProvider]})}),s.jsxs(Zi,{children:[s.jsx("p",{children:"Professional maintenance tracking on file"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Provider: ",e.maintenanceTrackingProvider]})]})]}),!e.ownershipVerified&&!e.maintenanceVerified&&s.jsxs(G,{variant:"outline",className:`${a} border-yellow-500 text-yellow-700 dark:text-yellow-400`,"data-testid":"badge-verification-pending",children:[s.jsx(Ul,{className:`${i} mr-1`}),"Verification Pending"]})]})}return null}function a5({aircraftId:t,open:e,onOpenChange:n}){const{user:r}=Os(),{toast:i}=$t(),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,m]=f.useState(!1),[x,v]=f.useState({startDate:"",endDate:"",estimatedHours:"",message:""}),{data:b,isLoading:g,error:p}=Ge({queryKey:["/api/aircraft",t],enabled:e});f.useEffect(()=>{b!=null&&b.adminNotes?u(b.adminNotes):b&&u("")},[b==null?void 0:b.id,b==null?void 0:b.adminNotes]),f.useEffect(()=>{e&&!g&&(p||!b)&&n(!1)},[e,g,p,b,n]),f.useEffect(()=>{!b||!e||Ae("POST",`/api/aircraft/${b.id}/view`,{}).catch(()=>{})},[b==null?void 0:b.id,e]);const j=De({mutationFn:async F=>{if(b)return await Ae("POST","/api/rentals",{aircraftId:b.id,ownerId:b.ownerId,...F,hourlyRate:b.hourlyRate})},onSuccess:()=>{i({title:"Rental Request Sent",description:"The aircraft owner will review your request and respond shortly."}),Fe.invalidateQueries({queryKey:["/api/rentals"]}),o(!1),v({startDate:"",endDate:"",estimatedHours:"",message:""}),n(!1)},onError:F=>{i({title:"Request Failed",description:F.message,variant:"destructive"})}}),w=De({mutationFn:async F=>await Ae("DELETE",`/api/aircraft/${F}`,{}),onSuccess:()=>{i({title:"Aircraft Deleted",description:"The aircraft listing has been permanently deleted."}),Fe.invalidateQueries({queryKey:["/api/aircraft"]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:F=>{i({title:"Delete Failed",description:F.message,variant:"destructive"})}}),N=De({mutationFn:async F=>await Ae("PATCH",`/api/admin/aircraft/${t}`,F),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/aircraft",t]}),Fe.invalidateQueries({queryKey:["/api/aircraft"]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Aircraft Updated",description:"Aircraft listing has been updated successfully."})},onError:F=>{i({title:"Update Failed",description:F.message,variant:"destructive"})}}),P=()=>{b&&confirm(`Are you sure you want to permanently delete this aircraft listing (${b.year} ${b.make} ${b.model})? This action cannot be undone.`)&&w.mutate(b.id)},S=()=>{b&&N.mutate({isListed:!b.isListed})},C=()=>{b&&N.mutate({isFeatured:!b.isFeatured})},k=()=>{N.mutate({adminNotes:d})},D=b&&b.images&&b.images.length>0?b.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs(s.Fragment,{children:[s.jsx(Qt,{open:e,onOpenChange:n,children:s.jsx(Wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","data-testid":"modal-aircraft-detail",children:g?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):b?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{children:s.jsxs(Zt,{className:"font-display text-3xl",children:[b.year," ",b.make," ",b.model]})}),s.jsx("div",{className:"relative",children:s.jsxs(zg,{className:"w-full",children:[s.jsx(Hg,{children:D.map((F,L)=>s.jsx(qg,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:F,alt:`${b.year} ${b.make} ${b.model} - Image ${L+1}`,className:"w-full h-full object-cover"})})},L))}),D.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(Wg,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(Kg,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-b py-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["$",b.hourlyRate]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(G,{variant:"outline",children:b.location}),b.airportCode&&s.jsx(G,{variant:"outline",children:b.airportCode}),s.jsxs(G,{variant:"secondary",children:[b.viewCount||0," views"]})]})]}),!a&&s.jsxs(O,{size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){m(!0);return}r.id!==b.ownerId&&c(!0)},disabled:(r==null?void 0:r.id)===b.ownerId,"data-testid":"button-request-rental",children:[s.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Request to Rent"]})]}),a&&s.jsxs("div",{className:"bg-muted/50 p-6 rounded-xl space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Request Rental"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"startDate",children:"Start Date"}),s.jsx(q,{id:"startDate",type:"date",value:x.startDate,onChange:F=>v({...x,startDate:F.target.value}),"data-testid":"input-start-date"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"endDate",children:"End Date"}),s.jsx(q,{id:"endDate",type:"date",value:x.endDate,onChange:F=>v({...x,endDate:F.target.value}),"data-testid":"input-end-date"})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"estimatedHours",children:"Estimated Flight Hours"}),s.jsx(q,{id:"estimatedHours",type:"number",step:"0.1",placeholder:"5.0",value:x.estimatedHours,onChange:F=>v({...x,estimatedHours:F.target.value}),"data-testid":"input-estimated-hours"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"message",children:"Message to Owner (Optional)"}),s.jsx(ns,{id:"message",placeholder:"Tell the owner about your flight plans...",value:x.message,onChange:F=>v({...x,message:F.target.value}),rows:3,"data-testid":"textarea-message"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(O,{className:"flex-1",onClick:()=>j.mutate(x),disabled:!x.startDate||!x.endDate||!x.estimatedHours||j.isPending,"data-testid":"button-submit-request",children:j.isPending?"Sending...":"Send Request"}),s.jsx(O,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-request",children:"Cancel"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Aircraft Specifications"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_R,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Total Time"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.totalTime.toLocaleString()," hours"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.registration})]})]}),b.avionicsSuite&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Avionics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.avionicsSuite})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Insurance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.insuranceIncluded?"Included in hourly rate":"Not included"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.requiredCertifications.map(F=>s.jsx(G,{className:"bg-chart-2 text-white",children:F},F))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Owner Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Verification Status"}),s.jsx(i5,{user:void 0,aircraft:b,type:"owner"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsxs("p",{className:"text-lg font-semibold",children:[b.responseTime||24,"h"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acceptance Rate"}),s.jsxs("p",{className:"text-lg font-semibold",children:[b.acceptanceRate||95,"%"]})]})]})]})]})]}),b.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:b.description})]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.isListed?"Active - visible to renters":"Inactive - hidden from search"})]}),s.jsx(im,{checked:b.isListed||!1,onCheckedChange:S,disabled:N.isPending,"data-testid":"switch-aircraft-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b.isFeatured&&s.jsx(il,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(im,{checked:b.isFeatured||!1,onCheckedChange:C,disabled:N.isPending,"data-testid":"switch-aircraft-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(ns,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:d,onChange:F=>u(F.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(O,{onClick:k,disabled:N.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(at,{href:`/edit-aircraft/${b.id}`,children:s.jsxs(O,{variant:"outline","data-testid":"button-edit-aircraft",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(O,{variant:"destructive",onClick:P,disabled:w.isPending,"data-testid":"button-delete-aircraft",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(Gl,{open:h,onOpenChange:m,children:s.jsxs(To,{"data-testid":"dialog-login-prompt",children:[s.jsxs(Ao,{children:[s.jsx(Ro,{children:"Sign in to continue"}),s.jsx(Do,{children:"You need to create an account or sign in to request aircraft rentals and interact with owners."})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(Io,{onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),s.jsx(Gl,{open:l,onOpenChange:c,children:s.jsxs(To,{className:"max-w-2xl",children:[s.jsxs(Ao,{children:[s.jsxs(Ro,{className:"flex items-center gap-2",children:[s.jsx(jN,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(Do,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-best-practices",children:"Cancel"}),s.jsx(Io,{onClick:()=>{c(!1),o(!0)},className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-best-practices",children:"I Understand - Continue to Request"})]})]})})]})}function k0({placement:t,category:e,rotationIntervalMs:n=8e3,className:r=""}){const[i,a]=f.useState(0),[o,l]=f.useState(!1),{data:c=[],isLoading:d}=Ge({queryKey:["/api/banner-ads/active",t,e],queryFn:async()=>{const v=new URLSearchParams;t&&v.set("placement",t),e&&v.set("category",e);const b=await fetch(hs(`/api/banner-ads/active?${v.toString()}`));if(!b.ok)throw new Error("Failed to fetch banner ads");return b.json()},staleTime:6e4}),u=De({mutationFn:async v=>Ae("POST",`/api/banner-ads/${v}/impression`,{})}),h=De({mutationFn:async v=>Ae("POST",`/api/banner-ads/${v}/click`,{})}),m=c[i];if(f.useEffect(()=>{c.length>0&&(a(0),l(!1))},[c]),f.useEffect(()=>{if(c.length<=1)return;const v=setInterval(()=>{a(b=>(b+1)%c.length),l(!1)},n);return()=>clearInterval(v)},[c.length,n]),f.useEffect(()=>{m&&!o&&(u.mutate(m.id),l(!0))},[m==null?void 0:m.id,o]),d||!m||c.length===0)return null;const x=()=>{h.mutate(m.id),window.open(m.link,"_blank","noopener,noreferrer")};return s.jsx("div",{className:`w-full ${r}`,children:s.jsx($,{className:"overflow-hidden hover-elevate active-elevate-2 cursor-pointer transition-all duration-500",onClick:x,"data-testid":`banner-ad-${m.id}`,children:s.jsxs("div",{className:"relative",children:[m.imageUrl&&s.jsx("div",{className:"w-full h-32 bg-muted",children:s.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded px-2 py-1 text-xs text-muted-foreground",children:"Sponsored"})}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:m.title}),m.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:m.description})]}),s.jsx(Yr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),c.length>1&&s.jsx("div",{className:"flex gap-1 pt-2",children:c.map((v,b)=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${b===i?"bg-primary":"bg-muted"}`},b))})]})]})})})}const TX="/assets/wingtip_featured_1761494838973-BRXeBduT.jpg",AX=[{label:"IFR Equipped",value:"ifr"},{label:"Multi-Engine",value:"multi"},{label:"Glass Cockpit",value:"glass"}];function FX(){const[t,e]=f.useState(!1),[n,r]=f.useState(null),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState("100"),{data:m=[],isLoading:x}=Ge({queryKey:["/api/aircraft"]}),v=m.filter(g=>!(i&&!`${g.make} ${g.model} ${g.registration}`.toLowerCase().includes(i.toLowerCase())||o&&g.location&&!g.location.toLowerCase().includes(o.toLowerCase())||c&&g.location&&!g.location.toLowerCase().includes(c.toLowerCase()))),b=()=>{a(""),l(""),d(""),h("100")};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative h-[500px] sm:h-[600px] bg-gradient-to-r from-primary/20 to-secondary/20 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-transparent z-10"}),s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${TX})`}}),s.jsxs("div",{className:"relative z-20 w-full max-w-5xl mx-auto px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-3 sm:mb-4","data-testid":"text-hero-title",children:"Find Your Perfect Aircraft"}),s.jsx("p",{className:"text-base sm:text-xl text-white/90 max-w-2xl mx-auto px-4",children:"Rent from certified aircraft owners. Fly with confidence."})]}),s.jsxs("div",{className:"bg-background/95 backdrop-blur-lg rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Aircraft Type"}),s.jsxs(Vs,{"data-testid":"select-aircraft-type",children:[s.jsx(As,{className:"text-sm",children:s.jsx(zs,{placeholder:"Any type"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"single",children:"Single-Engine"}),s.jsx(Pe,{value:"multi",children:"Multi-Engine"}),s.jsx(Pe,{value:"jet",children:"Jet"}),s.jsx(Pe,{value:"turboprop",children:"Turboprop"}),s.jsx(Pe,{value:"helicopter",children:"Helicopter"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Certification Required"}),s.jsxs(Vs,{"data-testid":"select-certification",children:[s.jsx(As,{className:"text-sm",children:s.jsx(zs,{placeholder:"Select certification"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"ppl",children:"PPL"}),s.jsx(Pe,{value:"ir",children:"IR"}),s.jsx(Pe,{value:"cpl",children:"CPL"}),s.jsx(Pe,{value:"multi",children:"Multi-Engine"}),s.jsx(Pe,{value:"atp",children:"ATP"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{placeholder:"City or airport code",className:"pl-10 text-sm","data-testid":"input-location"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Dates"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{type:"date",className:"pl-10 text-sm","data-testid":"input-dates"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:AX.map(g=>s.jsx(G,{variant:"outline",className:"cursor-pointer hover-elevate text-xs sm:text-sm","data-testid":`badge-filter-${g.value}`,children:g.label},g.value))}),s.jsxs(O,{className:"bg-accent text-accent-foreground hover:bg-accent rounded-full w-full sm:w-auto",size:"lg","data-testid":"button-search",children:[s.jsx(zn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Find Aircraft"]})]})]})]})]}),s.jsx(k0,{placement:"rentals",className:"container mx-auto px-4 py-8"}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-2","data-testid":"text-results-title",children:"Rental Aircraft Avaiable"}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-results-count",children:v.length})," aircraft match your search"]})]}),s.jsxs(O,{variant:"outline",onClick:()=>e(!t),className:"w-full sm:w-auto","data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]}),s.jsxs("div",{className:"flex gap-8",children:[t&&s.jsx("aside",{className:"w-80 flex-shrink-0",children:s.jsx(EQ,{keyword:i,setKeyword:a,city:o,setCity:l,state:c,setState:d,radius:u,setRadius:h,onClearAll:b})}),s.jsx("div",{className:"flex-1",children:x?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(g=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},g))}):v.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No aircraft found matching your filters"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(g=>s.jsx(xQ,{id:g.id,make:g.make,model:g.model,year:g.year,hourlyRate:g.hourlyRate,image:g.images[0]||"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=800",location:`${g.location}${g.airportCode?` (${g.airportCode})`:""}`,certifications:g.requiredCertifications,totalTime:g.totalTime,avionics:g.avionicsSuite||"N/A",insuranceIncluded:g.insuranceIncluded||!1,responseTime:g.responseTime||24,acceptanceRate:g.acceptanceRate||95,viewCount:g.viewCount||0,onCardClick:()=>r(g.id)},g.id))})})]})]}),s.jsx("section",{className:"bg-muted py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"font-display text-3xl font-bold text-center mb-12",children:"Why Pilots Trust Ready Set Fly"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Dn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Verified Pilots"}),s.jsx("p",{className:"text-muted-foreground",children:"All pilots are verified with license checks and insurance checks"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Dn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Comprehensive Insurance"}),s.jsx("p",{className:"text-muted-foreground",children:"Owenrs and renters are required to carry comprehensive insurance"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Dn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Support Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Our support experts are avaialble to assist you from 8am - 8pm (Central Standard Time) - 7 days a week"})]})]})]})}),n&&s.jsx(a5,{aircraftId:n,open:!!n,onOpenChange:g=>!g&&r(null)})]})}function RX(){const{isAuthenticated:t}=Os();return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("div",{className:"relative bg-gradient-to-br from-primary/20 via-background to-background",children:s.jsx("div",{className:"container mx-auto px-4 py-12 sm:py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-6",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight",children:"Ready Set Fly"}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground px-4",children:"The Premier Aviation Marketplace for Aircraft Rentals & Sales"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Connect with verified pilots and aircraft owners. List your aircraft, find the perfect rental, or explore our marketplace for sales, jobs, CFIs, and more."}),s.jsx(G,{variant:"outline",className:"mx-auto text-xs px-3 py-1",children:"Available for US Residents Only"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[s.jsx(O,{size:"lg",asChild:!0,"data-testid":"button-browse-listings",children:s.jsx(at,{href:"/rentals",children:"Browse Listings"})}),s.jsx(O,{size:"lg",variant:"outline",asChild:!0,"data-testid":"button-pilot-tools",children:s.jsxs(at,{href:"/pilot-tools",children:[s.jsx(tz,{className:"h-4 w-4 mr-2"}),"Pilot Tools"]})}),s.jsx(O,{size:"lg",variant:"outline",onClick:()=>{var e;(e=document.getElementById("features"))==null||e.scrollIntoView({behavior:"smooth"})},"data-testid":"button-learn-more",children:"Learn More"})]})]})})}),s.jsx(k0,{placement:"home",className:"container mx-auto px-4 py-8 max-w-7xl"}),s.jsxs("div",{id:"features",className:"container mx-auto px-4 py-12 sm:py-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"Why Choose Ready Set Fly?"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx($,{"data-testid":"card-feature-verified",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Dn,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Verified Users"}),s.jsx("p",{className:"text-muted-foreground",children:"All pilots and owners undergo verification with license checks and background screening for your safety."})]})})}),s.jsx($,{"data-testid":"card-feature-transparent",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(rs,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Transparent Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Fair 15% commission split (7.5% renter + 7.5% owner). No hidden fees, just straightforward pricing."})]})})}),s.jsx($,{"data-testid":"card-feature-messaging",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(kR,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Secure Messaging"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time messaging between renters and owners during active rentals for seamless communication."})]})})}),s.jsx($,{"data-testid":"card-feature-rentals",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Lt,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Aircraft Rentals"}),s.jsx("p",{className:"text-muted-foreground",children:"Browse hundreds of aircraft available for rent. Filter by certification requirements and location."})]})})}),s.jsx($,{"data-testid":"card-feature-marketplace",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vt,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Full Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Beyond rentals: aircraft sales, aviation jobs, CFI listings, flight schools, mechanics, and charter services."})]})})}),s.jsx($,{"data-testid":"card-feature-financial",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(rs,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Financial Tracking"}),s.jsx("p",{className:"text-muted-foreground",children:"Owners can track earnings, deposits, and manage multiple aircraft listings from a single dashboard."})]})})})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-background dark:from-blue-950/20 dark:to-background py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"FREE Pilot Resources"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto",children:"Professional tools for pilots - completely free, no credit card required"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsx($,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(oz,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Digital Logbook"}),s.jsx(G,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"FREE Forever"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your flight hours, aircraft types, and build your professional flight log. Export to CSV for your records or applications."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Track PIC, SIC, dual, instrument time & more"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Digital signatures with lock protection"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CSV export for backup & reporting"})]})]}),s.jsx(O,{className:"w-full",asChild:!0,children:s.jsx(at,{href:t?"/logbook":"/login",children:t?"Open Logbook":"Sign In to Access"})}),!t&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free account required - takes 30 seconds"})]})})}),s.jsx($,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(SR,{className:"h-8 w-8 text-sky-600 dark:text-sky-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Aviation Weather & Tools"}),s.jsx(G,{variant:"secondary",className:"bg-sky-100 text-sky-800 dark:bg-sky-900/30 dark:text-sky-400",children:"No Sign In Required"}),s.jsx("p",{className:"text-muted-foreground",children:"Get current METAR, TAF, and quick access to essential aviation resources like NOTAMs, TFRs, and flight planning tools."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Live METAR & TAF for any airport"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Quick links to NOTAMs, TFRs & charts"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Flight planning & briefing resources"})]})]}),s.jsx(O,{className:"w-full",variant:"outline",asChild:!0,children:s.jsx(at,{href:"/pilot-tools",children:"Open Pilot Tools"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free for everyone - no account needed"})]})})}),s.jsx($,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(NR,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Ownership Cost Calculator"}),s.jsx(G,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",children:"New"}),s.jsx("p",{className:"text-muted-foreground",children:"Estimate hourly ownership costs and get a suggested rental price with a built-in 15% margin."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Include annual fixed and per-hour variable costs"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Adjust utilization to see impact on cost/hr"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Instant recommended rental rate (+15%)"})]})]}),s.jsx(O,{className:"w-full",variant:"outline",asChild:!0,children:s.jsx(at,{href:"/ownership-cost-calculator",children:"Open Calculator"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free for everyone - no account needed"})]})})})]})]})}),s.jsx("div",{className:"bg-muted/50 py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Ready to Take Flight?"}),s.jsx("p",{className:"text-base sm:text-xl text-muted-foreground mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Join thousands of pilots and aircraft owners in the most trusted aviation marketplace."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(O,{size:"lg",onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-cta-login",children:"Create Your Account"}),s.jsx(O,{size:"lg",variant:"outline",onClick:()=>window.location.href="/rentals","data-testid":"button-cta-browse",children:"Browse Listings"})]})]})}),s.jsx("div",{className:"py-12 sm:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx($,{className:"overflow-hidden",children:s.jsx(U,{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(gz,{className:"h-6 w-6 text-primary"})}),s.jsx(G,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Take Ready Set Fly Anywhere"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Our mobile app is coming soon to iOS and Android. Book aircraft rentals, browse marketplace listings, and manage your account on the go."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Browse and book aircraft on your phone"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Real-time messaging with owners"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Manage your listings and rentals anywhere"})]})]})]}),s.jsxs("div",{className:"bg-muted/30 p-6 sm:p-8 lg:p-12 flex flex-col justify-center items-center gap-4",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Download on"}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-app-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"App Store"})]})}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-play-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"Google Play"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4 max-w-[250px]",children:"Sign up now to be notified when our mobile apps launch"})]})]})})})})})}),s.jsx("div",{className:"py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-admin-login",className:"text-muted-foreground hover:text-foreground",children:"Admin Login"})})})]})}const DX=Zm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Kn=f.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Ee(DX({variant:e}),t),...n}));Kn.displayName="Alert";const gh=f.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));gh.displayName="AlertTitle";const Gn=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));Gn.displayName="AlertDescription";const P2={"aircraft-sale":"bg-primary text-primary-foreground",charter:"bg-secondary text-secondary-foreground",cfi:"bg-chart-2 text-white","flight-school":"bg-accent text-accent-foreground",mechanic:"bg-chart-4 text-white",job:"bg-chart-5 text-white"},E2={"aircraft-sale":"For Sale",charter:"Charter",cfi:"CFI","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function IX({id:t,category:e,title:n,description:r,price:i,location:a,image:o,images:l,tier:c,isExample:d,viewCount:u=0}){return s.jsxs($,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02]","data-testid":`card-marketplace-${t}`,children:[d&&s.jsx("div",{className:"bg-amber-500 text-white px-4 py-2 text-center font-semibold text-sm","data-testid":"banner-example",children:"EXAMPLE LISTING - For Reference Only"}),o?s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[s.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(G,{className:P2[e],"data-testid":`badge-category-${e}`,children:E2[e]})}),c&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(G,{variant:"outline",className:"bg-background/80 backdrop-blur capitalize",children:c})}),l>0&&s.jsx("div",{className:"absolute bottom-3 right-3",children:s.jsxs(G,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(Jp,{className:"h-3 w-3 mr-1"}),l]})})]}):s.jsxs("div",{className:"relative aspect-[3/2] bg-muted flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(G,{className:P2[e],"data-testid":`badge-category-${e}`,children:E2[e]})}),s.jsx(Jp,{className:"h-12 w-12 text-muted-foreground/30"})]}),s.jsxs(U,{className:"p-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2","data-testid":`text-title-${t}`,children:n}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:r}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"h-4 w-4"}),s.jsx("span",{children:a})]}),i&&s.jsx("span",{className:"font-bold text-lg","data-testid":`text-price-${t}`,children:i})]}),s.jsxs("div",{className:"mt-3 text-xs text-muted-foreground",children:[u," views"]})]})]})}function OX(t,e){return f.useReducer((n,r)=>e[n][r]??n,t)}var P0="ScrollArea",[o5]=yn(P0),[MX,Er]=o5(P0),l5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[x,v]=f.useState(null),[b,g]=f.useState(null),[p,j]=f.useState(0),[w,N]=f.useState(0),[P,S]=f.useState(!1),[C,k]=f.useState(!1),D=lt(e,L=>c(L)),F=mu(i);return s.jsx(MX,{scope:n,type:r,dir:F,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:P,onScrollbarXEnabledChange:S,scrollbarY:b,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:j,onCornerHeightChange:N,children:s.jsx(We.div,{dir:F,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});l5.displayName=P0;var c5="ScrollAreaViewport",d5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=Er(c5,n),l=f.useRef(null),c=lt(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(We.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});d5.displayName=c5;var qi="ScrollAreaScrollbar",E0=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Er(qi,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(LX,{...r,ref:e,forceMount:n}):i.type==="scroll"?s.jsx($X,{...r,ref:e,forceMount:n}):i.type==="auto"?s.jsx(u5,{...r,ref:e,forceMount:n}):i.type==="always"?s.jsx(T0,{...r,ref:e}):null});E0.displayName=qi;var LX=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Er(qi,t.__scopeScrollArea),[a,o]=f.useState(!1);return f.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(ln,{present:n||a,children:s.jsx(u5,{"data-state":a?"visible":"hidden",...r,ref:e})})}),$X=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Er(qi,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Yg(()=>c("SCROLL_END"),100),[l,c]=OX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),f.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const x=d[u];h!==x&&(c("SCROLL"),o()),h=x};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(ln,{present:n||l!=="hidden",children:s.jsx(T0,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),u5=f.forwardRef((t,e)=>{const n=Er(qi,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=f.useState(!1),l=t.orientation==="horizontal",c=Yg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return Xd(n.viewport,c),Xd(n.content,c),s.jsx(ln,{present:r||a,children:s.jsx(T0,{"data-state":a?"visible":"hidden",...i,ref:e})})}),T0=f.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Er(qi,t.__scopeScrollArea),a=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=x5(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,x){return qX(m,o.current,l,x)}return n==="horizontal"?s.jsx(UX,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,x=T2(m,l,i.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?s.jsx(BX,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,x=T2(m,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),UX=f.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Er(qi,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=lt(e,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(m5,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gg(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(m),y5(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wx(o.paddingLeft),paddingEnd:wx(o.paddingRight)}})}})}),BX=f.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Er(qi,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=lt(e,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(m5,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gg(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(m),y5(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wx(o.paddingTop),paddingEnd:wx(o.paddingBottom)}})}})}),[VX,h5]=o5(qi),m5=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=t,x=Er(qi,n),[v,b]=f.useState(null),g=lt(e,D=>b(D)),p=f.useRef(null),j=f.useRef(""),w=x.viewport,N=r.content-r.viewport,P=gs(u),S=gs(c),C=Yg(h,10);function k(D){if(p.current){const F=D.clientX-p.current.left,L=D.clientY-p.current.top;d({x:F,y:L})}}return f.useEffect(()=>{const D=F=>{const L=F.target;(v==null?void 0:v.contains(L))&&P(F,N)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[w,v,N,P]),f.useEffect(S,[r,S]),Xd(v,C),Xd(x.content,C),s.jsx(VX,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:gs(a),onThumbPointerUp:gs(o),onThumbPositionChange:S,onThumbPointerDown:gs(l),children:s.jsx(We.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ce(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),p.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),k(D))}),onPointerMove:Ce(t.onPointerMove,k),onPointerUp:Ce(t.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),p.current=null})})})}),bx="ScrollAreaThumb",f5=f.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=h5(bx,t.__scopeScrollArea);return s.jsx(ln,{present:n||i.hasThumb,children:s.jsx(zX,{ref:e,...r})})}),zX=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Er(bx,n),o=h5(bx,n),{onThumbPositionChange:l}=o,c=lt(e,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=Yg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const x=WX(h,l);d.current=x,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),s.jsx(We.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(t.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),v=h.clientX-x.left,b=h.clientY-x.top;o.onThumbPointerDown({x:v,y:b})}),onPointerUp:Ce(t.onPointerUp,o.onThumbPointerUp)})});f5.displayName=bx;var A0="ScrollAreaCorner",p5=f.forwardRef((t,e)=>{const n=Er(A0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(HX,{...t,ref:e}):null});p5.displayName=A0;var HX=f.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Er(A0,n),[a,o]=f.useState(0),[l,c]=f.useState(0),d=!!(a&&l);return Xd(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),Xd(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?s.jsx(We.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wx(t){return t?parseInt(t,10):0}function x5(t,e){const n=t/e;return isNaN(n)?0:n}function Gg(t){const e=x5(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function qX(t,e,n,r="ltr"){const i=Gg(n),a=i/2,o=e||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return g5([c,d],h)(t)}function T2(t,e,n="ltr"){const r=Gg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=xb(t,c);return g5([0,o],[0,l])(d)}function g5(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function y5(t,e){return t>0&&t<e}var WX=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Yg(t,e){const n=gs(t),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Xd(t,e){const n=gs(e);vs(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var v5=l5,KX=d5,GX=p5;const cm=f.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(v5,{ref:r,className:Ee("relative overflow-hidden",t),...n,children:[s.jsx(KX,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(F0,{}),s.jsx(GX,{})]}));cm.displayName=v5.displayName;const F0=f.forwardRef(({className:t,orientation:e="vertical",...n},r)=>s.jsx(E0,{ref:r,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:s.jsx(f5,{className:"relative flex-1 rounded-full bg-border"})}));F0.displayName=E0.displayName;function R0(t){if(!t)return"";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)?"":`$${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function j5(t){if(!t)return"";const e=t.replace(/\D/g,"");return e.length===10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:e.length===11&&e[0]==="1"?`(${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:t}const YX=Zn({firstName:se().min(1,"First name is required"),lastName:se().min(1,"Last name is required"),email:se().email("Valid email is required"),phone:se().optional(),currentJobTitle:se().optional(),yearsOfExperience:se().optional(),coverLetter:se().optional(),resume:nO(File,{message:"Resume is required"})});function QX({listing:t,open:e,onOpenChange:n}){const{toast:r}=$t(),[i,a]=f.useState(null),[o,l]=f.useState(!1),c=nr({resolver:rr(YX),defaultValues:{firstName:"",lastName:"",email:"",phone:"",currentJobTitle:"",yearsOfExperience:"",coverLetter:""}}),d=De({mutationFn:async x=>{const v=new FormData;v.append("listingId",t.id),v.append("firstName",x.firstName),v.append("lastName",x.lastName),v.append("email",x.email),x.phone&&v.append("phone",x.phone),x.currentJobTitle&&v.append("currentJobTitle",x.currentJobTitle),x.yearsOfExperience&&v.append("yearsOfExperience",x.yearsOfExperience),x.coverLetter&&v.append("coverLetter",x.coverLetter),v.append("resume",x.resume);const b=await fetch("/api/job-applications",{method:"POST",body:v,credentials:"include"});if(!b.ok){const g=await b.json();throw new Error(g.error||"Failed to submit application")}return b.json()},onSuccess:()=>{l(!0),r({title:"Application submitted!",description:"The employer has been notified and will review your application soon."})},onError:x=>{r({title:"Submission failed",description:x.message,variant:"destructive"})}}),u=x=>{var b;const v=(b=x.target.files)==null?void 0:b[0];if(v){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(v.type)){r({title:"Invalid file type",description:"Please upload a PDF or Word document",variant:"destructive"});return}if(v.size>5*1024*1024){r({title:"File too large",description:"Resume must be less than 5MB",variant:"destructive"});return}a(v),c.setValue("resume",v),c.clearErrors("resume")}},h=x=>{d.mutate(x)},m=()=>{d.isPending||(n(!1),setTimeout(()=>{c.reset(),a(null),l(!1)},300))};return s.jsx(Qt,{open:e,onOpenChange:m,children:s.jsx(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-job-application",children:o?s.jsxs("div",{className:"py-8 text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Vt,{className:"w-16 h-16 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Application Submitted Successfully!"}),s.jsx("p",{className:"text-muted-foreground",children:"Your application has been sent to the employer. They will review your resume and contact you if you're a good fit for the position."})]}),s.jsx(O,{onClick:m,className:"mt-4","data-testid":"button-close-success",children:"Close"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Apply for Position"}),s.jsxs(ss,{children:[t.title," - ",t.location||"Location not specified"]})]}),s.jsx(Qr,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:c.control,name:"firstName",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"First Name"}),s.jsx(oe,{children:s.jsx(q,{...x,placeholder:"John","data-testid":"input-first-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:c.control,name:"lastName",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Last Name"}),s.jsx(oe,{children:s.jsx(q,{...x,placeholder:"Doe","data-testid":"input-last-name"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:c.control,name:"email",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Email"}),s.jsx(oe,{children:s.jsx(q,{...x,type:"email",placeholder:"john.doe@example.com","data-testid":"input-email"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:c.control,name:"phone",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Phone Number (Optional)"}),s.jsx(oe,{children:s.jsx(q,{...x,type:"tel",placeholder:"(555) 123-4567","data-testid":"input-phone"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:c.control,name:"currentJobTitle",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Current Job Title (Optional)"}),s.jsx(oe,{children:s.jsx(q,{...x,placeholder:"e.g., Aviation Mechanic","data-testid":"input-current-job-title"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:c.control,name:"yearsOfExperience",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Years of Experience (Optional)"}),s.jsx(oe,{children:s.jsx(q,{...x,placeholder:"e.g., 5 years","data-testid":"input-years-of-experience"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:c.control,name:"coverLetter",render:({field:x})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Cover Letter (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{...x,placeholder:"Tell the employer why you're a great fit for this position...",className:"min-h-32 resize-none","data-testid":"textarea-cover-letter"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:c.control,name:"resume",render:({field:{value:x,onChange:v,...b}})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Resume (PDF or Word)"}),s.jsx(oe,{children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{...b,type:"file",accept:".pdf,.doc,.docx",onChange:u,className:"hidden",id:"resume-upload","data-testid":"input-resume"}),s.jsx("label",{htmlFor:"resume-upload",children:s.jsx(O,{type:"button",variant:"outline",className:"cursor-pointer",asChild:!0,"data-testid":"button-upload-resume",children:s.jsxs("span",{children:[s.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Choose File"]})})}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Fn,{className:"w-4 h-4"}),s.jsx("span",{"data-testid":"text-resume-filename",children:i.name}),s.jsxs("span",{className:"text-xs",children:["(",(i.size/1024).toFixed(0)," KB)"]})]})]})})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:m,disabled:d.isPending,"data-testid":"button-cancel",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:d.isPending,"data-testid":"button-submit-application",children:d.isPending?"Submitting...":"Submit Application"})]})]})})]})})})}function b5({listingId:t,listingType:e,variant:n="ghost",size:r="icon",className:i=""}){const{user:a}=Os(),{toast:o}=$t(),[l,c]=f.useState(!1),{data:d}=Ge({queryKey:["/api/favorites/check",e,t],queryFn:async()=>{const v=await fetch(hs(`/api/favorites/check/${e}/${t}`),{credentials:"include"});if(v.status===404)return{isFavorited:!1};if(!v.ok)throw new Error("Failed to check favorite status");return v.json()},enabled:!!a});f.useEffect(()=>{d&&c(d.isFavorited)},[d]);const u=De({mutationFn:async()=>await Ae("POST","/api/favorites",{listingType:e,listingId:t}),onSuccess:()=>{c(!0),Fe.invalidateQueries({queryKey:["/api/favorites"]}),Fe.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Added to favorites",description:"You can view your saved listings in the Favorites page"})},onError:()=>{o({title:"Failed to add favorite",description:"Please try again later",variant:"destructive"})}}),h=De({mutationFn:async()=>await Ae("DELETE",`/api/favorites/${e}/${t}`,{}),onSuccess:()=>{c(!1),Fe.invalidateQueries({queryKey:["/api/favorites"]}),Fe.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Removed from favorites"})},onError:()=>{o({title:"Failed to remove favorite",description:"Please try again later",variant:"destructive"})}}),m=v=>{if(v.stopPropagation(),!a){o({title:"Sign in required",description:"Please sign in to save favorites"});return}l?h.mutate():u.mutate()};if(!a)return null;const x=u.isPending||h.isPending;return s.jsx(O,{variant:n,size:r,onClick:m,disabled:x,className:i,"data-testid":`button-favorite-${e}-${t}`,children:s.jsx(mh,{className:`h-5 w-5 ${l?"fill-red-500 text-red-500":""}`})})}const XX={"aircraft-sale":Lt,job:vN,cfi:Tl,"flight-school":nz,mechanic:AR,charter:Lt},bv={"aircraft-sale":"Aircraft For Sale",charter:"Charter Services",cfi:"CFI Services","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function D0({listingId:t,open:e,onOpenChange:n}){const{user:r}=Os(),{toast:i}=$t(),[a,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[x,v]=f.useState(!1),[b,g]=f.useState(!1),{data:p,isLoading:j}=Ge({queryKey:["/api/marketplace",t],enabled:e&&!!t});f.useEffect(()=>{if(p){if(o(p.adminNotes||""),p.expiresAt){const L=new Date(p.expiresAt);c(L.toISOString().split("T")[0])}else c("");m(p.userHasFlagged||!1)}},[p==null?void 0:p.id,p==null?void 0:p.adminNotes,p==null?void 0:p.expiresAt]),f.useEffect(()=>{p&&e&&Ae("POST",`/api/marketplace/${p.id}/view`,{}).catch(()=>{})},[p==null?void 0:p.id,e]);const w=De({mutationFn:async L=>await Ae("DELETE",`/api/marketplace/${L}`,{}),onSuccess:()=>{i({title:"Listing Deleted",description:"The marketplace listing has been permanently deleted."}),Fe.invalidateQueries({queryKey:["/api/marketplace"]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:L=>{i({title:"Delete Failed",description:L.message,variant:"destructive"})}}),N=De({mutationFn:async L=>await Ae("POST",`/api/marketplace/${L}/flag`,{reason:"Suspected fraud or spam"}),onSuccess:L=>{m(!0),u(!1),i({title:"Listing Flagged",description:`This listing has been flagged for admin review (${L.flagCount} total flags). Thank you for helping keep our marketplace safe.`}),Fe.invalidateQueries({queryKey:["/api/marketplace",t]})},onError:L=>{u(!1),L.message&&L.message.includes("already flagged")&&m(!0),i({title:"Flag Failed",description:L.message||"You may have already flagged this listing.",variant:"destructive"})}}),P=De({mutationFn:async L=>await Ae("PATCH",`/api/admin/marketplace/${t}`,L),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/marketplace",t]}),Fe.invalidateQueries({queryKey:["/api/marketplace"]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Listing Updated",description:"Marketplace listing has been updated successfully."})},onError:L=>{i({title:"Update Failed",description:L.message,variant:"destructive"})}}),S=()=>{p&&confirm(`Are you sure you want to permanently delete this ${bv[p.category]} listing (${p.title})? This action cannot be undone.`)&&w.mutate(p.id)},C=()=>{p&&P.mutate({isActive:!p.isActive})},k=()=>{p&&P.mutate({isFeatured:!p.isFeatured})},D=()=>{P.mutate({adminNotes:a})},F=()=>{if(!l){i({title:"Invalid Date",description:"Please select a valid expiration date.",variant:"destructive"});return}P.mutate({expiresAt:l})};return!p&&!j?null:(p&&XX[p.category],s.jsxs(s.Fragment,{children:[s.jsx(Qt,{open:e,onOpenChange:n,children:s.jsx(Wt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto","data-testid":"modal-marketplace-listing",children:j?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):p?s.jsxs(s.Fragment,{children:[p.isExample&&s.jsxs("div",{className:"bg-amber-500 text-white px-6 py-3 -mx-6 -mt-6 mb-4 text-center font-semibold","data-testid":"banner-example-modal",children:["EXAMPLE LISTING - For Reference Only",s.jsx("p",{className:"text-sm font-normal mt-1 opacity-90",children:"This is an example to help you create your own quality listing"})]}),s.jsx(Xt,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(G,{className:"capitalize","data-testid":"badge-category",children:bv[p.category]}),p.tier&&s.jsxs(G,{variant:"outline",className:"capitalize",children:[p.tier," Tier"]})]}),s.jsx(Zt,{className:"font-display text-3xl pr-8",children:p.title}),s.jsxs(ss,{className:"sr-only",children:[bv[p.category]," listing for ",p.title]}),p.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[s.jsx(Ca,{className:"h-4 w-4"}),s.jsx("span",{children:p.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[s.jsx(Sa,{className:"h-4 w-4"}),s.jsxs("span",{children:[p.viewCount||0," views"]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(b5,{listingId:p.id,listingType:"marketplace"}),p.price&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-3xl font-bold text-primary",children:["$",parseFloat(p.price).toLocaleString()]})})]})]})}),p.images&&p.images.length>0&&s.jsx("div",{className:"relative",children:s.jsxs(zg,{className:"w-full",children:[s.jsx(Hg,{children:p.images.map((L,B)=>s.jsx(qg,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:L,alt:`${p.title} - Image ${B+1}`,className:"w-full h-full object-cover"})})},B))}),p.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(Wg,{className:"left-4"}),s.jsx(Kg,{className:"right-4"})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:p.description})]}),s.jsx(Je,{}),p.details&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Details"}),p.category==="aircraft-sale"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Aircraft Information"}),p.details.make&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make"}),s.jsx("p",{className:"font-medium",children:p.details.make})]}),p.details.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),s.jsx("p",{className:"font-medium",children:p.details.model})]}),p.details.year&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Year"}),s.jsx("p",{className:"font-medium",children:p.details.year})]}),p.details.registration&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Registration"}),s.jsx("p",{className:"font-medium",children:p.details.registration})]}),p.details.seats&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats"}),s.jsx("p",{className:"font-medium",children:p.details.seats})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Specifications"}),p.details.totalTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Time"}),s.jsxs("p",{className:"font-medium",children:[p.details.totalTime," hours"]})]}),p.details.engineTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Engine Time"}),s.jsxs("p",{className:"font-medium",children:[p.details.engineTime," hours"]})]}),p.details.usefulLoad&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Useful Load"}),s.jsxs("p",{className:"font-medium",children:[p.details.usefulLoad," lbs"]})]}),p.details.annualDue&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual Due"}),s.jsx("p",{className:"font-medium",children:p.details.annualDue})]})]}),p.details.avionics&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Avionics Package"}),s.jsx("p",{className:"font-medium",children:p.details.avionics})]}),(p.details.interiorCondition||p.details.exteriorCondition)&&s.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2 gap-4",children:[p.details.interiorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Interior Condition"}),s.jsx(G,{variant:"outline",className:"capitalize mt-1",children:p.details.interiorCondition})]}),p.details.exteriorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exterior/Paint Condition"}),s.jsx(G,{variant:"outline",className:"capitalize mt-1",children:p.details.exteriorCondition})]})]}),p.details.damageHistory&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Damage History"}),s.jsx("p",{className:"font-medium",children:p.details.damageHistory})]})]}),p.category==="job"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.jobTitle&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),s.jsx("p",{className:"font-medium",children:p.details.jobTitle})]}),p.details.company&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),s.jsx("p",{className:"font-medium",children:p.details.company})]}),p.details.employmentType&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Employment Type"}),s.jsx(G,{variant:"outline",className:"capitalize mt-1",children:p.details.employmentType})]}),p.details.salaryRange&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Salary Range"}),s.jsx("p",{className:"font-medium",children:p.details.salaryRange})]}),p.details.requirements&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Requirements"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.requirements})]})]}),p.category==="cfi"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.instructorName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor Name"}),s.jsx("p",{className:"font-medium",children:p.details.instructorName})]}),p.details.hourlyRate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hourly Rate"}),s.jsxs("p",{className:"font-medium",children:["$",p.details.hourlyRate,"/hr"]})]}),p.details.certifications&&p.details.certifications.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.details.certifications.map((L,B)=>s.jsx(G,{variant:"secondary",children:L},B))})]}),p.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:p.details.specialties})]})]}),p.category==="flight-school"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.schoolName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"School Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.schoolName})]}),p.details.aircraftFleet&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Fleet"}),s.jsx("p",{className:"font-medium",children:p.details.aircraftFleet})]}),p.details.programsOffered&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Programs Offered"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:p.details.programsOffered})]}),p.details.pricingInfo&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing"}),s.jsx("p",{className:"font-medium",children:p.details.pricingInfo})]})]}),p.category==="mechanic"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.businessName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.businessName})]}),p.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:p.details.specialties})]}),p.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:p.details.serviceArea})]})]}),p.category==="charter"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.details.companyName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),s.jsx("p",{className:"font-medium text-lg",children:p.details.companyName})]}),p.details.aircraftAvailable&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Available"}),s.jsx("p",{className:"font-medium",children:p.details.aircraftAvailable})]}),p.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:p.details.serviceArea})]}),p.details.pricingStructure&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing Structure"}),s.jsx("p",{className:"font-medium",children:p.details.pricingStructure})]})]})]}),s.jsx(Je,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.contactEmail&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qd,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("a",{href:`mailto:${p.contactEmail}`,className:"font-medium hover:text-primary",children:p.contactEmail})]})]}),p.contactPhone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ex,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("a",{href:`tel:${p.contactPhone}`,className:"font-medium hover:text-primary",children:j5(p.contactPhone)})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[p.category==="job"?s.jsxs(O,{className:"flex-1",onClick:()=>g(!0),"data-testid":"button-apply-now",size:"lg",children:[s.jsx(vN,{className:"h-4 w-4 mr-2"}),"Apply Now"]}):s.jsxs(s.Fragment,{children:[p.contactEmail&&s.jsxs(O,{className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){v(!0);return}const B={"aircraft-sale":"Aircraft for Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Service"}[p.category]||p.category,Y=`Inquiry From Ready Set Fly about your ${B} Listing: ${p.title}`,Q=`Hi,

I'm interested in your ${B} listing: ${p.title}

`,H=`mailto:${p.contactEmail}?subject=${encodeURIComponent(Y)}&body=${encodeURIComponent(Q)}`;window.location.href=H},"data-testid":"button-contact-seller",children:[s.jsx(qd,{className:"h-4 w-4 mr-2"}),"Contact Seller"]}),p.contactPhone&&s.jsxs(O,{variant:"outline",onClick:()=>{if(!r){v(!0);return}window.location.href=`tel:${p.contactPhone}`},"data-testid":"button-call-seller",children:[s.jsx(ex,{className:"h-4 w-4 mr-2"}),"Call"]})]}),r&&!r.isAdmin&&(h?s.jsxs(G,{variant:"outline",className:"text-muted-foreground","data-testid":"badge-already-flagged",children:[s.jsx(FC,{className:"h-3 w-3 mr-1"}),"Already Flagged"]}):s.jsxs(O,{variant:"outline",onClick:()=>u(!0),disabled:N.isPending,"data-testid":"button-flag-listing",className:"text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(FC,{className:"h-4 w-4 mr-2"}),"Flag as Spam"]}))]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.isActive?"Active - visible in search":"Inactive - hidden from search"})]}),s.jsx(im,{checked:p.isActive||!1,onCheckedChange:C,disabled:P.isPending,"data-testid":"switch-listing-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[p.isFeatured&&s.jsx(il,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(im,{checked:p.isFeatured||!1,onCheckedChange:k,disabled:P.isPending,"data-testid":"switch-listing-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"font-semibold",children:"Extend Expiration Date"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current expiration: ",p.expiresAt?new Date(p.expiresAt).toLocaleDateString():"No expiration"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{type:"date",value:l,onChange:L=>c(L.target.value),"data-testid":"input-expiration-date",className:"flex-1"}),s.jsx(O,{onClick:F,disabled:P.isPending,"data-testid":"button-update-expiration",size:"sm",children:"Update"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(ns,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:a,onChange:L=>o(L.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(O,{onClick:D,disabled:P.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(at,{href:`/edit-marketplace-listing/${p.id}`,children:s.jsxs(O,{variant:"outline","data-testid":"button-edit-listing",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(O,{variant:"destructive",onClick:S,disabled:w.isPending,"data-testid":"button-delete-listing",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(Gl,{open:d,onOpenChange:u,children:s.jsxs(To,{"data-testid":"dialog-flag-confirm",children:[s.jsxs(Ao,{children:[s.jsx(Ro,{children:"Flag this listing as spam or fraud?"}),s.jsx(Do,{children:"This action will notify administrators to review this listing. False reports may result in account restrictions. Are you sure this listing violates our community guidelines?"})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-flag",children:"Cancel"}),s.jsx(Io,{onClick:()=>{p&&N.mutate(p.id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-flag",children:N.isPending?"Flagging...":"Flag Listing"})]})]})}),s.jsx(Gl,{open:x,onOpenChange:v,children:s.jsxs(To,{"data-testid":"dialog-login-prompt",children:[s.jsxs(Ao,{children:[s.jsx(Ro,{children:"Sign in to continue"}),s.jsx(Do,{children:"You need to create an account or sign in to contact sellers, apply for jobs, and interact with listings."})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(Io,{onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),p&&p.category==="job"&&s.jsx(QX,{listing:p,open:b,onOpenChange:g})]}))}const A2=[{id:"aircraft-sale",label:"Aircraft For Sale",fee:"$25-100/mo"},{id:"job",label:"Aviation Jobs",fee:"$40/mo"},{id:"cfi",label:"CFIs",fee:"$30/mo"},{id:"flight-school",label:"Flight Schools",fee:"$250/mo"},{id:"mechanic",label:"Mechanics",fee:"$40/mo"},{id:"charter",label:"Charter Services",fee:"$250/mo"}];function ZX(){var R;const[t,e]=f.useState("aircraft-sale"),[n,r]=f.useState(null),[i,a]=f.useState(!1),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState("aircraft-sale"),[m,x]=f.useState(""),[v,b]=f.useState(""),[g,p]=f.useState(""),[j,w]=f.useState("all"),[N,P]=f.useState(""),[S,C]=f.useState("100"),[k,D]=f.useState("all"),[,F]=en(),B=(()=>{const I=new URLSearchParams;return t&&I.set("category",t),m&&I.set("city",m),v&&I.set("minPrice",v),g&&I.set("maxPrice",g),j&&j!=="all"&&I.set("engineType",j),N&&I.set("keyword",N),S&&I.set("radius",S),k&&k!=="all"&&I.set("cfiRating",k),I.toString()})(),{data:Y=[],isLoading:Q}=Ge({queryKey:["/api/marketplace",t,m,v,g,j,N,S,k],queryFn:async()=>{const I=await fetch(hs(`/api/marketplace?${B}`));if(!I.ok)throw new Error("Failed to fetch listings");return I.json()}}),{data:H=[]}=Ge({queryKey:["/api/promo-alerts"]});f.useEffect(()=>{if(u!==t){h(t);const I=`promo-seen-${t}`;localStorage.getItem(I)||H.find(xe=>xe.showOnCategoryPages&&(!xe.targetCategories||xe.targetCategories.length===0||xe.targetCategories.includes(t)))&&(d(!0),localStorage.setItem(I,"true"))}},[t,u,H]);const le=I=>{l(de=>[...de,I])},he=H.filter(I=>I.showOnMainPage&&!o.includes(I.id)),z=H.find(I=>I.showOnCategoryPages&&(!I.targetCategories||I.targetCategories.length===0||I.targetCategories.includes(t)));return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"bg-muted py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3 sm:mb-4","data-testid":"text-marketplace-title",children:"Aviation Marketplace"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl",children:"Connect with the aviation community. Buy, sell, and find professional services."})]})}),s.jsx("section",{className:"border-b bg-background sticky top-16 z-40",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(cm,{className:"w-full whitespace-nowrap",children:[s.jsx("div",{className:"flex gap-2 py-4",children:A2.map(I=>s.jsxs(O,{variant:t===I.id?"default":"outline",onClick:()=>e(I.id),className:"rounded-full shrink-0","data-testid":`button-category-${I.id}`,children:[I.label,s.jsx("span",{className:"ml-2 text-xs opacity-70",children:I.fee})]},I.id))}),s.jsx(F0,{orientation:"horizontal"})]})})}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[he.map(I=>s.jsxs(Kn,{className:"mb-6 border-green-500 bg-green-50 dark:bg-green-950/20","data-testid":`alert-promo-${I.id}`,children:[s.jsx(hh,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(gh,{className:"text-green-800 dark:text-green-200 font-semibold",children:I.title}),s.jsxs(Gn,{className:"text-green-700 dark:text-green-300",children:[I.message,I.promoCode&&s.jsx("span",{className:"inline-block ml-2 px-2 py-1 bg-green-600 text-white text-xs font-mono rounded",children:I.promoCode})]})]}),s.jsx(O,{variant:"ghost",size:"icon",onClick:()=>le(I.id),className:"text-green-600 hover:text-green-800 dark:text-green-400","data-testid":`button-dismiss-alert-${I.id}`,children:s.jsx(ef,{className:"h-4 w-4"})})]},I.id)),s.jsx(k0,{placement:"marketplace",category:t,className:"mb-8"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold mb-1",children:(R=A2.find(I=>I.id===t))==null?void 0:R.label}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-marketplace-count",children:Y.length})," active listings"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>a(!i),className:"flex-1 sm:flex-initial","data-testid":"button-toggle-filters",children:[s.jsx(xz,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsx(O,{variant:"default",onClick:()=>F("/create-marketplace-listing"),className:"flex-1 sm:flex-initial","data-testid":"button-create-listing",children:"Create Listing"})]})]}),i&&s.jsx($,{className:"mb-6",children:s.jsxs(U,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t==="job"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"keyword-filter",children:"Keyword Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"keyword-filter",placeholder:"e.g. pilot, mechanic, CFI...",value:N,onChange:I=>P(I.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:I=>x(I.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"radius-filter",children:"Distance (miles)"}),s.jsxs(Vs,{value:S,onValueChange:C,children:[s.jsx(As,{id:"radius-filter","data-testid":"select-radius-filter",children:s.jsx(zs,{placeholder:"Select radius"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"10",children:"Within 10 miles"}),s.jsx(Pe,{value:"25",children:"Within 25 miles"}),s.jsx(Pe,{value:"50",children:"Within 50 miles"}),s.jsx(Pe,{value:"100",children:"Within 100 miles"}),s.jsx(Pe,{value:"250",children:"Within 250 miles"}),s.jsx(Pe,{value:"500",children:"Within 500 miles"}),s.jsx(Pe,{value:"999999",children:"Any distance"})]})]})]})]}),t==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:I=>x(I.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"min-price",children:"Min Price"}),s.jsx(q,{id:"min-price",type:"number",placeholder:"$0",value:v,onChange:I=>b(I.target.value),"data-testid":"input-min-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"max-price",children:"Max Price"}),s.jsx(q,{id:"max-price",type:"number",placeholder:"No max",value:g,onChange:I=>p(I.target.value),"data-testid":"input-max-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"engine-type",children:"Engine Type"}),s.jsxs(Vs,{value:j,onValueChange:w,children:[s.jsx(As,{id:"engine-type","data-testid":"select-engine-type",children:s.jsx(zs,{placeholder:"All types"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"all",children:"All types"}),s.jsx(Pe,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(Pe,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(Pe,{value:"Turboprop",children:"Turboprop"}),s.jsx(Pe,{value:"Jet",children:"Jet"}),s.jsx(Pe,{value:"Rotor",children:"Rotor (Helicopters)"})]})]})]})]}),t==="cfi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"keyword-filter",placeholder:"Search by name, certifications...",value:N,onChange:I=>P(I.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"cfi-rating",children:"Rating / Certification"}),s.jsxs(Vs,{value:k,onValueChange:D,children:[s.jsx(As,{id:"cfi-rating","data-testid":"select-cfi-rating",children:s.jsx(zs,{placeholder:"All ratings"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"all",children:"All ratings"}),s.jsx(Pe,{value:"CFI",children:"CFI (Basic)"}),s.jsx(Pe,{value:"CFII",children:"CFII (Instrument)"}),s.jsx(Pe,{value:"MEI",children:"MEI (Multi-Engine)"}),s.jsx(Pe,{value:"ATP",children:"ATP"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:I=>x(I.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]}),["flight-school","mechanic","charter"].includes(t)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"keyword-filter",placeholder:"Search by name, services...",value:N,onChange:I=>P(I.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(q,{id:"city-filter",placeholder:"Search by city...",value:m,onChange:I=>x(I.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]})]}),(m||v||g||j!=="all"||N||S!=="100"||k!=="all")&&s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx(O,{variant:"ghost",onClick:()=>{x(""),b(""),p(""),w("all"),P(""),C("100"),D("all")},"data-testid":"button-clear-filters",children:"Clear all filters"})})]})}),Q?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(I=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},I))}):Y.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No listings in this category yet"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(I=>{var de,A;return s.jsx("div",{onClick:()=>r(I.id),className:"cursor-pointer",children:s.jsx(IX,{id:I.id,category:I.category,title:I.title,description:I.description,price:R0(I.price),location:I.city&&I.state?`${I.city}, ${I.state}`:I.location||"N/A",image:(de=I.images)==null?void 0:de[0],images:((A=I.images)==null?void 0:A.length)||0,tier:I.tier||void 0,isExample:I.isExample||!1,viewCount:I.viewCount||0})},I.id)})})]}),n&&s.jsx(D0,{listingId:n,open:!!n,onOpenChange:I=>!I&&r(null)}),z&&s.jsx(Qt,{open:c,onOpenChange:d,children:s.jsxs(Wt,{className:"sm:max-w-md","data-testid":"dialog-promo-modal",children:[s.jsxs(Xt,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(hh,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx(Zt,{className:"text-xl",children:z.title})})]}),s.jsx(ss,{className:"text-base",children:z.message})]}),z.promoCode&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg border-2 border-dashed border-green-500",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2 text-center",children:"Your Promo Code"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-center text-green-600 dark:text-green-400","data-testid":"text-promo-code",children:z.promoCode})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(O,{onClick:()=>d(!1),"data-testid":"button-close-promo-modal",children:"Got it, thanks!"})})]})})]})}var Qg="Tabs",[JX]=yn(Qg,[Sg]),w5=Sg(),[eZ,I0]=JX(Qg),N5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=mu(l),[h,m]=hr({prop:r,onChange:i,defaultProp:a??"",caller:Qg});return s.jsx(eZ,{scope:n,baseId:lr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(We.div,{dir:u,"data-orientation":o,...d,ref:e})})});N5.displayName=Qg;var S5="TabsList",C5=f.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=I0(S5,n),o=w5(n);return s.jsx(ID,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(We.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});C5.displayName=S5;var _5="TabsTrigger",k5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=I0(_5,n),l=w5(n),c=T5(o.baseId,r),d=A5(o.baseId,r),u=r===o.value;return s.jsx(OD,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(We.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Ce(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ce(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});k5.displayName=_5;var P5="TabsContent",E5=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=I0(P5,n),c=T5(l.baseId,r),d=A5(l.baseId,r),u=r===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ln,{present:i||u,children:({present:m})=>s.jsx(We.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});E5.displayName=P5;function T5(t,e){return`${t}-trigger-${e}`}function A5(t,e){return`${t}-content-${e}`}var tZ=N5,F5=C5,R5=k5,D5=E5;const pu=tZ,nc=f.forwardRef(({className:t,...e},n)=>s.jsx(F5,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));nc.displayName=F5.displayName;const kt=f.forwardRef(({className:t,...e},n)=>s.jsx(R5,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kt.displayName=R5.displayName;const It=f.forwardRef(({className:t,...e},n)=>s.jsx(D5,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));It.displayName=D5.displayName;const O0=f.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Ee("w-full caption-bottom text-sm",t),...e})}));O0.displayName="Table";const M0=f.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Ee("[&_tr]:border-b",t),...e}));M0.displayName="TableHeader";const L0=f.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Ee("[&_tr:last-child]:border-0",t),...e}));L0.displayName="TableBody";const sZ=f.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));sZ.displayName="TableFooter";const Zc=f.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Zc.displayName="TableRow";const rn=f.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));rn.displayName="TableHead";const Ks=f.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ks.displayName="TableCell";const nZ=f.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));nZ.displayName="TableCaption";function Sb({rating:t,totalReviews:e,size:n="md",showCount:r=!0}){const i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},a=()=>{const o=[],l=Math.floor(t),c=t%1>=.5;for(let d=0;d<5;d++)d<l?o.push(s.jsx(il,{className:`${i[n]} fill-yellow-400 text-yellow-400`,"data-testid":`star-filled-${d}`},d)):d===l&&c?o.push(s.jsxs("div",{className:"relative","data-testid":`star-half-${d}`,children:[s.jsx(il,{className:`${i[n]} text-gray-300`}),s.jsx("div",{className:"absolute top-0 left-0 w-1/2 overflow-hidden",children:s.jsx(il,{className:`${i[n]} fill-yellow-400 text-yellow-400`})})]},d)):o.push(s.jsx(il,{className:`${i[n]} text-gray-300`,"data-testid":`star-empty-${d}`},d));return o};return s.jsxs("div",{className:"flex items-center gap-1","data-testid":"star-rating",children:[s.jsx("div",{className:"flex gap-0.5",children:a()}),r&&e!==void 0&&s.jsxs("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"review-count",children:["(",e,")"]}),!r&&s.jsx("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"rating-value",children:t.toFixed(1)})]})}function rZ(){const[,t]=en(),{user:e}=Os(),{toast:n}=$t(),{data:r}=Ge({queryKey:["/api/users",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:i=[]}=Ge({queryKey:["/api/aircraft"]}),a=i.filter(S=>S.ownerId===(e==null?void 0:e.id)),{data:o=[]}=Ge({queryKey:["/api/rentals/owner",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:l=[]}=Ge({queryKey:["/api/rentals/renter",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:c=[]}=Ge({queryKey:["/api/transactions/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:d=[]}=Ge({queryKey:["/api/users"]}),u=o.filter(S=>S.status==="completed"),h=o.filter(S=>S.status==="active"),m=o.filter(S=>S.status==="pending"),x=l.filter(S=>S.status==="pending"),v=l.filter(S=>S.status==="approved"&&!S.isPaid),b=u.filter(S=>S.payoutCompleted).reduce((S,C)=>S+parseFloat(C.ownerPayout),0),g=u.filter(S=>!S.payoutCompleted).reduce((S,C)=>S+parseFloat(C.ownerPayout),0),p=a.filter(S=>S.isListed).length,j=h.length,w=()=>{t("/owner-withdrawals")},N=De({mutationFn:async S=>await Ae("PATCH",`/api/rentals/${S}`,{status:"approved"}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Approved",description:"The renter has been notified and can now proceed with payment."})},onError:S=>{n({title:"Error",description:S.message||"Failed to approve request",variant:"destructive"})}}),P=De({mutationFn:async S=>await Ae("PATCH",`/api/rentals/${S}`,{status:"cancelled"}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Declined",description:"The rental request has been cancelled."})},onError:S=>{n({title:"Error",description:S.message||"Failed to decline request",variant:"destructive"})}});return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-dashboard-title",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rentals, listings, and earnings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",b.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",c.filter(S=>S.status==="completed").length," completed rentals"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pending-payouts",children:["$",g.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",u.filter(S=>!S.payoutCompleted).length," completed rentals"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Active Listings"}),s.jsx(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-listings",children:p}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," total aircraft"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Active Rentals"}),s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-rentals",children:j}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently rented"})]})]})]}),!(r!=null&&r.paypalEmail)&&g>0&&s.jsxs(Kn,{className:"mb-6 border-accent","data-testid":"alert-paypal-setup",children:[s.jsx(uh,{className:"h-4 w-4"}),s.jsx(gh,{children:"PayPal Account Required"}),s.jsxs(Gn,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("span",{children:["Set up your PayPal account to receive instant payouts of $",g.toFixed(2)]}),s.jsx(O,{onClick:w,"data-testid":"button-setup-paypal",className:"w-full sm:w-auto",children:"Setup PayPal Payouts"})]})]}),(r==null?void 0:r.paypalEmail)&&s.jsxs(Kn,{className:"mb-6 border-chart-2","data-testid":"alert-paypal-connected",children:[s.jsx(Vt,{className:"h-4 w-4 text-chart-2"}),s.jsx(gh,{children:"PayPal Account Connected"}),s.jsxs(Gn,{children:["Your PayPal account (",r.paypalEmail,") is ready to receive instant payouts"]})]}),v.length>0&&s.jsxs(Kn,{className:"mb-6 border-accent","data-testid":"alert-payment-needed",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx(gh,{children:"Payment Required"}),s.jsx(Gn,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:["You have ",v.length," approved rental",v.length>1?"s":""," awaiting payment."]}),s.jsx("div",{className:"space-y-2",children:v.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 bg-background rounded-lg border","data-testid":`alert-payment-rental-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-foreground",children:[C==null?void 0:C.year," ",C==null?void 0:C.make," ",C==null?void 0:C.model]}),s.jsxs("p",{className:"text-sm",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between sm:flex-col sm:items-end gap-2",children:[s.jsxs("p",{className:"font-bold text-foreground",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsx(O,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{window.location.href=`/rental-payment/${S.id}`},"data-testid":`button-pay-rental-${S.id}`,children:"Pay Now"})]})]},S.id)})})]})})]}),s.jsxs(pu,{defaultValue:m.length>0?"pending":"active",className:"space-y-6",children:[s.jsxs(nc,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 h-auto","data-testid":"tabs-dashboard",children:[s.jsxs(kt,{value:"pending","data-testid":"tab-pending",className:"flex-col sm:flex-row gap-1",children:[s.jsx("span",{className:"text-xs sm:text-sm",children:"Pending"}),m.length>0&&s.jsx(G,{className:"bg-accent text-accent-foreground text-xs",children:m.length})]}),s.jsx(kt,{value:"active","data-testid":"tab-active",className:"text-xs sm:text-sm",children:"Active"}),s.jsx(kt,{value:"upcoming","data-testid":"tab-upcoming",className:"text-xs sm:text-sm",children:"Upcoming"}),s.jsx(kt,{value:"past","data-testid":"tab-past",className:"text-xs sm:text-sm",children:"Past"}),s.jsx(kt,{value:"listings","data-testid":"tab-listings",className:"text-xs sm:text-sm",children:"Listings"}),s.jsx(kt,{value:"financials","data-testid":"tab-financials",className:"text-xs sm:text-sm",children:"Financials"})]}),s.jsxs(It,{value:"pending",className:"space-y-4",children:[s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Pending Rental Requests"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending requests at this time"}):m.map(S=>{const C=i.find(D=>D.id===S.aircraftId),k=d.find(D=>D.id===S.renterId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`rental-pending-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renter: ",k==null?void 0:k.firstName," ",k==null?void 0:k.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]}),(k==null?void 0:k.averageRating)&&(k==null?void 0:k.totalReviews)&&k.totalReviews>0&&s.jsx(Sb,{rating:parseFloat(k.averageRating),totalReviews:k.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(S.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(S.ownerPayout).toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[s.jsx(G,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{size:"sm",className:"bg-chart-2 text-white hover:bg-chart-2 flex-1 sm:flex-none",onClick:()=>N.mutate(S.id),disabled:N.isPending||P.isPending,"data-testid":`button-approve-${S.id}`,children:"Approve"}),s.jsx(O,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>P.mutate(S.id),disabled:N.isPending||P.isPending,"data-testid":`button-decline-${S.id}`,children:"Decline"})]})]})]})]},S.id)})})})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"My Rental Requests"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests you've sent to aircraft owners"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending rental requests"}):x.map(S=>{const C=i.find(D=>D.id===S.aircraftId),k=d.find(D=>D.id===S.ownerId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`my-rental-request-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",k==null?void 0:k.firstName," ",k==null?void 0:k.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]}),(k==null?void 0:k.averageRating)&&(k==null?void 0:k.totalReviews)&&k.totalReviews>0&&s.jsx(Sb,{rating:parseFloat(k.averageRating),totalReviews:k.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(S.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total cost"})]}),s.jsx(G,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending Review"})]})]},S.id)})})})]})]}),s.jsx(It,{value:"active",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Active Rentals"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active rentals at this time"}):h.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 border rounded-lg hover-elevate","data-testid":`rental-active-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rented to: Renter #",S.renterId.substring(0,8)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(S.ownerPayout).toFixed(2)]})]}),s.jsx(G,{className:"bg-chart-2 text-white text-center",children:"Active"}),s.jsx(O,{size:"sm",className:"w-full sm:w-auto","data-testid":`button-message-${S.id}`,children:"Message"})]})]},S.id)})})})]})}),s.jsx(It,{value:"listings",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"My Listings"}),s.jsx(ke,{children:"Manage your aircraft and marketplace listings"})]}),s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"View and manage all your listings in one place"}),s.jsx(O,{onClick:()=>t("/my-listings"),className:"w-full sm:w-auto","data-testid":"button-view-my-listings",children:"Go to My Listings"})]})]})}),s.jsx(It,{value:"financials",children:s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx(J,{children:"Financial Transactions"}),s.jsx(O,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent w-full sm:w-auto",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-manage-withdrawals",children:"Manage Withdrawals"})]}),s.jsx(U,{className:"overflow-x-auto",children:s.jsxs(O0,{children:[s.jsx(M0,{children:s.jsxs(Zc,{children:[s.jsx(rn,{children:"Date"}),s.jsx(rn,{children:"Description"}),s.jsx(rn,{children:"Type"}),s.jsx(rn,{children:"Amount"}),s.jsx(rn,{children:"Status"})]})}),s.jsx(L0,{children:u.length===0?s.jsx(Zc,{children:s.jsx(Ks,{colSpan:5,className:"text-center text-muted-foreground",children:"No completed rentals yet"})}):u.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs(Zc,{"data-testid":`transaction-${S.id}`,children:[s.jsx(Ks,{children:new Date(S.endDate).toLocaleDateString()}),s.jsxs(Ks,{children:["Rental payout - ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsx(Ks,{children:s.jsx(G,{variant:"outline",children:"Payout"})}),s.jsxs(Ks,{className:"font-semibold",children:["$",parseFloat(S.ownerPayout).toFixed(2)]}),s.jsx(Ks,{children:S.payoutCompleted?s.jsx(G,{className:"bg-chart-2 text-white",children:"Completed"}):s.jsx(G,{variant:"outline",children:"Pending"})})]},S.id)})})]})})]})})]})]})})}const ye=Symbol.for("drizzle:entityKind");function Ps(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ye))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ye in n&&n[ye]===e[ye])return!0;n=Object.getPrototypeOf(n)}return!1}var Pk;Pk=ye;class Zd{constructor(e,n){E(this,"name");E(this,"keyAsName");E(this,"primary");E(this,"notNull");E(this,"default");E(this,"defaultFn");E(this,"onUpdateFn");E(this,"hasDefault");E(this,"isUnique");E(this,"uniqueName");E(this,"uniqueType");E(this,"dataType");E(this,"columnType");E(this,"enumValues");E(this,"generated");E(this,"generatedIdentity");E(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}E(Zd,Pk,"Column");var Ek;Ek=ye;class I5{constructor(e,n,r){E(this,"config");E(this,"$default",this.$defaultFn);E(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}E(I5,Ek,"ColumnBuilder");const Jc=Symbol.for("drizzle:Name");var Tk;Tk=ye;class $0{constructor(e,n){E(this,"reference");E(this,"_onUpdate","no action");E(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new O5(e,this)}}E($0,Tk,"PgForeignKeyBuilder");var Ak;Ak=ye;class O5{constructor(e,n){E(this,"reference");E(this,"onUpdate");E(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[Jc],...i,r[0].table[Jc],...a];return e??`${o.join("_")}_fk`}}E(O5,Ak,"PgForeignKey");function iZ(t){function e(){const{name:n,columns:r,foreignColumns:i}=t;return{name:n,columns:r,foreignColumns:i}}return new $0(e)}function aZ(t,...e){return t(...e)}function oZ(t,e){return`${t[Jc]}_${e.join("_")}_unique`}function F2(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function M5(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=F2(t,r+1,!0);n.push(c),r=d;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,d]=M5(t,r+1);n.push(c),r=d;continue}const[o,l]=F2(t,r,!1);n.push(o),r=l}return[n,r]}function lZ(t){const[e]=M5(t,1);return e}function L5(t){return`{${t.map(e=>Array.isArray(e)?L5(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Fk,Rk;class St extends(Rk=I5,Fk=ye,Rk){constructor(){super(...arguments);E(this,"foreignKeyConfigs",[])}array(n){return new U5(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>aZ((o,l)=>{const c=new $0(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new $5(n,this.config)}}E(St,Fk,"PgColumnBuilder");var Dk,Ik;class ut extends(Ik=Zd,Dk=ye,Ik){constructor(e,n){n.uniqueName||(n.uniqueName=oZ(e,[n.name])),super(e,n),this.table=e}}E(ut,Dk,"PgColumn");var Ok,Mk;class $5 extends(Mk=ut,Ok=ye,Mk){constructor(){super(...arguments);E(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});E(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}E($5,Ok,"ExtraConfigColumn");var Lk;Lk=ye;class wp{constructor(e,n,r,i){E(this,"name");E(this,"keyAsName");E(this,"type");E(this,"indexConfig");this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}}E(wp,Lk,"IndexedColumn");var $k,Uk;class U5 extends(Uk=St,$k=ye,Uk){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Cb(e,this.config,n)}}E(U5,$k,"PgArrayBuilder");var Bk,Vk;const Dx=class Dx extends(Vk=ut,Bk=ye,Vk){constructor(n,r,i,a){super(n,r);E(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=lZ(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:Ps(this.baseColumn,Dx)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:L5(i)}};E(Dx,Bk,"PgArray");let Cb=Dx;const R2=Symbol.for("drizzle:isPgEnum");function cZ(t){return!!t&&typeof t=="function"&&R2 in t&&t[R2]===!0}var zk;zk=ye;class U0{constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}E(U0,zk,"Subquery");const dZ={startActiveSpan(t,e){return e()}},ed=Symbol.for("drizzle:ViewBaseConfig"),wv=Symbol.for("drizzle:Schema"),D2=Symbol.for("drizzle:Columns"),I2=Symbol.for("drizzle:ExtraConfigColumns"),Nv=Symbol.for("drizzle:OriginalName"),Sv=Symbol.for("drizzle:BaseName"),Nx=Symbol.for("drizzle:IsAlias"),O2=Symbol.for("drizzle:ExtraConfigBuilder"),B5=Symbol.for("drizzle:IsDrizzleTable");var Hk,qk,Wk,Kk,Gk,Yk,Qk,Xk,Zk,Jk;Jk=ye,Zk=Jc,Xk=Nv,Qk=wv,Yk=D2,Gk=I2,Kk=Sv,Wk=Nx,qk=B5,Hk=O2;class En{constructor(e,n,r){E(this,Zk);E(this,Xk);E(this,Qk);E(this,Yk);E(this,Gk);E(this,Kk);E(this,Wk,!1);E(this,qk,!0);E(this,Hk);this[Jc]=this[Nv]=e,this[wv]=n,this[Sv]=r}}E(En,Jk,"Table"),E(En,"Symbol",{Name:Jc,Schema:wv,OriginalName:Nv,Columns:D2,ExtraConfigColumns:I2,BaseName:Sv,IsAlias:Nx,ExtraConfigBuilder:O2});function V5(t){return typeof t=="object"&&t!==null&&B5 in t}function uZ(t){return t!=null&&typeof t.getSQL=="function"}function hZ(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var eP;eP=ye;class yr{constructor(e){E(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new ys([this])}}E(yr,eP,"StringChunk");var tP;tP=ye;const Jo=class Jo{constructor(e){E(this,"decoder",z5);E(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return dZ.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return hZ(e.map(u=>{var h;if(Ps(u,yr))return{sql:u.value.join(""),params:[]};if(Ps(u,Sx))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new yr("(")];for(const[x,v]of u.entries())m.push(v),x<u.length-1&&m.push(new yr(", "));return m.push(new yr(")")),this.buildQueryFromSourceParams(m,r)}if(Ps(u,Jo))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(Ps(u,En)){const m=u[En.Symbol.Schema],x=u[En.Symbol.Name];return{sql:m===void 0||u[Nx]?a(x):a(m)+"."+a(x),params:[]}}if(Ps(u,Zd)){const m=i.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const x=u.table[En.Symbol.Schema];return{sql:u.table[Nx]||x===void 0?a(u.table[En.Symbol.Name])+"."+a(m):a(x)+"."+a(u.table[En.Symbol.Name])+"."+a(m),params:[]}}if(Ps(u,W5)){const m=u[ed].schema,x=u[ed].name;return{sql:m===void 0||u[ed].isAlias?a(x):a(m)+"."+a(x),params:[]}}if(Ps(u,B0)){if(Ps(u.value,Cx))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Ps(m,Jo))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let x=["none"];return l&&(x=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:x}}return Ps(u,Cx)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Ps(u,Jo.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:Ps(u,U0)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new yr("("),u._.sql,new yr(") "),new Sx(u._.alias)],r):cZ(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:uZ(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new yr("("),u.getSQL(),new yr(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Jo.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};E(Jo,tP,"SQL");let ys=Jo;var sP;sP=ye;class Sx{constructor(e){E(this,"brand");this.value=e}getSQL(){return new ys([this])}}E(Sx,sP,"Name");const z5={mapFromDriverValue:t=>t},H5={mapToDriverValue:t=>t};({...z5,...H5});var nP;nP=ye;class B0{constructor(e,n=H5){E(this,"brand");this.value=e,this.encoder=n}getSQL(){return new ys([this])}}E(B0,nP,"Param");function Xe(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new yr(t[0]));for(const[r,i]of e.entries())n.push(i,new yr(t[r+1]));return new ys(n)}(t=>{function e(){return new ys([])}t.empty=e;function n(c){return new ys(c)}t.fromList=n;function r(c){return new ys([new yr(c)])}t.raw=r;function i(c,d){const u=[];for(const[h,m]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(m);return new ys(u)}t.join=i;function a(c){return new Sx(c)}t.identifier=a;function o(c){return new Cx(c)}t.placeholder=o;function l(c,d){return new B0(c,d)}t.param=l})(Xe||(Xe={}));(t=>{var n;n=ye;const r=class r{constructor(a,o){E(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};E(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(ys||(ys={}));var rP;rP=ye;class Cx{constructor(e){this.name=e}getSQL(){return new ys([this])}}E(Cx,rP,"Placeholder");const q5=Symbol.for("drizzle:IsDrizzleView");var iP,aP,oP;oP=ye,aP=ed,iP=q5;class W5{constructor({name:e,schema:n,selectedFields:r,query:i}){E(this,aP);E(this,iP,!0);this[ed]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new ys([this])}}E(W5,oP,"View");function mZ(t){return typeof t=="object"&&t!==null&&q5 in t}Zd.prototype.getSQL=function(){return new ys([this])};En.prototype.getSQL=function(){return new ys([this])};U0.prototype.getSQL=function(){return new ys([this])};function fZ(t){return t[En.Symbol.Columns]}function pZ(t){return t[ed].selectedFields}function tn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var lP,cP;class df extends(cP=St,lP=ye,cP){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}E(df,lP,"PgIntColumnBaseBuilder");var dP,uP;class K5 extends(uP=df,dP=ye,uP){constructor(e){super(e,"number","PgBigInt53")}build(e){return new G5(e,this.config)}}E(K5,dP,"PgBigInt53Builder");var hP,mP;class G5 extends(mP=ut,hP=ye,mP){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}E(G5,hP,"PgBigInt53");var fP,pP;class Y5 extends(pP=df,fP=ye,pP){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Q5(e,this.config)}}E(Y5,fP,"PgBigInt64Builder");var xP,gP;class Q5 extends(gP=ut,xP=ye,gP){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}E(Q5,xP,"PgBigInt64");function xZ(t,e){const{name:n,config:r}=tn(t,e);return r.mode==="number"?new K5(n):new Y5(n)}var yP,vP;class X5 extends(vP=St,yP=ye,vP){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Z5(e,this.config)}}E(X5,yP,"PgBigSerial53Builder");var jP,bP;class Z5 extends(bP=ut,jP=ye,bP){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}E(Z5,jP,"PgBigSerial53");var wP,NP;class J5 extends(NP=St,wP=ye,NP){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new e3(e,this.config)}}E(J5,wP,"PgBigSerial64Builder");var SP,CP;class e3 extends(CP=ut,SP=ye,CP){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}E(e3,SP,"PgBigSerial64");function gZ(t,e){const{name:n,config:r}=tn(t,e);return r.mode==="number"?new X5(n):new J5(n)}var _P,kP;class t3 extends(kP=St,_P=ye,kP){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new s3(e,this.config)}}E(t3,_P,"PgBooleanBuilder");var PP,EP;class s3 extends(EP=ut,PP=ye,EP){getSQLType(){return"boolean"}}E(s3,PP,"PgBoolean");function nt(t){return new t3(t??"")}var TP,AP;class n3 extends(AP=St,TP=ye,AP){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new r3(e,this.config)}}E(n3,TP,"PgCharBuilder");var FP,RP;class r3 extends(RP=ut,FP=ye,RP){constructor(){super(...arguments);E(this,"length",this.config.length);E(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}E(r3,FP,"PgChar");function yZ(t,e={}){const{name:n,config:r}=tn(t,e);return new n3(n,r)}var DP,IP;class i3 extends(IP=St,DP=ye,IP){constructor(e){super(e,"string","PgCidr")}build(e){return new a3(e,this.config)}}E(i3,DP,"PgCidrBuilder");var OP,MP;class a3 extends(MP=ut,OP=ye,MP){getSQLType(){return"cidr"}}E(a3,OP,"PgCidr");function vZ(t){return new i3(t??"")}var LP,$P;class o3 extends($P=St,LP=ye,$P){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new l3(e,this.config)}}E(o3,LP,"PgCustomColumnBuilder");var UP,BP;class l3 extends(BP=ut,UP=ye,BP){constructor(n,r){super(n,r);E(this,"sqlName");E(this,"mapTo");E(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}E(l3,UP,"PgCustomColumn");function jZ(t){return(e,n)=>{const{name:r,config:i}=tn(e,n);return new o3(r,i,t)}}var VP,zP;class xu extends(zP=St,VP=ye,zP){defaultNow(){return this.default(Xe`now()`)}}E(xu,VP,"PgDateColumnBaseBuilder");var HP,qP;class c3 extends(qP=xu,HP=ye,qP){constructor(e){super(e,"date","PgDate")}build(e){return new d3(e,this.config)}}E(c3,HP,"PgDateBuilder");var WP,KP;class d3 extends(KP=ut,WP=ye,KP){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}E(d3,WP,"PgDate");var GP,YP;class u3 extends(YP=xu,GP=ye,YP){constructor(e){super(e,"string","PgDateString")}build(e){return new h3(e,this.config)}}E(u3,GP,"PgDateStringBuilder");var QP,XP;class h3 extends(XP=ut,QP=ye,XP){getSQLType(){return"date"}}E(h3,QP,"PgDateString");function Oc(t,e){const{name:n,config:r}=tn(t,e);return(r==null?void 0:r.mode)==="date"?new c3(n):new u3(n)}var ZP,JP;class m3 extends(JP=St,ZP=ye,JP){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new f3(e,this.config)}}E(m3,ZP,"PgDoublePrecisionBuilder");var eE,tE;class f3 extends(tE=ut,eE=ye,tE){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}E(f3,eE,"PgDoublePrecision");function bZ(t){return new m3(t??"")}var sE,nE;class p3 extends(nE=St,sE=ye,nE){constructor(e){super(e,"string","PgInet")}build(e){return new x3(e,this.config)}}E(p3,sE,"PgInetBuilder");var rE,iE;class x3 extends(iE=ut,rE=ye,iE){getSQLType(){return"inet"}}E(x3,rE,"PgInet");function wZ(t){return new p3(t??"")}var aE,oE;class g3 extends(oE=df,aE=ye,oE){constructor(e){super(e,"number","PgInteger")}build(e){return new y3(e,this.config)}}E(g3,aE,"PgIntegerBuilder");var lE,cE;class y3 extends(cE=ut,lE=ye,cE){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}E(y3,lE,"PgInteger");function Pt(t){return new g3(t??"")}var dE,uE;class v3 extends(uE=St,dE=ye,uE){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new j3(e,this.config)}}E(v3,dE,"PgIntervalBuilder");var hE,mE;class j3 extends(mE=ut,hE=ye,mE){constructor(){super(...arguments);E(this,"fields",this.config.intervalConfig.fields);E(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}E(j3,hE,"PgInterval");function NZ(t,e={}){const{name:n,config:r}=tn(t,e);return new v3(n,r)}var fE,pE;class b3 extends(pE=St,fE=ye,pE){constructor(e){super(e,"json","PgJson")}build(e){return new w3(e,this.config)}}E(b3,fE,"PgJsonBuilder");var xE,gE;class w3 extends(gE=ut,xE=ye,gE){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}E(w3,xE,"PgJson");function SZ(t){return new b3(t??"")}var yE,vE;class N3 extends(vE=St,yE=ye,vE){constructor(e){super(e,"json","PgJsonb")}build(e){return new S3(e,this.config)}}E(N3,yE,"PgJsonbBuilder");var jE,bE;class S3 extends(bE=ut,jE=ye,bE){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}E(S3,jE,"PgJsonb");function Jd(t){return new N3(t??"")}var wE,NE;class C3 extends(NE=St,wE=ye,NE){constructor(e){super(e,"array","PgLine")}build(e){return new _3(e,this.config)}}E(C3,wE,"PgLineBuilder");var SE,CE;class _3 extends(CE=ut,SE=ye,CE){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}E(_3,SE,"PgLine");var _E,kE;class k3 extends(kE=St,_E=ye,kE){constructor(e){super(e,"json","PgLineABC")}build(e){return new P3(e,this.config)}}E(k3,_E,"PgLineABCBuilder");var PE,EE;class P3 extends(EE=ut,PE=ye,EE){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}E(P3,PE,"PgLineABC");function CZ(t,e){const{name:n,config:r}=tn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new C3(n):new k3(n)}var TE,AE;class E3 extends(AE=St,TE=ye,AE){constructor(e){super(e,"string","PgMacaddr")}build(e){return new T3(e,this.config)}}E(E3,TE,"PgMacaddrBuilder");var FE,RE;class T3 extends(RE=ut,FE=ye,RE){getSQLType(){return"macaddr"}}E(T3,FE,"PgMacaddr");function _Z(t){return new E3(t??"")}var DE,IE;class A3 extends(IE=St,DE=ye,IE){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new F3(e,this.config)}}E(A3,DE,"PgMacaddr8Builder");var OE,ME;class F3 extends(ME=ut,OE=ye,ME){getSQLType(){return"macaddr8"}}E(F3,OE,"PgMacaddr8");function kZ(t){return new A3(t??"")}var LE,$E;class R3 extends($E=St,LE=ye,$E){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new D3(e,this.config)}}E(R3,LE,"PgNumericBuilder");var UE,BE;class D3 extends(BE=ut,UE=ye,BE){constructor(n,r){super(n,r);E(this,"precision");E(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}E(D3,UE,"PgNumeric");function I3(t,e){const{name:n,config:r}=tn(t,e);return new R3(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const ft=I3;var VE,zE;class O3 extends(zE=St,VE=ye,zE){constructor(e){super(e,"array","PgPointTuple")}build(e){return new M3(e,this.config)}}E(O3,VE,"PgPointTupleBuilder");var HE,qE;class M3 extends(qE=ut,HE=ye,qE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}E(M3,HE,"PgPointTuple");var WE,KE;class L3 extends(KE=St,WE=ye,KE){constructor(e){super(e,"json","PgPointObject")}build(e){return new $3(e,this.config)}}E(L3,WE,"PgPointObjectBuilder");var GE,YE;class $3 extends(YE=ut,GE=ye,YE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}E($3,GE,"PgPointObject");function PZ(t,e){const{name:n,config:r}=tn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new O3(n):new L3(n)}function EZ(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function M2(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function U3(t){const e=EZ(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=M2(e,n);n+=8;const l=M2(e,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var QE,XE;class B3 extends(XE=St,QE=ye,XE){constructor(e){super(e,"array","PgGeometry")}build(e){return new V3(e,this.config)}}E(B3,QE,"PgGeometryBuilder");var ZE,JE;class V3 extends(JE=ut,ZE=ye,JE){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return U3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}E(V3,ZE,"PgGeometry");var eT,tT;class z3 extends(tT=St,eT=ye,tT){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new H3(e,this.config)}}E(z3,eT,"PgGeometryObjectBuilder");var sT,nT;class H3 extends(nT=ut,sT=ye,nT){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=U3(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}E(H3,sT,"PgGeometryObject");function TZ(t,e){const{name:n,config:r}=tn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new B3(n):new z3(n)}var rT,iT;class q3 extends(iT=St,rT=ye,iT){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new W3(e,this.config)}}E(q3,rT,"PgRealBuilder");var aT,oT;class W3 extends(oT=ut,aT=ye,oT){constructor(n,r){super(n,r);E(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}E(W3,aT,"PgReal");function AZ(t){return new q3(t??"")}var lT,cT;class K3 extends(cT=St,lT=ye,cT){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new G3(e,this.config)}}E(K3,lT,"PgSerialBuilder");var dT,uT;class G3 extends(uT=ut,dT=ye,uT){getSQLType(){return"serial"}}E(G3,dT,"PgSerial");function FZ(t){return new K3(t??"")}var hT,mT;class Y3 extends(mT=df,hT=ye,mT){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Q3(e,this.config)}}E(Y3,hT,"PgSmallIntBuilder");var fT,pT;class Q3 extends(pT=ut,fT=ye,pT){constructor(){super(...arguments);E(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}E(Q3,fT,"PgSmallInt");function RZ(t){return new Y3(t??"")}var xT,gT;class X3 extends(gT=St,xT=ye,gT){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Z3(e,this.config)}}E(X3,xT,"PgSmallSerialBuilder");var yT,vT;class Z3 extends(vT=ut,yT=ye,vT){getSQLType(){return"smallserial"}}E(Z3,yT,"PgSmallSerial");function DZ(t){return new X3(t??"")}var jT,bT;class J3 extends(bT=St,jT=ye,bT){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new eL(e,this.config)}}E(J3,jT,"PgTextBuilder");var wT,NT;class eL extends(NT=ut,wT=ye,NT){constructor(){super(...arguments);E(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}E(eL,wT,"PgText");function V(t,e={}){const{name:n,config:r}=tn(t,e);return new J3(n,r)}var ST,CT;class tL extends(CT=xu,ST=ye,CT){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new sL(e,this.config)}}E(tL,ST,"PgTimeBuilder");var _T,kT;class sL extends(kT=ut,_T=ye,kT){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(sL,_T,"PgTime");function IZ(t,e={}){const{name:n,config:r}=tn(t,e);return new tL(n,r.withTimezone??!1,r.precision)}var PT,ET;class nL extends(ET=xu,PT=ye,ET){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new rL(e,this.config)}}E(nL,PT,"PgTimestampBuilder");var TT,AT;class rL extends(AT=ut,TT=ye,AT){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");E(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));E(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(rL,TT,"PgTimestamp");var FT,RT;class iL extends(RT=xu,FT=ye,RT){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new aL(e,this.config)}}E(iL,FT,"PgTimestampStringBuilder");var DT,IT;class aL extends(IT=ut,DT=ye,IT){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(aL,DT,"PgTimestampString");function ve(t,e={}){const{name:n,config:r}=tn(t,e);return(r==null?void 0:r.mode)==="string"?new iL(n,r.withTimezone??!1,r.precision):new nL(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var OT,MT;class oL extends(MT=St,OT=ye,MT){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Xe`gen_random_uuid()`)}build(e){return new lL(e,this.config)}}E(oL,OT,"PgUUIDBuilder");var LT,$T;class lL extends($T=ut,LT=ye,$T){getSQLType(){return"uuid"}}E(lL,LT,"PgUUID");function OZ(t){return new oL(t??"")}var UT,BT;class cL extends(BT=St,UT=ye,BT){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new dL(e,this.config)}}E(cL,UT,"PgVarcharBuilder");var VT,zT;class dL extends(zT=ut,VT=ye,zT){constructor(){super(...arguments);E(this,"length",this.config.length);E(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}E(dL,VT,"PgVarchar");function _e(t,e={}){const{name:n,config:r}=tn(t,e);return new cL(n,r)}var HT,qT;class uL extends(qT=St,HT=ye,qT){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new hL(e,this.config)}}E(uL,HT,"PgBinaryVectorBuilder");var WT,KT;class hL extends(KT=ut,WT=ye,KT){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}E(hL,WT,"PgBinaryVector");function MZ(t,e){const{name:n,config:r}=tn(t,e);return new uL(n,r)}var GT,YT;class mL extends(YT=St,GT=ye,YT){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new fL(e,this.config)}}E(mL,GT,"PgHalfVectorBuilder");var QT,XT;class fL extends(XT=ut,QT=ye,XT){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}E(fL,QT,"PgHalfVector");function LZ(t,e){const{name:n,config:r}=tn(t,e);return new mL(n,r)}var ZT,JT;class pL extends(JT=St,ZT=ye,JT){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new xL(e,this.config)}}E(pL,ZT,"PgSparseVectorBuilder");var eA,tA;class xL extends(tA=ut,eA=ye,tA){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}E(xL,eA,"PgSparseVector");function $Z(t,e){const{name:n,config:r}=tn(t,e);return new pL(n,r)}var sA,nA;class gL extends(nA=St,sA=ye,nA){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new yL(e,this.config)}}E(gL,sA,"PgVectorBuilder");var rA,iA;class yL extends(iA=ut,rA=ye,iA){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}E(yL,rA,"PgVector");function UZ(t,e){const{name:n,config:r}=tn(t,e);return new gL(n,r)}function BZ(){return{bigint:xZ,bigserial:gZ,boolean:nt,char:yZ,cidr:vZ,customType:jZ,date:Oc,doublePrecision:bZ,inet:wZ,integer:Pt,interval:NZ,json:SZ,jsonb:Jd,line:CZ,macaddr:_Z,macaddr8:kZ,numeric:I3,point:PZ,geometry:TZ,real:AZ,serial:FZ,smallint:RZ,smallserial:DZ,text:V,time:IZ,timestamp:ve,uuid:OZ,varchar:_e,bit:MZ,halfvec:LZ,sparsevec:$Z,vector:UZ}}const _b=Symbol.for("drizzle:PgInlineForeignKeys"),L2=Symbol.for("drizzle:EnableRLS");var aA,oA,lA,cA,dA;class yh extends(dA=En,cA=ye,lA=_b,oA=L2,aA=En.Symbol.ExtraConfigBuilder,dA){constructor(){super(...arguments);E(this,lA,[]);E(this,oA,!1);E(this,aA)}}E(yh,cA,"PgTable"),E(yh,"Symbol",Object.assign({},En.Symbol,{InlineForeignKeys:_b,EnableRLS:L2}));function VZ(t,e,n,r,i=t){const a=new yh(t,r,i),o=typeof e=="function"?e(BZ()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const x=m.build(a);return a[_b].push(...m.buildForeignKeys(x,a)),[u,x]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const x=m.buildExtraConfigColumn(a);return[u,x]})),d=Object.assign(a,l);return d[En.Symbol.Columns]=l,d[En.Symbol.ExtraConfigColumns]=c,n&&(d[yh.Symbol.ExtraConfigBuilder]=n),Object.assign(d,{enableRLS:()=>(d[yh.Symbol.EnableRLS]=!0,d)})}const Et=(t,e,n)=>VZ(t,e,n,void 0);var uA;uA=ye;class V0{constructor(e,n){this.unique=e,this.name=n}on(...e){return new Np(e.map(n=>{if(Ps(n,ys))return n;n=n;const r=new wp(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new Np(e.map(n=>{if(Ps(n,ys))return n;n=n;const r=new wp(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new Np(n.map(r=>{if(Ps(r,ys))return r;r=r;const i=new wp(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}E(V0,uA,"PgIndexBuilderOn");var hA;hA=ye;class Np{constructor(e,n,r,i,a="btree"){E(this,"config");this.config={name:i,columns:e,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new vL(this.config,e)}}E(Np,hA,"PgIndexBuilder");var mA;mA=ye;class vL{constructor(e,n){E(this,"config");this.config={...e,table:n}}}E(vL,mA,"PgIndex");function mt(t){return new V0(!1,t)}function z0(t){return new V0(!0,t)}const ls={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ns(t,e){return e.includes(t.columnType)}function zZ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const HZ=n0([se(),Qs(),ya(),rO()]),qZ=n0([HZ,iO(Fl()),di(Fl())]),WZ=s0(t=>t instanceof Buffer);function jL(t,e){const n=(e==null?void 0:e.zodInstance)??iY,r=(e==null?void 0:e.coerce)??{};let i;return zZ(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(Ns(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Ns(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Ns(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):Ns(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Ns(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Ns(t,["PgArray"])?(i=n.array(jL(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=KZ(t,n,r):t.dataType==="bigint"?i=GZ(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=YZ(t,n,r):t.dataType==="json"?i=qZ:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=WZ)),i||(i=n.any()),i}function KZ(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;Ns(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:ls.INT8_MIN,a=r?ls.INT8_UNSIGNED_MAX:ls.INT8_MAX,o=!0):Ns(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:ls.INT16_MIN,a=r?ls.INT16_UNSIGNED_MAX:ls.INT16_MAX,o=!0):Ns(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:ls.INT24_MIN,a=r?ls.INT24_UNSIGNED_MAX:ls.INT24_MAX,o=Ns(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ns(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:ls.INT32_MIN,a=r?ls.INT32_UNSIGNED_MAX:ls.INT32_MAX,o=!0):Ns(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:ls.INT48_MIN,a=r?ls.INT48_UNSIGNED_MAX:ls.INT48_MAX):Ns(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Ns(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Ns(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function GZ(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:ls.INT64_MIN,a=r?ls.INT64_UNSIGNED_MAX:ls.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function YZ(t,e,n){if(Ns(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;Ns(t,["PgVarchar","SQLiteText"])?r=t.length:Ns(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??ls.INT16_UNSIGNED_MAX:Ns(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=ls.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=ls.INT24_UNSIGNED_MAX:t.textType==="text"?r=ls.INT16_UNSIGNED_MAX:r=ls.INT8_UNSIGNED_MAX),Ns(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),Ns(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function bL(t){return V5(t)?fZ(t):pZ(t)}function wL(t,e,n,r){const i={};for(const[a,o]of Object.entries(t)){if(!Ps(o,Zd)&&!Ps(o,ys)&&!Ps(o,ys.Aliased)&&typeof o=="object"){const h=V5(o)||mZ(o)?bL(o):o;i[a]=wL(h,e[a]??{},n,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Ps(o,Zd)?o:void 0,d=c?jL(c,r):Fl(),u=typeof l=="function"?l(d):d;n.never(c)||(i[a]=u,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return Zn(i)}const QZ={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Ht=(t,e)=>{const n=bL(t);return wL(n,{},QZ)},NL=["PPL","IR","CPL","Multi-Engine","ATP","CFI","CFII","MEI"],XZ=["Single-Engine","Multi-Engine","Turboprop","Jet","Rotor"],ZZ=["aircraft-sale","charter","cfi","flight-school","mechanic","job"],JZ=["new","contacted","qualified","proposal","negotiation","won","lost"],eJ=["lead","prospect","proposal","negotiation","closed_won","closed_lost"],tJ=["call","email","meeting","note","task"],sJ=["website","referral","social_media","advertising","cold_outreach","event","other"],nJ=["server","database","storage","api","other"],rJ=["IAP","SID","STAR","AIRPORT","OTHER"];Et("sessions",{sid:_e("sid").primaryKey(),sess:Jd("sess").notNull(),expire:ve("expire").notNull()},t=>[mt("IDX_session_expire").on(t.expire)]);const iJ=Et("refresh_tokens",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),token:V("token").notNull().unique(),expiresAt:ve("expires_at").notNull(),createdAt:ve("created_at").defaultNow(),deviceInfo:V("device_info"),ipAddress:V("ip_address")},t=>[mt("idx_refresh_tokens_user").on(t.userId),mt("idx_refresh_tokens_expires").on(t.expiresAt)]),aJ=Et("oauth_exchange_tokens",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),token:V("token").notNull().unique(),userId:_e("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),expiresAt:ve("expires_at").notNull(),createdAt:ve("created_at").defaultNow()},t=>[mt("idx_oauth_exchange_tokens_token").on(t.token),mt("idx_oauth_exchange_tokens_expires").on(t.expiresAt)]),Rt=Et("users",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),email:_e("email").unique(),firstName:_e("first_name"),lastName:_e("last_name"),profileImageUrl:_e("profile_image_url"),phone:V("phone"),certifications:V("certifications").array().notNull().default(Xe`ARRAY[]::text[]`),totalFlightHours:Pt("total_flight_hours").default(0),aircraftTypesFlown:V("aircraft_types_flown").array().default(Xe`ARRAY[]::text[]`),pilotLicenseUrl:V("pilot_license_url"),insuranceUrl:V("insurance_url"),isVerified:nt("is_verified").default(!1),licenseVerified:nt("license_verified").default(!1),backgroundCheckCompleted:nt("background_check_completed").default(!1),isAdmin:nt("is_admin").default(!1),isSuperAdmin:nt("is_super_admin").default(!1),legalFirstName:V("legal_first_name"),legalLastName:V("legal_last_name"),dateOfBirth:V("date_of_birth"),phoneVerified:nt("phone_verified").default(!1),emailVerified:nt("email_verified").default(!1),governmentIdFrontUrl:V("government_id_front_url"),governmentIdBackUrl:V("government_id_back_url"),selfieUrl:V("selfie_url"),identityVerified:nt("identity_verified").default(!1),identityVerifiedAt:ve("identity_verified_at"),paymentMethodOnFile:nt("payment_method_on_file").default(!1),paymentVerified:nt("payment_verified").default(!1),paymentVerifiedAt:ve("payment_verified_at"),faaCertificateNumber:V("faa_certificate_number"),pilotCertificateName:V("pilot_certificate_name"),pilotCertificatePhotoUrl:V("pilot_certificate_photo_url"),faaVerified:nt("faa_verified").default(!1),faaVerifiedMonth:V("faa_verified_month"),faaVerifiedAt:ve("faa_verified_at"),bankAccountConnected:nt("bank_account_connected").default(!1),stripeAccountId:V("stripe_account_id"),paypalEmail:V("paypal_email"),balance:ft("balance",{precision:10,scale:2}).default("0.00"),logbookProStatus:V("logbook_pro_status").default("free"),logbookProPlan:V("logbook_pro_plan"),logbookProSubscriptionId:V("logbook_pro_subscription_id"),logbookProStartedAt:ve("logbook_pro_started_at"),logbookProEndsAt:ve("logbook_pro_ends_at"),logbookProCanceledAt:ve("logbook_pro_canceled_at"),logbookProCancelAtPeriodEnd:nt("logbook_pro_cancel_at_period_end").default(!1),hashedPassword:V("hashed_password"),passwordCreatedAt:ve("password_created_at"),emailVerificationToken:V("email_verification_token"),emailVerificationExpires:ve("email_verification_expires"),averageRating:ft("average_rating",{precision:3,scale:2}),totalReviews:Pt("total_reviews").default(0),isSuspended:nt("is_suspended").default(!1),suspensionReason:V("suspension_reason"),suspendedAt:ve("suspended_at"),suspendedBy:_e("suspended_by"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>({usersSuspendedByFk:iZ({columns:[t.suspendedBy],foreignColumns:[t.id]})})),H0=Et("aircraft_listings",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),ownerId:_e("owner_id").notNull().references(()=>Rt.id),make:V("make").notNull(),model:V("model").notNull(),year:Pt("year").notNull(),registration:V("registration").notNull(),category:V("category").notNull(),totalTime:Pt("total_time").notNull(),engine:V("engine"),avionicsSuite:V("avionics_suite"),requiredCertifications:V("required_certifications").array().notNull(),minFlightHours:Pt("min_flight_hours").default(0),hourlyRate:ft("hourly_rate",{precision:10,scale:2}).notNull(),insuranceIncluded:nt("insurance_included").default(!0),wetRate:nt("wet_rate").default(!0),images:V("images").array().notNull(),location:V("location").notNull(),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:ft("latitude",{precision:10,scale:7}),longitude:ft("longitude",{precision:10,scale:7}),airportCode:V("airport_code"),engineType:V("engine_type"),engineCount:Pt("engine_count"),seatingCapacity:Pt("seating_capacity"),description:V("description"),isListed:nt("is_listed").default(!0),viewCount:Pt("view_count").default(0).notNull(),adminNotes:V("admin_notes"),isFeatured:nt("is_featured").default(!1),responseTime:Pt("response_time_hours").default(24),acceptanceRate:Pt("acceptance_rate").default(100),serialNumber:V("serial_number"),registrationDocUrl:V("registration_doc_url"),llcAuthorizationUrl:V("llc_authorization_url"),ownershipVerified:nt("ownership_verified").default(!1),ownershipVerifiedAt:ve("ownership_verified_at"),registryCheckedAt:ve("registry_checked_at"),ownerNameMatch:nt("owner_name_match"),annualInspectionDocUrl:V("annual_inspection_doc_url"),annualInspectionDate:V("annual_inspection_date"),annualDueDate:V("annual_due_date"),annualSignerName:V("annual_signer_name"),annualSignerCertNumber:V("annual_signer_cert_number"),annualSignerIaNumber:V("annual_signer_ia_number"),annualApVerified:nt("annual_ap_verified").default(!1),requires100Hour:nt("requires_100_hour").default(!1),hour100InspectionDocUrl:V("hour_100_inspection_doc_url"),hour100InspectionTach:Pt("hour_100_inspection_tach"),currentTach:Pt("current_tach"),hour100Remaining:Pt("hour_100_remaining"),maintenanceTrackingProvider:V("maintenance_tracking_provider"),maintenanceTrackingDocUrl:V("maintenance_tracking_doc_url"),hasMaintenanceTracking:nt("has_maintenance_tracking").default(!1),maintenanceVerified:nt("maintenance_verified").default(!1),maintenanceVerifiedAt:ve("maintenance_verified_at"),lastRefreshedAt:ve("last_refreshed_at").defaultNow(),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_aircraft_city").on(t.city),mt("idx_aircraft_is_listed").on(t.isListed),mt("idx_aircraft_category").on(t.category),mt("idx_aircraft_engine_type").on(t.engineType),mt("idx_aircraft_city_engine_type").on(t.city,t.engineType),mt("idx_aircraft_category_city").on(t.category,t.city)]),uf=Et("marketplace_listings",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id),category:V("category").notNull(),tier:V("tier"),title:V("title").notNull(),description:V("description").notNull(),images:V("images").array().default(Xe`ARRAY[]::text[]`),location:V("location"),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:ft("latitude",{precision:10,scale:7}),longitude:ft("longitude",{precision:10,scale:7}),contactEmail:V("contact_email"),contactPhone:V("contact_phone"),details:Jd("details"),price:ft("price",{precision:12,scale:2}),isActive:nt("is_active").default(!0),expiresAt:ve("expires_at"),expirationReminderSent:nt("expiration_reminder_sent").default(!1),expirationReminderSentAt:ve("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),isFeatured:nt("is_featured").default(!1),isExample:nt("is_example").default(!1),flagCount:Pt("flag_count").default(0).notNull(),viewCount:Pt("view_count").default(0).notNull(),isPaid:nt("is_paid").default(!1),monthlyFee:ft("monthly_fee",{precision:10,scale:2}),upgradeTransactions:V("upgrade_transactions").array().default(Xe`ARRAY[]::text[]`),promoFreeUntil:ve("promo_free_until"),promoGrantedBy:_e("promo_granted_by").references(()=>Rt.id),promoGrantedAt:ve("promo_granted_at"),lastRefreshedAt:ve("last_refreshed_at").defaultNow(),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_marketplace_category").on(t.category),mt("idx_marketplace_city").on(t.city),mt("idx_marketplace_is_active").on(t.isActive),mt("idx_marketplace_category_city").on(t.category,t.city),mt("idx_marketplace_category_active").on(t.category,t.isActive),mt("idx_marketplace_flag_count").on(t.flagCount)]),oJ=Et("marketplace_flags",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),listingId:_e("listing_id").notNull().references(()=>uf.id,{onDelete:"cascade"}),userId:_e("user_id").notNull().references(()=>Rt.id),reason:V("reason"),createdAt:ve("created_at").defaultNow()},t=>[z0("idx_marketplace_flags_unique").on(t.listingId,t.userId)]),lJ=Et("job_applications",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),listingId:_e("listing_id").notNull().references(()=>uf.id,{onDelete:"cascade"}),applicantId:_e("applicant_id").references(()=>Rt.id),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),phone:V("phone"),currentJobTitle:V("current_job_title"),yearsOfExperience:V("years_of_experience"),coverLetter:V("cover_letter"),resumeUrl:V("resume_url").notNull(),status:V("status").default("new").notNull(),employerNotes:V("employer_notes"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_job_applications_listing").on(t.listingId),mt("idx_job_applications_applicant").on(t.applicantId),mt("idx_job_applications_status").on(t.status)]),cJ=Et("promo_alerts",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),title:V("title").notNull(),message:V("message").notNull(),promoCode:V("promo_code"),isEnabled:nt("is_enabled").default(!0),showOnMainPage:nt("show_on_main_page").default(!0),showOnCategoryPages:nt("show_on_category_pages").default(!0),targetCategories:V("target_categories").array().default(Xe`ARRAY[]::text[]`),variant:V("variant").default("info"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),Xg=Et("rentals",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),aircraftId:_e("aircraft_id").notNull().references(()=>H0.id),renterId:_e("renter_id").notNull().references(()=>Rt.id),ownerId:_e("owner_id").notNull().references(()=>Rt.id),startDate:ve("start_date").notNull(),endDate:ve("end_date").notNull(),estimatedHours:ft("estimated_hours",{precision:6,scale:2}).notNull(),actualHours:ft("actual_hours",{precision:6,scale:2}),hourlyRate:ft("hourly_rate",{precision:10,scale:2}).notNull(),baseCost:ft("base_cost",{precision:10,scale:2}).notNull(),salesTax:ft("sales_tax",{precision:10,scale:2}).notNull(),platformFeeRenter:ft("platform_fee_renter",{precision:10,scale:2}).notNull(),platformFeeOwner:ft("platform_fee_owner",{precision:10,scale:2}).notNull(),processingFee:ft("processing_fee",{precision:10,scale:2}).notNull(),totalCostRenter:ft("total_cost_renter",{precision:10,scale:2}).notNull(),ownerPayout:ft("owner_payout",{precision:10,scale:2}).notNull(),status:V("status").notNull().default("pending"),isPaid:nt("is_paid").default(!1),payoutCompleted:nt("payout_completed").default(!1),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),dJ=Et("messages",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),rentalId:_e("rental_id").notNull().references(()=>Xg.id),senderId:_e("sender_id").notNull().references(()=>Rt.id),receiverId:_e("receiver_id").notNull().references(()=>Rt.id),content:V("content").notNull(),isRead:nt("is_read").default(!1),createdAt:ve("created_at").defaultNow()}),uJ=Et("reviews",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),rentalId:_e("rental_id").notNull().references(()=>Xg.id),reviewerId:_e("reviewer_id").notNull().references(()=>Rt.id),revieweeId:_e("reviewee_id").notNull().references(()=>Rt.id),rating:Pt("rating").notNull(),comment:V("comment"),communicationRating:Pt("communication_rating"),cleanlinessRating:Pt("cleanliness_rating"),accuracyRating:Pt("accuracy_rating"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),hJ=Et("favorites",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),listingType:V("listing_type").notNull(),listingId:_e("listing_id").notNull(),createdAt:ve("created_at").defaultNow()},t=>({idxFavoritesUser:mt("idx_favorites_user").on(t.userId),idxFavoritesListing:mt("idx_favorites_listing").on(t.listingType,t.listingId),uniqueUserListing:z0("idx_favorites_user_listing_unique").on(t.userId,t.listingType,t.listingId)}));Et("transactions",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id),type:V("type").notNull(),amount:ft("amount",{precision:10,scale:2}).notNull(),rentalId:_e("rental_id").references(()=>Xg.id),marketplaceListingId:_e("marketplace_listing_id").references(()=>uf.id),status:V("status").notNull().default("pending"),depositedToBankAt:ve("deposited_to_bank_at"),description:V("description"),createdAt:ve("created_at").defaultNow()});const mJ=Et("withdrawal_requests",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id),amount:ft("amount",{precision:10,scale:2}).notNull(),paypalEmail:V("paypal_email").notNull(),status:V("status").notNull().default("pending"),payoutBatchId:V("payout_batch_id"),payoutItemId:V("payout_item_id"),transactionId:V("transaction_id"),processedAt:ve("processed_at"),processedBy:_e("processed_by").references(()=>Rt.id),failureReason:V("failure_reason"),adminNotes:V("admin_notes"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_withdrawal_user").on(t.userId),mt("idx_withdrawal_status").on(t.status)]),SL=Et("promo_codes",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),code:V("code").notNull().unique(),description:V("description"),discountType:V("discount_type").notNull(),discountValue:ft("discount_value",{precision:10,scale:2}),maxUses:Pt("max_uses"),usedCount:Pt("used_count").default(0),isActive:nt("is_active").default(!0),validFrom:ve("valid_from").defaultNow(),validUntil:ve("valid_until"),applicableToMarketplace:nt("applicable_to_marketplace").default(!0),applicableToBannerAds:nt("applicable_to_banner_ads").default(!1),applicableCategories:V("applicable_categories").array().default(Xe`ARRAY[]::text[]`),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()});Et("promo_code_usages",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),promoCodeId:_e("promo_code_id").notNull().references(()=>SL.id),userId:_e("user_id").references(()=>Rt.id),marketplaceListingId:_e("marketplace_listing_id").references(()=>uf.id),bannerAdOrderId:_e("banner_ad_order_id").references(()=>q0.id),createdAt:ve("created_at").defaultNow()});const fJ=Et("expenses",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),category:V("category").notNull(),amount:ft("amount",{precision:10,scale:2}).notNull(),description:V("description"),invoiceUrl:V("invoice_url"),expenseDate:ve("expense_date").notNull().defaultNow(),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),pJ=Et("admin_notifications",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),type:V("type").notNull(),category:V("category"),title:V("title").notNull(),message:V("message").notNull(),isRead:nt("is_read").default(!1),isActionable:nt("is_actionable").default(!0),listingCount:Pt("listing_count"),threshold:Pt("threshold"),createdAt:ve("created_at").defaultNow(),readAt:ve("read_at")}),xJ=Et("contact_submissions",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),subject:V("subject").notNull(),message:V("message").notNull(),ipAddress:V("ip_address"),userAgent:V("user_agent"),emailSent:nt("email_sent").default(!1),emailSentAt:ve("email_sent_at"),createdAt:ve("created_at").defaultNow()},t=>[mt("idx_contact_email").on(t.email),mt("idx_contact_created").on(t.createdAt),mt("idx_contact_ip").on(t.ipAddress)]);Ht(xJ).omit({id:!0,emailSent:!0,emailSentAt:!0,createdAt:!0});const q0=Et("banner_ad_orders",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),sponsorName:V("sponsor_name").notNull(),sponsorEmail:V("sponsor_email").notNull(),sponsorCompany:V("sponsor_company"),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url"),link:V("link").notNull(),placements:V("placements").array().notNull().default(Xe`ARRAY[]::text[]`),category:V("category"),tier:V("tier").notNull(),monthlyRate:ft("monthly_rate",{precision:10,scale:2}).notNull(),totalAmount:ft("total_amount",{precision:10,scale:2}).notNull(),creationFee:ft("creation_fee",{precision:10,scale:2}).default("40.00"),grandTotal:ft("grand_total",{precision:10,scale:2}).notNull(),promoCode:V("promo_code"),discountAmount:ft("discount_amount",{precision:10,scale:2}).default("0.00"),approvalStatus:V("approval_status").notNull().default("draft"),paymentStatus:V("payment_status").notNull().default("pending"),paypalOrderId:V("paypal_order_id"),paypalPaymentDate:ve("paypal_payment_date"),startDate:ve("start_date"),endDate:ve("end_date"),expirationReminderSent:nt("expiration_reminder_sent").default(!1),expirationReminderSentAt:ve("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_banner_orders_status").on(t.approvalStatus,t.paymentStatus),mt("idx_banner_orders_email").on(t.sponsorEmail)]),gJ=Et("banner_ads",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),orderId:_e("order_id").references(()=>q0.id),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url").notNull(),link:V("link").notNull(),placements:V("placements").array().notNull().default(Xe`ARRAY[]::text[]`),category:V("category"),listingId:_e("listing_id"),listingType:V("listing_type"),isActive:nt("is_active").default(!0),startDate:ve("start_date").notNull(),endDate:ve("end_date"),impressions:Pt("impressions").default(0),clicks:Pt("clicks").default(0),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_banner_ads_placements").on(t.placements),mt("idx_banner_ads_active").on(t.isActive),mt("idx_banner_ads_dates").on(t.startDate,t.endDate),mt("idx_banner_ads_order").on(t.orderId)]);Et("verification_submissions",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id),type:V("type").notNull(),status:V("status").notNull().default("pending"),aircraftId:_e("aircraft_id").references(()=>H0.id),submissionData:Jd("submission_data").notNull(),documentUrls:V("document_urls").array().default(Xe`ARRAY[]::text[]`),reviewedBy:_e("reviewed_by").references(()=>Rt.id),reviewedAt:ve("reviewed_at"),reviewNotes:V("review_notes"),rejectionReason:V("rejection_reason"),faaRegistryChecked:nt("faa_registry_checked").default(!1),faaRegistryMatch:nt("faa_registry_match"),faaRegistryData:Jd("faa_registry_data"),sources:V("sources").array().default(Xe`ARRAY[]::text[]`),fileHashes:V("file_hashes").array().default(Xe`ARRAY[]::text[]`),pilotLicenseExpiresAt:ve("pilot_license_expires_at"),medicalCertExpiresAt:ve("medical_cert_expires_at"),insuranceExpiresAt:ve("insurance_expires_at"),governmentIdExpiresAt:ve("government_id_expires_at"),expirationNotificationSent:nt("expiration_notification_sent").default(!1),lastNotificationSentAt:ve("last_notification_sent_at"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()});const CL=Et("crm_leads",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:_e("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),status:V("status").notNull().default("new"),source:V("source"),value:ft("value",{precision:10,scale:2}),assignedTo:_e("assigned_to").references(()=>Rt.id),notes:V("notes"),tags:V("tags").array().default(Xe`ARRAY[]::text[]`),convertedToContactId:_e("converted_to_contact_id"),convertedToDealId:_e("converted_to_deal_id"),convertedAt:ve("converted_at"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),W0=Et("crm_contacts",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:_e("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),userId:_e("user_id").references(()=>Rt.id),assignedTo:_e("assigned_to").references(()=>Rt.id),notes:V("notes"),tags:V("tags").array().default(Xe`ARRAY[]::text[]`),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),_L=Et("crm_deals",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),name:V("name").notNull(),stage:V("stage").notNull().default("lead"),value:ft("value",{precision:10,scale:2}).notNull(),probability:Pt("probability").default(50),contactId:_e("contact_id").references(()=>W0.id),assignedTo:_e("assigned_to").references(()=>Rt.id),expectedCloseDate:ve("expected_close_date"),closedDate:ve("closed_date"),description:V("description"),notes:V("notes"),tags:V("tags").array().default(Xe`ARRAY[]::text[]`),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()}),yJ=Et("crm_activities",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),type:V("type").notNull(),subject:V("subject").notNull(),description:V("description"),leadId:_e("lead_id").references(()=>CL.id),contactId:_e("contact_id").references(()=>W0.id),dealId:_e("deal_id").references(()=>_L.id),createdBy:_e("created_by").notNull().references(()=>Rt.id),assignedTo:_e("assigned_to").references(()=>Rt.id),dueDate:ve("due_date"),completedAt:ve("completed_at"),isCompleted:nt("is_completed").default(!1),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()});Ht(Rt).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({certifications:di(Zs(NL)).default([]),totalFlightHours:Qs().min(0).default(0)});Ht(iJ).omit({id:!0,createdAt:!0});Ht(aJ).omit({id:!0,createdAt:!0});Ht(H0).omit({id:!0,createdAt:!0,updatedAt:!0,viewCount:!0}).extend({year:Qs().min(1900).max(new Date().getFullYear()+1),totalTime:Qs().min(0),hourlyRate:se().regex(/^\d+(\.\d{1,2})?$/),requiredCertifications:di(se()).min(1),images:di(se()).min(1).max(15),engineType:Zs(XZ).optional(),engineCount:Qs().min(1).max(8).optional(),seatingCapacity:Qs().min(1).max(20).optional(),latitude:se().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:se().regex(/^-?\d+(\.\d+)?$/).optional()});const vJ=Ht(uf).omit({id:!0,createdAt:!0,updatedAt:!0,flagCount:!0,viewCount:!0}).extend({category:Zs(ZZ),images:di(se()).max(15),price:se().regex(/^\d+(\.\d{1,2})?$/).optional(),monthlyFee:se().regex(/^\d+(\.\d{1,2})?$/).optional(),latitude:se().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:se().regex(/^-?\d+(\.\d+)?$/).optional()}),jJ=Et("logbook_entries",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id),flightDate:Oc("flight_date").notNull(),tailNumber:V("tail_number"),aircraftType:V("aircraft_type"),route:V("route"),timeDay:ft("time_day",{precision:6,scale:2}).default(Xe`0`).notNull(),timeNight:ft("time_night",{precision:6,scale:2}).default(Xe`0`).notNull(),pic:ft("pic",{precision:6,scale:2}).default(Xe`0`).notNull(),sic:ft("sic",{precision:6,scale:2}).default(Xe`0`).notNull(),dual:ft("dual",{precision:6,scale:2}).default(Xe`0`).notNull(),instrumentActual:ft("instrument_actual",{precision:6,scale:2}).default(Xe`0`).notNull(),approaches:Pt("approaches").default(0).notNull(),landingsDay:Pt("landings_day").default(0).notNull(),landingsNight:Pt("landings_night").default(0).notNull(),holds:Pt("holds").default(0).notNull(),remarks:V("remarks"),maneuvers:Jd("maneuvers"),hobbsStart:ft("hobbs_start",{precision:8,scale:1}),hobbsEnd:ft("hobbs_end",{precision:8,scale:1}),signatureDataUrl:V("signature_data_url"),signedByName:V("signed_by_name"),signedAt:ve("signed_at"),signatureIp:V("signature_ip"),cfiSignatureDataUrl:V("cfi_signature_data_url"),cfiSignedByName:V("cfi_signed_by_name"),cfiSignedAt:ve("cfi_signed_at"),cfiSignatureIp:V("cfi_signature_ip"),isLocked:nt("is_locked").default(!1).notNull(),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_logbook_user").on(t.userId),mt("idx_logbook_date").on(t.flightDate)]),bJ=Et("logbook_pro_settings",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),medicalClass:V("medical_class"),medicalIssuedAt:Oc("medical_issued_at"),medicalExpiresAt:Oc("medical_expires_at"),flightReviewDate:Oc("flight_review_date"),ipcDate:Oc("ipc_date"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[z0("uniq_logbook_pro_settings_user").on(t.userId),mt("idx_logbook_pro_settings_user").on(t.userId)]),wJ=Et("approach_plates",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),icao:V("icao"),airportName:V("airport_name"),procedureName:V("procedure_name").notNull(),plateType:V("plate_type").default("IAP"),fileName:V("file_name").notNull(),storagePath:V("storage_path").notNull(),cycle:V("cycle").notNull(),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_approach_plates_icao").on(t.icao),mt("idx_approach_plates_cycle").on(t.cycle),mt("idx_approach_plates_procedure").on(t.procedureName)]),NJ=Et("flight_plans",{id:_e("id").primaryKey().default(Xe`gen_random_uuid()`),userId:_e("user_id").notNull().references(()=>Rt.id,{onDelete:"cascade"}),title:V("title").notNull(),departure:V("departure").notNull(),destination:V("destination").notNull(),route:V("route"),alternate:V("alternate"),plannedDepartureAt:ve("planned_departure_at"),plannedArrivalAt:ve("planned_arrival_at"),aircraftType:V("aircraft_type"),tailNumber:V("tail_number"),fuelOnBoard:ft("fuel_on_board",{precision:8,scale:2}),fuelRequired:ft("fuel_required",{precision:8,scale:2}),notes:V("notes"),createdAt:ve("created_at").defaultNow(),updatedAt:ve("updated_at").defaultNow()},t=>[mt("idx_flight_plans_user").on(t.userId),mt("idx_flight_plans_departure").on(t.plannedDepartureAt)]);Ht(jJ).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0,isLocked:!0,signatureDataUrl:!0,signedAt:!0,signedByName:!0,signatureIp:!0,cfiSignatureDataUrl:!0,cfiSignedByName:!0,cfiSignedAt:!0,cfiSignatureIp:!0}).extend({flightDate:An.date(),timeDay:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),timeNight:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),pic:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),sic:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),dual:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),instrumentActual:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),approaches:Qs().min(0).optional(),landingsDay:Qs().min(0).optional(),landingsNight:Qs().min(0).optional(),holds:Qs().min(0).optional(),hobbsStart:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),hobbsEnd:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or(""))});Ht(bJ).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({medicalIssuedAt:se().optional().nullable(),medicalExpiresAt:se().optional().nullable(),flightReviewDate:se().optional().nullable(),ipcDate:se().optional().nullable()});Ht(NJ).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({plannedDepartureAt:An.date().optional().nullable(),plannedArrivalAt:An.date().optional().nullable(),fuelOnBoard:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or("")),fuelRequired:se().regex(/^\d+(\.\d{1,2})?$/).optional().or(Or(""))});Ht(wJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({plateType:Zs(rJ).optional()});Ht(oJ).omit({id:!0,createdAt:!0});Ht(Xg).omit({id:!0,createdAt:!0,updatedAt:!0,actualHours:!0,status:!0,isPaid:!0,payoutCompleted:!0,baseCost:!0,salesTax:!0,platformFeeRenter:!0,platformFeeOwner:!0,processingFee:!0,totalCostRenter:!0,ownerPayout:!0}).extend({startDate:An.date(),endDate:An.date(),estimatedHours:se().regex(/^\d+(\.\d{1,2})?$/),hourlyRate:se().regex(/^\d+(\.\d{1,2})?$/)});Ht(dJ).omit({id:!0,createdAt:!0,isRead:!0});Ht(uJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({rating:Qs().min(1).max(5),communicationRating:Qs().min(1).max(5).optional(),cleanlinessRating:Qs().min(1).max(5).optional(),accuracyRating:Qs().min(1).max(5).optional(),comment:se().max(1e3).optional()});Ht(hJ).omit({id:!0,createdAt:!0}).extend({listingType:Zs(["marketplace","aircraft"])});const SJ=Ht(CL).omit({id:!0,createdAt:!0,updatedAt:!0,convertedToContactId:!0,convertedToDealId:!0,convertedAt:!0}).extend({status:Zs(JZ).default("new"),source:Zs(sJ).optional(),value:se().regex(/^\d+(\.\d{1,2})?$/).optional()});Ht(W0).omit({id:!0,createdAt:!0,updatedAt:!0});Ht(_L).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({stage:Zs(eJ).default("lead"),value:se().regex(/^\d+(\.\d{1,2})?$/),probability:Qs().min(0).max(100).default(50)});Ht(yJ).omit({id:!0,createdAt:!0,updatedAt:!0,isCompleted:!0,completedAt:!0}).extend({type:Zs(tJ)});const CJ=Ht(SL).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0,applicableCategories:!0}).extend({code:se().min(1,"Promo code is required").toUpperCase(),description:se().optional(),discountType:Zs(["free_7_day","percentage","fixed_amount","waive_creation_fee"]),discountValue:se().regex(/^\d+(\.\d{1,2})?$/).optional(),maxUses:Qs().int().positive().optional(),isActive:ya().default(!0),validFrom:An.date().optional(),validUntil:An.date().optional(),applicableToMarketplace:ya().default(!0),applicableToBannerAds:ya().default(!1)}),_J=Ht(fJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({category:Zs(nJ),amount:se().regex(/^\d+(\.\d{1,2})?$/),expenseDate:An.date().optional(),invoiceUrl:se().optional()});Ht(pJ).omit({id:!0,createdAt:!0,readAt:!0});const kJ=Ht(q0).omit({id:!0,createdAt:!0,updatedAt:!0,paypalOrderId:!0,paypalPaymentDate:!0}).extend({sponsorName:se().min(1,"Sponsor name is required"),sponsorEmail:se().email("Valid email is required"),title:se().min(1,"Title is required"),link:se().url("Please enter a valid URL (e.g., https://www.example.com)"),placements:di(se()).min(1,"At least one page placement is required"),tier:Zs(["1month","3months","6months","12months"])}),PJ=Ht(gJ).omit({id:!0,impressions:!0,clicks:!0,createdAt:!0,updatedAt:!0}).extend({placements:di(se()).min(1,"At least one page placement is required"),imageUrl:se().min(1,"Banner image is required"),link:se().url("Please enter a valid URL (e.g., https://www.example.com)"),title:se().min(1,"Title is required")});Ht(lJ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,employerNotes:!0}).extend({firstName:se().min(1,"First name is required"),lastName:se().min(1,"Last name is required"),email:se().email("Valid email is required"),phone:se().optional(),coverLetter:se().optional(),resumeUrl:se().min(1,"Resume is required")});const EJ=Ht(cJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({title:se().min(1,"Title is required"),message:se().min(1,"Message is required"),promoCode:se().optional(),variant:Zs(["info","success","warning","destructive"]).default("info")});Ht(mJ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,payoutBatchId:!0,payoutItemId:!0,transactionId:!0,processedAt:!0,processedBy:!0,failureReason:!0,adminNotes:!0}).extend({amount:se().regex(/^\d+(\.\d{1,2})?$/,"Amount must be a valid number"),paypalEmail:se().email("Valid PayPal email is required")});const TJ=Zn({firstName:se().min(1,"First name is required"),lastName:se().min(1,"Last name is required"),phone:se().optional(),totalFlightHours:An.number().min(0).optional(),certifications:di(se()),profilePicture:Fl().optional(),pilotLicense:Fl().optional(),insurance:Fl().optional()}),AJ=["Cessna 172","Cessna 182","Piper Cherokee","Cirrus SR22","Diamond DA40"];function FJ(){var v,b,g,p;const[t,e]=f.useState(!1),[n,r]=f.useState(!1),{toast:i}=$t(),{user:a}=Os(),{data:o,isLoading:l}=Ge({queryKey:["/api/users",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:c=[]}=Ge({queryKey:["/api/rentals/owner",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:d=[]}=Ge({queryKey:["/api/rentals/renter",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),u=c.length+d.length,h=nr({resolver:rr(TJ),defaultValues:{firstName:"",lastName:"",phone:"",totalFlightHours:0,certifications:[]}});f.useEffect(()=>{o&&h.reset({firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",totalFlightHours:o.totalFlightHours||0,certifications:o.certifications||[]})},[o,h]);const m=De({mutationFn:async j=>{var N,P,S;let w={...j.updates};if((N=j.files)!=null&&N.profilePicture||(P=j.files)!=null&&P.license||(S=j.files)!=null&&S.insurance){r(!0);const C=new FormData;j.files.profilePicture&&C.append("images",j.files.profilePicture),j.files.license&&C.append("images",j.files.license),j.files.insurance&&C.append("images",j.files.insurance);try{const k=await fetch("/api/upload-images",{method:"POST",body:C,credentials:"include"});if(!k.ok)throw new Error("Failed to upload documents");const F=(await k.json()).imageUrls||[];let L=0;j.files.profilePicture&&F[L]&&(w.profileImageUrl=F[L],L++),j.files.license&&F[L]&&(w.pilotLicenseUrl=F[L],L++),j.files.insurance&&F[L]&&(w.insuranceUrl=F[L])}finally{r(!1)}}return await Ae("PATCH",`/api/users/${a==null?void 0:a.id}`,w)},onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/users",a==null?void 0:a.id]}),Fe.invalidateQueries({queryKey:["/api/auth/user"]}),i({title:"Profile Updated",description:"Your profile has been successfully updated."}),e(!1),h.reset()},onError:j=>{i({title:"Error",description:j.message||"Failed to update profile",variant:"destructive"})}}),x=j=>{var P,S,C;const w={firstName:j.firstName,lastName:j.lastName,phone:j.phone,totalFlightHours:j.totalFlightHours,certifications:j.certifications},N={};(P=j.profilePicture)!=null&&P[0]&&(N.profilePicture=j.profilePicture[0]),(S=j.pilotLicense)!=null&&S[0]&&(N.license=j.pilotLicense[0]),(C=j.insurance)!=null&&C[0]&&(N.insurance=j.insurance[0]),m.mutate({updates:w,files:N})};return l||!o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsx($,{className:"mb-8",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[s.jsxs(Li,{className:"h-24 w-24","data-testid":"avatar-profile",children:[s.jsx($i,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(Ui,{children:[(v=o.firstName)==null?void 0:v[0],(b=o.lastName)==null?void 0:b[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-1","data-testid":"text-profile-name",children:[o.firstName," ",o.lastName]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-3",children:o.email}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx(i5,{user:o,type:"renter",size:"md"}),!o.identityVerified&&s.jsx(at,{href:"/verify-identity",children:s.jsxs(O,{variant:"outline",size:"sm",className:"w-full sm:w-auto","data-testid":"button-start-verification",children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Start Verification"]})})]})]}),s.jsxs(Qt,{open:t,onOpenChange:e,children:[s.jsx(PO,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"w-full sm:w-auto","data-testid":"button-edit-profile",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Edit Profile"}),s.jsx(ss,{children:"Update your profile information, certifications, and documents"})]}),s.jsx(Qr,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(x),className:"space-y-6 py-4",children:[s.jsx(ae,{control:h.control,name:"profilePicture",render:({field:{onChange:j,value:w,...N}})=>{var P,S;return s.jsxs(ne,{children:[s.jsx(re,{children:"Profile Picture"}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Li,{className:"h-20 w-20",children:[s.jsx($i,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(Ui,{children:[(P=o.firstName)==null?void 0:P[0],(S=o.lastName)==null?void 0:S[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(q,{type:"file",accept:"image/*",onChange:C=>j(C.target.files),...N,"data-testid":"input-profile-picture"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload a new profile picture (JPG, PNG, or GIF)"})]})]})}),s.jsx(ce,{})]})}}),s.jsx(Je,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:h.control,name:"firstName",render:({field:j})=>s.jsxs(ne,{children:[s.jsx(re,{children:"First Name"}),s.jsx(oe,{children:s.jsx(q,{...j,"data-testid":"input-edit-firstname"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:h.control,name:"lastName",render:({field:j})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Last Name"}),s.jsx(oe,{children:s.jsx(q,{...j,"data-testid":"input-edit-lastname"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:h.control,name:"phone",render:({field:j})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Phone Number"}),s.jsx(oe,{children:s.jsx(q,{...j,placeholder:"+1 (555) 123-4567","data-testid":"input-edit-phone"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:h.control,name:"totalFlightHours",render:({field:j})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Total Flight Hours"}),s.jsx(oe,{children:s.jsx(q,{type:"number",...j,onChange:w=>j.onChange(parseInt(w.target.value)||0),"data-testid":"input-edit-hours"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:h.control,name:"certifications",render:()=>s.jsxs(ne,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(re,{children:"Pilot Certifications"}),s.jsx(Es,{children:"Select all certifications you hold"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:NL.map(j=>s.jsx(ae,{control:h.control,name:"certifications",render:({field:w})=>{var N;return s.jsxs(ne,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:(N=w.value)==null?void 0:N.includes(j),onCheckedChange:P=>{var S;return P?w.onChange([...w.value,j]):w.onChange((S=w.value)==null?void 0:S.filter(C=>C!==j))},"data-testid":`checkbox-cert-${j}`})}),s.jsx(re,{className:"font-normal cursor-pointer",children:j})]},j)}},j))}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h3",{className:"font-semibold",children:"Document Uploads"}),s.jsx(ae,{control:h.control,name:"pilotLicense",render:({field:{onChange:j,value:w,...N}})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Pilot License"}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{type:"file",accept:"image/*,.pdf",onChange:P=>j(P.target.files),...N,"data-testid":"input-pilot-license"}),o.pilotLicenseUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("a",{href:o.pilotLicenseUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current license on file"})]})]})}),s.jsx(Es,{children:"Upload a copy of your pilot license (image or PDF)"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:h.control,name:"insurance",render:({field:{onChange:j,value:w,...N}})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Insurance Certificate"}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{type:"file",accept:"image/*,.pdf",onChange:P=>j(P.target.files),...N,"data-testid":"input-insurance"}),o.insuranceUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("a",{href:o.insuranceUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current insurance on file"})]})]})}),s.jsx(Es,{children:"Upload a copy of your insurance certificate (image or PDF)"}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{e(!1),h.reset()},disabled:m.isPending||n,children:"Cancel"}),s.jsx(O,{type:"submit",disabled:m.isPending||n,"data-testid":"button-save-profile",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Jm,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):m.isPending?"Saving...":"Save Changes"})]})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(rl,{className:"h-4 w-4"}),"Total Hours"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:((g=o.totalFlightHours)==null?void 0:g.toLocaleString())||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Tl,{className:"h-4 w-4"}),"Certifications"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-cert-count",children:((p=o.certifications)==null?void 0:p.length)||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Rentals"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-rental-count",children:u})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Verification"]}),s.jsxs(G,{className:o.identityVerified?"bg-chart-2 text-white":"",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1"}),o.identityVerified?"Verified":"Unverified"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.identityVerified&&s.jsxs(G,{variant:"outline",className:"bg-background",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1 text-chart-2"}),"ID Verified"]}),o.licenseVerified&&s.jsxs(G,{variant:"outline",className:"bg-background",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1 text-chart-2"}),"License Verified"]}),o.backgroundCheckCompleted&&s.jsxs(G,{variant:"outline",className:"bg-background",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Background Check"]}),o.pilotLicenseUrl&&s.jsxs(G,{variant:"outline",className:"bg-background",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1 text-primary"}),"License on File"]}),o.insuranceUrl&&s.jsxs(G,{variant:"outline",className:"bg-background",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1 text-primary"}),"Insurance on File"]})]})]})]})})}),s.jsxs(pu,{defaultValue:"certifications",className:"space-y-6",children:[s.jsxs(nc,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto","data-testid":"tabs-profile",children:[s.jsx(kt,{value:"certifications",className:"text-xs sm:text-sm","data-testid":"tab-certifications",children:"Certifications"}),s.jsx(kt,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-types",children:"Aircraft"}),s.jsx(kt,{value:"history",className:"text-xs sm:text-sm","data-testid":"tab-rental-history",children:"History"}),s.jsx(kt,{value:"reviews",className:"text-xs sm:text-sm","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(It,{value:"certifications",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Pilot Certifications"})}),s.jsx(U,{children:o.certifications&&o.certifications.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.certifications.map(j=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`cert-${j}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Tl,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:j}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilot Certification"})]})]})},j))}):s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:'No certifications added yet. Click "Edit Profile" to add certifications.'})})]})}),s.jsx(It,{value:"aircraft",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Aircraft Types Flown"})}),s.jsx(U,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:AJ.map(j=>s.jsxs(G,{variant:"outline",className:"px-4 py-2 text-sm","data-testid":`aircraft-type-${j}`,children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),j]},j))})})]})}),s.jsx(It,{value:"history",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Rental History"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>s.jsxs("div",{className:"p-4 border rounded-lg hover-elevate","data-testid":`rental-history-${j}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"2018 Cessna 172 Skyhawk"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]}),s.jsx(G,{className:"bg-chart-2 text-white",children:"Completed"})]}),s.jsx(Je,{className:"my-2"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dec 1-3, 2024  6 hours"}),s.jsx("span",{className:"font-semibold",children:"$870.00"})]})]},j))})})]})}),s.jsx(It,{value:"reviews",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Reviews"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No reviews yet"})})]})})]})]})})}const RJ=.0825,DJ={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40,jobs:40};function $2(t,e){const n=DJ[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25}function IJ(t,e,n){const r=$2(t,e);return $2(t,n)-r}function OJ(t){return t+t*RJ}const Vf=[{id:"basic",label:"Basic",price:25,description:"Essential features for smaller listings",features:["30-day listing","Basic visibility","Up to 3 images"]},{id:"standard",label:"Standard",price:40,description:"Enhanced features for better exposure",features:["30-day listing","Enhanced visibility","Up to 5 images","Featured badge"]},{id:"premium",label:"Premium",price:100,description:"Maximum visibility and features",features:["30-day listing","Top placement","Up to 10 images","Featured badge","Priority support"]}];function MJ({listing:t,isOpen:e,onClose:n}){const[r,i]=f.useState(""),{toast:a}=$t(),[,o]=en(),l=Vf.find(x=>x.id===t.tier),c=Vf.findIndex(x=>x.id===t.tier),d=Vf.filter((x,v)=>v>c),u=()=>{if(!r){a({title:"Select a tier",description:"Please select a tier to upgrade to",variant:"destructive"});return}const x=IJ(t.category,t.tier||"basic",r),v=OJ(x),b={listingId:t.id,listingTitle:t.title,currentTier:t.tier||"basic",newTier:r,category:t.category,upgradeDelta:x,totalWithTax:v};localStorage.setItem("upgradeContext",JSON.stringify(b)),n(),o("/marketplace/listing/checkout?mode=upgrade")},h=Vf.find(x=>x.id===r),m=h?h.price-((l==null?void 0:l.price)||25):0;return s.jsx(Qt,{open:e,onOpenChange:n,children:s.jsxs(Wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsxs(Zt,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5"}),"Upgrade Your Listing"]}),s.jsx(ss,{children:"Boost your listing's visibility and features by upgrading to a higher tier"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Tier"}),s.jsxs(G,{variant:"secondary",className:"text-sm",children:[l==null?void 0:l.label," - $",l==null?void 0:l.price,"/month"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-4",children:"Available Upgrades"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(x=>{const v=x.price-((l==null?void 0:l.price)||25),b=r===x.id;return s.jsxs($,{className:`cursor-pointer transition-all ${b?"border-primary ring-2 ring-primary":"hover-elevate"}`,onClick:()=>i(x.id),"data-testid":`tier-option-${x.id}`,children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(J,{className:"text-lg",children:x.label}),s.jsxs(ke,{className:"text-sm mt-1",children:["$",x.price,"/month"]})]}),b&&s.jsx(Uh,{className:"w-5 h-5 text-primary"})]}),s.jsx(ke,{className:"mt-2",children:x.description})]}),s.jsxs(U,{children:[s.jsx("ul",{className:"space-y-2",children:x.features.map((g,p)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Uh,{className:"w-4 h-4 text-green-600"}),g]},p))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Upgrade cost: ",s.jsxs("span",{className:"text-foreground",children:["$",v]})]})})]})]},x.id)})})]}),d.length===0&&s.jsx($,{children:s.jsx(U,{className:"py-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"You're already at the highest tier! "})})}),r&&s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Upgrade Summary"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l==null?void 0:l.label,"  ",h==null?void 0:h.label]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",m]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"one-time upgrade fee"})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(O,{variant:"outline",onClick:n,"data-testid":"button-cancel-upgrade",children:"Cancel"}),s.jsx(O,{onClick:u,disabled:!r,"data-testid":"button-confirm-upgrade",children:"Proceed to Payment"})]})]})]})})}function LJ(){const{user:t}=Os(),[,e]=en(),{toast:n}=$t(),[r,i]=f.useState(null),{data:a=[],isLoading:o}=Ge({queryKey:["/api/marketplace/user",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:l=[],isLoading:c}=Ge({queryKey:["/api/aircraft/owner",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),d=De({mutationFn:async m=>await Ae("PATCH",`/api/aircraft/${m}/refresh`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/aircraft/owner",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your aircraft listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),u=De({mutationFn:async m=>await Ae("PATCH",`/api/marketplace/${m}/refresh`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/marketplace/user",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your marketplace listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),h=m=>({"aircraft-sale":"Aircraft For Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[m]||m;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-my-listings-title",children:"My Listings"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your aircraft rentals and marketplace listings"})]}),s.jsxs(pu,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(nc,{className:"grid w-full grid-cols-2 h-auto",children:[s.jsxs(kt,{value:"marketplace",className:"text-xs sm:text-sm","data-testid":"tab-marketplace-listings",children:["Marketplace (",a.length,")"]}),s.jsxs(kt,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-listings",children:["Rentals (",l.length,")"]})]}),s.jsxs(It,{value:"marketplace",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Marketplace Listings"}),s.jsx(O,{onClick:()=>e("/create-marketplace-listing"),className:"w-full sm:w-auto","data-testid":"button-create-marketplace",children:"Create New Listing"})]}),o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):a.length===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings yet"}),s.jsx(O,{onClick:()=>e("/create-marketplace-listing"),"data-testid":"button-create-first-marketplace",children:"Create Your First Listing"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>s.jsxs($,{className:"hover-elevate",children:[s.jsx(X,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(G,{variant:m.isActive?"default":"secondary",className:"mb-2",children:m.isActive?"Active":"Inactive"}),s.jsx(J,{className:"text-lg line-clamp-2",children:m.title}),s.jsx(ke,{className:"line-clamp-1",children:h(m.category)})]})})}),s.jsxs(U,{className:"space-y-3",children:[m.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:R0(m.price)})]}),(m.city||m.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"w-4 h-4"}),s.jsx("span",{children:m.city?`${m.city}, ${m.state}`:m.location})]}),m.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",new Date(m.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sa,{className:"w-4 h-4"}),s.jsxs("span",{children:[m.viewCount||0," views"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:s.jsxs(G,{variant:"outline",className:"text-xs",children:[m.tier==="basic"?"Basic":m.tier==="standard"?"Standard":"Premium"," Tier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-marketplace-listing/${m.id}`),"data-testid":`button-edit-marketplace-${m.id}`,children:"Edit"}),m.tier!=="premium"&&s.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>i(m),"data-testid":`button-upgrade-marketplace-${m.id}`,children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Upgrade"]}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>u.mutate(m.id),disabled:u.isPending,"data-testid":`button-refresh-marketplace-${m.id}`,children:s.jsx(tx,{className:"h-4 w-4"})})]})]})]})]},m.id))})]}),s.jsxs(It,{value:"aircraft",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Aircraft Rental Listings"}),s.jsx(O,{onClick:()=>e("/list-aircraft"),className:"w-full sm:w-auto","data-testid":"button-list-aircraft",children:"List New Aircraft"})]}),c?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):l.length===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft listed for rent yet"}),s.jsx(O,{onClick:()=>e("/list-aircraft"),"data-testid":"button-list-first-aircraft",children:"List Your First Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>s.jsxs($,{className:"hover-elevate",children:[s.jsx(X,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(G,{variant:m.isListed?"default":"secondary",className:"mb-2",children:m.isListed?"Listed":"Unlisted"}),s.jsxs(J,{className:"text-lg",children:[m.year," ",m.make," ",m.model]}),s.jsx(ke,{children:m.registration})]})})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",m.hourlyRate,"/hour"]})]}),m.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"w-4 h-4"}),s.jsx("span",{children:m.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsx("span",{children:m.category||"Single Engine"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sa,{className:"w-4 h-4"}),s.jsxs("span",{children:[m.viewCount||0," views"]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/aircraft/${m.id}`),"data-testid":`button-view-aircraft-${m.id}`,children:"View"}),s.jsx(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-aircraft/${m.id}`),"data-testid":`button-edit-aircraft-${m.id}`,children:"Edit"}),s.jsx(O,{variant:"outline",size:"icon",onClick:()=>d.mutate(m.id),disabled:d.isPending,"data-testid":`button-refresh-aircraft-${m.id}`,children:s.jsx(tx,{className:"h-4 w-4"})})]})]})]},m.id))})]})]}),r&&s.jsx(MJ,{listing:r,isOpen:!!r,onClose:()=>i(null)})]})}function $J(){const[t,e]=f.useState(null),[n,r]=f.useState(""),[i,a]=f.useState(""),{data:o=[]}=Ge({queryKey:["/api/messages/conversations"]}),{data:l=[]}=Ge({queryKey:["/api/messages",t],enabled:!!t}),c=o.filter(h=>{var m;return h.userName.toLowerCase().includes(i.toLowerCase())||((m=h.aircraftName)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))}),d=()=>{!n.trim()||!t||r("")},u=o.find(h=>h.id===t);return s.jsx("div",{className:"container mx-auto px-4 py-8 h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-messages-title",children:"Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Communicate with aircraft owners and renters"})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[s.jsxs($,{className:"md:col-span-1 flex flex-col",children:[s.jsx(X,{className:"space-y-0 pb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{placeholder:"Search conversations...",value:i,onChange:h=>a(h.target.value),className:"pl-10","data-testid":"input-search-conversations"})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(cm,{className:"h-full",children:c.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(OC,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:o.length===0?"No messages yet":"No conversations found"})]}):s.jsx("div",{children:c.map(h=>s.jsx("div",{onClick:()=>e(h.id),className:`
                          p-4 border-b cursor-pointer hover-elevate transition-colors
                          ${t===h.id?"bg-accent/10":""}
                        `,"data-testid":`conversation-${h.id}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs(Li,{className:"h-10 w-10 flex-shrink-0",children:[s.jsx($i,{src:h.userAvatar}),s.jsx(Ui,{children:h.userName[0]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:h.userName}),h.unreadCount>0&&s.jsx(G,{variant:"default",className:"ml-2 h-5 min-w-5 rounded-full text-xs",children:h.unreadCount})]}),h.aircraftName&&s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Re: ",h.aircraftName]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.lastMessage}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(h.lastMessageTime).toLocaleDateString()})]})]})},h.id))})})})]}),s.jsx($,{className:"md:col-span-2 flex flex-col",children:u?s.jsxs(s.Fragment,{children:[s.jsx(X,{className:"border-b",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Li,{className:"h-10 w-10",children:[s.jsx($i,{src:u.userAvatar}),s.jsx(Ui,{children:u.userName[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.userName}),u.aircraftName&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u.aircraftName})]})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(cm,{className:"h-full p-4",children:l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})}):s.jsx("div",{className:"space-y-4",children:l.map(h=>s.jsx("div",{className:`flex ${h.senderId==="current-user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`
                                max-w-[70%] rounded-lg p-3
                                ${h.senderId==="current-user"?"bg-primary text-primary-foreground":"bg-muted"}
                              `,children:[s.jsx("p",{className:"text-sm",children:h.content}),s.jsx("p",{className:`
                                text-xs mt-1
                                ${h.senderId==="current-user"?"text-primary-foreground/70":"text-muted-foreground"}
                              `,children:new Date(h.timestamp).toLocaleTimeString()})]})},h.id))})})}),s.jsxs("div",{className:"border-t p-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ns,{placeholder:"Type your message...",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},className:"resize-none",rows:2,"data-testid":"textarea-message"}),s.jsx(O,{onClick:d,disabled:!n.trim(),className:"self-end","data-testid":"button-send-message",children:s.jsx(PR,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(OC,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to start messaging"})]})})})]})]})})}function UJ(){var l,c,d,u,h,m;const{user:t}=Os(),[,e]=en(),[n,r]=f.useState(null),{data:i,isLoading:a}=Ge({queryKey:["/api/favorites"],enabled:!!t}),o=x=>({"aircraft-sale":"Aircraft for Sale",job:"Aviation Jobs",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[x]||x;return t?s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-favorites-title",children:"My Favorites"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your saved aircraft rentals and marketplace listings"})]}),s.jsxs(pu,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(nc,{className:"grid w-full grid-cols-2",children:[s.jsxs(kt,{value:"marketplace","data-testid":"tab-marketplace",children:["Marketplace (",((l=i==null?void 0:i.marketplace)==null?void 0:l.length)||0,")"]}),s.jsxs(kt,{value:"aircraft","data-testid":"tab-aircraft",children:["Aircraft Rentals (",((c=i==null?void 0:i.aircraft)==null?void 0:c.length)||0,")"]})]}),s.jsx(It,{value:"marketplace",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(x=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},x))}):((d=i==null?void 0:i.marketplace)==null?void 0:d.length)===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(mh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings saved yet"}),s.jsx(O,{onClick:()=>e("/marketplace"),"data-testid":"button-browse-marketplace",children:"Browse Marketplace"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=i==null?void 0:i.marketplace)==null?void 0:u.map(x=>s.jsxs($,{className:"hover-elevate cursor-pointer",onClick:()=>r(x.id),"data-testid":`card-marketplace-${x.id}`,children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-lg line-clamp-2",children:x.title}),s.jsx(ke,{className:"line-clamp-1",children:o(x.category)})]}),s.jsxs(U,{className:"space-y-3",children:[x.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:R0(x.price)})]}),(x.city||x.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"w-4 h-4"}),s.jsx("span",{children:x.city?`${x.city}, ${x.state}`:x.location})]}),x.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Listed ",new Date(x.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sa,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.viewCount||0," views"]})]})]})]},x.id))})}),s.jsx(It,{value:"aircraft",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(x=>s.jsx($,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},x))}):((h=i==null?void 0:i.aircraft)==null?void 0:h.length)===0?s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(mh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft saved yet"}),s.jsx(O,{onClick:()=>e("/"),"data-testid":"button-browse-aircraft",children:"Browse Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(m=i==null?void 0:i.aircraft)==null?void 0:m.map(x=>s.jsxs($,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/aircraft/${x.id}`),"data-testid":`card-aircraft-${x.id}`,children:[s.jsxs(X,{children:[s.jsxs(J,{className:"text-lg",children:[x.year," ",x.make," ",x.model]}),s.jsx(ke,{children:x.registration})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",x.hourlyRate,"/hour"]})]}),x.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"w-4 h-4"}),s.jsx("span",{children:x.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsx("span",{children:x.category||"Single Engine"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sa,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.viewCount||0," views"]})]})]})]},x.id))})})]}),s.jsx(D0,{listingId:n||"",open:!!n,onOpenChange:x=>{x||r(null)}})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx($,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(mh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to view your favorites"}),s.jsx(O,{onClick:()=>e("/login"),"data-testid":"button-login",children:"Sign In"})]})})})}function BJ({rentalId:t,userId:e,rentalStatus:n}){const[r,i]=f.useState([]),[a,o]=f.useState(""),[l,c]=f.useState(!1),[d,u]=f.useState(null),h=f.useRef(null),m=f.useRef(null);f.useEffect(()=>{if(n!=="active"){u("Messaging is only available for active rentals");return}const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const p=new WebSocket(g);return h.current=p,p.onopen=()=>{console.log("WebSocket connected"),c(!0),u(null)},p.onmessage=j=>{try{const w=JSON.parse(j.data);w.type==="error"?u(w.message):w.type==="chat"&&w.rentalId===t&&(i(N=>[...N,w]),setTimeout(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},100))}catch(w){console.error("Failed to parse message:",w)}},p.onerror=j=>{console.error("WebSocket error:",j),u("Connection error. Please try again."),c(!1)},p.onclose=()=>{console.log("WebSocket disconnected"),c(!1)},()=>{p.readyState===WebSocket.OPEN&&p.close()}}catch(p){console.error("Failed to create WebSocket:",p),u("Failed to connect to messaging service")}},[t,n]);const x=()=>{if(!a.trim()||!h.current||h.current.readyState!==WebSocket.OPEN)return;const b={type:"chat",rentalId:t,senderId:e,content:a.trim()};h.current.send(JSON.stringify(b)),o("")},v=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())};return n!=="active"?s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Messages"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Messaging is only available during active rentals"})})]}):s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{children:"Messages"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l?"bg-chart-2":"bg-destructive"}`,"data-testid":"status-connection"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Connected":"Disconnected"})]})]}),s.jsxs(U,{children:[d&&s.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:d}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(cm,{className:"h-[400px] pr-4",ref:m,children:s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):r.map((b,g)=>{const p=b.senderId===e;return s.jsxs("div",{className:`flex gap-3 ${p?"flex-row-reverse":""}`,"data-testid":`message-${g}`,children:[s.jsxs(Li,{className:"h-8 w-8",children:[s.jsx($i,{src:""}),s.jsx(Ui,{children:p?"You":"Them"})]}),s.jsxs("div",{className:`flex-1 max-w-[70%] ${p?"text-right":""}`,children:[s.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${p?"bg-primary text-primary-foreground":"bg-muted"}`,children:b.content}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(b.timestamp).toLocaleTimeString()})]})]},g)})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{placeholder:"Type a message...",value:a,onChange:b=>o(b.target.value),onKeyPress:v,disabled:!l,"data-testid":"input-message"}),s.jsx(O,{onClick:x,disabled:!l||!a.trim(),size:"icon","data-testid":"button-send-message",children:s.jsx(PR,{className:"h-4 w-4"})})]})]})]})]})}function VJ(){var Y,Q;const[,t]=Gm("/aircraft/:id"),[,e]=en(),[n,r]=f.useState("6"),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(!1),{user:u,isAuthenticated:h}=Os(),{toast:m}=$t(),[x]=f.useState({id:"rental-demo-123",status:"active",userId:"user-123"}),{data:v,isLoading:b,error:g}=Ge({queryKey:["/api/aircraft",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:p}=Ge({queryKey:["/api/users",v==null?void 0:v.ownerId],enabled:!!(v!=null&&v.ownerId)});f.useEffect(()=>{!b&&(g||!v)&&e("/404")},[b,g,v,e]),f.useEffect(()=>{v!=null&&v.id&&Ae("POST",`/api/aircraft/${v.id}/view`,{}).catch(()=>{})},[v==null?void 0:v.id]);const j=De({mutationFn:async H=>await Ae("POST","/api/rentals",H),onSuccess:H=>{e(`/rental-payment/${H.id}`),m({title:"Booking request created!",description:"Please complete payment to finalize your booking."})},onError:H=>{m({title:"Booking request failed",description:H.message||"Please try again later.",variant:"destructive"})}}),w=()=>{if(!h||!u){m({title:"Authentication required",description:"Please log in to request a booking.",variant:"destructive"});return}if(!i||!o){m({title:"Missing information",description:"Please select start and end dates.",variant:"destructive"});return}if(new Date(o)<new Date(i)){m({title:"Invalid dates",description:"End date must be on or after start date.",variant:"destructive"});return}if(!n||parseFloat(n)<=0){m({title:"Invalid flight hours",description:"Please enter estimated flight hours.",variant:"destructive"});return}d(!0)},N=()=>{if(!u)return;const H=parseFloat(v.hourlyRate),he=parseFloat(n)*H,z=he*.0825,R=he*.075,I=he*.075,de=he+z+R,A=de*.03,xe=de+A,Le=he-I;j.mutate({aircraftId:v.id,renterId:u.id,ownerId:v.ownerId,startDate:new Date(i).toISOString(),endDate:new Date(o).toISOString(),estimatedHours:n,hourlyRate:v.hourlyRate,baseCost:he.toFixed(2),salesTax:z.toFixed(2),platformFeeRenter:R.toFixed(2),platformFeeOwner:I.toFixed(2),processingFee:A.toFixed(2),totalCostRenter:xe.toFixed(2),ownerPayout:Le.toFixed(2)}),d(!1)};if(b||!v)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})});const P=parseFloat(v.hourlyRate),S=parseFloat(n)*P,C=S*.0825,k=S*.075,D=S+C+k,F=D*.03,L=D+F,B=v.images&&v.images.length>0?v.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"relative mb-6",children:s.jsxs(zg,{className:"w-full",children:[s.jsx(Hg,{children:B.map((H,le)=>s.jsx(qg,{children:s.jsx("div",{className:"aspect-[16/9] rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:H,alt:`${v.year} ${v.make} ${v.model} - Image ${le+1}`,className:"w-full h-full object-cover"})})},le))}),B.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(Wg,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(Kg,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-aircraft-title",children:[v.year," ",v.make," ",v.model]}),s.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ca,{className:"h-4 w-4"}),s.jsxs("span",{children:[v.location,v.airportCode?` (${v.airportCode})`:""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"h-4 w-4"}),s.jsxs("span",{children:[v.viewCount||0," views"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-4 w-4 fill-current text-accent"}),s.jsx("span",{className:"font-semibold text-foreground",children:"4.95"}),s.jsx("span",{children:"(24 reviews)"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"icon","data-testid":"button-share","aria-label":"Share listing",children:s.jsx(mz,{className:"h-5 w-5"})}),s.jsx(b5,{listingId:v.id,listingType:"aircraft",variant:"outline"})]})]})]}),s.jsx("section",{className:"container mx-auto px-4 pb-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Aircraft Specifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Make & Model"}),s.jsxs("div",{className:"font-semibold",children:[v.make," ",v.model]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),s.jsx("div",{className:"font-semibold",children:v.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Registration"}),s.jsx("div",{className:"font-semibold",children:v.registration})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Time"}),s.jsxs("div",{className:"font-semibold",children:[v.totalTime.toLocaleString()," hours"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),s.jsx("div",{className:"font-semibold",children:v.engine||"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Avionics"}),s.jsx("div",{className:"font-semibold",children:v.avionicsSuite||"N/A"})]})]})})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Required Certifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.requiredCertifications.map(H=>s.jsx(G,{className:"bg-primary text-primary-foreground px-4 py-2",children:H},H)),v.minFlightHours&&v.minFlightHours>0&&s.jsxs(G,{variant:"outline",className:"px-4 py-2",children:["Minimum ",v.minFlightHours," flight hours"]})]})})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Description"})}),s.jsx(U,{className:"prose prose-sm max-w-none",children:s.jsx("p",{children:v.description})})]}),x&&s.jsx(BJ,{rentalId:x.id,userId:x.userId,rentalStatus:x.status}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Aircraft Owner"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Li,{className:"h-16 w-16",children:[s.jsx($i,{src:(p==null?void 0:p.profileImageUrl)||void 0}),s.jsxs(Ui,{children:[(Y=p==null?void 0:p.firstName)==null?void 0:Y[0],(Q=p==null?void 0:p.lastName)==null?void 0:Q[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold mb-1","data-testid":"text-owner-name",children:[p==null?void 0:p.firstName," ",p==null?void 0:p.lastName]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[(p==null?void 0:p.averageRating)&&p.totalReviews&&p.totalReviews>0&&s.jsx(Sb,{rating:parseFloat(p.averageRating),totalReviews:p.totalReviews||0,size:"sm"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Response time: ",v.responseTime,"h"]}),s.jsxs("span",{children:["Acceptance rate: ",v.acceptanceRate,"%"]}),(p==null?void 0:p.isVerified)&&s.jsx(G,{className:"bg-chart-2 text-white",children:"Verified"})]})]})]}),s.jsx(O,{variant:"outline","data-testid":"button-message-owner",children:"Message Owner"})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs($,{className:"sticky top-24 shadow-xl",children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold","data-testid":"text-booking-rate",children:["$",P.toFixed(0)]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),v.insuranceIncluded&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Dn,{className:"h-4 w-4 text-chart-2"}),s.jsx("span",{className:"text-muted-foreground",children:"Insurance included"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"start-date",children:"Start Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{id:"start-date",type:"date",value:i,onChange:H=>a(H.target.value),className:"pl-10","data-testid":"input-start-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"end-date",children:"End Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{id:"end-date",type:"date",value:o,onChange:H=>l(H.target.value),min:i||void 0,className:"pl-10","data-testid":"input-end-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"hours",children:"Estimated Flight Hours"}),s.jsx(q,{id:"hours",type:"number",value:n,onChange:H=>r(H.target.value),min:"1",step:"0.5","data-testid":"input-estimated-hours"})]}),s.jsx(Je,{}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["$",P,"  ",n," hours"]}),s.jsxs("span",{"data-testid":"text-base-cost",children:["$",S.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{"data-testid":"text-sales-tax",children:["$",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{"data-testid":"text-platform-fee",children:["$",k.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{"data-testid":"text-subtotal",children:["$",D.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{"data-testid":"text-processing-fee",children:["$",F.toFixed(2)]})]})]}),s.jsx(Je,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-total-cost",children:["$",L.toFixed(2)]})]}),s.jsx(O,{className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg",onClick:w,disabled:j.isPending||!h,"data-testid":"button-request-booking",children:j.isPending?"Sending request...":"Request to Book"}),h&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-blue-900 font-semibold mb-1",children:" Don't forget to log your flight!"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["After your rental, visit your ",s.jsx("a",{href:"/logbook",className:"underline font-semibold",children:"digital logbook"})," to record flight time."]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"You won't be charged yet"})]})]})})]})}),s.jsx(Gl,{open:c,onOpenChange:d,children:s.jsxs(To,{className:"max-w-2xl",children:[s.jsxs(Ao,{children:[s.jsxs(Ro,{className:"flex items-center gap-2",children:[s.jsx(jN,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(Do,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-booking",children:"Cancel"}),s.jsx(Io,{onClick:N,className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-booking",children:"I Understand - Continue to Book"})]})]})})]})}function kL(t){return/^401: .*Unauthorized/.test(t.message)}function PL(t,e){return Object.hasOwn(t,e)}const{AbortController:Cv}=globalThis,EL=(t="Aborted",e)=>{const n=new DOMException(t,"AbortError");return e!=null&&PL(e,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),n},zJ=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function HJ(t,e,n){const r=zJ.exec(t),i=e.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}class qJ extends Error{constructor(n,r){super(n);E(this,"isNetworkError");E(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&PL(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function U2(t,e,n,r){return t===e?t:r===0?e:t+(e-t)*2**(-r/n)}const TL=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class WJ extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");E(this,"cause");E(this,"isNetworkError");E(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function KJ(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new WJ(e)})}const GJ=t=>"error"in t&&!!t.error,YJ=t=>t.progress.uploadComplete;function QJ(t){return t.filter(e=>!GJ(e)&&!YJ(e))}function XJ(t){return t.filter(e=>{var n;return!((n=e.progress)!=null&&n.uploadStarted)||!e.isRestored})}function AL(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function B2(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&AL(t)?[t]:null}function ZJ(t,e=document){return typeof t=="string"?e.querySelector(t):AL(t)?t:null}function FL(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const V2={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function RL(t){var n;if(t.type)return t.type;const e=t.name?(n=FL(t.name).extension)==null?void 0:n.toLowerCase():null;return e&&e in V2?V2[e]:"application/octet-stream"}function JJ(t){return t.charCodeAt(0).toString(32)}function z2(t){let e="";return t.replace(/[^A-Z0-9]/gi,n=>(e+=`-${JJ(n)}`,"/"))+e}function eee(t,e){var r;let n=e||"uppy";return typeof t.name=="string"&&(n+=`-${z2(t.name.toLowerCase())}`),t.type!==void 0&&(n+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(n+=`-${z2(t.meta.relativePath.toLowerCase())}`),((r=t.data)==null?void 0:r.size)!==void 0&&(n+=`-${t.data.size}`),t.data.lastModified!==void 0&&(n+=`-${t.data.lastModified}`),n}function tee(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function see(t,e){if(tee(t))return t.id;const n=RL(t);return eee({...t,type:n},e)}function H2(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const vh=Array.from;function nee(t){const e=vh(t.files);return Promise.resolve(e)}function DL(t,e,n,{onSuccess:r}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{DL(t,a,n,{onSuccess:r})}):r(a)},i=>{n(i),r(e)})}function IL(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,r)=>t.file(n,r))},async*values(){const n=t.createReader();yield*await new Promise(i=>{DL(n,[],e,{onSuccess:a=>i(a.map(o=>IL(o,e)))})})},isSameEntry:void 0}}async function*OL(t,e,n=void 0){const r=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?r():null,yield i):n!=null&&(yield n)}else if(t.kind==="directory")for await(const i of t.values())yield*OL(i,e?r():t.name);else n!=null&&(yield n)}async function*ree(t,e){const n=await Promise.all(Array.from(t.items,async r=>{let i;return i??(i=IL(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*OL(i,"",r)}catch(a){r!=null?yield r:e(a)}else r!=null&&(yield r)}async function iee(t,e){const n=(e==null?void 0:e.logDropError)??Function.prototype;try{const r=[];for await(const i of ree(t,n))r.push(i);return r}catch{return nee(t)}}function aee(t){var i;const n=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}function oee(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function _v(t){return t<10?`0${t}`:t.toString()}function Sp(){const t=new Date,e=_v(t.getHours()),n=_v(t.getMinutes()),r=_v(t.getSeconds());return`${e}:${n}:${r}`}function lee(){if(typeof window>"u")return!1;const t=document.body;return!(t==null||window==null||!("draggable"in t)||!("ondragstart"in t)||!("ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function q2(t){return t.startsWith("blob:")}function W2(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function cee(t){const e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,r=Math.floor(t%60);return{hours:e,minutes:n,seconds:r}}function dee(t){const e=cee(t),n=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}function uee(t){return new Error("Cancelled",{cause:t})}function K2(t){var e;if(t!=null){const n=()=>this.abort(t.reason);t.addEventListener("abort",n,{once:!0});const r=()=>{t.removeEventListener("abort",n)};(e=this.then)==null||e.call(this,r,r)}return this}var oa,Ni,la,xd,Si,gd,gl,pn,kb,Qu,ML,LL,$L,Ix,yd;class hee{constructor(e){Z(this,pn);Z(this,oa,0);Z(this,Ni,[]);Z(this,la,!1);Z(this,xd);Z(this,Si,1);Z(this,gd);Z(this,gl);E(this,"limit");Z(this,Ix,()=>this.resume());Z(this,yd,()=>{if(_(this,la)){te(this,gl,setTimeout(_(this,yd),0));return}te(this,Si,this.limit),this.limit=Math.ceil((_(this,gd)+_(this,Si))/2);for(let e=_(this,Si);e<=this.limit;e++)me(this,pn,Qu).call(this);_(this,gd)-_(this,Si)>3?te(this,gl,setTimeout(_(this,yd),2e3)):te(this,Si,Math.floor(_(this,Si)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!_(this,la)&&_(this,oa)<this.limit?me(this,pn,kb).call(this,e):me(this,pn,LL).call(this,e,n)}wrapSyncFunction(e,n){return(...r)=>{const i=this.run(()=>(e(...r),queueMicrotask(()=>i.done()),()=>{}),n);return{abortOn:K2,abort(){i.abort()}}}}wrapPromiseFunction(e,n){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...r))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(i.done(),o(u))},u=>{c?l(c):(i.done(),l(u))}),u=>{c=uee(u)}},n)});return a.abort=o=>{i.abort(o)},a.abortOn=K2,a}}resume(){te(this,la,!1),clearTimeout(_(this,xd));for(let e=0;e<this.limit;e++)me(this,pn,Qu).call(this)}pause(e=null){te(this,la,!0),clearTimeout(_(this,xd)),e!=null&&te(this,xd,setTimeout(_(this,Ix),e))}rateLimit(e){clearTimeout(_(this,gl)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(te(this,gd,this.limit-1),this.limit=_(this,Si),te(this,gl,setTimeout(_(this,yd),e)))}get isPaused(){return _(this,la)}}oa=new WeakMap,Ni=new WeakMap,la=new WeakMap,xd=new WeakMap,Si=new WeakMap,gd=new WeakMap,gl=new WeakMap,pn=new WeakSet,kb=function(e){te(this,oa,_(this,oa)+1);let n=!1,r;try{r=e()}catch(i){throw te(this,oa,_(this,oa)-1),i}return{abort:i=>{n||(n=!0,te(this,oa,_(this,oa)-1),r==null||r(i),me(this,pn,Qu).call(this))},done:()=>{n||(n=!0,te(this,oa,_(this,oa)-1),me(this,pn,Qu).call(this))}}},Qu=function(){queueMicrotask(()=>me(this,pn,ML).call(this))},ML=function(){if(_(this,la)||_(this,oa)>=this.limit||_(this,Ni).length===0)return;const e=_(this,Ni).shift();if(e==null)throw new Error("Invariant violation: next is null");const n=me(this,pn,kb).call(this,e.fn);e.abort=n.abort,e.done=n.done},LL=function(e,n){const r={fn:e,priority:(n==null?void 0:n.priority)||0,abort:()=>{me(this,pn,$L).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=_(this,Ni).findIndex(a=>r.priority>a.priority);return i===-1?_(this,Ni).push(r):_(this,Ni).splice(i,0,r),r},$L=function(e){const n=_(this,Ni).indexOf(e);n!==-1&&_(this,Ni).splice(n,1)},Ix=new WeakMap,yd=new WeakMap;function mee(t,e,n){const r=[];return t.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function G2(t,e){const n=/\$/g,r="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=n[Symbol.replace](o,r)),i=mee(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const fee=t=>{throw new Error(`missing string: ${t}`)};var wm,Nm,Pb;class UL{constructor(e,{onMissingKey:n=fee}={}){Z(this,Nm);E(this,"locale");Z(this,wm);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(me(this,Nm,Pb),this):me(this,Nm,Pb).call(this,e),te(this,wm,n)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){let r=this.locale.strings[e];if(r==null&&(_(this,wm).call(this,e),r=e),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const a=this.locale.pluralize(n.smart_count);return G2(r[a],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return G2(r,n)}}wm=new WeakMap,Nm=new WeakSet,Pb=function(e){if(!(e!=null&&e.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...e.strings},pluralize:e.pluralize||n.pluralize})};const kv="...";function BL(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=kv.length+1)return`${t.slice(0,e-1)}`;const n=e-kv.length,r=Math.ceil(n/2),i=Math.floor(n/2);return t.slice(0,r)+kv+t.slice(-i)}class pee extends Error{constructor(){super(...arguments);E(this,"name","UserFacingApiError")}}var hf,zt,VL,Zo,Y2,zL,HL,qL,K0,Eb,Tb,dm={},WL=[],xee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mf=Array.isArray;function Ai(t,e){for(var n in e)t[n]=e[n];return t}function G0(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Y0(t,e,n){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?hf.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return jh(t,o,r,i,null)}function jh(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++VL,__i:-1,__u:0};return i==null&&zt.vnode!=null&&zt.vnode(a),a}function gee(){return{current:null}}function xa(t){return t.children}function ii(t,e){this.props=t,this.context=e}function eu(t,e){if(e==null)return t.__?eu(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?eu(t):null}function KL(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return KL(t)}}function Q2(t){(!t.__d&&(t.__d=!0)&&Zo.push(t)&&!_x.__r++||Y2!=zt.debounceRendering)&&((Y2=zt.debounceRendering)||zL)(_x)}function _x(){for(var t,e,n,r,i,a,o,l=1;Zo.length;)Zo.length>l&&Zo.sort(HL),t=Zo.shift(),l=Zo.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,a=[],o=[],e.__P&&((n=Ai({},r)).__v=r.__v+1,zt.vnode&&zt.vnode(n),Q0(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??eu(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,QL(a,n,o),r.__e=r.__=null,n.__e!=i&&KL(n)));_x.__r=0}function GL(t,e,n,r,i,a,o,l,c,d,u){var h,m,x,v,b,g,p,j=r&&r.__k||WL,w=e.length;for(c=yee(n,e,j,c,w),h=0;h<w;h++)(x=n.__k[h])!=null&&(m=x.__i==-1?dm:j[x.__i]||dm,x.__i=h,g=Q0(t,x,m,i,a,o,l,c,d,u),v=x.__e,x.ref&&m.ref!=x.ref&&(m.ref&&X0(m.ref,null,x),u.push(x.ref,x.__c||v,x)),b==null&&v!=null&&(b=v),(p=!!(4&x.__u))||m.__k===x.__k?c=YL(x,c,t,p):typeof x.type=="function"&&g!==void 0?c=g:v&&(c=v.nextSibling),x.__u&=-7);return n.__e=b,c}function yee(t,e,n,r,i){var a,o,l,c,d,u=n.length,h=u,m=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[a]=jh(null,o,null,null,null):mf(o)?o=t.__k[a]=jh(xa,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=t.__k[a]=jh(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[a]=o,c=a+m,o.__=t,o.__b=t.__b+1,l=null,(d=o.__i=vee(o,n,c,h))!=-1&&(h--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=n[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=eu(l)),ZL(l,l));return r}function YL(t,e,n,r){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=YL(i[a],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=eu(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Wa(t,e){return e=e||[],t==null||typeof t=="boolean"||(mf(t)?t.some(function(n){Wa(n,e)}):e.push(t)),e}function vee(t,e,n,r){var i,a,o,l=t.key,c=t.type,d=e[n],u=d!=null&&(2&d.__u)==0;if(d===null&&l==null||u&&l==d.key&&c==d.type)return n;if(r>(u?1:0)){for(i=n-1,a=n+1;i>=0||a<e.length;)if((d=e[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function X2(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||xee.test(e)?n:n+"px"}function zf(t,e,n,r,i){var a,o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||X2(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||X2(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(qL,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r?n.u=r.u:(n.u=K0,t.addEventListener(e,a?Tb:Eb,a)):t.removeEventListener(e,a?Tb:Eb,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Z2(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=K0++;else if(e.t<n.u)return;return n(zt.event?zt.event(e):e)}}}function Q0(t,e,n,r,i,a,o,l,c,d){var u,h,m,x,v,b,g,p,j,w,N,P,S,C,k,D,F,L=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=e.__e=n.__e]),(u=zt.__b)&&u(e);e:if(typeof L=="function")try{if(p=e.props,j="prototype"in L&&L.prototype.render,w=(u=L.contextType)&&r[u.__c],N=u?w?w.props.value:u.__:r,n.__c?g=(h=e.__c=n.__c).__=h.__E:(j?e.__c=h=new L(p,N):(e.__c=h=new ii(p,N),h.constructor=L,h.render=bee),w&&w.sub(h),h.state||(h.state={}),h.__n=r,m=h.__d=!0,h.__h=[],h._sb=[]),j&&h.__s==null&&(h.__s=h.state),j&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Ai({},h.__s)),Ai(h.__s,L.getDerivedStateFromProps(p,h.__s))),x=h.props,v=h.state,h.__v=e,m)j&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),j&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(j&&L.getDerivedStateFromProps==null&&p!==x&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(p,N),e.__v==n.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(p,h.__s,N)===!1){for(e.__v!=n.__v&&(h.props=p,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(B){B&&(B.__=e)}),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(p,h.__s,N),j&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(x,v,b)})}if(h.context=N,h.props=p,h.__P=t,h.__e=!1,S=zt.__r,C=0,j){for(h.state=h.__s,h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++C<25);h.state=h.__s,h.getChildContext!=null&&(r=Ai(Ai({},r),h.getChildContext())),j&&!m&&h.getSnapshotBeforeUpdate!=null&&(b=h.getSnapshotBeforeUpdate(x,v)),D=u,u!=null&&u.type===xa&&u.key==null&&(D=XL(u.props.children)),l=GL(t,mf(D)?D:[D],e,n,r,i,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),g&&(h.__E=h.__=null)}catch(B){if(e.__v=null,c||a!=null)if(B.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(F=a.length;F--;)G0(a[F]);Ab(e)}else e.__e=n.__e,e.__k=n.__k,B.then||Ab(e);zt.__e(B,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=jee(n.__e,e,n,r,i,a,o,c,d);return(u=zt.diffed)&&u(e),128&e.__u?void 0:l}function Ab(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Ab)}function QL(t,e,n){for(var r=0;r<n.length;r++)X0(n[r],n[++r],n[++r]);zt.__c&&zt.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){zt.__e(a,i.__v)}})}function XL(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:mf(t)?t.map(XL):Ai({},t)}function jee(t,e,n,r,i,a,o,l,c){var d,u,h,m,x,v,b,g=n.props||dm,p=e.props,j=e.type;if(j=="svg"?i="http://www.w3.org/2000/svg":j=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((x=a[d])&&"setAttribute"in x==!!j&&(j?x.localName==j:x.nodeType==3)){t=x,a[d]=null;break}}if(t==null){if(j==null)return document.createTextNode(p);t=document.createElementNS(i,j,p.is&&p),l&&(zt.__m&&zt.__m(e,a),l=!1),a=null}if(j==null)g===p||l&&t.data==p||(t.data=p);else{if(a=a&&hf.call(t.childNodes),!l&&a!=null)for(g={},d=0;d<t.attributes.length;d++)g[(x=t.attributes[d]).name]=x.value;for(d in g)if(x=g[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=x;else if(!(d in p)){if(d=="value"&&"defaultValue"in p||d=="checked"&&"defaultChecked"in p)continue;zf(t,d,null,x,i)}}for(d in p)x=p[d],d=="children"?m=x:d=="dangerouslySetInnerHTML"?u=x:d=="value"?v=x:d=="checked"?b=x:l&&typeof x!="function"||g[d]===x||zf(t,d,x,g[d],i);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),GL(e.type=="template"?t.content:t,mf(m)?m:[m],e,n,r,j=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&eu(n,0),l,c),a!=null)for(d=a.length;d--;)G0(a[d]);l||(d="value",j=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[d]||j=="progress"&&!v||j=="option"&&v!=g[d])&&zf(t,d,v,g[d],i),d="checked",b!=null&&b!=t[d]&&zf(t,d,b,g[d],i))}return t}function X0(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){zt.__e(i,n)}}function ZL(t,e,n){var r,i;if(zt.unmount&&zt.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||X0(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){zt.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&ZL(r[i],e,n||typeof t.type!="function");n||G0(t.__e),t.__c=t.__=t.__e=void 0}function bee(t,e,n){return this.constructor(t,n)}function J2(t,e,n){var r,i,a,o;e==document&&(e=document.documentElement),zt.__&&zt.__(t,e),i=(r=!1)?null:e.__k,a=[],o=[],Q0(e,t=e.__k=Y0(xa,null,[t]),i||dm,dm,e.namespaceURI,i?null:e.firstChild?hf.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,o),QL(a,t,o)}function JL(t,e,n){var r,i,a,o,l=Ai({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?hf.call(arguments,2):n),jh(t.type,l,r||t.key,i||t.ref,null)}hf=WL.slice,zt={__e:function(t,e,n,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},VL=0,ii.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ai({},this.state),typeof t=="function"&&(t=t(Ai({},n),this.props)),t&&Ai(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Q2(this))},ii.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Q2(this))},ii.prototype.render=xa,Zo=[],zL=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,HL=function(t,e){return t.__v.__b-e.__v.__b},_x.__r=0,qL=/(PointerCapture)$|Capture$/i,K0=0,Eb=Z2(!1),Tb=Z2(!0);var wee=0;function T(t,e,n,r,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--wee,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return zt.vnode&&zt.vnode(d),d}var um,Ss,Pv,e_,hm=0,e$=[],Ts=zt,t_=Ts.__b,s_=Ts.__r,n_=Ts.diffed,r_=Ts.__c,i_=Ts.unmount,a_=Ts.__;function Z0(t,e){Ts.__h&&Ts.__h(Ss,t,hm||e),hm=0;var n=Ss.__H||(Ss.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function tu(t){return hm=1,Nee(s$,t)}function Nee(t,e,n){var r=Z0(um++,2);if(r.t=t,!r.__c&&(r.__=[s$(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Ss,!Ss.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var h=r.__c.props!==l;return u.forEach(function(m){if(m.__N){var x=m.__[0];m.__=m.__N,m.__N=void 0,x!==m.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};Ss.__f=!0;var a=Ss.shouldComponentUpdate,o=Ss.componentWillUpdate;Ss.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,i(l,c,d),a=u}o&&o.call(this,l,c,d)},Ss.shouldComponentUpdate=i}return r.__N||r.__}function kx(t,e){var n=Z0(um++,3);!Ts.__s&&t$(n.__H,e)&&(n.__=t,n.u=e,Ss.__H.__h.push(n))}function td(t){return hm=5,J0(function(){return{current:t}},[])}function J0(t,e){var n=Z0(um++,7);return t$(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Px(t,e){return hm=8,J0(function(){return t},e)}function See(){for(var t;t=e$.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Cp),t.__H.__h.forEach(Fb),t.__H.__h=[]}catch(e){t.__H.__h=[],Ts.__e(e,t.__v)}}Ts.__b=function(t){Ss=null,t_&&t_(t)},Ts.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),a_&&a_(t,e)},Ts.__r=function(t){s_&&s_(t),um=0;var e=(Ss=t.__c).__H;e&&(Pv===Ss?(e.__h=[],Ss.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Cp),e.__h.forEach(Fb),e.__h=[],um=0)),Pv=Ss},Ts.diffed=function(t){n_&&n_(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(e$.push(e)!==1&&e_===Ts.requestAnimationFrame||((e_=Ts.requestAnimationFrame)||Cee)(See)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Pv=Ss=null},Ts.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Cp),n.__h=n.__h.filter(function(r){return!r.__||Fb(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ts.__e(r,n.__v)}}),r_&&r_(t,e)},Ts.unmount=function(t){i_&&i_(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Cp(r)}catch(i){e=i}}),n.__H=void 0,e&&Ts.__e(e,n.__v))};var o_=typeof requestAnimationFrame=="function";function Cee(t){var e,n=function(){clearTimeout(r),o_&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);o_&&(e=requestAnimationFrame(n))}function Cp(t){var e=Ss,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ss=e}function Fb(t){var e=Ss;t.__c=t.__(),Ss=e}function t$(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function s$(t,e){return typeof e=="function"?e(t):e}const _ee={position:"relative",width:"100%",minHeight:"100%"},kee={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function Pee({data:t,rowHeight:e,renderRow:n,overscanCount:r=10,padding:i=4,...a}){const o=td(null),[l,c]=tu(0),[d,u]=tu(0);kx(()=>{function j(){o.current!=null&&d!==o.current.offsetHeight&&u(o.current.offsetHeight)}return j(),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}},[d]);const h=Px(()=>{o.current&&c(o.current.scrollTop)},[]);let m=Math.floor(l/e),x=Math.floor(d/e);r&&(m=Math.max(0,m-m%r),x+=r);const v=m+x+i,b=t.slice(m,v),g={..._ee,height:t.length*e},p={...kee,top:m*e};return T("div",{onScroll:h,ref:o,...a,children:T("div",{role:"presentation",style:g,children:T("div",{role:"presentation",style:p,children:b.map(n)})})})}class n${constructor(e,n){E(this,"uppy");E(this,"opts");E(this,"id");E(this,"defaultLocale");E(this,"i18n");E(this,"i18nArray");E(this,"type");E(this,"VERSION");this.uppy=e,this.opts=n??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new UL([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var Ci,Sm;class Eee{constructor(e){Z(this,Ci);Z(this,Sm,[]);te(this,Ci,e)}on(e,n){return _(this,Sm).push([e,n]),_(this,Ci).on(e,n)}remove(){for(const[e,n]of _(this,Sm).splice(0))_(this,Ci).off(e,n)}onFilePause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onFileRemove(e,n){this.on("file-removed",r=>{e===r.id&&n(r.id)})}onPause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onRetry(e,n){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&n()})}onRetryAll(e,n){this.on("retry-all",()=>{_(this,Ci).getFile(e)&&n()})}onPauseAll(e,n){this.on("pause-all",()=>{_(this,Ci).getFile(e)&&n()})}onCancelAll(e,n){this.on("cancel-all",(...r)=>{_(this,Ci).getFile(e)&&n(...r)})}onResumeAll(e,n){this.on("resume-all",()=>{_(this,Ci).getFile(e)&&n()})}}Ci=new WeakMap,Sm=new WeakMap;const Tee={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Sp()}]`,...t)},Aee={debug:(...t)=>console.debug(`[Uppy] [${Sp()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Sp()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Sp()}]`,...t)};var Fee=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0;let r=Math.abs(e);if(n&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const ol=Ea(Fee);function r$(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}r$.prototype.match=function(t){var e=!0,n=this.parts,r,i=n.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),r=0;e&&r<i;r++)n[r]!=="*"&&(r<a.length?e=n[r]===a[r]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var Ree=function(t,e,n){var r=new r$(t,n||/[\/\.]/);return typeof e<"u"?r.match(e):r},Dee=Ree,Iee=/[\/\+\.]/,Oee=function(t,e){function n(r){var i=Dee(r,t,Iee);return i&&i.length>=2}return e?n(e.split(";")[0]):n};const Mee=Ea(Oee),Lee={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Wr extends Error{constructor(n,r){super(n);E(this,"isUserFacing");E(this,"file");E(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class $ee{constructor(e,n){E(this,"getI18n");E(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var i;const r=e();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+n.length>i)throw new Wr(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...e,...n].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Wr(this.getI18n()("aggregateExceedsSize",{sizeAllowed:ol(r),size:ol(a)}))}}validateSingleFile(e){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?Mee(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Wr(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&e.size!=null&&e.size>n)throw new Wr(this.getI18n()("exceedsSize",{size:ol(n),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Wr(this.getI18n()("inferiorSize",{size:ol(r)}),{file:e})}validate(e,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,n)}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(e).length<n)throw new Wr(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new Wr(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:n}}}function Uee(t){let e=null,n;return(...r)=>(n=r,e||(e=Promise.resolve().then(()=>(e=null,t(...n)))),e)}var Cm;const Ox=class Ox extends n${constructor(){super(...arguments);Z(this,Cm);E(this,"isTargetDOMEl");E(this,"el");E(this,"parent");E(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof Ox||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:Ox}}));else if(typeof n=="function"){const i=n;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(n,r){const i=r.id,a=ZJ(n);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),te(this,Cm,Uee(d=>{this.uppy.getPlugin(this.id)&&(J2(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),J2(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||oee(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(n);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=_(this,Cm))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Cm=new WeakMap;let mm=Ox;const Bee="5.0.0",Vee={version:Bee};var vd,Mx,a$;class i${constructor(){Z(this,Mx);E(this,"state",{});Z(this,vd,new Set)}getState(){return this.state}setState(e){const n={...this.state},r={...this.state,...e};this.state=r,me(this,Mx,a$).call(this,n,r,e)}subscribe(e){return _(this,vd).add(e),()=>{_(this,vd).delete(e)}}}vd=new WeakMap,Mx=new WeakSet,a$=function(...e){_(this,vd).forEach(n=>{n(...e)})},E(i$,"VERSION",Vee.version);function zee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var e1=zee,Hee=typeof xf=="object"&&xf&&xf.Object===Object&&xf,qee=Hee,Wee=qee,Kee=typeof self=="object"&&self&&self.Object===Object&&self,Gee=Wee||Kee||Function("return this")(),o$=Gee,Yee=o$,Qee=function(){return Yee.Date.now()},Xee=Qee,Zee=/\s/;function Jee(t){for(var e=t.length;e--&&Zee.test(t.charAt(e)););return e}var ete=Jee,tte=ete,ste=/^\s+/;function nte(t){return t&&t.slice(0,tte(t)+1).replace(ste,"")}var rte=nte,ite=o$,ate=ite.Symbol,l$=ate,l_=l$,c$=Object.prototype,ote=c$.hasOwnProperty,lte=c$.toString,Au=l_?l_.toStringTag:void 0;function cte(t){var e=ote.call(t,Au),n=t[Au];try{t[Au]=void 0;var r=!0}catch{}var i=lte.call(t);return r&&(e?t[Au]=n:delete t[Au]),i}var dte=cte,ute=Object.prototype,hte=ute.toString;function mte(t){return hte.call(t)}var fte=mte,c_=l$,pte=dte,xte=fte,gte="[object Null]",yte="[object Undefined]",d_=c_?c_.toStringTag:void 0;function vte(t){return t==null?t===void 0?yte:gte:d_&&d_ in Object(t)?pte(t):xte(t)}var jte=vte;function bte(t){return t!=null&&typeof t=="object"}var wte=bte,Nte=jte,Ste=wte,Cte="[object Symbol]";function _te(t){return typeof t=="symbol"||Ste(t)&&Nte(t)==Cte}var kte=_te,Pte=rte,u_=e1,Ete=kte,h_=NaN,Tte=/^[-+]0x[0-9a-f]+$/i,Ate=/^0b[01]+$/i,Fte=/^0o[0-7]+$/i,Rte=parseInt;function Dte(t){if(typeof t=="number")return t;if(Ete(t))return h_;if(u_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=u_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pte(t);var n=Ate.test(t);return n||Fte.test(t)?Rte(t.slice(2),n?2:8):Tte.test(t)?h_:+t}var Ite=Dte,Ote=e1,Ev=Xee,m_=Ite,Mte="Expected a function",Lte=Math.max,$te=Math.min;function Ute(t,e,n){var r,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(Mte);e=m_(e)||0,Ote(n)&&(u=!!n.leading,h="maxWait"in n,a=h?Lte(m_(n.maxWait)||0,e):a,m="trailing"in n?!!n.trailing:m);function x(S){var C=r,k=i;return r=i=void 0,d=S,o=t.apply(k,C),o}function v(S){return d=S,l=setTimeout(p,e),u?x(S):o}function b(S){var C=S-c,k=S-d,D=e-C;return h?$te(D,a-k):D}function g(S){var C=S-c,k=S-d;return c===void 0||C>=e||C<0||h&&k>=a}function p(){var S=Ev();if(g(S))return j(S);l=setTimeout(p,b(S))}function j(S){return l=void 0,m&&r?x(S):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function N(){return l===void 0?o:j(Ev())}function P(){var S=Ev(),C=g(S);if(r=arguments,i=this,c=S,C){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(p,e),x(c)}return l===void 0&&(l=setTimeout(p,e)),o}return P.cancel=w,P.flush=N,P}var d$=Ute;const Bte=Ea(d$);var Vte=d$,zte=e1,Hte="Expected a function";function qte(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Hte);return zte(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Vte(t,e,{leading:r,maxWait:e,trailing:i})}var Wte=qte;const Kte=Ea(Wte);var Gte=function(){var e={},n=e._fns={};e.emit=function(o,l,c,d,u,h,m){var x=r(o);x.length&&i(o,x,[l,c,d,u,h,m])},e.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=n[a]?n[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(n),u=0,h=d.length;for(u;u<h;u++){var m=d[u];if(m==="*"&&(o=o.concat(n[m])),c.length===2&&c[0]===m){o=o.concat(n[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const Yte=Ea(Gte);let Qte="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",t1=(t=21)=>{let e="",n=t|0;for(;n--;)e+=Qte[Math.random()*64|0];return e};const Xte="5.2.0",Zte={version:Xte};function Jte(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const ese={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function tse(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const r=e[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const Hf={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var $r,Ur,_m,yl,jd,bd,vl,Ze,Xo,Db,u$,h$,m$,Ib,Ob,Mb,Lb,Lx,$b,jl,f$,p$,ro,km,Xu,x$,Ub,Zu;const $x=class $x{constructor(e){Z(this,Ze);Z(this,$r,Object.create(null));Z(this,Ur);Z(this,_m);Z(this,yl,Yte());Z(this,jd,new Set);Z(this,bd,new Set);Z(this,vl,new Set);E(this,"defaultLocale");E(this,"locale");E(this,"opts");E(this,"store");E(this,"i18n");E(this,"i18nArray");E(this,"scheduledAutoProceed",null);E(this,"wasOffline",!1);Z(this,Lx,(e,n)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...i}}),_(this,jl).call(this)});Z(this,jl,Kte(()=>me(this,Ze,$b).call(this),500,{leading:!0,trailing:!0}));Z(this,ro,this.updateOnlineStatus.bind(this));Z(this,km,new Map);this.defaultLocale=ese;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Lee,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new i$,logger:Tee,infoTimeout:5e3},r={...n,...e};this.opts={...r,restrictions:{...n.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=Aee),this.log(`Using Core v${$x.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Hf,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:tse(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),te(this,Ur,new $ee(()=>this.opts,()=>this.i18n)),te(this,_m,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),me(this,Ze,p$).call(this)}emit(e,...n){_(this,yl).emit(e,...n)}on(e,n){return _(this,yl).on(e,n),this}once(e,n){return _(this,yl).once(e,n),this}off(e,n){return _(this,yl).off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(e).map(([r,i])=>[r,{...n[r],...i}]))}})}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:n})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new UL([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...Hf})}clear(){const{capabilities:e,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Hf,files:{}})}addPreProcessor(e){_(this,jd).add(e)}removePreProcessor(e){return _(this,jd).delete(e)}addPostProcessor(e){_(this,vl).add(e)}removePostProcessor(e){return _(this,vl).delete(e)}addUploader(e){_(this,bd).add(e)}removeUploader(e){return _(this,bd).delete(e)}setMeta(e){const n={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:r})}setFileMeta(e,n){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...r[e].meta,...n};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:r}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],m=[],x=[];for(const v of i){const{progress:b}=v;!b.uploadComplete&&b.uploadStarted&&(a.push(v),v.isPaused||m.push(v)),b.uploadStarted||o.push(v),(b.uploadStarted||b.preprocess||b.postprocess)&&l.push(v),b.uploadStarted&&c.push(v),v.isPaused&&d.push(v),b.uploadComplete&&u.push(v),v.error&&h.push(v),(b.preprocess||b.postprocess)&&x.push(v)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:c.length>0,isAllComplete:n===100&&u.length===i.length&&x.length===0,isAllErrored:!!r&&h.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(v=>v.isGhost)}}validateRestrictions(e,n=this.getFiles()){try{_(this,Ur).validate(n,[e])}catch(r){return r}return null}validateSingleFile(e){try{_(this,Ur).validateSingleFile(e)}catch(n){return n.message}return null}validateAggregateRestrictions(e){const n=this.getFiles();try{_(this,Ur).validateAggregateRestrictions(n,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=me(this,Ze,Ob).call(this,[e]),a=i.filter(l=>l.isRestriction);if(me(this,Ze,Xo).call(this,a),i.length>0)throw i[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),me(this,Ze,Ib).call(this),o.id}addFiles(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=me(this,Ze,Ob).call(this,e),a=i.filter(l=>l.isRestriction);me(this,Ze,Xo).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&me(this,Ze,Ib).call(this)}removeFiles(e){const{files:n,currentUploads:r}=this.getState(),i={...n},a={...r},o=Object.create(null);e.forEach(u=>{n[u]&&(o[u]=n[u],delete i[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=r[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:m}=this.getState();if(h.length!==r[u].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...r[u],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),_(this,jl).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const n=this.getFile(e),i=!(n.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await me(this,Ze,Lb).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),n=Object.keys(e);n.length&&this.removeFiles(n),this.setState(Hf)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const n=me(this,Ze,Xu).call(this,[e],{forceAllowNewUpload:!0});return me(this,Ze,Zu).call(this,n)}logout(){this.iteratePlugins(e=>{var n,r;(r=(n=e.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return me(this,Ze,$b).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...n){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in _(this,$r)?_(this,$r)[r.type].push(r):_(this,$r)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const n of Object.values(_(this,$r))){const r=n.find(i=>i.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return _(this,$r)[e]}iteratePlugins(e){Object.values(_(this,$r)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=_(this,$r)[e.type],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),_(this,_m).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_(this,ro)),window.removeEventListener("offline",_(this,ro)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n="info",r=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,n){const{logger:r}=this.opts;switch(n){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,n){_(this,km).set(e,n)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const n=_(this,km).get(e.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return n}async restore(e){this.log(`Core: Running restored upload "${e}"`);const n=await me(this,Ze,Zu).call(this,e);return this.emit("complete",n),n}[Symbol.for("uppy test: createUpload")](...e){return me(this,Ze,Xu).call(this,...e)}addResultData(e,n){if(!me(this,Ze,x$).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...n}};this.setState({currentUploads:{...r,[e]:i}})}async upload(){var i;(i=_(this,$r).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(me(this,Ze,Mb).call(this).length>0){const a=await me(this,Ze,Lb).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(_(this,Ur).validateMinNumberOfFiles(e),!me(this,Ze,u$).call(this,e))throw new Wr(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=Object.keys(e).filter(u=>{const h=this.getFile(u);return h&&!h.progress.uploadStarted&&!o.includes(u)}),c=me(this,Ze,Xu).call(this,l),d=await me(this,Ze,Zu).call(this,c);return this.emit("complete",d),d}catch(a){throw me(this,Ze,Xo).call(this,[a]),a}}};$r=new WeakMap,Ur=new WeakMap,_m=new WeakMap,yl=new WeakMap,jd=new WeakMap,bd=new WeakMap,vl=new WeakMap,Ze=new WeakSet,Xo=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=e.filter(o=>o.isUserFacing),r=4,i=n.slice(0,r),a=n.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Db=function(e){const{missingFields:n,error:r}=_(this,Ur).getMissingRequiredMetaFields(e);return n.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(n.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},u$=function(e){let n=!0;for(const r of Object.values(e))me(this,Ze,Db).call(this,r)||(n=!1);return n},h$=function(e){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new Wr(this.i18n("noMoreFilesAllowed"),{file:e});throw me(this,Ze,Xo).call(this,[r]),r}},m$=function(e){const n=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=RL(n),i=Jte(r,n),a=FL(i).extension,o=see(n,this.getID()),l={...n.meta,name:i,type:r},c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...n.isRemote?{isRemote:!0,remote:n.remote,data:n.data}:{isRemote:!1,data:n.data},preview:n.preview}},Ib=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},Ob=function(e){let{files:n}=this.getState(),r={...n};const i=[],a=[];for(const o of e)try{let l=me(this,Ze,m$).call(this,o);me(this,Ze,h$).call(this,l);const c=n[l.id],d=c==null?void 0:c.isGhost;if(d&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const u=this.opts.onBeforeFileAdded(l,r);if(n=this.getState().files,r={...n,...r},!u&&this.checkIfFileAlreadyExists(l.id))throw new Wr(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Wr("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(l=u),_(this,Ur).validateSingleFile(l),r[l.id]=l,i.push(l)}catch(l){a.push(l)}try{_(this,Ur).validateAggregateRestrictions(Object.values(n),i)}catch(o){return a.push(o),{nextFilesState:n,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},Mb=function(){const{files:e}=this.getState();return Object.keys(e).filter(n=>{const r=e[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},Lb=async function(){const e=me(this,Ze,Mb).call(this),n={...this.getState().files};if(e.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=me(this,Ze,Xu).call(this,e,{forceAllowNewUpload:!0});return me(this,Ze,Zu).call(this,r)},Lx=new WeakMap,$b=function(){const e=me(this,Ze,f$).call(this);let n=null;e!=null&&(n=Math.round(e*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},jl=new WeakMap,f$=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=n.filter(r),a=n.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},p$=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),me(this,Ze,Xo).call(this,[l])}else me(this,Ze,Xo).call(this,[a])});let n=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",_(this,Lx)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress,l=_(this,vl).size>0;this.setFileState(i.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),_(this,jl).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{const a=i&&this.getFile(i.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{_(this,jl).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&me(this,Ze,Db).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_(this,ro)),window.addEventListener("offline",_(this,ro)),setTimeout(_(this,ro),3e3))},ro=new WeakMap,km=new WeakMap,Xu=function(e,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=t1();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},x$=function(e){const{currentUploads:n}=this.getState();return n[e]},Ub=function(e){const{[e]:n,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},Zu=async function(e){const n=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=n();if(!r)throw new Error("Nonexistent upload");const i=[..._(this,jd),..._(this,bd),..._(this,vl)];try{for(let o=r.step||0;o<i.length;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const{fileIDs:c}=r;if(await l(c,e),r=n(),!r)break}}catch(o){throw me(this,Ze,Ub).call(this,e),o}if(r){r.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=n()}let a;return r&&(a=r.result,me(this,Ze,Ub).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},E($x,"VERSION",Zte.version);let Rb=$x;var g$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(g$);var sse=g$.exports;const ui=Ea(sse);function nse(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:T("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y$=typeof self<"u"?self:global;const fm=typeof navigator<"u",rse=fm&&typeof HTMLImageElement>"u",f_=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),v$=y$.Buffer,j$=!!v$,ise=t=>t!==void 0;function b$(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(ise).length===0)}function Js(t){let e=new Error(t);throw delete e.stack,e}function p_(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Tv=t=>String.fromCharCode.apply(null,t),x_=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Jr{static from(e,n){return e instanceof this&&e.le===n?e:new Jr(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let a=new DataView(e,n,r);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Jr){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Js("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,n,r);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else Js("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Jr){return e instanceof DataView||e instanceof Jr?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Js("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Jr(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return i=this.getUint8Array(e,n),x_?x_.decode(i):j$?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Tv(i)));var i}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return Tv(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Tv(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Bb(t,e){Js(`${t} '${e}' was not loaded, try using full build of exifr.`)}class s1 extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||Bb(this.kind,e),n&&(e in n||function(r,i){Js(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||Bb(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var w$=new s1("file parser"),Kr=new s1("segment parser"),n1=new s1("file reader");let ase=y$.fetch;function g_(t,e){return(n=t).startsWith("data:")||n.length>1e4?zb(t,e,"base64"):f_&&t.includes("://")?Vb(t,e,"url",y_):f_?zb(t,e,"fs"):fm?Vb(t,e,"url",y_):void Js("Invalid input argument");var n}async function Vb(t,e,n,r){return n1.has(n)?zb(t,e,n):r?async function(i,a){let o=await a(i);return new Jr(o)}(t,r):void Js(`Parser ${n} is not loaded`)}async function zb(t,e,n){let r=new(n1.get(n))(t,e);return await r.read(),r}const y_=t=>ase(t).then(e=>e.arrayBuffer()),Hb=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}),r1=new Map,ose=new Map,lse=new Map,qf=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],N$=["jfif","xmp","icc","iptc","ihdr"],qb=["tiff",...N$],qs=["ifd0","ifd1","exif","gps","interop"],Wf=[...qb,...qs],Kf=["makerNote","userComment"],S$=["translateKeys","translateValues","reviveValues","multiSegment"],Gf=[...S$,"sanitize","mergeOutput","silentErrors"];class C${get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Fu extends C${get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),At(this,"enabled",!1),At(this,"skip",new Set),At(this,"pick",new Set),At(this,"deps",new Set),At(this,"translateKeys",!1),At(this,"translateValues",!1),At(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=qs.includes(e),this.canBeFiltered&&(this.dict=r1.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Js(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of S$)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&n.add(Number(a[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Ex(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Ex(this.pick,this.deps)}}var jn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},v_=new Map;class i1 extends C${static useCached(e){let n=v_.get(e);return n!==void 0||(n=new this(e),v_.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Js(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=fm?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of qf)this[e]=jn[e];for(e of Gf)this[e]=jn[e];for(e of Kf)this[e]=jn[e];for(e of Wf)this[e]=new Fu(e,jn[e],void 0,this)}setupFromTrue(){let e;for(e of qf)this[e]=jn[e];for(e of Gf)this[e]=jn[e];for(e of Kf)this[e]=!0;for(e of Wf)this[e]=new Fu(e,!0,void 0,this)}setupFromArray(e){let n;for(n of qf)this[n]=jn[n];for(n of Gf)this[n]=jn[n];for(n of Kf)this[n]=jn[n];for(n of Wf)this[n]=new Fu(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,qs)}setupFromObject(e){let n;for(n of(qs.ifd0=qs.ifd0||qs.image,qs.ifd1=qs.ifd1||qs.thumbnail,Object.assign(this,e),qf))this[n]=Av(e[n],jn[n]);for(n of Gf)this[n]=Av(e[n],jn[n]);for(n of Kf)this[n]=Av(e[n],jn[n]);for(n of qb)this[n]=new Fu(n,jn[n],e[n],this);for(n of qs)this[n]=new Fu(n,jn[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,qs,Wf),e.tiff===!0?this.batchEnableWithBool(qs,!0):e.tiff===!1?this.batchEnableWithUserValue(qs,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,qs):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,qs)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=j_(e,r);for(let[o,l]of a)Ex(this[o].pick,l),this[o].enabled=!0}else if(n&&n.length){let a=j_(n,r);for(let[o,l]of a)Ex(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:a}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=qs.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of qs)this[a].finalizeFilters()}get onlyTiff(){return!N$.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of qb)this[e].enabled&&!Kr.has(e)&&Bb("segment parser",e)}}function j_(t,e){let n,r,i,a,o=[];for(i of e){for(a of(n=r1.get(i),r=[],n))(t.includes(a[0])||t.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function Av(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Ex(t,e){for(let n of e)t.add(n)}At(i1,"default",jn);class cse{constructor(e){At(this,"parsers",{}),At(this,"output",{}),At(this,"errors",[]),At(this,"pushToErrors",n=>this.errors.push(n)),this.options=i1.useCached(e)}async read(e){this.file=await function(n,r){return typeof n=="string"?g_(n,r):fm&&!rse&&n instanceof HTMLImageElement?g_(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Jr(n):fm&&n instanceof Blob?Vb(n,r,"blob",Hb):void Js("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of w$)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Js("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),b$(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=Kr.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,e,n),l=await o.extractThumbnail();return n.close&&n.close(),l}}class Mc{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,a=n+i,o=r-i;return{offset:n,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(e,n={}){return new this(e,new i1({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Jr?e:new Jr(e)}constructor(e,n={},r){At(this,"errors",[]),At(this,"raw",new Map),At(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=lse.get(n),i=ose.get(n),a=r1.get(n),o=this.options[n],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,u={};for(let[h,m]of e)l&&r.has(h)?m=r.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=m;return u}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}At(Mc,"headerLength",4),At(Mc,"type",void 0),At(Mc,"multiSegment",!1),At(Mc,"canHandle",()=>!1);function dse(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function use(t){return t>=224&&t<=239}function hse(t,e,n){for(let[r,i]of Kr)if(i.canHandle(t,e,n))return r}class b_ extends class{constructor(e,n,r){At(this,"errors",[]),At(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){Js(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):Js("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(Kr.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...e){super(...e),At(this,"appSegments",[]),At(this,"jpegSegments",[]),At(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Kr.keyList())):(e=e===void 0?Kr.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&Kr.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Kr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await r.readNextChunk(e):!await r.readNextChunk(c),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:m,options:x}=this;for(;e<n;e++)if(d.getUint8(e)===255){if(r=d.getUint8(e+1),use(r)){if(i=d.getUint16(e+2),a=hse(d,e,i),a&&h.has(a)&&(o=Kr.get(a),l=o.findPosition(d,e),c=x[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;x.recordUnknownSegments&&(l=Mc.findPosition(d,e),l.marker=r,this.unknownSegments.push(l)),e+=i+1}else if(dse(r)){if(i=d.getUint16(e+2),r===218&&x.stopAfterSos!==!1)return;x.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,a,o,l=new Map;for(let c=0;c<n.length;c++)i=n[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=Kr.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}At(b_,"type","jpeg"),w$.set("jpeg",b_);const mse=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class fse extends Mc{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:a}=this.options[n];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(i.has(u)&&(r.set(u,this.parseTag(e,u,n)),i.delete(u),i.size===0))break}else!l&&a.has(u)||r.set(u,this.parseTag(e,u,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=mse[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&Js(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&Js(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Js(`Invalid tiff type ${e}`)}}}class Fv extends fse{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Js("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Js(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,p_(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,p_(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",w_(...e.get(2),e.get(1))),e.set("longitude",w_(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of qs)if(e=this[n],!b$(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function w_(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}At(Fv,"type","tiff"),At(Fv,"headerLength",10),Kr.set("tiff",Fv);const a1={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},a1,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},a1,{tiff:!1,ifd1:!0,mergeOutput:!1});const pse=Object.assign({},a1,{firstChunkSize:4e4,ifd0:[274]});async function xse(t){let e=new cse(pse);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const gse=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ju=!0,eh=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;Ju=Number(n)+.1*Number(r)<13.4,eh=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Ju=eh=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Ju=eh=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Ju=eh=Number(e)<77}}async function yse(t){let e=await xse(t);return Object.assign({canvas:Ju,css:eh},gse[e])}class vse extends Jr{constructor(...e){super(...e),At(this,"ranges",new jse),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let n;n=j$?v$.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class jse{constructor(){At(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,a=this.list.filter(o=>N_(e,o.offset,i)||N_(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),n=i-e;let o=a.shift();o.offset=e,o.length=n,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function N_(t,e,n){return t<=e&&e<=n}class bse extends vse{constructor(e,n){super(0),At(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}n1.set("blob",class extends bse{async readWhole(){this.chunked=!1;let t=await Hb(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await Hb(r);return this.set(i,t,!0)}});const wse="5.1.0",Nse={version:wse},Sse={strings:{generatingThumbnails:"Generating thumbnails..."}};function Cse(t,e,n){try{t.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(r=>{t.toBlob(r,e,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>HJ(t.toDataURL(e,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function _se(t,e){let n=t.width,r=t.height;(e.deg===90||e.deg===270)&&(n=t.height,r=t.width);const i=document.createElement("canvas");i.width=n,i.height=r;const a=i.getContext("2d");return a.translate(n/2,r/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function kse(t){const e=t.width/t.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*e)),a=Math.floor(n/Math.sqrt(n*e));if(i>r&&(i=r,a=Math.round(i/e)),a>r&&(a=r,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const Pse={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class _$ extends mm{constructor(n,r){super(n,{...Pse,...r});E(this,"queue");E(this,"queueProcessing");E(this,"defaultThumbnailDimension");E(this,"thumbnailType");E(this,"onFileAdded",n=>{!n.preview&&n.data&&W2(n.type)&&!n.isRemote&&this.addToQueue(n.id)});E(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});E(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&q2(n.preview)&&URL.revokeObjectURL(n.preview)});E(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||q2(r.preview))&&this.addToQueue(r.id)})});E(this,"onAllFilesRemoved",()=>{this.queue=[]});E(this,"waitUntilAllProcessed",n=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Sse,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,i){if(n.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(n.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=yse(n.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,r,i,d.deg),h=_se(c,d),m=this.resizeImage(h,u.width,u.height);return Cse(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,r,i,a){let o=n.width/n.height;if((a===90||a===270)&&(o=n.height/n.width),r!=null){let l=r;return n.width<r&&(l=n.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return n.height<i&&(l=n.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(n,r,i){let a=kse(n),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return W2(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}E(_$,"VERSION",Nse.version);const Ese="5.1.0",Tse={version:Ese};class k$ extends ii{constructor(){super(...arguments);E(this,"fileInput",null);E(this,"folderInput",null);E(this,"mobilePhotoFileInput",null);E(this,"mobileVideoFileInput",null);E(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});E(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});E(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});E(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});E(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});E(this,"renderHiddenInput",(n,r)=>{var i;return T("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});E(this,"renderHiddenCameraInput",(n,r,i)=>{const o={photo:"image/*",video:"video/*"}[n];return T("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});E(this,"renderMyDeviceAcquirer",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));E(this,"renderPhotoCamera",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));E(this,"renderVideoCamera",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));E(this,"renderBrowseButton",(n,r)=>{const i=this.props.acquirers.length;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:n})});E(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return T("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});E(this,"renderAcquirer",n=>{var r;return T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[T("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),T("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});E(this,"renderAcquirers",n=>{const r=[...n],i=r.splice(n.length-2,n.length);return T(xa,{children:[r.map(a=>this.renderAcquirer(a)),T("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});E(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...n.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return T(xa,{children:[this.renderDropPasteBrowseTagline(o.length),T("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:m})=>T(xa,{children:m},h)),T("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:m})=>T(xa,{children:m},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=T("span",{children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:T("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),T("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=n("poweredBy",{uppy:r});return T("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return T("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),n&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),T("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&T("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const Ase=t=>T("div",{className:ui("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),T(k$,{...t})]});function Fse(t){const e=t.files[t.fileCardFor],n=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return T("div",{className:ui("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:T("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:t.i18n("cancel")}),T("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),T("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(r=>t.uppy.getPlugin(r.id).render(t.state))})]})}function Rse(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:T("g",{fill:"#686DE0",fillRule:"evenodd",children:[T("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),T("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),T("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function Dse(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function Ise(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function Ose(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function Mse(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function Lse(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[T("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),T("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function $se(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function o1(t){const e={color:"#838999",icon:Lse()};if(!t)return e;const n=t.split("/")[0],r=t.split("/")[1];return n==="text"?{color:"#5a5e69",icon:$se()}:n==="image"?{color:"#686de0",icon:Rse()}:n==="audio"?{color:"#068dbb",icon:Dse()}:n==="video"?{color:"#19af67",icon:Ise()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:Ose()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:Mse()}:e}function lo(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function P$(t){const{file:e}=t;if(e.preview)return T("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:n,icon:r}=o1(e.type);return T("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[T("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:T("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function Use(t){const{computedMetaFields:e,requiredMetaFields:n,updateMeta:r,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=n.includes(l.id);return T("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[T("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>r(u,l.id),fieldCSSClasses:o,required:d,form:i.id},Y0):T("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>r(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function Bse(t){const{files:e,fileCardFor:n,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,m=()=>typeof a=="function"?a(e[n]):a,x=e[n],v=m()??[],b=h(x),g={};v.forEach(k=>{g[k.id]=x.meta[k.id]??""});const[p,j]=tu(g),w=Px(k=>{k.preventDefault(),i(p,n)},[i,p,n]),N=(k,D)=>{j({...p,[D]:k})},P=()=>{r(!1)},[S]=tu(()=>{const k=document.createElement("form");return k.setAttribute("tabindex","-1"),k.id=t1(),k}),C=td(null);return kx(()=>{var D;const k=((D=C.current)==null?void 0:D.getRootNode())??document;return k instanceof Document?k.body.appendChild(S):(k instanceof ShadowRoot,k.appendChild(S)),S.addEventListener("submit",w),()=>{S.removeEventListener("submit",w),S.parentNode&&S.parentNode.removeChild(S)}},[S,w]),T("div",{className:ui("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:lo,onDragLeave:lo,onDrop:lo,onPaste:lo,ref:C,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:T("span",{className:"uppy-DashboardContent-titleFile",children:x.meta?x.meta.name:x.name})})}),T("button",{className:"uppy-DashboardContent-back",type:"button",form:S.id,title:c("finishEditingFile"),onClick:P,children:c("cancel")})]}),T("div",{className:"uppy-Dashboard-FileCard-inner",children:[T("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:o1(x.type).color},children:[T(P$,{file:x}),b&&T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:k=>{w(k),l(x)},children:c("editImage")})]}),T("div",{className:"uppy-Dashboard-FileCard-info",children:T(Use,{computedMetaFields:v,requiredMetaFields:o,updateMeta:N,form:S,formState:p})}),T("div",{className:"uppy-Dashboard-FileCard-actions",children:[T("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:S.id,children:c("saveChanges")}),T("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:P,form:S.id,children:c("cancel")})]})]})]})}function Vse(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function zse(t,e="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=t,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,t),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch{return document.body.removeChild(r),i()}})}function Hse({file:t,uploadInProgressOrComplete:e,metaFields:n,canEditFile:r,i18n:i,onClick:a}){return!e&&n&&n.length>0||!e&&r(t)?T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:T("g",{fillRule:"evenodd",children:[T("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),T("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),T("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function qse({i18n:t,onClick:e,file:n}){return T("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:()=>e(),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[T("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),T("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function Wse({file:t,uppy:e,i18n:n}){const r=i=>{zse(t.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return T("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:i=>r(i),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:T("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Kse(t){const{uppy:e,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return T("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[T(Hse,{i18n:c,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,n.id):u(n)}}),o&&n.uploadURL?T(Wse,{file:n,uppy:e,i18n:c}):null,l?T(qse,{i18n:c,file:n,onClick:()=>e.removeFile(n.id)}):null]})}const Gse=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function E$(t){const{file:e,toggleFileCard:n,i18n:r,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>Gse(l,i)).join(", ");return T("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",T("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,e.id),children:r("editFile")})]})}const Yse=t=>{const{author:e,name:n}=t.file.meta;function r(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return T("div",{className:"uppy-Dashboard-Item-name",title:n,children:BL(n,r())})},Qse=t=>{var i;const{author:e}=t.file.meta,n="remote"in t.file?(i=t.file.remote)==null?void 0:i.providerName:void 0,r="";return e?T("div",{className:"uppy-Dashboard-Item-author",children:[T("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:BL(e.name,13)}),n?T(xa,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Xse=t=>t.file.size&&T("div",{className:"uppy-Dashboard-Item-statusSize",children:ol(t.file.size)}),Zse=t=>t.file.isGhost&&T("span",{children:["  ",T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),Jse=({file:t,onClick:e})=>t.error?T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function ene(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return T("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[T("div",{className:"uppy-Dashboard-Item-fileName",children:[Yse({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),T(Jse,{file:e,onClick:()=>alert(e.error)})]}),T("div",{className:"uppy-Dashboard-Item-status",children:[Qse({file:e}),Xse({file:e}),Zse({file:e,toggleAddFilesPanel:a,i18n:n})]}),T(E$,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function tne(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":o1(e.type).color;return T("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&T("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:T("span",{hidden:!0,children:e.meta.name})}),T(P$,{file:e}),T(E$,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function sne(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function S_(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Rv(t){return T("div",{className:"uppy-Dashboard-Item-progress",children:T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":S_(t),title:S_(t),onClick:()=>sne(t),children:t.children})})}function Yf({children:t}){return T("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Dv({progress:t}){const e=2*Math.PI*15;return T("g",{children:[T("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),T("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function nne(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?T("div",{className:"uppy-Dashboard-Item-progress",children:T("div",{className:"uppy-Dashboard-Item-progressIndicator",children:T(Yf,{children:[T("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),T("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?T(Rv,{...t,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[T("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),T("path",{d:"M7.9 3H10v2H7.9z"}),T("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),T("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?T(Rv,{...t,children:T(Yf,{children:[T(Dv,{progress:t.file.progress.percentage}),t.file.isPaused?T("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):T("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[T("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),T("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?T(Rv,{...t,children:T(Yf,{children:[T(Dv,{progress:t.file.progress.percentage}),T("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):T("div",{className:"uppy-Dashboard-Item-progress",children:T("div",{className:"uppy-Dashboard-Item-progressIndicator",children:T(Yf,{children:T(Dv,{progress:t.file.progress.percentage})})})})}class rne extends ii{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Vse(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,n=e.progress.preprocess||e.progress.postprocess,r=!!e.progress.uploadComplete&&!n&&!e.error,i=!!e.progress.uploadStarted||!!n,a=e.progress.uploadStarted&&!e.progress.uploadComplete||n,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=ui({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return T("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[T("div",{className:"uppy-Dashboard-Item-preview",children:[T(tne,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),T(nne,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),T("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[T(ene,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),T(Kse,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function ine(t,e){const n=[];let r=[];return t.forEach(i=>{r.length<e?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}function ane({id:t,i18n:e,uppy:n,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:m,handleRequestThumbnail:x,handleCancelThumbnail:v,recoveredState:b,individualCancellation:g,itemsPerRow:p,openFileEditor:j,canEditFile:w,toggleAddFilesPanel:N,containerWidth:P,containerHeight:S}){const C=p===1?71:200,k=J0(()=>{const F=(B,Y)=>Number(r[Y].isGhost)-Number(r[B].isGhost),L=Object.keys(r);return b&&L.sort(F),ine(L,p)},[r,p,b]),D=F=>T("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:F.map(L=>T(rne,{uppy:n,id:t,i18n:e,resumableUploads:i,individualCancellation:g,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:b,isSingleFile:h,containerWidth:P,containerHeight:S,toggleFileCard:m,handleRequestThumbnail:x,handleCancelThumbnail:v,role:"listitem",openFileEditor:j,canEditFile:w,toggleAddFilesPanel:N,file:r[L]},L))},F[0]);return h?T("div",{class:"uppy-Dashboard-files",children:D(k[0])}):T(Pee,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:D,rowHeight:C})}const C_=300;class one extends ii{constructor(){super(...arguments);E(this,"ref",gee())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,C_)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,C_)}render(){const{children:n}=this.props;return T("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function lne(t,e){return Object.assign(t,e)}function cne(t,e){return(t==null?void 0:t.key)??e}function dne(t,e){const n=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return n[e]||(n[e]=r=>{t.refs[e]=r})}function Ru(t){const e={};for(let n=0;n<t.length;n++)if(t[n]!=null){const r=cne(t[n],n.toString(36));e[r]=t[n]}return e}function une(t,e){t=t||{},e=e||{};const n=o=>Object.hasOwn(e,o)?e[o]:t[o],r={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=n(c)}a[o]=n(o)}for(let o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}const hne=t=>t;class T$ extends ii{constructor(e,n){super(e,n),this.refs={},this.state={children:Ru(Wa(Wa(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const n in e)e[n]&&this.performAppear(n)}componentWillReceiveProps(e){const n=Ru(Wa(e.children)||[]),r=this.state.children;this.setState(a=>({children:une(a.children,n)}));let i;for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(e){const n=this.keysToAbortLeave.indexOf(e);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const n=this.refs[e];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Ru(Wa(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const n=this.refs[e];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Ru(Wa(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Ru(Wa(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=lne({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:n,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const m=Object.entries(h).map(([x,v])=>{if(!v)return;const b=dne(this,x);return JL(e(v),{ref:b,key:x})}).filter(Boolean);return Y0(d,u,m)}}T$.defaultProps={component:"span",childFactory:hne};class __ extends ii{render(){const{info:e}=this.props.uppy.getState();return T("div",{className:"uppy uppy-Informer",children:T(T$,{children:e.map(n=>T(one,{children:T("p",{role:"alert",children:[n.message," ",n.details&&T("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})})}}function mne({activePickerPanel:t,className:e,hideAllPanels:n,i18n:r,state:i,uppy:a}){const o=td(null);return T("div",{className:ui("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:lo,onDragLeave:lo,onDrop:lo,onPaste:lo,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:t.name})}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),T("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const gi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function fne(t,e,n,r={}){if(t)return gi.STATE_ERROR;if(e)return gi.STATE_COMPLETE;if(n)return gi.STATE_PAUSED;let i=gi.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return gi.STATE_UPLOADING;l.preprocess&&i!==gi.STATE_UPLOADING&&(i=gi.STATE_PREPROCESSING),l.postprocess&&i!==gi.STATE_UPLOADING&&i!==gi.STATE_PREPROCESSING&&(i=gi.STATE_POSTPROCESSING)}return i}function pne({files:t,i18n:e,isAllComplete:n,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(fne(r,n,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function xne(t){const{i18n:e,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),T("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):T("div",{}),T("div",{className:"uppy-DashboardContent-title",children:T(pne,{...t})}),l?T("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:T("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),T("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):T("div",{})]})}const xc="uppy-transition-slideDownUp",k_=250;function Qf({children:t}){const[e,n]=tu(null),[r,i]=tu(""),a=td(),o=td(),l=td(),c=Px(()=>{i(`${xc}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${xc}-enter ${xc}-enter-active`),a.current=setTimeout(()=>{i("")},k_)})},[]),d=Px(()=>{i(`${xc}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${xc}-leave ${xc}-leave-active`),o.current=setTimeout(()=>{n(null),i("")},k_)})},[]);return kx(()=>{const u=Wa(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),n(u))},[t,e,c,d]),kx(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?JL(e,{className:ui(r,e.props.className)}):null}const vi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},gne="",P_=()=>` ${gne} `;function yne(t){const{newFiles:e,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=ui("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===vi.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&n&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return T("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function vne(t){const{i18n:e,uppy:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:T("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function jne(t){const{i18n:e,uppy:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:T("g",{fill:"none",fillRule:"evenodd",children:[T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function bne(t){const{isAllPaused:e,i18n:n,isAllComplete:r,resumableUploads:i,uppy:a}=t,o=n(e?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return T("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:T("g",{fill:"none",fillRule:"evenodd",children:[T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function wne(t){const{i18n:e,doneButtonHandler:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:e("done")})}function A$(){return T("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:T("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Nne(t){const{progress:e}=t,{value:n,mode:r,message:i}=e;return T("div",{className:"uppy-StatusBar-content",children:[T(A$,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",i]})}function Sne(t){const{numUploads:e,complete:n,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=ol(r);return T("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:n,smart_count:e}),T("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&P_(),i!=null?o("dataUploadedOfTotal",{complete:c,total:ol(i)}):o("dataUploadedOfUnknown",{complete:c}),P_(),a!=null&&o("xTimeLeft",{time:dee(a)})]})]})}function F$(t){const{i18n:e,complete:n,numUploads:r}=t;return T("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:n,smart_count:r})})}function Cne(t){const{i18n:e,newFiles:n,startUpload:r}=t,i=ui("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return T("div",{className:"uppy-StatusBar-statusSecondary",children:[T("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:n})}),T("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:n}),onClick:r,children:e("upload")})]})}function _ne(t){const{i18n:e,supportsUploadProgress:n,totalProgress:r,hideProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:x,startUpload:v}=t,b=c&&a;if(!a||o)return null;const g=e(l?"paused":"uploading");function p(){return!l&&!b&&!i?n?T(Sne,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:x,i18n:e}):T(F$,{i18n:e,complete:u,numUploads:d}):null}return T("div",{className:"uppy-StatusBar-content",title:g,children:[l?null:T(A$,{}),T("div",{className:"uppy-StatusBar-status",children:[T("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${g}: ${r}%`:g}),p(),b?T(Cne,{i18n:e,newFiles:c,startUpload:v}):null]})]})}function kne(t){const{i18n:e}=t;return T("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:T("div",{className:"uppy-StatusBar-status",children:T("div",{className:"uppy-StatusBar-statusPrimary",children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:T("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function Pne(t){const{error:e,i18n:n,complete:r,numUploads:i}=t;function a(){const o=`${n("uploadFailed")} 

 ${e}`;alert(o)}return T("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:T("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),T("div",{className:"uppy-StatusBar-status",children:[T("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),T("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),T(F$,{i18n:n,complete:r,numUploads:i})]})]})}function Iv(t){const e=[];let n="indeterminate",r;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:n,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:n,message:r,value:i}}const{STATE_ERROR:E_,STATE_WAITING:Ene,STATE_PREPROCESSING:Ov,STATE_UPLOADING:Xf,STATE_POSTPROCESSING:Mv,STATE_COMPLETE:Zf}=vi;function Tne({newFiles:t,allowNewUpload:e,isUploadInProgress:n,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:m,files:x,supportsUploadProgress:v,hideAfterFinish:b=!1,isSomeGhost:g,doneButtonHandler:p=void 0,isUploadStarted:j,i18n:w,startUpload:N,uppy:P,isAllComplete:S,hideProgressDetails:C=void 0,numUploads:k,complete:D,totalSize:F,totalETA:L,totalUploadedSize:B}){function Y(){switch(h){case Mv:case Ov:{const Ue=Iv(x);return Ue.mode==="determinate"?Ue.value*100:m}case E_:return null;case Xf:return v?m:null;default:return m}}function Q(){switch(h){case Mv:case Ov:{const{mode:Ue}=Iv(x);return Ue==="indeterminate"}case Xf:return!v;default:return!1}}const H=Y(),le=H??100,he=!a&&t&&(!n&&!r||u)&&e&&!o,z=!c&&h!==Ene&&h!==Zf,R=i&&!l&&h===Xf,I=a&&!S&&!d,de=p&&h===Zf,A=ui("uppy-StatusBar-progress",{"is-indeterminate":Q()}),xe=ui("uppy-StatusBar",`is-${h}`,{"has-ghosts":g}),Le=(()=>{switch(h){case Ov:case Mv:return T(Nne,{progress:Iv(x)});case Zf:return T(kne,{i18n:w});case E_:return T(Pne,{error:a,i18n:w,numUploads:k,complete:D});case Xf:return T(_ne,{i18n:w,supportsUploadProgress:v,totalProgress:m,hideProgressDetails:C,isUploadStarted:j,isAllComplete:S,isAllPaused:r,newFiles:t,numUploads:k,complete:D,totalUploadedSize:B,totalSize:F,totalETA:L,startUpload:N});default:return null}})();return!(he||I||R||z||de)&&!Le||h===Zf&&b?null:T("div",{className:xe,children:[T("div",{className:A,style:{width:`${le}%`},role:"progressbar","aria-label":`${le}%`,"aria-valuetext":`${le}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":H}),Le,T("div",{className:"uppy-StatusBar-actions",children:[he?T(yne,{newFiles:t,isUploadStarted:j,recoveredState:u,i18n:w,isSomeGhost:g,startUpload:N,uploadState:h}):null,I?T(vne,{i18n:w,uppy:P}):null,R?T(bne,{isAllPaused:r,i18n:w,isAllComplete:S,resumableUploads:i,uppy:P}):null,z?T(jne,{i18n:w,uppy:P}):null,de?T(wne,{i18n:w,doneButtonHandler:p}):null]})]})}const Ane=2e3,Fne=2e3;function Rne(t,e,n,r){if(t)return vi.STATE_ERROR;if(e)return vi.STATE_COMPLETE;if(n)return vi.STATE_WAITING;let i=vi.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return vi.STATE_UPLOADING;l.preprocess&&(i=vi.STATE_PREPROCESSING),l.postprocess&&i!==vi.STATE_PREPROCESSING&&(i=vi.STATE_POSTPROCESSING)}return i}var io,_i,bl,ca,Pm,Ux,R$;class Dne extends ii{constructor(){super(...arguments);Z(this,Ux);Z(this,io);Z(this,_i);Z(this,bl);Z(this,ca);Z(this,Pm,()=>{const{recoveredState:n}=this.props.uppy.getState();if(te(this,bl,null),te(this,ca,null),n){te(this,_i,Object.values(n.files).reduce((r,{progress:i})=>r+(i.bytesUploaded||0),0));return}te(this,io,performance.now()),te(this,_i,0)});E(this,"startUpload",()=>{const{recoveredState:n}=this.props.uppy.getState();n?this.props.uppy.emit("restore-confirmed"):this.props.uppy.upload().catch(()=>{})})}componentDidMount(){te(this,io,performance.now()),te(this,_i,this.props.uppy.getFiles().reduce((n,r)=>n+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",_(this,Pm))}componentWillUnmount(){this.props.uppy.off("upload",_(this,Pm))}render(){const{capabilities:n,files:r,allowNewUpload:i,totalProgress:a,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:h,isAllComplete:m,isAllPaused:x,isUploadInProgress:v,isSomeGhost:b}=this.props.uppy.getObjectOfFilesPerState(),g=l?Object.values(r):c,p=!!n.resumableUploads,j=n.uploadProgress!==!1;let w=null,N=0;d.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(w=0,d.forEach(S=>{w+=S.progress.bytesTotal||0,N+=S.progress.bytesUploaded||0})):d.forEach(S=>{N+=S.progress.bytesUploaded||0});const P=me(this,Ux,R$).call(this,{uploaded:N,total:w});return T(Tne,{error:o,uploadState:Rne(o,m,l,r||{}),allowNewUpload:i,totalProgress:a,totalSize:w,totalUploadedSize:N,isAllComplete:m,isAllPaused:x,isUploadStarted:h,isUploadInProgress:v,isSomeGhost:b,recoveredState:l,complete:u.length,newFiles:g.length,numUploads:d.length,totalETA:P,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:p,supportsUploadProgress:j,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}io=new WeakMap,_i=new WeakMap,bl=new WeakMap,ca=new WeakMap,Pm=new WeakMap,Ux=new WeakSet,R$=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;_(this,io)??te(this,io,performance.now());const i=performance.now()-_(this,io);if(i===0)return Math.round((_(this,ca)??0)/100)/10;if(_(this,_i)==null)return te(this,_i,n.uploaded),null;const a=n.uploaded-_(this,_i);if(te(this,_i,n.uploaded),a<=0)return Math.round((_(this,ca)??0)/100)/10;const o=a/i;if(!Number.isFinite(o)||o<=0)return null;const l=_(this,bl)==null?o:U2(o,_(this,bl),Ane,i);if(!Number.isFinite(l)||l<=0)return null;te(this,bl,l);const c=r/l;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((_(this,ca)??0)-i,0),u=_(this,ca)==null?c:U2(c,d,Fne,i);return!Number.isFinite(u)||u<0?null:(te(this,ca,u),te(this,io,performance.now()),Math.round(u/100)/10)};const T_=900,A_=700,Lv=576,F_=330;function Ine(t){const e=t.totalFileCount===0,n=t.totalFileCount===1,r=t.containerWidth>Lv,i=t.containerHeight>F_,a=ui({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Lv,"uppy-size--lg":t.containerWidth>A_,"uppy-size--xl":t.containerWidth>T_,"uppy-size--height-md":t.containerHeight>F_,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&n&&i});let o=1;t.containerWidth>T_?o=5:t.containerWidth>A_?o=4:t.containerWidth>Lv&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return T("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&lee(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[T("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),T("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:T("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:T("span",{"aria-hidden":"true",children:""})}),T("div",{className:"uppy-Dashboard-innerWrap",children:[T("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&T(xne,{...t}),c!=null&&c>0&&T("div",{className:"uppy-Dashboard-serviceMsg",children:[T("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:T("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[T("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),T("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),T("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),T("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),T("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?T(ane,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):T(k$,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),T(Qf,{children:t.showAddFilesPanel?T(Ase,{...t,isSizeMD:r},"AddFiles"):null}),T(Qf,{children:t.fileCardFor?T(Bse,{...t},"FileCard"):null}),T(Qf,{children:t.activePickerPanel?T(mne,{...t},"Picker"):null}),T(Qf,{children:t.showFileEditor?T(Fse,{...t},"Editor"):null}),T("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&T(__,{uppy:t.uppy}),!t.disableStatusBar&&T(Dne,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&T(__,{uppy:t.uppy}),t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))]})]})]})]})}const One={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function D$(t,e){if(e){const n=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(n)return n}return t}function Mne(){let t=!1;return Bte((n,r)=>{const i=D$(n,r),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(TL);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function R_(t,e){const n=e[0];n&&(n.focus(),t.preventDefault())}function Lne(t,e){const n=e[e.length-1];n&&(n.focus(),t.preventDefault())}function $ne(t){return t.contains(document.activeElement)}function I$(t,e,n){const r=D$(n,e),i=vh(r.querySelectorAll(TL)),a=i.indexOf(document.activeElement);$ne(r)?t.shiftKey&&a===0?Lne(t,i):!t.shiftKey&&a===i.length-1&&R_(t,i):R_(t,i)}function Une(t,e,n){e===null||I$(t,e,n)}const D_=9,Bne=27;function I_(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}const Vne={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:nse,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Vv,wd,wl,Em,Nd,Bx,Vx,zx,Nl,Hx,qx,Sd,Mo,Wb,Kb;let zne=(Vv=class extends mm{constructor(n,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(n,{...Vne,...r,autoOpen:i});Z(this,Mo);Z(this,wd);E(this,"modalName",`uppy-Dashboard-${t1()}`);E(this,"superFocus",Mne());E(this,"ifFocusedOnUppyRecently",!1);E(this,"dashboardIsDisabled");E(this,"savedScrollPosition");E(this,"savedActiveElement");E(this,"resizeObserver");E(this,"darkModeMediaQuery");E(this,"makeDashboardInsidesVisibleAnywayTimeout");E(this,"removeTarget",n=>{const i=this.getPluginState().targets.filter(a=>a.id!==n.id);this.setPluginState({targets:i})});E(this,"addTarget",n=>{const r=n.id||n.constructor.name,i=n.title||r,a=n.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});E(this,"hideAllPanels",()=>{var i;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=n.activePickerPanel)==null?void 0:i.id))});E(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===n);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});E(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return _(this,Nl).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(n))});E(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),i=_(this,Nl).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(n)})});E(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});E(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();_(this,Nl).call(this,n).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});E(this,"openModal",()=>{const{promise:n,resolve:r}=I_();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});E(this,"closeModal",n=>{var c;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=I_();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});E(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);E(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());E(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});E(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});E(this,"toggleFileCard",(n,r)=>{const i=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});E(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});E(this,"addFiles",n=>{const r=n.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});E(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});E(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});E(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});E(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=_(this,wd)??vh(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",n):a.disabled=n;n?te(this,wd,i):te(this,wd,null),this.dashboardIsDisabled=n});E(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});E(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});E(this,"handleKeyDownInModal",n=>{n.keyCode===Bne&&this.requestCloseModal(),n.keyCode===D_&&I$(n,this.getPluginState().activeOverlayType,this.el)});E(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});E(this,"handlePaste",n=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,n))});const r=vh(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});E(this,"handleInputChange",n=>{n.preventDefault();const r=vh(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});E(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,n)&&(l=!0)}),l},i=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});E(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});E(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,n))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await iee(n.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(n)});E(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});E(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});E(this,"handleKeyDownInInline",n=>{n.keyCode===D_&&Une(n,this.getPluginState().activeOverlayType,this.el)});E(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});E(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});Z(this,wl,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:n});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});Z(this,Em,n=>{const r=n[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});E(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=B2(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_(this,Sd)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_(this,wl)),this.uppy.on("file-removed",_(this,wl)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",_(this,Em))});E(this,"removeEvents",()=>{const n=B2(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_(this,Sd)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_(this,wl)),this.uppy.off("file-removed",_(this,wl)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",_(this,Em))});E(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});E(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});E(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});Z(this,Nd,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});Z(this,Bx,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});Z(this,Vx,n=>n.filter(r=>r.type==="acquirer"&&_(this,Bx).call(this,r)).map(_(this,Nd)));Z(this,zx,n=>n.filter(r=>r.type==="progressindicator").map(_(this,Nd)));Z(this,Nl,n=>n.filter(r=>r.type==="editor").map(_(this,Nd)));E(this,"render",n=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:v,isAllComplete:b,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),p=_(this,Vx).call(this,r.targets),j=_(this,zx).call(this,r.targets),w=_(this,Nl).call(this,r.targets);let N;return this.opts.theme==="auto"?N=a.darkMode?"dark":"light":N=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Ine({state:n,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:v,isAllComplete:b,isAllPaused:g,totalFileCount:Object.keys(i).length,totalProgress:n.totalProgress,allowNewUpload:o,acquirers:p,theme:N,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:j,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});Z(this,Hx,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});Z(this,qx,()=>{this.uppy.iteratePlugins(_(this,Sd))});Z(this,Sd,n=>{var i;const r=["acquirer","editor"];n&&!((i=n.opts)!=null&&i.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(o=>n.id===o.id)||n.mount(this,n))});E(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(_$,{id:me(this,Mo,Kb).call(this),...me(this,Mo,Wb).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),_(this,Hx).call(this),_(this,qx).call(this),this.initEvents()});E(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:n}=this.opts;n.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=One,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r;super.setOptions(n),(r=this.uppy.getPlugin(me(this,Mo,Kb).call(this)))==null||r.setOptions(me(this,Mo,Wb).call(this))}},wd=new WeakMap,wl=new WeakMap,Em=new WeakMap,Nd=new WeakMap,Bx=new WeakMap,Vx=new WeakMap,zx=new WeakMap,Nl=new WeakMap,Hx=new WeakMap,qx=new WeakMap,Sd=new WeakMap,Mo=new WeakSet,Wb=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},Kb=function(){return`${this.id}:ThumbnailGenerator`},E(Vv,"VERSION",Tse.version),Vv);const Hne=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qne=/^(aria-|data-)/,O$=t=>Object.fromEntries(Object.entries(t).filter(([e])=>qne.test(e)||Hne.includes(e)));function Wne(t,e){const n=O$(t);return Object.keys(t).some(r=>!Object.hasOwn(n,r)&&t[r]!==e[r])}class Kne extends f.Component{constructor(){super(...arguments);E(this,"container");E(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){if(n.uppy!==this.props.uppy)this.uninstallPlugin(n),this.installPlugin();else if(Wne(this.props,n)){const{uppy:r,...i}={...this.props,target:this.container};this.plugin.setOptions(i)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:n,...r}={id:"Dashboard",...this.props,inline:!0,target:this.container};n.use(zne,r),this.plugin=n.getPlugin(r.id)}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return f.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...O$(this.props)})}}var M$={};function Pr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Gne=Pr;Pr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Pr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Pr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Pr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Pr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Pr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Pr.prototype.start=Pr.prototype.try;Pr.prototype.errors=function(){return this._errors};Pr.prototype.attempts=function(){return this._attempts};Pr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(t[a]||0)+1;t[a]=o,o>=n&&(e=i,n=o)}return e};(function(t){var e=Gne;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=n[l];n[l]=(function(u){var h=t.operation(r),m=Array.prototype.slice.call(arguments,1),x=m.pop();m.push(function(v){h.retry(v)||(v&&(arguments[0]=h.mainError()),x.apply(this,arguments))}),h.attempt(function(){u.apply(n,m)})}).bind(n,c),n[l].options=r}}})(M$);var Yne=M$;const Qne=Ea(Yne),Xne=Object.prototype.toString,Zne=t=>Xne.call(t)==="[object Error]",Jne=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function ere(t){if(!(t&&Zne(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Jne.has(n)}class Gb extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const O_=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function M_(t,e){return new Promise((n,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=Qne.operation(e),a=()=>{var l;i.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Gb)throw c.originalError;if(c instanceof TypeError&&!ere(c))throw c;if(O_(c,l,e),await e.shouldRetry(c)||(i.stop(),r(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){O_(d,l,e),o(),r(d)}}})})}const tre="5.1.1",sre={version:tre};class nre extends Error{constructor(){super("Authorization required");E(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function rre(t){return t.replace(/\/$/,"")}const L_=10,ire=5*60*1e3,are=401;class ore extends Error{constructor({statusCode:n,message:r}){super(r);E(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function lre(t){if(t.status===are)throw new nre;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,n;try{n=await t.json(),n.message&&(e=`${e} message: ${n.message}`),n.requestId&&(e=`${e} request-Id: ${n.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw t.status>=400&&t.status<=499&&n.message?new pee(n.message):new ore({statusCode:t.status,message:e})}function cre(t,e,n){const{progress:r,bytesUploaded:i,bytesTotal:a}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var Sl,Lo,Yb,Wx,Qb;class L${constructor(e,n){Z(this,Lo);Z(this,Sl);E(this,"uppy");E(this,"opts");Z(this,Wx,async({file:e,postBody:n,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...n},{signal:r})).token});this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),te(this,Sl,n.companionHeaders)}setCompanionHeaders(e){te(this,Sl,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return _(this,Sl)}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return rre(e!=null&&e[n]?e[n]:n)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},..._(this,Sl)}}onReceiveResponse(e){const{headers:n}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:n.get("i-am")}})}async request({path:e,method:n="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await KJ(me(this,Lo,Yb).call(this,e),{method:n,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await lre(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new qJ(`Could not ${n} ${me(this,Lo,Yb).call(this,e)}`,{cause:o})}}async get(e,n){return this.request({...n,path:e})}async post(e,n,r){return this.request({...r,path:e,method:"POST",data:n})}async delete(e,n,r){return this.request({...r,path:e,method:"DELETE",data:n})}async uploadRemoteFile(e,n,r){try{const{signal:i,getQueue:a}=r||{};return await M_(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),me(this,Lo,Qb).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await _(this,Wx).call(this,...u)}catch(h){if(h.isAuthError)throw new Gb(h);if(h.cause==null)throw h;const m=h.cause,x=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!x()?new Gb(m):m}},{priority:-1})({file:e,postBody:n,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),me(this,Lo,Qb).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:L_,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}Sl=new WeakMap,Lo=new WeakSet,Yb=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Wx=new WeakMap,Qb=async function({file:e,queue:n,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=aee(e.remote.companionUrl);let u,h,m,{isPaused:x}=e;const v=(C,k)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${C}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:C,payload:k??{}}))};function b(){a.resumableUploads&&v(x?"pause":"resume")}const g=async()=>{h&&h.abort(),h=new AbortController;const C=D=>{var F;this.uppy.setFileState(e.id,{serverToken:null}),(F=h==null?void 0:h.abort)==null||F.call(h),l(D)};function k(){clearTimeout(m),!x&&(m=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),ire))}try{await n.wrapPromiseFunction(async()=>{await M_(async()=>new Promise((F,L)=>{u=new WebSocket(`${d}/api/${c}`),k(),u.addEventListener("close",()=>{u=void 0,L(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",Y=>{this.uppy.log(`Companion socket error ${JSON.stringify(Y)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{b()}),u.addEventListener("message",Y=>{var Q,H,le;k();try{const{action:he,payload:z}=JSON.parse(Y.data);switch(he){case"progress":{cre(this,z,this.uppy.getFile(e.id));break}case"success":{const R=(Q=z.response)==null?void 0:Q.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:z.url,status:((H=z.response)==null?void 0:H.status)??200,body:R?JSON.parse(R):void 0}),(le=h==null?void 0:h.abort)==null||le.call(h),o();break}case"error":{const{message:R}=z.error;throw Object.assign(new Error(R),{cause:z.error})}default:this.uppy.log(`Companion socket unknown action ${he}`,"warning")}}catch(he){C(he)}});const B=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{B()})}),{retries:L_,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(D){if(h.signal.aborted)return;C(D)}},p=C=>{a.resumableUploads&&(x=C,u&&b())},j=C=>{var k;a.individualCancellation&&C.id===e.id&&(v("cancel"),(k=h==null?void 0:h.abort)==null||k.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},w=()=>{var C;v("cancel"),(C=h==null?void 0:h.abort)==null||C.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},N=(C,k)=>{(C==null?void 0:C.id)===e.id&&p(k)},P=()=>p(!0),S=()=>p(!1);this.uppy.on("file-removed",j),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",N),this.uppy.on("pause-all",P),this.uppy.on("resume-all",S),i=()=>{this.uppy.off("file-removed",j),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",N),this.uppy.off("pause-all",P),this.uppy.off("resume-all",S)},r.addEventListener("abort",()=>{h==null||h.abort()}),g()})}finally{i==null||i()}},E(L$,"VERSION",sre.version);const dre="5.1.0",ure={version:dre};function hre({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[t,e,n,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const l1=new TextEncoder,c1={name:"HMAC",hash:"SHA-256"};async function mre(t){const{subtle:e}=globalThis.crypto;return e.digest(c1.hash,l1.encode(t))}async function fre(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?l1.encode(t):t,c1,!1,["sign"])}function $_(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toString(16).padStart(2,"0");return n}async function Du(t,e){const{subtle:n}=globalThis.crypto;return n.sign(c1,await fre(t),l1.encode(e))}async function pre({accountKey:t,accountSecret:e,sessionToken:n,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,D=>`%${D.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",x=new Date().toISOString().replace(/[-:]|\.\d+/g,""),v=x.slice(0,8),b=`${v}/${a}/${d}/aws4_request`,g=new URL(`https://${u}${h}`);g.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),g.searchParams.set("X-Amz-Content-Sha256",m),g.searchParams.set("X-Amz-Credential",`${t}/${b}`),g.searchParams.set("X-Amz-Date",x),g.searchParams.set("X-Amz-Expires",o),g.searchParams.set("X-Amz-Security-Token",n),g.searchParams.set("X-Amz-SignedHeaders","host"),c&&g.searchParams.set("partNumber",c),l&&g.searchParams.set("uploadId",l),g.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const p=hre({CanonicalUri:h,CanonicalQueryString:g.search.slice(1),SignedHeaders:{host:u},HashedPayload:m}),j=$_(await mre(p)),w=["AWS4-HMAC-SHA256",x,b,j].join(`
`),N=await Du(`AWS4${e}`,v),P=await Du(N,a),S=await Du(P,d),C=await Du(S,"aws4_request"),k=$_(await Du(C,w));return g.searchParams.set("X-Amz-Signature",k),g}const xre=1024*1024,U_={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function gre(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const _p=Symbol("pausing upload, not an actual error");var Br,gr,ki,da,ua,Tm,Am,Cd,Cl,_d,Fm,kd,Rm,hi,$$,U$,Xb,Dm,Im,B$;class yre{constructor(e,n){Z(this,hi);E(this,"options");Z(this,Br,new Cv);Z(this,gr,[]);Z(this,ki,[]);Z(this,da);Z(this,ua);Z(this,Tm,!1);Z(this,Am);Z(this,Cd);Z(this,Cl);Z(this,_d);Z(this,Fm,e=>(e==null?void 0:e.cause)===_p?null:_(this,Am).call(this,e));Z(this,kd,1e4);Z(this,Rm,5*xre);Z(this,Dm,e=>n=>{if(!n.lengthComputable)return;_(this,ki)[e].uploaded=gre(n.loaded);const r=_(this,ki).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,_(this,da).size)});Z(this,Im,e=>n=>{_(this,gr)[e]=null,_(this,ki)[e].etag=n,_(this,ki)[e].done=!0;const r={PartNumber:e+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...U_,...n},(r=this.options).getChunkSize??(r.getChunkSize=U_.getChunkSize),te(this,da,e),te(this,ua,n.file),te(this,Cd,this.options.onSuccess),te(this,Am,this.options.onError),te(this,Cl,this.options.shouldUseMultipart),te(this,_d,n.uploadId&&n.key),me(this,hi,$$).call(this)}start(){_(this,Tm)?(_(this,Br).signal.aborted||_(this,Br).abort(_p),te(this,Br,new Cv),me(this,hi,Xb).call(this)):_(this,_d)?(this.options.companionComm.restoreUploadFile(_(this,ua),{uploadId:this.options.uploadId,key:this.options.key}),me(this,hi,Xb).call(this)):me(this,hi,U$).call(this)}pause(){_(this,Br).abort(_p),te(this,Br,new Cv)}abort(e){e!=null&&e.really?me(this,hi,B$).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return _(this,ki)}}Br=new WeakMap,gr=new WeakMap,ki=new WeakMap,da=new WeakMap,ua=new WeakMap,Tm=new WeakMap,Am=new WeakMap,Cd=new WeakMap,Cl=new WeakMap,_d=new WeakMap,Fm=new WeakMap,kd=new WeakMap,Rm=new WeakMap,hi=new WeakSet,$$=function(){const e=_(this,da).size,n=typeof _(this,Cl)=="function"?_(this,Cl).call(this,_(this,ua)):!!_(this,Cl);if(n&&e>_(this,Rm)){let r=Math.max(this.options.getChunkSize(_(this,da)),_(this,Rm)),i=Math.floor(e/r);i>_(this,kd)&&(i=_(this,kd),r=e/_(this,kd)),te(this,gr,Array(i));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const d=a;return _(this,da).slice(d,l)};if(_(this,gr)[o]={getData:c,onProgress:_(this,Dm).call(this,o),onComplete:_(this,Im).call(this,o),shouldUseMultipart:n},_(this,_d)){const d=a+r>e?e-a:r;_(this,gr)[o].setAsUploaded=()=>{_(this,gr)[o]=null,_(this,ki)[o].uploaded=d}}}}else te(this,gr,[{getData:()=>_(this,da),onProgress:_(this,Dm).call(this,0),onComplete:_(this,Im).call(this,0),shouldUseMultipart:n}]);te(this,ki,_(this,gr).map(()=>({uploaded:0})))},U$=function(){this.options.companionComm.uploadFile(_(this,ua),_(this,gr),_(this,Br).signal).then(_(this,Cd),_(this,Fm)),te(this,Tm,!0)},Xb=function(){this.options.companionComm.resumeUploadFile(_(this,ua),_(this,gr),_(this,Br).signal).then(_(this,Cd),_(this,Fm))},Dm=new WeakMap,Im=new WeakMap,B$=function(){_(this,Br).abort(),this.options.companionComm.abortFileUpload(_(this,ua)).catch(e=>this.options.log(e))};function mn(t){if(t!=null&&t.aborted)throw EL("The operation was aborted",{cause:t.reason})}function vre(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Om,Vr,Mm,Lm,$m,Um,Pd,Ed,Td,Ad,_l,Fd,zr,Xl,V$,Zb;class jre{constructor(e,n,r,i){Z(this,Xl);Z(this,Om);Z(this,Vr,new WeakMap);Z(this,Mm);Z(this,Lm);Z(this,$m);Z(this,Um);Z(this,Pd);Z(this,Ed);Z(this,Td);Z(this,Ad);Z(this,_l);Z(this,Fd);Z(this,zr);te(this,Ed,e),te(this,_l,r),te(this,zr,i),this.setOptions(n)}setOptions(e){const n=_(this,Ed);"abortMultipartUpload"in e&&te(this,Om,n.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&te(this,Mm,n.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&te(this,Lm,n.wrapPromiseFunction(e.signPart)),"listParts"in e&&te(this,Um,n.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&te(this,Ad,n.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&te(this,Td,e.retryDelays??[]),"uploadPartBytes"in e&&te(this,Fd,n.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&te(this,$m,n.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,n){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=_(this,Vr).get(e.data),r==null)break;try{return await r}catch{}}const i=_(this,Mm).call(this,_(this,zr).call(this,e),n),a=()=>{if(e.data==null)throw new Error("File data is empty");i.abort(n.reason),_(this,Vr).delete(e.data)};return n.addEventListener("abort",a,{once:!0}),_(this,Vr).set(e.data,i),i.then(async o=>{if(n.removeEventListener("abort",a),_(this,_l).call(this,e,o),e.data==null)throw new Error("File data is empty");_(this,Vr).set(e.data,o)},()=>{if(n.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");_(this,Vr).delete(e.data)}),i}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const n=_(this,Vr).get(e.data);if(n==null)return;_(this,Vr).delete(e.data),_(this,_l).call(this,e,Object.create(null));let r;try{r=await n}catch{return}await _(this,Om).call(this,_(this,zr).call(this,e),r)}async uploadFile(e,n,r){if(mn(r),n.length===1&&!n[0].shouldUseMultipart)return me(this,Xl,Zb).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);mn(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return mn(r),await _(this,Ad).call(this,_(this,zr).call(this,e),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==_p&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,n){if(e.data==null)throw new Error("File data is empty");_(this,Vr).set(e.data,n)}async resumeUploadFile(e,n,r){if(mn(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return me(this,Xl,Zb).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);mn(r);const o=await _(this,Um).call(this,_(this,zr).call(this,e),{uploadId:i,key:a,signal:r},r).abortOn(r);mn(r);const l=await Promise.all(n.map((c,d)=>{var m;const u=d+1,h=o.find(({PartNumber:x})=>x===u);return h==null?this.uploadChunk(e,u,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:u,ETag:h.ETag})}));return mn(r),_(this,Ad).call(this,_(this,zr).call(this,e),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,n,r,i){mn(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=_(this,Td).values(),c=_(this,Td).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){mn(i);const u=r.getData(),{onProgress:h,onComplete:m}=r;let x;try{x=await _(this,Lm).call(this,_(this,zr).call(this,e),{uploadId:a,key:o,partNumber:n,body:u,signal:i}).abortOn(i)}catch(v){const b=d();if(b==null||i.aborted)throw v;await new Promise(g=>setTimeout(g,b));continue}mn(i);try{return{PartNumber:n,...await _(this,Fd).call(this,{signature:x,body:u,size:u.size,onProgress:h,onComplete:m,signal:i}).abortOn(i)}}catch(v){if(!await me(this,Xl,V$).call(this,v,c))throw v}}}}Om=new WeakMap,Vr=new WeakMap,Mm=new WeakMap,Lm=new WeakMap,$m=new WeakMap,Um=new WeakMap,Pd=new WeakMap,Ed=new WeakMap,Td=new WeakMap,Ad=new WeakMap,_l=new WeakMap,Fd=new WeakMap,zr=new WeakMap,Xl=new WeakSet,V$=async function(e,n){var a;const r=_(this,Ed),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||_(this,Pd)==null){const o=n.next();if(o==null||o.done)return!1;te(this,Pd,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,_(this,Pd)))}}else if(i===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Zb=async function(e,n,r){const{method:i="POST",url:a,fields:o,headers:l}=await _(this,$m).call(this,_(this,zr).call(this,e),{signal:r}).abortOn(r);let c;const d=n.getData();if(i.toUpperCase()==="POST"){const v=new FormData;Object.entries(o).forEach(([b,g])=>v.set(b,g)),v.set("file",d),c=v}else c=d;const{onProgress:u,onComplete:h}=n,m=await _(this,Fd).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:u,onComplete:h,signal:r}).abortOn(r),x=o==null?void 0:o.key;return _(this,_l).call(this,e,{key:x}),{...m,location:m.location??vre(a),bucket:o==null?void 0:o.bucket,key:x}};function gc(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function B_(t){const e=t.Expiration;if(e){const n=Math.floor((new Date(e)-Date.now())/1e3);if(n>9)return n}}function V_({meta:t,allowedMetaFields:e,querify:n=!1}){const r=e??Object.keys(t);return t?Object.fromEntries(r.filter(i=>t[i]!=null).map(i=>{const a=n?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const bre={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Rd,Nn,Us,ew,za,Hr,z$,Kx,Dd,H$,q$,Bm,Id,kl,Vm;const Gx=class Gx extends n${constructor(n,r){super(n,{...bre,uploadPartBytes:Gx.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});Z(this,Us);Z(this,Rd);Z(this,Nn);E(this,"requests");E(this,"uploaderEvents");E(this,"uploaders");Z(this,Hr);Z(this,Kx,(n,{key:r,uploadId:i})=>{const a=this.uppy.getFile(n.id);a!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});Z(this,Dd,n=>this.uppy.getFile(n.id)||n);Z(this,Bm,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),i=QJ(r),a=XJ(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;_(this,kl).call(this,!1);const u=new AbortController,h=x=>{x.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,me(this,Us,q$).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),m}return me(this,Us,H$).call(this,c)}),l=await Promise.allSettled(o);return _(this,kl).call(this,!0),l});Z(this,Id,()=>{var n;(n=_(this,Nn))==null||n.setCompanionHeaders(this.opts.headers)});Z(this,kl,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});Z(this,Vm,()=>{_(this,kl).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",me(this,Us,ew).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new hee(this.opts.limit),te(this,Rd,new jre(this.requests,this.opts,_(this,Kx),_(this,Dd))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return _(this,Nn)}setOptions(n){_(this,Rd).setOptions(n),super.setOptions(n),me(this,Us,ew).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){me(this,Us,za).call(this,"createMultipartUpload"),mn(r);const i=H2(this.opts.allowedMetaFields,n.meta),a=V_({meta:n.meta,allowedMetaFields:i});return _(this,Nn).post("s3/multipart",{filename:n.name,type:n.type,metadata:a},{signal:r}).then(gc)}listParts(n,{key:r,uploadId:i,signal:a},o){a??(a=o),me(this,Us,za).call(this,"listParts"),mn(a);const l=encodeURIComponent(r);return _(this,Nn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(gc)}completeMultipartUpload(n,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),me(this,Us,za).call(this,"completeMultipartUpload"),mn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return _(this,Nn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(gc)}async createSignedURL(n,r){const i=await me(this,Us,z$).call(this,r),a=B_(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await pre({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:i,partNumber:a,signal:o}){if(me(this,Us,za).call(this,"signPart"),mn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return _(this,Nn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(gc)}abortMultipartUpload(n,{key:r,uploadId:i,signal:a}){me(this,Us,za).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return _(this,Nn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(gc)}getUploadParameters(n,r){me(this,Us,za).call(this,"getUploadParameters");const{meta:i}=n,{type:a,name:o}=i,l=H2(this.opts.allowedMetaFields,n.meta),c=V_({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return _(this,Nn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(mn(u),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,m)=>{const x=new XMLHttpRequest;x.open(a,n,!0),i&&Object.keys(i).forEach(g=>{x.setRequestHeader(g,i[g])}),x.responseType="text",typeof r=="number"&&(x.timeout=r*1e3);function v(){x.abort()}function b(){u==null||u.removeEventListener("abort",v)}u==null||u.addEventListener("abort",v),x.upload.addEventListener("progress",g=>{c(g)}),x.addEventListener("abort",()=>{b(),m(EL())}),x.addEventListener("timeout",()=>{b();const g=new Error("Request has expired");g.source={status:403},m(g)}),x.addEventListener("load",()=>{if(b(),x.status===403&&x.responseText.includes("<Message>Request has expired</Message>")){const N=new Error("Request has expired");N.source=x,m(N);return}if(x.status<200||x.status>=300){const N=new Error("Non 2xx");N.source=x,m(N);return}c==null||c({loaded:l,lengthComputable:!0});const g=x.getAllResponseHeaders().trim().split(/[\r\n]+/),p={__proto__:null};for(const N of g){const P=N.split(": "),S=P.shift(),C=P.join(": ");p[S]=C}const{etag:j,location:w}=p;if(a.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),j==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(j),h({...p,ETag:j})}),x.addEventListener("error",g=>{b();const p=new Error("Unknown error");p.source=g.target,m(p)}),x.send(o)})}install(){_(this,kl).call(this,!0),this.uppy.addPreProcessor(_(this,Id)),this.uppy.addUploader(_(this,Bm)),this.uppy.on("cancel-all",_(this,Vm))}uninstall(){this.uppy.removePreProcessor(_(this,Id)),this.uppy.removeUploader(_(this,Bm)),this.uppy.off("cancel-all",_(this,Vm))}};Rd=new WeakMap,Nn=new WeakMap,Us=new WeakSet,ew=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?te(this,Nn,new L$(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&_(this,Id).call(this),"cookiesRule"in n&&(_(this,Nn).opts.companionCookiesRule=n.cookiesRule)))},za=function(n){if(!_(this,Nn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Hr=new WeakMap,z$=async function(n){if(mn(n==null?void 0:n.signal),_(this,Hr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(me(this,Us,za).call(this,"getTemporarySecurityCredentials"),te(this,Hr,_(this,Nn).get("s3/sts",n).then(gc))):te(this,Hr,r(n)),te(this,Hr,await _(this,Hr)),setTimeout(()=>{te(this,Hr,null)},(B_(_(this,Hr).credentials)||0)*500)}return _(this,Hr)},Kx=new WeakMap,Dd=new WeakMap,H$=function(n){return new Promise((r,i)=>{const a=(u,h)=>{const m=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",n,u),this.resetUploaderReferences(n.id),i(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",_(this,Dd).call(this,n),h),u.location&&this.uppy.log(`Download ${n.name} from ${u.location}`),r(void 0)};if(n.data==null)throw new Error("File data is empty");const c=new yre(n.data,{companionComm:_(this,Rd),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",_(this,Dd).call(this,n),u)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const d=new Eee(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,u=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${u} was removed`)}),d.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,u=>{u?c.pause():c.start()}),d.onPauseAll(n.id,()=>{c.pause()}),d.onResumeAll(n.id,()=>{c.start()}),c.start()})},q$=function(n){var r;return{..."remote"in n&&((r=n.remote)==null?void 0:r.body),protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},Bm=new WeakMap,Id=new WeakMap,kl=new WeakMap,Vm=new WeakMap,E(Gx,"VERSION",ure.version);let Jb=Gx;const wre="4.1.0",Nre={version:wre};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K$(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function _re(t,e,n){return e&&H_(t.prototype,e),n&&H_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){return Pre(t)||Ere(t)||Tre(t)||Are()}function Pre(t){if(Array.isArray(t))return sw(t)}function Ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tre(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zg=typeof window<"u"&&typeof window.document<"u",zi=Zg?window:{},d1=Zg&&zi.document.documentElement?"ontouchstart"in zi.document.documentElement:!1,u1=Zg?"PointerEvent"in zi:!1,es="cropper",h1="all",Y$="crop",Q$="move",X$="zoom",Wo="e",Ko="w",yc="s",Ua="n",Iu="ne",Ou="nw",Mu="se",Lu="sw",nw="".concat(es,"-crop"),q_="".concat(es,"-disabled"),Hn="".concat(es,"-hidden"),W_="".concat(es,"-hide"),Fre="".concat(es,"-invisible"),Tx="".concat(es,"-modal"),rw="".concat(es,"-move"),pm="".concat(es,"Action"),Jf="".concat(es,"Preview"),m1="crop",Z$="move",J$="none",iw="crop",aw="cropend",ow="cropmove",lw="cropstart",K_="dblclick",Rre=d1?"touchstart":"mousedown",Dre=d1?"touchmove":"mousemove",Ire=d1?"touchend touchcancel":"mouseup",G_=u1?"pointerdown":Rre,Y_=u1?"pointermove":Dre,Q_=u1?"pointerup pointercancel":Ire,X_="ready",Z_="resize",J_="wheel",cw="zoom",ek="image/jpeg",Ore=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Mre=/^data:/,Lre=/^data:image\/jpeg;base64,/,$re=/^img|canvas$/i,e6=200,t6=100,tk={viewMode:0,dragMode:m1,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:e6,minContainerHeight:t6,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ure='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Bre=Number.isNaN||zi.isNaN;function vt(t){return typeof t=="number"&&!Bre(t)}var sk=function(e){return e>0&&e<1/0};function $v(t){return typeof t>"u"}function Ql(t){return tw(t)==="object"&&t!==null}var Vre=Object.prototype.hasOwnProperty;function Lc(t){if(!Ql(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&Vre.call(n,"isPrototypeOf")}catch{return!1}}function Bn(t){return typeof t=="function"}var zre=Array.prototype.slice;function s6(t){return Array.from?Array.from(t):zre.call(t)}function Ds(t,e){return t&&Bn(e)&&(Array.isArray(t)||vt(t.length)?s6(t).forEach(function(n,r){e.call(t,n,r,t)}):Ql(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var is=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ql(e)&&r.length>0&&r.forEach(function(a){Ql(a)&&Object.keys(a).forEach(function(o){e[o]=a[o]})}),e},Hre=/\.\d*(?:0|9){12}\d*$/;function sd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Hre.test(t)?Math.round(t*e)/e:t}var qre=/^width|height|left|top|marginLeft|marginTop$/;function co(t,e){var n=t.style;Ds(e,function(r,i){qre.test(i)&&vt(r)&&(r="".concat(r,"px")),n[i]=r})}function Wre(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Gs(t,e){if(e){if(vt(t.length)){Ds(t,function(r){Gs(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Oi(t,e){if(e){if(vt(t.length)){Ds(t,function(n){Oi(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function $c(t,e,n){if(e){if(vt(t.length)){Ds(t,function(r){$c(r,e,n)});return}n?Gs(t,e):Oi(t,e)}}var Kre=/([a-z\d])([A-Z])/g;function f1(t){return t.replace(Kre,"$1-$2").toLowerCase()}function dw(t,e){return Ql(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(f1(e)))}function xm(t,e,n){Ql(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(f1(e)),n)}function Gre(t,e){if(Ql(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(f1(e)))}var n6=/\s\s*/,r6=function(){var t=!1;if(Zg){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});zi.addEventListener("test",n,r),zi.removeEventListener("test",n,r)}return t}();function Fr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(n6).forEach(function(a){if(!r6){var o=t.listeners;o&&o[a]&&o[a][n]&&(i=o[a][n],delete o[a][n],Object.keys(o[a]).length===0&&delete o[a],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(a,i,r)})}function pr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(n6).forEach(function(a){if(r.once&&!r6){var o=t.listeners,l=o===void 0?{}:o;i=function(){delete l[a][n],t.removeEventListener(a,i,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[a]||(l[a]={}),l[a][n]&&t.removeEventListener(a,l[a][n],r),l[a][n]=i,t.listeners=l}t.addEventListener(a,i,r)})}function nd(t,e,n){var r;return Bn(Event)&&Bn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function i6(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Uv=zi.location,Yre=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function nk(t){var e=t.match(Yre);return e!==null&&(e[1]!==Uv.protocol||e[2]!==Uv.hostname||e[3]!==Uv.port)}function rk(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function bh(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,a=t.translateY,o=[];vt(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),vt(a)&&a!==0&&o.push("translateY(".concat(a,"px)")),vt(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),vt(n)&&n!==1&&o.push("scaleX(".concat(n,")")),vt(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Qre(t){var e=W$({},t),n=0;return Ds(t,function(r,i){delete e[i],Ds(e,function(a){var o=Math.abs(r.startX-a.startX),l=Math.abs(r.startY-a.startY),c=Math.abs(r.endX-a.endX),d=Math.abs(r.endY-a.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),m=(h-u)/u;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function ep(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:W$({startX:n,startY:r},i)}function Xre(t){var e=0,n=0,r=0;return Ds(t,function(i){var a=i.startX,o=i.startY;e+=a,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function uo(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=sk(r),o=sk(n);if(a&&o){var l=n*e;i==="contain"&&l>r||i==="cover"&&l<r?n=r/e:r=n*e}else a?n=r/e:o&&(r=n*e);return{width:r,height:n}}function Zre(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var i=r%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),l=e*o+n*a,c=e*a+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function Jre(t,e,n,r){var i=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,m=h===void 0?1:h,x=n.aspectRatio,v=n.naturalWidth,b=n.naturalHeight,g=r.fillColor,p=g===void 0?"transparent":g,j=r.imageSmoothingEnabled,w=j===void 0?!0:j,N=r.imageSmoothingQuality,P=N===void 0?"low":N,S=r.maxWidth,C=S===void 0?1/0:S,k=r.maxHeight,D=k===void 0?1/0:k,F=r.minWidth,L=F===void 0?0:F,B=r.minHeight,Y=B===void 0?0:B,Q=document.createElement("canvas"),H=Q.getContext("2d"),le=uo({aspectRatio:x,width:C,height:D}),he=uo({aspectRatio:x,width:L,height:Y},"cover"),z=Math.min(le.width,Math.max(he.width,v)),R=Math.min(le.height,Math.max(he.height,b)),I=uo({aspectRatio:i,width:C,height:D}),de=uo({aspectRatio:i,width:L,height:Y},"cover"),A=Math.min(I.width,Math.max(de.width,a)),xe=Math.min(I.height,Math.max(de.height,o)),Le=[-A/2,-xe/2,A,xe];return Q.width=sd(z),Q.height=sd(R),H.fillStyle=p,H.fillRect(0,0,z,R),H.save(),H.translate(z/2,R/2),H.rotate(c*Math.PI/180),H.scale(u,m),H.imageSmoothingEnabled=w,H.imageSmoothingQuality=P,H.drawImage.apply(H,[t].concat(G$(Le.map(function(it){return Math.floor(sd(it))})))),H.restore(),Q}var a6=String.fromCharCode;function eie(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=a6(t.getUint8(i));return r}var tie=/^data:.*,/;function sie(t){var e=t.replace(tie,""),n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Ds(i,function(a,o){i[o]=n.charCodeAt(o)}),r}function nie(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(a6.apply(null,s6(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function rie(t){var e=new DataView(t),n;try{var r,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,d=i+10;if(eie(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(a=d+h)}}}if(a){var m=e.getUint16(a,r),x,v;for(v=0;v<m;v+=1)if(x=a+v*12+2,e.getUint16(x,r)===274){x+=8,n=e.getUint16(x,r),e.setUint16(x,1,r);break}}}catch{n=1}return n}function iie(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var aie={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,i=this.cropper,a=Number(n.minContainerWidth),o=Number(n.minContainerHeight);Gs(i,Hn),Oi(e,Hn);var l={width:Math.max(r.offsetWidth,a>=0?a:e6),height:Math.max(r.offsetHeight,o>=0?o:t6)};this.containerData=l,co(i,{width:l.width,height:l.height}),Gs(e,Hn),Oi(i,Hn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,a=i?n.naturalHeight:n.naturalWidth,o=i?n.naturalWidth:n.naturalHeight,l=a/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:a,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=is({},u)},limitCanvas:function(e,n){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=a.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,i.width),h=Math.max(h,i.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var m=uo({aspectRatio:c,width:u,height:h});u=m.width,h=m.height,a.minWidth=u,a.minHeight=h,a.maxWidth=1/0,a.maxHeight=1/0}if(n)if(l>(d?0:1)){var x=i.width-a.width,v=i.height-a.height;a.minLeft=Math.min(0,x),a.minTop=Math.min(0,v),a.maxLeft=Math.max(0,x),a.maxTop=Math.max(0,v),d&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,l===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,x),a.maxLeft=Math.max(0,x)),a.height>=i.height&&(a.minTop=Math.min(0,v),a.maxTop=Math.max(0,v))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,n){var r=this.canvasData,i=this.imageData;if(n){var a=Zre({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=a.width,l=a.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,co(this.canvas,is({width:r.width,height:r.height},bh({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),a=r.naturalHeight*(n.height/n.naturalHeight);is(r,{width:i,height:a,left:(n.width-i)/2,top:(n.height-a)/2}),co(this.image,is({width:r.width,height:r.height},bh(is({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:n.width,height:n.height};r&&(n.height*r>n.width?a.height=a.width/r:a.width=a.height*r),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=n.left+(n.width-a.width)/2,a.top=n.top+(n.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=is({},a)},limitCropBox:function(e,n){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,m=l?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;d=Math.min(d,i.width),u=Math.min(u,i.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),m*c>h?m=h/c:h=m*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,m),o.maxWidth=h,o.maxHeight=m}n&&(l?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(i.width,a.left+a.width)-o.width,o.maxTop=Math.min(i.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&xm(this.face,pm,r.width>=n.width&&r.height>=n.height?Q$:h1),co(this.cropBox,is({width:r.width,height:r.height},bh({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),nd(this.element,iw,this.getData())}},oie={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=i,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,Ds(l,function(c){var d=document.createElement("img");xm(c,Jf,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=i,d.alt=a,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){Ds(this.previews,function(e){var n=dw(e,Jf);co(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Gre(e,Jf)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,a=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(co(this.viewBoxImage,is({width:o,height:l},bh(is({translateX:-c,translateY:-d},e)))),Ds(this.previews,function(u){var h=dw(u,Jf),m=h.width,x=h.height,v=m,b=x,g=1;i&&(g=m/i,b=a*g),a&&b>x&&(g=x/a,v=i*g,b=x),co(u,{width:v,height:b}),co(u.getElementsByTagName("img")[0],is({width:o*g,height:l*g},bh(is({translateX:-c*g,translateY:-d*g},e))))}))}},lie={bind:function(){var e=this.element,n=this.options,r=this.cropper;Bn(n.cropstart)&&pr(e,lw,n.cropstart),Bn(n.cropmove)&&pr(e,ow,n.cropmove),Bn(n.cropend)&&pr(e,aw,n.cropend),Bn(n.crop)&&pr(e,iw,n.crop),Bn(n.zoom)&&pr(e,cw,n.zoom),pr(r,G_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&pr(r,J_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&pr(r,K_,this.onDblclick=this.dblclick.bind(this)),pr(e.ownerDocument,Y_,this.onCropMove=this.cropMove.bind(this)),pr(e.ownerDocument,Q_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&pr(window,Z_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;Bn(n.cropstart)&&Fr(e,lw,n.cropstart),Bn(n.cropmove)&&Fr(e,ow,n.cropmove),Bn(n.cropend)&&Fr(e,aw,n.cropend),Bn(n.crop)&&Fr(e,iw,n.crop),Bn(n.zoom)&&Fr(e,cw,n.zoom),Fr(r,G_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Fr(r,J_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Fr(r,K_,this.onDblclick),Fr(e.ownerDocument,Y_,this.onCropMove),Fr(e.ownerDocument,Q_,this.onCropEnd),n.responsive&&Fr(window,Z_,this.onResize)}},cie={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,a=n.offsetHeight/r.height,o=Math.abs(i-1)>Math.abs(a-1)?i:a;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Ds(l,function(d,u){l[u]=d*o})),this.setCropBoxData(Ds(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===J$||this.setDragMode(Wre(this.dragBox,nw)?Z$:m1)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(vt(n)&&n!==1||vt(r)&&r!==0||e.ctrlKey))){var i=this.options,a=this.pointers,o;e.changedTouches?Ds(e.changedTouches,function(l){a[l.identifier]=ep(l)}):a[e.pointerId||0]=ep(e),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?o=X$:o=dw(e.target,pm),Ore.test(o)&&nd(this.element,lw,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===Y$&&(this.cropping=!0,Gs(this.dragBox,Tx)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),nd(this.element,ow,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Ds(e.changedTouches,function(i){is(r[i.identifier]||{},ep(i,!0))}):is(r[e.pointerId||0]||{},ep(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?Ds(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,$c(this.dragBox,Tx,this.cropped&&this.options.modal)),nd(this.element,aw,{originalEvent:e,action:n}))}}},die={change:function(e){var n=this.options,r=this.canvasData,i=this.containerData,a=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=a.left,u=a.top,h=a.width,m=a.height,x=d+h,v=u+m,b=0,g=0,p=i.width,j=i.height,w=!0,N;!c&&e.shiftKey&&(c=h&&m?h/m:1),this.limited&&(b=a.minLeft,g=a.minTop,p=b+Math.min(i.width,r.width,r.left+r.width),j=g+Math.min(i.height,r.height,r.top+r.height));var P=o[Object.keys(o)[0]],S={x:P.endX-P.startX,y:P.endY-P.startY},C=function(D){switch(D){case Wo:x+S.x>p&&(S.x=p-x);break;case Ko:d+S.x<b&&(S.x=b-d);break;case Ua:u+S.y<g&&(S.y=g-u);break;case yc:v+S.y>j&&(S.y=j-v);break}};switch(l){case h1:d+=S.x,u+=S.y;break;case Wo:if(S.x>=0&&(x>=p||c&&(u<=g||v>=j))){w=!1;break}C(Wo),h+=S.x,h<0&&(l=Ko,h=-h,d-=h),c&&(m=h/c,u+=(a.height-m)/2);break;case Ua:if(S.y<=0&&(u<=g||c&&(d<=b||x>=p))){w=!1;break}C(Ua),m-=S.y,u+=S.y,m<0&&(l=yc,m=-m,u-=m),c&&(h=m*c,d+=(a.width-h)/2);break;case Ko:if(S.x<=0&&(d<=b||c&&(u<=g||v>=j))){w=!1;break}C(Ko),h-=S.x,d+=S.x,h<0&&(l=Wo,h=-h,d-=h),c&&(m=h/c,u+=(a.height-m)/2);break;case yc:if(S.y>=0&&(v>=j||c&&(d<=b||x>=p))){w=!1;break}C(yc),m+=S.y,m<0&&(l=Ua,m=-m,u-=m),c&&(h=m*c,d+=(a.width-h)/2);break;case Iu:if(c){if(S.y<=0&&(u<=g||x>=p)){w=!1;break}C(Ua),m-=S.y,u+=S.y,h=m*c}else C(Ua),C(Wo),S.x>=0?x<p?h+=S.x:S.y<=0&&u<=g&&(w=!1):h+=S.x,S.y<=0?u>g&&(m-=S.y,u+=S.y):(m-=S.y,u+=S.y);h<0&&m<0?(l=Lu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Ou,h=-h,d-=h):m<0&&(l=Mu,m=-m,u-=m);break;case Ou:if(c){if(S.y<=0&&(u<=g||d<=b)){w=!1;break}C(Ua),m-=S.y,u+=S.y,h=m*c,d+=a.width-h}else C(Ua),C(Ko),S.x<=0?d>b?(h-=S.x,d+=S.x):S.y<=0&&u<=g&&(w=!1):(h-=S.x,d+=S.x),S.y<=0?u>g&&(m-=S.y,u+=S.y):(m-=S.y,u+=S.y);h<0&&m<0?(l=Mu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Iu,h=-h,d-=h):m<0&&(l=Lu,m=-m,u-=m);break;case Lu:if(c){if(S.x<=0&&(d<=b||v>=j)){w=!1;break}C(Ko),h-=S.x,d+=S.x,m=h/c}else C(yc),C(Ko),S.x<=0?d>b?(h-=S.x,d+=S.x):S.y>=0&&v>=j&&(w=!1):(h-=S.x,d+=S.x),S.y>=0?v<j&&(m+=S.y):m+=S.y;h<0&&m<0?(l=Iu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Mu,h=-h,d-=h):m<0&&(l=Ou,m=-m,u-=m);break;case Mu:if(c){if(S.x>=0&&(x>=p||v>=j)){w=!1;break}C(Wo),h+=S.x,m=h/c}else C(yc),C(Wo),S.x>=0?x<p?h+=S.x:S.y>=0&&v>=j&&(w=!1):h+=S.x,S.y>=0?v<j&&(m+=S.y):m+=S.y;h<0&&m<0?(l=Ou,m=-m,h=-h,u-=m,d-=h):h<0?(l=Lu,h=-h,d-=h):m<0&&(l=Iu,m=-m,u-=m);break;case Q$:this.move(S.x,S.y),w=!1;break;case X$:this.zoom(Qre(o),e),w=!1;break;case Y$:if(!S.x||!S.y){w=!1;break}N=i6(this.cropper),d=P.startX-N.left,u=P.startY-N.top,h=a.minWidth,m=a.minHeight,S.x>0?l=S.y>0?Mu:Iu:S.x<0&&(d-=h,l=S.y>0?Lu:Ou),S.y<0&&(u-=m),this.cropped||(Oi(this.cropBox,Hn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(a.width=h,a.height=m,a.left=d,a.top=u,this.action=l,this.renderCropBox()),Ds(o,function(k){k.startX=k.endX,k.startY=k.endY})}},uie={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Gs(this.dragBox,Tx),Oi(this.cropBox,Hn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=is({},this.initialImageData),this.canvasData=is({},this.initialCanvasData),this.cropBoxData=is({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(is(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Oi(this.dragBox,Tx),Gs(this.cropBox,Hn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Ds(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Oi(this.cropper,q_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Gs(this.cropper,q_)),this},destroy:function(){var e=this.element;return e[es]?(e[es]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,a=r.top;return this.moveTo($v(e)?e:i+Number(e),$v(n)?n:a+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(vt(e)&&(r.left=e,i=!0),vt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var i=this.options,a=this.canvasData,o=a.width,l=a.height,c=a.naturalWidth,d=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var u=c*e,h=d*e;if(nd(this.element,cw,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var m=this.pointers,x=i6(this.cropper),v=m&&Object.keys(m).length?Xre(m):{pageX:r.pageX,pageY:r.pageY};a.left-=(u-o)*((v.pageX-x.left-a.left)/o),a.top-=(h-l)*((v.pageY-x.top-a.top)/l)}else Lc(n)&&vt(n.x)&&vt(n.y)?(a.left-=(u-o)*((n.x-a.left)/o),a.top-=(h-l)*((n.y-a.top)/l)):(a.left-=(u-o)/2,a.top-=(h-l)/2);a.width=u,a.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),vt(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,vt(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(vt(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(vt(e)&&(r.scaleX=e,i=!0),vt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,a=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var l=r.width/r.naturalWidth;if(Ds(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&Lc(e)){var o=!1;n.rotatable&&vt(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(vt(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),vt(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;vt(e.x)&&(a.left=e.x*l+i.left),vt(e.y)&&(a.top=e.y*l+i.top),vt(e.width)&&(a.width=e.width*l),vt(e.height)&&(a.height=e.height*l),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?is({},this.containerData):{}},getImageData:function(){return this.sized?is({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Ds(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Lc(e)&&(vt(e.left)&&(n.left=e.left),vt(e.top)&&(n.top=e.top),vt(e.width)?(n.width=e.width,n.height=e.width/r):vt(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&Lc(e)&&(vt(e.left)&&(n.left=e.left),vt(e.top)&&(n.top=e.top),vt(e.width)&&e.width!==n.width&&(i=!0,n.width=e.width),vt(e.height)&&e.height!==n.height&&(a=!0,n.height=e.height),r&&(i?n.height=n.width/r:a&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=Jre(this.image,this.imageData,n,e);if(!this.cropped)return r;var i=this.getData(e.rounded),a=i.x,o=i.y,l=i.width,c=i.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(a*=d,o*=d,l*=d,c*=d);var u=l/c,h=uo({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),m=uo({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),x=uo({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),v=x.width,b=x.height;v=Math.min(h.width,Math.max(m.width,v)),b=Math.min(h.height,Math.max(m.height,b));var g=document.createElement("canvas"),p=g.getContext("2d");g.width=sd(v),g.height=sd(b),p.fillStyle=e.fillColor||"transparent",p.fillRect(0,0,v,b);var j=e.imageSmoothingEnabled,w=j===void 0?!0:j,N=e.imageSmoothingQuality;p.imageSmoothingEnabled=w,N&&(p.imageSmoothingQuality=N);var P=r.width,S=r.height,C=a,k=o,D,F,L,B,Y,Q;C<=-l||C>P?(C=0,D=0,L=0,Y=0):C<=0?(L=-C,C=0,D=Math.min(P,l+C),Y=D):C<=P&&(L=0,D=Math.min(l,P-C),Y=D),D<=0||k<=-c||k>S?(k=0,F=0,B=0,Q=0):k<=0?(B=-k,k=0,F=Math.min(S,c+k),Q=F):k<=S&&(B=0,F=Math.min(c,S-k),Q=F);var H=[C,k,D,F];if(Y>0&&Q>0){var le=v/l;H.push(L*le,B*le,Y*le,Q*le)}return p.drawImage.apply(p,[r].concat(G$(H.map(function(he){return Math.floor(sd(he))})))),g},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!$v(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===m1,o=n.movable&&e===Z$;e=a||o?e:J$,n.dragMode=e,xm(r,pm,e),$c(r,nw,a),$c(r,rw,o),n.cropBoxMovable||(xm(i,pm,e),$c(i,nw,a),$c(i,rw,o))}return this}},hie=zi.Cropper,o6=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Cre(this,t),!e||!$re.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=is({},tk,Lc(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _re(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[es]){if(n[es]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Mre.test(n)){Lre.test(n)?this.read(sie(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==ek&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},a.checkCrossOrigin&&nk(n)&&i.crossOrigin&&(n=rk(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,a=rie(n),o=0,l=1,c=1;if(a>1){this.url=nie(n,ek);var d=iie(a);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(i.rotate=o),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,a=r;this.options.checkCrossOrigin&&nk(r)&&(i||(i="anonymous"),a=rk(r)),this.crossOrigin=i,this.crossOriginUrl=a;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Gs(o,W_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=zi.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(zi.navigator.userAgent),a=function(d,u){is(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=is({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){a(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){a(o.width,o.height),i||l.removeChild(o)},o.src=r.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,a=n.parentNode,o=document.createElement("div");o.innerHTML=Ure;var l=o.querySelector(".".concat(es,"-container")),c=l.querySelector(".".concat(es,"-canvas")),d=l.querySelector(".".concat(es,"-drag-box")),u=l.querySelector(".".concat(es,"-crop-box")),h=u.querySelector(".".concat(es,"-face"));this.container=a,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(es,"-view-box")),this.face=h,c.appendChild(i),Gs(n,Hn),a.insertBefore(l,n.nextSibling),Oi(i,W_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Gs(u,Hn),r.guides||Gs(u.getElementsByClassName("".concat(es,"-dashed")),Hn),r.center||Gs(u.getElementsByClassName("".concat(es,"-center")),Hn),r.background&&Gs(l,"".concat(es,"-bg")),r.highlight||Gs(h,Fre),r.cropBoxMovable&&(Gs(h,rw),xm(h,pm,h1)),r.cropBoxResizable||(Gs(u.getElementsByClassName("".concat(es,"-line")),Hn),Gs(u.getElementsByClassName("".concat(es,"-point")),Hn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Bn(r.ready)&&pr(n,X_,r.ready,{once:!0}),nd(n,X_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Oi(this.element,Hn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=hie,t}},{key:"setDefaults",value:function(n){is(tk,Lc(n)&&n)}}])}();is(o6.prototype,aie,oie,lie,cie,die,uie);function mie(t,e){const n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r),a=e.width*i,o=e.height*i,l=(t.width-a)/2,c=(t.height-o)/2;return{width:a,height:o,left:l,top:c}}function fie(t){return t*(Math.PI/180)}function pie(t,e,n){const r=Math.abs(fie(n));return Math.max((Math.sin(r)*t+Math.cos(r)*e)/e,(Math.sin(r)*e+Math.cos(r)*t)/t)}function xie(t,e,n){return e.left<t.left?{left:t.left,width:n.width}:e.top<t.top?{top:t.top,height:n.height}:e.left+e.width>t.left+t.width?{left:t.left+t.width-n.width,width:n.width}:e.top+e.height>t.top+t.height?{top:t.top+t.height-n.height,height:n.height}:null}function gie(t,e,n){return e.left<t.left?{left:t.left,width:n.left+n.width-t.left}:e.top<t.top?{top:t.top,height:n.top+n.height-t.top}:e.left+e.width>t.left+t.width?{left:n.left,width:t.left+t.width-n.left}:e.top+e.height>t.top+t.height?{top:n.top,height:t.top+t.height-n.top}:null}class yie extends ii{constructor(n){super(n);E(this,"imgElement");E(this,"cropper");E(this,"onRotate90Deg",()=>{const{angle90Deg:n}=this.state,r=n-90;this.setState({angle90Deg:r,angleGranular:0}),this.cropper.scale(1),this.cropper.rotateTo(r);const i=this.cropper.getCanvasData(),a=this.cropper.getContainerData(),o=mie(a,i);this.cropper.setCanvasData(o),this.cropper.setCropBoxData(o)});E(this,"onRotateGranular",n=>{const r=Number(n.target.value);this.setState({angleGranular:r});const{angle90Deg:i}=this.state,a=i+r;this.cropper.rotateTo(a);const o=this.cropper.getImageData(),l=pie(o.naturalWidth,o.naturalHeight,r),c=this.cropper.getImageData().scaleX<0?-l:l;this.cropper.scale(c,l)});this.state={angle90Deg:0,angleGranular:0,prevCropboxData:null},this.storePrevCropboxData=this.storePrevCropboxData.bind(this),this.limitCropboxMovement=this.limitCropboxMovement.bind(this)}componentDidMount(){const{opts:n,storeCropperInstance:r}=this.props;this.cropper=new o6(this.imgElement,n.cropperOptions),this.imgElement.addEventListener("cropstart",this.storePrevCropboxData),this.imgElement.addEventListener("cropend",this.limitCropboxMovement),r(this.cropper)}componentWillUnmount(){this.cropper.destroy(),this.imgElement.removeEventListener("cropstart",this.storePrevCropboxData),this.imgElement.removeEventListener("cropend",this.limitCropboxMovement)}storePrevCropboxData(){this.setState({prevCropboxData:this.cropper.getCropBoxData()})}limitCropboxMovement(n){const r=this.cropper.getCanvasData(),i=this.cropper.getCropBoxData(),{prevCropboxData:a}=this.state;if(n.detail.action==="all"){const o=xie(r,i,a);o&&this.cropper.setCropBoxData(o)}else{const o=gie(r,i,a);o&&this.cropper.setCropBoxData(o)}}renderGranularRotate(){const{i18n:n}=this.props,{angleGranular:r}=this.state;return T("label",{role:"tooltip","aria-label":`${r}`,"data-microtip-position":"top",className:"uppy-ImageCropper-rangeWrapper",children:T("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.onRotateGranular,onChange:this.onRotateGranular,value:r,min:"-45",max:"45","aria-label":n("rotate")})})}renderRevert(){const{i18n:n,opts:r}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("revert"),onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(r.cropperOptions.initialAspectRatio),this.setState({angle90Deg:0,angleGranular:0})},children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})]})})}renderRotate(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("rotate"),onClick:this.onRotate90Deg,children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})]})})}renderFlip(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("flipHorizontal"),onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})]})})}renderZoomIn(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("zoomIn"),onClick:()=>this.cropper.zoom(.1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24",children:[T("path",{d:"M0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),T("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})]})})}renderZoomOut(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("zoomOut"),onClick:()=>this.cropper.zoom(-.1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})]})})}renderCropSquare(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("aspectRatioSquare"),onClick:()=>this.cropper.setAspectRatio(1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})]})})}renderCropWidescreen(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("aspectRatioLandscape"),onClick:()=>this.cropper.setAspectRatio(16/9),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),T("path",{fill:"none",d:"M0 0h24v24H0z"})]})})}renderCropWidescreenVertical(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button","aria-label":n("aspectRatioPortrait"),className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.setAspectRatio(9/16),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),T("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}render(){const{currentImage:n,opts:r}=this.props,{actions:i}=r;if(n.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(n.data);return T("div",{className:"uppy-ImageCropper",children:[T("div",{className:"uppy-ImageCropper-container",children:T("img",{className:"uppy-ImageCropper-image",alt:n.name,src:a,ref:o=>{this.imgElement=o}})}),T("div",{className:"uppy-ImageCropper-controls",children:[i.revert&&this.renderRevert(),i.rotate&&this.renderRotate(),i.granularRotate&&this.renderGranularRotate(),i.flip&&this.renderFlip(),i.zoomIn&&this.renderZoomIn(),i.zoomOut&&this.renderZoomOut(),i.cropSquare&&this.renderCropSquare(),i.cropWidescreen&&this.renderCropWidescreen(),i.cropWidescreenVertical&&this.renderCropWidescreenVertical()]})]})}}const vie={strings:{revert:"Reset",rotate:"Rotate 90",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontally",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},l6={viewMode:0,background:!1,autoCropArea:1,responsive:!0,minCropBoxWidth:70,minCropBoxHeight:70,croppedCanvasOptions:{},initialAspectRatio:0},c6={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},jie={quality:.8,actions:c6,cropperOptions:l6};class d6 extends mm{constructor(n,r){super(n,{...jie,...r,actions:{...c6,...r==null?void 0:r.actions},cropperOptions:{...l6,...r==null?void 0:r.cropperOptions}});E(this,"cropper");E(this,"save",()=>{const n=a=>{const{currentImage:o}=this.getPluginState();this.uppy.setFileState(o.id,{data:new File([a],o.name??this.i18n("unnamed"),{type:a.type}),size:a.size,preview:void 0});const l=this.uppy.getFile(o.id);this.uppy.emit("thumbnail:request",l),this.setPluginState({currentImage:l}),this.uppy.emit("file-editor:complete",l)},{currentImage:r}=this.getPluginState(),i=this.cropper.getCroppedCanvas({});i.width%2!==0&&this.cropper.setData({width:i.width-1}),i.height%2!==0&&this.cropper.setData({height:i.height-1}),this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(n,r.type,this.opts.quality)});E(this,"storeCropperInstance",n=>{this.cropper=n});E(this,"selectFile",n=>{this.uppy.emit("file-editor:start",n),this.setPluginState({currentImage:n})});this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=vie,this.i18nInit()}canEditFile(n){if(!n.type||n.isRemote)return!1;const r=n.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(r)}install(){this.setPluginState({currentImage:null});const{target:n}=this.opts;n&&this.mount(n,this)}uninstall(){const{currentImage:n}=this.getPluginState();if(n){const r=this.uppy.getFile(n.id);this.uppy.emit("file-editor:cancel",r)}this.unmount()}render(){const{currentImage:n}=this.getPluginState();return n===null||n.isRemote?null:T(yie,{currentImage:n,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}E(d6,"VERSION",Nre.version);function Ax({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:n,onComplete:r,onError:i,buttonClassName:a,buttonVariant:o="default",buttonSize:l="default",children:c}){const[d,u]=f.useState(!1),[h]=f.useState(()=>new Rb({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(Jb,{shouldUseMultipart:!1,getUploadParameters:n}).use(d6,{quality:.9,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,movable:!0,zoomable:!0,responsive:!0}}).on("error",m=>{i&&i((m==null?void 0:m.message)||"Upload error")}).on("upload-error",(m,x)=>{i&&i((x==null?void 0:x.message)||"Upload error")}).on("complete",m=>{r==null||r(m),u(!1)}));return s.jsxs("div",{children:[s.jsx(O,{onClick:()=>u(!0),className:a,variant:o,size:l,type:"button","data-testid":"button-open-upload-modal",children:c}),s.jsx(Qt,{open:d,onOpenChange:u,children:s.jsxs(Wt,{className:"sm:max-w-2xl w-[95vw] p-0 max-h-[90vh] sm:h-[80vh] overflow-y-auto",children:[s.jsxs(Xt,{className:"sr-only",children:[s.jsx(Zt,{children:"Upload images"}),s.jsx(ss,{children:"Manage image uploads"})]}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx(Kne,{uppy:h,proudlyDisplayPoweredByUppy:!1,width:"100%",height:480,hideUploadButton:!1,hideProgressDetails:!1,plugins:["ImageEditor"]})})]})})]})}const bie=Zn({make:se().min(1,"Make is required"),model:se().min(1,"Model is required"),year:An.number().min(1900).max(new Date().getFullYear()+1),registration:se().min(1,"Registration is required"),category:se().min(1,"Category is required"),totalTime:An.number().min(0),engine:se().optional(),avionics:se().optional(),hourlyRate:se().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid price (e.g., 150 or 150.50)").min(1,"Hourly rate is required"),location:se().min(1,"Location is required"),airportCode:se().optional(),description:se().min(20,"Description must be at least 20 characters"),insuranceIncluded:ya().default(!0),wetRate:ya().default(!0),minFlightHours:An.number().min(0).default(0),serialNumber:se().min(1,"Serial number is required"),annualInspectionDate:se().optional(),annualSignerName:se().optional(),annualSignerCertNumber:se().optional(),requires100Hour:ya().default(!1),currentTach:An.number().optional(),hour100InspectionTach:An.number().optional(),maintenanceTrackingProvider:se().optional()});function ik(){const[,t]=en(),{toast:e}=$t(),{user:n}=Os(),[r,i]=Gm("/edit-aircraft/:id"),a=r?i==null?void 0:i.id:null,{data:o,isLoading:l}=Ge({queryKey:["/api/aircraft",a],queryFn:async()=>{const C=await fetch(hs(`/api/aircraft/${a}`));if(!C.ok)throw new Error("Failed to fetch aircraft");return C.json()},enabled:!!a&&r}),[c,d]=f.useState([]),[u,h]=f.useState(["PPL"]),[m,x]=f.useState({insuranceDoc:null,annualInspectionDoc:null}),v=async()=>{const C=await fetch(hs("/api/objects/upload"),{method:"POST",credentials:"include"});if(!C.ok){const D=await C.text();throw new Error(D||`Upload init failed (${C.status})`)}const k=await C.json();if(!(k!=null&&k.uploadURL))throw new Error("Upload init failed: missing upload URL");return{method:"PUT",url:k.uploadURL}},b=async C=>{var k,D,F;try{const L=(C==null?void 0:C.successful)??[],B=(C==null?void 0:C.failed)??[],Y=H=>{var z,R,I,de,A,xe,Le,it,Qe,je,Ue,ie,ue,Te,ge;const he=[H==null?void 0:H.uploadURL,(z=H==null?void 0:H.response)==null?void 0:z.uploadURL,(R=H==null?void 0:H.response)==null?void 0:R.url,(I=H==null?void 0:H.response)==null?void 0:I.location,(A=(de=H==null?void 0:H.response)==null?void 0:de.body)==null?void 0:A.uploadURL,(Le=(xe=H==null?void 0:H.response)==null?void 0:xe.body)==null?void 0:Le.url,(Qe=(it=H==null?void 0:H.response)==null?void 0:it.body)==null?void 0:Qe.location,(Ue=(je=H==null?void 0:H.response)==null?void 0:je.data)==null?void 0:Ue.uploadURL,(ue=(ie=H==null?void 0:H.response)==null?void 0:ie.data)==null?void 0:ue.url,(ge=(Te=H==null?void 0:H.response)==null?void 0:Te.data)==null?void 0:ge.location].filter(Boolean)[0];return he?he.split("?")[0]:void 0},Q=[];for(const H of L){const le=Y(H);if(le){try{const z=new URL(le).pathname.slice(1);await fetch(hs("/api/objects/set-acl"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:z,access:"publicRead"})})}catch(he){console.warn("ACL update failed, continuing:",he)}Q.push(le)}}if(Q.length>0){const H=[...c,...Q].filter((le,he,z)=>z.indexOf(le)===he);d(H),e({title:"Images uploaded successfully",description:`${Q.length} image(s) added to your listing`});return}if(B.length>0){const H=((k=B[0])==null?void 0:k.error)||((F=(D=B[0])==null?void 0:D.response)==null?void 0:F.error);e({title:"Upload failed",description:(H==null?void 0:H.message)||"Some images failed to upload. Please try again.",variant:"destructive"});return}e({title:"No Images Added",description:"We couldn't detect any completed uploads. Please try again and ensure you click Upload.",variant:"destructive"})}catch(L){console.error("Error processing aircraft image upload:",L),e({title:"Upload failed",description:"Failed to process the uploaded images. Please try again.",variant:"destructive"})}},g=nr({resolver:rr(bie),defaultValues:{insuranceIncluded:!0,wetRate:!0,minFlightHours:0,requires100Hour:!1}});f.useEffect(()=>{o&&r&&(g.reset({make:o.make,model:o.model,year:o.year,registration:o.registration,category:o.category||"",totalTime:o.totalTime||0,engine:o.engine||"",avionics:o.avionicsSuite||"",hourlyRate:String(o.hourlyRate),location:o.location,airportCode:o.airportCode||"",description:o.description??"",insuranceIncluded:o.insuranceIncluded??!0,wetRate:o.wetRate??!0,minFlightHours:o.minFlightHours??0,serialNumber:o.serialNumber||"",annualInspectionDate:o.annualInspectionDate??"",annualSignerName:o.annualSignerName??"",annualSignerCertNumber:o.annualSignerCertNumber??"",requires100Hour:o.requires100Hour??!1,currentTach:o.currentTach??void 0,hour100InspectionTach:o.hour100InspectionTach??void 0,maintenanceTrackingProvider:o.maintenanceTrackingProvider??""}),o.images&&d(o.images),o.requiredCertifications&&h(o.requiredCertifications))},[o,r,g]);const p=De({mutationFn:async({formData:C,hasFiles:k})=>{const D=r?"PATCH":"POST",F=r?`/api/aircraft/${a}`:"/api/aircraft";if(r||!k)return{data:await Ae(D,F,C),hasVerificationDocs:!1};{const L=await fetch(F,{method:D,body:C,credentials:"include"});if(!L.ok){const B=await L.json();throw new Error(B.error||"Submission failed")}return{data:await L.json(),hasVerificationDocs:k}}},onSuccess:C=>{Fe.invalidateQueries({queryKey:["/api/aircraft"]}),a&&Fe.invalidateQueries({queryKey:["/api/aircraft",a]}),r?e({title:"Aircraft Updated",description:"Your aircraft listing has been successfully updated."}):C.hasVerificationDocs?e({title:"Listing Submitted",description:"Your aircraft listing is pending admin review. It will be visible in the marketplace once approved."}):e({title:"Aircraft Listed",description:"Your aircraft has been successfully listed and is now visible in the rental marketplace."}),t("/my-listings")},onError:C=>{if(kL(C)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(C.message.includes("403")||C.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to list aircraft.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:C.message||"Failed to list aircraft",variant:"destructive"})}}),j=De({mutationFn:async C=>{const D=await(await Ae("POST","/api/generate-description",{listingType:"aircraft-rental",details:C})).json();return console.log("AI Response received:",D),D},onSuccess:C=>{console.log("Setting description to:",C.description),g.setValue("description",C.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:C=>{e({title:"Generation Failed",description:C.message||"Could not generate description",variant:"destructive"})}}),w=()=>{const C=g.getValues();if(!C.make||!C.model){e({title:"More Information Needed",description:"Please fill in at least the Make and Model to generate a description.",variant:"destructive"});return}j.mutate({make:C.make,model:C.model,year:C.year,category:C.category,engine:C.engine,avionics:C.avionics,totalTime:C.totalTime,location:C.location})},N=C=>{console.log("Form submitted with data:",C),console.log("Form errors:",g.formState.errors);const k=Object.values(m).some(B=>B!==null),{avionics:D,...F}=C,L={...F,avionicsSuite:D||null,requiredCertifications:u,images:c.length>0?c:[]};if(k){const B=new FormData;B.append("listingData",JSON.stringify(L)),m.insuranceDoc&&B.append("insuranceDoc",m.insuranceDoc),m.annualInspectionDoc&&B.append("annualInspectionDoc",m.annualInspectionDoc),p.mutate({formData:B,hasFiles:!0})}else p.mutate({formData:L,hasFiles:!1})},P=["PPL","IR","CPL","Multi-Engine","ATP"],S=(n==null?void 0:n.isVerified)||!1;return r&&l?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[!S&&s.jsxs(Kn,{className:"mb-6 border-yellow-500","data-testid":"alert-verification-info",children:[s.jsx(fz,{className:"h-4 w-4"}),s.jsxs(Gn,{children:[s.jsx("strong",{children:"Verification Recommended"})," - Verified aircraft listings get priority placement and build trust with renters. Visit your ",s.jsx("a",{href:"/profile",className:"underline font-medium",children:"profile page"})," to complete verification."]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-list-aircraft-title",children:r?"Edit Aircraft Listing":"List Your Aircraft"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update your aircraft listing details":"Share your aircraft with the pilot community and earn income when you're not flying"})]}),s.jsx(Qr,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(N),className:"space-y-8",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Aircraft Information"}),s.jsx(ke,{children:"Provide basic details about your aircraft"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:g.control,name:"make",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Make"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Cessna",...C,"data-testid":"input-make"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"model",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Model"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"172 Skyhawk",...C,"data-testid":"input-model"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ae,{control:g.control,name:"year",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Year"}),s.jsx(oe,{children:s.jsx(q,{type:"number",placeholder:"2018",...C,"data-testid":"input-year"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"registration",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Registration"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"N12345",...C,"data-testid":"input-registration"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"category",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Category"}),s.jsxs(Vs,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-category",children:s.jsx(zs,{placeholder:"Select category"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(Pe,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(Pe,{value:"Jet",children:"Jet"}),s.jsx(Pe,{value:"Turboprop",children:"Turboprop"}),s.jsx(Pe,{value:"Helicopter",children:"Helicopter"})]})]}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:g.control,name:"totalTime",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Total Time (hours)"}),s.jsx(oe,{children:s.jsx(q,{type:"number",placeholder:"2500",...C,"data-testid":"input-total-time"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"engine",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Engine"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Lycoming IO-360",...C,"data-testid":"input-engine"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:g.control,name:"avionics",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Avionics Suite"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Garmin G1000",...C,"data-testid":"input-avionics"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"description",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Describe your aircraft, its condition, features, and any special notes for renters...",className:"min-h-32",...C,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(Es,{className:"flex-1",children:"Provide detailed information to help renters understand your aircraft"}),s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:j.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:j.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(ER,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(ce,{})]})})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Location"})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:g.control,name:"location",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Location"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Santa Monica, CA",...C,"data-testid":"input-location"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"airportCode",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Airport Code"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"SMO",...C,"data-testid":"input-airport-code"})}),s.jsx(ce,{})]})})]})})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Pricing & Requirements"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:g.control,name:"hourlyRate",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Hourly Rate ($)"}),s.jsx(oe,{children:s.jsx(q,{type:"number",placeholder:"145",...C,"data-testid":"input-hourly-rate"})}),s.jsx(Es,{children:"Set your hourly rental rate. Ready Set Fly will collect 7.5% platform fee from both you and the renter."}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"minFlightHours",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Minimum Flight Hours"}),s.jsx(oe,{children:s.jsx(q,{type:"number",placeholder:"100",...C,"data-testid":"input-min-hours"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{children:"Required Certifications"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:P.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ls,{id:`cert-${C}`,checked:u.includes(C),onCheckedChange:k=>{h(k?[...u,C]:u.filter(D=>D!==C))},"data-testid":`checkbox-required-cert-${C}`}),s.jsx("label",{htmlFor:`cert-${C}`,className:"text-sm cursor-pointer",children:C})]},C))})]}),s.jsx(ae,{control:g.control,name:"insuranceIncluded",render:({field:C})=>s.jsxs(ne,{className:"flex items-center space-x-2",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:C.value,onCheckedChange:C.onChange,"data-testid":"checkbox-insurance"})}),s.jsx(re,{className:"!mt-0",children:"Insurance included in rate"})]})}),s.jsx(ae,{control:g.control,name:"wetRate",render:({field:C})=>s.jsxs(ne,{className:"flex items-center space-x-2",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:C.value,onCheckedChange:C.onChange,"data-testid":"checkbox-wet-rate"})}),s.jsx(re,{className:"!mt-0",children:"Wet rate (fuel included)"})]})})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Owner & Aircraft Verification"}),s.jsx(ke,{children:"Provide insurance and annual inspection documentation for verification"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:g.control,name:"serialNumber",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Aircraft Serial Number"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Enter serial number",...C,"data-testid":"input-serial-number"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{children:"Aircraft Insurance Certificate *"}),s.jsx(q,{type:"file",accept:"image/*,.pdf",onChange:C=>{var D;const k=(D=C.target.files)==null?void 0:D[0];k&&x(F=>({...F,insuranceDoc:k}))},"data-testid":"input-insurance-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload aircraft insurance certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{children:"Annual Inspection Certificate *"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[s.jsx(ae,{control:g.control,name:"annualInspectionDate",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Inspection Date"}),s.jsx(oe,{children:s.jsx(q,{type:"date",...C,"data-testid":"input-annual-date"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:g.control,name:"annualSignerName",render:({field:C})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Signer Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"A&P/IA name",...C,"data-testid":"input-signer-name"})}),s.jsx(ce,{})]})})]}),s.jsx(q,{type:"file",accept:"image/*,.pdf",onChange:C=>{var D;const k=(D=C.target.files)==null?void 0:D[0];k&&x(F=>({...F,annualInspectionDoc:k}))},"data-testid":"input-annual-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload annual inspection certificate"})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Photos"}),s.jsx(ke,{children:"Add up to 15 photos of your aircraft. Upload multiple images at once using cloud storage."})]}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.map((C,k)=>s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[s.jsx("img",{src:C,alt:`Aircraft ${k+1}`,className:"w-full h-full object-cover"}),s.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>d(c.filter((D,F)=>F!==k)),children:s.jsx(ef,{className:"h-4 w-4"})})]},k)),c.length<15&&s.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center gap-2",children:s.jsxs(Ax,{onGetUploadParameters:v,onComplete:b,maxNumberOfFiles:15-c.length,buttonClassName:"w-full h-full flex flex-col items-center justify-center gap-2",buttonVariant:"ghost",children:[s.jsx(Jm,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photos"})]})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.length," of 15 photos uploaded"]})]})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(O,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:p.isPending||r&&l,"data-testid":"button-submit-listing",children:p.isPending?r?"Updating...":"Listing...":r?"Update Aircraft":"List Aircraft"}),s.jsx(O,{type:"button",variant:"outline",size:"lg","data-testid":"button-cancel-listing",onClick:()=>t("/my-listings"),children:"Cancel"})]})]})})]})})}const wie=vJ.omit({userId:!0}).extend({category:se().min(1,"Category is required"),title:se().min(3,"Title must be at least 3 characters"),description:se().min(20,"Description must be at least 20 characters"),location:se().optional(),city:se().optional(),state:se().optional(),zipCode:se().optional(),contactEmail:se().email("Valid email required").min(1,"Contact email is required"),contactPhone:se().optional(),price:se().optional(),tier:Zs(["basic","standard","premium"]).optional()});Zn({make:se().min(1,"Make is required"),model:se().min(1,"Model is required"),year:se().min(4,"Year is required"),registration:se().optional(),totalTime:se().optional(),engineTime:se().optional(),engineType:Zs(["Single-Engine","Multi-Engine","Turboprop","Jet"]).optional(),engineCount:se().optional(),seatingCapacity:se().optional(),avionicsPackage:se().optional(),usefulLoad:se().optional(),annualDueDate:se().optional(),interiorCondition:Zs(["excellent","good","fair","needs-work"]).optional(),exteriorCondition:Zs(["excellent","good","fair","needs-work"]).optional(),damageHistory:se().optional()});Zn({jobTitle:se().min(1,"Job title is required"),company:se().min(1,"Company is required"),employmentType:se().min(1,"Employment type is required"),salaryRange:se().optional(),requirements:se().optional()});Zn({instructorName:se().min(1,"Instructor name is required"),certifications:di(se()).min(1,"At least one certification required"),hourlyRate:se().optional(),specialties:se().optional()});Zn({schoolName:se().min(1,"School name is required"),aircraftFleet:se().optional(),programsOffered:se().optional(),pricingInfo:se().optional()});Zn({businessName:se().min(1,"Business name is required"),certifications:di(se()).optional(),specialties:se().optional(),serviceArea:se().optional()});Zn({companyName:se().min(1,"Company name is required"),aircraftAvailable:se().optional(),serviceArea:se().optional(),pricingStructure:se().optional()});const Nie=[{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"charter",label:"Charter Services"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight School"},{value:"mechanic",label:"Mechanic Services"},{value:"job",label:"Aviation Jobs"}];function ak(){const[,t]=en(),{toast:e}=$t(),{user:n}=Os(),[r,i]=f.useState([]),[a,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(""),[h,m]=f.useState(null),[x,v]=f.useState(!1),[b,g]=f.useState(""),[p,j]=Gm("/edit-marketplace-listing/:id"),w=p?j==null?void 0:j.id:null,{data:N,isLoading:P}=Ge({queryKey:["/api/marketplace",w],queryFn:async()=>{const A=await fetch(hs(`/api/marketplace/${w}`));if(!A.ok)throw new Error("Failed to fetch listing");return A.json()},enabled:!!w&&p}),S=nr({resolver:rr(wie),defaultValues:{category:"",title:"",description:"",location:"",contactEmail:(n==null?void 0:n.email)||"",contactPhone:"",price:"",tier:"basic",details:{},images:[],isActive:!0}});f.useEffect(()=>{n!=null&&n.email&&!S.getValues("contactEmail")&&S.setValue("contactEmail",n.email)},[n==null?void 0:n.email,S]),f.useEffect(()=>{N&&p&&(S.reset({category:N.category,title:N.title||"",description:N.description||void 0,location:N.location||void 0,city:N.city||void 0,state:N.state||void 0,zipCode:N.zipCode||void 0,contactEmail:N.contactEmail||void 0,contactPhone:N.contactPhone||void 0,price:N.price||void 0,tier:N.tier||"basic",details:N.details||{},images:N.images||[],isActive:N.isActive===null?void 0:N.isActive}),N.images&&i(N.images))},[N,p,S]);const C=S.watch("category"),k=S.watch("details.tier"),F=((A,xe)=>A==="aircraft-sale"?xe==="basic"?3:xe==="standard"?5:xe==="premium"?10:3:A==="job"||A==="cfi"?1:A==="flight-school"||A==="mechanic"?3:5)(C,k),L=async()=>{const A=await fetch(hs("/api/objects/upload"),{method:"POST",credentials:"include"});if(!A.ok){const Le=await A.text();throw new Error(Le||`Upload init failed (${A.status})`)}const xe=await A.json();if(!(xe!=null&&xe.uploadURL))throw new Error("Upload init failed: missing upload URL");return{method:"PUT",url:xe.uploadURL}},B=async A=>{var xe,Le,it;try{const Qe=(A==null?void 0:A.successful)??[],je=(A==null?void 0:A.failed)??[],Ue=ue=>{var Ke,ot,Tt,qt,Mt,sn,os,cn,M,K,ee,Re,Se,be,ze;const ge=[ue==null?void 0:ue.uploadURL,(Ke=ue==null?void 0:ue.response)==null?void 0:Ke.uploadURL,(ot=ue==null?void 0:ue.response)==null?void 0:ot.url,(Tt=ue==null?void 0:ue.response)==null?void 0:Tt.location,(Mt=(qt=ue==null?void 0:ue.response)==null?void 0:qt.body)==null?void 0:Mt.uploadURL,(os=(sn=ue==null?void 0:ue.response)==null?void 0:sn.body)==null?void 0:os.url,(M=(cn=ue==null?void 0:ue.response)==null?void 0:cn.body)==null?void 0:M.location,(ee=(K=ue==null?void 0:ue.response)==null?void 0:K.data)==null?void 0:ee.uploadURL,(Se=(Re=ue==null?void 0:ue.response)==null?void 0:Re.data)==null?void 0:Se.url,(ze=(be=ue==null?void 0:ue.response)==null?void 0:be.data)==null?void 0:ze.location].filter(Boolean)[0];return ge?ge.split("?")[0]:void 0},ie=[];for(const ue of Qe){const Te=Ue(ue);if(Te){try{await fetch(hs("/api/listing-images"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageURL:Te}),credentials:"include"})}catch(ge){console.warn("ACL update failed, continuing:",ge)}ie.push(Te)}}if(ie.length>0){const ue=[...r,...ie].filter((Te,ge,Ke)=>Ke.indexOf(Te)===ge);i(ue),e({title:"Images Uploaded Successfully",description:`Added ${ie.length} image(s) to your listing.`});return}if(je.length>0){const ue=((xe=je[0])==null?void 0:xe.error)||((it=(Le=je[0])==null?void 0:Le.response)==null?void 0:it.error);e({title:"Upload Error",description:(ue==null?void 0:ue.message)||"Some images failed to upload. Please try again.",variant:"destructive"});return}e({title:"No Images Added",description:"We couldn't detect any completed uploads. Please try again and ensure you click Upload.",variant:"destructive"})}catch(Qe){console.error("Error processing uploads:",Qe),e({title:"Upload Error",description:"Some images failed to upload. Please try again.",variant:"destructive"})}},Y=A=>{i(r.filter((xe,Le)=>Le!==A))},Q=A=>c(A),H=A=>A.preventDefault(),le=A=>{if(l===null||l===A)return;const xe=[...r],[Le]=xe.splice(l,1);xe.splice(A,0,Le),i(xe),c(null)};f.useEffect(()=>{if(r.length>F){const A=r.slice(0,F);i(A),e({title:"Images Trimmed",description:`Reduced to ${F} images for this ${C==="aircraft-sale"?"tier":"category"}.`})}},[C,k,F,r,e]),n!=null&&n.isVerified;const he=async()=>{if(!d.trim()){m(null);return}v(!0);try{const xe=await(await fetch(hs("/api/promo-codes/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:d,category:C})})).json();m(xe.valid),xe.valid?e({title:"Promo Code Applied!",description:xe.description||"You've unlocked a free 7-day listing!"}):e({title:"Invalid Promo Code",description:xe.message||"This promo code is not valid",variant:"destructive"})}catch{m(!1),e({title:"Error",description:"Failed to validate promo code",variant:"destructive"})}finally{v(!1)}},z=De({mutationFn:async({listingType:A,details:xe})=>{const it=await(await Ae("POST","/api/generate-description",{listingType:A,details:xe})).json();return console.log("AI Response received:",it),it},onSuccess:A=>{console.log("Setting description to:",A.description),S.setValue("description",A.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:A=>{e({title:"Generation Failed",description:A.message||"Could not generate description",variant:"destructive"})}}),R=()=>{const A=S.getValues();if(!A.category){e({title:"Category Required",description:"Please select a category first.",variant:"destructive"});return}const xe=b.trim()||A.title;if(!xe){e({title:"Prompt Required",description:"Please enter either a title or an AI prompt.",variant:"destructive"});return}const it={"aircraft-sale":"aircraft-sale",job:"aviation-job",cfi:"cfi-listing","flight-school":"flight-school",mechanic:"mechanic",charter:"charter"}[A.category];z.mutate({listingType:it,details:{title:xe,price:A.price,location:A.location,...A.details}})},I=De({mutationFn:async A=>p&&w?await Ae("PATCH",`/api/marketplace/${w}`,A):await Ae("POST","/api/marketplace",A),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/marketplace"]}),w&&Fe.invalidateQueries({queryKey:["/api/marketplace",w]}),e({title:"Success",description:p?"Your marketplace listing has been updated.":"Your marketplace listing has been created."}),t(p?"/my-listings":"/marketplace")},onError:A=>{if(kL(A)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(A.message.includes("403")||A.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to create listings.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:A.message||"Failed to create listing",variant:"destructive"})}}),de=A=>{var it,Qe,je,Ue,ie,ue,Te,ge,Ke,ot;console.log("Form submitted with data:",A),console.log("Form errors:",S.formState.errors),console.log("User data:",n);let xe=null;if(A.category==="aircraft-sale"?(!((it=A.details)!=null&&it.make)||!((Qe=A.details)!=null&&Qe.model)||!((je=A.details)!=null&&je.year))&&(xe="Please fill in all required aircraft details (make, model, year)"):A.category==="job"?(!((Ue=A.details)!=null&&Ue.jobTitle)||!((ie=A.details)!=null&&ie.company)||!((ue=A.details)!=null&&ue.employmentType))&&(xe="Please fill in all required job details (title, company, employment type)"):A.category==="cfi"?(Te=A.details)!=null&&Te.instructorName||(xe="Please provide instructor name"):A.category==="flight-school"?(ge=A.details)!=null&&ge.schoolName||(xe="Please provide school name"):A.category==="mechanic"?(Ke=A.details)!=null&&Ke.businessName||(xe="Please provide business name"):A.category==="charter"&&((ot=A.details)!=null&&ot.companyName||(xe="Please provide company name")),xe){e({title:"Validation Error",description:xe,variant:"destructive"});return}if(r.length>F){e({title:"Too Many Images",description:`Please reduce to ${F} images for this ${A.category==="aircraft-sale"?"tier":"category"}.`,variant:"destructive"});return}if(p&&w){console.log("Updating existing listing..."),I.mutate({...A,price:A.price||void 0,images:r.length>0?r:[]});return}const Le={...A,price:A.price||void 0,images:r.length>0?r:[],promoCode:h?d:void 0};localStorage.setItem("pendingListingData",JSON.stringify(Le)),t("/marketplace/listing/checkout")};return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/marketplace"),className:"mb-6","data-testid":"button-back",children:[s.jsx(pg,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-page-title",children:p?"Edit Marketplace Listing":"Create Marketplace Listing"}),s.jsx("p",{className:"text-muted-foreground",children:p?"Update your listing details below":"List your services, aircraft for sale, job openings, or other aviation-related offerings"})]}),s.jsx(Qr,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit(de,A=>{console.error("Form validation errors:",A);const xe=Object.keys(A)[0],Le=A[xe];Le&&typeof Le=="object"&&"message"in Le&&e({title:"Form Validation Error",description:String(Le.message)||"Please check all required fields",variant:"destructive"})}),className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Basic Information"}),s.jsx(ke,{children:"Choose a category and provide details about your listing"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"category",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Category"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-category",children:s.jsx(zs,{placeholder:"Select a category"})})}),s.jsx(Fs,{children:Nie.map(xe=>s.jsx(Pe,{value:xe.value,children:xe.label},xe.value))})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"title",render:({field:A})=>{const xe={"aircraft-sale":"e.g., 2018 Cessna 172 Skyhawk - Low Time",job:"e.g., Commercial Pilot - Regional Airline",cfi:"e.g., Experienced CFI - Instrument & Multi-Engine","flight-school":"e.g., ABC Flight Academy - Professional Pilot Training",mechanic:"e.g., Certified A&P Mechanic - Aircraft Maintenance",charter:"e.g., Luxury Charter Services - Citation Jet"};return s.jsxs(ne,{children:[s.jsx(re,{children:"Title"}),s.jsx(oe,{children:s.jsx(q,{placeholder:xe[C]||"Enter a descriptive title",...A,"data-testid":"input-title"})}),s.jsx(ce,{})]})}}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"ai-prompt",children:"AI Prompt (Optional)"}),s.jsx(q,{id:"ai-prompt",placeholder:"e.g., Describe a well-maintained Cessna 172 with recent avionics upgrade",value:b,onChange:A=>g(A.target.value),"data-testid":"input-ai-prompt"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide specific details for AI to generate a description, or leave blank to use the title"})]}),s.jsx(ae,{control:S.control,name:"description",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Provide detailed information about your listing...",className:"min-h-[120px]",...A,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(Es,{className:"flex-1",children:"Include all relevant details potential customers should know"}),s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:R,disabled:z.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:z.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(ER,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ae,{control:S.control,name:"city",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"City (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., Denver",...A,"data-testid":"input-city"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"state",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"State (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., CO",...A,"data-testid":"input-state"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"zipCode",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"ZIP Code (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 80202",...A,"data-testid":"input-zipcode"})}),s.jsx(ce,{})]})})]}),C==="aircraft-sale"&&s.jsx(ae,{control:S.control,name:"price",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Asking Price (Optional)"}),s.jsx(oe,{children:s.jsxs("div",{className:"relative",children:[s.jsx(rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{type:"number",placeholder:"0.00",className:"pl-10",...A,"data-testid":"input-price"})]})}),s.jsx(Es,{children:"Leave blank if price varies or negotiable"}),s.jsx(ce,{})]})})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Contact Information"}),s.jsx(ke,{children:"How should interested parties reach you?"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"contactEmail",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Contact Email"}),s.jsx(oe,{children:s.jsx(q,{type:"email",placeholder:"your@email.com",...A,"data-testid":"input-contact-email"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"contactPhone",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Contact Phone (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"(555) 123-4567",...A,"data-testid":"input-contact-phone"})}),s.jsx(ce,{})]})})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Promo Code (Optional)"}),s.jsx(ke,{children:"Enter a promo code for a free 7-day listing or other discounts"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{placeholder:"Enter promo code",value:d,onChange:A=>{u(A.target.value.toUpperCase()),m(null)},"data-testid":"input-promo-code",className:"flex-1"}),s.jsx(O,{type:"button",onClick:he,disabled:!d.trim()||x,"data-testid":"button-check-promo",children:x?"Checking...":"Apply"})]}),h===!0&&s.jsx("div",{className:"mt-2 text-sm text-chart-2 flex items-center gap-1",children:" Promo code applied! Your listing is free for 7 days."}),h===!1&&s.jsx("div",{className:"mt-2 text-sm text-destructive flex items-center gap-1",children:" Invalid promo code"})]})]}),C&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Photos"}),s.jsxs(ke,{children:["Upload up to ",F," ",F===1?"photo":"photos",C==="aircraft-sale"?` (${k||"basic"} tier)`:"",C==="job"&&" - Company logo or branding",C==="cfi"&&" - Professional headshot"]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.map((A,xe)=>s.jsxs("div",{className:"relative aspect-square rounded-md border overflow-hidden group select-none",draggable:!0,onDragStart:()=>Q(xe),onDragOver:H,onDrop:()=>le(xe),title:"Drag to reorder",children:[s.jsx("img",{src:A,alt:`Upload ${xe+1}`,className:"w-full h-full object-cover"}),s.jsx(O,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Y(xe),"data-testid":`button-remove-image-${xe}`,children:s.jsx(ef,{className:"h-3 w-3"})})]},xe)),r.length<F&&s.jsxs(Ax,{maxNumberOfFiles:F-r.length,maxFileSize:10*1024*1024,onGetUploadParameters:L,onComplete:B,onError:A=>o(A),buttonClassName:"aspect-square rounded-md border-2 border-dashed flex flex-col items-center justify-center w-full h-full",buttonVariant:"ghost",children:[s.jsx(Jm,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload"})]})]}),a&&s.jsx("div",{className:"text-xs text-destructive mt-2",children:a}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," of ",F," photos uploaded",C==="aircraft-sale"&&k&&s.jsx("span",{className:"ml-2 text-accent",children:"(Upgrade tier for more photos)"})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Tip: drag photos to reorder. First photo appears as the primary."})]})]}),C==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Aircraft Details"}),s.jsx(ke,{children:"Specific information about the aircraft for sale"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.make",render:({field:A})=>s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-1",children:["Make ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., Cessna",...A,"data-testid":"input-aircraft-make",required:!0})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.model",render:({field:A})=>s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-1",children:["Model ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 172 Skyhawk",...A,"data-testid":"input-aircraft-model",required:!0})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.year",render:({field:A})=>s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-1",children:["Year ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 2018",...A,"data-testid":"input-aircraft-year",required:!0})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.registration",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Registration (N-Number)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., N12345",...A,"data-testid":"input-aircraft-registration"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.totalTime",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Total Time (hours)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 3500",...A,"data-testid":"input-aircraft-total-time"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.engineTime",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Engine Time (hours)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 500 SMOH",...A,"data-testid":"input-aircraft-engine-time"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.engineType",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Engine Type"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-aircraft-engine-type",children:s.jsx(zs,{placeholder:"Select engine type"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(Pe,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(Pe,{value:"Turboprop",children:"Turboprop"}),s.jsx(Pe,{value:"Jet",children:"Jet"})]})]}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.seats",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Number of Seats"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 4",...A,"data-testid":"input-aircraft-seats"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.usefulLoad",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Useful Load (lbs)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 1,200",...A,"data-testid":"input-aircraft-useful-load"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.avionicsPackage",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Avionics Package"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., Garmin G1000, dual GNS 430",...A,"data-testid":"input-aircraft-avionics"})}),s.jsx(Es,{className:"text-xs",children:"Describe GPS, radios, autopilot, and other avionics"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.annualDue",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Annual Due Date"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., 12/2025",type:"month",...A,"data-testid":"input-aircraft-annual-due"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.interiorCondition",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Interior Condition"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-interior-condition",children:s.jsx(zs,{placeholder:"Select condition"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"excellent",children:"Excellent"}),s.jsx(Pe,{value:"good",children:"Good"}),s.jsx(Pe,{value:"fair",children:"Fair"}),s.jsx(Pe,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.exteriorCondition",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Exterior/Paint Condition"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-exterior-condition",children:s.jsx(zs,{placeholder:"Select condition"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"excellent",children:"Excellent"}),s.jsx(Pe,{value:"good",children:"Good"}),s.jsx(Pe,{value:"fair",children:"Fair"}),s.jsx(Pe,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(ce,{})]})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(ae,{control:S.control,name:"details.damageHistory",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Damage History"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., None, or describe any incidents",...A,"data-testid":"input-aircraft-damage-history"})}),s.jsx(Es,{className:"text-xs",children:"Disclose any accident/incident history or major repairs"}),s.jsx(ce,{})]})})})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Listing Tier"}),s.jsx(ke,{children:"Choose your listing package"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"tier",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Select Tier"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-listing-tier",children:s.jsx(zs,{placeholder:"Select a tier"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"basic",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Basic - $25/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 3 photos"})]})}),s.jsx(Pe,{value:"standard",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Standard - $40/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 5 photos, priority placement"})]})}),s.jsx(Pe,{value:"premium",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Premium - $100/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 10 photos, featured on homepage"})]})})]})]}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tier Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Basic: Standard listing visibility"}),s.jsx("li",{children:"Standard: 2x visibility, priority in search results"}),s.jsx("li",{children:"Premium: 5x visibility, homepage feature, social media promotion"})]})]})]})]})]}),C==="job"&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Job Details"}),s.jsx(ke,{children:"Information about the aviation job opening"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.jobTitle",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Job Title"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., Commercial Pilot",...A,"data-testid":"input-job-title"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.company",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Company"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., ABC Airlines",...A,"data-testid":"input-job-company"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ae,{control:S.control,name:"details.employmentType",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Employment Type"}),s.jsxs(Vs,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-employment-type",children:s.jsx(zs,{placeholder:"Select type"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"full-time",children:"Full-time"}),s.jsx(Pe,{value:"part-time",children:"Part-time"}),s.jsx(Pe,{value:"contract",children:"Contract"}),s.jsx(Pe,{value:"temporary",children:"Temporary"})]})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.salaryRange",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Salary Range (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., $60k-$80k",...A,"data-testid":"input-salary-range"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:S.control,name:"details.requirements",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Requirements (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"List qualifications and requirements...",className:"min-h-[80px]",...A,"data-testid":"textarea-job-requirements"})}),s.jsx(ce,{})]})})]})]}),C==="cfi"&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"CFI Details"}),s.jsx(ke,{children:"Information about your flight instruction services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"details.instructorName",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Instructor Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Your name",...A,"data-testid":"input-instructor-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.hourlyRate",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Hourly Rate (Optional)"}),s.jsx(oe,{children:s.jsxs("div",{className:"relative",children:[s.jsx(rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{type:"number",placeholder:"0.00",className:"pl-10",...A,"data-testid":"input-cfi-hourly-rate"})]})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.specialties",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Specialties (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"e.g., Instrument training, tailwheel, aerobatics...",className:"min-h-[80px]",...A,"data-testid":"textarea-cfi-specialties"})}),s.jsx(ce,{})]})})]})]}),C==="flight-school"&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Flight School Details"}),s.jsx(ke,{children:"Information about your flight school"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"details.schoolName",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"School Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., ABC Flight Academy",...A,"data-testid":"input-school-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.aircraftFleet",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Aircraft Fleet (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"List your training aircraft...",className:"min-h-[80px]",...A,"data-testid":"textarea-aircraft-fleet"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.programsOffered",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Programs Offered (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"e.g., Private Pilot, Instrument Rating, Commercial...",className:"min-h-[80px]",...A,"data-testid":"textarea-programs-offered"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.pricingInfo",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Pricing Information (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Describe your pricing structure...",className:"min-h-[80px]",...A,"data-testid":"textarea-pricing-info"})}),s.jsx(ce,{})]})})]})]}),C==="mechanic"&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Mechanic Services"}),s.jsx(ke,{children:"Information about your aviation maintenance services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"details.businessName",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Business Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., ABC Aviation Maintenance",...A,"data-testid":"input-business-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.specialties",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Specialties (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"e.g., Piston engines, avionics, annuals...",className:"min-h-[80px]",...A,"data-testid":"textarea-mechanic-specialties"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.serviceArea",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Service Area (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., Southern California",...A,"data-testid":"input-service-area"})}),s.jsx(ce,{})]})})]})]}),C==="charter"&&s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Charter Services"}),s.jsx(ke,{children:"Information about your charter operation"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ae,{control:S.control,name:"details.companyName",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Company Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., ABC Charter Services",...A,"data-testid":"input-charter-company-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.aircraftAvailable",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Aircraft Available (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"List your charter aircraft...",className:"min-h-[80px]",...A,"data-testid":"textarea-charter-aircraft"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.serviceArea",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Service Area (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"e.g., West Coast, USA",...A,"data-testid":"input-charter-service-area"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:S.control,name:"details.pricingStructure",render:({field:A})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Pricing Structure (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Describe your charter rates...",className:"min-h-[80px]",...A,"data-testid":"textarea-charter-pricing"})}),s.jsx(ce,{})]})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(O,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:I.isPending||p&&P,"data-testid":"button-submit-listing",children:P?"Loading...":I.isPending?p?"Updating...":"Creating...":p?"Update Listing":"Create Listing"}),s.jsx(O,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/marketplace"),"data-testid":"button-cancel",children:"Cancel"})]})]})})]})}const Sie={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40},vc=.0825,$u=(t,e)=>{const n=Sie[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25},Cie=({listingData:t,onSuccess:e,isFree:n,promoCode:r,discountAmount:i,originalAmount:a,finalAmount:o,completionToken:l,isUpgradeMode:c,upgradeContext:d})=>{const{toast:u}=$t(),[h,m]=f.useState(!1),[x,v]=f.useState(!1),[b,g]=f.useState(null),p=f.useRef(null);f.useEffect(()=>{fetch("/api/paypal/config").then(N=>N.json()).then(N=>g(N)).catch(N=>{console.error("Failed to fetch PayPal config:",N),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),f.useEffect(()=>{if(!b)return;const N=async()=>{if(window.paypal){P();return}const S=document.createElement("script");S.src=`https://www.paypal.com/sdk/js?client-id=${b.clientId}&components=card-fields&disable-funding=paylater`,S.async=!0,S.onload=()=>{P()},S.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(S)},P=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const S=window.paypal.CardFields({createOrder:async()=>{const C=c?"/api/paypal/create-order-upgrade":"/api/paypal/create-order-listing",k=c?{listingId:d.listingId,newTier:d.newTier}:{category:t.category,tier:t.tier,promoCode:r||null,discountAmount:i?i.toString():null,finalAmount:o?o.toString():null};return(await(await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(k)})).json()).id},onApprove:async C=>{m(!0);try{const k=await fetch(`/api/paypal/capture-order/${C.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),D=await k.json();if(!k.ok||D.status!=="COMPLETED")throw new Error("Payment capture failed");u({title:"Payment Successful",description:"Your listing is being created!"});const F={...t,transactionId:C.orderID};localStorage.setItem("pendingListingData",JSON.stringify(F)),e(C.orderID)}catch(k){u({title:"Payment Failed",description:k.message||"An unexpected error occurred",variant:"destructive"}),m(!1)}},onError:C=>{console.error("PayPal error:",C),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),m(!1)}});S.isEligible()?(S.NumberField().render("#card-number-field"),S.ExpiryField().render("#card-expiry-field"),S.CVVField().render("#card-cvv-field"),S.NameField().render("#card-name-field"),p.current=S,v(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(S){console.error("Error initializing card fields:",S),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};N()},[b,t.category,t.tier]);const j=async N=>{if(N.preventDefault(),!!p.current){m(!0);try{await p.current.submit()}catch(P){u({title:"Payment failed",description:P.message||"Please check your card details and try again",variant:"destructive"}),m(!1)}}},w=async()=>{m(!0);try{const N=await Ae("POST","/api/marketplace/complete-free-listing",{completionToken:l,listingData:t});u({title:"Success",description:"Your free listing has been created!"}),e("FREE-ORDER")}catch(N){u({title:"Failed to create listing",description:N.message||"An unexpected error occurred",variant:"destructive"})}finally{m(!1)}};return n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:" 100% Discount Applied!"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your listing is completely free with the applied promo code."})]}),s.jsx(O,{onClick:w,size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:h,"data-testid":"button-claim-free-listing",children:h?"Creating Listing...":"Claim Free Listing"})]}):s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(O,{type:"submit",size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:!x||h,"data-testid":"button-confirm-payment",children:h?"Processing...":"Confirm Payment"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})};function _ie(){var z;const[t,e]=en(),[,n]=Gm("/marketplace/listing/checkout"),[r,i]=f.useState(null),[a,o]=f.useState(!1),[l,c]=f.useState(null),{toast:d}=$t(),[u,h]=f.useState(""),[m,x]=f.useState(null),[v,b]=f.useState(!1),[g,p]=f.useState(""),[j,w]=f.useState(0),[N,P]=f.useState(0),[S,C]=f.useState(null),[k,D]=f.useState(!1),[F,L]=f.useState(null);f.useEffect(()=>{if(new URLSearchParams(window.location.search).get("mode")==="upgrade"){o(!0);const de=localStorage.getItem("upgradeContext");if(!de){d({title:"Error",description:"No upgrade data found. Please try again.",variant:"destructive"}),e("/my-listings");return}const A=JSON.parse(de);c(A),P(A.totalWithTax)}else{const de=localStorage.getItem("pendingListingData");if(!de){d({title:"Error",description:"No listing data found. Please try again.",variant:"destructive"}),e("/create-marketplace-listing");return}const A=JSON.parse(de);i(A)}},[e,d]),f.useEffect(()=>{if(a||!r)return;const R=localStorage.getItem("adminFreeListingGrant");if(R)try{const I=JSON.parse(R);if(!(I!=null&&I.token))return;const de=$u(r.category,r.tier),A=de*vc,xe=de+A;L(I),C(I.token),x({code:"ADMIN-FREE",description:`Admin free listing (${I.durationDays||30} days)`,discountType:"fixed",discountValue:xe.toString()}),h("ADMIN-FREE"),w(xe),P(0),D(!0)}catch(I){console.error("Failed to apply admin free grant:",I)}},[a,r]),f.useEffect(()=>{r!=null&&r.promoCode&&!m&&!k&&(Y(r.promoCode),D(!0))},[r==null?void 0:r.promoCode,m,k]);const B=async R=>{if(a&&l){try{await Ae("POST",`/api/marketplace/${l.listingId}/complete-upgrade`,{orderId:R,newTier:l.newTier}),localStorage.removeItem("upgradeContext"),Fe.invalidateQueries({queryKey:["/api/marketplace"]}),Fe.invalidateQueries({queryKey:["/api/marketplace",l.listingId]}),d({title:"Upgrade Successful",description:"Your listing has been upgraded to "+l.newTier+" tier!"}),e("/my-listings")}catch(I){d({title:"Upgrade Failed",description:I.message||"Could not complete upgrade. Please contact support.",variant:"destructive"})}return}if(!(!r||!R)){if(R==="FREE-ORDER"){localStorage.removeItem("pendingListingData"),localStorage.removeItem("adminFreeListingGrant"),L(null),Fe.invalidateQueries({queryKey:["/api/marketplace"]}),e("/marketplace");return}try{const I=$u(r.category,r.tier),de=I*vc,A=I+de,xe={...r,paymentIntentId:R,promoCodeUsed:(m==null?void 0:m.code)||null,discountAmount:j.toString(),originalAmount:A.toString(),finalAmount:(N||A).toString()};await Ae("POST","/api/marketplace",xe),localStorage.removeItem("pendingListingData"),Fe.invalidateQueries({queryKey:["/api/marketplace"]}),d({title:"Success",description:"Your marketplace listing has been created!"}),e("/marketplace")}catch(I){d({title:"Listing Creation Failed",description:I.message||"Could not create listing. Please contact support.",variant:"destructive"})}}},Y=async R=>{if(b(!0),p(""),F){p("Admin free grant is applied. Remove it before adding another code."),b(!1);return}if(!r&&!l){p("Listing details not loaded yet"),b(!1);return}const I=(R??u).trim();if(!I){p("Please enter a promo code"),b(!1);return}const de=I.toUpperCase();h(de);try{const A=$u(r.category,r.tier),xe=A*vc,Le=A+xe,Qe=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:de,context:"marketplace",amount:Le})})).json();if(!Qe.valid)throw new Error(Qe.message||"Invalid promo code");x(Qe);let je=0;Qe.discountType==="percentage"?je=Le*parseFloat(Qe.discountValue)/100:Qe.discountType==="fixed"&&(je=parseFloat(Qe.discountValue)),w(je);const Ue=Math.max(0,Le-je);P(Ue),d({title:"Promo Code Applied",description:Qe.description||"Discount applied successfully!"})}catch(A){p(A.message)}finally{b(!1)}},Q=()=>{x(null),h(""),w(0),P(0),p(""),C(null),F&&(L(null),localStorage.removeItem("adminFreeListingGrant"))};if(f.useEffect(()=>{if(!F&&m&&N===0&&r){const R=$u(r.category,r.tier),I=R*vc,de=R+I,A={type:"free-marketplace-listing",userId:"CURRENT_USER",promoCode:m.code,originalAmount:de.toString(),discountAmount:j.toString(),timestamp:Date.now()},xe=btoa(JSON.stringify(A));C(xe)}},[m,N,j,r]),!r&&!l)return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})});let H,le,he;if(a&&l)H=l.upgradeDelta,le=H*vc,he=l.totalWithTax;else if(r)H=$u(r.category,r.tier),le=H*vc,he=H+le;else return null;return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>e(a?"/my-listings":"/create-marketplace-listing"),className:"mb-6","data-testid":"button-back",children:[s.jsx(pg,{className:"mr-2 h-4 w-4"}),a?"Back to My Listings":"Back to Listing"]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"flex items-center gap-2",children:a?"Complete Upgrade Payment":"Complete Your Payment"}),s.jsx(ke,{children:"Secure payment powered by PayPal"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:a?"Upgrade Summary":"Order Summary"}),a&&l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing:"}),s.jsx("span",{className:"font-medium",children:l.listingTitle})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Current Tier:"}),s.jsx("span",{className:"capitalize",children:l.currentTier})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"New Tier:"}),s.jsx("span",{className:"capitalize font-medium text-primary",children:l.newTier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Upgrade Fee:"}),s.jsxs("span",{children:["$",H.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",le.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",he.toFixed(2)]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing Type:"}),s.jsx("span",{className:"capitalize",children:(z=r==null?void 0:r.category)==null?void 0:z.replace("-"," ")})]}),(r==null?void 0:r.tier)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tier:"}),s.jsx("span",{className:"capitalize",children:r.tier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Base Price:"}),s.jsxs("span",{children:["$",H.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",le.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total (Monthly):"}),s.jsxs("span",{children:["$",he.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Promo Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{placeholder:"Enter promo code",value:u,onChange:R=>h(R.target.value.toUpperCase()),disabled:m!==null||F!==null,"data-testid":"input-promo-code"}),m?s.jsx(O,{variant:"outline",onClick:Q,"data-testid":"button-remove-promo",children:"Remove"}):s.jsx(O,{onClick:()=>Y(),disabled:!u||v,"data-testid":"button-apply-promo",children:v?"Applying...":"Apply"})]}),m&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:['Promo code "',m.code,'" applied! ',m.description]}),F&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:["Admin free grant active (",F.durationDays||30," days). Checkout will publish without payment."]}),g&&s.jsx("div",{className:"text-sm text-destructive",children:g})]}),m&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Original Total:"}),s.jsxs("span",{className:"line-through",children:["$",he.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",j.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",N.toFixed(2)]})]})]}),s.jsx(Cie,{listingData:r||{},onSuccess:B,isFree:m!==null&&N===0,promoCode:(m==null?void 0:m.code)||null,discountAmount:j,originalAmount:he,finalAmount:N||he,completionToken:S,isUpgradeMode:a,upgradeContext:l}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your payment information is securely processed by PayPal. We never store your card details."})]})]})]})}function kie({rental:t,aircraft:e,onSuccess:n}){const[r,i]=f.useState(!1),[a,o]=f.useState(!1),[l,c]=f.useState(null),d=f.useRef(null),{toast:u}=$t();f.useEffect(()=>{fetch("/api/paypal/config").then(m=>m.json()).then(m=>c(m)).catch(m=>{console.error("Failed to fetch PayPal config:",m),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),f.useEffect(()=>{if(!l)return;const m=async()=>{if(window.paypal){x();return}const v=document.createElement("script");v.src=`https://www.paypal.com/sdk/js?client-id=${l.clientId}&components=card-fields&disable-funding=paylater`,v.async=!0,v.onload=()=>{x()},v.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(v)},x=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const v=window.paypal.CardFields({createOrder:async()=>(await(await fetch("/api/paypal/create-order-rental",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:parseFloat(t.totalCostRenter),rentalId:t.id})})).json()).id,onApprove:async b=>{i(!0);try{const g=await fetch(`/api/paypal/capture-order/${b.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),p=await g.json();if(!g.ok||p.status!=="COMPLETED")throw new Error("Payment capture failed");if(!(await fetch(`/api/rentals/${t.id}/complete-payment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({transactionId:b.orderID})})).ok)throw new Error("Failed to complete rental");u({title:"Payment successful!",description:"Your rental is now active. Safe flying!"}),n()}catch(g){u({title:"Payment failed",description:g.message||"Please try again",variant:"destructive"}),i(!1)}},onError:b=>{console.error("PayPal error:",b),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),i(!1)}});v.isEligible()?(v.NumberField().render("#card-number-field"),v.ExpiryField().render("#card-expiry-field"),v.CVVField().render("#card-cvv-field"),v.NameField().render("#card-name-field"),d.current=v,o(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(v){console.error("Error initializing card fields:",v),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};m()},[l,t.id,t.totalCostRenter]);const h=async m=>{if(m.preventDefault(),!!d.current){i(!0);try{await d.current.submit()}catch(x){u({title:"Payment failed",description:x.message||"Please check your card details and try again",variant:"destructive"}),i(!1)}}};return s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(O,{type:"submit",disabled:!a||r,className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg","data-testid":"button-submit-payment",children:r?"Processing...":`Pay $${parseFloat(t.totalCostRenter).toFixed(2)}`}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})}function Pie(){const[,t]=Gm("/rental-payment/:id"),[,e]=en();$t();const{data:n}=Ge({queryKey:["/api/rentals",t==null?void 0:t.id],queryFn:async()=>{const i=await fetch(`/api/rentals/${t==null?void 0:t.id}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch rental");return i.json()},enabled:!!(t!=null&&t.id)}),{data:r}=Ge({queryKey:["/api/aircraft",n==null?void 0:n.aircraftId],queryFn:async()=>{const i=await fetch(`/api/aircraft/${n==null?void 0:n.aircraftId}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch aircraft");return i.json()},enabled:!!(n!=null&&n.aircraftId)});return!n||!r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading rental details..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-8","data-testid":"text-payment-title",children:"Complete Your Rental Payment"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Rental Summary"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[r.year," ",r.make," ",r.model]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.registration})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rl,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[parseFloat(n.estimatedHours)," estimated flight hours"]})})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Base cost"}),s.jsxs("span",{children:["$",parseFloat(n.baseCost).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{children:["$",parseFloat(n.salesTax).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{children:["$",parseFloat(n.platformFeeRenter).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{children:["$",parseFloat(n.processingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",parseFloat(n.totalCostRenter).toFixed(2)]})]})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{children:"Payment Information"})}),s.jsx(U,{children:s.jsx(kie,{rental:n,aircraft:r,onSuccess:()=>e("/dashboard")})})]})]})]})})})}const Eie=40,Tie={"1month":{label:"1 Month",months:1,monthlyRate:75,totalPrice:75,description:"Entry-level, test water"},"3months":{label:"3 Months",months:3,monthlyRate:60,totalPrice:180,description:"Most purchased",badge:"Popular"},"6months":{label:"6 Months",months:6,monthlyRate:50,totalPrice:300,description:"Best long-term value",badge:"Best Value"},"12months":{label:"12 Months",months:12,monthlyRate:45,totalPrice:540,description:"Commitment tier"}};function Uu(t,e=!0){const n=Tie[t],r=n.totalPrice,i=e?Eie:0,a=r+i;return{tier:t,monthlyRate:n.monthlyRate,months:n.months,subscriptionTotal:r,creationFee:i,grandTotal:a,label:n.label,description:n.description,badge:"badge"in n?n.badge:void 0}}const Aie={LAUNCH2025:{code:"LAUNCH2025",description:"Launch promotion - Free ad creation + 20% off subscription",creationFeeDiscount:100,subscriptionDiscount:20,isPercentage:!0,validFrom:new Date("2025-01-01"),validUntil:null,isActive:!0}};function u6(t){const e=t.trim().toUpperCase(),n=Aie[e];if(!n||!n.isActive)return null;const r=new Date;return r<n.validFrom||n.validUntil&&r>n.validUntil?null:n}function ok(t,e,n){if(!n)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};const r=u6(n);if(!r)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};let i=0;r.isPercentage?i=t*r.creationFeeDiscount/100:i=Math.min(r.creationFeeDiscount,t);let a=0;r.isPercentage?a=e*r.subscriptionDiscount/100:a=Math.min(r.subscriptionDiscount,e);const o=i+a,l=t-i,c=e-a,d=l+c;return{creationFeeDiscount:i,subscriptionDiscount:a,totalDiscount:o,finalCreationFee:l,finalSubscriptionTotal:c,finalGrandTotal:d}}function Fie({userId:t,open:e,onOpenChange:n}){var he,z;const[r,i]=f.useState("profile"),[a,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(null),[x,v]=f.useState("7"),{toast:b}=$t(),{data:g,isLoading:p}=Ge({queryKey:["/api/admin/users",t],enabled:e&&!!t}),{data:j=[],isLoading:w}=Ge({queryKey:["/api/admin/users",t,"aircraft"],enabled:e&&!!t}),{data:N=[],isLoading:P}=Ge({queryKey:["/api/admin/users",t,"marketplace"],enabled:e&&!!t}),{data:S=[],isLoading:C}=Ge({queryKey:["/api/admin/users",t,"verifications"],enabled:e&&!!t}),k=De({mutationFn:async R=>await Ae("POST",`/api/admin/users/${R}/reset-password`,{}),onSuccess:()=>{b({title:"Password Reset Email Sent",description:"The user will receive an email with password reset instructions."})},onError:()=>{b({title:"Error",description:"Failed to send password reset email. Please try again.",variant:"destructive"})}}),D=De({mutationFn:async({userId:R,field:I,value:de})=>await Ae("PATCH",`/api/admin/users/${R}`,{[I]:de}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/users",t]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),b({title:"User Updated",description:"User verification status has been updated."})}}),F=De({mutationFn:async({userId:R,isAdmin:I})=>await Ae("PATCH",`/api/admin/users/${R}`,{isAdmin:I}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/users",t]}),Fe.invalidateQueries({queryKey:["/api/admin/users"]}),b({title:"Admin Status Updated",description:"User admin privileges have been updated."})}}),L=De({mutationFn:async({listingId:R,durationDays:I})=>await Ae("POST",`/api/admin/marketplace/${R}/grant-promo`,{durationDays:I}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/users",t,"marketplace"]}),Fe.invalidateQueries({queryKey:["/api/admin/marketplace"]}),b({title:"Promotional Free Time Granted",description:"The listing has been granted free promotional time."}),u(!1),m(null),v("7")},onError:()=>{b({title:"Error",description:"Failed to grant promotional free time. Please try again.",variant:"destructive"})}});if(!g&&!p)return null;const B=()=>{!t||!confirm("Are you sure you want to send a password reset email to this user?")||k.mutate(t)},Y=(R,I)=>{t&&D.mutate({userId:t,field:R,value:!I})},Q=()=>{!t||!g||confirm(`Are you sure you want to ${g.isAdmin?"remove":"grant"} admin privileges for this user?`)&&F.mutate({userId:t,isAdmin:!g.isAdmin})},H=R=>{if(!R)return{status:"no-date",label:"No expiration date",variant:"secondary"};const I=new Date(R),de=new Date,A=Math.ceil((I.getTime()-de.getTime())/(1e3*60*60*24));return A<0?{status:"expired",label:`Expired ${Math.abs(A)} days ago`,variant:"destructive"}:A<=7?{status:"critical",label:`Expires in ${A} days`,variant:"destructive"}:A<=30?{status:"warning",label:`Expires in ${A} days`,variant:"outline"}:{status:"valid",label:`Valid for ${A} days`,variant:"default"}},le=R=>({renter_identity:"Identity Verification",renter_payment:"Payment Verification",renter_pilot:"Pilot License",owner_aircraft:"Aircraft Ownership",owner_maintenance:"Maintenance Records"})[R]||R;return s.jsxs(Qt,{open:e,onOpenChange:n,children:[s.jsx(Wt,{className:"max-w-6xl max-h-[95vh] overflow-y-auto","data-testid":"modal-admin-user",children:p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):g?s.jsxs(s.Fragment,{children:[s.jsx(Xt,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(Li,{className:"h-16 w-16",children:[s.jsx($i,{src:g.profileImageUrl||void 0}),s.jsxs(Ui,{className:"text-lg",children:[(he=g.firstName)==null?void 0:he[0],(z=g.lastName)==null?void 0:z[0]]})]}),s.jsxs("div",{children:[s.jsxs(Zt,{className:"font-display text-2xl",children:[g.firstName," ",g.lastName]}),s.jsxs(ss,{className:"flex items-center gap-2 mt-1",children:[s.jsx(qd,{className:"h-4 w-4"}),g.email]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[g.isAdmin&&s.jsx(G,{variant:"default",children:"Admin"}),g.isSuperAdmin&&s.jsx(G,{variant:"default",children:"Super Admin"}),g.isVerified&&s.jsx(G,{variant:"secondary",children:"Verified"}),g.identityVerified&&s.jsx(G,{variant:"secondary",children:"Identity Verified"}),g.faaVerified&&s.jsx(G,{variant:"secondary",children:"FAA Verified"})]})]})]})})}),s.jsxs(pu,{value:r,onValueChange:i,className:"mt-4",children:[s.jsxs(nc,{className:"grid w-full grid-cols-4",children:[s.jsxs(kt,{value:"profile","data-testid":"tab-user-profile",children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Profile"]}),s.jsxs(kt,{value:"aircraft","data-testid":"tab-user-aircraft",children:[s.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Aircraft (",j.length,")"]}),s.jsxs(kt,{value:"marketplace","data-testid":"tab-user-marketplace",children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Listings (",N.length,")"]}),s.jsxs(kt,{value:"admin-actions","data-testid":"tab-admin-actions",children:[s.jsx(DC,{className:"h-4 w-4 mr-2"}),"Admin Actions"]})]}),s.jsx(It,{value:"profile",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Personal Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsxs("div",{className:"text-base",children:[g.firstName," ",g.lastName]})]}),(g.legalFirstName||g.legalLastName)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Legal Name"}),s.jsxs("div",{className:"text-base",children:[g.legalFirstName," ",g.legalLastName]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4"}),g.email,g.emailVerified&&s.jsx(ws,{className:"h-4 w-4 text-chart-2"})]})]}),g.phone&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(ex,{className:"h-4 w-4"}),j5(g.phone),g.phoneVerified&&s.jsx(ws,{className:"h-4 w-4 text-chart-2"})]})]}),g.dateOfBirth&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),s.jsx("div",{className:"text-base",children:g.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),s.jsx("div",{className:"text-xs font-mono",children:g.id})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Account Status"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Joined"}),s.jsx("div",{className:"text-base",children:g.createdAt?new Date(g.createdAt).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email Verified"}),s.jsx("div",{className:"text-base",children:g.emailVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone Verified"}),s.jsx("div",{className:"text-base",children:g.phoneVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Account Approved"}),s.jsx("div",{className:"text-base",children:g.isVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Identity Verified"}),s.jsx("div",{className:"text-base",children:g.identityVerifiedAt?new Date(g.identityVerifiedAt).toLocaleDateString():"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Payment Verified"}),s.jsx("div",{className:"text-base",children:g.paymentVerifiedAt?new Date(g.paymentVerifiedAt).toLocaleDateString():"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Verified"}),s.jsx("div",{className:"text-base",children:g.faaVerifiedAt?new Date(g.faaVerifiedAt).toLocaleDateString():"No"})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Pilot Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Flight Hours"}),s.jsxs("div",{className:"text-base font-semibold",children:[g.totalFlightHours||0," hours"]})]}),g.certifications&&g.certifications.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:g.certifications.map((R,I)=>s.jsx(G,{variant:"outline",children:R},I))})]}),g.faaCertificateNumber&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Certificate Number"}),s.jsx("div",{className:"text-base font-mono",children:g.faaCertificateNumber})]}),g.aircraftTypesFlown&&g.aircraftTypesFlown.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Aircraft Types Flown"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:g.aircraftTypesFlown.map((R,I)=>s.jsx(G,{variant:"outline",children:R},I))})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Verification Status"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),g.identityVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),g.faaVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Verified"}),g.paymentVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Email Verified"}),g.emailVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Phone Verified"}),g.phoneVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),g.licenseVerified?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Financial Information"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Method On File"}),g.paymentMethodOnFile?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"PayPal Account Connected"}),g.paypalEmail?s.jsx(ws,{className:"h-5 w-5 text-chart-2"}):s.jsx(er,{className:"h-5 w-5 text-muted-foreground"})]}),g.paypalEmail&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-3",children:"PayPal Email"}),s.jsx("div",{className:"text-xs",children:g.paypalEmail})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(Tl,{className:"h-4 w-4"}),g.averageRating||"N/A"," (",g.totalReviews||0," reviews)"]})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsxs(J,{className:"text-lg flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"Uploaded Documents"]})}),s.jsx(U,{children:C?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"Loading documents..."}):S.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No verification documents uploaded"}):s.jsx("div",{className:"space-y-4",children:S.map(R=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:le(R.type)}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Submitted ",R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"]})]}),s.jsx(G,{variant:R.status==="approved"?"default":R.status==="rejected"?"destructive":"secondary",children:R.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[R.pilotLicenseExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pilot License"}),s.jsx(G,{variant:H(R.pilotLicenseExpiresAt.toString()).variant,className:"w-fit",children:H(R.pilotLicenseExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.pilotLicenseExpiresAt).toLocaleDateString()]})]}),R.medicalCertExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Medical Certificate"}),s.jsx(G,{variant:H(R.medicalCertExpiresAt.toString()).variant,className:"w-fit",children:H(R.medicalCertExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.medicalCertExpiresAt).toLocaleDateString()]})]}),R.insuranceExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Insurance"}),s.jsx(G,{variant:H(R.insuranceExpiresAt.toString()).variant,className:"w-fit",children:H(R.insuranceExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.insuranceExpiresAt).toLocaleDateString()]})]}),R.governmentIdExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Government ID"}),s.jsx(G,{variant:H(R.governmentIdExpiresAt.toString()).variant,className:"w-fit",children:H(R.governmentIdExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.governmentIdExpiresAt).toLocaleDateString()]})]})]}),R.documentUrls&&R.documentUrls.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Documents:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.documentUrls.map((I,de)=>s.jsx(O,{size:"sm",variant:"outline",asChild:!0,"data-testid":`button-view-document-${de}`,children:s.jsxs("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"h-3 w-3"}),s.jsxs("span",{children:["View Document ",de+1]}),s.jsx(CR,{className:"h-3 w-3"})]})},de))})]}),R.reviewNotes&&s.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Admin Notes:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.reviewNotes})]})]},R.id))})})]})]})}),s.jsx(It,{value:"aircraft",className:"space-y-4 mt-4",children:w?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}):j.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no aircraft listings"}):s.jsx("div",{className:"space-y-3",children:j.map(R=>s.jsx($,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>o(R.id),"data-testid":`card-user-aircraft-${R.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(G,{variant:R.isListed?"default":"secondary",children:R.isListed?"Listed":"Unlisted"})}),s.jsxs("div",{className:"font-semibold text-lg",children:[R.year," ",R.make," ",R.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[R.registration,"  ",R.location]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(rs,{className:"h-4 w-4"}),"$",R.hourlyRate,"/hour"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.category})]})]}),R.images&&R.images.length>0&&s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:R.images[0],alt:`${R.make} ${R.model}`,className:"w-full h-full object-cover"})})]})})},R.id))})}),s.jsx(It,{value:"marketplace",className:"space-y-4 mt-4",children:P?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}):N.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no marketplace listings"}):s.jsx("div",{className:"space-y-3",children:N.map(R=>s.jsx($,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>c(R.id),"data-testid":`card-user-marketplace-${R.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(G,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"}),s.jsx(G,{variant:"outline",className:"capitalize",children:R.category}),R.promoFreeUntil&&new Date(R.promoFreeUntil)>new Date&&s.jsxs(G,{variant:"default",className:"bg-green-600",children:["Free Until ",new Date(R.promoFreeUntil).toLocaleDateString()]})]}),s.jsx("div",{className:"font-semibold text-lg",children:R.title}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[R.price&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(rs,{className:"h-4 w-4"}),"$",R.price]}),R.location&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Ca,{className:"h-4 w-4"}),R.location]})]})]}),s.jsx("div",{className:"flex-shrink-0",onClick:I=>I.stopPropagation(),children:s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{m(R.id),u(!0)},"data-testid":`button-grant-promo-${R.id}`,children:"Grant Promo"})})]})})},R.id))})}),s.jsxs(It,{value:"admin-actions",className:"space-y-4 mt-4",children:[s.jsxs(Kn,{children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx(Gn,{children:"These actions affect user account settings and permissions. Use with caution."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Password Reset"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a password reset email to the user. They will receive instructions to create a new password."}),s.jsxs(O,{onClick:B,disabled:k.isPending,"data-testid":"button-reset-password",children:[s.jsx(DC,{className:"h-4 w-4 mr-2"}),k.isPending?"Sending...":"Send Password Reset Email"]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Admin Privileges"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant or remove admin access for this user. Admins can manage users, listings, and view analytics."}),s.jsxs(O,{variant:g.isAdmin?"destructive":"default",onClick:Q,disabled:F.isPending,"data-testid":"button-toggle-admin",children:[s.jsx(vz,{className:"h-4 w-4 mr-2"}),g.isAdmin?"Remove Admin Access":"Grant Admin Access"]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Verification Controls"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),s.jsx(O,{size:"sm",variant:g.identityVerified?"destructive":"default",onClick:()=>Y("identityVerified",g.identityVerified||!1),disabled:D.isPending,"data-testid":"button-toggle-identity",children:g.identityVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),s.jsx(O,{size:"sm",variant:g.faaVerified?"destructive":"default",onClick:()=>Y("faaVerified",g.faaVerified||!1),disabled:D.isPending,"data-testid":"button-toggle-faa",children:g.faaVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),s.jsx(O,{size:"sm",variant:g.licenseVerified?"destructive":"default",onClick:()=>Y("licenseVerified",g.licenseVerified||!1),disabled:D.isPending,"data-testid":"button-toggle-license",children:g.licenseVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"General Verification"}),s.jsx(O,{size:"sm",variant:g.isVerified?"destructive":"default",onClick:()=>Y("isVerified",g.isVerified||!1),disabled:D.isPending,"data-testid":"button-toggle-verified",children:g.isVerified?"Revoke":"Verify"})]})]})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Account Actions"})}),s.jsx(U,{className:"space-y-3",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional account management actions will be available here in future updates."})})]})]})]})]})]}):null}),a&&s.jsx(a5,{aircraftId:a,open:!!a,onOpenChange:R=>!R&&o(null)}),l&&s.jsx(D0,{listingId:l,open:!!l,onOpenChange:R=>!R&&c(null)}),s.jsx(Qt,{open:d,onOpenChange:u,children:s.jsxs(Wt,{"data-testid":"dialog-grant-promo",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Grant Promotional Free Time"}),s.jsx(ss,{children:"Grant this user free listing time as a customer service gesture. The listing will be active for the selected duration without charging the user."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"promo-duration",children:"Duration"}),s.jsxs(Vs,{value:x,onValueChange:v,children:[s.jsx(As,{id:"promo-duration","data-testid":"select-promo-duration",children:s.jsx(zs,{placeholder:"Select duration"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"7",children:"7 Days"}),s.jsx(Pe,{value:"14",children:"14 Days (2 weeks)"}),s.jsx(Pe,{value:"21",children:"21 Days (3 weeks)"}),s.jsx(Pe,{value:"30",children:"30 Days (1 month)"})]})]})]}),s.jsxs(Kn,{children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsxs(Gn,{children:["This will extend the listing's active period by ",x," days without any charge to the user. This action will be tracked for audit purposes."]})]})]}),s.jsxs(hn,{children:[s.jsx(O,{variant:"outline",onClick:()=>{u(!1),m(null),v("7")},"data-testid":"button-cancel-promo",children:"Cancel"}),s.jsx(O,{onClick:()=>{h&&L.mutate({listingId:h,durationDays:parseInt(x)})},disabled:L.isPending,"data-testid":"button-confirm-promo",children:L.isPending?"Granting...":"Grant Free Time"})]})]})})]})}function Rie(){var O1,M1,L1,$1,U1,B1,V1,z1,H1,q1,W1,K1,G1,Y1;const[t,e]=f.useState(""),[n,r]=f.useState("analytics"),[i,a]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(null),[m,x]=f.useState(!1),[v,b]=f.useState(!1),[g,p]=f.useState(null),[j,w]=f.useState(!1),[N,P]=f.useState(null),[S,C]=f.useState(null),[k,D]=f.useState(null),[F,L]=f.useState(!1),[B,Y]=f.useState(null),[Q,H]=f.useState(!1),[le,he]=f.useState(null),[z,R]=f.useState(!1),[I,de]=f.useState(null),[A,xe]=f.useState(""),[Le,it]=f.useState(!1),[Qe,je]=f.useState(null),[Ue,ie]=f.useState(""),[ue,Te]=f.useState(!1),[ge,Ke]=f.useState(null),[ot,Tt]=f.useState("3months"),[qt,Mt]=f.useState(""),[sn,os]=f.useState(""),[cn,M]=f.useState(null),[K,ee]=f.useState(""),[Re,Se]=f.useState(null),[be,ze]=f.useState(""),[jt,bt]=f.useState("all"),xt=nr({resolver:rr(SJ),defaultValues:{firstName:"",lastName:"",email:"",phone:"",company:"",status:"new",source:void 0,notes:""}}),Ut=nr({resolver:rr(_J),defaultValues:{category:"server",amount:"",expenseDate:new Date,description:"",invoiceUrl:""}}),[Ms,Wi]=f.useState(null),[Ra,Da]=f.useState(!1),vn=nr({resolver:rr(EJ),defaultValues:{title:"",message:"",promoCode:"",isEnabled:!0,showOnMainPage:!0,showOnCategoryPages:!0,targetCategories:[],variant:"info"}}),Bt=nr({resolver:rr(CJ),defaultValues:{code:"",description:"",discountType:"percentage",discountValue:"",maxUses:void 0,validFrom:new Date,validUntil:void 0,isActive:!0,applicableToBannerAds:!1,applicableToMarketplace:!0}}),js=nr({resolver:rr(PJ),defaultValues:{title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,listingId:void 0,listingType:void 0,isActive:!0,startDate:new Date,endDate:void 0}}),et=nr({resolver:rr(kJ),defaultValues:{sponsorName:"",sponsorEmail:"",sponsorCompany:"",title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,tier:"3months",monthlyRate:"60.00",totalAmount:"180.00",creationFee:"40.00",grandTotal:"220.00",promoCode:"",discountAmount:"0.00",approvalStatus:"draft",paymentStatus:"pending",adminNotes:""}}),{toast:$e}=$t(),{data:rc=[],isLoading:ic}=Ge({queryKey:[`/api/admin/users?q=${t}`],enabled:t.length>0}),{data:ac=[],isLoading:gu}=Ge({queryKey:["/api/admin/aircraft"],enabled:n==="aircraft"}),{data:oc=[],isLoading:lc}=Ge({queryKey:["/api/admin/marketplace"],enabled:n==="marketplace"}),{data:Ho=[]}=Ge({queryKey:["/api/marketplace/flagged"]}),{data:yu=[],isLoading:ty}=Ge({queryKey:["/api/verification-submissions/pending"],staleTime:0,gcTime:0,refetchOnMount:"always"}),{data:fe,isLoading:I6}=Ge({queryKey:["/api/admin/analytics"],enabled:n==="analytics"}),{data:qo=[],isLoading:sy}=Ge({queryKey:["/api/crm/leads"],enabled:n==="crm"}),{data:ny=[],isLoading:ry}=Ge({queryKey:["/api/admin/expenses"],enabled:n==="analytics"}),{data:j1=[],isLoading:O6}=Ge({queryKey:["/api/admin/promo-alerts"],enabled:n==="promo"}),{data:b1=[],isLoading:M6}=Ge({queryKey:["/api/admin/promo-codes"],enabled:n==="promo-codes"}),{data:Ki,isLoading:L6}=Ge({queryKey:["/api/admin/stale-listings"],enabled:n==="stale"}),{data:Gi,isLoading:$6}=Ge({queryKey:["/api/admin/orphaned-listings"],enabled:n==="stale"}),{data:ct,isLoading:vu}=Ge({queryKey:["/api/admin/user-metrics"],enabled:n==="analytics"}),{data:iy=[],isLoading:w1}=Ge({queryKey:["/api/admin/withdrawals"],enabled:n==="withdrawals"}),{data:N1=[],isLoading:U6}=Ge({queryKey:["/api/admin/notifications"],enabled:n==="notifications"}),{data:S1=[]}=Ge({queryKey:["/api/admin/notifications/unread"]}),{data:ff=[],isLoading:B6}=Ge({queryKey:["/api/admin/banner-ads"],enabled:n==="banners"}),{data:ay=[],isLoading:V6}=Ge({queryKey:["/api/admin/banner-ad-orders"],enabled:n==="banners"}),z6=f.useMemo(()=>{const y=new Map;return ff.forEach(W=>{W.orderId&&y.set(W.orderId,W)}),y},[ff]),C1=y=>z6.has(y),oy=De({mutationFn:async y=>await Ae("PATCH",`/api/verification-submissions/${y}`,{status:"approved"}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),$e({title:"Verification Approved",description:"User verification has been approved successfully."}),l(!1)}}),ly=De({mutationFn:async({id:y,notes:W})=>await Ae("PATCH",`/api/verification-submissions/${y}`,{status:"rejected",rejectionReason:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),$e({title:"Verification Rejected",description:"User has been notified of the rejection."}),l(!1),d("")}}),cy=De({mutationFn:async y=>await Ae("POST","/api/crm/leads",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/crm/leads"]}),$e({title:"Lead created successfully"}),b(!1),xt.reset(),p(null)}}),dy=De({mutationFn:async({id:y,data:W})=>await Ae("PATCH",`/api/crm/leads/${y}`,W),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/crm/leads"]}),$e({title:"Lead updated successfully"}),b(!1),xt.reset(),p(null)}}),H6=De({mutationFn:async y=>await Ae("DELETE",`/api/crm/leads/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/crm/leads"]}),$e({title:"Lead deleted successfully"})}}),uy=De({mutationFn:async y=>await Ae("POST","/api/admin/expenses",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/expenses"]}),Fe.invalidateQueries({queryKey:["/api/admin/analytics"]}),$e({title:"Expense added successfully"}),w(!1),Ut.reset(),P(null)}}),hy=De({mutationFn:async({id:y,data:W})=>await Ae("PATCH",`/api/admin/expenses/${y}`,W),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/expenses"]}),Fe.invalidateQueries({queryKey:["/api/admin/analytics"]}),$e({title:"Expense updated successfully"}),w(!1),Ut.reset(),P(null)}}),q6=De({mutationFn:async y=>await Ae("DELETE",`/api/admin/expenses/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/expenses"]}),Fe.invalidateQueries({queryKey:["/api/admin/analytics"]}),$e({title:"Expense deleted successfully"})}}),W6=De({mutationFn:async y=>await Ae("PATCH",`/api/admin/notifications/${y}/read`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/notifications"]}),Fe.invalidateQueries({queryKey:["/api/admin/notifications/unread"]})}}),K6=De({mutationFn:async y=>await Ae("DELETE",`/api/admin/notifications/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/notifications"]}),Fe.invalidateQueries({queryKey:["/api/admin/notifications/unread"]}),$e({title:"Notification deleted"})}}),my=De({mutationFn:async()=>{const y=await Ae("POST","/api/admin/approach-plates/sync",{mode:"incremental",limit:400,maxMs:3e4}),W=await y.json();if(!y.ok)throw new Error(W.error||"Failed to sync approach plates");return W},onSuccess:()=>{$e({title:"Approach plate sync started",description:"Sync runs in the background. Search again in a minute."})},onError:y=>{$e({title:"Sync failed",description:y.message,variant:"destructive"})}}),_1=De({mutationFn:async({id:y,isListed:W})=>await Ae("PATCH",`/api/aircraft/${y}`,{isListed:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/aircraft"]}),$e({title:"Aircraft listing updated"})}}),fy=De({mutationFn:async y=>await Ae("DELETE",`/api/aircraft/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/aircraft"]}),$e({title:"Aircraft listing deleted"}),L(!1),Y(null)}}),k1=De({mutationFn:async({id:y,isActive:W})=>await Ae("PATCH",`/api/marketplace/${y}`,{isActive:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/marketplace"]}),$e({title:"Marketplace listing updated"})}}),py=De({mutationFn:async y=>(await Ae("POST","/api/admin/marketplace/free-listing-token",y||{})).json(),onSuccess:y=>{localStorage.setItem("adminFreeListingGrant",JSON.stringify({token:y.token,durationDays:y.durationDays})),$e({title:"Admin free listing enabled",description:`Grant ready for ${y.durationDays}-day listing. Complete the form to publish.`}),window.location.href="/create-marketplace-listing?adminFree=1"},onError:y=>{$e({title:"Failed to start free listing",description:y.message||"Could not issue admin grant",variant:"destructive"})}}),P1=De({mutationFn:async({id:y,isEnabled:W})=>await Ae("PATCH",`/api/promo-alerts/${y}`,{isEnabled:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),$e({title:"Promotional alert updated"})}}),xy=De({mutationFn:async y=>await Ae("POST","/api/promo-alerts",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),vn.reset(),H(!1),he(null),$e({title:"Promotional alert created successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to create promotional alert",variant:"destructive"})}}),gy=De({mutationFn:async y=>await Ae("POST","/api/admin/promo-codes",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),de(null),Bt.reset(),$e({title:"Promo code created successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to create promo code",variant:"destructive"})}}),yy=De({mutationFn:async({id:y,data:W})=>await Ae("PATCH",`/api/admin/promo-codes/${y}`,W),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),de(null),Bt.reset(),$e({title:"Promo code updated successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to update promo code",variant:"destructive"})}}),E1=De({mutationFn:async y=>await Ae("DELETE",`/api/admin/promo-codes/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),de(null),Bt.reset(),$e({title:"Promo code deleted successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to delete promo code",variant:"destructive"})}}),T1=De({mutationFn:async({id:y,isActive:W})=>await Ae("PATCH",`/api/admin/promo-codes/${y}`,{isActive:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),de(null),Bt.reset(),$e({title:"Promo code status updated successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to update promo code status",variant:"destructive"})}}),G6=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),Y6=async y=>{try{for(const W of y.successful||[])if(W.uploadURL){const yt=new URL(W.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:yt,access:"publicRead"})});const Ct=W.uploadURL.split("?")[0];ie(Ct),js.setValue("imageUrl",Ct,{shouldValidate:!0,shouldDirty:!0}),$e({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(W){console.error("Error processing banner upload:",W),$e({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}},Q6=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),X6=async y=>{try{for(const W of y.successful||[])if(W.uploadURL){const yt=new URL(W.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:yt,access:"publicRead"})});const Ct=W.uploadURL.split("?")[0];Mt(Ct),et.setValue("imageUrl",Ct,{shouldValidate:!0,shouldDirty:!0}),$e({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(W){console.error("Error processing order upload:",W),$e({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}};De({mutationFn:async y=>await Ae("POST","/api/admin/banner-ads",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),js.reset(),it(!1),je(null),ie(""),$e({title:"Banner ad created successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to create banner ad",variant:"destructive"})}});const vy=De({mutationFn:async({id:y,data:W})=>await Ae("PATCH",`/api/admin/banner-ads/${y}`,W),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),js.reset(),it(!1),je(null),ie(""),$e({title:"Banner ad updated successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to update banner ad",variant:"destructive"})}}),Z6=De({mutationFn:async y=>await Ae("DELETE",`/api/admin/banner-ads/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),$e({title:"Banner ad deleted successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to delete banner ad",variant:"destructive"})}}),J6=De({mutationFn:async({id:y,isActive:W})=>await Ae("PATCH",`/api/admin/banner-ads/${y}`,{isActive:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),$e({title:"Banner ad status updated"})}}),jy=De({mutationFn:async y=>await Ae("POST","/api/admin/banner-ad-orders",y),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),et.reset(),Te(!1),Ke(null),Mt(""),$e({title:"Banner ad order created successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to create banner ad order",variant:"destructive"})}}),by=De({mutationFn:async({id:y,data:W})=>await Ae("PATCH",`/api/admin/banner-ad-orders/${y}`,W),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),et.reset(),Te(!1),Ke(null),Mt(""),$e({title:"Banner ad order updated successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to update banner ad order",variant:"destructive"})}}),A1=De({mutationFn:async y=>await Ae("POST",`/api/admin/banner-ad-orders/${y}/activate`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Fe.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),$e({title:"Order activated",description:"Banner ad is now live"})},onError:y=>{var W;(y==null?void 0:y.status)===409?$e({title:"Order already activated",description:"This order has an active banner ad.",variant:"destructive"}):(y==null?void 0:y.status)===402||(y==null?void 0:y.error)==="Payment required"?$e({title:"Payment required",description:"Order must be paid (and captured) before activation.",variant:"destructive"}):(y==null?void 0:y.error)==="Payment reference missing"?$e({title:"Missing PayPal reference",description:"Capture must complete and record a PayPal order ID before activation.",variant:"destructive"}):(y==null?void 0:y.error)==="Approval required"?$e({title:"Approval required",description:"Approve the order before activating the banner.",variant:"destructive"}):(y==null?void 0:y.errorCode)==="IMAGE_REQUIRED"||(W=y==null?void 0:y.message)!=null&&W.includes("IMAGE_REQUIRED")?$e({title:"Image required",description:"Please upload a banner image before activating this order.",variant:"destructive"}):$e({title:"Activation failed",description:(y==null?void 0:y.message)||"Failed to activate banner ad order",variant:"destructive"})}}),eU=De({mutationFn:async y=>await Ae("DELETE",`/api/admin/banner-ad-orders/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),$e({title:"Banner ad order deleted successfully"})},onError:y=>{$e({title:"Error",description:y.message||"Failed to delete banner ad order",variant:"destructive"})}}),F1=De({mutationFn:async y=>await Ae("PATCH",`/api/admin/banner-ad-orders/${y}/approval`,{approvalStatus:"approved"}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),$e({title:"Order approved",description:"Banner ad order approved successfully. You can now activate it."})},onError:y=>{$e({title:"Error",description:y.message||"Failed to approve order",variant:"destructive"})}}),R1=De({mutationFn:async({id:y,adminNotes:W})=>await Ae("PATCH",`/api/admin/banner-ad-orders/${y}/approval`,{approvalStatus:"rejected",adminNotes:W}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),$e({title:"Order rejected",description:"Banner ad order has been rejected."})},onError:y=>{$e({title:"Error",description:y.message||"Failed to reject order",variant:"destructive"})}}),wy=De({mutationFn:async y=>await Ae("DELETE",`/api/marketplace/${y}`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/marketplace"]}),$e({title:"Marketplace listing deleted"}),L(!1),Y(null)}}),tU=()=>{const y=sn.trim();if(!y){M(null),ee(""),Se(null);const Ct=Uu(ot);et.setValue("promoCode",""),et.setValue("discountAmount","0.00"),et.setValue("creationFee",Ct.creationFee.toString()),et.setValue("grandTotal",Ct.grandTotal.toString());return}const W=u6(y);if(!W){M(!1),ee("Invalid or expired promo code"),Se(null);const Ct=Uu(ot);et.setValue("promoCode",""),et.setValue("discountAmount","0.00"),et.setValue("creationFee",Ct.creationFee.toString()),et.setValue("grandTotal",Ct.grandTotal.toString());return}const st=Uu(ot),yt=ok(st.creationFee,st.subscriptionTotal,y);et.setValue("promoCode",W.code),et.setValue("discountAmount",yt.totalDiscount.toFixed(2)),et.setValue("creationFee",yt.finalCreationFee.toFixed(2)),et.setValue("grandTotal",yt.finalGrandTotal.toFixed(2)),M(!0),ee(`Promo code applied! You save $${yt.totalDiscount.toFixed(2)}`),Se(W.code),$e({title:"Promo code applied!",description:W.description})},sU=()=>{B&&(B.type==="aircraft"?fy.mutate(B.id):wy.mutate(B.id))},Ny=De({mutationFn:async()=>await Ae("POST","/api/admin/send-listing-reminders",{}),onSuccess:y=>{$e({title:"Email reminders sent",description:`Successfully sent ${y.emailsSent} emails to users with active listings.`})},onError:()=>{$e({title:"Failed to send reminders",description:"Please try again later.",variant:"destructive"})}}),D1=De({mutationFn:async y=>await Ae("PATCH",`/api/aircraft/${y}/refresh`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),$e({title:"Aircraft listing refreshed"})}}),I1=De({mutationFn:async y=>await Ae("PATCH",`/api/marketplace/${y}/refresh`,{}),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),$e({title:"Marketplace listing refreshed"})}}),nU=y=>{p(y),xt.reset({firstName:y.firstName,lastName:y.lastName,email:y.email,phone:y.phone||"",company:y.company||"",status:y.status,source:y.source,notes:y.notes||""}),b(!0)},rU=y=>{P(y),Ut.reset({category:y.category,amount:y.amount,expenseDate:y.expenseDate?new Date(y.expenseDate):new Date,description:y.description||"",invoiceUrl:y.invoiceUrl||""}),Wi(null),w(!0)},iU=async y=>{var st;let W={...y};if(Ms&&!N)try{const yt=new FormData;yt.append("documents",Ms);const Ct=await fetch("/api/upload-documents",{method:"POST",body:yt,credentials:"include"});if(!Ct.ok){const Tr=await Ct.json();$e({title:"Invoice upload failed",description:Tr.error||"Please try again",variant:"destructive"});return}const pi=await Ct.json();W.invoiceUrl=((st=pi.documentUrls)==null?void 0:st[0])||""}catch(yt){console.error("Invoice upload failed:",yt),$e({title:"Invoice upload failed",description:"Please try again",variant:"destructive"});return}N?hy.mutate({id:N.id,data:W}):uy.mutate(W)},aU=async()=>{if(!Ms){$e({title:"No invoice selected",variant:"destructive"});return}Da(!0);try{const y=new FormData;y.append("invoice",Ms);const W=await fetch("/api/admin/extract-invoice-data",{method:"POST",body:y,credentials:"include"});if(!W.ok){const Ct=await W.json();throw new Error(Ct.error||"Failed to extract data")}const st=await W.json();let yt=0;if(st.amount&&typeof st.amount=="string"&&(Ut.setValue("amount",st.amount),yt++),st.date&&typeof st.date=="string")try{const Ct=new Date(st.date);isNaN(Ct.getTime())||(Ut.setValue("expenseDate",Ct),yt++)}catch{console.warn("Invalid date from OCR:",st.date)}st.description&&typeof st.description=="string"&&(Ut.setValue("description",st.description),yt++),st.category&&["server","database","other"].includes(st.category)&&(Ut.setValue("category",st.category),yt++),yt>0?$e({title:"Invoice data extracted!",description:`${yt} field(s) auto-filled. Please review before saving.`}):$e({title:"Could not extract data",description:"Please enter the information manually.",variant:"destructive"})}catch(y){console.error("OCR extraction error:",y),$e({title:"Failed to extract invoice data",description:y instanceof Error?y.message:"Please try again",variant:"destructive"})}finally{Da(!1)}},oU=y=>{g?dy.mutate({id:g.id,data:y}):cy.mutate(y)},cc=iy.filter(y=>{var W,st,yt,Ct,pi;if(jt!=="all"&&y.status!==jt)return!1;if(be){const Tr=be.toLowerCase();return((W=y.userId)==null?void 0:W.toLowerCase().includes(Tr))||((st=y.paypalEmail)==null?void 0:st.toLowerCase().includes(Tr))||((yt=y.transactionId)==null?void 0:yt.toLowerCase().includes(Tr))||((Ct=y.payoutBatchId)==null?void 0:Ct.toLowerCase().includes(Tr))||((pi=y.amount)==null?void 0:pi.toString().includes(Tr))}return!0});return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-admin-title",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, aircraft listings, and marketplace content"})]}),s.jsxs(pu,{value:n,onValueChange:r,className:"space-y-6",children:[s.jsxs(nc,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-12 h-auto",children:[s.jsxs(kt,{value:"analytics","data-testid":"tab-analytics",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(kn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(kt,{value:"crm","data-testid":"tab-crm",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(vN,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"CRM"})]}),s.jsxs(kt,{value:"users","data-testid":"tab-users",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(rv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Users"})]}),s.jsxs(kt,{value:"verifications","data-testid":"tab-verifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Dn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Verify",yu.length>0&&s.jsx(G,{variant:"destructive",className:"text-xs px-1",children:yu.length})]})]}),s.jsxs(kt,{value:"aircraft","data-testid":"tab-aircraft",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Lt,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Aircraft"})]}),s.jsxs(kt,{value:"marketplace","data-testid":"tab-marketplace",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Wu,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Market",Ho.length>0&&s.jsx(G,{variant:"destructive",className:"text-xs px-1",children:Ho.length})]})]}),s.jsxs(kt,{value:"stale","data-testid":"tab-stale",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(rl,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Stale"})]}),s.jsxs(kt,{value:"promo","data-testid":"tab-promo",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(hh,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Promos"})]}),s.jsxs(kt,{value:"promo-codes","data-testid":"tab-promo-codes",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(nv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Codes"})]}),s.jsxs(kt,{value:"withdrawals","data-testid":"tab-withdrawals",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(rs,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Payouts"})]}),s.jsxs(kt,{value:"notifications","data-testid":"tab-notifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Jj,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Alerts",S1.length>0&&s.jsx(G,{variant:"destructive",className:"text-xs px-1",children:S1.length})]})]}),s.jsxs(kt,{value:"banners","data-testid":"tab-banners",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Jp,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Banners"})]})]}),s.jsxs(It,{value:"analytics",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Revenue Today"}),s.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(fe==null?void 0:fe.revenueToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(fe==null?void 0:fe.transactionsToday)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Revenue This Week"}),s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(fe==null?void 0:fe.revenueWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(fe==null?void 0:fe.transactionsWeek)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Revenue This Month"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(fe==null?void 0:fe.revenueMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(fe==null?void 0:fe.transactionsMonth)||0," transactions"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Revenue This Year"}),s.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(fe==null?void 0:fe.revenueYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(fe==null?void 0:fe.transactionsYear)||0," transactions"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Expenses Today"}),s.jsx(kn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(fe==null?void 0:fe.expensesToday)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Server & database costs"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Expenses This Week"}),s.jsx(kn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(fe==null?void 0:fe.expensesWeek)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform operating costs"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Expenses This Month"}),s.jsx(kn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(fe==null?void 0:fe.expensesMonth)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly operational costs"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Expenses This Year"}),s.jsx(kn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(fe==null?void 0:fe.expensesYear)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual operational costs"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Profit Today"}),s.jsx(rs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(fe==null?void 0:fe.profitToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(fe==null?void 0:fe.profitMarginToday)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Profit This Week"}),s.jsx(rs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(fe==null?void 0:fe.profitWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(fe==null?void 0:fe.profitMarginWeek)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Profit This Month"}),s.jsx(rs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(fe==null?void 0:fe.profitMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(fe==null?void 0:fe.profitMarginMonth)||"0.00","%"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Profit This Year"}),s.jsx(rs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(fe==null?void 0:fe.profitYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(fe==null?void 0:fe.profitMarginYear)||"0.00","%"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Marketplace Overview"}),s.jsx(ke,{children:"Current listing statistics"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wu,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Listings"})]}),s.jsx(G,{className:"bg-chart-2","data-testid":"badge-active-marketplace",children:(fe==null?void 0:fe.totalActiveMarketplaceListings)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"text-sm font-medium",children:"Expired Listings"})]}),s.jsx(G,{variant:"destructive","data-testid":"badge-expired-marketplace",children:(fe==null?void 0:fe.totalExpiredMarketplaceListings)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Listings by Category"}),s.jsx(ke,{children:"Active listings per category"})]}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aviation Jobs"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-job",children:((O1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:O1.job)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aircraft For Sale"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-aircraft-sale",children:((M1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:M1["aircraft-sale"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"CFIs"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-cfi",children:((L1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:L1.cfi)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Flight Schools"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-flight-school",children:(($1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:$1["flight-school"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mechanics"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-mechanic",children:((U1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:U1.mechanic)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Charter Services"}),s.jsx(G,{variant:"outline","data-testid":"badge-category-charter",children:((B1=fe==null?void 0:fe.marketplaceByCategory)==null?void 0:B1.charter)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Commission Details"}),s.jsx(ke,{children:"Ready Set Fly revenue model"})]}),s.jsx(U,{className:"space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Rental Commission:"}),s.jsx("p",{children:" Renter: 7.5%"}),s.jsx("p",{children:" Owner: 7.5%"}),s.jsx("p",{className:"font-medium text-foreground mt-3 mb-2",children:"Marketplace Fees:"}),s.jsx("p",{children:" $25-$250/month per listing"})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Rental Pipeline Overview"}),s.jsx(ke,{children:"Rentals by status"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending"}),s.jsx(G,{variant:"outline","data-testid":"badge-pending-rentals",children:(fe==null?void 0:fe.pendingRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved"}),s.jsx(G,{variant:"outline","data-testid":"badge-approved-rentals",children:(fe==null?void 0:fe.approvedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsx(G,{variant:"outline","data-testid":"badge-active-rentals",children:(fe==null?void 0:fe.activeRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Completed"}),s.jsx(G,{variant:"outline","data-testid":"badge-completed-rentals",children:(fe==null?void 0:fe.completedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cancelled"}),s.jsx(G,{variant:"outline","data-testid":"badge-cancelled-rentals",children:(fe==null?void 0:fe.cancelledRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Grand Total"})]}),s.jsx(G,{className:"bg-chart-1","data-testid":"badge-total-rentals",children:(fe==null?void 0:fe.totalRentals)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Rental Activity - Today"}),s.jsx(ke,{children:"New and active rentals today"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(G,{className:"bg-chart-2","data-testid":"badge-new-rentals-today",children:(fe==null?void 0:fe.newRentalsToday)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uc,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(G,{className:"bg-chart-1","data-testid":"badge-active-rentals-today",children:(fe==null?void 0:fe.activeRentalsToday)||0})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Rental Activity - This Week"}),s.jsx(ke,{children:"New and active rentals this week"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(G,{className:"bg-chart-2","data-testid":"badge-new-rentals-week",children:(fe==null?void 0:fe.newRentalsWeek)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uc,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(G,{className:"bg-chart-1","data-testid":"badge-active-rentals-week",children:(fe==null?void 0:fe.activeRentalsWeek)||0})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth & Engagement"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(rv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(ct==null?void 0:ct.totalUsers)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Verified Users"}),s.jsx(ws,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-2","data-testid":"text-verified-users",children:(ct==null?void 0:ct.verifiedUsers)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[((V1=ct==null?void 0:ct.verificationRate)==null?void 0:V1.toFixed(1))||"0.0","% verified"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Active Owners"}),s.jsx(Lt,{className:"h-4 w-4 text-chart-1"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-1","data-testid":"text-active-owners",children:(ct==null?void 0:ct.activeListingOwners)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"With active listings"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Active Renters"}),s.jsx(uc,{className:"h-4 w-4 text-chart-3"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-3","data-testid":"text-active-renters",children:(ct==null?void 0:ct.activeRenters)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed rentals"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New User Registrations"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Today"}),s.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-today",children:(ct==null?void 0:ct.newUsersToday)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"New signups today"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"This Week"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-week",children:(ct==null?void 0:ct.newUsersThisWeek)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"This Month"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-month",children:(ct==null?void 0:ct.newUsersThisMonth)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Geographic Distribution"}),s.jsx(ke,{children:"Users by location (top 10 states)"})]}),s.jsxs(U,{children:[vu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading geographic data..."}),!vu&&(!((z1=ct==null?void 0:ct.geographic)!=null&&z1.byState)||ct.geographic.byState.length===0)&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No geographic data available yet"}),!vu&&((H1=ct==null?void 0:ct.geographic)==null?void 0:H1.byState)&&ct.geographic.byState.length>0&&s.jsx("div",{className:"space-y-3",children:ct.geographic.byState.map(({state:y,count:W},st)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:"outline",className:"w-8 text-center",children:st+1}),s.jsx("span",{className:"text-sm font-medium",children:y})]}),s.jsxs(G,{"data-testid":`badge-state-${y}`,children:[W," users"]})]},y))})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"User Retention"}),s.jsx(ke,{children:"Returning vs. one-time users"})]}),s.jsxs(U,{children:[vu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading retention data..."}),!vu&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uc,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Returning Users"})]}),s.jsx(G,{className:"bg-chart-2","data-testid":"badge-returning-users",children:((q1=ct==null?void 0:ct.retention)==null?void 0:q1.returningUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rv,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"One-Time Users"})]}),s.jsx(G,{variant:"outline","data-testid":"badge-onetime-users",children:((W1=ct==null?void 0:ct.retention)==null?void 0:W1.oneTimeUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),s.jsxs(G,{className:"bg-chart-1","data-testid":"badge-retention-rate",children:[((G1=(K1=ct==null?void 0:ct.retention)==null?void 0:K1.retentionRate)==null?void 0:G1.toFixed(1))||"0.0","%"]})]})]})]})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(J,{children:"Expense Tracking"}),s.jsx(ke,{children:"Track server, database, and operational costs"})]}),s.jsxs(O,{onClick:()=>{Ut.reset(),P(null),w(!0)},"data-testid":"button-add-expense",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Add Expense"]})]}),s.jsxs(U,{children:[ry&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading expenses..."}),!ry&&ny.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No expenses tracked yet. Add your first expense to start tracking costs."}),!ry&&ny.length>0&&s.jsx("div",{className:"border rounded-md",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Date"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Category"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Description"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Invoice"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Amount"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:ny.map(y=>s.jsxs("tr",{className:"border-b last:border-0","data-testid":`expense-row-${y.id}`,children:[s.jsx("td",{className:"p-3 text-sm","data-testid":`text-date-${y.id}`,children:y.expenseDate?new Date(y.expenseDate).toLocaleDateString():""}),s.jsx("td",{className:"p-3",children:s.jsx(G,{variant:"outline",className:"capitalize","data-testid":`badge-category-${y.id}`,children:y.category})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground","data-testid":`text-description-${y.id}`,children:y.description||""}),s.jsx("td",{className:"p-3 text-sm",children:y.invoiceUrl?s.jsxs("a",{href:y.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1","data-testid":`link-invoice-${y.id}`,children:[s.jsx(Fn,{className:"h-4 w-4"}),"View"]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsxs("td",{className:"p-3 text-sm text-right font-medium text-destructive","data-testid":`text-amount-${y.id}`,children:["$",y.amount]}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>rU(y),"data-testid":`button-edit-expense-${y.id}`,children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(O,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this expense?")&&q6.mutate(y.id)},"data-testid":`button-delete-expense-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4 text-destructive"})})]})})]},y.id))})]})})]})]}),I6&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]}),s.jsxs(It,{value:"crm",className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(J,{children:"Sales & Marketing CRM"}),s.jsx(ke,{children:"Manage leads, contacts, and deal pipeline"})]}),s.jsxs(O,{onClick:()=>{xt.reset(),p(null),b(!0)},"data-testid":"button-add-lead",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),s.jsxs(U,{children:[sy&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading leads..."}),!sy&&qo.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No leads yet. Add your first lead to get started."}),!sy&&qo.length>0&&s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Company"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Status"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Source"}),s.jsx("th",{className:"text-right p-3 font-medium text-sm",children:"Actions"})]})}),s.jsx("tbody",{children:qo.map(y=>s.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-lead-${y.id}`,children:[s.jsxs("td",{className:"p-3",children:[s.jsxs("div",{className:"font-medium",children:[y.firstName," ",y.lastName]}),y.phone&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(ex,{className:"h-3 w-3"}),y.phone]})]}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(qd,{className:"h-3 w-3"}),y.email]})}),s.jsx("td",{className:"p-3 text-sm",children:y.company||"-"}),s.jsx("td",{className:"p-3",children:s.jsx(G,{variant:y.status==="won"?"default":y.status==="lost"?"destructive":y.status==="new"?"secondary":"outline",children:y.status})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:y.source||"-"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>nU(y),"data-testid":`button-edit-lead-${y.id}`,children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&H6.mutate(y.id)},"data-testid":`button-delete-lead-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})})]},y.id))})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(jz,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:qo.length})})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"New Leads"}),s.jsx(uc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:qo.filter(y=>y.status==="new").length})})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"Won"}),s.jsx(ws,{className:"h-4 w-4 text-chart-2"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:qo.filter(y=>y.status==="won").length})})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(J,{className:"text-sm font-medium",children:"In Progress"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:qo.filter(y=>["contacted","qualified","proposal","negotiation"].includes(y.status)).length})})]})]})]}),s.jsx(It,{value:"verifications",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Verification Review Queue"}),s.jsx(ke,{children:"Review and approve user verification submissions"})]}),s.jsxs(U,{children:[ty&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading verifications..."}),!ty&&yu.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending verification submissions"}),!ty&&yu.length>0&&s.jsx("div",{className:"space-y-3",children:yu.map(y=>{var st;const W=y.submissionData;return s.jsx($,{"data-testid":`card-verification-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(G,{variant:"outline",children:y.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"font-semibold text-foreground mb-1",children:[W.legalFirstName," ",W.legalLastName]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["User ID: ",y.userId]}),s.jsxs("div",{children:["DOB: ",W.dateOfBirth]}),W.faaCertificateNumber&&s.jsxs("div",{children:["FAA Certificate: ",W.faaCertificateNumber]}),s.jsxs("div",{children:["Documents: ",((st=y.documentUrls)==null?void 0:st.length)||0," files"]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>{a(y),l(!0)},"data-testid":`button-review-${y.id}`,children:[s.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Review"]})})]})})},y.id)})})]})]})}),s.jsx(It,{value:"users",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Search Users"}),s.jsx(ke,{children:"Search by first name, last name, or email"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"flex gap-2 mb-6",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(q,{placeholder:"Search users...",value:t,onChange:y=>e(y.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),ic&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching..."}),!ic&&t&&rc.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No users found matching "',t,'"']}),!ic&&rc.length>0&&s.jsx("div",{className:"space-y-3",children:rc.map(y=>{var W,st;return s.jsx($,{"data-testid":`card-user-${y.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>{h(y.id),x(!0)},children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Li,{children:[s.jsx($i,{src:y.profileImageUrl||void 0}),s.jsxs(Ui,{children:[(W=y.firstName)==null?void 0:W[0],(st=y.lastName)==null?void 0:st[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[y.firstName," ",y.lastName,y.isAdmin&&s.jsx(G,{className:"ml-2",variant:"default",children:"Admin"}),y.isVerified&&s.jsx(G,{className:"ml-2",variant:"secondary",children:"Verified"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:y.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",y.id,"  Joined: ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"","  Flight Hours: ",y.totalFlightHours]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Verified:"," ",y.emailVerified?"Email ":"Email "," "," ",y.phoneVerified?"Phone ":"Phone "," "," ",y.identityVerified?"Identity ":"Identity "," "," ",y.paymentVerified?"Payment ":"Payment "," "," ",y.isVerified?"Approved ":"Approved "]})]})]})})},y.id)})}),!t&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Enter a search term to find users"})]})]})}),s.jsx(It,{value:"aircraft",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"All Aircraft Listings"}),s.jsx(ke,{children:"View and manage all aircraft rental listings"})]}),s.jsxs(U,{children:[gu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}),!gu&&ac.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No aircraft listings found"}),!gu&&ac.length>0&&s.jsx("div",{className:"space-y-3",children:ac.map(y=>s.jsx("div",{"data-testid":`card-aircraft-${y.id}`,className:"border rounded-lg overflow-visible hover-elevate cursor-pointer transition-all",onClick:()=>C(y),children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[y.images&&y.images.length>0&&s.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:y.images[0],alt:`${y.make} ${y.model}`,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[y.year," ",y.make," ",y.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.registration,"  ",y.location]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",y.hourlyRate,"/hr  Owner ID: ",y.ownerId]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:W=>W.stopPropagation(),children:[s.jsx(G,{variant:y.isListed?"default":"secondary",children:y.isListed?"Listed":"Unlisted"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>_1.mutate({id:y.id,isListed:!y.isListed}),"data-testid":`button-toggle-aircraft-${y.id}`,children:y.isListed?"Unlist":"List"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Y({type:"aircraft",id:y.id}),L(!0)},"data-testid":`button-delete-aircraft-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]})]})}),s.jsxs(It,{value:"marketplace",className:"space-y-4",children:[Ho.length>0&&s.jsxs($,{className:"border-destructive",children:[s.jsxs(X,{children:[s.jsxs(J,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-destructive"}),"Flagged Listings (",Ho.length,")"]}),s.jsx(ke,{children:"Listings with 5+ fraud/spam reports - review and remove if necessary"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-3",children:Ho.map(y=>s.jsx("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20","data-testid":`flagged-listing-${y.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsxs(G,{variant:"destructive",className:"text-xs",children:[y.flagCount," flags"]}),!y.isActive&&s.jsx(G,{variant:"outline",className:"text-xs",children:"Inactive"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Category: ",y.category,"  Location: ",y.location||y.city]}),s.jsx("p",{className:"text-sm line-clamp-2",children:y.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(O,{variant:"outline",size:"sm",onClick:()=>{D(y)},"data-testid":`button-review-flagged-${y.id}`,children:"Review"}),s.jsx(O,{variant:"destructive",size:"sm",onClick:()=>{Y({type:"marketplace",id:y.id}),L(!0)},"data-testid":`button-remove-flagged-${y.id}`,children:"Remove"})]})]})},y.id))})})]}),s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{children:"All Marketplace Listings"}),s.jsx(ke,{children:"View and manage all marketplace listings"})]}),s.jsxs(O,{size:"sm",variant:"outline",onClick:()=>py.mutate({}),disabled:py.isPending,"data-testid":"button-admin-free-listing",children:[s.jsx(hh,{className:"h-4 w-4 mr-2"}),py.isPending?"Preparing...":"Create Free Listing"]})]}),s.jsxs(U,{children:[lc&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}),!lc&&oc.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No marketplace listings found"}),!lc&&oc.length>0&&s.jsx("div",{className:"space-y-3",children:oc.map(y=>s.jsx($,{"data-testid":`card-marketplace-${y.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>D(y),children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-foreground",children:y.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.category,"  ",y.location||"No location"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[y.price&&`$${y.price}`,"  User ID: ",y.userId,y.monthlyFee==="0"&&"  FREE"]})]}),s.jsxs("div",{className:"flex items-center gap-2",onClick:W=>W.stopPropagation(),children:[s.jsx(G,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>k1.mutate({id:y.id,isActive:!y.isActive}),"data-testid":`button-toggle-marketplace-${y.id}`,children:y.isActive?"Deactivate":"Activate"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Y({type:"marketplace",id:y.id}),L(!0)},"data-testid":`button-delete-marketplace-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]})})},y.id))})]})]})]}),s.jsx(It,{value:"stale",className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx($,{children:s.jsx(X,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(J,{children:"Monthly Email Reminders"}),s.jsx(ke,{children:"Send email reminders to all users with active listings to review and refresh their listings"})]}),s.jsxs(O,{onClick:()=>Ny.mutate(),disabled:Ny.isPending,"data-testid":"button-send-reminders",children:[s.jsx(qd,{className:"h-4 w-4 mr-2"}),Ny.isPending?"Sending...":"Send Reminders Now"]})]})})}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Stale Listings (60+ Days Without Refresh)"}),s.jsx(ke,{children:"These listings haven't been refreshed by their owners in over 60 days"})]}),s.jsx(U,{children:L6?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):!Ki||Ki.aircraft.length===0&&Ki.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ws,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No stale listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Ki.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Aircraft Listings (",Ki.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ki.aircraft.map(y=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(rl,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[y.make," ",y.model," - ",y.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location}),y.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(y.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:y.isListed?"default":"secondary",children:y.isListed?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>D1.mutate(y.id),disabled:D1.isPending,"data-testid":`button-refresh-aircraft-${y.id}`,children:s.jsx(tx,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]}),Ki.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Wu,{className:"h-4 w-4"}),"Marketplace Listings (",Ki.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Ki.marketplace.map(y=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(rl,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.category.replace("-"," ")," - ",y.city]}),y.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(y.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>I1.mutate(y.id),disabled:I1.isPending,"data-testid":`button-refresh-marketplace-${y.id}`,children:s.jsx(tx,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]})]})})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Orphaned Listings"}),s.jsx(ke,{children:"Listings where the owner account no longer exists or is suspended"})]}),s.jsx(U,{children:$6?s.jsx("div",{className:"space-y-4",children:[1,2].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):!Gi||Gi.aircraft.length===0&&Gi.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ws,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orphaned listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Gi.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"Aircraft Listings (",Gi.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Gi.aircraft.map(y=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(pa,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[y.make," ",y.model," - ",y.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location}),s.jsx(G,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Y({type:"aircraft",id:y.id}),L(!0)},"data-testid":`button-delete-orphaned-aircraft-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})})]})})},y.id))})]}),Gi.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Wu,{className:"h-4 w-4"}),"Marketplace Listings (",Gi.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Gi.marketplace.map(y=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(pa,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.category.replace("-"," ")," - ",y.city]}),s.jsx(G,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{Y({type:"marketplace",id:y.id}),L(!0)},"data-testid":`button-delete-orphaned-marketplace-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})})]})})},y.id))})]})]})})]})]})}),s.jsx(It,{value:"promo",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(J,{children:"Promotional Alerts"}),s.jsx(ke,{children:"Manage promotional banners and announcements that appear on the marketplace"})]}),s.jsxs(O,{onClick:()=>{he(null),vn.reset(),H(!0)},"data-testid":"button-add-promo",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Add Promo"]})]})}),s.jsx(U,{children:O6?s.jsx("div",{className:"space-y-4",children:[1,2].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):j1.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No promotional alerts configured"})}):s.jsx("div",{className:"space-y-4",children:j1.map(y=>s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30",children:s.jsx(hh,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.message}),y.promoCode&&s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-muted rounded-md",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Code:"}),s.jsx("span",{className:"font-mono font-semibold text-sm",children:y.promoCode})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:y.isEnabled?"default":"secondary",children:y.isEnabled?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>P1.mutate({id:y.id,isEnabled:!y.isEnabled}),disabled:P1.isPending,"data-testid":`button-toggle-promo-${y.id}`,children:y.isEnabled?"Disable":"Enable"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[y.showOnMainPage&&s.jsx(G,{variant:"outline",children:"Main Page"}),y.showOnCategoryPages&&s.jsx(G,{variant:"outline",children:"Category Pages"}),y.targetCategories&&y.targetCategories.length>0&&s.jsxs(G,{variant:"outline",children:[y.targetCategories.length," Categories"]})]})]})]})})},y.id))})})]})}),s.jsx(It,{value:"promo-codes",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(J,{children:"Promo Codes Management"}),s.jsx(ke,{children:"Create and manage promotional discount codes"})]}),s.jsxs(O,{onClick:()=>{de(null),Bt.reset(),R(!0)},"data-testid":"button-add-promo-code",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Add Promo Code"]})]})}),s.jsxs(U,{children:[s.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(q,{placeholder:"Search promo codes...",value:A,onChange:y=>xe(y.target.value),"data-testid":"input-promo-code-search"})})}),M6?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>s.jsx("div",{className:"h-32 rounded-lg bg-muted animate-pulse"},y))}):b1.filter(y=>{var W;return A===""||y.code.toLowerCase().includes(A.toLowerCase())||((W=y.description)==null?void 0:W.toLowerCase().includes(A.toLowerCase()))}).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nv,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:A?"No promo codes match your search":"No promo codes configured"})]}):s.jsx("div",{className:"space-y-4",children:b1.filter(y=>{var W;return A===""||y.code.toLowerCase().includes(A.toLowerCase())||((W=y.description)==null?void 0:W.toLowerCase().includes(A.toLowerCase()))}).map(y=>{const W=!!(y.validUntil&&new Date(y.validUntil)<new Date),st=y.usedCount||0,yt=y.maxUses||"";return s.jsx($,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(nv,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"px-3 py-1 bg-muted rounded-md font-mono font-bold text-lg",children:y.code}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(y.code),$e({title:"Promo code copied to clipboard"})},"data-testid":`button-copy-code-${y.id}`,children:s.jsx(Fn,{className:"h-4 w-4"})})]}),y.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:y.isActive&&!W?"default":"secondary","data-testid":`badge-status-${y.id}`,children:W?"Expired":y.isActive?"Active":"Inactive"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>T1.mutate({id:y.id,isActive:!(y.isActive??!1)}),disabled:!!T1.isPending||!!W,"data-testid":`button-toggle-promo-code-${y.id}`,children:y.isActive?"Disable":"Enable"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{de(y),Bt.reset({code:y.code,description:y.description||"",discountType:y.discountType,discountValue:y.discountValue||"",maxUses:y.maxUses||void 0,validFrom:y.validFrom?new Date(y.validFrom):new Date,validUntil:y.validUntil?new Date(y.validUntil):void 0,isActive:y.isActive??void 0,applicableToBannerAds:!!y.applicableToBannerAds,applicableToMarketplace:!!y.applicableToMarketplace}),R(!0)},"data-testid":`button-edit-promo-code-${y.id}`,children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete promo code "${y.code}"?`)&&E1.mutate(y.id)},disabled:E1.isPending,"data-testid":`button-delete-promo-code-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),s.jsx("p",{className:"font-semibold",children:y.discountType==="percentage"?`${y.discountValue}%`:`$${y.discountValue}`})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid From"}),s.jsx("p",{className:"text-sm",children:y.validFrom?new Date(y.validFrom).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid To"}),s.jsx("p",{className:"text-sm",children:y.validUntil?new Date(y.validUntil).toLocaleDateString():"No expiry"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Usage"}),s.jsxs("p",{className:"font-semibold",children:[st," / ",yt]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.applicableToBannerAds&&s.jsx(G,{variant:"outline","data-testid":`badge-banner-${y.id}`,children:"Banner Ads"}),y.applicableToMarketplace&&s.jsx(G,{variant:"outline","data-testid":`badge-marketplace-${y.id}`,children:"Marketplace"})]})]})]})})},y.id)})})]})]})}),s.jsx(It,{value:"withdrawals",className:"space-y-6",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-withdrawal-requests",children:"Owner Payouts Dashboard"}),s.jsx(ke,{children:"Monitor and track all automated payouts to aircraft owners"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(q,{placeholder:"Search by user ID, email, transaction ID...",value:be,onChange:y=>ze(y.target.value),"data-testid":"input-withdrawal-search"})}),s.jsxs(Vs,{value:jt,onValueChange:bt,children:[s.jsx(As,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(zs,{placeholder:"Filter by status"})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"all",children:"All Statuses"}),s.jsx(Pe,{value:"completed",children:"Completed"}),s.jsx(Pe,{value:"processing",children:"Processing"}),s.jsx(Pe,{value:"failed",children:"Failed"})]})]})]}),!w1&&iy.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Payouts"}),s.jsx("div",{className:"text-2xl font-bold",children:cc.length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:cc.filter(y=>y.status==="completed").length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:cc.filter(y=>y.status==="failed").length})]}),s.jsxs($,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",cc.filter(y=>y.status==="completed").reduce((y,W)=>y+parseFloat(W.amount),0).toFixed(2)]})]})]}),w1?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading withdrawal history..."}):iy.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-withdrawals",children:"No withdrawal history yet"}):cc.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No withdrawals match your search criteria"}):s.jsx("div",{className:"space-y-4",children:cc.map(y=>s.jsx($,{className:"p-4","data-testid":`card-withdrawal-${y.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-lg","data-testid":`text-amount-${y.id}`,children:["$",parseFloat(y.amount).toFixed(2)]}),s.jsx(G,{variant:y.status==="completed"?"default":y.status==="processing"?"secondary":y.status==="failed"?"destructive":"outline","data-testid":`badge-status-${y.id}`,children:y.status})]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",y.userId]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"PayPal Email:"})," ",y.paypalEmail]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Requested:"})," ",new Date(y.requestedAt).toLocaleString()]}),y.processedAt&&s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Processed:"})," ",new Date(y.processedAt).toLocaleString()]}),y.payoutBatchId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",y.payoutBatchId]}),y.transactionId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"})," ",y.transactionId]}),y.failureReason&&s.jsxs("p",{className:"text-sm text-destructive",children:[s.jsx("span",{className:"font-medium",children:"Failure Reason:"})," ",y.failureReason]})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("p",{children:"Automated Payout"}),y.status==="completed"&&s.jsx("p",{className:"text-green-600 font-medium",children:" Sent"}),y.status==="failed"&&s.jsx("p",{className:"text-red-600 font-medium",children:" Failed"}),y.status==="processing"&&s.jsx("p",{className:"text-blue-600 font-medium",children:" Processing"})]})]})},y.id))})]})]})}),s.jsxs(It,{value:"notifications",className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"System Tools"}),s.jsx(ke,{children:"Run maintenance tasks without leaving the dashboard."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(O,{variant:"outline",onClick:()=>my.mutate(),disabled:my.isPending,"data-testid":"button-sync-approach-plates",children:my.isPending?"Syncing plates...":"Sync Approach Plates Now"}),s.jsx(G,{variant:"outline",children:"FAA d-TPP"})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-notifications",children:"Admin Notifications"}),s.jsx(ke,{children:"System alerts for listing thresholds and important events"})]}),s.jsx(U,{children:U6?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading notifications..."})}):N1.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jj,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]}):s.jsx("div",{className:"space-y-3",children:N1.map(y=>{var W;return s.jsx($,{className:y.isRead?"opacity-60":"border-primary","data-testid":`notification-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:y.title}),!y.isRead&&s.jsx(G,{variant:"destructive",className:"text-xs",children:"New"}),y.type==="listing_threshold"&&s.jsx(G,{variant:"secondary",className:"text-xs",children:"Threshold Alert"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.message}),y.listingCount&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Category: ",(W=y.category)==null?void 0:W.replace("-"," ").toUpperCase()]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Count: ",y.listingCount]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Threshold: ",y.threshold]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(y.createdAt).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!y.isRead&&s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>W6.mutate(y.id),"data-testid":`button-mark-read-${y.id}`,children:s.jsx(ws,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>K6.mutate(y.id),"data-testid":`button-delete-notification-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]})})},y.id)})})})]})]}),s.jsxs(It,{value:"banners",className:"space-y-6",children:[s.jsxs($,{children:[s.jsxs(X,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{"data-testid":"heading-banner-orders",children:"Banner Ad Orders"}),s.jsx(ke,{children:"Manage sponsor orders, track payments, and activate banner campaigns"})]}),s.jsxs(O,{onClick:()=>{Ke(null),Mt(""),et.reset(),Te(!0)},"data-testid":"button-create-order",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),s.jsxs(U,{children:[ay.some(y=>y.paymentStatus!=="paid")&&s.jsx("div",{className:"mb-4 rounded-lg border border-destructive/40 bg-destructive/5 p-4 text-sm text-destructive","data-testid":"alert-unpaid-banner-orders",children:"Some banner orders are unpaid. Capture payment (PayPal) before approval and activation."}),V6?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):ay.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Orders Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:"Create banner ad orders to manage sponsor billing and campaign activation."}),s.jsxs(O,{onClick:()=>{Ke(null),Mt(""),et.reset(),Te(!0)},"data-testid":"button-create-first-order",children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Create First Order"]})]}):s.jsx("div",{className:"space-y-4",children:ay.map(y=>s.jsx($,{"data-testid":`order-card-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[y.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsx(G,{variant:y.approvalStatus==="approved"?"default":y.approvalStatus==="rejected"?"destructive":y.approvalStatus==="sent"?"secondary":"outline",children:y.approvalStatus}),s.jsx(G,{variant:y.paymentStatus==="paid"?"default":y.paymentStatus==="refunded"?"destructive":"outline",children:y.paymentStatus}),s.jsx(G,{variant:"outline",className:"capitalize",children:y.tier.replace(/(\d+)month/,"$1 Month")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Sponsor:"})," ",y.sponsorName,y.sponsorCompany&&` (${y.sponsorCompany})`]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",y.sponsorEmail]}),y.description&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",y.description]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"font-medium",children:["Total: $",y.grandTotal]}),y.placements&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Placements:"})," ",y.placements.length," pages"]}),y.paypalPaymentDate&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Paid:"})," ",new Date(y.paypalPaymentDate).toLocaleDateString()]})]}),y.adminNotes&&s.jsxs("p",{className:"text-xs italic",children:[s.jsx("span",{className:"font-medium",children:"Notes:"})," ",y.adminNotes]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y.paymentStatus==="paid"&&(y.approvalStatus==="draft"||y.approvalStatus==="sent"||y.approvalStatus==="pending_review")&&s.jsxs(s.Fragment,{children:[s.jsxs(O,{size:"sm",variant:"default",onClick:()=>F1.mutate(y.id),disabled:F1.isPending,"data-testid":`button-approve-order-${y.id}`,children:[s.jsx(ws,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(O,{size:"sm",variant:"destructive",onClick:()=>{const W=prompt("Rejection reason (optional):");W!==null&&R1.mutate({id:y.id,adminNotes:W||void 0})},disabled:R1.isPending,"data-testid":`button-reject-order-${y.id}`,children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),y.paymentStatus==="paid"&&y.approvalStatus==="approved"&&(C1(y.id)?s.jsxs(G,{variant:"secondary",className:"cursor-not-allowed","data-testid":`badge-activated-${y.id}`,children:[s.jsx(ws,{className:"h-3 w-3 mr-1"}),"Already Activated"]}):s.jsxs(O,{size:"sm",variant:"default",onClick:()=>A1.mutate(y.id),disabled:A1.isPending,"data-testid":`button-activate-order-${y.id}`,children:[s.jsx(hz,{className:"h-4 w-4 mr-1"}),"Activate"]})),!C1(y.id)&&s.jsxs(O,{size:"sm",variant:"ghost",onClick:()=>{if(Ke(y),Mt(y.imageUrl??""),Tt(y.tier),y.promoCode){os(y.promoCode),Se(y.promoCode),M(!0);const W=parseFloat(y.discountAmount||"0");ee(`Promo code applied! You save $${W.toFixed(2)}`)}else os(""),Se(null),M(null),ee("");et.reset({sponsorName:y.sponsorName,sponsorEmail:y.sponsorEmail,sponsorCompany:y.sponsorCompany??"",title:y.title,description:y.description??"",imageUrl:y.imageUrl??"",link:y.link??"",placements:y.placements??[],category:y.category??void 0,tier:y.tier,monthlyRate:y.monthlyRate,totalAmount:y.totalAmount,creationFee:y.creationFee,promoCode:y.promoCode??"",discountAmount:y.discountAmount??"0.00",grandTotal:y.grandTotal,approvalStatus:y.approvalStatus,paymentStatus:y.paymentStatus??void 0,adminNotes:y.adminNotes??""}),Te(!0)},"data-testid":`button-edit-order-${y.id}`,children:[s.jsx(ha,{className:"h-4 w-4 mr-1"}),"Edit Order Details"]}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this order?")&&eU.mutate(y.id)},"data-testid":`button-delete-order-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]})})},y.id))})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-banners",children:"Live Banner Ads"}),s.jsx(ke,{children:"View and manage active banner campaigns created from paid orders. Banner ads are automatically created when you activate a paid Banner Ad Order."})]}),s.jsx(U,{children:B6?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading banner ads..."})}):ff.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jp,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Live Banner Ads"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Banner ads appear here when you activate paid orders from the Banner Ad Orders section. Create an order, get payment from the sponsor, then activate it to create a live banner ad."})]}):s.jsx("div",{className:"space-y-4",children:ff.map(y=>s.jsx($,{"data-testid":`banner-card-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[y.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsx(G,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),y.placements&&y.placements.length>0&&s.jsx(G,{variant:"outline",className:"capitalize",children:y.placements[0].replace("_"," ")}),y.category&&s.jsx(G,{variant:"outline",className:"capitalize",children:y.category.replace("-"," ")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[y.link&&s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"font-medium",children:"Link URL:"})," ",y.link]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:[s.jsx(rl,{className:"h-3 w-3 inline mr-1"}),new Date(y.startDate).toLocaleDateString(),y.endDate&&` - ${new Date(y.endDate).toLocaleDateString()}`]}),s.jsxs("span",{children:[s.jsx(Sa,{className:"h-3 w-3 inline mr-1"}),y.impressions??0," impressions"]}),s.jsxs("span",{children:[s.jsx(uc,{className:"h-3 w-3 inline mr-1"}),y.clicks??0," clicks"]}),(y.impressions??0)>0&&s.jsxs("span",{className:"text-primary",children:["CTR: ",((y.clicks??0)/(y.impressions??0)*100).toFixed(2),"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>J6.mutate({id:y.id,isActive:!y.isActive}),"data-testid":`button-toggle-banner-${y.id}`,children:y.isActive?s.jsx(er,{className:"h-4 w-4"}):s.jsx(ws,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{je(y),ie(y.imageUrl||""),js.reset({title:y.title,imageUrl:y.imageUrl||"",link:y.link??"",description:y.description??"",placements:y.placements||[],category:y.category||void 0,listingId:y.listingId||void 0,listingType:y.listingType||void 0,isActive:y.isActive,startDate:y.startDate?new Date(y.startDate):new Date,endDate:y.endDate?new Date(y.endDate):void 0}),it(!0)},"data-testid":`button-edit-banner-${y.id}`,children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(O,{size:"sm",variant:"ghost",onClick:()=>{confirm(`Are you sure you want to delete the banner ad "${y.title}"?`)&&Z6.mutate(y.id)},"data-testid":`button-delete-banner-${y.id}`,children:s.jsx(Cn,{className:"h-4 w-4"})})]})]})})},y.id))})})]})]})]}),s.jsx(Qt,{open:o,onOpenChange:y=>{l(y),y||(a(null),d(""))},children:s.jsxs(Wt,{className:"max-w-2xl",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Review Verification Submission"}),s.jsx(ss,{children:"Review the submitted documents and information carefully before approving or rejecting."})]}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Submission Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",i.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(G,{variant:"outline",children:i.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"})," ",i.createdAt?new Date(i.createdAt).toLocaleString():"Unknown"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",i.userId]})]})]}),(()=>{const y=i.submissionData;return s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Legal Name:"})," ",y.legalFirstName," ",y.legalLastName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",y.dateOfBirth]}),y.faaCertificateNumber&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"FAA Certificate:"})," ",y.faaCertificateNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Certificate Name:"})," ",y.pilotCertificateName]})]})]})]})})(),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold",children:["Documents (",((Y1=i.documentUrls)==null?void 0:Y1.length)||0,")"]}),s.jsx("div",{className:"space-y-1 text-sm",children:(i.documentUrls||[]).map((y,W)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:"secondary",className:"text-xs",children:["Document ",W+1]}),s.jsx("span",{className:"text-muted-foreground truncate",children:y})]},W))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Document URLs are placeholders. In production, these will link to cloud storage."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"rejection-notes",children:"Rejection Notes (optional)"}),s.jsx(ns,{id:"rejection-notes",placeholder:"Provide feedback on why this verification is being rejected...",value:c,onChange:y=>d(y.target.value),rows:3,"data-testid":"textarea-rejection-notes"})]})]}),s.jsxs(hn,{className:"gap-2",children:[s.jsx(O,{variant:"outline",onClick:()=>{l(!1),d("")},children:"Cancel"}),s.jsxs(O,{variant:"destructive",onClick:()=>{i&&ly.mutate({id:i.id,notes:c||"No reason provided"})},disabled:ly.isPending,"data-testid":"button-reject-verification",children:[s.jsx(er,{className:"h-4 w-4 mr-2"}),ly.isPending?"Rejecting...":"Reject"]}),s.jsxs(O,{onClick:()=>{i&&oy.mutate(i.id)},disabled:oy.isPending,"data-testid":"button-approve-verification",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),oy.isPending?"Approving...":"Approve"]})]})]})}),s.jsx(Qt,{open:v,onOpenChange:b,children:s.jsxs(Wt,{className:"max-w-2xl","data-testid":"dialog-lead-form",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:g?"Edit Lead":"Add New Lead"}),s.jsx(ss,{children:g?"Update lead information":"Add a new sales lead to your CRM"})]}),s.jsx(Qr,{...xt,children:s.jsxs("form",{onSubmit:xt.handleSubmit(oU),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:xt.control,name:"firstName",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"First Name"}),s.jsx(oe,{children:s.jsx(q,{...y,"data-testid":"input-lead-first-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:xt.control,name:"lastName",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Last Name"}),s.jsx(oe,{children:s.jsx(q,{...y,"data-testid":"input-lead-last-name"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:xt.control,name:"email",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Email"}),s.jsx(oe,{children:s.jsx(q,{type:"email",...y,"data-testid":"input-lead-email"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:xt.control,name:"phone",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Phone"}),s.jsx(oe,{children:s.jsx(q,{...y,value:y.value||"","data-testid":"input-lead-phone"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:xt.control,name:"company",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Company"}),s.jsx(oe,{children:s.jsx(q,{...y,value:y.value||"","data-testid":"input-lead-company"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:xt.control,name:"status",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Status"}),s.jsxs(Vs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-lead-status",children:s.jsx(zs,{placeholder:"Select status"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"new",children:"New"}),s.jsx(Pe,{value:"contacted",children:"Contacted"}),s.jsx(Pe,{value:"qualified",children:"Qualified"}),s.jsx(Pe,{value:"proposal",children:"Proposal"}),s.jsx(Pe,{value:"negotiation",children:"Negotiation"}),s.jsx(Pe,{value:"won",children:"Won"}),s.jsx(Pe,{value:"lost",children:"Lost"})]})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:xt.control,name:"source",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Source"}),s.jsxs(Vs,{onValueChange:y.onChange,value:y.value||"",children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-lead-source",children:s.jsx(zs,{placeholder:"Select source"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"website",children:"Website"}),s.jsx(Pe,{value:"referral",children:"Referral"}),s.jsx(Pe,{value:"social_media",children:"Social Media"}),s.jsx(Pe,{value:"advertising",children:"Advertising"}),s.jsx(Pe,{value:"cold_outreach",children:"Cold Outreach"}),s.jsx(Pe,{value:"event",children:"Event"}),s.jsx(Pe,{value:"other",children:"Other"})]})]}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:xt.control,name:"notes",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Notes"}),s.jsx(oe,{children:s.jsx(ns,{...y,value:y.value||"","data-testid":"textarea-lead-notes",placeholder:"Add any notes about this lead...",rows:4})}),s.jsx(ce,{})]})}),s.jsxs(hn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{b(!1),xt.reset(),p(null)},children:"Cancel"}),s.jsx(O,{type:"submit",disabled:cy.isPending||dy.isPending,"data-testid":"button-submit-lead",children:cy.isPending||dy.isPending?"Saving...":g?"Update Lead":"Create Lead"})]})]})})]})}),s.jsx(Qt,{open:j,onOpenChange:w,children:s.jsxs(Wt,{className:"max-w-md","data-testid":"dialog-expense-form",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:N?"Edit Expense":"Add New Expense"}),s.jsx(ss,{children:N?"Update expense information":"Track a new expense"})]}),s.jsx(Qr,{...Ut,children:s.jsxs("form",{onSubmit:Ut.handleSubmit(iU),className:"space-y-4",children:[s.jsx(ae,{control:Ut.control,name:"category",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Category"}),s.jsxs(Vs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-expense-category",children:s.jsx(zs,{placeholder:"Select category"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"server",children:"Server"}),s.jsx(Pe,{value:"database",children:"Database"}),s.jsx(Pe,{value:"other",children:"Other"})]})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Ut.control,name:"amount",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Amount ($)"}),s.jsx(oe,{children:s.jsx(q,{...y,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-expense-amount"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Ut.control,name:"expenseDate",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Date"}),s.jsx(oe,{children:s.jsx(q,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):new Date),"data-testid":"input-expense-date"})}),s.jsx(ce,{})]})}),s.jsxs(ne,{children:[s.jsx(re,{children:"Invoice (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{type:"file",accept:"image/*,.pdf",onChange:y=>{var st;const W=(st=y.target.files)==null?void 0:st[0];W&&Wi(W)},"data-testid":"input-invoice-file"}),Ms&&s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[s.jsx("span",{className:"text-sm truncate",children:Ms.name}),s.jsx(O,{type:"button",size:"sm",onClick:aU,disabled:Ra,"data-testid":"button-extract-invoice-data",children:Ra?"Extracting...":"Auto-fill from invoice"})]})]}),s.jsx(Es,{children:"Upload an invoice image or PDF. We'll automatically extract the amount, date, and description."})]}),s.jsx(ae,{control:Ut.control,name:"description",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description (Optional)"}),s.jsx(oe,{children:s.jsx(ns,{...y,value:y.value||"","data-testid":"textarea-expense-description",placeholder:"Add details about this expense...",rows:3})}),s.jsx(ce,{})]})}),s.jsxs(hn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{w(!1),Ut.reset(),P(null)},children:"Cancel"}),s.jsx(O,{type:"submit",disabled:uy.isPending||hy.isPending,"data-testid":"button-submit-expense",children:uy.isPending||hy.isPending?"Saving...":N?"Update Expense":"Add Expense"})]})]})})]})}),s.jsx(Qt,{open:!!S,onOpenChange:y=>!y&&C(null),children:s.jsxs(Wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Aircraft Listing Details"}),s.jsx(ss,{children:"Review full aircraft listing information"})]}),S&&s.jsxs("div",{className:"space-y-6",children:[S.images&&S.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.images.slice(0,6).map((y,W)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:y,alt:`Aircraft ${W+1}`,className:"w-full h-full object-cover"})},W))}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3",children:[S.year," ",S.make," ",S.model]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Registration:"})," ",s.jsx("span",{className:"font-medium",children:S.registration})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:S.location})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Hourly Rate:"})," ",s.jsxs("span",{className:"font-medium",children:["$",S.hourlyRate,"/hr"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Time:"})," ",s.jsxs("span",{className:"font-medium",children:[S.totalTime," hrs"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Owner ID:"})," ",s.jsx("span",{className:"font-medium",children:S.ownerId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(G,{variant:S.isListed?"default":"secondary",children:S.isListed?"Listed":"Unlisted"})]})]})]}),S.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]}),S.requiredCertifications&&S.requiredCertifications.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.requiredCertifications.map((y,W)=>s.jsx(G,{variant:"outline",children:y},W))})]}),s.jsxs(hn,{className:"gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>{_1.mutate({id:S.id,isListed:!S.isListed}),C(null)},children:[S.isListed?"Unlist":"List"," Aircraft"]}),s.jsx(O,{variant:"destructive",onClick:()=>{Y({type:"aircraft",id:S.id}),L(!0),C(null)},children:"Delete Listing"})]})]})]})}),s.jsx(Qt,{open:!!k,onOpenChange:y=>!y&&D(null),children:s.jsxs(Wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Marketplace Listing Details"}),s.jsx(ss,{children:"Review full marketplace listing information"})]}),k&&s.jsxs("div",{className:"space-y-6",children:[k.images&&k.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.images.slice(0,6).map((y,W)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:y,alt:`Listing ${W+1}`,className:"w-full h-full object-cover"})},W))}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:k.title}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",s.jsx(G,{variant:"outline",className:"ml-1",children:k.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:k.location||"Not specified"})]}),k.price&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",s.jsxs("span",{className:"font-medium",children:["$",k.price]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"})," ",s.jsxs("span",{className:"font-medium",children:["$",k.monthlyFee,k.monthlyFee==="0"&&" (FREE)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",s.jsx("span",{className:"font-medium",children:k.userId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(G,{variant:k.isActive?"default":"secondary",children:k.isActive?"Active":"Inactive"})]}),k.isPaid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment:"})," ",s.jsx(G,{variant:"default",children:"Paid"})]}),k.expiresAt&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",s.jsx("span",{className:"font-medium",children:new Date(k.expiresAt).toLocaleDateString()})]})]})]}),k.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:k.description})]}),(k.contactEmail||k.contactPhone)&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[k.contactEmail&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:k.contactEmail})]}),k.contactPhone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:k.contactPhone})]})]})]}),s.jsxs(hn,{className:"gap-2",children:[s.jsxs(O,{variant:"outline",onClick:()=>{k1.mutate({id:k.id,isActive:!k.isActive}),D(null)},children:[k.isActive?"Deactivate":"Activate"," Listing"]}),s.jsx(O,{variant:"destructive",onClick:()=>{Y({type:"marketplace",id:k.id}),L(!0),D(null)},children:"Delete Listing"})]})]})]})}),s.jsx(Qt,{open:F,onOpenChange:L,children:s.jsxs(Wt,{children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Delete Listing"}),s.jsxs(ss,{children:["Are you sure you want to delete this ",(B==null?void 0:B.type)==="aircraft"?"aircraft":"marketplace"," listing? This action cannot be undone."]})]}),s.jsxs(hn,{children:[s.jsx(O,{variant:"outline",onClick:()=>{L(!1),Y(null)},"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(O,{variant:"destructive",onClick:sU,disabled:fy.isPending||wy.isPending,"data-testid":"button-confirm-delete",children:fy.isPending||wy.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(Qt,{open:Q,onOpenChange:H,children:s.jsxs(Wt,{className:"max-w-2xl","data-testid":"dialog-create-promo",children:[s.jsxs(Xt,{children:[s.jsxs(Zt,{children:[le?"Edit":"Create"," Promotional Alert"]}),s.jsxs(ss,{children:[le?"Update":"Create a new"," promotional banner or announcement for the marketplace"]})]}),s.jsx(Qr,{...vn,children:s.jsxs("form",{onSubmit:vn.handleSubmit(y=>xy.mutate(y)),className:"space-y-4",children:[s.jsx(ae,{control:vn.control,name:"title",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Title"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Limited Time Offer!",...y,"data-testid":"input-promo-title"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:vn.control,name:"message",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Message"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Get your first listing free for 7 days!",...y,"data-testid":"textarea-promo-message"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:vn.control,name:"promoCode",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Promo Code (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"LAUNCH2025",...y,value:y.value||"","data-testid":"input-promo-code"})}),s.jsx(Es,{children:"Leave blank if no code needed"}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:vn.control,name:"showOnMainPage",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-show-main"})}),s.jsx(re,{className:"cursor-pointer",children:"Show on Main Page"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:vn.control,name:"showOnCategoryPages",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-show-category"})}),s.jsx(re,{className:"cursor-pointer",children:"Show on Category Pages"}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:vn.control,name:"targetCategories",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Target Categories"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["sale","charter","cfi","flight-school","mechanic","job"].map(W=>{var st;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ls,{checked:(st=y.value)==null?void 0:st.includes(W),onCheckedChange:yt=>{const Ct=y.value||[];yt?y.onChange([...Ct,W]):y.onChange(Ct.filter(pi=>pi!==W))},"data-testid":`checkbox-category-${W}`}),s.jsx(pe,{className:"cursor-pointer capitalize",children:W==="cfi"?"CFI":W.replace("-"," ")})]},W)})}),s.jsx(Es,{children:"Leave all unchecked to show on all categories"}),s.jsx(ce,{})]})}),s.jsxs(hn,{children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{H(!1),he(null),vn.reset()},"data-testid":"button-cancel-create-promo",children:"Cancel"}),s.jsxs(O,{type:"submit",disabled:xy.isPending,"data-testid":"button-submit-promo",children:[xy.isPending?"Creating...":le?"Update":"Create"," Alert"]})]})]})})]})}),s.jsx(Qt,{open:Le,onOpenChange:y=>{it(y),y||(je(null),js.reset(),ie(""))},children:s.jsx(Wt,{className:"max-w-3xl p-0","data-testid":"dialog-create-banner",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(Xt,{className:"px-6 pt-6",children:[s.jsx(Zt,{children:"Edit Live Banner Ad"}),s.jsx(ss,{children:"Admin override: You can edit all banner ad fields including creative content, scheduling, and status."})]}),s.jsx(Qr,{...js,children:s.jsxs("form",{onSubmit:js.handleSubmit(y=>{if(!Qe){$e({title:"Error",description:"Can only edit existing banner ads. Banner ads are created by activating paid orders.",variant:"destructive"});return}const W={title:y.title,description:y.description,imageUrl:Ue||y.imageUrl,link:y.link,placements:y.placements,category:y.category,startDate:y.startDate,endDate:y.endDate,isActive:y.isActive};vy.mutate({id:Qe.id,data:W})}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ae,{control:js.control,name:"title",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Banner Title"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Premium Aircraft Rentals",...y,"data-testid":"input-banner-title"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:js.control,name:"description",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description/Tagline (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Fly with confidence",...y,value:y.value??"","data-testid":"input-banner-description"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:js.control,name:"link",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Link URL (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"https://example.com",...y,value:y.value??"","data-testid":"input-banner-link"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:js.control,name:"imageUrl",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Banner Image"}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{placeholder:"Image URL",...y,value:y.value??"","data-testid":"input-banner-image-url"}),s.jsx(Ax,{onGetUploadParameters:G6,onComplete:Y6,maxNumberOfFiles:1,children:s.jsx("div",{})}),(y.value||Ue)&&s.jsx("img",{src:y.value||Ue,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ae,{control:js.control,name:"placements",render:()=>s.jsxs(ne,{children:[s.jsx(re,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage"},{value:"rentals",label:"Aircraft Rentals"},{value:"marketplace",label:"Marketplace Hub"}].map(y=>s.jsx(ae,{control:js.control,name:"placements",render:({field:W})=>{var st;return s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:((st=W.value)==null?void 0:st.includes(y.value))??!1,onCheckedChange:yt=>{const Ct=W.value||[],pi=yt?[...Ct,y.value]:Ct.filter(Tr=>Tr!==y.value);W.onChange(pi)},"data-testid":`checkbox-banner-placement-${y.value}`})}),s.jsx(re,{className:"cursor-pointer font-normal",children:y.label})]})}},y.value))}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Scheduling & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:js.control,name:"startDate",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Start Date"}),s.jsx(oe,{children:s.jsx(q,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-banner-start-date"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:js.control,name:"endDate",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"End Date"}),s.jsx(oe,{children:s.jsx(q,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-banner-end-date"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:js.control,name:"isActive",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-banner-active"})}),s.jsx(re,{className:"cursor-pointer",children:"Active (show banner immediately)"}),s.jsx(ce,{})]})})]})]}),s.jsxs(hn,{className:"px-6 pb-6",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{it(!1),je(null),js.reset(),ie("")},"data-testid":"button-cancel-edit-banner",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:vy.isPending,"data-testid":"button-submit-edit-banner",children:vy.isPending?"Updating...":"Update Banner Ad"})]})]})})]})})}),s.jsx(Qt,{open:ue,onOpenChange:y=>{Te(y),y||(Ke(null),et.reset(),os(""),M(null),ee(""),Se(null),Mt(""))},children:s.jsx(Wt,{className:"max-w-3xl p-0","data-testid":"dialog-create-order",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(Xt,{className:"px-6 pt-6",children:[s.jsxs(Zt,{children:[ge?"Edit":"Create"," Banner Ad Order"]}),s.jsxs(ss,{children:[ge?"Update":"Create a new"," banner ad order for sponsor billing and activation"]})]}),s.jsx(Qr,{...et,children:s.jsxs("form",{onSubmit:et.handleSubmit(y=>{if(!y.placements||y.placements.length===0){$e({title:"Validation Error",description:"Please select at least one page for banner placement",variant:"destructive"});return}const W={...y,imageUrl:y.imageUrl||qt};ge?by.mutate({id:ge.id,data:W}):jy.mutate(W)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Sponsor Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:et.control,name:"sponsorName",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Sponsor Name"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"John Doe",...y,"data-testid":"input-order-sponsor-name"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:et.control,name:"sponsorEmail",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Sponsor Email"}),s.jsx(oe,{children:s.jsx(q,{type:"email",placeholder:"sponsor@example.com",...y,"data-testid":"input-order-sponsor-email"})}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:et.control,name:"sponsorCompany",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Company Name (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Aviation Corp",...y,value:y.value??"","data-testid":"input-order-sponsor-company"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ae,{control:et.control,name:"title",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Banner Title"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Premium Aircraft Rentals",...y,"data-testid":"input-order-title"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:et.control,name:"description",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description/Tagline (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Fly with confidence",...y,value:y.value??"","data-testid":"input-order-description"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:et.control,name:"link",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Link URL (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"https://example.com",...y,value:y.value??"","data-testid":"input-order-link"})}),s.jsx(ce,{})]})}),s.jsx(ae,{control:et.control,name:"imageUrl",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Banner Image"}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{placeholder:"Image URL",...y,value:y.value??"","data-testid":"input-order-image-url"}),s.jsx(Ax,{onGetUploadParameters:Q6,onComplete:X6,maxNumberOfFiles:1,children:"Upload Image"}),qt&&s.jsx("img",{src:qt,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ae,{control:et.control,name:"placements",render:()=>s.jsxs(ne,{children:[s.jsx(re,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage (Landing Page)"},{value:"rentals",label:"Aircraft Rentals Page"},{value:"marketplace",label:"Marketplace Hub"},{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"jobs",label:"Aviation Jobs"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight Schools"},{value:"mechanic",label:"Mechanic Services"},{value:"charter",label:"Charter Services"}].map(y=>s.jsx(ae,{control:et.control,name:"placements",render:({field:W})=>{var st;return s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:((st=W.value)==null?void 0:st.includes(y.value))??!1,onCheckedChange:yt=>{const Ct=W.value||[],pi=yt?[...Ct,y.value]:Ct.filter(Tr=>Tr!==y.value);W.onChange(pi)},"data-testid":`checkbox-order-placement-${y.value}`})}),s.jsx(re,{className:"cursor-pointer font-normal",children:y.label})]})}},y.value))}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Pricing & Billing"}),s.jsx(ae,{control:et.control,name:"tier",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Select Tier"}),s.jsx(oe,{children:s.jsxs("select",{...y,className:"w-full h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",onChange:W=>{y.onChange(W);const st=W.target.value;Tt(st),os(""),M(null),ee(""),Se(null);const yt=Uu(st);et.setValue("monthlyRate",yt.monthlyRate.toString()),et.setValue("totalAmount",yt.subscriptionTotal.toString()),et.setValue("creationFee",yt.creationFee.toString()),et.setValue("grandTotal",yt.grandTotal.toString()),et.setValue("promoCode",""),et.setValue("discountAmount","0.00")},"data-testid":"select-order-tier",children:[s.jsx("option",{value:"1month",children:"1 Month - $75/mo"}),s.jsx("option",{value:"3months",children:"3 Months - $60/mo (Most Popular)"}),s.jsx("option",{value:"6months",children:"6 Months - $50/mo (Best Value)"}),s.jsx("option",{value:"12months",children:"12 Months - $45/mo"})]})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{children:"Promo Code (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{placeholder:"Enter promo code",value:sn,onChange:y=>os(y.target.value.toUpperCase()),"data-testid":"input-order-promo-code",className:"flex-1"}),s.jsx(O,{type:"button",variant:"outline",onClick:tU,"data-testid":"button-apply-promo-code",children:"Apply"})]}),cn===!1&&s.jsx("p",{className:"text-sm text-destructive","data-testid":"text-promo-error",children:K}),cn===!0&&s.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1","data-testid":"text-promo-success",children:[s.jsx(ws,{className:"h-4 w-4"}),K]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Monthly Rate:"}),s.jsxs("span",{className:"font-semibold",children:["$",et.watch("monthlyRate"),"/mo"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Subscription (",ot==="1month"?"1":ot==="3months"?"3":ot==="6months"?"6":"12"," months):"]}),s.jsxs("span",{className:"font-semibold",children:["$",et.watch("totalAmount")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"One-time creation fee:"}),s.jsxs("span",{className:"font-semibold",children:["$",et.watch("creationFee")]})]}),Re&&parseFloat(et.watch("discountAmount")||"0")>0&&s.jsx(s.Fragment,{children:s.jsx("div",{className:"border-t pt-2 space-y-2",children:(()=>{const y=Uu(ot),W=ok(y.creationFee,y.subscriptionTotal,Re);return s.jsxs(s.Fragment,{children:[W.creationFeeDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Creation fee discount:"}),s.jsxs("span",{children:["-$",W.creationFeeDiscount.toFixed(2)]})]}),W.subscriptionDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Subscription discount (20%):"}),s.jsxs("span",{children:["-$",W.subscriptionDiscount.toFixed(2)]})]})]})})()})}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"font-bold",children:"Due Today:"}),s.jsxs("span",{className:"font-bold text-lg",children:["$",et.watch("grandTotal")]})]})]})]}),s.jsx(ae,{control:et.control,name:"adminNotes",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Admin Notes (Optional)"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"Internal notes",...y,value:y.value??"","data-testid":"input-order-admin-notes"})}),s.jsx(ce,{})]})})]}),s.jsxs(hn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{Te(!1),Ke(null),et.reset()},"data-testid":"button-cancel-create-order",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:jy.isPending||by.isPending,"data-testid":"button-submit-order",children:jy.isPending||by.isPending?"Saving...":ge?"Update Order":"Create Order"})]})]})})]})})}),s.jsx(Qt,{open:z,onOpenChange:y=>{R(y),y||(de(null),Bt.reset())},children:s.jsx(Wt,{className:"max-w-2xl p-0","data-testid":"dialog-create-promo-code",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(Xt,{className:"px-6 pt-6",children:[s.jsxs(Zt,{children:[I?"Edit":"Create"," Promo Code"]}),s.jsxs(ss,{children:[I?"Update":"Create a new"," promotional discount code for marketplace listings or banner ads"]})]}),s.jsx(Qr,{...Bt,children:s.jsxs("form",{onSubmit:Bt.handleSubmit(y=>{const W={...y,code:y.code.toUpperCase().replace(/\s+/g,"")};I?yy.mutate({id:I.id,data:W}):gy.mutate(W)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsx(ae,{control:Bt.control,name:"code",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Code"}),s.jsx(oe,{children:s.jsx(q,{placeholder:"LAUNCH2025",...y,onChange:W=>y.onChange(W.target.value.toUpperCase().replace(/\s+/g,"")),"data-testid":"input-promo-code-code"})}),s.jsx(Es,{children:"Uppercase letters and numbers only, no spaces"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Bt.control,name:"description",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Description"}),s.jsx(oe,{children:s.jsx(ns,{placeholder:"Launch promotion for new users",...y,rows:3,"data-testid":"textarea-promo-code-description"})}),s.jsx(Es,{children:"Internal description for this promo code"}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:Bt.control,name:"discountType",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Discount Type"}),s.jsxs(Vs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(oe,{children:s.jsx(As,{"data-testid":"select-promo-code-discount-type",children:s.jsx(zs,{placeholder:"Select type"})})}),s.jsxs(Fs,{children:[s.jsx(Pe,{value:"percentage",children:"Percentage (%)"}),s.jsx(Pe,{value:"fixed",children:"Fixed Amount ($)"})]})]}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Bt.control,name:"discountValue",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Discount Value"}),s.jsx(oe,{children:s.jsx(q,{type:"number",step:"0.01",placeholder:Bt.watch("discountType")==="percentage"?"10":"5.00",...y,"data-testid":"input-promo-code-discount-value"})}),s.jsx(Es,{children:Bt.watch("discountType")==="percentage"?"Percentage (0-100)":"Dollar amount"}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:Bt.control,name:"maxUses",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Max Uses"}),s.jsx(oe,{children:s.jsx(q,{type:"number",placeholder:"Unlimited",...y,value:y.value??"",onChange:W=>y.onChange(W.target.value?parseInt(W.target.value):void 0),"data-testid":"input-promo-code-max-uses"})}),s.jsx(Es,{children:"Leave empty for unlimited uses"}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ae,{control:Bt.control,name:"validFrom",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Valid From"}),s.jsx(oe,{children:s.jsx(q,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):new Date),"data-testid":"input-promo-code-valid-from"})}),s.jsx(Es,{children:"Start date"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Bt.control,name:"validUntil",render:({field:y})=>s.jsxs(ne,{children:[s.jsx(re,{children:"Valid Until"}),s.jsx(oe,{children:s.jsx(q,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-promo-code-valid-until"})}),s.jsx(Es,{children:"Leave empty for no expiration"}),s.jsx(ce,{})]})})]}),s.jsx(ae,{control:Bt.control,name:"isActive",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!0,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-active"})}),s.jsx(re,{className:"cursor-pointer",children:"Active (code can be used immediately)"}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Applies To"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{control:Bt.control,name:"applicableToBannerAds",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-banner-ads"})}),s.jsx(re,{className:"cursor-pointer",children:"Banner Ads"}),s.jsx(ce,{})]})}),s.jsx(ae,{control:Bt.control,name:"applicableToMarketplace",render:({field:y})=>s.jsxs(ne,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(oe,{children:s.jsx(Ls,{checked:y.value??!0,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-marketplace"})}),s.jsx(re,{className:"cursor-pointer",children:"Marketplace Listings"}),s.jsx(ce,{})]})})]}),s.jsx(Es,{children:"Select where this promo code can be applied"})]})]}),s.jsxs(hn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(O,{type:"button",variant:"outline",onClick:()=>{R(!1),de(null),Bt.reset()},"data-testid":"button-cancel-promo-code",children:"Cancel"}),s.jsx(O,{type:"submit",disabled:gy.isPending||yy.isPending,"data-testid":"button-submit-promo-code",children:gy.isPending||yy.isPending?"Saving...":I?"Update Code":"Create Code"})]})]})})]})})}),s.jsx(Fie,{userId:u,open:m,onOpenChange:y=>{x(y),y||h(null)}})]})}function Die(t,e=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var p;const{scope:m,children:x,...v}=h,b=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,g=f.useMemo(()=>v,Object.values(v));return s.jsx(b.Provider,{value:g,children:x})};d.displayName=a+"Provider";function u(h,m){var b;const x=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=f.useContext(x);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Iie(i,...e)]}function Iie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Oie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h6=Oie.reduce((t,e)=>{const n=sf(`Primitive.${e}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),p1="Progress",x1=100,[Mie]=Die(p1),[Lie,$ie]=Mie(p1),m6=f.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=Uie,...o}=t;(i||i===0)&&!lk(i)&&console.error(Bie(`${i}`,"Progress"));const l=lk(i)?i:x1;r!==null&&!ck(r,l)&&console.error(Vie(`${r}`,"Progress"));const c=ck(r,l)?r:null,d=Fx(c)?a(c,l):void 0;return s.jsx(Lie,{scope:n,value:c,max:l,children:s.jsx(h6.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Fx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":x6(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});m6.displayName=p1;var f6="ProgressIndicator",p6=f.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=$ie(f6,n);return s.jsx(h6.div,{"data-state":x6(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});p6.displayName=f6;function Uie(t,e){return`${Math.round(t/e*100)}%`}function x6(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Fx(t){return typeof t=="number"}function lk(t){return Fx(t)&&!isNaN(t)&&t>0}function ck(t,e){return Fx(t)&&!isNaN(t)&&t<=e&&t>=0}function Bie(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${x1}\`.`}function Vie(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${x1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var g6=m6,zie=p6;const y6=f.forwardRef(({className:t,value:e,...n},r)=>s.jsx(g6,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:s.jsx(zie,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));y6.displayName=g6.displayName;function Hie(){const{user:t}=Os(),[,e]=en(),{toast:n}=$t(),[r,i]=f.useState("identity"),[a,o]=f.useState({legalFirstName:"",legalLastName:"",dateOfBirth:"",governmentIdFront:null,governmentIdBack:null,faaCertificateNumber:"",pilotCertificateName:"",pilotCertificatePhoto:null}),[l,c]=f.useState({}),d=[{id:"identity",title:"Identity",icon:Dn},{id:"documents",title:"Documents",icon:Jm},{id:"payment",title:"Payment",icon:uh},{id:"pilot",title:"FAA Pilot (Optional)",icon:Lt}],u=d.findIndex(g=>g.id===r),h=(u+1)/d.length*100,m=De({mutationFn:async g=>{const p=await fetch("/api/verification-submissions",{method:"POST",body:g,credentials:"include"});if(!p.ok){const j=await p.json();throw new Error(j.error||"Submission failed")}return await p.json()},onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Verification Submitted",description:"Your verification is under review. We'll notify you once it's approved."}),e("/profile")},onError:g=>{n({title:"Submission Failed",description:g.message||"Failed to submit verification",variant:"destructive"})}}),x=(g,p)=>{if(o(j=>({...j,[g]:p})),p){const j=new FileReader;j.onloadend=()=>{const w=g==="governmentIdFront"?"idFront":g==="governmentIdBack"?"idBack":"pilot";c(N=>({...N,[w]:j.result}))},j.readAsDataURL(p)}},v=()=>{if(r==="identity"){if(!a.legalFirstName||!a.legalLastName||!a.dateOfBirth){n({title:"Missing Information",description:"Please fill out all required fields",variant:"destructive"});return}i("documents")}else if(r==="documents"){if(!a.governmentIdFront||!a.governmentIdBack){n({title:"Missing Documents",description:"Please upload all required documents",variant:"destructive"});return}i("payment")}else r==="payment"&&i("pilot")},b=async()=>{const g=new FormData;g.append("type","renter_identity"),g.append("submissionData",JSON.stringify({legalFirstName:a.legalFirstName,legalLastName:a.legalLastName,dateOfBirth:a.dateOfBirth,faaCertificateNumber:a.faaCertificateNumber,pilotCertificateName:a.pilotCertificateName})),a.governmentIdFront&&g.append("governmentIdFront",a.governmentIdFront),a.governmentIdBack&&g.append("governmentIdBack",a.governmentIdBack),a.pilotCertificatePhoto&&g.append("pilotCertificatePhoto",a.pilotCertificatePhoto),m.mutate(g)};return t?s.jsx("div",{className:"min-h-screen bg-background py-8",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-verification-title",children:"Identity Verification"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete verification to list aircraft and book rentals"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-2",children:d.map((g,p)=>{const j=g.icon,w=p===u,N=p<u;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`flex items-center justify-center h-10 w-10 rounded-full border-2 ${N?"bg-primary border-primary text-primary-foreground":w?"border-primary text-primary":"border-muted text-muted-foreground"}`,"data-testid":`step-indicator-${g.id}`,children:N?s.jsx(Vt,{className:"h-5 w-5"}):s.jsx(j,{className:"h-5 w-5"})}),s.jsx("span",{className:`hidden md:inline text-sm ${w?"font-medium":""}`,children:g.title})]},g.id)})}),s.jsx(y6,{value:h,className:"h-2"})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs(J,{children:[r==="identity"&&"Personal Information",r==="documents"&&"Upload Documents",r==="payment"&&"Payment Method",r==="pilot"&&"FAA Pilot Certificate (Optional)"]}),s.jsxs(ke,{children:[r==="identity"&&"Enter your legal name and date of birth",r==="documents"&&"Upload clear photos of your government ID (front and back)",r==="payment"&&"Add a payment method for booking rentals",r==="pilot"&&"Upload your FAA pilot certificate for additional verification"]})]}),s.jsxs(U,{className:"space-y-6",children:[r==="identity"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"legalFirstName",children:"Legal First Name *"}),s.jsx(q,{id:"legalFirstName",value:a.legalFirstName,onChange:g=>o(p=>({...p,legalFirstName:g.target.value})),placeholder:"John","data-testid":"input-legal-first-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"legalLastName",children:"Legal Last Name *"}),s.jsx(q,{id:"legalLastName",value:a.legalLastName,onChange:g=>o(p=>({...p,legalLastName:g.target.value})),placeholder:"Smith","data-testid":"input-legal-last-name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),s.jsx(q,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:g=>o(p=>({...p,dateOfBirth:g.target.value})),"data-testid":"input-date-of-birth"})]}),s.jsxs(Kn,{children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Your information must match your government-issued ID exactly."})]})]}),r==="documents"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"idFront",children:"Government ID - Front *"}),s.jsx(q,{id:"idFront",type:"file",accept:"image/*",onChange:g=>{var p;return x("governmentIdFront",((p=g.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-front"}),l.idFront&&s.jsx("img",{src:l.idFront,alt:"ID Front",className:"mt-2 max-w-xs rounded-md border"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"idBack",children:"Government ID - Back *"}),s.jsx(q,{id:"idBack",type:"file",accept:"image/*",onChange:g=>{var p;return x("governmentIdBack",((p=g.target.files)==null?void 0:p[0])||null)},"data-testid":"input-id-back"}),l.idBack&&s.jsx("img",{src:l.idBack,alt:"ID Back",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Kn,{children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Ensure all documents are clear and readable."})]})]}),r==="payment"&&s.jsxs(s.Fragment,{children:[s.jsxs(Kn,{children:[s.jsx(uh,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Payment processing is handled securely through PayPal Business when you complete your first rental or listing transaction."})]}),s.jsxs("div",{className:"p-6 border-2 border-dashed rounded-lg text-center",children:[s.jsx(uh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Payment Method"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your payment method will be securely added via PayPal Business when you make your first rental or listing payment. All transactions are processed through our trusted payment partner."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Ready Set Fly uses PayPal Business for secure payment processing"})]})]}),r==="pilot"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"faaCertNumber",children:"FAA Certificate Number (Optional)"}),s.jsx(q,{id:"faaCertNumber",value:a.faaCertificateNumber,onChange:g=>o(p=>({...p,faaCertificateNumber:g.target.value})),placeholder:"1234567","data-testid":"input-faa-cert-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"pilotName",children:"Name on Certificate (Optional)"}),s.jsx(q,{id:"pilotName",value:a.pilotCertificateName,onChange:g=>o(p=>({...p,pilotCertificateName:g.target.value})),placeholder:"John Smith","data-testid":"input-pilot-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"pilotPhoto",children:"Pilot Certificate Photo (Optional)"}),s.jsx(q,{id:"pilotPhoto",type:"file",accept:"image/*",onChange:g=>{var p;return x("pilotCertificatePhoto",((p=g.target.files)==null?void 0:p[0])||null)},"data-testid":"input-pilot-photo"}),l.pilot&&s.jsx("img",{src:l.pilot,alt:"Pilot Certificate",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Kn,{children:[s.jsx(Lt,{className:"h-4 w-4"}),s.jsx(Gn,{children:"Adding your FAA pilot certificate is optional but helps verify your credentials for aircraft rentals."})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(O,{variant:"outline",onClick:()=>{const g=u-1;g>=0?i(d[g].id):e("/profile")},"data-testid":"button-back",children:u===0?"Cancel":"Back"}),r!=="pilot"?s.jsx(O,{onClick:v,"data-testid":"button-next",children:"Next"}):s.jsx(O,{onClick:b,disabled:m.isPending,"data-testid":"button-submit-verification",children:m.isPending?"Submitting...":"Submit for Review"})]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx($,{className:"max-w-md",children:s.jsxs(X,{children:[s.jsx(J,{children:"Authentication Required"}),s.jsx(ke,{children:"Please log in to verify your identity"})]})})})}function qie(){const[,t]=en();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(O,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-6","data-testid":"button-back",children:[s.jsx(pg,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Set Up Instant PayPal Payouts"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Ready Set Fly uses PayPal Business for secure, instant payout processing. Get your rental earnings in minutes, not days."})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(bz,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Instant Transfers"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Funds arrive in your PayPal account within minutes"})]})]})})}),s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Dn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Secure Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Trusted PayPal Business payment gateway"})]})]})})}),s.jsx($,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(rs,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Simple Setup"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Just add your PayPal email and start withdrawing"})]})]})})})]}),s.jsxs($,{className:"border-primary/20 bg-primary/5",children:[s.jsx(X,{children:s.jsxs(J,{className:"flex items-center gap-2 text-lg",children:[s.jsx(jN,{className:"h-5 w-5 text-primary"}),"How PayPal Payouts Work"]})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Connect Your PayPal Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your PayPal email address to receive instant payouts"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Request Withdrawals Anytime"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Withdraw your available balance instantly, any time you want"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Receive Funds Instantly"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Funds typically arrive in your PayPal account within minutes"})]})]})]})})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-base",children:"Learn More About PayPal"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/payouts",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-docs",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Yr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Payouts Documentation"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Learn about instant payout processing"})]})]}),s.jsx(Yr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/checkout",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-guide",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Yr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Business Guide"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment processing and withdrawals"})]})]}),s.jsx(Yr,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),s.jsx($,{className:"border-primary",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up instant PayPal withdrawals to receive your rental earnings"})]}),s.jsxs(O,{size:"lg",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-setup-payouts",className:"bg-accent text-accent-foreground hover:bg-accent",children:[s.jsx(rs,{className:"mr-2 h-4 w-4"}),"Go to PayPal Withdrawals"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Funds typically arrive within minutes. US residents only."})]})})})]})]})}function Wie(){const{user:t}=Os(),{toast:e}=$t(),[n,r]=f.useState((t==null?void 0:t.paypalEmail)||""),[i,a]=f.useState(""),{data:o,isLoading:l}=Ge({queryKey:["/api/balance"],enabled:!!t}),{data:c=[],isLoading:d}=Ge({queryKey:["/api/withdrawals"],enabled:!!t}),u=De({mutationFn:async g=>await(await Ae("PATCH","/api/user/profile",{paypalEmail:g})).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"PayPal Email Updated",description:"Your PayPal email has been saved successfully."})},onError:g=>{e({title:"Update Failed",description:g.message||"Failed to update PayPal email",variant:"destructive"})}}),h=De({mutationFn:async g=>await(await Ae("POST","/api/withdrawals",g)).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/balance"]}),Fe.invalidateQueries({queryKey:["/api/withdrawals"]}),a(""),e({title:"Payout Processing",description:"Your funds are being sent to PayPal now. Funds typically arrive within minutes."})},onError:g=>{e({title:"Withdrawal Failed",description:g.message||"Failed to request withdrawal",variant:"destructive"})}}),m=()=>{if(!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){e({title:"Invalid Email",description:"Please enter a valid PayPal email address",variant:"destructive"});return}u.mutate(n)},x=()=>{const g=parseFloat(i),p=parseFloat((o==null?void 0:o.balance)||"0");if(isNaN(g)||g<=0){e({title:"Invalid Amount",description:"Please enter a valid withdrawal amount",variant:"destructive"});return}if(g>p){e({title:"Insufficient Balance",description:"Withdrawal amount exceeds your available balance",variant:"destructive"});return}if(!n){e({title:"PayPal Email Required",description:"Please set your PayPal email before requesting a withdrawal",variant:"destructive"});return}h.mutate({amount:i,paypalEmail:n})},v=g=>{switch(g){case"processing":return s.jsxs(G,{variant:"outline",className:"gap-1","data-testid":"badge-status-processing",children:[s.jsx(Ul,{className:"w-3 h-3"}),"Processing"]});case"completed":return s.jsxs(G,{variant:"outline",className:"gap-1","data-testid":"badge-status-completed",children:[s.jsx(ws,{className:"w-3 h-3"}),"Completed"]});case"failed":return s.jsxs(G,{variant:"destructive",className:"gap-1","data-testid":"badge-status-failed",children:[s.jsx(er,{className:"w-3 h-3"}),"Failed"]});default:return s.jsx(G,{variant:"outline","data-testid":`badge-status-${g}`,children:g})}};if(!t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx($,{children:s.jsxs(X,{children:[s.jsx(J,{children:"Authentication Required"}),s.jsx(ke,{children:"Please log in to view your withdrawals."})]})})});const b=parseFloat((o==null?void 0:o.balance)||"0");return s.jsxs("div",{className:"container mx-auto p-6 max-w-5xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-withdrawals",children:"Withdrawals & Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rental earnings and request withdrawals"})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs(J,{className:"flex items-center gap-2","data-testid":"heading-balance",children:[s.jsx(rs,{className:"w-5 h-5"}),"Available Balance"]}),s.jsx(ke,{children:"Your current balance available for withdrawal"})]}),s.jsx(U,{children:l?s.jsx("p",{className:"text-muted-foreground",children:"Loading balance..."}):s.jsxs("div",{className:"text-4xl font-bold","data-testid":"text-balance",children:["$",b.toFixed(2)]})})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-paypal-setup",children:"PayPal Email"}),s.jsx(ke,{children:"Set your PayPal email to receive withdrawals"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"paypal-email",children:"PayPal Email Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{id:"paypal-email",type:"email",placeholder:"your.email@example.com",value:n,onChange:g=>r(g.target.value),"data-testid":"input-paypal-email"}),s.jsx(O,{onClick:m,disabled:u.isPending,"data-testid":"button-save-email",children:u.isPending?"Saving...":"Save"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payouts are sent via PayPal and typically arrive within minutes to 30 minutes."})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-request-withdrawal",children:"Request Withdrawal"}),s.jsx(ke,{children:"Withdraw your available balance to PayPal"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"withdrawal-amount",children:"Withdrawal Amount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(q,{id:"withdrawal-amount",type:"number",step:"0.01",min:"0",max:b,placeholder:"0.00",value:i,onChange:g=>a(g.target.value),className:"pl-7","data-testid":"input-withdrawal-amount"})]}),s.jsx(O,{onClick:x,disabled:h.isPending||b<=0,"data-testid":"button-request-withdrawal",children:h.isPending?"Requesting...":"Request Withdrawal"})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Important Information"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Withdrawals are processed instantly via PayPal Payouts"}),s.jsx("li",{children:" PayPal charges approximately 2% per payout (deducted from platform funds)"}),s.jsx("li",{children:" Funds typically arrive in your PayPal account within minutes"}),s.jsx("li",{children:" You'll receive an email confirmation from PayPal when funds arrive"})]})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{"data-testid":"heading-withdrawal-history",children:"Withdrawal History"}),s.jsx(ke,{children:"View your past withdrawal requests"})]}),s.jsx(U,{children:d?s.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."}):c.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-withdrawals",children:"No withdrawal requests yet"}):s.jsx("div",{className:"space-y-4",children:c.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md","data-testid":`card-withdrawal-${g.id}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium","data-testid":`text-amount-${g.id}`,children:["$",parseFloat(g.amount).toFixed(2)]}),v(g.status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-email-${g.id}`,children:["To: ",g.paypalEmail]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-date-${g.id}`,children:["Requested: ",g.requestedAt?new Date(g.requestedAt).toLocaleDateString():"N/A"]}),g.processedAt&&s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-processed-${g.id}`,children:["Processed: ",new Date(g.processedAt).toLocaleDateString()]}),g.failureReason&&s.jsxs("p",{className:"text-sm text-destructive","data-testid":`text-error-${g.id}`,children:["Error: ",g.failureReason]})]}),g.transactionId&&s.jsxs("div",{className:"text-xs text-muted-foreground","data-testid":`text-transaction-${g.id}`,children:["Transaction: ",g.transactionId]})]},g.id))})})]})]})}function bs(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:s.jsxs($,{className:"max-w-md w-full",children:[s.jsxs(X,{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:s.jsx(Lt,{className:"h-12 w-12 text-primary"})})}),s.jsxs("div",{children:[s.jsx(J,{className:"text-2xl font-bold",children:"Sign In Required"}),s.jsx(ke,{className:"text-base mt-2",children:"You need to be signed in to create listings and access this feature"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Create an account or sign in to list your aircraft, post marketplace listings, and connect with the aviation community."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(at,{href:"/login",children:s.jsxs(O,{size:"lg",className:"w-full","data-testid":"button-sign-in-required",children:[s.jsx(lz,{className:"mr-2 h-5 w-5"}),"Sign In to Continue"]})}),s.jsx(at,{href:"/",children:s.jsx(O,{size:"lg",variant:"outline",className:"w-full","data-testid":"button-back-home",children:"Back to Home"})})]})]})]})})}function dk(){const{isAuthenticated:t}=Os();return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4 py-12",children:s.jsxs("div",{className:"flex flex-col gap-8 items-center text-center max-w-3xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Lt,{className:"h-32 w-32 text-muted-foreground/20 animate-pulse"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-7xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:"Looks like this flight path doesn't exist. The page you're looking for may have been moved or deleted."})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full mt-4",children:[s.jsx(at,{href:"/",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-home",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(RC,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Home"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to landing page"})]})]})})}),s.jsx(at,{href:"/rentals",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-rentals",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(zn,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Browse Rentals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find aircraft to rent"})]})]})})}),s.jsx(at,{href:"/marketplace",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-marketplace",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(Lt,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Marketplace"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aviation services"})]})]})})})]}),t&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full",children:[s.jsx(at,{href:"/dashboard",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-dashboard",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(TR,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your activity"})]})]})})}),s.jsx(at,{href:"/favorites",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-favorites",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(sz,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Favorites"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved listings"})]})]})})}),s.jsx(at,{href:"/messages",children:s.jsx($,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-messages",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(kR,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check conversations"})]})]})})})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(at,{href:"/",children:s.jsxs(O,{size:"lg","data-testid":"button-go-home",children:[s.jsx(RC,{className:"h-5 w-5 mr-2"}),"Return to Home"]})}),!t&&s.jsx(at,{href:"/login",children:s.jsx(O,{size:"lg",variant:"outline","data-testid":"button-sign-in",children:"Sign In"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If you believe this is an error, please"," ",s.jsx(at,{href:"/messages",className:"text-primary hover:underline",children:"contact support"}),"."]})]})})}function Kie(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-3xl",children:"Privacy Policy"}),s.jsx(ke,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),s.jsx("p",{children:'Ready Set Fly ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By using the Platform, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use the Platform."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.1 Information You Provide to Us"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," When you create an account, we collect your name, email address, and password (if using email/password authentication)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Information:"})," We collect additional information you provide such as phone number, profile photo, and bio."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Verification Documents:"})," To verify your identity as a pilot or aircraft owner, we collect pilot licenses, certificates, insurance documents, and other verification materials."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Aircraft Information:"})," If you list an aircraft for rent, we collect aircraft registration numbers, make, model, specifications, photos, and availability information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listings:"})," If you create marketplace listings, we collect listing descriptions, photos, prices, and contact information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Information:"})," We collect payment information necessary to process rental payments and marketplace transactions, including payment method details processed by our payment processor (PayPal)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Messages:"})," We collect and store messages you send through our platform messaging system."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.2 Information Automatically Collected"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," We collect information about your interactions with the Platform, including pages visited, features used, and time spent on the Platform."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," We collect information about your device, including device type, operating system, browser type, and IP address."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication Data:"})," When you use third-party authentication (Google SignIn; legacy Replit Auth may also be supported), we receive your name, email, and profile information from those services."]})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Information"}),s.jsx("p",{children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To verify your identity as a pilot or aircraft owner"}),s.jsx("li",{children:"To facilitate aircraft rentals and marketplace transactions"}),s.jsx("li",{children:"To process payments and manage financial transactions"}),s.jsx("li",{children:"To enable communication between users through our messaging system"}),s.jsx("li",{children:"To provide customer support and respond to your inquiries"}),s.jsx("li",{children:"To send important notifications about your account, rentals, and transactions"}),s.jsx("li",{children:"To prevent fraud, enforce our Terms of Service, and ensure platform security"}),s.jsx("li",{children:"To improve and optimize the Platform based on usage patterns"}),s.jsx("li",{children:"To comply with legal obligations and regulatory requirements"})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. How We Share Your Information"}),s.jsx("p",{children:"We may share your information in the following circumstances:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 With Other Users"}),s.jsx("p",{children:"When you list an aircraft or create a marketplace listing, certain information (name, profile photo, listing details) is visible to other users. When you book a rental, your information is shared with the aircraft owner to facilitate the rental."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 With Service Providers"}),s.jsx("p",{children:"We share information with third-party service providers who assist us in operating the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal:"})," Processes all payments for aircraft rentals and marketplace listing fees. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal Payouts API:"})," Processes owner withdrawals. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Google (Identity):"})," Provides authentication services when you sign in using Google. View their privacy policy at ",s.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"policies.google.com/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Replit (Legacy):"})," Previously used for authentication/hosting for some deployments. If applicable, we may continue to support legacy Replit-authenticated accounts. View their privacy policy at ",s.jsx("a",{href:"https://replit.com/site/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"replit.com/site/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Neon (PostgreSQL Database):"})," Hosts our database. View their privacy policy at ",s.jsx("a",{href:"https://neon.tech/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"neon.tech/privacy-policy"})]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 For Legal Reasons"}),s.jsx("p",{children:"We may disclose your information if required by law or to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal processes or government requests"}),s.jsx("li",{children:"Enforce our Terms of Service and other agreements"}),s.jsx("li",{children:"Protect the rights, property, or safety of Ready Set Fly, our users, or others"}),s.jsx("li",{children:"Prevent fraud or security threats"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.4 Business Transfers"}),s.jsx("p",{children:"If Ready Set Fly is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction. We will notify you via email and/or prominent notice on the Platform of any change in ownership or use of your information."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Data Retention"}),s.jsx("p",{children:"We retain your information for as long as your account is active or as needed to provide you services. We will retain and use your information as necessary to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal obligations (e.g., tax records for 7 years)"}),s.jsx("li",{children:"Resolve disputes and enforce our agreements"}),s.jsx("li",{children:"Prevent fraud and maintain platform security"})]}),s.jsx("p",{className:"mt-3",children:"When you request account deletion, we will delete your personal information within 30 days, except for information we are required to retain for legal, regulatory, or security purposes."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Your Rights and Choices"}),s.jsx("p",{children:"You have the following rights regarding your information:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Access and Update"}),s.jsx("p",{children:"You can access and update your account information at any time by logging into your account and visiting your Profile settings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Account Deletion"}),s.jsx("p",{children:"You have the right to request deletion of your account and personal data. You can:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Delete your account from within the app by visiting Settings  Account  Delete Account"}),s.jsxs("li",{children:["Submit a deletion request at ",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:"readysetfly.us/delete-account"})]})]}),s.jsx("p",{className:"mt-3",children:"When you delete your account, we will remove your personal information, rental history, messages, and verification documents within 30 days. Some information may be retained as required by law."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 Marketing Communications"}),s.jsx("p",{children:"You can opt out of marketing communications by following the unsubscribe link in our emails. You will continue to receive transactional emails related to your account and rentals."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.4 Data Portability"}),s.jsx("p",{children:"You have the right to request a copy of your personal data in a portable format. Contact us at privacy@readysetfly.us to request your data."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Data Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your information, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Encryption of data in transit using SSL/TLS"}),s.jsx("li",{children:"Secure password hashing using bcrypt"}),s.jsx("li",{children:"Secure token-based authentication (JWT for mobile apps)"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Limited access to personal data by authorized personnel only"})]}),s.jsx("p",{className:"mt-3",children:"However, no method of transmission over the internet or electronic storage is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Children's Privacy"}),s.jsx("p",{children:"The Platform is not intended for users under the age of 18. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us at privacy@readysetfly.us, and we will delete such information."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Geographic Restrictions"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ready Set Fly is available exclusively to residents of the United States."})," The Platform is not intended for use by individuals located outside the United States. By using the Platform, you represent and warrant that you are a resident of the United States."]}),s.jsx("p",{className:"mt-3",children:"All data is stored and processed on servers located in the United States. We comply with applicable US federal and state privacy laws, including the California Consumer Privacy Act (CCPA) and other state-specific privacy regulations."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Changes to This Privacy Policy"}),s.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the new Privacy Policy on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date at the top'}),s.jsx("li",{children:"Sending you an email notification for material changes"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after changes are posted constitutes your acceptance of the updated Privacy Policy."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Contact Us"}),s.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," privacy@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. State-Specific Rights"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"California Residents (CCPA)"}),s.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),s.jsx("li",{children:"Right to delete personal information"}),s.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),s.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"European Residents (GDPR)"}),s.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right of access to your personal data"}),s.jsx("li",{children:"Right to rectification of inaccurate data"}),s.jsx("li",{children:'Right to erasure ("right to be forgotten")'}),s.jsx("li",{children:"Right to restriction of processing"}),s.jsx("li",{children:"Right to data portability"}),s.jsx("li",{children:"Right to object to processing"})]}),s.jsx("p",{className:"mt-3",children:"To exercise any of these rights, please contact us at privacy@readysetfly.us."})]})]})]})})}function Gie(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-3xl",children:"Terms of Service"}),s.jsx(ke,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),s.jsx("p",{children:'Welcome to Ready Set Fly. These Terms of Service ("Terms") govern your access to and use of our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By accessing or using the Platform, you agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not access or use the Platform."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Eligibility"}),s.jsx("p",{children:"You must meet the following requirements to use the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:s.jsx("strong",{children:"You must be a resident of the United States"})}),s.jsx("li",{children:"You must be at least 18 years old"}),s.jsx("li",{children:"You must have the legal capacity to enter into binding contracts"}),s.jsx("li",{children:"You must not be prohibited from using the Platform under applicable laws"}),s.jsx("li",{children:"To rent aircraft or list aircraft for rent, you must hold valid pilot certificates and/or aircraft ownership documentation as required by law"})]}),s.jsx("p",{className:"mt-3",children:"Ready Set Fly is exclusively available to United States residents. By using the Platform, you represent and warrant that you are located in and are a resident of the United States."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Account Registration and Security"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Account Creation"}),s.jsx("p",{children:"To use certain features of the Platform, you must create an account. You agree to provide accurate, current, and complete information during registration and to update such information to keep it accurate, current, and complete."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.2 Account Security"}),s.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Not share your password with others"}),s.jsx("li",{children:"Immediately notify us of any unauthorized use of your account"}),s.jsx("li",{children:"Take reasonable precautions to prevent unauthorized access"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.3 Account Verification"}),s.jsx("p",{children:"We may require you to verify your identity by providing pilot certificates, aircraft ownership documents, insurance information, or other documentation. Failure to provide requested verification may result in account suspension or limitations on Platform features."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Platform Services"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly provides a platform connecting aircraft owners with pilots seeking to rent aircraft. We are not a party to rental agreements between owners and renters. All rental agreements are directly between the owner and renter."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 Marketplace"}),s.jsx("p",{children:"Our marketplace allows users to list and browse various aviation-related items and services, including aircraft for sale, CFI services, job postings, flight schools, mechanics, and charter services. We do not guarantee the accuracy, quality, safety, or legality of any marketplace listings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 Messaging"}),s.jsx("p",{children:"The Platform provides messaging functionality to facilitate communication between users. You agree to use messaging only for legitimate Platform-related purposes and not for spam, harassment, or illegal activities."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Fees and Payments"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.1 Platform Fees for Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly charges the following fees for aircraft rental transactions:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Renter Booking Fee:"})," 7.5% of the total rental amount"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Owner Commission:"})," 7.5% deducted from owner payout"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sales Tax:"})," 8.25% on all rental amounts and booking fees"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Credit Card Processing Fee:"})," 3% to cover payment processing costs"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Example:"})," For a $1,000 rental, the renter pays $1,000 (base rental) + $75 (7.5% booking fee) + $88.69 (8.25% sales tax on $1,075) + $34.91 (3% CC processing fee) = ",s.jsx("strong",{children:"$1,198.60 total"}),". The owner receives $925 after the 7.5% platform commission is deducted."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.2 Marketplace Listing Fees"}),s.jsx("p",{children:"Marketplace listings require a monthly subscription fee based on the listing category and tier. All prices include 8.25% sales tax:"}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Aircraft for Sale"})," (3 tier options):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Basic Tier:"})," $25/month + tax = $27.06/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Standard Tier:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Premium Tier:"})," $100/month + tax = $108.25/month"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Other Categories"})," (fixed monthly fees):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"CFI Listings:"})," $30/month + tax = $32.48/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Job Postings:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Flight School Listings:"})," $250/month + tax = $270.63/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mechanic Services:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Charter Services:"})," $250/month + tax = $270.63/month"]})]}),s.jsx("p",{className:"mt-3",children:"Listings are automatically renewed monthly unless you cancel your subscription. You are responsible for canceling before the renewal date to avoid being charged for the next billing period. Promotional codes may be available for limited-time free trials or discounts."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.3 Payment Processing"}),s.jsx("p",{children:"All payments are processed through PayPal, our exclusive payment processor. You agree to comply with PayPal's terms of service. We do not store your complete payment card information. Only credit card payments are accepted (Pay Later options are disabled for compliance and security)."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.4 Owner Withdrawals"}),s.jsx("p",{children:"Aircraft owners can request withdrawals of their rental earnings via PayPal. Withdrawals are processed using the PayPal Payouts API and are typically completed within 1-3 business days. Minimum withdrawal amount may apply."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.5 Refunds"}),s.jsx("p",{children:"Refund eligibility is determined by the specific circumstances of each transaction:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rental Refunds:"})," Subject to the cancellation policy agreed upon between owner and renter. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."})," Ready Set Fly is not responsible for weather or weather-related cancellations. Platform fees are non-refundable under all circumstances."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listing Fees:"})," Non-refundable. You may cancel at any time to prevent future charges."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.6 Fee Changes"}),s.jsx("p",{children:"We reserve the right to change our fees at any time. We will provide at least 30 days' notice of fee increases by email and/or prominent notice on the Platform. Your continued use of the Platform after fee changes take effect constitutes acceptance of the new fees."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. User Responsibilities"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Aircraft Owners"}),s.jsx("p",{children:"If you list aircraft for rent, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You have legal authority to rent the aircraft"}),s.jsx("li",{children:"The aircraft is airworthy and properly maintained"}),s.jsx("li",{children:"You carry adequate insurance coverage"}),s.jsx("li",{children:"All required certificates and documentation are current and valid"}),s.jsx("li",{children:"Your listing information is accurate and complete"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Renters"}),s.jsx("p",{children:"If you rent aircraft, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You hold all required pilot certificates and ratings"}),s.jsx("li",{children:"Your certificates and medical are current and valid"}),s.jsx("li",{children:"You are legally permitted to operate the aircraft"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"}),s.jsx("li",{children:"You will operate the aircraft safely and responsibly"}),s.jsx("li",{children:"You will pay all rental fees and charges on time"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 All Users"}),s.jsx("p",{children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Provide accurate and truthful information"}),s.jsx("li",{children:"Not impersonate others or misrepresent your identity"}),s.jsx("li",{children:"Not engage in fraudulent, deceptive, or illegal activities"}),s.jsx("li",{children:"Not harass, threaten, or abuse other users"}),s.jsx("li",{children:"Not violate the intellectual property rights of others"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Prohibited Conduct"}),s.jsx("p",{children:"You may not:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use the Platform for any illegal purpose"}),s.jsx("li",{children:"Violate any local, state, national, or international law"}),s.jsx("li",{children:"Interfere with or disrupt the Platform or servers"}),s.jsx("li",{children:"Attempt to gain unauthorized access to the Platform or other user accounts"}),s.jsx("li",{children:"Transmit viruses, malware, or other harmful code"}),s.jsx("li",{children:"Collect or harvest user information without consent"}),s.jsx("li",{children:"Use automated systems (bots, scrapers) to access the Platform"}),s.jsx("li",{children:"Circumvent security features or access controls"}),s.jsx("li",{children:"Post false, misleading, or fraudulent content"}),s.jsx("li",{children:"Engage in price manipulation or other anti-competitive behavior"})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Content and Intellectual Property"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.1 Your Content"}),s.jsx("p",{children:"You retain ownership of all content you post on the Platform (listings, photos, messages, etc.). By posting content, you grant Ready Set Fly a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, display, and distribute your content in connection with operating and promoting the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.2 Our Content"}),s.jsx("p",{children:"The Platform and all content, features, and functionality (including but not limited to design, text, graphics, logos, and software) are owned by Ready Set Fly and are protected by copyright, trademark, and other intellectual property laws."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.3 Copyright Infringement"}),s.jsx("p",{children:"We respect intellectual property rights. If you believe your copyright has been infringed, please contact us at legal@readysetfly.us with details of the alleged infringement."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Disclaimers and Limitation of Liability"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:'9.1 Platform Provided "As Is"'}),s.jsx("p",{children:'THE PLATFORM IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.2 No Guarantee of Service"}),s.jsx("p",{children:"We do not guarantee that the Platform will be uninterrupted, secure, or error-free. We do not guarantee the accuracy, completeness, or reliability of any content on the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.3 Third-Party Transactions"}),s.jsx("p",{children:"Ready Set Fly is not a party to any rental agreements or marketplace transactions between users. We do not verify the accuracy of listings, the qualifications of users, or the airworthiness of aircraft. You are solely responsible for evaluating and verifying all aspects of any transaction you enter into through the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.4 Aviation Risks"}),s.jsx("p",{children:"Aviation involves inherent risks. Ready Set Fly is not responsible for any accidents, injuries, damages, or losses resulting from aircraft rentals or operations. You assume all risks associated with aviation activities."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.5 Limitation of Liability"}),s.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, READY SET FLY, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING OUT OF OR RELATED TO YOUR USE OF THE PLATFORM, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."}),s.jsx("p",{className:"mt-3",children:"IN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS EXCEED THE GREATER OF $100 OR THE AMOUNT YOU PAID TO US IN FEES IN THE 12 MONTHS PRECEDING THE CLAIM."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Indemnification"}),s.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Ready Set Fly, its officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses (including reasonable attorneys' fees) arising out of or related to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Your use of the Platform"}),s.jsx("li",{children:"Your violation of these Terms"}),s.jsx("li",{children:"Your violation of any law or regulation"}),s.jsx("li",{children:"Your violation of the rights of any third party"}),s.jsx("li",{children:"Any content you post on the Platform"}),s.jsx("li",{children:"Any aircraft rental or marketplace transaction you enter into"})]})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Dispute Resolution"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.1 Informal Resolution"}),s.jsx("p",{children:"If you have a dispute with Ready Set Fly, you agree to first contact us at coryarmer@gmail.com to attempt to resolve the dispute informally."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.2 Arbitration"}),s.jsx("p",{children:"Any dispute that cannot be resolved informally shall be resolved by binding arbitration in accordance with the rules of the American Arbitration Association. The arbitration shall take place in Texas."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.3 Class Action Waiver"}),s.jsx("p",{children:"You agree that any arbitration or proceeding shall be limited to the dispute between you and Ready Set Fly individually. You waive the right to participate in any class action or class-wide arbitration."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.4 Governing Law"}),s.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of Texas, without regard to its conflict of law provisions."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. Account Termination"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.1 Termination by You"}),s.jsxs("p",{children:["You may delete your account at any time by visiting your account settings or by contacting us at coryarmer@gmail.com. You can also submit a deletion request at",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:" readysetfly.us/delete-account"}),"."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.2 Termination by Us"}),s.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time, with or without notice, for:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Violation of these Terms"}),s.jsx("li",{children:"Fraudulent, deceptive, or illegal activity"}),s.jsx("li",{children:"Failure to verify your identity when requested"}),s.jsx("li",{children:"Outstanding payment obligations"}),s.jsx("li",{children:"Any reason at our sole discretion"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.3 Effect of Termination"}),s.jsx("p",{children:"Upon termination, your right to use the Platform will immediately cease. We may delete your account data in accordance with our Privacy Policy. Outstanding payment obligations will survive termination."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"13. Modifications to Terms"}),s.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the updated Terms on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date'}),s.jsx("li",{children:"Sending you an email notification"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after the effective date of the revised Terms constitutes your acceptance of the changes. If you do not agree to the revised Terms, you must stop using the Platform."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"14. General Provisions"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.1 Entire Agreement"}),s.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and Ready Set Fly regarding the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.2 Severability"}),s.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.3 Waiver"}),s.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be deemed a waiver of such right or provision."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.4 Assignment"}),s.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms without restriction."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.5 Force Majeure"}),s.jsx("p",{children:"We shall not be liable for any failure or delay in performance due to circumstances beyond our reasonable control, including but not limited to acts of God, war, terrorism, natural disasters, or government actions."})]}),s.jsx(Je,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"15. Contact Information"}),s.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," legal@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Support:"})," coryarmer@gmail.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(Je,{}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-md border",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important Notice:"})," These Terms of Service contain important information about your legal rights and obligations, including limitations on liability and dispute resolution provisions. Please read them carefully. By using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms."]})})]})]})})}function Yie(){const{data:t,isLoading:e}=Ge({queryKey:["/api/auth/user"]}),{toast:n}=$t(),[r,i]=f.useState(""),a=De({mutationFn:async()=>await Ae("DELETE","/api/auth/user"),onSuccess:()=>{n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/"},onError:l=>{n({title:"Error",description:l.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),o=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}a.mutate()};return e?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):t?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TR,{className:"h-5 w-5"}),s.jsx(J,{children:"Account Information"})]}),s.jsx(ke,{children:"Your account details"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-base","data-testid":"text-user-email",children:t.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"text-base","data-testid":"text-user-name",children:[t.firstName," ",t.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),s.jsx("p",{className:"text-base","data-testid":"text-verification-status",children:t.isVerified?"Verified":"Not Verified"})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),s.jsx(J,{children:"Legal Documents"})]}),s.jsx(ke,{children:"View our legal policies and terms"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsx(at,{href:"/privacy-policy",children:s.jsxs(O,{variant:"outline",className:"w-full justify-start","data-testid":"link-privacy-policy",children:[s.jsx(pz,{className:"mr-2 h-4 w-4"}),"Privacy Policy"]})}),s.jsx(at,{href:"/terms-of-service",children:s.jsxs(O,{variant:"outline",className:"w-full justify-start","data-testid":"link-terms-of-service",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Terms of Service"]})})]})]}),s.jsxs($,{className:"border-destructive",children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5 text-destructive"}),s.jsx(J,{className:"text-destructive",children:"Danger Zone"})]}),s.jsx(ke,{children:"Permanently delete your account and all associated data"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4",children:[s.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"Warning: This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]}),s.jsxs(Gl,{children:[s.jsx(KM,{asChild:!0,children:s.jsxs(O,{variant:"destructive","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs(To,{children:[s.jsxs(Ao,{children:[s.jsx(Ro,{children:"Are you absolutely sure?"}),s.jsxs(Do,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(q,{id:"confirm-delete",value:r,onChange:l=>i(l.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Io,{onClick:o,disabled:r!=="DELETE"||a.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:a.isPending?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to access settings."})})})})}function Qie(){const{data:t,isLoading:e}=Ge({queryKey:["/api/auth/user"],retry:!1}),{toast:n}=$t(),[r,i]=f.useState(""),[a,o]=f.useState(!1),l=De({mutationFn:async()=>await Ae("DELETE","/api/auth/user"),onSuccess:()=>{o(!0),n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."})},onError:d=>{n({title:"Error",description:d.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),c=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}l.mutate()};return e?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsx($,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):a?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{children:[s.jsx(X,{children:s.jsx(J,{className:"text-center",children:"Account Deleted"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Your account and all associated data have been permanently deleted."}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Thank you for using Ready Set Fly. We hope to see you again in the future."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(at,{href:"/",children:s.jsx(O,{"data-testid":"button-back-home",children:"Return to Home"})})})]})]})}):t?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{className:"w-full",children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Cn,{className:"h-6 w-6 text-destructive"}),s.jsx(J,{children:"Delete Your Account"})]}),s.jsx(ke,{className:"text-center",children:"Permanently remove your account and all associated data"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Account Information"}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Name:"})," ",t.firstName," ",t.lastName]})]})]}),s.jsx("div",{className:"rounded-lg bg-destructive/10 border border-destructive/20 p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(pa,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]})]})}),s.jsxs(Gl,{children:[s.jsx(KM,{asChild:!0,children:s.jsxs(O,{variant:"destructive",className:"w-full","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs(To,{children:[s.jsxs(Ao,{children:[s.jsx(Ro,{children:"Are you absolutely sure?"}),s.jsxs(Do,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(q,{id:"confirm-delete",value:r,onChange:d=>i(d.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(Fo,{children:[s.jsx(Oo,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Io,{onClick:c,disabled:r!=="DELETE"||l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:l.isPending?"Deleting...":"Delete Account"})]})]})]}),s.jsxs("div",{className:"text-center space-y-2 pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help or have questions?"}),s.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[s.jsx(at,{href:"/privacy-policy",className:"text-primary hover:underline","data-testid":"link-privacy",children:"Privacy Policy"}),s.jsx(at,{href:"/terms-of-service",className:"text-primary hover:underline","data-testid":"link-terms",children:"Terms of Service"})]})]})]})]})}):s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-center",children:"Delete Your Account"}),s.jsx(ke,{className:"text-center",children:"Sign in to delete your Ready Set Fly account"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"You must be signed in to delete your account."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(O,{onClick:()=>window.location.href="https://readysetfly.us/delete-account","data-testid":"button-login-to-delete",children:"Sign In to Continue"})})]})]})})}const Xie=Zn({email:se().email("Please enter a valid email address"),password:se().min(1,"Password is required")});function Zie(){const[,t]=en(),{toast:e}=$t(),n=ou(),[r,i]=f.useState(!1),a=nr({resolver:rr(Xie),defaultValues:{email:"",password:""}}),o=De({mutationFn:async c=>{const d=await GB("/api/auth/web-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"}),u=d.headers.get("content-type")||"";try{console.debug("[login] response status:",d.status,"content-type:",u)}catch{}if(!d.ok){let m="Failed to login";if(u.includes("application/json"))try{const x=await d.json();console.debug("[login] error json:",x),m=(x==null?void 0:x.error)||JSON.stringify(x)||m}catch{}else{const x=await d.text();console.debug("[login] error text:",x.slice(0,200)),x&&(m=x.slice(0,500))}throw new Error(m)}if(u.includes("application/json")){const m=await d.json();try{console.debug("[login] success json:",m)}catch{}return m}const h=await d.text();try{const m=JSON.parse(h);try{console.debug("[login] parsed text as json:",m)}catch{}return m}catch{try{console.debug("[login] success text:",h.slice(0,500))}catch{}return{message:h}}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Welcome back!",description:"You have successfully logged in."}),t("/")},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{await o.mutateAsync(c)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(X,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-8 h-8 text-white"})})}),s.jsx(J,{className:"text-2xl font-bold",children:"Welcome back"}),s.jsx(ke,{children:"Sign in to your Ready Set Fly account"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"email",children:"Email"}),s.jsx(q,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"password",children:"Password"}),s.jsx(q,{id:"password",type:"password",placeholder:"Enter your password",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsx(O,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-login",children:r?"Signing in...":"Sign in"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(O,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-oauth-login",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(f0,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>t("/register"),className:"text-primary hover:underline font-medium","data-testid":"link-register",children:"Create account"})]})})]})})}const Jie=Zn({firstName:se().min(1,"First name is required"),lastName:se().min(1,"Last name is required"),email:se().email("Please enter a valid email address"),password:se().min(8,"Password must be at least 8 characters"),confirmPassword:se().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function eae(){const[,t]=en(),{toast:e}=$t(),n=ou(),[r,i]=f.useState(!1),a=nr({resolver:rr(Jie),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),o=De({mutationFn:async c=>{const d=await fetch(hs("/api/auth/web-register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const u=await d.json();throw new Error(u.error||"Failed to create account")}return d.json()},onSuccess:c=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Account created!",description:c.message||"Please check your email to verify your account."}),t("/")},onError:c=>{e({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{const{confirmPassword:d,...u}=c;await o.mutateAsync(u)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(X,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-8 h-8 text-white"})})}),s.jsx(J,{className:"text-2xl font-bold",children:"Create an account"}),s.jsx(ke,{children:"Join Ready Set Fly to rent aircraft or list your own"}),s.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"Service available for US residents only"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"firstName",children:"First name"}),s.jsx(q,{id:"firstName",placeholder:"John",...a.register("firstName"),"data-testid":"input-firstname",disabled:r}),a.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"lastName",children:"Last name"}),s.jsx(q,{id:"lastName",placeholder:"Doe",...a.register("lastName"),"data-testid":"input-lastname",disabled:r}),a.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"email",children:"Email"}),s.jsx(q,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"password",children:"Password"}),s.jsx(q,{id:"password",type:"password",placeholder:"At least 8 characters",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"confirmPassword",children:"Confirm password"}),s.jsx(q,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",...a.register("confirmPassword"),"data-testid":"input-confirm-password",disabled:r}),a.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.confirmPassword.message})]}),s.jsx(O,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-register",children:r?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(O,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href=hs("/api/auth/google"),"data-testid":"button-oauth-register",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(f0,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>t("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login",children:"Sign in"})]})})]})})}function tae(){const[,t]=en(),[e,n]=f.useState("loading"),[r,i]=f.useState("");return f.useEffect(()=>{(async()=>{const l=new URLSearchParams(window.location.search).get("token");if(!l){n("error"),i("Verification token is missing");return}try{const c=await fetch(`/api/auth/verify-email?token=${l}`),d=await c.json();c.ok?(n("success"),i(d.message||"Email verified successfully!")):(n("error"),i(d.error||"Verification failed"))}catch{n("error"),i("Failed to verify email. Please try again.")}})()},[]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(X,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[e==="loading"&&s.jsx(Hd,{className:"h-16 w-16 text-blue-600 animate-spin","data-testid":"icon-loading"}),e==="success"&&s.jsx(Vt,{className:"h-16 w-16 text-green-600","data-testid":"icon-success"}),e==="error"&&s.jsx(er,{className:"h-16 w-16 text-red-600","data-testid":"icon-error"})]}),s.jsxs(J,{className:"text-2xl",children:[e==="loading"&&"Verifying Your Email",e==="success"&&"Email Verified!",e==="error"&&"Verification Failed"]}),s.jsx(ke,{"data-testid":"text-message",children:r||"Please wait while we verify your email address..."})]}),s.jsxs(U,{className:"flex flex-col gap-3",children:[e==="success"&&s.jsx(O,{onClick:()=>t("/"),className:"w-full","data-testid":"button-continue",children:"Continue to Dashboard"}),e==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(O,{onClick:()=>t("/login"),className:"w-full","data-testid":"button-login",children:"Go to Login"}),s.jsx(O,{onClick:()=>t("/register"),variant:"outline",className:"w-full","data-testid":"button-register",children:"Create New Account"})]})]})]})})}function sae(t){const e={totalTime:0,pic:0,sic:0,dual:0,night:0,day:0,instrumentActual:0,crossCountry:0,approaches:0,landings:0};return t.forEach(n=>{const r=parseFloat(n.pic||"0"),i=parseFloat(n.sic||"0"),a=parseFloat(n.dual||"0"),o=parseFloat(n.timeNight||"0"),l=parseFloat(n.timeDay||"0"),c=parseFloat(n.instrumentActual||"0");e.totalTime+=r+i,e.pic+=r,e.sic+=i,e.dual+=a,e.night+=o,e.day+=l,e.instrumentActual+=c,e.approaches+=n.approaches||0,e.landings+=(n.landingsDay||0)+(n.landingsNight||0)}),e}function nae(t){const e=["Date","Tail Number","Aircraft Type","Route","Time Day","Time Night","PIC","SIC","Dual","Instrument","Approaches","Landings Day","Landings Night","Holds","Remarks"],n=t.map(l=>[l.flightDate,l.tailNumber||"",l.aircraftType||"",l.route||"",l.timeDay||"0",l.timeNight||"0",l.pic||"0",l.sic||"0",l.dual||"0",l.instrumentActual||"0",l.approaches||"0",l.landingsDay||"0",l.landingsNight||"0",l.holds||"0",l.remarks||""]),r=[e,...n].map(l=>l.join(",")).join(`
`),i=new Blob([r],{type:"text/csv"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=`logbook-${new Date().toISOString().split("T")[0]}.csv`,o.click(),URL.revokeObjectURL(a)}function tp(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toISOString().split("T")[0]}function jc(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString()}function rae(){var Q,H,le,he,z,R,I,de,A,xe,Le,it,Qe,je,Ue;const{toast:t}=$t(),e=ou(),{user:n}=Os(),[r,i]=f.useState(!1),[a,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(null),[x,v]=f.useState("pilot"),b=(n==null?void 0:n.logbookProStatus)==="active",[g,p]=f.useState({medicalClass:"",medicalIssuedAt:"",medicalExpiresAt:"",flightReviewDate:"",ipcDate:""}),{data:j=[],isLoading:w}=Ge({queryKey:["/api/logbook"]}),{data:N,isLoading:P}=Ge({queryKey:["/api/logbook/pro/summary"],enabled:b});f.useEffect(()=>{N!=null&&N.settings&&p({medicalClass:N.settings.medicalClass||"",medicalIssuedAt:tp(N.settings.medicalIssuedAt),medicalExpiresAt:tp(N.settings.medicalExpiresAt),flightReviewDate:tp(N.settings.flightReviewDate),ipcDate:tp(N.settings.ipcDate)})},[N]);const S=De({mutationFn:async ie=>(await Ae("POST","/api/logbook",ie)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),i(!1),t({title:"Entry created"})},onError:ie=>{t({title:"Failed to create entry",description:ie.message,variant:"destructive"})}}),C=De({mutationFn:async({id:ie,data:ue})=>(await Ae("PATCH",`/api/logbook/${ie}`,ue)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),o(null),t({title:"Entry updated"})},onError:ie=>{t({title:"Failed to update entry",description:ie.message,variant:"destructive"})}}),k=De({mutationFn:async ie=>(await Ae("DELETE",`/api/logbook/${ie}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),t({title:"Entry deleted"})},onError:ie=>{t({title:"Failed to delete entry",description:ie.message,variant:"destructive"})}}),D=De({mutationFn:async({id:ie,signatureDataUrl:ue,signedByName:Te})=>(await Ae("POST",`/api/logbook/${ie}/lock`,{signatureDataUrl:ue,signedByName:Te})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),u(!1),m(null),t({title:"Entry locked and signed"})},onError:ie=>{t({title:"Failed to lock entry",description:ie.message,variant:"destructive"})}}),F=De({mutationFn:async()=>{const ie={medicalClass:g.medicalClass||null,medicalIssuedAt:g.medicalIssuedAt?g.medicalIssuedAt:null,medicalExpiresAt:g.medicalExpiresAt?g.medicalExpiresAt:null,flightReviewDate:g.flightReviewDate?g.flightReviewDate:null,ipcDate:g.ipcDate?g.ipcDate:null},ue=await Ae("PUT","/api/logbook/pro/settings",ie);if(!ue.ok){const Te=await ue.json();throw new Error(Te.error||"Failed to update Logbook Pro settings")}return ue.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook/pro/summary"]}),t({title:"Logbook Pro updated",description:"Your currency settings were saved."})},onError:ie=>{t({title:"Update failed",description:ie.message,variant:"destructive"})}}),L=De({mutationFn:async ie=>(await Ae("POST",`/api/logbook/${ie}/unlock`,{})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]})},onError:ie=>{t({title:"Failed to unlock entry",description:ie.message,variant:"destructive"})}}),B=De({mutationFn:async({id:ie,signatureDataUrl:ue,signedByName:Te})=>(await Ae("POST",`/api/logbook/${ie}/countersign`,{signatureDataUrl:ue,signedByName:Te})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),u(!1),m(null),t({title:"Entry countersigned"})},onError:ie=>{t({title:"Failed to countersign",description:ie.message,variant:"destructive"})}});j.reduce((ie,ue)=>ie+parseFloat(ue.pic||"0")+parseFloat(ue.sic||"0"),0).toFixed(1);const Y=sae(j);return s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[j.some(ie=>!ie.isLocked)&&s.jsxs("div",{className:"mb-4 rounded-md border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:["Unsigned entries are drafts. Click ",s.jsx("span",{className:"font-semibold",children:"Sign"})," to lock and finalize."]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(G,{variant:"outline",className:"text-sm px-4 py-2 bg-green-50 border-green-200",children:" FREE Digital Logbook - No Credit Card Required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Your data, always accessible. Export anytime."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.totalTime.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Time"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.pic.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PIC"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.night.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Night"})]})})}),s.jsx($,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.instrumentActual.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instrument"})]})})})]}),s.jsxs($,{className:"mb-6",children:[s.jsx(X,{children:s.jsx(J,{className:"text-lg",children:"Flight Time Breakdown"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"SIC"}),s.jsxs("p",{className:"font-semibold",children:[Y.sic.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dual Received"}),s.jsxs("p",{className:"font-semibold",children:[Y.dual.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Day"}),s.jsxs("p",{className:"font-semibold",children:[Y.day.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Approaches"}),s.jsx("p",{className:"font-semibold",children:Y.approaches})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Landings"}),s.jsx("p",{className:"font-semibold",children:Y.landings})]})]})})]}),s.jsxs($,{children:[s.jsx(X,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(J,{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-6 w-6"}),"Flight Entries"]}),s.jsx(ke,{children:"Track your flights and build your experience"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(O,{variant:"outline",size:"sm",onClick:()=>nae(j),disabled:j.length===0,children:[s.jsx(CR,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsxs(Qt,{open:r,onOpenChange:i,children:[s.jsx(PO,{asChild:!0,children:s.jsxs(O,{children:[s.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Add Entry"]})}),s.jsx(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(uk,{onSubmit:ie=>S.mutate(ie),isPending:S.isPending})})]})]})]})}),s.jsx(U,{children:w?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Hd,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):j.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No logbook entries yet. Add your first flight!"}):s.jsxs(O0,{children:[s.jsx(M0,{children:s.jsxs(Zc,{children:[s.jsx(rn,{children:"Date"}),s.jsx(rn,{children:"Tail #"}),s.jsx(rn,{children:"Aircraft"}),s.jsx(rn,{children:"Route"}),s.jsx(rn,{children:"PIC"}),s.jsx(rn,{children:"SIC"}),s.jsx(rn,{children:"Dual"}),s.jsx(rn,{children:"Inst"}),s.jsx(rn,{children:"Ldg"}),s.jsx(rn,{children:"Status"}),s.jsx(rn,{children:"Actions"})]})}),s.jsx(L0,{children:j.map(ie=>s.jsxs(Zc,{className:"cursor-pointer hover:bg-muted/40",onClick:()=>c(ie),children:[s.jsx(Ks,{children:new Date(ie.flightDate).toLocaleDateString()}),s.jsx(Ks,{children:ie.tailNumber||"-"}),s.jsx(Ks,{children:ie.aircraftType||"-"}),s.jsx(Ks,{children:ie.route||"-"}),s.jsx(Ks,{children:ie.pic||"0"}),s.jsx(Ks,{children:ie.sic||"0"}),s.jsx(Ks,{children:ie.dual||"0"}),s.jsx(Ks,{children:ie.instrumentActual||"0"}),s.jsx(Ks,{children:(ie.landingsDay||0)+(ie.landingsNight||0)}),s.jsx(Ks,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[ie.isLocked?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-700",children:[s.jsx(IC,{className:"h-3 w-3"}),ie.signedByName?`Signed by ${ie.signedByName}`:"Signed"]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Draft  needs signature"}),ie.cfiSignedAt&&s.jsxs("span",{className:"text-[11px] text-blue-700",children:["CFI: ",ie.cfiSignedByName||"Signed"]})]})}),s.jsx(Ks,{children:s.jsxs("div",{className:"flex gap-2",children:[!ie.isLocked&&s.jsxs(s.Fragment,{children:[s.jsx(O,{variant:"ghost",size:"sm",onClick:ue=>{ue.stopPropagation(),o(ie)},children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsxs(O,{variant:"default",size:"sm",onClick:ue=>{ue.stopPropagation(),m(ie.id),v("pilot"),u(!0)},children:[s.jsx(IC,{className:"h-4 w-4 mr-1"})," Sign"]}),s.jsx(O,{variant:"ghost",size:"sm",onClick:ue=>{ue.stopPropagation(),confirm("Delete this entry?")&&k.mutate(ie.id)},children:s.jsx(Cn,{className:"h-4 w-4"})})]}),ie.isLocked&&!ie.cfiSignedAt&&s.jsx(O,{variant:"outline",size:"sm",onClick:ue=>{ue.stopPropagation(),m(ie.id),v("cfi"),u(!0)},children:"CFI Sign"})]})})]},ie.id))})]})})]}),b&&s.jsxs($,{className:"mt-6",children:[s.jsxs(X,{children:[s.jsxs(J,{className:"text-lg flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-primary"}),"Logbook Pro Dashboard"]}),s.jsx(ke,{children:"Currency tracking, expirations, and quick actions."})]}),s.jsxs(U,{className:"space-y-4",children:[P?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Hd,{className:"h-4 w-4 animate-spin"}),"Loading Logbook Pro summary..."]}):s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"90-Day Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total landings: ",((Q=N==null?void 0:N.currency)==null?void 0:Q.totalLandings)??0]}),s.jsx(G,{variant:(H=N==null?void 0:N.currency)!=null&&H.dayCurrent?"default":"outline",children:(le=N==null?void 0:N.currency)!=null&&le.dayCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",jc((he=N==null?void 0:N.currency)==null?void 0:he.dayCurrencyDueAt)]})]}),s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Night Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Night landings: ",((z=N==null?void 0:N.currency)==null?void 0:z.landingsNight)??0]}),s.jsx(G,{variant:(R=N==null?void 0:N.currency)!=null&&R.nightCurrent?"default":"outline",children:(I=N==null?void 0:N.currency)!=null&&I.nightCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",jc((de=N==null?void 0:N.currency)==null?void 0:de.nightCurrencyDueAt)]})]}),s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"IFR Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Approaches + holds: ",((A=N==null?void 0:N.currency)==null?void 0:A.instrumentTotal)??0]}),s.jsx(G,{variant:(xe=N==null?void 0:N.currency)!=null&&xe.instrumentCurrent?"default":"outline",children:(Le=N==null?void 0:N.currency)!=null&&Le.instrumentCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",jc((it=N==null?void 0:N.currency)==null?void 0:it.instrumentDueAt)]})]})]}),s.jsx(Je,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Expiration Tracking"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Medical expires: ",jc((Qe=N==null?void 0:N.expirations)==null?void 0:Qe.medicalExpiresAt)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Flight review due: ",jc((je=N==null?void 0:N.expirations)==null?void 0:je.flightReviewDueAt)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["IPC date: ",jc((Ue=N==null?void 0:N.expirations)==null?void 0:Ue.ipcDate)]}),s.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(at,{href:"/flight-planner",children:"Open Flight Planner"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Update Logbook Pro dates"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Medical Class"}),s.jsx(q,{value:g.medicalClass,onChange:ie=>p({...g,medicalClass:ie.target.value}),placeholder:"Class 1/2/3"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Medical Issued"}),s.jsx(q,{type:"date",value:g.medicalIssuedAt,onChange:ie=>p({...g,medicalIssuedAt:ie.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Medical Expires"}),s.jsx(q,{type:"date",value:g.medicalExpiresAt,onChange:ie=>p({...g,medicalExpiresAt:ie.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Flight Review"}),s.jsx(q,{type:"date",value:g.flightReviewDate,onChange:ie=>p({...g,flightReviewDate:ie.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"IPC Date"}),s.jsx(q,{type:"date",value:g.ipcDate,onChange:ie=>p({...g,ipcDate:ie.target.value})})]})]}),s.jsx(O,{onClick:()=>F.mutate(),disabled:F.isPending,children:F.isPending?"Saving...":"Save Logbook Pro Settings"})]})]})]})]}),s.jsxs($,{className:"mt-6 border-primary/20 bg-primary/5",children:[s.jsxs(X,{children:[s.jsxs(J,{className:"text-lg flex items-center gap-2",children:[s.jsx(Tl,{className:"h-5 w-5 text-primary"}),"Upgrade to Logbook Pro"]}),s.jsx(ke,{children:"Unlock advanced automation, currency tracking, and pro tools."})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Currency Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"90-day landings, night, IFR alerts"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Tl,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Endorsement Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instructor sign-offs & CFI workflows"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Expiration Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Medical, flight review, IPC reminders"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Tl,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Flight Planner"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Build and save routes with fuel notes"})]})]})]}),s.jsx(Je,{className:"my-4"}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(n==null?void 0:n.logbookProStatus)==="active"&&s.jsx(G,{variant:"default",children:"Logbook Pro Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Tip: ",s.jsx("strong",{children:"Your logbook data will always be free and exportable."})," Pro adds intelligence and automation."]}),s.jsx(O,{variant:"default",asChild:!0,children:s.jsx(at,{href:"/logbook/pro",children:(n==null?void 0:n.logbookProStatus)==="active"?"Manage Logbook Pro":"Upgrade to Logbook Pro"})}),s.jsx("p",{className:"text-[11px] text-muted-foreground text-center",children:"Cancel anytime. Free logbook access stays available."})]})]})]}),a&&s.jsx(Qt,{open:!!a,onOpenChange:()=>o(null),children:s.jsx(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(uk,{initialData:a,onSubmit:ie=>C.mutate({id:a.id,data:ie}),isPending:C.isPending})})}),d&&h&&s.jsx(Qt,{open:d,onOpenChange:u,children:s.jsx(Wt,{children:s.jsx(iae,{onSign:(ie,ue)=>{x==="pilot"?D.mutate({id:h,signatureDataUrl:ie,signedByName:ue}):B.mutate({id:h,signatureDataUrl:ie,signedByName:ue})},isPending:D.isPending||B.isPending})})}),l&&s.jsx(Qt,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Logbook Entry Details"}),s.jsx(ss,{children:"Review flight details and remarks."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Date"}),s.jsx("div",{children:new Date(l.flightDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Tail Number"}),s.jsx("div",{children:l.tailNumber||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Aircraft Type"}),s.jsx("div",{children:l.aircraftType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Route"}),s.jsx("div",{children:l.route||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"PIC"}),s.jsx("div",{children:l.pic||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"SIC"}),s.jsx("div",{children:l.sic||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Dual"}),s.jsx("div",{children:l.dual||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Instrument"}),s.jsx("div",{children:l.instrumentActual||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Landings (Day/Night)"}),s.jsxs("div",{children:[l.landingsDay||0," / ",l.landingsNight||0]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Approaches / Holds"}),s.jsxs("div",{children:[l.approaches||0," / ",l.holds||0]})]})]}),s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Remarks"}),s.jsx("div",{className:"rounded-md border border-border bg-muted/40 p-3 min-h-[80px] whitespace-pre-wrap",children:l.remarks||""})]}),s.jsx("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:s.jsxs("div",{children:["Status: ",l.isLocked?"Locked (signed)":"Draft",l.cfiSignedAt?"  CFI signed":""]})}),s.jsxs(hn,{className:"mt-4",children:[s.jsx(O,{variant:"outline",onClick:()=>c(null),children:"Close"}),s.jsx(O,{onClick:()=>{if(l.isLocked){if(!confirm("Editing will unlock this entry and clear signatures. You'll need to re-sign. Continue?"))return;L.mutate(l.id,{onSuccess:()=>{c(null),o({...l,isLocked:!1})}})}else c(null),o(l)},disabled:L.isPending,children:l.isLocked?"Edit & Re-sign":"Edit Entry"})]})]})})]})}function uk({initialData:t,onSubmit:e,isPending:n}){var o,l,c,d,u,h,m,x;const[r,i]=f.useState(t?{flightDate:typeof t.flightDate=="string"?new Date(t.flightDate):t.flightDate,tailNumber:t.tailNumber,aircraftType:t.aircraftType,route:t.route,timeDay:((o=t.timeDay)==null?void 0:o.toString())||"",timeNight:((l=t.timeNight)==null?void 0:l.toString())||"",pic:((c=t.pic)==null?void 0:c.toString())||"",sic:((d=t.sic)==null?void 0:d.toString())||"",dual:((u=t.dual)==null?void 0:u.toString())||"",instrumentActual:((h=t.instrumentActual)==null?void 0:h.toString())||"",approaches:t.approaches??"",landingsDay:t.landingsDay??"",landingsNight:t.landingsNight??"",holds:t.holds??"",remarks:t.remarks,hobbsStart:(m=t.hobbsStart)==null?void 0:m.toString(),hobbsEnd:(x=t.hobbsEnd)==null?void 0:x.toString()}:{flightDate:new Date,tailNumber:"",aircraftType:"",route:"",timeDay:"",timeNight:"",pic:"",sic:"",dual:"",instrumentActual:"",approaches:"",landingsDay:"",landingsNight:"",holds:"",remarks:"",hobbsStart:"",hobbsEnd:""}),a=v=>{var g,p,j,w,N,P,S,C;v.preventDefault();const b={...r,hobbsStart:((g=r.hobbsStart)==null?void 0:g.trim())||void 0,hobbsEnd:((p=r.hobbsEnd)==null?void 0:p.trim())||void 0,timeDay:((j=r.timeDay)==null?void 0:j.trim())||void 0,timeNight:((w=r.timeNight)==null?void 0:w.trim())||void 0,pic:((N=r.pic)==null?void 0:N.trim())||void 0,sic:((P=r.sic)==null?void 0:P.trim())||void 0,dual:((S=r.dual)==null?void 0:S.trim())||void 0,instrumentActual:((C=r.instrumentActual)==null?void 0:C.trim())||void 0,approaches:r.approaches===""?void 0:r.approaches,landingsDay:r.landingsDay===""?void 0:r.landingsDay,landingsNight:r.landingsNight===""?void 0:r.landingsNight,holds:r.holds===""?void 0:r.holds};e(b)};return s.jsxs("form",{onSubmit:a,children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:t?"Edit Entry":"New Logbook Entry"}),s.jsx(ss,{children:"Fill in the flight details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"flightDate",children:"Flight Date"}),s.jsx(q,{id:"flightDate",type:"date",value:r.flightDate instanceof Date?r.flightDate.toISOString().split("T")[0]:"",onChange:v=>i({...r,flightDate:new Date(v.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"tailNumber",children:"Tail Number"}),s.jsx(q,{id:"tailNumber",value:r.tailNumber||"",onChange:v=>i({...r,tailNumber:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"aircraftType",children:"Aircraft Type"}),s.jsx(q,{id:"aircraftType",value:r.aircraftType||"",onChange:v=>i({...r,aircraftType:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"route",children:"Route"}),s.jsx(q,{id:"route",value:r.route||"",onChange:v=>i({...r,route:v.target.value}),placeholder:"e.g. KDEN-KCOS"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"pic",children:"PIC (hours)"}),s.jsx(q,{id:"pic",type:"number",step:"0.1",placeholder:"0.0",value:r.pic||"",onChange:v=>i({...r,pic:v.target.value}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"sic",children:"SIC (hours)"}),s.jsx(q,{id:"sic",type:"number",step:"0.1",placeholder:"0.0",value:r.sic||"",onChange:v=>i({...r,sic:v.target.value}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"dual",children:"Dual (hours)"}),s.jsx(q,{id:"dual",type:"number",step:"0.1",placeholder:"0.0",value:r.dual||"",onChange:v=>i({...r,dual:v.target.value}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"instrumentActual",children:"Instrument (hours)"}),s.jsx(q,{id:"instrumentActual",type:"number",step:"0.1",placeholder:"0.0",value:r.instrumentActual||"",onChange:v=>i({...r,instrumentActual:v.target.value}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"landingsDay",children:"Day Landings"}),s.jsx(q,{id:"landingsDay",type:"number",placeholder:"0",value:r.landingsDay||"",onChange:v=>i({...r,landingsDay:v.target.value===""?"":parseInt(v.target.value)}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"landingsNight",children:"Night Landings"}),s.jsx(q,{id:"landingsNight",type:"number",placeholder:"0",value:r.landingsNight||"",onChange:v=>i({...r,landingsNight:v.target.value===""?"":parseInt(v.target.value)}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"approaches",children:"Approaches"}),s.jsx(q,{id:"approaches",type:"number",placeholder:"0",value:r.approaches||"",onChange:v=>i({...r,approaches:v.target.value===""?"":parseInt(v.target.value)}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"holds",children:"Holds"}),s.jsx(q,{id:"holds",type:"number",placeholder:"0",value:r.holds||"",onChange:v=>i({...r,holds:v.target.value===""?"":parseInt(v.target.value)}),onFocus:v=>v.target.select()})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(pe,{htmlFor:"remarks",children:"Remarks"}),s.jsx(ns,{id:"remarks",value:r.remarks||"",onChange:v=>i({...r,remarks:v.target.value}),rows:3})]})]}),s.jsx(hn,{children:s.jsxs(O,{type:"submit",disabled:n,children:[n&&s.jsx(Hd,{className:"h-4 w-4 mr-2 animate-spin"}),t?"Update":"Create"]})})]})}function iae({onSign:t,isPending:e}){const[n,r]=f.useState(""),[i,a]=f.useState("draw"),[o,l]=f.useState(""),[c,d]=f.useState(!1),u=f.useRef(null),h=f.useRef(!1);f.useEffect(()=>{const w=u.current;if(!w)return;const N=()=>{var S;const P=((S=w.parentElement)==null?void 0:S.clientWidth)||600;w.width=P,w.height=220};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const m=w=>{const N=u.current;if(!N)return;h.current=!0;const P=N.getContext("2d");if(!P)return;P.strokeStyle="#111827",P.lineWidth=2,P.lineCap="round";const S=N.getBoundingClientRect();P.beginPath(),P.moveTo(w.clientX-S.left,w.clientY-S.top)},x=w=>{if(!h.current)return;const N=u.current;if(!N)return;const P=N.getContext("2d");if(!P)return;const S=N.getBoundingClientRect();P.lineTo(w.clientX-S.left,w.clientY-S.top),P.stroke(),d(!0)},v=()=>{h.current=!1},b=()=>{const w=u.current;if(!w)return;const N=w.getContext("2d");N&&(N.clearRect(0,0,w.width,w.height),d(!1))},g=()=>{const w=u.current;return w?w.toDataURL("image/png"):""},p=()=>{if(!o.trim())return"";const w=document.createElement("canvas");w.width=800,w.height=200;const N=w.getContext("2d");return N?(N.fillStyle="#ffffff",N.fillRect(0,0,w.width,w.height),N.fillStyle="#111827",N.font="48px 'Segoe Script', 'Pacifico', cursive",N.textBaseline="middle",N.fillText(o.trim(),40,w.height/2),w.toDataURL("image/png")):""},j=()=>{if(!n.trim()){alert("Please enter the signer name/title");return}const w=i==="draw"?g():p();if(!w||i==="draw"&&!c){alert("Please add a signature first");return}t(w,n.trim())};return s.jsxs(s.Fragment,{children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:"Sign and Lock Entry"}),s.jsx(ss,{children:"Draw on phone/tablet or type a signature from desktop."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(pe,{htmlFor:"signedByName",children:"Signer name & title"}),s.jsx(q,{id:"signedByName",value:n,onChange:w=>r(w.target.value),placeholder:"e.g. Jane Smith, CFI"})]}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx(O,{type:"button",variant:i==="draw"?"default":"outline",onClick:()=>a("draw"),children:"Draw Signature"}),s.jsx(O,{type:"button",variant:i==="type"?"default":"outline",onClick:()=>a("type"),children:"Type Signature"})]}),i==="draw"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"border rounded-md overflow-hidden touch-none",children:s.jsx("canvas",{ref:u,className:"w-full h-52 bg-white",onPointerDown:m,onPointerMove:x,onPointerUp:v,onPointerLeave:v})}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:b,children:"Clear"}),s.jsx("p",{className:"text-xs text-muted-foreground self-center",children:"Use finger/stylus on mobile or mouse on desktop."})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"typedSignature",children:"Type your name"}),s.jsx(q,{id:"typedSignature",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. Jane Smith"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A styled signature image will be generated."})]})]}),s.jsx(hn,{children:s.jsxs(O,{onClick:j,disabled:e,children:[e&&s.jsx(Hd,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign & Lock"]})})]})}function aae(t){if(!t)return{category:"UNKNOWN",color:"gray"};const e=t.rawOb||"",n=e.match(/\s(\d{1,2})SM/),r=n?parseInt(n[1]):10,i=e.match(/(BKN|OVC)(\d{3})/),a=i?parseInt(i[2])*100:1e4;return a>=3e3&&r>5?{category:"VFR",color:"green"}:a>=1e3&&r>=3?{category:"MVFR",color:"blue"}:a>=500&&r>=1?{category:"IFR",color:"red"}:{category:"LIFR",color:"purple"}}function oae(t){const n=Date.now()-t,r=Math.floor(n/6e4);return r<1?"just now":r<60?`${r} min ago`:`${Math.floor(r/60)}h ${r%60}m ago`}function lae(t){if(!(t!=null&&t.rawOb))return null;const e=t.rawOb,n=e.match(/\bINFO\s+([A-Z])\b/i);if(n)return`Information ${n[1].toUpperCase()}`;const r=e.match(/\bATIS\s+([A-Z])\b/i);if(r)return`Information ${r[1].toUpperCase()}`;const i=e.indexOf("RMK");if(i!==-1){const o=e.substring(i).match(/\s([A-Z])\s*$/);if(o)return`Information ${o[1]}`}return null}function cae(t){if(!(t!=null&&t.rawOb))return null;const e=t.rawOb,n=e.match(/\b(?:RWY|RUNWAY)\s+(\d{2}[LCR]?(?:\s*(?:AND|\/|&)\s*\d{2}[LCR]?)*)/i);if(n)return n[1].replace(/\s+/g," ").trim();const r=e.match(/\bARR\s+(?:RWY|RUNWAY)\s+(\d{2}[LCR]?)/i),i=e.match(/\bDEP\s+(?:RWY|RUNWAY)\s+(\d{2}[LCR]?)/i);if(r||i){const a=[];return r&&a.push(`${r[1]} (arr)`),i&&a.push(`${i[1]} (dep)`),a.join(", ")}return null}function dae(){const{user:t}=Os(),[e,n]=f.useState("KAUS"),[r,i]=f.useState("KAUS"),{data:a,isLoading:o,error:l,refetch:c}=Ge({queryKey:[`/api/aviation-weather/${r}`],queryFn:async()=>{const x=await fetch(hs(`/api/aviation-weather/${r}`),{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch weather data");return x.json()},enabled:!!r}),d=()=>{e.trim().length>=3&&i(e.toUpperCase().trim())},u=aae(a==null?void 0:a.metar),h=lae(a==null?void 0:a.metar),m=cae(a==null?void 0:a.metar);return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[s.jsx(SR,{className:"h-8 w-8"}),"Pilot Tools"]}),s.jsx("p",{className:"text-muted-foreground",children:"Aviation weather, NOTAMs, and airport information"})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs(J,{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5"}),"Flight Planner (Logbook Pro)"]}),s.jsx(ke,{children:"Save common routes, fuel notes, and timing."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(O,{asChild:!0,children:s.jsx(at,{href:"/flight-planner",children:(t==null?void 0:t.logbookProStatus)==="active"?"Open Flight Planner":"Preview Flight Planner"})}),s.jsx(G,{variant:"outline",children:(t==null?void 0:t.logbookProStatus)==="active"?"Active":"Preview available"})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs(J,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"IFR Approach Plates"]}),s.jsx(ke,{children:"Search and download current FAA approach plates."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(O,{asChild:!0,children:s.jsx(at,{href:"/approach-plates",children:"Open Approach Plates"})}),s.jsx(G,{variant:"outline",children:"Hosted by ReadySetFly"})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Airport Weather"}),s.jsx(ke,{children:"Enter an ICAO code (e.g., KAUS, KJFK, KDFW)"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{htmlFor:"icao",className:"sr-only",children:"ICAO Code"}),s.jsx(q,{id:"icao",value:e,onChange:x=>n(x.target.value.toUpperCase()),onKeyDown:x=>x.key==="Enter"&&d(),placeholder:"ICAO (e.g., KAUS)",maxLength:4,className:"uppercase"})]}),s.jsxs(O,{onClick:d,disabled:o,children:[o?s.jsx(Hd,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(zn,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]}),l&&s.jsxs(Kn,{variant:"destructive",children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsx(Gn,{children:l instanceof Error&&l.message.includes("404")?`No weather data available for this airport. ${r} may not report METAR/TAF.`:"Failed to fetch weather data. Please check the ICAO code and try again."})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs(J,{className:"flex items-center gap-2",children:[s.jsx(AC,{className:"h-5 w-5"}),a.icao," - Current Conditions"]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(G,{variant:"outline",className:`text-white ${u.color==="green"?"bg-green-600":u.color==="blue"?"bg-blue-600":u.color==="red"?"bg-red-600":"bg-purple-600"}`,children:u.category}),h&&s.jsx(G,{variant:"outline",className:"bg-sky-100 dark:bg-sky-900/30 text-sky-800 dark:text-sky-200",children:h})]})]}),s.jsxs(ke,{className:"flex items-center gap-2 flex-wrap",children:[a.metar&&s.jsxs("span",{className:"text-xs",children:["Updated: ",oae(new Date(a.metar.obsTime).getTime())]}),a.cached&&s.jsx(G,{variant:"secondary",className:"text-xs",children:"Cached"}),m&&s.jsxs(G,{variant:"outline",className:"text-xs bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200",children:["Runway ",m," in use"]})]})]}),s.jsxs(U,{className:"space-y-4",children:[a.metar?s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx(pe,{className:"text-sm font-semibold",children:"METAR"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1",children:a.metar.rawOb})]})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No METAR data available"}),s.jsx(Je,{}),a.taf?s.jsxs("div",{children:[s.jsx(pe,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1 whitespace-pre-wrap",children:a.taf.rawTAF})]}):s.jsxs("div",{children:[s.jsx(pe,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"No TAF data available"})]}),s.jsxs(Kn,{children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsxs(Gn,{className:"text-xs",children:[s.jsx("strong",{children:"Disclaimer:"})," This information is for planning purposes only and is not for official flight briefings. Always obtain an official weather briefing before flight."]})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Aviation Resources"}),s.jsx(ke,{children:"Official sources for flight planning"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(O,{variant:"outline",className:"justify-start",asChild:!0,children:s.jsxs("a",{href:`https://www.aviationweather.gov/metar/data?ids=${a.icao}&format=decoded`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(AC,{className:"h-4 w-4 mr-2"}),"View METAR/TAF",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]})}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://notams.aim.faa.gov/notamSearch/nsapp.html#/","_blank"),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"NOTAMs",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://tfr.faa.gov/tfr2/list.html","_blank"),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"TFRs",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.faa.gov/air_traffic/flight_info/aeronav/digital_products/dafd/","_blank"),children:[s.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Chart Supplement",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.1800wxbrief.com/","_blank"),children:[s.jsx(uz,{className:"h-4 w-4 mr-2"}),"1800WXBRIEF",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(O,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://skyvector.com/airport/${a.icao}`,"_blank"),children:[s.jsx(Fn,{className:"h-4 w-4 mr-2"}),"SkyVector",s.jsx(Yr,{className:"h-3 w-3 ml-auto"})]})]}),s.jsx(Je,{className:"my-4"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"METAR:"})," Current observed weather conditions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TAF:"})," Terminal Aerodrome Forecast (6-30 hour forecast)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"NOTAMs:"})," Notices to Airmen (runway closures, navaid outages, etc.)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TFRs:"})," Temporary Flight Restrictions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chart Supplement:"})," Airport/facility directory with frequencies and procedures"]})]})]})]})]})]})})}const Bv={annualHours:100,hangar:3600,insurance:2e3,annualInspection:1800,loanPaymentAnnual:0,subscriptions:300,otherFixed:0,fuelPerHour:80,oilPerHour:3,maintenanceReservePerHour:20,engineReservePerHour:25,otherVariablePerHour:0};function uae(t){const e=Number(t.replace(/[^0-9.\-]/g,""));return Number.isFinite(e)?e:0}function hae(){const[t,e]=f.useState(()=>{try{const l=localStorage.getItem("ownership-cost-inputs");return l?{...Bv,...JSON.parse(l)}:Bv}catch{return Bv}});f.useEffect(()=>{try{localStorage.setItem("ownership-cost-inputs",JSON.stringify(t))}catch{}},[t]);const n=f.useMemo(()=>{const{hangar:l,insurance:c,annualInspection:d,loanPaymentAnnual:u,subscriptions:h,otherFixed:m}=t;return l+c+d+u+h+m},[t]),r=f.useMemo(()=>{const{fuelPerHour:l,oilPerHour:c,maintenanceReservePerHour:d,engineReservePerHour:u,otherVariablePerHour:h}=t;return l+c+d+u+h},[t]),i=f.useMemo(()=>t.annualHours<=0?0:n/t.annualHours+r,[n,r,t.annualHours]),a=f.useMemo(()=>Math.round(i*1.15*100)/100,[i]),o=l=>c=>{e(d=>({...d,[l]:uae(c.target.value)}))};return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[s.jsx(NR,{className:"h-8 w-8"}),"Ownership Cost per Hour"]}),s.jsx("p",{className:"text-muted-foreground",children:"Estimate aircraft ownership cost per flight hour and a suggested rental price (+15%)."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-base",children:"Ownership Cost/hr"}),s.jsx(ke,{children:"Fixed/hrs + variable"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(rs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:i.toFixed(2)})]})})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-base",children:"Recommended Rental/hr"}),s.jsx(ke,{children:"+15% markup"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(G,{variant:"secondary",className:"text-xs",children:"Markup"}),s.jsx(rs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:a.toFixed(2)})]})})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-base",children:"Annual Fixed Costs"}),s.jsx(ke,{children:"Total per year"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(rs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:n.toFixed(0)})]})})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Inputs"}),s.jsx(ke,{children:"Adjust assumptions to match your aircraft"})]}),s.jsxs(U,{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-3",children:[s.jsx(pe,{htmlFor:"annualHours",children:"Expected Annual Utilization (hours)"}),s.jsx(q,{id:"annualHours",type:"number",min:0,step:"1",value:t.annualHours,onChange:o("annualHours")})]}),s.jsx(Je,{}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fixed Annual Costs"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"hangar",children:"Hangar/Tie-Down (annual)"}),s.jsx(q,{id:"hangar",type:"number",min:0,step:"1",value:t.hangar,onChange:o("hangar")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"insurance",children:"Insurance (annual)"}),s.jsx(q,{id:"insurance",type:"number",min:0,step:"1",value:t.insurance,onChange:o("insurance")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"annualInspection",children:"Annual/100-hr Inspection (annual)"}),s.jsx(q,{id:"annualInspection",type:"number",min:0,step:"1",value:t.annualInspection,onChange:o("annualInspection")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"loanPaymentAnnual",children:"Loan Payments (annual)"}),s.jsx(q,{id:"loanPaymentAnnual",type:"number",min:0,step:"1",value:t.loanPaymentAnnual,onChange:o("loanPaymentAnnual")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"subscriptions",children:"Subscriptions/Misc (annual)"}),s.jsx(q,{id:"subscriptions",type:"number",min:0,step:"1",value:t.subscriptions,onChange:o("subscriptions")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"otherFixed",children:"Other Fixed (annual)"}),s.jsx(q,{id:"otherFixed",type:"number",min:0,step:"1",value:t.otherFixed,onChange:o("otherFixed")})]})]})]}),s.jsx(Je,{}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Variable Costs (per flight hour)"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"fuelPerHour",children:"Fuel ($/hr)"}),s.jsx(q,{id:"fuelPerHour",type:"number",min:0,step:"1",value:t.fuelPerHour,onChange:o("fuelPerHour")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"oilPerHour",children:"Oil ($/hr)"}),s.jsx(q,{id:"oilPerHour",type:"number",min:0,step:"1",value:t.oilPerHour,onChange:o("oilPerHour")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"maintenanceReservePerHour",children:"Maintenance Reserve ($/hr)"}),s.jsx(q,{id:"maintenanceReservePerHour",type:"number",min:0,step:"1",value:t.maintenanceReservePerHour,onChange:o("maintenanceReservePerHour")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"engineReservePerHour",children:"Engine/Prop Reserve ($/hr)"}),s.jsx(q,{id:"engineReservePerHour",type:"number",min:0,step:"1",value:t.engineReservePerHour,onChange:o("engineReservePerHour")})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"otherVariablePerHour",children:"Other Variable ($/hr)"}),s.jsx(q,{id:"otherVariablePerHour",type:"number",min:0,step:"1",value:t.otherVariablePerHour,onChange:o("otherVariablePerHour")})]})]})]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{className:"text-base",children:"How this works"}),s.jsx(ke,{children:"Simple ownership math"})]}),s.jsxs(U,{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Ownership cost per hour = (annual fixed costs  annual hours) + variable per-hour costs."}),s.jsx("p",{children:"Recommended rental price is ownership cost per hour plus a 15% margin. Adjust the inputs to fit your aircraft and local prices."})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(O,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),variant:"outline",children:"Back to Top"})})]})})}const hk=.0825,mk=[{key:"MONTHLY",label:"Monthly",price:5.99},{key:"BIANNUAL",label:"6 Months",price:34.99},{key:"YEARLY",label:"Yearly",price:49.99}];function sp(t){return t.toFixed(2)}function mae(){const{user:t,isAuthenticated:e}=Os(),{toast:n}=$t(),[r,i]=f.useState("MONTHLY"),[a,o]=f.useState(!1);if(!e)return s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsx($,{children:s.jsxs(X,{children:[s.jsx(J,{children:"Logbook Pro"}),s.jsx(ke,{children:"Please sign in to upgrade your logbook."})]})})});const l=mk.find(v=>v.key===r),c=l.price*hk,d=l.price+c,u=async()=>{o(!0);try{const v=await Ae("POST","/api/paypal/logbook/subscribe",{plan:r}),b=await v.json();if(!v.ok||!b.approveUrl)throw new Error(b.error||"Unable to start subscription");window.location.href=b.approveUrl}catch(v){n({title:"Subscription failed",description:v.message,variant:"destructive"})}finally{o(!1)}},h=async()=>{if(confirm("Cancel Logbook Pro? You can continue using the free logbook.")){o(!0);try{const v=await Ae("POST","/api/paypal/logbook/cancel",{reason:"User cancellation"}),b=await v.json();if(!v.ok)throw new Error(b.error||"Unable to cancel subscription");n({title:"Subscription cancelled",description:"Logbook Pro is now cancelled."}),window.location.reload()}catch(v){n({title:"Cancellation failed",description:v.message,variant:"destructive"})}finally{o(!1)}}},m=(t==null?void 0:t.logbookProStatus)||"free",x=m==="active";return s.jsx("div",{className:"container mx-auto py-10 px-4 space-y-6",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Logbook Pro"}),s.jsx(ke,{children:"Upgrade for advanced analytics and automation."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(G,{variant:x?"default":"outline",children:["Status: ",m]}),(t==null?void 0:t.logbookProPlan)&&s.jsxs(G,{variant:"secondary",children:["Plan: ",t.logbookProPlan]})]}),x?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Logbook Pro subscription is active."}),s.jsx(O,{variant:"destructive",onClick:h,disabled:a,children:"Cancel Logbook Pro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime. Your free logbook remains available."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:mk.map(v=>{const b=v.price*hk,g=v.price+b,p=v.key===r;return s.jsxs("button",{className:`rounded-xl border p-4 text-left transition-all ${p?"border-primary bg-primary/5":"border-border"}`,onClick:()=>i(v.key),children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:v.label}),s.jsxs("div",{className:"text-2xl font-semibold",children:["$",sp(v.price)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+ tax ($",sp(b),") = $",sp(g)]})]},v.key)})}),s.jsx(Je,{}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Selected plan"}),s.jsx("div",{className:"font-medium",children:l.label})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-muted-foreground",children:"Total today"}),s.jsxs("div",{className:"font-semibold",children:["$",sp(d)]})]})]}),s.jsx(O,{onClick:u,disabled:a,children:a?"Redirecting...":"Upgrade with PayPal"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"By subscribing you agree to recurring billing at the selected interval."})]})]})]})})}function fae(){const[t,e]=f.useState("Processing..."),[n,r]=f.useState(null);return f.useEffect(()=>{const i=new URLSearchParams(window.location.search),a=i.get("subscription_id")||i.get("subscriptionId");if(!a){r("Missing subscription ID from PayPal."),e("Failed");return}Ae("GET",`/api/paypal/logbook/confirm?subscriptionId=${a}`).then(o=>o.json()).then(o=>{o!=null&&o.status?e(`Subscription status: ${o.status}`):e("Subscription confirmed.")}).catch(o=>{r(o.message||"Failed to confirm subscription"),e("Failed")})},[]),s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Logbook Pro Activated"}),s.jsx(ke,{children:"Thanks for upgrading!"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("div",{className:"text-sm",children:t}),n&&s.jsx("div",{className:"text-sm text-red-600",children:n}),s.jsx(O,{asChild:!0,children:s.jsx(at,{href:"/logbook",children:"Go to Logbook"})})]})]})})}function pae(){return s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Subscription Cancelled"}),s.jsx(ke,{children:"You can continue using the free logbook anytime."})]}),s.jsx(U,{children:s.jsx(O,{asChild:!0,children:s.jsx(at,{href:"/logbook",children:"Back to Logbook"})})})]})})}function fk(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toISOString().slice(0,16)}function pk(t){if(!t)return"-";const e=new Date(t);return Number.isNaN(e.getTime())?"-":e.toLocaleString()}const xk={title:"",departure:"",destination:"",route:"",alternate:"",plannedDepartureAt:"",plannedArrivalAt:"",aircraftType:"",tailNumber:"",fuelOnBoard:"",fuelRequired:"",notes:""};function xae(){const{user:t}=Os(),{toast:e}=$t(),n=ou(),r=(t==null?void 0:t.logbookProStatus)==="active",[i,a]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState(xk),{data:u=[],isLoading:h}=Ge({queryKey:["/api/flight-plans"],enabled:r});f.useEffect(()=>{o&&(d({title:o.title||"",departure:o.departure||"",destination:o.destination||"",route:o.route||"",alternate:o.alternate||"",plannedDepartureAt:fk(o.plannedDepartureAt),plannedArrivalAt:fk(o.plannedArrivalAt),aircraftType:o.aircraftType||"",tailNumber:o.tailNumber||"",fuelOnBoard:o.fuelOnBoard?String(o.fuelOnBoard):"",fuelRequired:o.fuelRequired?String(o.fuelRequired):"",notes:o.notes||""}),a(!0))},[o]);const m=()=>{d(xk),l(null)},x=De({mutationFn:async()=>{const g={...c,plannedDepartureAt:c.plannedDepartureAt?new Date(c.plannedDepartureAt).toISOString():null,plannedArrivalAt:c.plannedArrivalAt?new Date(c.plannedArrivalAt).toISOString():null,fuelOnBoard:c.fuelOnBoard||null,fuelRequired:c.fuelRequired||null},p=await Ae("POST","/api/flight-plans",g),j=await p.json();if(!p.ok)throw new Error(j.error||"Failed to save flight plan");return j},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/flight-plans"]}),e({title:"Flight plan saved"}),a(!1),m()},onError:g=>{e({title:"Save failed",description:g.message,variant:"destructive"})}}),v=De({mutationFn:async()=>{if(!o)return null;const g={...c,plannedDepartureAt:c.plannedDepartureAt?new Date(c.plannedDepartureAt).toISOString():null,plannedArrivalAt:c.plannedArrivalAt?new Date(c.plannedArrivalAt).toISOString():null,fuelOnBoard:c.fuelOnBoard||null,fuelRequired:c.fuelRequired||null},p=await Ae("PATCH",`/api/flight-plans/${o.id}`,g),j=await p.json();if(!p.ok)throw new Error(j.error||"Failed to update flight plan");return j},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/flight-plans"]}),e({title:"Flight plan updated"}),a(!1),m()},onError:g=>{e({title:"Update failed",description:g.message,variant:"destructive"})}}),b=De({mutationFn:async g=>{const p=await Ae("DELETE",`/api/flight-plans/${g}`),j=await p.json();if(!p.ok)throw new Error(j.error||"Failed to delete flight plan");return j},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/flight-plans"]}),e({title:"Flight plan deleted"})},onError:g=>{e({title:"Delete failed",description:g.message,variant:"destructive"})}});return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-5xl space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Flight Planner"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage saved flight plans for quick reference."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!r&&s.jsx(G,{variant:"outline",children:"Preview mode"}),s.jsx(O,{onClick:()=>a(!0),children:"New Flight Plan"})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Saved Plans"}),s.jsx(ke,{children:"Quick access to your planned routes and fuel notes."})]}),s.jsxs(U,{className:"space-y-4",children:[!r&&s.jsx("div",{className:"rounded-lg border border-dashed p-4 text-sm text-muted-foreground",children:"Save and sync flight plans with Logbook Pro. Build a plan below and subscribe when you are ready."}),h?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading flight plans..."}):u.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No flight plans yet. Create your first plan."}):u.map(g=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:g.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.departure," to ",g.destination]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:"outline",children:"Planned"}),s.jsx(O,{size:"sm",variant:"outline",onClick:()=>l(g),children:"Edit"}),s.jsx(O,{size:"sm",variant:"destructive",onClick:()=>b.mutate(g.id),children:"Delete"})]})]}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Route"}),s.jsx("div",{children:g.route||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Departure"}),s.jsx("div",{children:pk(g.plannedDepartureAt)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Arrival"}),s.jsx("div",{children:pk(g.plannedArrivalAt)})]})]}),s.jsx(Je,{}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Aircraft"}),s.jsx("div",{children:g.aircraftType||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Tail"}),s.jsx("div",{children:g.tailNumber||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Fuel (On Board / Required)"}),s.jsxs("div",{children:[g.fuelOnBoard||"-"," / ",g.fuelRequired||"-"]})]})]}),g.notes&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Notes: ",g.notes]})]},g.id))]})]}),s.jsx(Qt,{open:i,onOpenChange:g=>{a(g),g||m()},children:s.jsxs(Wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Xt,{children:[s.jsx(Zt,{children:o?"Edit Flight Plan":"New Flight Plan"}),s.jsx(ss,{children:"Store the plan details you want to keep on hand."})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Title"}),s.jsx(q,{value:c.title,onChange:g=>d({...c,title:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Aircraft Type"}),s.jsx(q,{value:c.aircraftType,onChange:g=>d({...c,aircraftType:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Departure"}),s.jsx(q,{value:c.departure,onChange:g=>d({...c,departure:g.target.value}),placeholder:"KJFK"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Destination"}),s.jsx(q,{value:c.destination,onChange:g=>d({...c,destination:g.target.value}),placeholder:"KBOS"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Route"}),s.jsx(q,{value:c.route,onChange:g=>d({...c,route:g.target.value}),placeholder:"V1 V3 ABC"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Alternate"}),s.jsx(q,{value:c.alternate,onChange:g=>d({...c,alternate:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Planned Departure"}),s.jsx(q,{type:"datetime-local",value:c.plannedDepartureAt,onChange:g=>d({...c,plannedDepartureAt:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Planned Arrival"}),s.jsx(q,{type:"datetime-local",value:c.plannedArrivalAt,onChange:g=>d({...c,plannedArrivalAt:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Tail Number"}),s.jsx(q,{value:c.tailNumber,onChange:g=>d({...c,tailNumber:g.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Fuel On Board"}),s.jsx(q,{value:c.fuelOnBoard,onChange:g=>d({...c,fuelOnBoard:g.target.value}),placeholder:"Gallons"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Fuel Required"}),s.jsx(q,{value:c.fuelRequired,onChange:g=>d({...c,fuelRequired:g.target.value}),placeholder:"Gallons"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(pe,{children:"Notes"}),s.jsx(ns,{value:c.notes,onChange:g=>d({...c,notes:g.target.value}),rows:4})]}),s.jsx(O,{onClick:()=>{if(!r){e({title:"Upgrade to save",description:"Subscribe to Logbook Pro to save flight plans."}),window.location.href="/logbook/pro";return}o?v.mutate():x.mutate()},disabled:x.isPending||v.isPending,children:o?"Save Changes":"Save Flight Plan"})]})]})})]})}function gae(){const[t,e]=f.useState(""),[n,r]=f.useState(""),{data:i,isLoading:a}=Ge({queryKey:["/api/plates",n],queryFn:async()=>{if(!n)return{plates:[]};const l=hs(`/api/plates/${encodeURIComponent(n)}`),c=await fetch(l);if(!c.ok)throw new Error("Failed to load approach plates");return c.json()}}),o=(i==null?void 0:i.plates)||[];return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-5xl space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Approach Plates"}),s.jsx("p",{className:"text-muted-foreground",children:"Search IFR approach plates by airport identifier. Charts are provided by FAA (AeroNav)."}),(i==null?void 0:i.icao)&&s.jsxs(G,{variant:"outline",children:["ICAO: ",i.icao]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Search"}),s.jsx(ke,{children:"Enter an ICAO code (e.g., KJFK)."})]}),s.jsxs(U,{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(q,{value:t,onChange:l=>e(l.target.value),placeholder:"Search plates"}),s.jsxs(O,{onClick:()=>r(t),children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),"Search"]})]})]}),s.jsxs($,{children:[s.jsxs(X,{children:[s.jsx(J,{children:"Results"}),s.jsxs(ke,{children:[o.length," plates found"]})]}),s.jsx(U,{className:"space-y-4",children:a?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading plates..."}):o.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No plates found. Try another airport code."}):o.map(l=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold",children:l.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:l.type})]}),s.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs("a",{href:hs(`/api/plates/proxy?url=${encodeURIComponent(l.url)}`),target:"_blank",rel:"noreferrer",children:[s.jsx(Fn,{className:"h-4 w-4 mr-2"}),"View Plate"]})})]}),l.effectiveDate&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Effective: ",l.effectiveDate]}),s.jsx(Je,{}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Source: FAA AeroNav"})]},l.url))})]})]})}var fi="Accordion",yae=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[g1,vae,jae]=Ym(fi),[Jg]=yn(fi,[jae,SM]),y1=SM(),v6=He.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,a=r;return s.jsx(g1.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?s.jsx(Sae,{...a,ref:e}):s.jsx(Nae,{...i,ref:e})})});v6.displayName=fi;var[j6,bae]=Jg(fi),[b6,wae]=Jg(fi,{collapsible:!1}),Nae=He.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[l,c]=hr({prop:n,defaultProp:r??"",onChange:i,caller:fi});return s.jsx(j6,{scope:t.__scopeAccordion,value:He.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:He.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(b6,{scope:t.__scopeAccordion,collapsible:a,children:s.jsx(w6,{...o,ref:e})})})}),Sae=He.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=t,[o,l]=hr({prop:n,defaultProp:r??[],onChange:i,caller:fi}),c=He.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=He.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(j6,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(b6,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(w6,{...a,ref:e})})})}),[Cae,ey]=Jg(fi),w6=He.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...o}=t,l=He.useRef(null),c=lt(l,e),d=vae(n),h=mu(i)==="ltr",m=Ce(t.onKeyDown,x=>{var k;if(!yae.includes(x.key))return;const v=x.target,b=d().filter(D=>{var F;return!((F=D.ref.current)!=null&&F.disabled)}),g=b.findIndex(D=>D.ref.current===v),p=b.length;if(g===-1)return;x.preventDefault();let j=g;const w=0,N=p-1,P=()=>{j=g+1,j>N&&(j=w)},S=()=>{j=g-1,j<w&&(j=N)};switch(x.key){case"Home":j=w;break;case"End":j=N;break;case"ArrowRight":a==="horizontal"&&(h?P():S());break;case"ArrowDown":a==="vertical"&&P();break;case"ArrowLeft":a==="horizontal"&&(h?S():P());break;case"ArrowUp":a==="vertical"&&S();break}const C=j%p;(k=b[C].ref.current)==null||k.focus()});return s.jsx(Cae,{scope:n,disabled:r,direction:i,orientation:a,children:s.jsx(g1.Slot,{scope:n,children:s.jsx(We.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:m})})})}),Rx="AccordionItem",[_ae,v1]=Jg(Rx),N6=He.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,a=ey(Rx,n),o=bae(Rx,n),l=y1(n),c=lr(),d=r&&o.value.includes(r)||!1,u=a.disabled||t.disabled;return s.jsx(_ae,{scope:n,open:d,disabled:u,triggerId:c,children:s.jsx(kM,{"data-orientation":a.orientation,"data-state":E6(d),...l,...i,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});N6.displayName=Rx;var S6="AccordionHeader",C6=He.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ey(fi,n),a=v1(S6,n);return s.jsx(We.h3,{"data-orientation":i.orientation,"data-state":E6(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});C6.displayName=S6;var uw="AccordionTrigger",_6=He.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ey(fi,n),a=v1(uw,n),o=wae(uw,n),l=y1(n);return s.jsx(g1.ItemSlot,{scope:n,children:s.jsx(SQ,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...r,ref:e})})});_6.displayName=uw;var k6="AccordionContent",P6=He.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ey(fi,n),a=v1(k6,n),o=y1(n);return s.jsx(CQ,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});P6.displayName=k6;function E6(t){return t?"open":"closed"}var kae=v6,Pae=N6,Eae=C6,T6=_6,A6=P6;const Tae=kae,F6=f.forwardRef(({className:t,...e},n)=>s.jsx(Pae,{ref:n,className:Ee("border-b",t),...e}));F6.displayName="AccordionItem";const R6=f.forwardRef(({className:t,children:e,...n},r)=>s.jsx(Eae,{className:"flex",children:s.jsxs(T6,{ref:r,className:Ee("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,s.jsx(Wc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));R6.displayName=T6.displayName;const D6=f.forwardRef(({className:t,children:e,...n},r)=>s.jsx(A6,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:Ee("pb-4 pt-0",t),children:e})}));D6.displayName=A6.displayName;const Aae=[{id:"why-subscription",question:"Why should I pay for a subscription?",answer:"Ready Set Fly stores and secures a large amount of data for your listings, logbook entries, documents, and messages so it is always accessible. That storage and availability creates ongoing infrastructure costs, and subscriptions keep the platform reliable and growing."},{id:"what-included",question:"What is included with a listing subscription?",answer:"Your subscription keeps your listings live in search, maintains message history, and preserves listing data, documents, and analytics."},{id:"cancel",question:"Can I cancel at any time?",answer:"Yes. You can cancel from your dashboard, and your existing data remains available to you."},{id:"verification",question:"Why do I need to verify my account?",answer:"Verification keeps the marketplace safe and compliant. It reduces fraud and helps owners trust renter profiles."},{id:"payments",question:"How are payments handled?",answer:"Payments are processed securely through PayPal. The platform records the transaction history for both owners and renters."},{id:"support",question:"How do I get support?",answer:"Use the Contact page or send a message through your dashboard. We respond as quickly as possible."}];function Fae(){return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-4xl space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"FAQ"}),s.jsx("p",{className:"text-muted-foreground",children:"Quick answers to common questions about Ready Set Fly."})]}),s.jsx(Tae,{type:"single",collapsible:!0,className:"space-y-3",children:Aae.map(t=>s.jsxs(F6,{value:t.id,className:"rounded-lg border",children:[s.jsx(R6,{className:"px-4 py-3 text-left",children:t.question}),s.jsx(D6,{className:"px-4 pb-4 text-sm text-muted-foreground",children:t.answer})]},t.id))})]})}function Rae(){const[t]=en();try{typeof window<"u"&&window.gtag&&window.gtag("event","page_view",{page_path:t,page_title:document.title})}catch{}return null}function Dae(){const{isAuthenticated:t}=Os();return s.jsxs(dB,{children:[s.jsx(Ye,{path:"/",component:RX}),s.jsx(Ye,{path:"/login",component:Zie}),s.jsx(Ye,{path:"/register",component:eae}),s.jsx(Ye,{path:"/verify-email",component:tae}),s.jsx(Ye,{path:"/rentals",component:FX}),s.jsx(Ye,{path:"/marketplace",component:ZX}),s.jsx(Ye,{path:"/faq",component:Fae}),s.jsx(Ye,{path:"/aircraft/:id",component:VJ}),s.jsx(Ye,{path:"/pilot-tools",component:dae}),s.jsx(Ye,{path:"/approach-plates",component:gae}),s.jsx(Ye,{path:"/ownership-cost-calculator",component:hae}),s.jsx(Ye,{path:"/privacy-policy",component:Kie}),s.jsx(Ye,{path:"/terms-of-service",component:Gie}),s.jsx(Ye,{path:"/delete-account",component:Qie}),s.jsx(Ye,{path:"/404",component:dk}),t?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{path:"/dashboard",component:rZ}),s.jsx(Ye,{path:"/profile",component:FJ}),s.jsx(Ye,{path:"/my-listings",component:LJ}),s.jsx(Ye,{path:"/favorites",component:UJ}),s.jsx(Ye,{path:"/messages",component:$J}),s.jsx(Ye,{path:"/list-aircraft",component:ik}),s.jsx(Ye,{path:"/edit-aircraft/:id",component:ik}),s.jsx(Ye,{path:"/create-marketplace-listing",component:ak}),s.jsx(Ye,{path:"/edit-marketplace-listing/:id",component:ak}),s.jsx(Ye,{path:"/marketplace/listing/checkout",component:_ie}),s.jsx(Ye,{path:"/rental-payment/:id",component:Pie}),s.jsx(Ye,{path:"/owner-payout-setup",component:qie}),s.jsx(Ye,{path:"/owner-withdrawals",component:Wie}),s.jsx(Ye,{path:"/admin",component:Rie}),s.jsx(Ye,{path:"/verify-identity",component:Hie}),s.jsx(Ye,{path:"/settings",component:Yie}),s.jsx(Ye,{path:"/logbook",component:rae}),s.jsx(Ye,{path:"/logbook/pro",component:mae}),s.jsx(Ye,{path:"/logbook/pro/success",component:fae}),s.jsx(Ye,{path:"/logbook/pro/cancel",component:pae}),s.jsx(Ye,{path:"/flight-planner",component:xae})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{path:"/dashboard",component:bs}),s.jsx(Ye,{path:"/profile",component:bs}),s.jsx(Ye,{path:"/my-listings",component:bs}),s.jsx(Ye,{path:"/favorites",component:bs}),s.jsx(Ye,{path:"/messages",component:bs}),s.jsx(Ye,{path:"/list-aircraft",component:bs}),s.jsx(Ye,{path:"/edit-aircraft/:id",component:bs}),s.jsx(Ye,{path:"/create-marketplace-listing",component:bs}),s.jsx(Ye,{path:"/edit-marketplace-listing/:id",component:bs}),s.jsx(Ye,{path:"/marketplace/listing/checkout",component:bs}),s.jsx(Ye,{path:"/rental-payment/:id",component:bs}),s.jsx(Ye,{path:"/owner-payout-setup",component:bs}),s.jsx(Ye,{path:"/owner-withdrawals",component:bs}),s.jsx(Ye,{path:"/admin",component:bs}),s.jsx(Ye,{path:"/verify-identity",component:bs}),s.jsx(Ye,{path:"/settings",component:bs}),s.jsx(Ye,{path:"/logbook",component:bs}),s.jsx(Ye,{path:"/logbook/pro",component:bs}),s.jsx(Ye,{path:"/logbook/pro/success",component:bs}),s.jsx(Ye,{path:"/logbook/pro/cancel",component:bs}),s.jsx(Ye,{path:"/flight-planner",component:bs})]}),s.jsx(Ye,{component:dk})]})}function Iae(){return s.jsx(IB,{client:Fe,children:s.jsx(WH,{defaultTheme:"light",children:s.jsxs(qH,{children:[s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(OK,{}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Rae,{}),s.jsx(Dae,{})]}),s.jsx(RY,{})]}),s.jsx(n7,{})]})})})}_F(document.getElementById("root")).render(s.jsx(Iae,{}));
