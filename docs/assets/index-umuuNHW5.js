const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlannerMap-Dbil5Y6C.js","assets/PlannerMap-Dgihpmma.css","assets/hub-B4PmKLF_.js","assets/NextStepCTA-Dpv35yEy.js","assets/wizard-MUHvFPbA.js","assets/StudentLayout-WUZeSZ-N.js","assets/useStudentProfile-BRpavieF.js","assets/roadmap-CFH7eii8.js","assets/cost-YmqdXJ5h.js","assets/progress-BxMEbHp7.js","assets/written-DN3zwS37.js","assets/checklists-BuUtM-s_.js","assets/weather-BoNkwd0_.js"])))=>i.map(i=>d[i]);
var GU=Object.defineProperty;var CS=t=>{throw TypeError(t)};var YU=(t,e,n)=>e in t?GU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var E=(t,e,n)=>YU(t,typeof e!="symbol"?e+"":e,n),By=(t,e,n)=>e.has(t)||CS("Cannot "+n);var _=(t,e,n)=>(By(t,e,"read from private field"),n?n.call(t):e.get(t)),X=(t,e,n)=>e.has(t)?CS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(By(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),fe=(t,e,n)=>(By(t,e,"access private method"),n);var Tp=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return _(t,e,r)}});function QU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KA={exports:{}},hg={},GA={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=Symbol.for("react.element"),XU=Symbol.for("react.portal"),ZU=Symbol.for("react.fragment"),JU=Symbol.for("react.strict_mode"),e8=Symbol.for("react.profiler"),t8=Symbol.for("react.provider"),s8=Symbol.for("react.context"),n8=Symbol.for("react.forward_ref"),r8=Symbol.for("react.suspense"),i8=Symbol.for("react.memo"),a8=Symbol.for("react.lazy"),_S=Symbol.iterator;function o8(t){return t===null||typeof t!="object"?null:(t=_S&&t[_S]||t["@@iterator"],typeof t=="function"?t:null)}var YA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QA=Object.assign,XA={};function fu(t,e,n){this.props=t,this.context=e,this.refs=XA,this.updater=n||YA}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZA(){}ZA.prototype=fu.prototype;function Uw(t,e,n){this.props=t,this.context=e,this.refs=XA,this.updater=n||YA}var Bw=Uw.prototype=new ZA;Bw.constructor=Uw;QA(Bw,fu.prototype);Bw.isPureReactComponent=!0;var kS=Array.isArray,JA=Object.prototype.hasOwnProperty,Vw={current:null},e4={key:!0,ref:!0,__self:!0,__source:!0};function t4(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)JA.call(e,r)&&!e4.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rp,type:t,key:a,ref:o,props:i,_owner:Vw.current}}function l8(t,e){return{$$typeof:rp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===rp}function c8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var PS=/\/+/g;function Vy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c8(""+t.key):e.toString(36)}function jf(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rp:case XU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vy(o,0):r,kS(i)?(n="",t!=null&&(n=t.replace(PS,"$&/")+"/"),jf(i,e,n,"",function(d){return d})):i!=null&&(zw(i)&&(i=l8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(PS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kS(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Vy(a,l);o+=jf(a,e,n,c,i)}else if(c=o8(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Vy(a,l++),o+=jf(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fp(t,e,n){if(t==null)return t;var r=[],i=0;return jf(t,r,"","",function(a){return e.call(n,a,i++)}),r}function d8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},bf={transition:null},u8={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:bf,ReactCurrentOwner:Vw};function s4(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:Fp,forEach:function(t,e,n){Fp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fp(t,function(){e++}),e},toArray:function(t){return Fp(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=fu;yt.Fragment=ZU;yt.Profiler=e8;yt.PureComponent=Uw;yt.StrictMode=JU;yt.Suspense=r8;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u8;yt.act=s4;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QA({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Vw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)JA.call(e,c)&&!e4.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:rp,type:t.type,key:i,ref:a,props:r,_owner:o}};yt.createContext=function(t){return t={$$typeof:s8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t8,_context:t},t.Consumer=t};yt.createElement=t4;yt.createFactory=function(t){var e=t4.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:n8,render:t}};yt.isValidElement=zw;yt.lazy=function(t){return{$$typeof:a8,_payload:{_status:-1,_result:t},_init:d8}};yt.memo=function(t,e){return{$$typeof:i8,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=bf.transition;bf.transition={};try{t()}finally{bf.transition=e}};yt.unstable_act=s4;yt.useCallback=function(t,e){return $n.current.useCallback(t,e)};yt.useContext=function(t){return $n.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};yt.useEffect=function(t,e){return $n.current.useEffect(t,e)};yt.useId=function(){return $n.current.useId()};yt.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return $n.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};yt.useRef=function(t){return $n.current.useRef(t)};yt.useState=function(t){return $n.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return $n.current.useTransition()};yt.version="18.3.1";GA.exports=yt;var p=GA.exports;const Ge=Ia(p),mg=QU({__proto__:null,default:Ge},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h8=p,m8=Symbol.for("react.element"),p8=Symbol.for("react.fragment"),f8=Object.prototype.hasOwnProperty,x8=h8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g8={key:!0,ref:!0,__self:!0,__source:!0};function n4(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)f8.call(e,r)&&!g8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:m8,type:t,key:a,ref:o,props:i,_owner:x8.current}}hg.Fragment=p8;hg.jsx=n4;hg.jsxs=n4;KA.exports=hg;var s=KA.exports,r4={exports:{}},xr={},i4={exports:{}},a4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,R){var Q=z.length;z.push(R);e:for(;0<Q;){var ue=Q-1>>>1,F=z[ue];if(0<i(F,R))z[ue]=R,z[Q]=F,Q=ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var R=z[0],Q=z.pop();if(Q!==R){z[0]=Q;e:for(var ue=0,F=z.length,ve=F>>>1;ue<ve;){var Me=2*(ue+1)-1,et=z[Me],se=Me+1,je=z[se];if(0>i(et,Q))se<F&&0>i(je,et)?(z[ue]=je,z[se]=Q,ue=se):(z[ue]=et,z[Me]=Q,ue=Me);else if(se<F&&0>i(je,Q))z[ue]=je,z[se]=Q,ue=se;else break e}}return R}function i(z,R){var Q=z.sortIndex-R.sortIndex;return Q!==0?Q:z.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,x=!1,j=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=z)r(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(d)}}function N(z){if(g=!1,w(z),!j)if(n(c)!==null)j=!0,de(P);else{var R=n(d);R!==null&&xe(N,R.startTime-z)}}function P(z,R){j=!1,g&&(g=!1,f(k),k=-1),x=!0;var Q=m;try{for(w(R),h=n(c);h!==null&&(!(h.expirationTime>R)||z&&!O());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,m=h.priorityLevel;var F=ue(h.expirationTime<=R);R=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(c)&&r(c),w(R)}else r(c);h=n(c)}if(h!==null)var ve=!0;else{var Me=n(d);Me!==null&&xe(N,Me.startTime-R),ve=!1}return ve}finally{h=null,m=Q,x=!1}}var S=!1,C=null,k=-1,I=5,A=-1;function O(){return!(t.unstable_now()-A<I)}function $(){if(C!==null){var z=t.unstable_now();A=z;var R=!0;try{R=C(!0,z)}finally{R?J():(S=!1,C=null)}}else S=!1}var J;if(typeof b=="function")J=function(){b($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,q=Y.port2;Y.port1.onmessage=$,J=function(){q.postMessage(null)}}else J=function(){v($,0)};function de(z){C=z,S||(S=!0,J())}function xe(z,R){k=v(function(){z(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,de(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var Q=m;m=R;try{return z()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=m;m=z;try{return R()}finally{m=Q}},t.unstable_scheduleCallback=function(z,R,Q){var ue=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,z={id:u++,callback:R,priorityLevel:z,startTime:Q,expirationTime:F,sortIndex:-1},Q>ue?(z.sortIndex=Q,e(d,z),n(c)===null&&z===n(d)&&(g?(f(k),k=-1):g=!0,xe(N,Q-ue))):(z.sortIndex=F,e(c,z),j||x||(j=!0,de(P))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var R=m;return function(){var Q=m;m=R;try{return z.apply(this,arguments)}finally{m=Q}}}})(a4);i4.exports=a4;var y8=i4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8=p,pr=y8;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o4=new Set,Rh={};function lc(t,e){Qd(t,e),Qd(t+"Capture",e)}function Qd(t,e){for(Rh[t]=e,t=0;t<e.length;t++)o4.add(e[t])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cj=Object.prototype.hasOwnProperty,j8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ES={},TS={};function b8(t){return cj.call(TS,t)?!0:cj.call(ES,t)?!1:j8.test(t)?TS[t]=!0:(ES[t]=!0,!1)}function w8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N8(t,e,n,r){if(e===null||typeof e>"u"||w8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var qw=/[\-:]([a-z])/g;function Hw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qw,Hw);un[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qw,Hw);un[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qw,Hw);un[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ww(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N8(e,n,i,r)&&(n=null),r||i===null?b8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oa=v8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),dj=Symbol.for("react.profiler"),l4=Symbol.for("react.provider"),c4=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),uj=Symbol.for("react.suspense"),hj=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),d4=Symbol.for("react.offscreen"),AS=Symbol.iterator;function Au(t){return t===null||typeof t!="object"?null:(t=AS&&t[AS]||t["@@iterator"],typeof t=="function"?t:null)}var bs=Object.assign,zy;function Zu(t){if(zy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zy=e&&e[1]||""}return`
`+zy+t}var qy=!1;function Hy(t,e){if(!t||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zu(t):""}function S8(t){switch(t.tag){case 5:return Zu(t.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function mj(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ic:return"Fragment";case Dc:return"Portal";case dj:return"Profiler";case Kw:return"StrictMode";case uj:return"Suspense";case hj:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c4:return(t.displayName||"Context")+".Consumer";case l4:return(t._context.displayName||"Context")+".Provider";case Gw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:mj(t.type)||"Memo";case Za:e=t._payload,t=t._init;try{return mj(t(e))}catch{}}return null}function C8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mj(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _8(t){var e=u4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dp(t){t._valueTracker||(t._valueTracker=_8(t))}function h4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pj(t,e){var n=e.checked;return bs({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m4(t,e){e=e.checked,e!=null&&Ww(t,"checked",e,!1)}function fj(t,e){m4(t,e);var n=Ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xj(t,e.type,n):e.hasOwnProperty("defaultValue")&&xj(t,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function RS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xj(t,e,n){(e!=="number"||qf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ju=Array.isArray;function Xc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ao(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gj(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return bs({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Ju(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ao(n)}}function p4(t,e){var n=Ao(e.value),r=Ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yj(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ip,x4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ip=Ip||document.createElement("div"),Ip.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ip.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k8=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(t){k8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hh[e]=hh[t]})});function g4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hh.hasOwnProperty(t)&&hh[t]?(""+e).trim():e+"px"}function y4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=g4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var P8=bs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vj(t,e){if(e){if(P8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function jj(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bj=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wj=null,Zc=null,Jc=null;function OS(t){if(t=op(t)){if(typeof wj!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=yg(e),wj(t.stateNode,t.type,e))}}function v4(t){Zc?Jc?Jc.push(t):Jc=[t]:Zc=t}function j4(){if(Zc){var t=Zc,e=Jc;if(Jc=Zc=null,OS(t),e)for(t=0;t<e.length;t++)OS(e[t])}}function b4(t,e){return t(e)}function w4(){}var Wy=!1;function N4(t,e,n){if(Wy)return t(e,n);Wy=!0;try{return b4(t,e,n)}finally{Wy=!1,(Zc!==null||Jc!==null)&&(w4(),j4())}}function Ih(t,e){var n=t.stateNode;if(n===null)return null;var r=yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var Nj=!1;if(_a)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){Nj=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{Nj=!1}function E8(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var mh=!1,Hf=null,Wf=!1,Sj=null,T8={onError:function(t){mh=!0,Hf=t}};function A8(t,e,n,r,i,a,o,l,c){mh=!1,Hf=null,E8.apply(T8,arguments)}function F8(t,e,n,r,i,a,o,l,c){if(A8.apply(this,arguments),mh){if(mh){var d=Hf;mh=!1,Hf=null}else throw Error(ke(198));Wf||(Wf=!0,Sj=d)}}function cc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MS(t){if(cc(t)!==t)throw Error(ke(188))}function R8(t){var e=t.alternate;if(!e){if(e=cc(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return MS(i),t;if(a===r)return MS(i),e;a=a.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function C4(t){return t=R8(t),t!==null?_4(t):null}function _4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_4(t);if(e!==null)return e;t=t.sibling}return null}var k4=pr.unstable_scheduleCallback,LS=pr.unstable_cancelCallback,D8=pr.unstable_shouldYield,I8=pr.unstable_requestPaint,Rs=pr.unstable_now,O8=pr.unstable_getCurrentPriorityLevel,Xw=pr.unstable_ImmediatePriority,P4=pr.unstable_UserBlockingPriority,Kf=pr.unstable_NormalPriority,M8=pr.unstable_LowPriority,E4=pr.unstable_IdlePriority,pg=null,Oi=null;function L8(t){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(pg,t,void 0,(t.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:B8,$8=Math.log,U8=Math.LN2;function B8(t){return t>>>=0,t===0?32:31-($8(t)/U8|0)|0}var Op=64,Mp=4194304;function eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=eh(l):(a&=o,a!==0&&(r=eh(a)))}else o=n&~i,o!==0?r=eh(o):a!==0&&(r=eh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ri(e),i=1<<n,r|=t[n],e&=~i;return r}function V8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ri(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=V8(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Cj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T4(){var t=Op;return Op<<=1,!(Op&4194240)&&(Op=64),t}function Ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ip(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ri(e),t[e]=n}function q8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ri(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Zw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ri(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Bt=0;function A4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F4,Jw,R4,D4,I4,_j=!1,Lp=[],bo=null,wo=null,No=null,Oh=new Map,Mh=new Map,to=[],H8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $S(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(e.pointerId)}}function Ru(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=op(e),e!==null&&Jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W8(t,e,n,r,i){switch(e){case"focusin":return bo=Ru(bo,t,e,n,r,i),!0;case"dragenter":return wo=Ru(wo,t,e,n,r,i),!0;case"mouseover":return No=Ru(No,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Oh.set(a,Ru(Oh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mh.set(a,Ru(Mh.get(a)||null,t,e,n,r,i)),!0}return!1}function O4(t){var e=dl(t.target);if(e!==null){var n=cc(e);if(n!==null){if(e=n.tag,e===13){if(e=S4(n),e!==null){t.blockedOn=e,I4(t.priority,function(){R4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bj=r,n.target.dispatchEvent(r),bj=null}else return e=op(n),e!==null&&Jw(e),t.blockedOn=n,!1;e.shift()}return!0}function US(t,e,n){wf(t)&&n.delete(e)}function K8(){_j=!1,bo!==null&&wf(bo)&&(bo=null),wo!==null&&wf(wo)&&(wo=null),No!==null&&wf(No)&&(No=null),Oh.forEach(US),Mh.forEach(US)}function Du(t,e){t.blockedOn===e&&(t.blockedOn=null,_j||(_j=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,K8)))}function Lh(t){function e(i){return Du(i,t)}if(0<Lp.length){Du(Lp[0],t);for(var n=1;n<Lp.length;n++){var r=Lp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bo!==null&&Du(bo,t),wo!==null&&Du(wo,t),No!==null&&Du(No,t),Oh.forEach(e),Mh.forEach(e),n=0;n<to.length;n++)r=to[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)O4(n),n.blockedOn===null&&to.shift()}var ed=Oa.ReactCurrentBatchConfig,Yf=!0;function G8(t,e,n,r){var i=Bt,a=ed.transition;ed.transition=null;try{Bt=1,eN(t,e,n,r)}finally{Bt=i,ed.transition=a}}function Y8(t,e,n,r){var i=Bt,a=ed.transition;ed.transition=null;try{Bt=4,eN(t,e,n,r)}finally{Bt=i,ed.transition=a}}function eN(t,e,n,r){if(Yf){var i=kj(t,e,n,r);if(i===null)nv(t,e,r,Qf,n),$S(t,r);else if(W8(i,t,e,n,r))r.stopPropagation();else if($S(t,r),e&4&&-1<H8.indexOf(t)){for(;i!==null;){var a=op(i);if(a!==null&&F4(a),a=kj(t,e,n,r),a===null&&nv(t,e,r,Qf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else nv(t,e,r,null,n)}}var Qf=null;function kj(t,e,n,r){if(Qf=null,t=Qw(r),t=dl(t),t!==null)if(e=cc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qf=t,null}function M4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O8()){case Xw:return 1;case P4:return 4;case Kf:case M8:return 16;case E4:return 536870912;default:return 16}default:return 16}}var xo=null,tN=null,Nf=null;function L4(){if(Nf)return Nf;var t,e=tN,n=e.length,r,i="value"in xo?xo.value:xo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Nf=i.slice(t,1<r?1-r:void 0)}function Sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $p(){return!0}function BS(){return!1}function gr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$p:BS,this.isPropagationStopped=BS,this}return bs(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$p)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$p)},persist:function(){},isPersistent:$p}),e}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sN=gr(xu),ap=bs({},xu,{view:0,detail:0}),Q8=gr(ap),Gy,Yy,Iu,fg=bs({},ap,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Iu&&(Iu&&t.type==="mousemove"?(Gy=t.screenX-Iu.screenX,Yy=t.screenY-Iu.screenY):Yy=Gy=0,Iu=t),Gy)},movementY:function(t){return"movementY"in t?t.movementY:Yy}}),VS=gr(fg),X8=bs({},fg,{dataTransfer:0}),Z8=gr(X8),J8=bs({},ap,{relatedTarget:0}),Qy=gr(J8),eB=bs({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),tB=gr(eB),sB=bs({},xu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nB=gr(sB),rB=bs({},xu,{data:0}),zS=gr(rB),iB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oB[t])?!!e[t]:!1}function nN(){return lB}var cB=bs({},ap,{key:function(t){if(t.key){var e=iB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nN,charCode:function(t){return t.type==="keypress"?Sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dB=gr(cB),uB=bs({},fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qS=gr(uB),hB=bs({},ap,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nN}),mB=gr(hB),pB=bs({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),fB=gr(pB),xB=bs({},fg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=gr(xB),yB=[9,13,27,32],rN=_a&&"CompositionEvent"in window,ph=null;_a&&"documentMode"in document&&(ph=document.documentMode);var vB=_a&&"TextEvent"in window&&!ph,$4=_a&&(!rN||ph&&8<ph&&11>=ph),HS=" ",WS=!1;function U4(t,e){switch(t){case"keyup":return yB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oc=!1;function jB(t,e){switch(t){case"compositionend":return B4(e);case"keypress":return e.which!==32?null:(WS=!0,HS);case"textInput":return t=e.data,t===HS&&WS?null:t;default:return null}}function bB(t,e){if(Oc)return t==="compositionend"||!rN&&U4(t,e)?(t=L4(),Nf=tN=xo=null,Oc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $4&&e.locale!=="ko"?null:e.data;default:return null}}var wB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wB[t.type]:e==="textarea"}function V4(t,e,n,r){v4(r),e=Xf(e,"onChange"),0<e.length&&(n=new sN("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fh=null,$h=null;function NB(t){J4(t,0)}function xg(t){var e=$c(t);if(h4(e))return t}function SB(t,e){if(t==="change")return e}var z4=!1;if(_a){var Xy;if(_a){var Zy="oninput"in document;if(!Zy){var GS=document.createElement("div");GS.setAttribute("oninput","return;"),Zy=typeof GS.oninput=="function"}Xy=Zy}else Xy=!1;z4=Xy&&(!document.documentMode||9<document.documentMode)}function YS(){fh&&(fh.detachEvent("onpropertychange",q4),$h=fh=null)}function q4(t){if(t.propertyName==="value"&&xg($h)){var e=[];V4(e,$h,t,Qw(t)),N4(NB,e)}}function CB(t,e,n){t==="focusin"?(YS(),fh=e,$h=n,fh.attachEvent("onpropertychange",q4)):t==="focusout"&&YS()}function _B(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xg($h)}function kB(t,e){if(t==="click")return xg(e)}function PB(t,e){if(t==="input"||t==="change")return xg(e)}function EB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:EB;function Uh(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cj.call(e,i)||!ci(t[i],e[i]))return!1}return!0}function QS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XS(t,e){var n=QS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QS(n)}}function H4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W4(){for(var t=window,e=qf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qf(t.document)}return e}function iN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TB(t){var e=W4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H4(n.ownerDocument.documentElement,n)){if(r!==null&&iN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=XS(n,a);var o=XS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AB=_a&&"documentMode"in document&&11>=document.documentMode,Mc=null,Pj=null,xh=null,Ej=!1;function ZS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ej||Mc==null||Mc!==qf(r)||(r=Mc,"selectionStart"in r&&iN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xh&&Uh(xh,r)||(xh=r,r=Xf(Pj,"onSelect"),0<r.length&&(e=new sN("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mc)))}function Up(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lc={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},Jy={},K4={};_a&&(K4=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function gg(t){if(Jy[t])return Jy[t];if(!Lc[t])return t;var e=Lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K4)return Jy[t]=e[n];return t}var G4=gg("animationend"),Y4=gg("animationiteration"),Q4=gg("animationstart"),X4=gg("transitionend"),Z4=new Map,JS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){Z4.set(t,e),lc(e,[t])}for(var ev=0;ev<JS.length;ev++){var tv=JS[ev],FB=tv.toLowerCase(),RB=tv[0].toUpperCase()+tv.slice(1);Go(FB,"on"+RB)}Go(G4,"onAnimationEnd");Go(Y4,"onAnimationIteration");Go(Q4,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(X4,"onTransitionEnd");Qd("onMouseEnter",["mouseout","mouseover"]);Qd("onMouseLeave",["mouseout","mouseover"]);Qd("onPointerEnter",["pointerout","pointerover"]);Qd("onPointerLeave",["pointerout","pointerover"]);lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DB=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function eC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F8(r,e,void 0,t),t.currentTarget=null}function J4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;eC(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;eC(i,l,d),a=c}}}if(Wf)throw t=Sj,Wf=!1,Sj=null,t}function Zt(t,e){var n=e[Dj];n===void 0&&(n=e[Dj]=new Set);var r=t+"__bubble";n.has(r)||(eF(e,t,2,!1),n.add(r))}function sv(t,e,n){var r=0;e&&(r|=4),eF(n,t,r,e)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[Bp]){t[Bp]=!0,o4.forEach(function(n){n!=="selectionchange"&&(DB.has(n)||sv(n,!1,t),sv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bp]||(e[Bp]=!0,sv("selectionchange",!1,e))}}function eF(t,e,n,r){switch(M4(e)){case 1:var i=G8;break;case 4:i=Y8;break;default:i=eN}n=i.bind(null,e,n,t),i=void 0,!Nj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nv(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=dl(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}N4(function(){var d=a,u=Qw(n),h=[];e:{var m=Z4.get(t);if(m!==void 0){var x=sN,j=t;switch(t){case"keypress":if(Sf(n)===0)break e;case"keydown":case"keyup":x=dB;break;case"focusin":j="focus",x=Qy;break;case"focusout":j="blur",x=Qy;break;case"beforeblur":case"afterblur":x=Qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=VS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Z8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=mB;break;case G4:case Y4:case Q4:x=tB;break;case X4:x=fB;break;case"scroll":x=Q8;break;case"wheel":x=gB;break;case"copy":case"cut":case"paste":x=nB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=qS}var g=(e&4)!==0,v=!g&&t==="scroll",f=g?m!==null?m+"Capture":null:m;g=[];for(var b=d,w;b!==null;){w=b;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,f!==null&&(N=Ih(b,f),N!=null&&g.push(Vh(b,N,w)))),v)break;b=b.return}0<g.length&&(m=new x(m,j,null,n,u),h.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==bj&&(j=n.relatedTarget||n.fromElement)&&(dl(j)||j[ka]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?dl(j):null,j!==null&&(v=cc(j),j!==v||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(g=VS,N="onMouseLeave",f="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=qS,N="onPointerLeave",f="onPointerEnter",b="pointer"),v=x==null?m:$c(x),w=j==null?m:$c(j),m=new g(N,b+"leave",x,n,u),m.target=v,m.relatedTarget=w,N=null,dl(u)===d&&(g=new g(f,b+"enter",j,n,u),g.target=w,g.relatedTarget=v,N=g),v=N,x&&j)t:{for(g=x,f=j,b=0,w=g;w;w=bc(w))b++;for(w=0,N=f;N;N=bc(N))w++;for(;0<b-w;)g=bc(g),b--;for(;0<w-b;)f=bc(f),w--;for(;b--;){if(g===f||f!==null&&g===f.alternate)break t;g=bc(g),f=bc(f)}g=null}else g=null;x!==null&&tC(h,m,x,g,!1),j!==null&&v!==null&&tC(h,v,j,g,!0)}}e:{if(m=d?$c(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var P=SB;else if(KS(m))if(z4)P=PB;else{P=_B;var S=CB}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=kB);if(P&&(P=P(t,d))){V4(h,P,n,u);break e}S&&S(t,m,d),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&xj(m,"number",m.value)}switch(S=d?$c(d):window,t){case"focusin":(KS(S)||S.contentEditable==="true")&&(Mc=S,Pj=d,xh=null);break;case"focusout":xh=Pj=Mc=null;break;case"mousedown":Ej=!0;break;case"contextmenu":case"mouseup":case"dragend":Ej=!1,ZS(h,n,u);break;case"selectionchange":if(AB)break;case"keydown":case"keyup":ZS(h,n,u)}var C;if(rN)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Oc?U4(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&($4&&n.locale!=="ko"&&(Oc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Oc&&(C=L4()):(xo=u,tN="value"in xo?xo.value:xo.textContent,Oc=!0)),S=Xf(d,k),0<S.length&&(k=new zS(k,t,null,n,u),h.push({event:k,listeners:S}),C?k.data=C:(C=B4(n),C!==null&&(k.data=C)))),(C=vB?jB(t,n):bB(t,n))&&(d=Xf(d,"onBeforeInput"),0<d.length&&(u=new zS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}J4(h,e)})}function Vh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ih(t,n),a!=null&&r.unshift(Vh(t,a,i)),a=Ih(t,e),a!=null&&r.push(Vh(t,a,i))),t=t.return}return r}function bc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Ih(n,a),c!=null&&o.unshift(Vh(n,c,l))):i||(c=Ih(n,a),c!=null&&o.push(Vh(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IB=/\r\n?/g,OB=/\u0000|\uFFFD/g;function sC(t){return(typeof t=="string"?t:""+t).replace(IB,`
`).replace(OB,"")}function Vp(t,e,n){if(e=sC(e),sC(t)!==e&&n)throw Error(ke(425))}function Zf(){}var Tj=null,Aj=null;function Fj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rj=typeof setTimeout=="function"?setTimeout:void 0,MB=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,LB=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(t){return nC.resolve(null).then(t).catch($B)}:Rj;function $B(t){setTimeout(function(){throw t})}function rv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lh(e)}function So(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Fi="__reactFiber$"+gu,zh="__reactProps$"+gu,ka="__reactContainer$"+gu,Dj="__reactEvents$"+gu,UB="__reactListeners$"+gu,BB="__reactHandles$"+gu;function dl(t){var e=t[Fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ka]||n[Fi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rC(t);t!==null;){if(n=t[Fi])return n;t=rC(t)}return e}t=n,n=t.parentNode}return null}function op(t){return t=t[Fi]||t[ka],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $c(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function yg(t){return t[zh]||null}var Ij=[],Uc=-1;function Yo(t){return{current:t}}function ss(t){0>Uc||(t.current=Ij[Uc],Ij[Uc]=null,Uc--)}function Gt(t,e){Uc++,Ij[Uc]=t.current,t.current=e}var Fo={},bn=Yo(Fo),Qn=Yo(!1),zl=Fo;function Xd(t,e){var n=t.type.contextTypes;if(!n)return Fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function Jf(){ss(Qn),ss(bn)}function iC(t,e,n){if(bn.current!==Fo)throw Error(ke(168));Gt(bn,e),Gt(Qn,n)}function tF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,C8(t)||"Unknown",i));return bs({},n,r)}function ex(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fo,zl=bn.current,Gt(bn,t),Gt(Qn,Qn.current),!0}function aC(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=tF(t,e,zl),r.__reactInternalMemoizedMergedChildContext=t,ss(Qn),ss(bn),Gt(bn,t)):ss(Qn),Gt(Qn,n)}var aa=null,vg=!1,iv=!1;function sF(t){aa===null?aa=[t]:aa.push(t)}function VB(t){vg=!0,sF(t)}function Qo(){if(!iv&&aa!==null){iv=!0;var t=0,e=Bt;try{var n=aa;for(Bt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}aa=null,vg=!1}catch(i){throw aa!==null&&(aa=aa.slice(t+1)),k4(Xw,Qo),i}finally{Bt=e,iv=!1}}return null}var Bc=[],Vc=0,tx=null,sx=0,Sr=[],Cr=0,ql=null,ya=1,va="";function rl(t,e){Bc[Vc++]=sx,Bc[Vc++]=tx,tx=t,sx=e}function nF(t,e,n){Sr[Cr++]=ya,Sr[Cr++]=va,Sr[Cr++]=ql,ql=t;var r=ya;t=va;var i=32-ri(r)-1;r&=~(1<<i),n+=1;var a=32-ri(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ya=1<<32-ri(e)+i|n<<i|r,va=a+t}else ya=1<<a|n<<i|r,va=t}function aN(t){t.return!==null&&(rl(t,1),nF(t,1,0))}function oN(t){for(;t===tx;)tx=Bc[--Vc],Bc[Vc]=null,sx=Bc[--Vc],Bc[Vc]=null;for(;t===ql;)ql=Sr[--Cr],Sr[Cr]=null,va=Sr[--Cr],Sr[Cr]=null,ya=Sr[--Cr],Sr[Cr]=null}var dr=null,cr=null,ls=!1,Xr=null;function rF(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,cr=So(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ql!==null?{id:ya,overflow:va}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dr=t,cr=null,!0):!1;default:return!1}}function Oj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mj(t){if(ls){var e=cr;if(e){var n=e;if(!oC(t,e)){if(Oj(t))throw Error(ke(418));e=So(n.nextSibling);var r=dr;e&&oC(t,e)?rF(r,n):(t.flags=t.flags&-4097|2,ls=!1,dr=t)}}else{if(Oj(t))throw Error(ke(418));t.flags=t.flags&-4097|2,ls=!1,dr=t}}}function lC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function zp(t){if(t!==dr)return!1;if(!ls)return lC(t),ls=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fj(t.type,t.memoizedProps)),e&&(e=cr)){if(Oj(t))throw iF(),Error(ke(418));for(;e;)rF(t,e),e=So(e.nextSibling)}if(lC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=So(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=dr?So(t.stateNode.nextSibling):null;return!0}function iF(){for(var t=cr;t;)t=So(t.nextSibling)}function Zd(){cr=dr=null,ls=!1}function lN(t){Xr===null?Xr=[t]:Xr.push(t)}var zB=Oa.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function qp(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cC(t){var e=t._init;return e(t._payload)}function aF(t){function e(f,b){if(t){var w=f.deletions;w===null?(f.deletions=[b],f.flags|=16):w.push(b)}}function n(f,b){if(!t)return null;for(;b!==null;)e(f,b),b=b.sibling;return null}function r(f,b){for(f=new Map;b!==null;)b.key!==null?f.set(b.key,b):f.set(b.index,b),b=b.sibling;return f}function i(f,b){return f=Po(f,b),f.index=0,f.sibling=null,f}function a(f,b,w){return f.index=w,t?(w=f.alternate,w!==null?(w=w.index,w<b?(f.flags|=2,b):w):(f.flags|=2,b)):(f.flags|=1048576,b)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,b,w,N){return b===null||b.tag!==6?(b=hv(w,f.mode,N),b.return=f,b):(b=i(b,w),b.return=f,b)}function c(f,b,w,N){var P=w.type;return P===Ic?u(f,b,w.props.children,N,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Za&&cC(P)===b.type)?(N=i(b,w.props),N.ref=Ou(f,b,w),N.return=f,N):(N=Af(w.type,w.key,w.props,null,f.mode,N),N.ref=Ou(f,b,w),N.return=f,N)}function d(f,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=mv(w,f.mode,N),b.return=f,b):(b=i(b,w.children||[]),b.return=f,b)}function u(f,b,w,N,P){return b===null||b.tag!==7?(b=$l(w,f.mode,N,P),b.return=f,b):(b=i(b,w),b.return=f,b)}function h(f,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=hv(""+b,f.mode,w),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rp:return w=Af(b.type,b.key,b.props,null,f.mode,w),w.ref=Ou(f,null,b),w.return=f,w;case Dc:return b=mv(b,f.mode,w),b.return=f,b;case Za:var N=b._init;return h(f,N(b._payload),w)}if(Ju(b)||Au(b))return b=$l(b,f.mode,w,null),b.return=f,b;qp(f,b)}return null}function m(f,b,w,N){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(f,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rp:return w.key===P?c(f,b,w,N):null;case Dc:return w.key===P?d(f,b,w,N):null;case Za:return P=w._init,m(f,b,P(w._payload),N)}if(Ju(w)||Au(w))return P!==null?null:u(f,b,w,N,null);qp(f,w)}return null}function x(f,b,w,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(w)||null,l(b,f,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Rp:return f=f.get(N.key===null?w:N.key)||null,c(b,f,N,P);case Dc:return f=f.get(N.key===null?w:N.key)||null,d(b,f,N,P);case Za:var S=N._init;return x(f,b,w,S(N._payload),P)}if(Ju(N)||Au(N))return f=f.get(w)||null,u(b,f,N,P,null);qp(b,N)}return null}function j(f,b,w,N){for(var P=null,S=null,C=b,k=b=0,I=null;C!==null&&k<w.length;k++){C.index>k?(I=C,C=null):I=C.sibling;var A=m(f,C,w[k],N);if(A===null){C===null&&(C=I);break}t&&C&&A.alternate===null&&e(f,C),b=a(A,b,k),S===null?P=A:S.sibling=A,S=A,C=I}if(k===w.length)return n(f,C),ls&&rl(f,k),P;if(C===null){for(;k<w.length;k++)C=h(f,w[k],N),C!==null&&(b=a(C,b,k),S===null?P=C:S.sibling=C,S=C);return ls&&rl(f,k),P}for(C=r(f,C);k<w.length;k++)I=x(C,f,k,w[k],N),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?k:I.key),b=a(I,b,k),S===null?P=I:S.sibling=I,S=I);return t&&C.forEach(function(O){return e(f,O)}),ls&&rl(f,k),P}function g(f,b,w,N){var P=Au(w);if(typeof P!="function")throw Error(ke(150));if(w=P.call(w),w==null)throw Error(ke(151));for(var S=P=null,C=b,k=b=0,I=null,A=w.next();C!==null&&!A.done;k++,A=w.next()){C.index>k?(I=C,C=null):I=C.sibling;var O=m(f,C,A.value,N);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(f,C),b=a(O,b,k),S===null?P=O:S.sibling=O,S=O,C=I}if(A.done)return n(f,C),ls&&rl(f,k),P;if(C===null){for(;!A.done;k++,A=w.next())A=h(f,A.value,N),A!==null&&(b=a(A,b,k),S===null?P=A:S.sibling=A,S=A);return ls&&rl(f,k),P}for(C=r(f,C);!A.done;k++,A=w.next())A=x(C,f,k,A.value,N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?k:A.key),b=a(A,b,k),S===null?P=A:S.sibling=A,S=A);return t&&C.forEach(function($){return e(f,$)}),ls&&rl(f,k),P}function v(f,b,w,N){if(typeof w=="object"&&w!==null&&w.type===Ic&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Rp:e:{for(var P=w.key,S=b;S!==null;){if(S.key===P){if(P=w.type,P===Ic){if(S.tag===7){n(f,S.sibling),b=i(S,w.props.children),b.return=f,f=b;break e}}else if(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Za&&cC(P)===S.type){n(f,S.sibling),b=i(S,w.props),b.ref=Ou(f,S,w),b.return=f,f=b;break e}n(f,S);break}else e(f,S);S=S.sibling}w.type===Ic?(b=$l(w.props.children,f.mode,N,w.key),b.return=f,f=b):(N=Af(w.type,w.key,w.props,null,f.mode,N),N.ref=Ou(f,b,w),N.return=f,f=N)}return o(f);case Dc:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(f,b.sibling),b=i(b,w.children||[]),b.return=f,f=b;break e}else{n(f,b);break}else e(f,b);b=b.sibling}b=mv(w,f.mode,N),b.return=f,f=b}return o(f);case Za:return S=w._init,v(f,b,S(w._payload),N)}if(Ju(w))return j(f,b,w,N);if(Au(w))return g(f,b,w,N);qp(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(f,b.sibling),b=i(b,w),b.return=f,f=b):(n(f,b),b=hv(w,f.mode,N),b.return=f,f=b),o(f)):n(f,b)}return v}var Jd=aF(!0),oF=aF(!1),nx=Yo(null),rx=null,zc=null,cN=null;function dN(){cN=zc=rx=null}function uN(t){var e=nx.current;ss(nx),t._currentValue=e}function Lj(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function td(t,e){rx=t,cN=zc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(cN!==t)if(t={context:t,memoizedValue:e,next:null},zc===null){if(rx===null)throw Error(ke(308));zc=t,rx.dependencies={lanes:0,firstContext:t}}else zc=zc.next=t;return e}var ul=null;function hN(t){ul===null?ul=[t]:ul.push(t)}function lF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hN(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pa(t,r)}function Pa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ja=!1;function mN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Co(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pa(t,n)}return i=r.interleaved,i===null?(e.next=e,hN(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pa(t,n)}function Cf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}function dC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ix(t,e,n,r){var i=t.updateQueue;Ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=t,g=l;switch(m=e,x=n,g.tag){case 1:if(j=g.payload,typeof j=="function"){h=j.call(x,h,m);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,m=typeof j=="function"?j.call(x,h,m):j,m==null)break e;h=bs({},h,m);break e;case 2:Ja=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Wl|=o,t.lanes=o,t.memoizedState=h}}function uC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var lp={},Mi=Yo(lp),qh=Yo(lp),Hh=Yo(lp);function hl(t){if(t===lp)throw Error(ke(174));return t}function pN(t,e){switch(Gt(Hh,e),Gt(qh,t),Gt(Mi,lp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yj(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yj(e,t)}ss(Mi),Gt(Mi,e)}function eu(){ss(Mi),ss(qh),ss(Hh)}function dF(t){hl(Hh.current);var e=hl(Mi.current),n=yj(e,t.type);e!==n&&(Gt(qh,t),Gt(Mi,n))}function fN(t){qh.current===t&&(ss(Mi),ss(qh))}var fs=Yo(0);function ax(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var av=[];function xN(){for(var t=0;t<av.length;t++)av[t]._workInProgressVersionPrimary=null;av.length=0}var _f=Oa.ReactCurrentDispatcher,ov=Oa.ReactCurrentBatchConfig,Hl=0,js=null,Hs=null,en=null,ox=!1,gh=!1,Wh=0,qB=0;function pn(){throw Error(ke(321))}function gN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function yN(t,e,n,r,i,a){if(Hl=a,js=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?GB:YB,t=n(r,i),gh){a=0;do{if(gh=!1,Wh=0,25<=a)throw Error(ke(301));a+=1,en=Hs=null,e.updateQueue=null,_f.current=QB,t=n(r,i)}while(gh)}if(_f.current=lx,e=Hs!==null&&Hs.next!==null,Hl=0,en=Hs=js=null,ox=!1,e)throw Error(ke(300));return t}function vN(){var t=Wh!==0;return Wh=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?js.memoizedState=en=t:en=en.next=t,en}function Ar(){if(Hs===null){var t=js.alternate;t=t!==null?t.memoizedState:null}else t=Hs.next;var e=en===null?js.memoizedState:en.next;if(e!==null)en=e,Hs=t;else{if(t===null)throw Error(ke(310));Hs=t,t={memoizedState:Hs.memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},en===null?js.memoizedState=en=t:en=en.next=t}return en}function Kh(t,e){return typeof e=="function"?e(t):e}function lv(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=Hs,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Hl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,js.lanes|=u,Wl|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,ci(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,js.lanes|=a,Wl|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cv(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ci(a,e.memoizedState)||(Yn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function uF(){}function hF(t,e){var n=js,r=Ar(),i=e(),a=!ci(r.memoizedState,i);if(a&&(r.memoizedState=i,Yn=!0),r=r.queue,jN(fF.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,Gh(9,pF.bind(null,n,r,i,e),void 0,null),sn===null)throw Error(ke(349));Hl&30||mF(n,e,i)}return i}function mF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=js.updateQueue,e===null?(e={lastEffect:null,stores:null},js.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pF(t,e,n,r){e.value=n,e.getSnapshot=r,xF(e)&&gF(t)}function fF(t,e,n){return n(function(){xF(e)&&gF(t)})}function xF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ci(t,n)}catch{return!0}}function gF(t){var e=Pa(t,1);e!==null&&ii(e,t,1,-1)}function hC(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:t},e.queue=t,t=t.dispatch=KB.bind(null,js,t),[e.memoizedState,t]}function Gh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=js.updateQueue,e===null?(e={lastEffect:null,stores:null},js.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yF(){return Ar().memoizedState}function kf(t,e,n,r){var i=wi();js.flags|=t,i.memoizedState=Gh(1|e,n,void 0,r===void 0?null:r)}function jg(t,e,n,r){var i=Ar();r=r===void 0?null:r;var a=void 0;if(Hs!==null){var o=Hs.memoizedState;if(a=o.destroy,r!==null&&gN(r,o.deps)){i.memoizedState=Gh(e,n,a,r);return}}js.flags|=t,i.memoizedState=Gh(1|e,n,a,r)}function mC(t,e){return kf(8390656,8,t,e)}function jN(t,e){return jg(2048,8,t,e)}function vF(t,e){return jg(4,2,t,e)}function jF(t,e){return jg(4,4,t,e)}function bF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wF(t,e,n){return n=n!=null?n.concat([t]):null,jg(4,4,bF.bind(null,e,t),n)}function bN(){}function NF(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SF(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gN(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CF(t,e,n){return Hl&21?(ci(n,e)||(n=T4(),js.lanes|=n,Wl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function HB(t,e){var n=Bt;Bt=n!==0&&4>n?n:4,t(!0);var r=ov.transition;ov.transition={};try{t(!1),e()}finally{Bt=n,ov.transition=r}}function _F(){return Ar().memoizedState}function WB(t,e,n){var r=ko(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kF(t))PF(e,n);else if(n=lF(t,e,n,r),n!==null){var i=On();ii(n,t,r,i),EF(n,e,r)}}function KB(t,e,n){var r=ko(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kF(t))PF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,ci(l,o)){var c=e.interleaved;c===null?(i.next=i,hN(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=lF(t,e,i,r),n!==null&&(i=On(),ii(n,t,r,i),EF(n,e,r))}}function kF(t){var e=t.alternate;return t===js||e!==null&&e===js}function PF(t,e){gh=ox=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}var lx={readContext:Tr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},GB={readContext:Tr,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:mC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kf(4194308,4,bF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kf(4194308,4,t,e)},useInsertionEffect:function(t,e){return kf(4,2,t,e)},useMemo:function(t,e){var n=wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WB.bind(null,js,t),[r.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:hC,useDebugValue:bN,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=hC(!1),e=t[0];return t=HB.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=js,i=wi();if(ls){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),sn===null)throw Error(ke(349));Hl&30||mF(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,mC(fF.bind(null,r,a,t),[t]),r.flags|=2048,Gh(9,pF.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=wi(),e=sn.identifierPrefix;if(ls){var n=va,r=ya;n=(r&~(1<<32-ri(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YB={readContext:Tr,useCallback:NF,useContext:Tr,useEffect:jN,useImperativeHandle:wF,useInsertionEffect:vF,useLayoutEffect:jF,useMemo:SF,useReducer:lv,useRef:yF,useState:function(){return lv(Kh)},useDebugValue:bN,useDeferredValue:function(t){var e=Ar();return CF(e,Hs.memoizedState,t)},useTransition:function(){var t=lv(Kh)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:uF,useSyncExternalStore:hF,useId:_F,unstable_isNewReconciler:!1},QB={readContext:Tr,useCallback:NF,useContext:Tr,useEffect:jN,useImperativeHandle:wF,useInsertionEffect:vF,useLayoutEffect:jF,useMemo:SF,useReducer:cv,useRef:yF,useState:function(){return cv(Kh)},useDebugValue:bN,useDeferredValue:function(t){var e=Ar();return Hs===null?e.memoizedState=t:CF(e,Hs.memoizedState,t)},useTransition:function(){var t=cv(Kh)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:uF,useSyncExternalStore:hF,useId:_F,unstable_isNewReconciler:!1};function Lr(t,e){if(t&&t.defaultProps){e=bs({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $j(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bs({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bg={isMounted:function(t){return(t=t._reactInternals)?cc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=ko(t),a=wa(r,i);a.payload=e,n!=null&&(a.callback=n),e=Co(t,a,i),e!==null&&(ii(e,t,i,r),Cf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=ko(t),a=wa(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Co(t,a,i),e!==null&&(ii(e,t,i,r),Cf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=ko(t),i=wa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Co(t,i,r),e!==null&&(ii(e,t,r,n),Cf(e,t,r))}};function pC(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Uh(n,r)||!Uh(i,a):!0}function TF(t,e,n){var r=!1,i=Fo,a=e.contextType;return typeof a=="object"&&a!==null?a=Tr(a):(i=Xn(e)?zl:bn.current,r=e.contextTypes,a=(r=r!=null)?Xd(t,i):Fo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function fC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bg.enqueueReplaceState(e,e.state,null)}function Uj(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mN(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Tr(a):(a=Xn(e)?zl:bn.current,i.context=Xd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($j(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bg.enqueueReplaceState(i,i.state,null),ix(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tu(t,e){try{var n="",r=e;do n+=S8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bj(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XB=typeof WeakMap=="function"?WeakMap:Map;function AF(t,e,n){n=wa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dx||(dx=!0,Xj=r),Bj(t,e)},n}function FF(t,e,n){n=wa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bj(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bj(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=u9.bind(null,t,e,n),e.then(t,t))}function gC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wa(-1,1),e.tag=2,Co(n,e,1))),n.lanes|=1),t)}var ZB=Oa.ReactCurrentOwner,Yn=!1;function An(t,e,n,r){e.child=t===null?oF(e,null,n,r):Jd(e,t.child,n,r)}function vC(t,e,n,r,i){n=n.render;var a=e.ref;return td(e,i),r=yN(t,e,n,r,a,i),n=vN(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ea(t,e,i)):(ls&&n&&aN(e),e.flags|=1,An(t,e,r,i),e.child)}function jC(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!EN(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,RF(t,e,a,r,i)):(t=Af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Uh,n(o,r)&&t.ref===e.ref)return Ea(t,e,i)}return e.flags|=1,t=Po(a,r),t.ref=e.ref,t.return=e,e.child=t}function RF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Uh(a,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Ea(t,e,i)}return Vj(t,e,n,r,i)}function DF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Hc,sr),sr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(Hc,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Gt(Hc,sr),sr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Gt(Hc,sr),sr|=r;return An(t,e,i,n),e.child}function IF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vj(t,e,n,r,i){var a=Xn(n)?zl:bn.current;return a=Xd(e,a),td(e,i),n=yN(t,e,n,r,a,i),r=vN(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ea(t,e,i)):(ls&&r&&aN(e),e.flags|=1,An(t,e,n,i),e.child)}function bC(t,e,n,r,i){if(Xn(n)){var a=!0;ex(e)}else a=!1;if(td(e,i),e.stateNode===null)Pf(t,e),TF(e,n,r),Uj(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Tr(d):(d=Xn(n)?zl:bn.current,d=Xd(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&fC(e,o,r,d),Ja=!1;var m=e.memoizedState;o.state=m,ix(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Qn.current||Ja?(typeof u=="function"&&($j(e,n,u,r),c=e.memoizedState),(l=Ja||pC(e,n,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cF(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Lr(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=Xn(n)?zl:bn.current,c=Xd(e,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&fC(e,o,r,c),Ja=!1,m=e.memoizedState,o.state=m,ix(e,r,o,i);var j=e.memoizedState;l!==h||m!==j||Qn.current||Ja?(typeof x=="function"&&($j(e,n,x,r),j=e.memoizedState),(d=Ja||pC(e,n,d,r,m,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=j),o.props=r,o.state=j,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return zj(t,e,n,r,a,i)}function zj(t,e,n,r,i,a){IF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&aC(e,n,!1),Ea(t,e,a);r=e.stateNode,ZB.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jd(e,t.child,null,a),e.child=Jd(e,null,l,a)):An(t,e,l,a),e.memoizedState=r.state,i&&aC(e,n,!0),e.child}function OF(t){var e=t.stateNode;e.pendingContext?iC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iC(t,e.context,!1),pN(t,e.containerInfo)}function wC(t,e,n,r,i){return Zd(),lN(i),e.flags|=256,An(t,e,n,r),e.child}var qj={dehydrated:null,treeContext:null,retryLane:0};function Hj(t){return{baseLanes:t,cachePool:null,transitions:null}}function MF(t,e,n){var r=e.pendingProps,i=fs.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Gt(fs,i&1),t===null)return Mj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Sg(o,r,0,null),t=$l(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Hj(n),e.memoizedState=qj,t):wN(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return JB(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Po(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Po(l,a):(a=$l(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Hj(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=qj,r}return a=t.child,t=a.sibling,r=Po(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wN(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hp(t,e,n,r){return r!==null&&lN(r),Jd(e,t.child,null,n),t=wN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JB(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=dv(Error(ke(422))),Hp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Sg({mode:"visible",children:r.children},i,0,null),a=$l(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Jd(e,t.child,null,o),e.child.memoizedState=Hj(o),e.memoizedState=qj,a);if(!(e.mode&1))return Hp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ke(419)),r=dv(a,r,void 0),Hp(t,e,o,r)}if(l=(o&t.childLanes)!==0,Yn||l){if(r=sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Pa(t,i),ii(r,t,i,-1))}return PN(),r=dv(Error(ke(421))),Hp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=h9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,cr=So(i.nextSibling),dr=e,ls=!0,Xr=null,t!==null&&(Sr[Cr++]=ya,Sr[Cr++]=va,Sr[Cr++]=ql,ya=t.id,va=t.overflow,ql=e),e=wN(e,r.children),e.flags|=4096,e)}function NC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lj(t.return,e,n)}function uv(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function LF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(An(t,e,r.children,n),r=fs.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&NC(t,n,e);else if(t.tag===19)NC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Gt(fs,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ax(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uv(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ax(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uv(e,!0,n,null,a);break;case"together":uv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ea(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=Po(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Po(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e9(t,e,n){switch(e.tag){case 3:OF(e),Zd();break;case 5:dF(e);break;case 1:Xn(e.type)&&ex(e);break;case 4:pN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Gt(nx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Gt(fs,fs.current&1),e.flags|=128,null):n&e.child.childLanes?MF(t,e,n):(Gt(fs,fs.current&1),t=Ea(t,e,n),t!==null?t.sibling:null);Gt(fs,fs.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(fs,fs.current),r)break;return null;case 22:case 23:return e.lanes=0,DF(t,e,n)}return Ea(t,e,n)}var $F,Wj,UF,BF;$F=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wj=function(){};UF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hl(Mi.current);var a=null;switch(n){case"input":i=pj(t,i),r=pj(t,r),a=[];break;case"select":i=bs({},i,{value:void 0}),r=bs({},r,{value:void 0}),a=[];break;case"textarea":i=gj(t,i),r=gj(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zf)}vj(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rh.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Zt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};BF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mu(t,e){if(!ls)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t9(t,e,n){var r=e.pendingProps;switch(oN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Xn(e.type)&&Jf(),fn(e),null;case 3:return r=e.stateNode,eu(),ss(Qn),ss(bn),xN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xr!==null&&(eb(Xr),Xr=null))),Wj(t,e),fn(e),null;case 5:fN(e);var i=hl(Hh.current);if(n=e.type,t!==null&&e.stateNode!=null)UF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return fn(e),null}if(t=hl(Mi.current),zp(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Fi]=e,r[zh]=a,t=(e.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<th.length;i++)Zt(th[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":FS(r,a),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",r);break;case"textarea":DS(r,a),Zt("invalid",r)}vj(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vp(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vp(r.textContent,l,t),i=["children",""+l]):Rh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zt("scroll",r)}switch(n){case"input":Dp(r),RS(r,a,!0);break;case"textarea":Dp(r),IS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fi]=e,t[zh]=r,$F(t,e,!1,!1),e.stateNode=t;e:{switch(o=jj(n,r),n){case"dialog":Zt("cancel",t),Zt("close",t),i=r;break;case"iframe":case"object":case"embed":Zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<th.length;i++)Zt(th[i],t);i=r;break;case"source":Zt("error",t),i=r;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=r;break;case"details":Zt("toggle",t),i=r;break;case"input":FS(t,r),i=pj(t,r),Zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bs({},r,{value:void 0}),Zt("invalid",t);break;case"textarea":DS(t,r),i=gj(t,r),Zt("invalid",t);break;default:i=r}vj(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?y4(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x4(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dh(t,c):typeof c=="number"&&Dh(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Rh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Zt("scroll",t):c!=null&&Ww(t,a,c,o))}switch(n){case"input":Dp(t),RS(t,r,!1);break;case"textarea":Dp(t),IS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ao(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Xc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)BF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=hl(Hh.current),hl(Mi.current),zp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fi]=e,(a=r.nodeValue!==n)&&(t=dr,t!==null))switch(t.tag){case 3:Vp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fi]=e,e.stateNode=r}return fn(e),null;case 13:if(ss(fs),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ls&&cr!==null&&e.mode&1&&!(e.flags&128))iF(),Zd(),e.flags|=98560,a=!1;else if(a=zp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ke(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ke(317));a[Fi]=e}else Zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),a=!1}else Xr!==null&&(eb(Xr),Xr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fs.current&1?Ks===0&&(Ks=3):PN())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return eu(),Wj(t,e),t===null&&Bh(e.stateNode.containerInfo),fn(e),null;case 10:return uN(e.type._context),fn(e),null;case 17:return Xn(e.type)&&Jf(),fn(e),null;case 19:if(ss(fs),a=e.memoizedState,a===null)return fn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Mu(a,!1);else{if(Ks!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ax(t),o!==null){for(e.flags|=128,Mu(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Gt(fs,fs.current&1|2),e.child}t=t.sibling}a.tail!==null&&Rs()>su&&(e.flags|=128,r=!0,Mu(a,!1),e.lanes=4194304)}else{if(!r)if(t=ax(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ls)return fn(e),null}else 2*Rs()-a.renderingStartTime>su&&n!==1073741824&&(e.flags|=128,r=!0,Mu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rs(),e.sibling=null,n=fs.current,Gt(fs,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return kN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function s9(t,e){switch(oN(e),e.tag){case 1:return Xn(e.type)&&Jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eu(),ss(Qn),ss(bn),xN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fN(e),null;case 13:if(ss(fs),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Zd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ss(fs),null;case 4:return eu(),null;case 10:return uN(e.type._context),null;case 22:case 23:return kN(),null;case 24:return null;default:return null}}var Wp=!1,vn=!1,n9=typeof WeakSet=="function"?WeakSet:Set,He=null;function qc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ns(t,e,r)}else n.current=null}function Kj(t,e,n){try{n()}catch(r){Ns(t,e,r)}}var SC=!1;function r9(t,e){if(Tj=Yf,t=W4(),iN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var x;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Aj={focusedElem:t,selectionRange:n},Yf=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,v=j.memoizedState,f=e.stateNode,b=f.getSnapshotBeforeUpdate(e.elementType===e.type?g:Lr(e.type,g),v);f.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(N){Ns(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return j=SC,SC=!1,j}function yh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kj(e,n,a)}i=i.next}while(i!==r)}}function wg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VF(t){var e=t.alternate;e!==null&&(t.alternate=null,VF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[zh],delete e[Dj],delete e[UB],delete e[BB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zF(t){return t.tag===5||t.tag===3||t.tag===4}function CC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zf));else if(r!==4&&(t=t.child,t!==null))for(Yj(t,e,n),t=t.sibling;t!==null;)Yj(t,e,n),t=t.sibling}function Qj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qj(t,e,n),t=t.sibling;t!==null;)Qj(t,e,n),t=t.sibling}var ln=null,Gr=!1;function za(t,e,n){for(n=n.child;n!==null;)qF(t,e,n),n=n.sibling}function qF(t,e,n){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(pg,n)}catch{}switch(n.tag){case 5:vn||qc(n,e);case 6:var r=ln,i=Gr;ln=null,za(t,e,n),ln=r,Gr=i,ln!==null&&(Gr?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(Gr?(t=ln,n=n.stateNode,t.nodeType===8?rv(t.parentNode,n):t.nodeType===1&&rv(t,n),Lh(t)):rv(ln,n.stateNode));break;case 4:r=ln,i=Gr,ln=n.stateNode.containerInfo,Gr=!0,za(t,e,n),ln=r,Gr=i;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Kj(n,e,o),i=i.next}while(i!==r)}za(t,e,n);break;case 1:if(!vn&&(qc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ns(n,e,l)}za(t,e,n);break;case 21:za(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,za(t,e,n),vn=r):za(t,e,n);break;default:za(t,e,n)}}function _C(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n9),e.forEach(function(r){var i=m9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ln=l.stateNode,Gr=!1;break e;case 3:ln=l.stateNode.containerInfo,Gr=!0;break e;case 4:ln=l.stateNode.containerInfo,Gr=!0;break e}l=l.return}if(ln===null)throw Error(ke(160));qF(a,o,i),ln=null,Gr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ns(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HF(e,t),e=e.sibling}function HF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),vi(t),r&4){try{yh(3,t,t.return),wg(3,t)}catch(g){Ns(t,t.return,g)}try{yh(5,t,t.return)}catch(g){Ns(t,t.return,g)}}break;case 1:Ir(e,t),vi(t),r&512&&n!==null&&qc(n,n.return);break;case 5:if(Ir(e,t),vi(t),r&512&&n!==null&&qc(n,n.return),t.flags&32){var i=t.stateNode;try{Dh(i,"")}catch(g){Ns(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&m4(i,a),jj(l,o);var d=jj(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?y4(i,h):u==="dangerouslySetInnerHTML"?x4(i,h):u==="children"?Dh(i,h):Ww(i,u,h,d)}switch(l){case"input":fj(i,a);break;case"textarea":p4(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Xc(i,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Xc(i,!!a.multiple,a.defaultValue,!0):Xc(i,!!a.multiple,a.multiple?[]:"",!1))}i[zh]=a}catch(g){Ns(t,t.return,g)}}break;case 6:if(Ir(e,t),vi(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Ns(t,t.return,g)}}break;case 3:if(Ir(e,t),vi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lh(e.containerInfo)}catch(g){Ns(t,t.return,g)}break;case 4:Ir(e,t),vi(t);break;case 13:Ir(e,t),vi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(CN=Rs())),r&4&&_C(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(d=vn)||u,Ir(e,t),vn=d):Ir(e,t),vi(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(He=t,u=t.child;u!==null;){for(h=He=u;He!==null;){switch(m=He,x=m.child,m.tag){case 0:case 11:case 14:case 15:yh(4,m,m.return);break;case 1:qc(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(g){Ns(r,n,g)}}break;case 5:qc(m,m.return);break;case 22:if(m.memoizedState!==null){PC(h);continue}}x!==null?(x.return=m,He=x):PC(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=g4("display",o))}catch(g){Ns(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Ns(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ir(e,t),vi(t),r&4&&_C(t);break;case 21:break;default:Ir(e,t),vi(t)}}function vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zF(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dh(i,""),r.flags&=-33);var a=CC(t);Qj(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=CC(t);Yj(t,l,o);break;default:throw Error(ke(161))}}catch(c){Ns(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i9(t,e,n){He=t,WF(t)}function WF(t,e,n){for(var r=(t.mode&1)!==0;He!==null;){var i=He,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wp;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||vn;l=Wp;var d=vn;if(Wp=o,(vn=c)&&!d)for(He=i;He!==null;)o=He,c=o.child,o.tag===22&&o.memoizedState!==null?EC(i):c!==null?(c.return=o,He=c):EC(i);for(;a!==null;)He=a,WF(a),a=a.sibling;He=i,Wp=l,vn=d}kC(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,He=a):kC(t)}}function kC(t){for(;He!==null;){var e=He;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||wg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&uC(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uC(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Lh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}vn||e.flags&512&&Gj(e)}catch(m){Ns(e,e.return,m)}}if(e===t){He=null;break}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}}function PC(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var n=e.sibling;if(n!==null){n.return=e.return,He=n;break}He=e.return}}function EC(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wg(4,e)}catch(c){Ns(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ns(e,i,c)}}var a=e.return;try{Gj(e)}catch(c){Ns(e,a,c)}break;case 5:var o=e.return;try{Gj(e)}catch(c){Ns(e,o,c)}}}catch(c){Ns(e,e.return,c)}if(e===t){He=null;break}var l=e.sibling;if(l!==null){l.return=e.return,He=l;break}He=e.return}}var a9=Math.ceil,cx=Oa.ReactCurrentDispatcher,NN=Oa.ReactCurrentOwner,Pr=Oa.ReactCurrentBatchConfig,Et=0,sn=null,Bs=null,dn=0,sr=0,Hc=Yo(0),Ks=0,Yh=null,Wl=0,Ng=0,SN=0,vh=null,Gn=null,CN=0,su=1/0,ia=null,dx=!1,Xj=null,_o=null,Kp=!1,go=null,ux=0,jh=0,Zj=null,Ef=-1,Tf=0;function On(){return Et&6?Rs():Ef!==-1?Ef:Ef=Rs()}function ko(t){return t.mode&1?Et&2&&dn!==0?dn&-dn:zB.transition!==null?(Tf===0&&(Tf=T4()),Tf):(t=Bt,t!==0||(t=window.event,t=t===void 0?16:M4(t.type)),t):1}function ii(t,e,n,r){if(50<jh)throw jh=0,Zj=null,Error(ke(185));ip(t,n,r),(!(Et&2)||t!==sn)&&(t===sn&&(!(Et&2)&&(Ng|=n),Ks===4&&so(t,dn)),Zn(t,r),n===1&&Et===0&&!(e.mode&1)&&(su=Rs()+500,vg&&Qo()))}function Zn(t,e){var n=t.callbackNode;z8(t,e);var r=Gf(t,t===sn?dn:0);if(r===0)n!==null&&LS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&LS(n),e===1)t.tag===0?VB(TC.bind(null,t)):sF(TC.bind(null,t)),LB(function(){!(Et&6)&&Qo()}),n=null;else{switch(A4(r)){case 1:n=Xw;break;case 4:n=P4;break;case 16:n=Kf;break;case 536870912:n=E4;break;default:n=Kf}n=eR(n,KF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KF(t,e){if(Ef=-1,Tf=0,Et&6)throw Error(ke(327));var n=t.callbackNode;if(sd()&&t.callbackNode!==n)return null;var r=Gf(t,t===sn?dn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hx(t,r);else{e=r;var i=Et;Et|=2;var a=YF();(sn!==t||dn!==e)&&(ia=null,su=Rs()+500,Ll(t,e));do try{c9();break}catch(l){GF(t,l)}while(!0);dN(),cx.current=a,Et=i,Bs!==null?e=0:(sn=null,dn=0,e=Ks)}if(e!==0){if(e===2&&(i=Cj(t),i!==0&&(r=i,e=Jj(t,i))),e===1)throw n=Yh,Ll(t,0),so(t,r),Zn(t,Rs()),n;if(e===6)so(t,r);else{if(i=t.current.alternate,!(r&30)&&!o9(i)&&(e=hx(t,r),e===2&&(a=Cj(t),a!==0&&(r=a,e=Jj(t,a))),e===1))throw n=Yh,Ll(t,0),so(t,r),Zn(t,Rs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:il(t,Gn,ia);break;case 3:if(so(t,r),(r&130023424)===r&&(e=CN+500-Rs(),10<e)){if(Gf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rj(il.bind(null,t,Gn,ia),e);break}il(t,Gn,ia);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ri(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Rs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a9(r/1960))-r,10<r){t.timeoutHandle=Rj(il.bind(null,t,Gn,ia),r);break}il(t,Gn,ia);break;case 5:il(t,Gn,ia);break;default:throw Error(ke(329))}}}return Zn(t,Rs()),t.callbackNode===n?KF.bind(null,t):null}function Jj(t,e){var n=vh;return t.current.memoizedState.isDehydrated&&(Ll(t,e).flags|=256),t=hx(t,e),t!==2&&(e=Gn,Gn=n,e!==null&&eb(e)),t}function eb(t){Gn===null?Gn=t:Gn.push.apply(Gn,t)}function o9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ci(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~SN,e&=~Ng,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ri(e),r=1<<n;t[n]=-1,e&=~r}}function TC(t){if(Et&6)throw Error(ke(327));sd();var e=Gf(t,0);if(!(e&1))return Zn(t,Rs()),null;var n=hx(t,e);if(t.tag!==0&&n===2){var r=Cj(t);r!==0&&(e=r,n=Jj(t,r))}if(n===1)throw n=Yh,Ll(t,0),so(t,e),Zn(t,Rs()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,Gn,ia),Zn(t,Rs()),null}function _N(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(su=Rs()+500,vg&&Qo())}}function Kl(t){go!==null&&go.tag===0&&!(Et&6)&&sd();var e=Et;Et|=1;var n=Pr.transition,r=Bt;try{if(Pr.transition=null,Bt=1,t)return t()}finally{Bt=r,Pr.transition=n,Et=e,!(Et&6)&&Qo()}}function kN(){sr=Hc.current,ss(Hc)}function Ll(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MB(n)),Bs!==null)for(n=Bs.return;n!==null;){var r=n;switch(oN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jf();break;case 3:eu(),ss(Qn),ss(bn),xN();break;case 5:fN(r);break;case 4:eu();break;case 13:ss(fs);break;case 19:ss(fs);break;case 10:uN(r.type._context);break;case 22:case 23:kN()}n=n.return}if(sn=t,Bs=t=Po(t.current,null),dn=sr=e,Ks=0,Yh=null,SN=Ng=Wl=0,Gn=vh=null,ul!==null){for(e=0;e<ul.length;e++)if(n=ul[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ul=null}return t}function GF(t,e){do{var n=Bs;try{if(dN(),_f.current=lx,ox){for(var r=js.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ox=!1}if(Hl=0,en=Hs=js=null,gh=!1,Wh=0,NN.current=null,n===null||n.return===null){Ks=1,Yh=e,Bs=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=dn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=gC(o);if(x!==null){x.flags&=-257,yC(x,o,l,a,e),x.mode&1&&xC(a,d,e),e=x,c=d;var j=e.updateQueue;if(j===null){var g=new Set;g.add(c),e.updateQueue=g}else j.add(c);break e}else{if(!(e&1)){xC(a,d,e),PN();break e}c=Error(ke(426))}}else if(ls&&l.mode&1){var v=gC(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yC(v,o,l,a,e),lN(tu(c,l));break e}}a=c=tu(c,l),Ks!==4&&(Ks=2),vh===null?vh=[a]:vh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var f=AF(a,c,e);dC(a,f);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=FF(a,l,e);dC(a,N);break e}}a=a.return}while(a!==null)}XF(n)}catch(P){e=P,Bs===n&&n!==null&&(Bs=n=n.return);continue}break}while(!0)}function YF(){var t=cx.current;return cx.current=lx,t===null?lx:t}function PN(){(Ks===0||Ks===3||Ks===2)&&(Ks=4),sn===null||!(Wl&268435455)&&!(Ng&268435455)||so(sn,dn)}function hx(t,e){var n=Et;Et|=2;var r=YF();(sn!==t||dn!==e)&&(ia=null,Ll(t,e));do try{l9();break}catch(i){GF(t,i)}while(!0);if(dN(),Et=n,cx.current=r,Bs!==null)throw Error(ke(261));return sn=null,dn=0,Ks}function l9(){for(;Bs!==null;)QF(Bs)}function c9(){for(;Bs!==null&&!D8();)QF(Bs)}function QF(t){var e=JF(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?XF(t):Bs=e,NN.current=null}function XF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s9(n,e),n!==null){n.flags&=32767,Bs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ks=6,Bs=null;return}}else if(n=t9(n,e,sr),n!==null){Bs=n;return}if(e=e.sibling,e!==null){Bs=e;return}Bs=e=t}while(e!==null);Ks===0&&(Ks=5)}function il(t,e,n){var r=Bt,i=Pr.transition;try{Pr.transition=null,Bt=1,d9(t,e,n,r)}finally{Pr.transition=i,Bt=r}return null}function d9(t,e,n,r){do sd();while(go!==null);if(Et&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(q8(t,a),t===sn&&(Bs=sn=null,dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kp||(Kp=!0,eR(Kf,function(){return sd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pr.transition,Pr.transition=null;var o=Bt;Bt=1;var l=Et;Et|=4,NN.current=null,r9(t,n),HF(n,t),TB(Aj),Yf=!!Tj,Aj=Tj=null,t.current=n,i9(n),I8(),Et=l,Bt=o,Pr.transition=a}else t.current=n;if(Kp&&(Kp=!1,go=t,ux=i),a=t.pendingLanes,a===0&&(_o=null),L8(n.stateNode),Zn(t,Rs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dx)throw dx=!1,t=Xj,Xj=null,t;return ux&1&&t.tag!==0&&sd(),a=t.pendingLanes,a&1?t===Zj?jh++:(jh=0,Zj=t):jh=0,Qo(),null}function sd(){if(go!==null){var t=A4(ux),e=Pr.transition,n=Bt;try{if(Pr.transition=null,Bt=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,ux=0,Et&6)throw Error(ke(331));var i=Et;for(Et|=4,He=t.current;He!==null;){var a=He,o=a.child;if(He.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(He=d;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:yh(8,u,a)}var h=u.child;if(h!==null)h.return=u,He=h;else for(;He!==null;){u=He;var m=u.sibling,x=u.return;if(VF(u),u===d){He=null;break}if(m!==null){m.return=x,He=m;break}He=x}}}var j=a.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}He=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,He=o;else e:for(;He!==null;){if(a=He,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yh(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,He=f;break e}He=a.return}}var b=t.current;for(He=b;He!==null;){o=He;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,He=w;else e:for(o=b;He!==null;){if(l=He,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wg(9,l)}}catch(P){Ns(l,l.return,P)}if(l===o){He=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,He=N;break e}He=l.return}}if(Et=i,Qo(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(pg,t)}catch{}r=!0}return r}finally{Bt=n,Pr.transition=e}}return!1}function AC(t,e,n){e=tu(n,e),e=AF(t,e,1),t=Co(t,e,1),e=On(),t!==null&&(ip(t,1,e),Zn(t,e))}function Ns(t,e,n){if(t.tag===3)AC(t,t,n);else for(;e!==null;){if(e.tag===3){AC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=tu(n,t),t=FF(e,t,1),e=Co(e,t,1),t=On(),e!==null&&(ip(e,1,t),Zn(e,t));break}}e=e.return}}function u9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(dn&n)===n&&(Ks===4||Ks===3&&(dn&130023424)===dn&&500>Rs()-CN?Ll(t,0):SN|=n),Zn(t,e)}function ZF(t,e){e===0&&(t.mode&1?(e=Mp,Mp<<=1,!(Mp&130023424)&&(Mp=4194304)):e=1);var n=On();t=Pa(t,e),t!==null&&(ip(t,e,n),Zn(t,n))}function h9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZF(t,n)}function m9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),ZF(t,n)}var JF;JF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,e9(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,ls&&e.flags&1048576&&nF(e,sx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pf(t,e),t=e.pendingProps;var i=Xd(e,bn.current);td(e,n),i=yN(null,e,r,t,i,n);var a=vN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(a=!0,ex(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mN(e),i.updater=bg,e.stateNode=i,i._reactInternals=e,Uj(e,r,t,n),e=zj(null,e,r,!0,a,n)):(e.tag=0,ls&&a&&aN(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f9(r),t=Lr(r,t),i){case 0:e=Vj(null,e,r,t,n);break e;case 1:e=bC(null,e,r,t,n);break e;case 11:e=vC(null,e,r,t,n);break e;case 14:e=jC(null,e,r,Lr(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),Vj(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),bC(t,e,r,i,n);case 3:e:{if(OF(e),t===null)throw Error(ke(387));r=e.pendingProps,a=e.memoizedState,i=a.element,cF(t,e),ix(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=tu(Error(ke(423)),e),e=wC(t,e,r,n,i);break e}else if(r!==i){i=tu(Error(ke(424)),e),e=wC(t,e,r,n,i);break e}else for(cr=So(e.stateNode.containerInfo.firstChild),dr=e,ls=!0,Xr=null,n=oF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zd(),r===i){e=Ea(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return dF(e),t===null&&Mj(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Fj(r,i)?o=null:a!==null&&Fj(r,a)&&(e.flags|=32),IF(t,e),An(t,e,o,n),e.child;case 6:return t===null&&Mj(e),null;case 13:return MF(t,e,n);case 4:return pN(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jd(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),vC(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Gt(nx,r._currentValue),r._currentValue=o,a!==null)if(ci(a.value,o)){if(a.children===i.children&&!Qn.current){e=Ea(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=wa(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Lj(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ke(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lj(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,td(e,n),i=Tr(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=Lr(r,e.pendingProps),i=Lr(r.type,i),jC(t,e,r,i,n);case 15:return RF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lr(r,i),Pf(t,e),e.tag=1,Xn(r)?(t=!0,ex(e)):t=!1,td(e,n),TF(e,r,i),Uj(e,r,i,n),zj(null,e,r,!0,t,n);case 19:return LF(t,e,n);case 22:return DF(t,e,n)}throw Error(ke(156,e.tag))};function eR(t,e){return k4(t,e)}function p9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new p9(t,e,n,r)}function EN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f9(t){if(typeof t=="function")return EN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gw)return 11;if(t===Yw)return 14}return 2}function Po(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Af(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")EN(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ic:return $l(n.children,i,a,e);case Kw:o=8,i|=8;break;case dj:return t=_r(12,n,e,i|2),t.elementType=dj,t.lanes=a,t;case uj:return t=_r(13,n,e,i),t.elementType=uj,t.lanes=a,t;case hj:return t=_r(19,n,e,i),t.elementType=hj,t.lanes=a,t;case d4:return Sg(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l4:o=10;break e;case c4:o=9;break e;case Gw:o=11;break e;case Yw:o=14;break e;case Za:o=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=_r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function $l(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function Sg(t,e,n,r){return t=_r(22,t,r,e),t.elementType=d4,t.lanes=n,t.stateNode={isHidden:!1},t}function hv(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function mv(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function TN(t,e,n,r,i,a,o,l,c){return t=new x9(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=_r(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mN(a),t}function g9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tR(t){if(!t)return Fo;t=t._reactInternals;e:{if(cc(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(Xn(n))return tF(t,n,e)}return e}function sR(t,e,n,r,i,a,o,l,c){return t=TN(n,r,!0,t,i,a,o,l,c),t.context=tR(null),n=t.current,r=On(),i=ko(n),a=wa(r,i),a.callback=e??null,Co(n,a,i),t.current.lanes=i,ip(t,i,r),Zn(t,r),t}function Cg(t,e,n,r){var i=e.current,a=On(),o=ko(i);return n=tR(n),e.context===null?e.context=n:e.pendingContext=n,e=wa(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Co(i,e,o),t!==null&&(ii(t,i,o,a),Cf(t,i,o)),o}function mx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function AN(t,e){FC(t,e),(t=t.alternate)&&FC(t,e)}function y9(){return null}var nR=typeof reportError=="function"?reportError:function(t){console.error(t)};function FN(t){this._internalRoot=t}_g.prototype.render=FN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));Cg(t,e,null,null)};_g.prototype.unmount=FN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kl(function(){Cg(null,t,null,null)}),e[ka]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=D4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&O4(t)}};function RN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RC(){}function v9(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=mx(o);a.call(d)}}var o=sR(e,r,t,0,null,!1,!1,"",RC);return t._reactRootContainer=o,t[ka]=o.current,Bh(t.nodeType===8?t.parentNode:t),Kl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=mx(c);l.call(d)}}var c=TN(t,0,!1,null,null,!1,!1,"",RC);return t._reactRootContainer=c,t[ka]=c.current,Bh(t.nodeType===8?t.parentNode:t),Kl(function(){Cg(e,c,n,r)}),c}function Pg(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=mx(o);l.call(c)}}Cg(e,o,t,i)}else o=v9(n,e,t,i,r);return mx(o)}F4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eh(e.pendingLanes);n!==0&&(Zw(e,n|1),Zn(e,Rs()),!(Et&6)&&(su=Rs()+500,Qo()))}break;case 13:Kl(function(){var r=Pa(t,1);if(r!==null){var i=On();ii(r,t,1,i)}}),AN(t,1)}};Jw=function(t){if(t.tag===13){var e=Pa(t,134217728);if(e!==null){var n=On();ii(e,t,134217728,n)}AN(t,134217728)}};R4=function(t){if(t.tag===13){var e=ko(t),n=Pa(t,e);if(n!==null){var r=On();ii(n,t,e,r)}AN(t,e)}};D4=function(){return Bt};I4=function(t,e){var n=Bt;try{return Bt=t,e()}finally{Bt=n}};wj=function(t,e,n){switch(e){case"input":if(fj(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yg(r);if(!i)throw Error(ke(90));h4(r),fj(r,i)}}}break;case"textarea":p4(t,n);break;case"select":e=n.value,e!=null&&Xc(t,!!n.multiple,e,!1)}};b4=_N;w4=Kl;var j9={usingClientEntryPoint:!1,Events:[op,$c,yg,v4,j4,_N]},Lu={findFiberByHostInstance:dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b9={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C4(t),t===null?null:t.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||y9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gp.isDisabled&&Gp.supportsFiber)try{pg=Gp.inject(b9),Oi=Gp}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j9;xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RN(e))throw Error(ke(200));return g9(t,e,null,n)};xr.createRoot=function(t,e){if(!RN(t))throw Error(ke(299));var n=!1,r="",i=nR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=TN(t,1,!1,null,null,n,!1,r,i),t[ka]=e.current,Bh(t.nodeType===8?t.parentNode:t),new FN(e)};xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=C4(e),t=t===null?null:t.stateNode,t};xr.flushSync=function(t){return Kl(t)};xr.hydrate=function(t,e,n){if(!kg(e))throw Error(ke(200));return Pg(null,t,e,!0,n)};xr.hydrateRoot=function(t,e,n){if(!RN(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=nR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sR(e,null,t,1,n??null,i,!1,a,o),t[ka]=e.current,Bh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _g(e)};xr.render=function(t,e,n){if(!kg(e))throw Error(ke(200));return Pg(null,t,e,!1,n)};xr.unmountComponentAtNode=function(t){if(!kg(t))throw Error(ke(40));return t._reactRootContainer?(Kl(function(){Pg(null,null,t,!1,function(){t._reactRootContainer=null,t[ka]=null})}),!0):!1};xr.unstable_batchedUpdates=_N;xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kg(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Pg(t,e,n,!1,r)};xr.version="18.3.1-next-f1338f8080-20240426";function rR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rR)}catch(t){console.error(t)}}rR(),r4.exports=xr;var dc=r4.exports;const w9=Ia(dc);var iR,DC=dc;iR=DC.createRoot,DC.hydrateRoot;const N9="modulepreload",S9=function(t){return"/"+t},IC={},Ma=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=S9(c),c in IC)return;IC[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":N9,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function C9(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var aR={exports:{}},oR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=p;function _9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var k9=typeof Object.is=="function"?Object.is:_9,P9=nu.useState,E9=nu.useEffect,T9=nu.useLayoutEffect,A9=nu.useDebugValue;function F9(t,e){var n=e(),r=P9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return T9(function(){i.value=n,i.getSnapshot=e,pv(i)&&a({inst:i})},[t,n,e]),E9(function(){return pv(i)&&a({inst:i}),t(function(){pv(i)&&a({inst:i})})},[t]),A9(n),n}function pv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!k9(t,n)}catch{return!0}}function R9(t,e){return e()}var D9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R9:F9;oR.useSyncExternalStore=nu.useSyncExternalStore!==void 0?nu.useSyncExternalStore:D9;aR.exports=oR;var lR=aR.exports;const I9=mg.useInsertionEffect,O9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M9=O9?p.useLayoutEffect:p.useEffect,L9=I9||M9,cR=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return L9(()=>{e[0]=t}),e[1]},$9="popstate",DN="pushState",IN="replaceState",U9="hashchange",OC=[$9,DN,IN,U9],B9=t=>{for(const e of OC)addEventListener(e,t);return()=>{for(const e of OC)removeEventListener(e,t)}},dR=(t,e)=>lR.useSyncExternalStore(B9,t,e),MC=()=>location.search,V9=({ssrSearch:t}={})=>dR(MC,t!=null?()=>t:MC),LC=()=>location.pathname,z9=({ssrPath:t}={})=>dR(LC,t!=null?()=>t:LC),q9=(t,{replace:e=!1,state:n=null}={})=>history[e?IN:DN](n,"",t),H9=(t={})=>[z9(t),q9],$C=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$C]>"u"){for(const t of[DN,IN]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$C,{value:!0})}const W9=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",uR=(t="")=>t==="/"?"":t,K9=(t,e)=>t[0]==="~"?t.slice(1):uR(e)+t,G9=(t="",e)=>W9(UC(uR(t)),UC(e)),UC=t=>{try{return decodeURI(t)}catch{return t}},hR={hook:H9,searchHook:V9,parser:C9,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t,aroundNav:(t,e,n)=>t(e,n)},mR=p.createContext(hR),yu=()=>p.useContext(mR),pR={},fR=p.createContext(pR),Y9=()=>p.useContext(fR),Eg=t=>{const[e,n]=t.hook(t);return[G9(t.base,e),cR((r,i)=>t.aroundNav(n,K9(r,t.base),i))]},an=()=>Eg(yu()),ON=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},cp=t=>ON(yu().parser,t,an()[0]),Q9=({children:t,...e})=>{var u,h,m;const n=yu(),r=e.hook?hR:n;let i=r;const[a,o=e.ssrSearch??""]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((m=e.hook)==null?void 0:m.searchHook);let l=p.useRef({}),c=l.current,d=c;for(let x in r){const j=x==="base"?r[x]+(e[x]??""):e[x]??r[x];c===d&&j!==d[x]&&(l.current=d={...d}),d[x]=j,(j!==r[x]||j!==i[x])&&(i=d)}return p.createElement(mR.Provider,{value:i,children:t})},BC=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,X9=t=>{let e=p.useRef(pR);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},ze=({path:t,nest:e,match:n,...r})=>{const i=yu(),[a]=Eg(i),[o,l,c]=n??ON(i.parser,t,a,e),d=X9({...Y9(),...l});if(!o)return null;const u=c?p.createElement(Q9,{base:c},BC(r,d)):BC(r,d);return p.createElement(fR.Provider,{value:d,children:u})},Je=p.forwardRef((t,e)=>{const n=yu(),[r,i]=Eg(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,transition:x,...j}=t,g=cR(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(l==null||l(f),f.defaultPrevented||(f.preventDefault(),i(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:g,href:v}):p.createElement("a",{...j,onClick:g,href:v,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),xR=t=>Array.isArray(t)?t.flatMap(e=>xR(e&&e.type===p.Fragment?e.props.children:e)):[t],Z9=({children:t,location:e})=>{const n=yu(),[r]=Eg(n);for(const i of xR(t)){let a=0;if(p.isValidElement(i)&&(a=ON(n.parser,i.props.path,e||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var uc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},J9={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},no,$w,Yk,eV=(Yk=class{constructor(){X(this,no,J9);X(this,$w,!1)}setTimeoutProvider(t){te(this,no,t)}setTimeout(t,e){return _(this,no).setTimeout(t,e)}clearTimeout(t){_(this,no).clearTimeout(t)}setInterval(t,e){return _(this,no).setInterval(t,e)}clearInterval(t){_(this,no).clearInterval(t)}},no=new WeakMap,$w=new WeakMap,Yk),ml=new eV;function tV(t){setTimeout(t,0)}var Gl=typeof window>"u"||"Deno"in globalThis;function yn(){}function sV(t,e){return typeof t=="function"?t(e):t}function tb(t){return typeof t=="number"&&t>=0&&t!==1/0}function gR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Eo(t,e){return typeof t=="function"?t(e):t}function Nr(t,e){return typeof t=="function"?t(e):t}function VC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==MN(o,e.options))return!1}else if(!Qh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function zC(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Yl(e.options.mutationKey)!==Yl(a))return!1}else if(!Qh(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function MN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yl)(t)}function Yl(t){return JSON.stringify(t,(e,n)=>sb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qh(t[n],e[n])):!1}var nV=Object.prototype.hasOwnProperty;function LN(t,e){if(t===e)return t;const n=qC(t)&&qC(e);if(!n&&!(sb(t)&&sb(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d],h=t[u],m=e[u];if(h===m){l[u]=h,(n?d<i:nV.call(t,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const x=LN(h,m);l[u]=x,x===h&&c++}return i===o&&c===i?t:l}function Xh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sb(t){if(!HC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HC(t){return Object.prototype.toString.call(t)==="[object Object]"}function rV(t){return new Promise(e=>{ml.setTimeout(e,t)})}function nb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?LN(t,e):e}function iV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function aV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $N=Symbol();function yR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$N?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function UN(t,e){return typeof t=="function"?t(...e):!!t}function oV(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var yl,ro,fd,Qk,lV=(Qk=class extends uc{constructor(){super();X(this,yl);X(this,ro);X(this,fd);te(this,fd,e=>{if(!Gl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,ro)||this.setEventListener(_(this,fd))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ro))==null||e.call(this),te(this,ro,void 0))}setEventListener(e){var n;te(this,fd,e),(n=_(this,ro))==null||n.call(this),te(this,ro,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){_(this,yl)!==e&&(te(this,yl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof _(this,yl)=="boolean"?_(this,yl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yl=new WeakMap,ro=new WeakMap,fd=new WeakMap,Qk),BN=new lV;function rb(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var cV=tV;function dV(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=cV;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ss=dV(),xd,io,gd,Xk,uV=(Xk=class extends uc{constructor(){super();X(this,xd,!0);X(this,io);X(this,gd);te(this,gd,e=>{if(!Gl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,io)||this.setEventListener(_(this,gd))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,io))==null||e.call(this),te(this,io,void 0))}setEventListener(e){var n;te(this,gd,e),(n=_(this,io))==null||n.call(this),te(this,io,e(this.setOnline.bind(this)))}setOnline(e){_(this,xd)!==e&&(te(this,xd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return _(this,xd)}},xd=new WeakMap,io=new WeakMap,gd=new WeakMap,Xk),px=new uV;function hV(t){return Math.min(1e3*2**t,3e4)}function vR(t){return(t??"online")==="online"?px.isOnline():!0}var ib=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jR(t){let e=!1,n=0,r;const i=rb(),a=()=>i.status!=="pending",o=g=>{var v;if(!a()){const f=new ib(g);m(f),(v=t.onCancel)==null||v.call(t,f)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>BN.isFocused()&&(t.networkMode==="always"||px.isOnline())&&t.canRun(),u=()=>vR(t.networkMode)&&t.canRun(),h=g=>{a()||(r==null||r(),i.resolve(g))},m=g=>{a()||(r==null||r(),i.reject(g))},x=()=>new Promise(g=>{var v;r=f=>{(a()||d())&&g(f)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;r=void 0,a()||(g=t.onContinue)==null||g.call(t)}),j=()=>{if(a())return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(f){g=Promise.reject(f)}Promise.resolve(g).then(h).catch(f=>{var S;if(a())return;const b=t.retry??(Gl?0:3),w=t.retryDelay??hV,N=typeof w=="function"?w(n,f):w,P=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,f);if(e||!P){m(f);return}n++,(S=t.onFail)==null||S.call(t,n,f),rV(N).then(()=>d()?void 0:x()).then(()=>{e?m(f):j()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():x().then(j),i)}}var vl,Zk,bR=(Zk=class{constructor(){X(this,vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tb(this.gcTime)&&te(this,vl,ml.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gl?1/0:5*60*1e3))}clearGcTimeout(){_(this,vl)&&(ml.clearTimeout(_(this,vl)),te(this,vl,void 0))}},vl=new WeakMap,Zk),jl,yd,vr,bl,Xs,Em,wl,Ur,sa,Jk,mV=(Jk=class extends bR{constructor(e){super();X(this,Ur);X(this,jl);X(this,yd);X(this,vr);X(this,bl);X(this,Xs);X(this,Em);X(this,wl);te(this,wl,!1),te(this,Em,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,bl,e.client),te(this,vr,_(this,bl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,jl,KC(this.options)),this.state=e.state??_(this,jl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Xs))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,Em),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=KC(this.options);n.data!==void 0&&(this.setState(WC(n.data,n.dataUpdatedAt)),te(this,jl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,vr).remove(this)}setData(e,n){const r=nb(this.state.data,e,this.options);return fe(this,Ur,sa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){fe(this,Ur,sa).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=_(this,Xs))==null?void 0:r.promise;return(i=_(this,Xs))==null||i.cancel(e),n?n.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,jl))}isActive(){return this.observers.some(e=>Nr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$N||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Eo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!gR(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,Xs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,Xs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,vr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(_(this,Xs)&&(_(this,wl)?_(this,Xs).cancel({revert:!0}):_(this,Xs).cancelRetry()),this.scheduleGc()),_(this,vr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fe(this,Ur,sa).call(this,{type:"invalidate"})}async fetch(e,n){var c,d,u,h,m,x,j,g,v,f,b,w;if(this.state.fetchStatus!=="idle"&&((c=_(this,Xs))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Xs))return _(this,Xs).continueRetry(),_(this,Xs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(te(this,wl,!0),r.signal)})},a=()=>{const N=yR(this.options,n),S=(()=>{const C={client:_(this,bl),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return te(this,wl,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,bl),state:this.state,fetchFn:a};return i(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),te(this,yd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&fe(this,Ur,sa).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),te(this,Xs,jR({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof ib&&N.revert&&this.setState({..._(this,yd),fetchStatus:"idle"}),r.abort()},onFail:(N,P)=>{fe(this,Ur,sa).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{fe(this,Ur,sa).call(this,{type:"pause"})},onContinue:()=>{fe(this,Ur,sa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await _(this,Xs).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(x=(m=_(this,vr).config).onSuccess)==null||x.call(m,N,this),(g=(j=_(this,vr).config).onSettled)==null||g.call(j,N,this.state.error,this),N}catch(N){if(N instanceof ib){if(N.silent)return _(this,Xs).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw fe(this,Ur,sa).call(this,{type:"error",error:N}),(f=(v=_(this,vr).config).onError)==null||f.call(v,N,this),(w=(b=_(this,vr).config).onSettled)==null||w.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},jl=new WeakMap,yd=new WeakMap,vr=new WeakMap,bl=new WeakMap,Xs=new WeakMap,Em=new WeakMap,wl=new WeakMap,Ur=new WeakSet,sa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wR(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...WC(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,yd,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ss.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,vr).notify({query:this,type:"updated",action:e})})},Jk);function wR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WC(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function KC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vn,Nt,Tm,_n,Nl,vd,la,ao,Am,jd,bd,Sl,Cl,oo,wd,It,sh,ab,ob,lb,cb,db,ub,hb,NR,eP,VN=(eP=class extends uc{constructor(e,n){super();X(this,It);X(this,Vn);X(this,Nt);X(this,Tm);X(this,_n);X(this,Nl);X(this,vd);X(this,la);X(this,ao);X(this,Am);X(this,jd);X(this,bd);X(this,Sl);X(this,Cl);X(this,oo);X(this,wd,new Set);this.options=n,te(this,Vn,e),te(this,ao,null),te(this,la,rb()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Nt).addObserver(this),GC(_(this,Nt),this.options)?fe(this,It,sh).call(this):this.updateResult(),fe(this,It,cb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mb(_(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mb(_(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fe(this,It,db).call(this),fe(this,It,ub).call(this),_(this,Nt).removeObserver(this)}setOptions(e){const n=this.options,r=_(this,Nt);if(this.options=_(this,Vn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nr(this.options.enabled,_(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fe(this,It,hb).call(this),_(this,Nt).setOptions(this.options),n._defaulted&&!Xh(this.options,n)&&_(this,Vn).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Nt),observer:this});const i=this.hasListeners();i&&YC(_(this,Nt),r,this.options,n)&&fe(this,It,sh).call(this),this.updateResult(),i&&(_(this,Nt)!==r||Nr(this.options.enabled,_(this,Nt))!==Nr(n.enabled,_(this,Nt))||Eo(this.options.staleTime,_(this,Nt))!==Eo(n.staleTime,_(this,Nt)))&&fe(this,It,ab).call(this);const a=fe(this,It,ob).call(this);i&&(_(this,Nt)!==r||Nr(this.options.enabled,_(this,Nt))!==Nr(n.enabled,_(this,Nt))||a!==_(this,oo))&&fe(this,It,lb).call(this,a)}getOptimisticResult(e){const n=_(this,Vn).getQueryCache().build(_(this,Vn),e),r=this.createResult(n,e);return fV(this,r)&&(te(this,_n,r),te(this,vd,this.options),te(this,Nl,_(this,Nt).state)),r}getCurrentResult(){return _(this,_n)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,la).status==="pending"&&_(this,la).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){_(this,wd).add(e)}getCurrentQuery(){return _(this,Nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=_(this,Vn).defaultQueryOptions(e),r=_(this,Vn).getQueryCache().build(_(this,Vn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return fe(this,It,sh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,_n)))}createResult(e,n){var I;const r=_(this,Nt),i=this.options,a=_(this,_n),o=_(this,Nl),l=_(this,vd),d=e!==r?e.state:_(this,Tm),{state:u}=e;let h={...u},m=!1,x;if(n._optimisticResults){const A=this.hasListeners(),O=!A&&GC(e,n),$=A&&YC(e,r,n,i);(O||$)&&(h={...h,...wR(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:j,errorUpdatedAt:g,status:v}=h;x=h.data;let f=!1;if(n.placeholderData!==void 0&&x===void 0&&v==="pending"){let A;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,f=!0):A=typeof n.placeholderData=="function"?n.placeholderData((I=_(this,bd))==null?void 0:I.state.data,_(this,bd)):n.placeholderData,A!==void 0&&(v="success",x=nb(a==null?void 0:a.data,A,n),m=!0)}if(n.select&&x!==void 0&&!f)if(a&&x===(o==null?void 0:o.data)&&n.select===_(this,Am))x=_(this,jd);else try{te(this,Am,n.select),x=n.select(x),x=nb(a==null?void 0:a.data,x,n),te(this,jd,x),te(this,ao,null)}catch(A){te(this,ao,A)}_(this,ao)&&(j=_(this,ao),x=_(this,jd),g=Date.now(),v="error");const b=h.fetchStatus==="fetching",w=v==="pending",N=v==="error",P=w&&b,S=x!==void 0,k={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:N,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:h.dataUpdatedAt,error:j,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:N&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&S,isStale:zN(e,n),refetch:this.refetch,promise:_(this,la),isEnabled:Nr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=J=>{k.status==="error"?J.reject(k.error):k.data!==void 0&&J.resolve(k.data)},O=()=>{const J=te(this,la,k.promise=rb());A(J)},$=_(this,la);switch($.status){case"pending":e.queryHash===r.queryHash&&A($);break;case"fulfilled":(k.status==="error"||k.data!==$.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==$.reason)&&O();break}}return k}updateResult(){const e=_(this,_n),n=this.createResult(_(this,Nt),this.options);if(te(this,Nl,_(this,Nt).state),te(this,vd,this.options),_(this,Nl).data!==void 0&&te(this,bd,_(this,Nt)),Xh(n,e))return;te(this,_n,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_(this,wd).size)return!0;const o=new Set(a??_(this,wd));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,_n)).some(l=>{const c=l;return _(this,_n)[c]!==e[c]&&o.has(c)})};fe(this,It,NR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fe(this,It,cb).call(this)}},Vn=new WeakMap,Nt=new WeakMap,Tm=new WeakMap,_n=new WeakMap,Nl=new WeakMap,vd=new WeakMap,la=new WeakMap,ao=new WeakMap,Am=new WeakMap,jd=new WeakMap,bd=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,oo=new WeakMap,wd=new WeakMap,It=new WeakSet,sh=function(e){fe(this,It,hb).call(this);let n=_(this,Nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(yn)),n},ab=function(){fe(this,It,db).call(this);const e=Eo(this.options.staleTime,_(this,Nt));if(Gl||_(this,_n).isStale||!tb(e))return;const r=gR(_(this,_n).dataUpdatedAt,e)+1;te(this,Sl,ml.setTimeout(()=>{_(this,_n).isStale||this.updateResult()},r))},ob=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Nt)):this.options.refetchInterval)??!1},lb=function(e){fe(this,It,ub).call(this),te(this,oo,e),!(Gl||Nr(this.options.enabled,_(this,Nt))===!1||!tb(_(this,oo))||_(this,oo)===0)&&te(this,Cl,ml.setInterval(()=>{(this.options.refetchIntervalInBackground||BN.isFocused())&&fe(this,It,sh).call(this)},_(this,oo)))},cb=function(){fe(this,It,ab).call(this),fe(this,It,lb).call(this,fe(this,It,ob).call(this))},db=function(){_(this,Sl)&&(ml.clearTimeout(_(this,Sl)),te(this,Sl,void 0))},ub=function(){_(this,Cl)&&(ml.clearInterval(_(this,Cl)),te(this,Cl,void 0))},hb=function(){const e=_(this,Vn).getQueryCache().build(_(this,Vn),this.options);if(e===_(this,Nt))return;const n=_(this,Nt);te(this,Nt,e),te(this,Tm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},NR=function(e){Ss.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(_(this,_n))}),_(this,Vn).getQueryCache().notify({query:_(this,Nt),type:"observerResultsUpdated"})})},eP);function pV(t,e){return Nr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function GC(t,e){return pV(t,e)||t.state.data!==void 0&&mb(t,e,e.refetchOnMount)}function mb(t,e,n){if(Nr(e.enabled,t)!==!1&&Eo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&zN(t,e)}return!1}function YC(t,e,n,r){return(t!==e||Nr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&zN(t,n)}function zN(t,e){return Nr(e.enabled,t)!==!1&&t.isStaleByTime(Eo(e.staleTime,t))}function fV(t,e){return!Xh(t.getCurrentResult(),e)}function QC(t){return{onFetch:(e,n)=>{var u,h,m,x,j;const r=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((j=e.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=w=>{oV(w,()=>e.signal,()=>g=!0)},f=yR(e.options,e.fetchOptions),b=async(w,N,P)=>{if(g)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:N,direction:P?"backward":"forward",meta:e.options.meta};return v(O),O})(),k=await f(C),{maxPages:I}=e.options,A=P?aV:iV;return{pages:A(w.pages,k,I),pageParams:A(w.pageParams,N,I)}};if(i&&a.length){const w=i==="backward",N=w?xV:XC,P={pages:a,pageParams:o},S=N(r,P);l=await b(P,S,w)}else{const w=t??a.length;do{const N=c===0?o[0]??r.initialPageParam:XC(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function XC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Fm,Si,kn,_l,Ci,Ya,tP,gV=(tP=class extends bR{constructor(e){super();X(this,Ci);X(this,Fm);X(this,Si);X(this,kn);X(this,_l);te(this,Fm,e.client),this.mutationId=e.mutationId,te(this,kn,e.mutationCache),te(this,Si,[]),this.state=e.state||SR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,Si).includes(e)||(_(this,Si).push(e),this.clearGcTimeout(),_(this,kn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,Si,_(this,Si).filter(n=>n!==e)),this.scheduleGc(),_(this,kn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,Si).length||(this.state.status==="pending"?this.scheduleGc():_(this,kn).remove(this))}continue(){var e;return((e=_(this,_l))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,m,x,j,g,v,f,b,w,N,P,S,C,k,I;const n=()=>{fe(this,Ci,Ya).call(this,{type:"continue"})},r={client:_(this,Fm),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,_l,jR({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{fe(this,Ci,Ya).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{fe(this,Ci,Ya).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,kn).canRun(this)}));const i=this.state.status==="pending",a=!_(this,_l).canStart();try{if(i)n();else{fe(this,Ci,Ya).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=_(this,kn).config).onMutate)==null?void 0:l.call(o,e,this,r));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,r));O!==this.state.context&&fe(this,Ci,Ya).call(this,{type:"pending",context:O,variables:e,isPaused:a})}const A=await _(this,_l).start();return await((h=(u=_(this,kn).config).onSuccess)==null?void 0:h.call(u,A,e,this.state.context,this,r)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,A,e,this.state.context,r)),await((g=(j=_(this,kn).config).onSettled)==null?void 0:g.call(j,A,null,this.state.variables,this.state.context,this,r)),await((f=(v=this.options).onSettled)==null?void 0:f.call(v,A,null,e,this.state.context,r)),fe(this,Ci,Ya).call(this,{type:"success",data:A}),A}catch(A){try{await((w=(b=_(this,kn).config).onError)==null?void 0:w.call(b,A,e,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((P=(N=this.options).onError)==null?void 0:P.call(N,A,e,this.state.context,r))}catch(O){Promise.reject(O)}try{await((C=(S=_(this,kn).config).onSettled)==null?void 0:C.call(S,void 0,A,this.state.variables,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((I=(k=this.options).onSettled)==null?void 0:I.call(k,void 0,A,e,this.state.context,r))}catch(O){Promise.reject(O)}throw fe(this,Ci,Ya).call(this,{type:"error",error:A}),A}finally{_(this,kn).runNext(this)}}},Fm=new WeakMap,Si=new WeakMap,kn=new WeakMap,_l=new WeakMap,Ci=new WeakSet,Ya=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ss.batch(()=>{_(this,Si).forEach(r=>{r.onMutationUpdate(e)}),_(this,kn).notify({mutation:this,type:"updated",action:e})})},tP);function SR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ca,Br,Rm,sP,yV=(sP=class extends uc{constructor(e={}){super();X(this,ca);X(this,Br);X(this,Rm);this.config=e,te(this,ca,new Set),te(this,Br,new Map),te(this,Rm,0)}build(e,n,r){const i=new gV({client:e,mutationCache:this,mutationId:++Tp(this,Rm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){_(this,ca).add(e);const n=Yp(e);if(typeof n=="string"){const r=_(this,Br).get(n);r?r.push(e):_(this,Br).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,ca).delete(e)){const n=Yp(e);if(typeof n=="string"){const r=_(this,Br).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&_(this,Br).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Yp(e);if(typeof n=="string"){const r=_(this,Br).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Yp(e);if(typeof n=="string"){const i=(r=_(this,Br).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ss.batch(()=>{_(this,ca).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,ca).clear(),_(this,Br).clear()})}getAll(){return Array.from(_(this,ca))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zC(n,r))}findAll(e={}){return this.getAll().filter(n=>zC(e,n))}notify(e){Ss.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ss.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},ca=new WeakMap,Br=new WeakMap,Rm=new WeakMap,sP);function Yp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var da,lo,zn,ua,Ca,Ff,pb,nP,vV=(nP=class extends uc{constructor(n,r){super();X(this,Ca);X(this,da);X(this,lo);X(this,zn);X(this,ua);te(this,da,n),this.setOptions(r),this.bindMethods(),fe(this,Ca,Ff).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=_(this,da).defaultMutationOptions(n),Xh(this.options,r)||_(this,da).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,zn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Yl(r.mutationKey)!==Yl(this.options.mutationKey)?this.reset():((i=_(this,zn))==null?void 0:i.state.status)==="pending"&&_(this,zn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,zn))==null||n.removeObserver(this)}onMutationUpdate(n){fe(this,Ca,Ff).call(this),fe(this,Ca,pb).call(this,n)}getCurrentResult(){return _(this,lo)}reset(){var n;(n=_(this,zn))==null||n.removeObserver(this),te(this,zn,void 0),fe(this,Ca,Ff).call(this),fe(this,Ca,pb).call(this)}mutate(n,r){var i;return te(this,ua,r),(i=_(this,zn))==null||i.removeObserver(this),te(this,zn,_(this,da).getMutationCache().build(_(this,da),this.options)),_(this,zn).addObserver(this),_(this,zn).execute(n)}},da=new WeakMap,lo=new WeakMap,zn=new WeakMap,ua=new WeakMap,Ca=new WeakSet,Ff=function(){var r;const n=((r=_(this,zn))==null?void 0:r.state)??SR();te(this,lo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},pb=function(n){Ss.batch(()=>{var r,i,a,o,l,c,d,u;if(_(this,ua)&&this.hasListeners()){const h=_(this,lo).variables,m=_(this,lo).context,x={client:_(this,da),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=_(this,ua)).onSuccess)==null||i.call(r,n.data,h,m,x)}catch(j){Promise.reject(j)}try{(o=(a=_(this,ua)).onSettled)==null||o.call(a,n.data,null,h,m,x)}catch(j){Promise.reject(j)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=_(this,ua)).onError)==null||c.call(l,n.error,h,m,x)}catch(j){Promise.reject(j)}try{(u=(d=_(this,ua)).onSettled)==null||u.call(d,void 0,n.error,h,m,x)}catch(j){Promise.reject(j)}}}this.listeners.forEach(h=>{h(_(this,lo))})})},nP);function ZC(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function jV(t,e,n){const r=t.slice(0);return r[e]=n,r}var Nd,tr,Sd,Cd,jr,co,Dm,Im,Om,hn,fb,xb,gb,yb,vb,rP,bV=(rP=class extends uc{constructor(e,n,r){super();X(this,hn);X(this,Nd);X(this,tr);X(this,Sd);X(this,Cd);X(this,jr);X(this,co);X(this,Dm);X(this,Im);X(this,Om,[]);te(this,Nd,e),te(this,Cd,r),te(this,Sd,[]),te(this,jr,[]),te(this,tr,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&_(this,jr).forEach(e=>{e.subscribe(n=>{fe(this,hn,yb).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,_(this,jr).forEach(e=>{e.destroy()})}setQueries(e,n){te(this,Sd,e),te(this,Cd,n),Ss.batch(()=>{const r=_(this,jr),i=fe(this,hn,gb).call(this,_(this,Sd));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const a=i.map(h=>h.observer),o=a.map(h=>h.getCurrentResult()),l=r.length!==a.length,c=a.some((h,m)=>h!==r[m]),d=l||c,u=d?!0:o.some((h,m)=>{const x=_(this,tr)[m];return!x||!Xh(h,x)});!d&&!u||(d&&(te(this,Om,i),te(this,jr,a)),te(this,tr,o),this.hasListeners()&&(d&&(ZC(r,a).forEach(h=>{h.destroy()}),ZC(a,r).forEach(h=>{h.subscribe(m=>{fe(this,hn,yb).call(this,h,m)})})),fe(this,hn,vb).call(this)))})}getCurrentResult(){return _(this,tr)}getQueries(){return _(this,jr).map(e=>e.getCurrentQuery())}getObservers(){return _(this,jr)}getOptimisticResult(e,n){const r=fe(this,hn,gb).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>fe(this,hn,xb).call(this,a??i,n),()=>fe(this,hn,fb).call(this,i,r)]}},Nd=new WeakMap,tr=new WeakMap,Sd=new WeakMap,Cd=new WeakMap,jr=new WeakMap,co=new WeakMap,Dm=new WeakMap,Im=new WeakMap,Om=new WeakMap,hn=new WeakSet,fb=function(e,n){return n.map((r,i)=>{const a=e[i];return r.defaultedQueryOptions.notifyOnChangeProps?a:r.observer.trackResult(a,o=>{n.forEach(l=>{l.observer.trackProp(o)})})})},xb=function(e,n){return n?((!_(this,co)||_(this,tr)!==_(this,Im)||n!==_(this,Dm))&&(te(this,Dm,n),te(this,Im,_(this,tr)),te(this,co,LN(_(this,co),n(e)))),_(this,co)):e},gb=function(e){const n=new Map;_(this,jr).forEach(i=>{const a=i.options.queryHash;if(!a)return;const o=n.get(a);o?o.push(i):n.set(a,[i])});const r=[];return e.forEach(i=>{var c;const a=_(this,Nd).defaultQueryOptions(i),l=((c=n.get(a.queryHash))==null?void 0:c.shift())??new VN(_(this,Nd),a);r.push({defaultedQueryOptions:a,observer:l})}),r},yb=function(e,n){const r=_(this,jr).indexOf(e);r!==-1&&(te(this,tr,jV(_(this,tr),r,n)),fe(this,hn,vb).call(this))},vb=function(){var e;if(this.hasListeners()){const n=_(this,co),r=fe(this,hn,fb).call(this,_(this,tr),_(this,Om)),i=fe(this,hn,xb).call(this,r,(e=_(this,Cd))==null?void 0:e.combine);n!==i&&Ss.batch(()=>{this.listeners.forEach(a=>{a(_(this,tr))})})}},rP),_i,iP,wV=(iP=class extends uc{constructor(e={}){super();X(this,_i);this.config=e,te(this,_i,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??MN(i,n);let o=this.get(a);return o||(o=new mV({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){_(this,_i).has(e.queryHash)||(_(this,_i).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=_(this,_i).get(e.queryHash);n&&(e.destroy(),n===e&&_(this,_i).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ss.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,_i).get(e)}getAll(){return[..._(this,_i).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>VC(e,r)):n}notify(e){Ss.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ss.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ss.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_i=new WeakMap,iP),ws,uo,ho,_d,kd,mo,Pd,Ed,aP,NV=(aP=class{constructor(t={}){X(this,ws);X(this,uo);X(this,ho);X(this,_d);X(this,kd);X(this,mo);X(this,Pd);X(this,Ed);te(this,ws,t.queryCache||new wV),te(this,uo,t.mutationCache||new yV),te(this,ho,t.defaultOptions||{}),te(this,_d,new Map),te(this,kd,new Map),te(this,mo,0)}mount(){Tp(this,mo)._++,_(this,mo)===1&&(te(this,Pd,BN.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ws).onFocus())})),te(this,Ed,px.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,ws).onOnline())})))}unmount(){var t,e;Tp(this,mo)._--,_(this,mo)===0&&((t=_(this,Pd))==null||t.call(this),te(this,Pd,void 0),(e=_(this,Ed))==null||e.call(this),te(this,Ed,void 0))}isFetching(t){return _(this,ws).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,uo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,ws).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=_(this,ws).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Eo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return _(this,ws).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=_(this,ws).get(r.queryHash),a=i==null?void 0:i.state.data,o=sV(e,a);if(o!==void 0)return _(this,ws).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ss.batch(()=>_(this,ws).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,ws).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=_(this,ws);Ss.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=_(this,ws);return Ss.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ss.batch(()=>_(this,ws).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,e={}){return Ss.batch(()=>(_(this,ws).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ss.batch(()=>_(this,ws).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(yn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=_(this,ws).build(this,e);return n.isStaleByTime(Eo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=QC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=QC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return px.isOnline()?_(this,uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ws)}getMutationCache(){return _(this,uo)}getDefaultOptions(){return _(this,ho)}setDefaultOptions(t){te(this,ho,t)}setQueryDefaults(t,e){_(this,_d).set(Yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,_d).values()],n={};return e.forEach(r=>{Qh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){_(this,kd).set(Yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,kd).values()],n={};return e.forEach(r=>{Qh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,ho).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=MN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$N&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,ho).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,ws).clear(),_(this,uo).clear()}},ws=new WeakMap,uo=new WeakMap,ho=new WeakMap,_d=new WeakMap,kd=new WeakMap,mo=new WeakMap,Pd=new WeakMap,Ed=new WeakMap,aP),CR=p.createContext(void 0),La=t=>{const e=p.useContext(CR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SV=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(CR.Provider,{value:t,children:e})),_R=p.createContext(!1),kR=()=>p.useContext(_R);_R.Provider;function CV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _V=p.createContext(CV()),PR=()=>p.useContext(_V),ER=(t,e,n)=>{const r=n!=null&&n.state.error&&typeof t.throwOnError=="function"?UN(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},TR=t=>{p.useEffect(()=>{t.clearReset()},[t])},AR=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||UN(n,[t.error,r])),FR=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},RR=(t,e)=>t.isLoading&&t.isFetching&&!e,jb=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function JC({queries:t,...e},n){const r=La(),i=kR(),a=PR(),o=p.useMemo(()=>t.map(g=>{const v=r.defaultQueryOptions(g);return v._optimisticResults=i?"isRestoring":"optimistic",v}),[t,r,i]);o.forEach(g=>{FR(g);const v=r.getQueryCache().get(g.queryHash);ER(g,a,v)}),TR(a);const[l]=p.useState(()=>new bV(r,o,e)),[c,d,u]=l.getOptimisticResult(o,e.combine),h=!i&&e.subscribed!==!1;p.useSyncExternalStore(p.useCallback(g=>h?l.subscribe(Ss.batchCalls(g)):yn,[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setQueries(o,e)},[o,e,l]);const x=c.some((g,v)=>jb(o[v],g))?c.flatMap((g,v)=>{const f=o[v];if(f){const b=new VN(r,f);if(jb(f,g))return fx(f,b,a);RR(g,i)&&fx(f,b,a)}return[]}):[];if(x.length>0)throw Promise.all(x);const j=c.find((g,v)=>{const f=o[v];return f&&AR({result:g,errorResetBoundary:a,throwOnError:f.throwOnError,query:r.getQueryCache().get(f.queryHash),suspense:f.suspense})});if(j!=null&&j.error)throw j.error;return d(u())}function kV(t,e,n){var m,x,j,g;const r=kR(),i=PR(),a=La(),o=a.defaultQueryOptions(t);(x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",FR(o),ER(o,i,l),TR(i);const c=!a.getQueryCache().get(o.queryHash),[d]=p.useState(()=>new e(a,o)),u=d.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const f=h?d.subscribe(Ss.batchCalls(v)):yn;return d.updateResult(),f},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),p.useEffect(()=>{d.setOptions(o)},[o,d]),jb(o,u))throw fx(o,d,i);if(AR({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw u.error;if((g=(j=a.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||g.call(j,o,u),o.experimental_prefetchInRender&&!Gl&&RR(u,r)){const v=c?fx(o,d,i):l==null?void 0:l.promise;v==null||v.catch(yn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function We(t,e){return kV(t,VN)}function Ie(t,e){const n=La(),[r]=p.useState(()=>new vV(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(Ss.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(yn)},[r]);if(i.error&&UN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const fv={},PV=typeof window<"u"&&window.location.hostname.includes("localhost")?"":"https://readysetfly-api.onrender.com",xv=typeof import.meta<"u"&&(fv==null?void 0:fv.VITE_API_BASE_URL)||typeof window<"u"&&window.__API_BASE_URL__||PV;function DR(t){return!xv||/^https?:\/\//i.test(t)?t:t.startsWith("/")?`${xv}${t}`:`${xv}/${t}`}function Yt(t){return DR(t)}function EV(t,e){return fetch(DR(t),e)}async function IR(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Te(t,e,n){const r=await fetch(Yt(e),{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await IR(r),r}const TV=({on401:t})=>async({queryKey:e})=>{const n=await fetch(Yt(e.join("/")),{credentials:"include"});return await IR(n),await n.json()},Le=new NV({defaultOptions:{queries:{queryFn:TV({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AV=1,FV=1e6;let gv=0;function RV(){return gv=(gv+1)%Number.MAX_SAFE_INTEGER,gv.toString()}const yv=new Map,e2=t=>{if(yv.has(t))return;const e=setTimeout(()=>{yv.delete(t),bh({type:"REMOVE_TOAST",toastId:t})},FV);yv.set(t,e)},DV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?e2(n):t.toasts.forEach(r=>{e2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rf=[];let Df={toasts:[]};function bh(t){Df=DV(Df,t),Rf.forEach(e=>{e(Df)})}function IV({...t}){const e=RV(),n=i=>bh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>bh({type:"DISMISS_TOAST",toastId:e});return bh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ot(){const[t,e]=p.useState(Df);return p.useEffect(()=>(Rf.push(e),()=>{const n=Rf.indexOf(e);n>-1&&Rf.splice(n,1)}),[t]),{...t,toast:IV,dismiss:n=>bh({type:"DISMISS_TOAST",toastId:n})}}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function t2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $a(...t){return e=>{let n=!1;const r=t.map(i=>{const a=t2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():t2(t[i],null)}}}}function ut(...t){return p.useCallback($a(...t),t)}function OV(t,e){const n=p.createContext(e),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Nn(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const d=h=>{var f;const{scope:m,children:x,...j}=h,g=((f=m==null?void 0:m[t])==null?void 0:f[c])||l,v=p.useMemo(()=>j,Object.values(j));return s.jsx(g.Provider,{value:v,children:x})};d.displayName=a+"Provider";function u(h,m){var g;const x=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,j=p.useContext(x);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,MV(i,...e)]}function MV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function s2(t){const e=LV(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(UV);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function LV(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=VV(i),l=BV(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $V=Symbol("radix.slottable");function UV(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$V}function BV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function VV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dp(t){const e=t+"CollectionProvider",[n,r]=Nn(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:f}=g,b=Ge.useRef(null),w=Ge.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:w,collectionRef:b,children:f})};o.displayName=e;const l=t+"CollectionSlot",c=s2(l),d=Ge.forwardRef((g,v)=>{const{scope:f,children:b}=g,w=a(l,f),N=ut(v,w.collectionRef);return s.jsx(c,{ref:N,children:b})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=s2(u),x=Ge.forwardRef((g,v)=>{const{scope:f,children:b,...w}=g,N=Ge.useRef(null),P=ut(v,N),S=a(u,f);return Ge.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),s.jsx(m,{[h]:"",ref:P,children:b})});x.displayName=u;function j(g){const v=a(t+"CollectionConsumer",g);return Ge.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},j,r]}function zV(t){const e=qV(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(WV);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function qV(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=GV(i),l=KV(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HV=Symbol("radix.slottable");function WV(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HV}function KV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function GV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=YV.reduce((t,e)=>{const n=zV(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function qN(t,e){t&&dc.flushSync(()=>t.dispatchEvent(e))}function Cs(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QV(t,e=globalThis==null?void 0:globalThis.document){const n=Cs(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XV="DismissableLayer",bb="dismissableLayer.update",ZV="dismissableLayer.pointerDownOutside",JV="dismissableLayer.focusOutside",n2,OR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(OR),[u,h]=p.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),j=ut(e,C=>h(C)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),f=g.indexOf(v),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=f,P=tz(C=>{const k=C.target,I=[...d.branches].some(A=>A.contains(k));!N||I||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),S=sz(C=>{const k=C.target;[...d.branches].some(A=>A.contains(k))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return QV(C=>{b===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),p.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(n2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),r2(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=n2)}},[u,m,n,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),r2())},[u,d]),p.useEffect(()=>{const C=()=>x({});return document.addEventListener(bb,C),()=>document.removeEventListener(bb,C)},[]),s.jsx(Xe.div,{...c,ref:j,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,P.onPointerDownCapture)})});vu.displayName=XV;var ez="DismissableLayerBranch",MR=p.forwardRef((t,e)=>{const n=p.useContext(OR),r=p.useRef(null),i=ut(e,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Xe.div,{...t,ref:i})});MR.displayName=ez;function tz(t,e=globalThis==null?void 0:globalThis.document){const n=Cs(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){LR(ZV,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sz(t,e=globalThis==null?void 0:globalThis.document){const n=Cs(t),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&LR(JV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function r2(){const t=new CustomEvent(bb);document.dispatchEvent(t)}function LR(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qN(i,a):i.dispatchEvent(a)}var nz=vu,rz=MR,ks=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},iz="Portal",up=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=p.useState(!1);ks(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?w9.createPortal(s.jsx(Xe.div,{...r,ref:e}),o):null});up.displayName=iz;function az(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var mn=t=>{const{present:e,children:n}=t,r=oz(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=ut(r.ref,lz(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};mn.displayName="Presence";function oz(t){const[e,n]=p.useState(),r=p.useRef(null),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=az(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Qp(r.current);a.current=l==="mounted"?d:"none"},[l]),ks(()=>{const d=r.current,u=i.current;if(u!==t){const m=a.current,x=Qp(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ks(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=x=>{const g=Qp(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&g&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=x=>{x.target===e&&(a.current=Qp(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Qp(t){return(t==null?void 0:t.animationName)||"none"}function lz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cz=mg[" useInsertionEffect ".trim().toString()]||ks;function fr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=dz({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const u=p.useRef(t!==void 0);p.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=p.useCallback(u=>{var h;if(l){const m=uz(u)?u(t):u;m!==t&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,t,a,o]);return[c,d]}function dz({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),i=p.useRef(n),a=p.useRef(e);return cz(()=>{a.current=e},[e]),p.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function uz(t){return typeof t=="function"}var $R=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hz="VisuallyHidden",Tg=p.forwardRef((t,e)=>s.jsx(Xe.span,{...t,ref:e,style:{...$R,...t.style}}));Tg.displayName=hz;var mz=Tg,HN="ToastProvider",[WN,pz,fz]=dp("Toast"),[UR]=Nn("Toast",[fz]),[xz,Ag]=UR(HN),BR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${HN}\`. Expected non-empty \`string\`.`),s.jsx(WN.Provider,{scope:e,children:s.jsx(xz,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(x=>x+1),[]),onToastRemove:p.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};BR.displayName=HN;var VR="ToastViewport",gz=["F8"],wb="toast.viewportPause",Nb="toast.viewportResume",zR=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=gz,label:i="Notifications ({hotkey})",...a}=t,o=Ag(VR,n),l=pz(n),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),m=ut(e,h,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;p.useEffect(()=>{const v=f=>{var w;r.length!==0&&r.every(N=>f[N]||f.code===N)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),p.useEffect(()=>{const v=c.current,f=h.current;if(j&&v&&f){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(wb);f.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Nb);f.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!v.contains(S.relatedTarget)&&w()},P=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",N),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",P),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",P),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const N=w.ref.current,P=[N,...Tz(N)];return v==="forwards"?P:P.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const v=h.current;if(v){const f=b=>{var P,S,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,I=b.shiftKey;if(b.target===v&&I){(P=d.current)==null||P.focus();return}const $=g({tabbingDirection:I?"backwards":"forwards"}),J=$.findIndex(Y=>Y===k);vv($.slice(J+1))?b.preventDefault():I?(S=d.current)==null||S.focus():(C=u.current)==null||C.focus()}};return v.addEventListener("keydown",f),()=>v.removeEventListener("keydown",f)}},[l,g]),s.jsxs(rz,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&s.jsx(Sb,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});vv(v)}}),s.jsx(WN.Slot,{scope:n,children:s.jsx(Xe.ol,{tabIndex:-1,...a,ref:m})}),j&&s.jsx(Sb,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});vv(v)}})]})});zR.displayName=VR;var qR="ToastFocusProxy",Sb=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Ag(qR,n);return s.jsx(Tg,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Sb.displayName=qR;var hp="Toast",yz="toast.swipeStart",vz="toast.swipeMove",jz="toast.swipeCancel",bz="toast.swipeEnd",HR=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=fr({prop:r,defaultProp:i??!0,onChange:a,caller:hp});return s.jsx(mn,{present:n||l,children:s.jsx(Sz,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Cs(t.onPause),onResume:Cs(t.onResume),onSwipeStart:Ae(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ae(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});HR.displayName=hp;var[wz,Nz]=UR(hp,{onClose(){}}),Sz=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:x,...j}=t,g=Ag(hp,n),[v,f]=p.useState(null),b=ut(e,Y=>f(Y)),w=p.useRef(null),N=p.useRef(null),P=i||g.duration,S=p.useRef(0),C=p.useRef(P),k=p.useRef(0),{onToastAdd:I,onToastRemove:A}=g,O=Cs(()=>{var q;(v==null?void 0:v.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),$=p.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(O,Y))},[O]);p.useEffect(()=>{const Y=g.viewport;if(Y){const q=()=>{$(C.current),d==null||d()},de=()=>{const xe=new Date().getTime()-S.current;C.current=C.current-xe,window.clearTimeout(k.current),c==null||c()};return Y.addEventListener(wb,de),Y.addEventListener(Nb,q),()=>{Y.removeEventListener(wb,de),Y.removeEventListener(Nb,q)}}},[g.viewport,P,c,d,$]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&$(P)},[a,P,g.isClosePausedRef,$]),p.useEffect(()=>(I(),()=>A()),[I,A]);const J=p.useMemo(()=>v?ZR(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[J&&s.jsx(Cz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:J}),s.jsx(wz,{scope:n,onClose:O,children:dc.createPortal(s.jsx(WN.ItemSlot,{scope:n,children:s.jsx(nz,{asChild:!0,onEscapeKeyDown:Ae(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Xe.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ae(t.onKeyDown,Y=>{Y.key==="Escape"&&(l==null||l(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ae(t.onPointerDown,Y=>{Y.button===0&&(w.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Ae(t.onPointerMove,Y=>{if(!w.current)return;const q=Y.clientX-w.current.x,de=Y.clientY-w.current.y,xe=!!N.current,z=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=z?R(0,q):0,ue=z?0:R(0,de),F=Y.pointerType==="touch"?10:2,ve={x:Q,y:ue},Me={originalEvent:Y,delta:ve};xe?(N.current=ve,Xp(vz,h,Me,{discrete:!1})):i2(ve,g.swipeDirection,F)?(N.current=ve,Xp(yz,u,Me,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(q)>F||Math.abs(de)>F)&&(w.current=null)}),onPointerUp:Ae(t.onPointerUp,Y=>{const q=N.current,de=Y.target;if(de.hasPointerCapture(Y.pointerId)&&de.releasePointerCapture(Y.pointerId),N.current=null,w.current=null,q){const xe=Y.currentTarget,z={originalEvent:Y,delta:q};i2(q,g.swipeDirection,g.swipeThreshold)?Xp(bz,x,z,{discrete:!0}):Xp(jz,m,z,{discrete:!0}),xe.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Cz=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ag(hp,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return Pz(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(up,{asChild:!0,children:s.jsx(Tg,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},_z="ToastTitle",WR=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Xe.div,{...r,ref:e})});WR.displayName=_z;var kz="ToastDescription",KR=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Xe.div,{...r,ref:e})});KR.displayName=kz;var GR="ToastAction",YR=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(XR,{altText:n,asChild:!0,children:s.jsx(KN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GR}\`. Expected non-empty \`string\`.`),null)});YR.displayName=GR;var QR="ToastClose",KN=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Nz(QR,n);return s.jsx(XR,{asChild:!0,children:s.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,i.onClose)})})});KN.displayName=QR;var XR=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function ZR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ez(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZR(r))}}),e}function Xp(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qN(i,a):i.dispatchEvent(a)}var i2=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function Pz(t=()=>{}){const e=Cs(t);ks(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Ez(t){return t.nodeType===t.ELEMENT_NODE}function Tz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Az=BR,JR=zR,eD=HR,tD=WR,sD=KR,nD=YR,rD=KN;function iD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iD(t))&&(r&&(r+=" "),r+=e);return r}const a2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,o2=aD,mp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return o2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=n==null?void 0:n[d],h=a==null?void 0:a[d];if(u===null)return null;const m=a2(u)||a2(h);return i[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...x}=u;return Object.entries(x).every(j=>{let[g,v]=j;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...d,h,m]:d},[]);return o2(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Rz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oD("lucide",i),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=p.forwardRef(({className:r,...i},a)=>p.createElement(Dz,{ref:a,iconNode:e,className:oD(`lucide-${Fz(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=$e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=$e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=$e("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=$e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=$e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=$e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=$e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=$e("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=$e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=$e("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=$e("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=$e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=$e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=$e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=$e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=$e("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=$e("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=$e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=$e("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=$e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=$e("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=$e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=$e("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),QN="-",t7=t=>{const e=n7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(QN);return l[0]===""&&l.length!==1&&l.shift(),gD(l,e)||s7(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},gD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?gD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(QN);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},x2=/^\[(.+)\]$/,s7=t=>{if(x2.test(t)){const e=x2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},n7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return i7(Object.entries(t.classGroups),n).forEach(([a,o])=>{_b(o,r,a,e)}),r},_b=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:g2(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(r7(i)){_b(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{_b(o,g2(e,a),n,r)})})},g2=(t,e)=>{let n=t;return e.split(QN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r7=t=>t.isThemeGetter,i7=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,a7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},yD="!",o7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let f=l[v];if(d===0){if(f===i&&(r||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(f==="/"){h=v;continue}}f==="["?d++:f==="]"&&d--}const m=c.length===0?l:l.substring(u),x=m.startsWith(yD),j=x?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:j,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},l7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},c7=t=>({cache:a7(t.cacheSize),parseClassName:o7(t),...t7(t)}),d7=/\s+/,u7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(d7);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let j=!!x,g=r(j?m.substring(0,x):m);if(!g){if(!j){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}j=!1}const v=l7(u).join(":"),f=h?v+yD:v,b=f+g;if(a.includes(b))continue;a.push(b);const w=i(g,j);for(let N=0;N<w.length;++N){const P=w[N];a.push(f+P)}l=d+(l.length>0?" "+l:l)}return l};function h7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vD(e))&&(r&&(r+=" "),r+=n);return r}const vD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vD(t[r]))&&(n&&(n+=" "),n+=e);return n};function m7(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return n=c7(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=u7(c,n);return i(c,u),u}return function(){return a(h7.apply(null,arguments))}}const Xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jD=/^\[(?:([a-z-]+):)?(.+)\]$/i,p7=/^\d+\/\d+$/,f7=new Set(["px","full","screen"]),x7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ji=t=>rd(t)||f7.has(t)||p7.test(t),qa=t=>ju(t,"length",P7),rd=t=>!!t&&!Number.isNaN(Number(t)),wv=t=>ju(t,"number",rd),$u=t=>!!t&&Number.isInteger(Number(t)),b7=t=>t.endsWith("%")&&rd(t.slice(0,-1)),ft=t=>jD.test(t),Ha=t=>x7.test(t),w7=new Set(["length","size","percentage"]),N7=t=>ju(t,w7,bD),S7=t=>ju(t,"position",bD),C7=new Set(["image","url"]),_7=t=>ju(t,C7,T7),k7=t=>ju(t,"",E7),Uu=()=>!0,ju=(t,e,n)=>{const r=jD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},P7=t=>g7.test(t)&&!y7.test(t),bD=()=>!1,E7=t=>v7.test(t),T7=t=>j7.test(t),A7=()=>{const t=Xt("colors"),e=Xt("spacing"),n=Xt("blur"),r=Xt("brightness"),i=Xt("borderColor"),a=Xt("borderRadius"),o=Xt("borderSpacing"),l=Xt("borderWidth"),c=Xt("contrast"),d=Xt("grayscale"),u=Xt("hueRotate"),h=Xt("invert"),m=Xt("gap"),x=Xt("gradientColorStops"),j=Xt("gradientColorStopPositions"),g=Xt("inset"),v=Xt("margin"),f=Xt("opacity"),b=Xt("padding"),w=Xt("saturate"),N=Xt("scale"),P=Xt("sepia"),S=Xt("skew"),C=Xt("space"),k=Xt("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ft,e],$=()=>[ft,e],J=()=>["",Ji,qa],Y=()=>["auto",rd,ft],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ft],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[rd,ft];return{cacheSize:500,separator:":",theme:{colors:[Uu],spacing:[Ji,qa],blur:["none","",Ha,ft],brightness:ue(),borderColor:[t],borderRadius:["none","","full",Ha,ft],borderSpacing:$(),borderWidth:J(),contrast:ue(),grayscale:R(),hueRotate:ue(),invert:R(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[b7,qa],inset:O(),margin:O(),opacity:ue(),padding:$(),saturate:ue(),scale:ue(),sepia:R(),skew:ue(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[Ha]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ft]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$u,ft]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",$u,ft]}],"grid-cols":[{"grid-cols":[Uu]}],"col-start-end":[{col:["auto",{span:["full",$u,ft]},ft]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Uu]}],"row-start-end":[{row:["auto",{span:[$u,ft]},ft]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[Ha]},Ha]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ha,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wv]}],"font-family":[{font:[Uu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",rd,wv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ji,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ji,qa]}],"underline-offset":[{"underline-offset":["auto",Ji,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),S7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Ji,ft]}],"outline-w":[{outline:[Ji,qa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[Ji,qa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ha,k7]}],"shadow-color":[{shadow:[Uu]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ha,ft]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[$u,ft]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ji,qa,wv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F7=m7(A7);function Re(...t){return F7(aD(t))}const R7=Az,wD=p.forwardRef(({className:t,...e},n)=>s.jsx(JR,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));wD.displayName=JR.displayName;const D7=mp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ND=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(eD,{ref:r,className:Re(D7({variant:e}),t),...n}));ND.displayName=eD.displayName;const I7=p.forwardRef(({className:t,...e},n)=>s.jsx(nD,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));I7.displayName=nD.displayName;const SD=p.forwardRef(({className:t,...e},n)=>s.jsx(rD,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(fp,{className:"h-4 w-4"})}));SD.displayName=rD.displayName;const CD=p.forwardRef(({className:t,...e},n)=>s.jsx(tD,{ref:n,className:Re("text-sm font-semibold",t),...e}));CD.displayName=tD.displayName;const _D=p.forwardRef(({className:t,...e},n)=>s.jsx(sD,{ref:n,className:Re("text-sm opacity-90",t),...e}));_D.displayName=sD.displayName;function O7(){const{toasts:t}=Ot();return s.jsxs(R7,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(ND,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(CD,{children:n}),r&&s.jsx(_D,{children:r})]}),i,s.jsx(SD,{})]},e)}),s.jsx(wD,{})]})}var M7=mg[" useId ".trim().toString()]||(()=>{}),L7=0;function ur(t){const[e,n]=p.useState(M7());return ks(()=>{n(r=>r??String(L7++))},[t]),e?`radix-${e}`:""}const $7=["top","right","bottom","left"],Ro=Math.min,ir=Math.max,vx=Math.round,Zp=Math.floor,Li=t=>({x:t,y:t}),U7={left:"right",right:"left",bottom:"top",top:"bottom"},B7={start:"end",end:"start"};function kb(t,e,n){return ir(t,Ro(e,n))}function Fa(t,e){return typeof t=="function"?t(e):t}function Ra(t){return t.split("-")[0]}function bu(t){return t.split("-")[1]}function XN(t){return t==="x"?"y":"x"}function ZN(t){return t==="y"?"height":"width"}const V7=new Set(["top","bottom"]);function Di(t){return V7.has(Ra(t))?"y":"x"}function JN(t){return XN(Di(t))}function z7(t,e,n){n===void 0&&(n=!1);const r=bu(t),i=JN(t),a=ZN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=jx(o)),[o,jx(o)]}function q7(t){const e=jx(t);return[Pb(t),e,Pb(e)]}function Pb(t){return t.replace(/start|end/g,e=>B7[e])}const y2=["left","right"],v2=["right","left"],H7=["top","bottom"],W7=["bottom","top"];function K7(t,e,n){switch(t){case"top":case"bottom":return n?e?v2:y2:e?y2:v2;case"left":case"right":return e?H7:W7;default:return[]}}function G7(t,e,n,r){const i=bu(t);let a=K7(Ra(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Pb)))),a}function jx(t){return t.replace(/left|right|bottom|top/g,e=>U7[e])}function Y7(t){return{top:0,right:0,bottom:0,left:0,...t}}function kD(t){return typeof t!="number"?Y7(t):{top:t,right:t,bottom:t,left:t}}function bx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function j2(t,e,n){let{reference:r,floating:i}=t;const a=Di(e),o=JN(e),l=ZN(o),c=Ra(e),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-i.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(bu(e)){case"start":x[o]-=m*(n&&d?-1:1);break;case"end":x[o]+=m*(n&&d?-1:1);break}return x}const Q7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=j2(d,r,c),m=r,x={},j=0;for(let g=0;g<l.length;g++){const{name:v,fn:f}=l[g],{x:b,y:w,data:N,reset:P}=await f({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});u=b??u,h=w??h,x={...x,[v]:{...x[v],...N}},P&&j<=50&&(j++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:u,y:h}=j2(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:x}};async function Jh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:x=0}=Fa(e,t),j=kD(x),v=l[m?h==="floating"?"reference":"floating":h],f=bx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},P=bx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(f.top-P.top+j.top)/N.y,bottom:(P.bottom-f.bottom+j.bottom)/N.y,left:(f.left-P.left+j.left)/N.x,right:(P.right-f.right+j.right)/N.x}}const X7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Fa(t,e)||{};if(d==null)return{};const h=kD(u),m={x:n,y:r},x=JN(i),j=ZN(x),g=await o.getDimensions(d),v=x==="y",f=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=a.reference[j]+a.reference[x]-m[x]-a.floating[j],P=m[x]-a.reference[x],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||a.floating[j]);const k=N/2-P/2,I=C/2-g[j]/2-1,A=Ro(h[f],I),O=Ro(h[b],I),$=A,J=C-g[j]-O,Y=C/2-g[j]/2+k,q=kb($,Y,J),de=!c.arrow&&bu(i)!=null&&Y!==q&&a.reference[j]/2-(Y<$?A:O)-g[j]/2<0,xe=de?Y<$?Y-$:Y-J:0;return{[x]:m[x]+xe,data:{[x]:q,centerOffset:Y-q-xe,...de&&{alignmentOffset:xe}},reset:de}}}),Z7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...v}=Fa(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const f=Ra(i),b=Di(l),w=Ra(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=m||(w||!g?[jx(l)]:q7(l)),S=j!=="none";!m&&S&&P.push(...G7(l,g,j,N));const C=[l,...P],k=await Jh(e,v),I=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&I.push(k[f]),h){const Y=z7(i,o,N);I.push(k[Y[0]],k[Y[1]])}if(A=[...A,{placement:i,overflows:I}],!I.every(Y=>Y<=0)){var O,$;const Y=(((O=a.flip)==null?void 0:O.index)||0)+1,q=C[Y];if(q&&(!(h==="alignment"?b!==Di(q):!1)||A.every(z=>Di(z.placement)===b?z.overflows[0]>0:!0)))return{data:{index:Y,overflows:A},reset:{placement:q}};let de=($=A.filter(xe=>xe.overflows[0]<=0).sort((xe,z)=>xe.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!de)switch(x){case"bestFit":{var J;const xe=(J=A.filter(z=>{if(S){const R=Di(z.placement);return R===b||R==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(R=>R>0).reduce((R,Q)=>R+Q,0)]).sort((z,R)=>z[1]-R[1])[0])==null?void 0:J[0];xe&&(de=xe);break}case"initialPlacement":de=l;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function b2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function w2(t){return $7.some(e=>t[e]>=0)}const J7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Fa(t,e);switch(r){case"referenceHidden":{const a=await Jh(e,{...i,elementContext:"reference"}),o=b2(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:w2(o)}}}case"escaped":{const a=await Jh(e,{...i,altBoundary:!0}),o=b2(a,n.floating);return{data:{escapedOffsets:o,escaped:w2(o)}}}default:return{}}}}},PD=new Set(["left","top"]);async function eq(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ra(n),l=bu(n),c=Di(n)==="y",d=PD.has(o)?-1:1,u=a&&c?-1:1,h=Fa(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(x=l==="end"?j*-1:j),c?{x:x*u,y:m*d}:{x:m*d,y:x*u}}const tq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await eq(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},sq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:f,y:b}=v;return{x:f,y:b}}},...c}=Fa(t,e),d={x:n,y:r},u=await Jh(e,c),h=Di(Ra(i)),m=XN(h);let x=d[m],j=d[h];if(a){const v=m==="y"?"top":"left",f=m==="y"?"bottom":"right",b=x+u[v],w=x-u[f];x=kb(b,x,w)}if(o){const v=h==="y"?"top":"left",f=h==="y"?"bottom":"right",b=j+u[v],w=j-u[f];j=kb(b,j,w)}const g=l.fn({...e,[m]:x,[h]:j});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:a,[h]:o}}}}}},nq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Fa(t,e),u={x:n,y:r},h=Di(i),m=XN(h);let x=u[m],j=u[h];const g=Fa(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",N=a.reference[m]-a.floating[w]+v.mainAxis,P=a.reference[m]+a.reference[w]-v.mainAxis;x<N?x=N:x>P&&(x=P)}if(d){var f,b;const w=m==="y"?"width":"height",N=PD.has(Ra(i)),P=a.reference[h]-a.floating[w]+(N&&((f=o.offset)==null?void 0:f[h])||0)+(N?0:v.crossAxis),S=a.reference[h]+a.reference[w]+(N?0:((b=o.offset)==null?void 0:b[h])||0)-(N?v.crossAxis:0);j<P?j=P:j>S&&(j=S)}return{[m]:x,[h]:j}}}},rq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Fa(t,e),u=await Jh(e,d),h=Ra(i),m=bu(i),x=Di(i)==="y",{width:j,height:g}=a.floating;let v,f;h==="top"||h==="bottom"?(v=h,f=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(f=h,v=m==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=j-u.left-u.right,N=Ro(g-u[v],b),P=Ro(j-u[f],w),S=!e.middlewareData.shift;let C=N,k=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!m){const A=ir(u.left,0),O=ir(u.right,0),$=ir(u.top,0),J=ir(u.bottom,0);x?k=j-2*(A!==0||O!==0?A+O:ir(u.left,u.right)):C=g-2*($!==0||J!==0?$+J:ir(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:C});const I=await o.getDimensions(l.floating);return j!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Rg(){return typeof window<"u"}function wu(t){return ED(t)?(t.nodeName||"").toLowerCase():"#document"}function hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gi(t){var e;return(e=(ED(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ED(t){return Rg()?t instanceof Node||t instanceof hr(t).Node:!1}function di(t){return Rg()?t instanceof Element||t instanceof hr(t).Element:!1}function Bi(t){return Rg()?t instanceof HTMLElement||t instanceof hr(t).HTMLElement:!1}function N2(t){return!Rg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hr(t).ShadowRoot}const iq=new Set(["inline","contents"]);function xp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iq.has(i)}const aq=new Set(["table","td","th"]);function oq(t){return aq.has(wu(t))}const lq=[":popover-open",":modal"];function Dg(t){return lq.some(e=>{try{return t.matches(e)}catch{return!1}})}const cq=["transform","translate","scale","rotate","perspective"],dq=["transform","translate","scale","rotate","perspective","filter"],uq=["paint","layout","strict","content"];function e0(t){const e=t0(),n=di(t)?ui(t):t;return cq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dq.some(r=>(n.willChange||"").includes(r))||uq.some(r=>(n.contain||"").includes(r))}function hq(t){let e=Do(t);for(;Bi(e)&&!au(e);){if(e0(e))return e;if(Dg(e))return null;e=Do(e)}return null}function t0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mq=new Set(["html","body","#document"]);function au(t){return mq.has(wu(t))}function ui(t){return hr(t).getComputedStyle(t)}function Ig(t){return di(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Do(t){if(wu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N2(t)&&t.host||Gi(t);return N2(e)?e.host:e}function TD(t){const e=Do(t);return au(e)?t.ownerDocument?t.ownerDocument.body:t.body:Bi(e)&&xp(e)?e:TD(e)}function em(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=TD(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=hr(i);if(a){const l=Eb(o);return e.concat(o,o.visualViewport||[],xp(i)?i:[],l&&n?em(l):[])}return e.concat(i,em(i,[],n))}function Eb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AD(t){const e=ui(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Bi(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=vx(n)!==a||vx(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function s0(t){return di(t)?t:t.contextElement}function id(t){const e=s0(t);if(!Bi(e))return Li(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=AD(e);let o=(a?vx(n.width):n.width)/r,l=(a?vx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pq=Li(0);function FD(t){const e=hr(t);return!t0()||!e.visualViewport?pq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hr(t)?!1:e}function Xl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=s0(t);let o=Li(1);e&&(r?di(r)&&(o=id(r)):o=id(t));const l=fq(a,n,r)?FD(a):Li(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=hr(a),x=r&&di(r)?hr(r):r;let j=m,g=Eb(j);for(;g&&r&&x!==j;){const v=id(g),f=g.getBoundingClientRect(),b=ui(g),w=f.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,N=f.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=N,j=hr(g),g=Eb(j)}}return bx({width:u,height:h,x:c,y:d})}function Og(t,e){const n=Ig(t).scrollLeft;return e?e.left+n:Xl(Gi(t)).left+n}function RD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Og(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function xq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Gi(r),l=e?Dg(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Li(1);const u=Li(0),h=Bi(r);if((h||!h&&!a)&&((wu(r)!=="body"||xp(o))&&(c=Ig(r)),Bi(r))){const x=Xl(r);d=id(r),u.x=x.x+r.clientLeft,u.y=x.y+r.clientTop}const m=o&&!h&&!a?RD(o,c):Li(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function gq(t){return Array.from(t.getClientRects())}function yq(t){const e=Gi(t),n=Ig(t),r=t.ownerDocument.body,i=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Og(t);const l=-n.scrollTop;return ui(r).direction==="rtl"&&(o+=ir(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const S2=25;function vq(t,e){const n=hr(t),r=Gi(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=t0();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Og(r);if(d<=0){const u=r.ownerDocument,h=u.body,m=getComputedStyle(h),x=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,j=Math.abs(r.clientWidth-h.clientWidth-x);j<=S2&&(a-=j)}else d<=S2&&(a+=d);return{width:a,height:o,x:l,y:c}}const jq=new Set(["absolute","fixed"]);function bq(t,e){const n=Xl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Bi(t)?id(t):Li(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function C2(t,e,n){let r;if(e==="viewport")r=vq(t,n);else if(e==="document")r=yq(Gi(t));else if(di(e))r=bq(e,n);else{const i=FD(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bx(r)}function DD(t,e){const n=Do(t);return n===e||!di(n)||au(n)?!1:ui(n).position==="fixed"||DD(n,e)}function wq(t,e){const n=e.get(t);if(n)return n;let r=em(t,[],!1).filter(l=>di(l)&&wu(l)!=="body"),i=null;const a=ui(t).position==="fixed";let o=a?Do(t):t;for(;di(o)&&!au(o);){const l=ui(o),c=e0(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&jq.has(i.position)||xp(o)&&!c&&DD(t,o))?r=r.filter(u=>u!==o):i=l,o=Do(o)}return e.set(t,r),r}function Nq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Dg(e)?[]:wq(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=C2(e,u,i);return d.top=ir(h.top,d.top),d.right=Ro(h.right,d.right),d.bottom=Ro(h.bottom,d.bottom),d.left=ir(h.left,d.left),d},C2(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Sq(t){const{width:e,height:n}=AD(t);return{width:e,height:n}}function Cq(t,e,n){const r=Bi(e),i=Gi(e),a=n==="fixed",o=Xl(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Li(0);function d(){c.x=Og(i)}if(r||!r&&!a)if((wu(e)!=="body"||xp(i))&&(l=Ig(e)),r){const x=Xl(e,!0,a,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else i&&d();a&&!r&&i&&d();const u=i&&!r&&!a?RD(i,l):Li(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Nv(t){return ui(t).position==="static"}function _2(t,e){if(!Bi(t)||ui(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gi(t)===n&&(n=n.ownerDocument.body),n}function ID(t,e){const n=hr(t);if(Dg(t))return n;if(!Bi(t)){let i=Do(t);for(;i&&!au(i);){if(di(i)&&!Nv(i))return i;i=Do(i)}return n}let r=_2(t,e);for(;r&&oq(r)&&Nv(r);)r=_2(r,e);return r&&au(r)&&Nv(r)&&!e0(r)?n:r||hq(t)||n}const _q=async function(t){const e=this.getOffsetParent||ID,n=this.getDimensions,r=await n(t.floating);return{reference:Cq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kq(t){return ui(t).direction==="rtl"}const Pq={convertOffsetParentRelativeRectToViewportRelativeRect:xq,getDocumentElement:Gi,getClippingRect:Nq,getOffsetParent:ID,getElementRects:_q,getClientRects:gq,getDimensions:Sq,getScale:id,isElement:di,isRTL:kq};function OD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Eq(t,e){let n=null,r;const i=Gi(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:x}=d;if(l||e(),!m||!x)return;const j=Zp(h),g=Zp(i.clientWidth-(u+m)),v=Zp(i.clientHeight-(h+x)),f=Zp(u),w={rootMargin:-j+"px "+-g+"px "+-v+"px "+-f+"px",threshold:ir(0,Ro(1,c))||1};let N=!0;function P(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!OD(d,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(P,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(t)}return o(!0),a}function Tq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=s0(t),u=i||a?[...d?em(d):[],...em(e)]:[];u.forEach(f=>{i&&f.addEventListener("scroll",n,{passive:!0}),a&&f.addEventListener("resize",n)});const h=d&&l?Eq(d,n):null;let m=-1,x=null;o&&(x=new ResizeObserver(f=>{let[b]=f;b&&b.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let j,g=c?Xl(t):null;c&&v();function v(){const f=Xl(t);g&&!OD(g,f)&&n(),g=f,j=requestAnimationFrame(v)}return n(),()=>{var f;u.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h==null||h(),(f=x)==null||f.disconnect(),x=null,c&&cancelAnimationFrame(j)}}const Aq=tq,Fq=sq,Rq=Z7,Dq=rq,Iq=J7,k2=X7,Oq=nq,Mq=(t,e,n)=>{const r=new Map,i={platform:Pq,...n},a={...i.platform,_c:r};return Q7(t,e,{...i,platform:a})};var Lq=typeof document<"u",$q=function(){},If=Lq?p.useLayoutEffect:$q;function wx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!wx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function MD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P2(t,e){const n=MD(t);return Math.round(e*n)/n}function Sv(t){const e=p.useRef(t);return If(()=>{e.current=t}),e}function Uq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=p.useState(r);wx(m,r)||x(r);const[j,g]=p.useState(null),[v,f]=p.useState(null),b=p.useCallback(z=>{z!==S.current&&(S.current=z,g(z))},[]),w=p.useCallback(z=>{z!==C.current&&(C.current=z,f(z))},[]),N=a||j,P=o||v,S=p.useRef(null),C=p.useRef(null),k=p.useRef(u),I=c!=null,A=Sv(c),O=Sv(i),$=Sv(d),J=p.useCallback(()=>{if(!S.current||!C.current)return;const z={placement:e,strategy:n,middleware:m};O.current&&(z.platform=O.current),Mq(S.current,C.current,z).then(R=>{const Q={...R,isPositioned:$.current!==!1};Y.current&&!wx(k.current,Q)&&(k.current=Q,dc.flushSync(()=>{h(Q)}))})},[m,e,n,O,$]);If(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const Y=p.useRef(!1);If(()=>(Y.current=!0,()=>{Y.current=!1}),[]),If(()=>{if(N&&(S.current=N),P&&(C.current=P),N&&P){if(A.current)return A.current(N,P,J);J()}},[N,P,J,A,I]);const q=p.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:w}),[b,w]),de=p.useMemo(()=>({reference:N,floating:P}),[N,P]),xe=p.useMemo(()=>{const z={position:n,left:0,top:0};if(!de.floating)return z;const R=P2(de.floating,u.x),Q=P2(de.floating,u.y);return l?{...z,transform:"translate("+R+"px, "+Q+"px)",...MD(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:Q}},[n,l,de.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:J,refs:q,elements:de,floatingStyles:xe}),[u,J,q,de,xe])}const Bq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k2({element:r.current,padding:i}).fn(n):{}:r?k2({element:r,padding:i}).fn(n):{}}}},Vq=(t,e)=>({...Aq(t),options:[t,e]}),zq=(t,e)=>({...Fq(t),options:[t,e]}),qq=(t,e)=>({...Oq(t),options:[t,e]}),Hq=(t,e)=>({...Rq(t),options:[t,e]}),Wq=(t,e)=>({...Dq(t),options:[t,e]}),Kq=(t,e)=>({...Iq(t),options:[t,e]}),Gq=(t,e)=>({...Bq(t),options:[t,e]});var Yq="Arrow",LD=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Xe.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});LD.displayName=Yq;var Qq=LD;function n0(t){const[e,n]=p.useState(void 0);return ks(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var r0="Popper",[$D,Nu]=Nn(r0),[Xq,UD]=$D(r0),BD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return s.jsx(Xq,{scope:e,anchor:r,onAnchorChange:i,children:n})};BD.displayName=r0;var VD="PopperAnchor",zD=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=UD(VD,n),o=p.useRef(null),l=ut(e,o),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(Xe.div,{...i,ref:l})});zD.displayName=VD;var i0="PopperContent",[Zq,Jq]=$D(i0),qD=p.forwardRef((t,e)=>{var je,Oe,ne,he,Fe,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:j,...g}=t,v=UD(i0,n),[f,b]=p.useState(null),w=ut(e,Ye=>b(Ye)),[N,P]=p.useState(null),S=n0(N),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,I=r+(a!=="center"?"-"+a:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],$=O.length>0,J={padding:A,boundary:O.filter(tH),altBoundary:$},{refs:Y,floatingStyles:q,placement:de,isPositioned:xe,middlewareData:z}=Uq({strategy:"fixed",placement:I,whileElementsMounted:(...Ye)=>Tq(...Ye,{animationFrame:x==="always"}),elements:{reference:v.anchor},middleware:[Vq({mainAxis:i+k,alignmentAxis:o}),c&&zq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qq():void 0,...J}),c&&Hq({...J}),Wq({...J,apply:({elements:Ye,rects:st,availableWidth:kt,availableHeight:Lt})=>{const{width:Rt,height:Is}=st.reference,Qt=Ye.floating.style;Qt.setProperty("--radix-popper-available-width",`${kt}px`),Qt.setProperty("--radix-popper-available-height",`${Lt}px`),Qt.setProperty("--radix-popper-anchor-width",`${Rt}px`),Qt.setProperty("--radix-popper-anchor-height",`${Is}px`)}}),N&&Gq({element:N,padding:l}),sH({arrowWidth:C,arrowHeight:k}),m&&Kq({strategy:"referenceHidden",...J})]}),[R,Q]=KD(de),ue=Cs(j);ks(()=>{xe&&(ue==null||ue())},[xe,ue]);const F=(je=z.arrow)==null?void 0:je.x,ve=(Oe=z.arrow)==null?void 0:Oe.y,Me=((ne=z.arrow)==null?void 0:ne.centerOffset)!==0,[et,se]=p.useState();return ks(()=>{f&&se(window.getComputedStyle(f).zIndex)},[f]),s.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:xe?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(he=z.transformOrigin)==null?void 0:he.x,(Fe=z.transformOrigin)==null?void 0:Fe.y].join(" "),...((ye=z.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Zq,{scope:n,placedSide:R,onArrowChange:P,arrowX:F,arrowY:ve,shouldHideArrow:Me,children:s.jsx(Xe.div,{"data-side":R,"data-align":Q,...g,ref:w,style:{...g.style,animation:xe?void 0:"none"}})})})});qD.displayName=i0;var HD="PopperArrow",eH={top:"bottom",right:"left",bottom:"top",left:"right"},WD=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Jq(HD,r),o=eH[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Qq,{...i,ref:n,style:{...i.style,display:"block"}})})});WD.displayName=HD;function tH(t){return t!==null}var sH=t=>({name:"transformOrigin",options:t,fn(e){var v,f,b;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=KD(n),h={start:"0%",center:"50%",end:"100%"}[u],m=(((f=i.arrow)==null?void 0:f.x)??0)+l/2,x=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let j="",g="";return d==="bottom"?(j=o?h:`${m}px`,g=`${-c}px`):d==="top"?(j=o?h:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(j=`${-c}px`,g=o?h:`${x}px`):d==="left"&&(j=`${r.floating.width+c}px`,g=o?h:`${x}px`),{data:{x:j,y:g}}}});function KD(t){const[e,n="center"]=t.split("-");return[e,n]}var a0=BD,o0=zD,l0=qD,c0=WD,nH=Symbol("radix.slottable");function rH(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=nH,e}var[Mg]=Nn("Tooltip",[Nu]),Lg=Nu(),GD="TooltipProvider",iH=700,Tb="tooltip.open",[aH,d0]=Mg(GD),YD=t=>{const{__scopeTooltip:e,delayDuration:n=iH,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(aH,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};YD.displayName=GD;var tm="Tooltip",[oH,$g]=Mg(tm),QD=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=d0(tm,t.__scopeTooltip),d=Lg(e),[u,h]=p.useState(null),m=ur(),x=p.useRef(0),j=o??c.disableHoverableContent,g=l??c.delayDuration,v=p.useRef(!1),[f,b]=fr({prop:r,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Tb))):c.onClose(),a==null||a(C)},caller:tm}),w=p.useMemo(()=>f?v.current?"delayed-open":"instant-open":"closed",[f]),N=p.useCallback(()=>{window.clearTimeout(x.current),x.current=0,v.current=!1,b(!0)},[b]),P=p.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b(!1)},[b]),S=p.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{v.current=!0,b(!0),x.current=0},g)},[g,b]);return p.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(a0,{...d,children:s.jsx(oH,{scope:e,contentId:m,open:f,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:p.useCallback(()=>{j?P():(window.clearTimeout(x.current),x.current=0)},[P,j]),onOpen:N,onClose:P,disableHoverableContent:j,children:n})})};QD.displayName=tm;var Ab="TooltipTrigger",XD=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=$g(Ab,n),a=d0(Ab,n),o=Lg(n),l=p.useRef(null),c=ut(e,l,i.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(o0,{asChild:!0,...o,children:s.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ae(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ae(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ae(t.onBlur,i.onClose),onClick:Ae(t.onClick,i.onClose)})})});XD.displayName=Ab;var lH="TooltipPortal",[Doe,cH]=Mg(lH,{forceMount:void 0}),ou="TooltipContent",ZD=p.forwardRef((t,e)=>{const n=cH(ou,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=$g(ou,t.__scopeTooltip);return s.jsx(mn,{present:r||o.open,children:o.disableHoverableContent?s.jsx(JD,{side:i,...a,ref:e}):s.jsx(dH,{side:i,...a,ref:e})})}),dH=p.forwardRef((t,e)=>{const n=$g(ou,t.__scopeTooltip),r=d0(ou,t.__scopeTooltip),i=p.useRef(null),a=ut(e,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=n,u=i.current,{onPointerInTransitChange:h}=r,m=p.useCallback(()=>{l(null),h(!1)},[h]),x=p.useCallback((j,g)=>{const v=j.currentTarget,f={x:j.clientX,y:j.clientY},b=fH(f,v.getBoundingClientRect()),w=xH(f,b),N=gH(g.getBoundingClientRect()),P=vH([...w,...N]);l(P),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&u){const j=v=>x(v,u),g=v=>x(v,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",g)}}},[c,u,x,m]),p.useEffect(()=>{if(o){const j=g=>{const v=g.target,f={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!yH(f,o);b?m():w&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,m]),s.jsx(JD,{...t,ref:a})}),[uH,hH]=Mg(tm,{isInside:!1}),mH=rH("TooltipContent"),JD=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=$g(ou,n),d=Lg(n),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(Tb,u),()=>document.removeEventListener(Tb,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(vu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(l0,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(mH,{children:r}),s.jsx(uH,{scope:n,isInside:!0,children:s.jsx(mz,{id:c.contentId,role:"tooltip",children:i||r})})]})})});ZD.displayName=ou;var eI="TooltipArrow",pH=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Lg(n);return hH(eI,n).isInside?null:s.jsx(c0,{...i,...r,ref:e})});pH.displayName=eI;function fH(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xH(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gH(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function yH(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function vH(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jH(e)}function jH(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bH=YD,wH=QD,NH=XD,tI=ZD;const SH=bH,Wa=wH,Ka=NH,na=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(tI,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));na.displayName=tI.displayName;const sI=p.createContext(void 0);function CH({children:t,defaultTheme:e="light"}){const[n,r]=p.useState(()=>localStorage.getItem("theme")||e);p.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(n),localStorage.setItem("theme",n)},[n]);const i={theme:n,setTheme:r};return s.jsx(sI.Provider,{value:i,children:t})}function _H(){const t=p.useContext(sI);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}var kH=Symbol.for("react.lazy"),Nx=mg[" use ".trim().toString()];function PH(t){return typeof t=="object"&&t!==null&&"then"in t}function nI(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===kH&&"_payload"in t&&PH(t._payload)}function gp(t){const e=EH(t),n=p.forwardRef((r,i)=>{let{children:a,...o}=r;nI(a)&&typeof Nx=="function"&&(a=Nx(a._payload));const l=p.Children.toArray(a),c=l.find(AH);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var rI=gp("Slot");function EH(t){const e=p.forwardRef((n,r)=>{let{children:i,...a}=n;if(nI(i)&&typeof Nx=="function"&&(i=Nx(i._payload)),p.isValidElement(i)){const o=RH(i),l=FH(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TH=Symbol("radix.slottable");function AH(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TH}function FH(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function RH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const u0=mp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?rI:"button";return s.jsx(o,{className:Re(u0({variant:e,size:n,className:t})),ref:a,...i})});M.displayName="Button";const DH=mp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function K({className:t,variant:e,...n}){return s.jsx("div",{className:Re(DH({variant:e}),t),...n})}function IH(){const{theme:t,setTheme:e}=_H();return s.jsxs(M,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[s.jsx(Xz,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(zz,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})}function Ds(){const{data:t,isLoading:e}=We({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function OH(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var f;const{scope:m,children:x,...j}=h,g=((f=m==null?void 0:m[t])==null?void 0:f[c])||l,v=p.useMemo(()=>j,Object.values(j));return s.jsx(g.Provider,{value:v,children:x})};d.displayName=a+"Provider";function u(h,m){var g;const x=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,j=p.useContext(x);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,MH(i,...e)]}function MH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var LH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h0=LH.reduce((t,e)=>{const n=gp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $H(){return lR.useSyncExternalStore(UH,()=>!0,()=>!1)}function UH(){return()=>{}}var m0="Avatar",[BH]=OH(m0),[VH,iI]=BH(m0),aI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=p.useState("idle");return s.jsx(VH,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(h0.span,{...r,ref:e})})});aI.displayName=m0;var oI="AvatarImage",lI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=iI(oI,n),l=zH(r,a),c=Cs(d=>{i(d),o.onImageLoadingStatusChange(d)});return ks(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(h0.img,{...a,ref:e,src:r}):null});lI.displayName=oI;var cI="AvatarFallback",dI=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=iI(cI,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(h0.span,{...i,ref:e}):null});dI.displayName=cI;function E2(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zH(t,{referrerPolicy:e,crossOrigin:n}){const r=$H(),i=p.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>E2(a,t));return ks(()=>{l(E2(a,t))},[a,t]),ks(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,n,e]),o}var uI=aI,hI=lI,mI=dI;const Vi=p.forwardRef(({className:t,...e},n)=>s.jsx(uI,{ref:n,className:Re(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Vi.displayName=uI.displayName;const zi=p.forwardRef(({className:t,...e},n)=>s.jsx(hI,{ref:n,className:Re("aspect-square h-full w-full",t),...e}));zi.displayName=hI.displayName;const qi=p.forwardRef(({className:t,...e},n)=>s.jsx(mI,{ref:n,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));qi.displayName=mI.displayName;var qH=p.createContext(void 0);function Su(t){const e=p.useContext(qH);return t||e||"ltr"}var Cv=0;function p0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??T2()),document.body.insertAdjacentElement("beforeend",t[1]??T2()),Cv++,()=>{Cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cv--}},[])}function T2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _v="focusScope.autoFocusOnMount",kv="focusScope.autoFocusOnUnmount",A2={bubbles:!1,cancelable:!0},HH="FocusScope",Ug=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=Cs(i),u=Cs(a),h=p.useRef(null),m=ut(e,g=>c(g)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(w){if(x.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Qa(h.current,{select:!0})},v=function(w){if(x.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Qa(h.current,{select:!0}))},f=function(w){if(document.activeElement===document.body)for(const P of w)P.removedNodes.length>0&&Qa(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(f);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[r,l,x.paused]),p.useEffect(()=>{if(l){R2.add(x);const g=document.activeElement;if(!l.contains(g)){const f=new CustomEvent(_v,A2);l.addEventListener(_v,d),l.dispatchEvent(f),f.defaultPrevented||(WH(XH(pI(l)),{select:!0}),document.activeElement===g&&Qa(l))}return()=>{l.removeEventListener(_v,d),setTimeout(()=>{const f=new CustomEvent(kv,A2);l.addEventListener(kv,u),l.dispatchEvent(f),f.defaultPrevented||Qa(g??document.body,{select:!0}),l.removeEventListener(kv,u),R2.remove(x)},0)}}},[l,d,u,x]);const j=p.useCallback(g=>{if(!n&&!r||x.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,f=document.activeElement;if(v&&f){const b=g.currentTarget,[w,N]=KH(b);w&&N?!g.shiftKey&&f===N?(g.preventDefault(),n&&Qa(w,{select:!0})):g.shiftKey&&f===w&&(g.preventDefault(),n&&Qa(N,{select:!0})):f===b&&g.preventDefault()}},[n,r,x.paused]);return s.jsx(Xe.div,{tabIndex:-1,...o,ref:m,onKeyDown:j})});Ug.displayName=HH;function WH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Qa(r,{select:e}),document.activeElement!==n)return}function KH(t){const e=pI(t),n=F2(e,t),r=F2(e.reverse(),t);return[n,r]}function pI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function F2(t,e){for(const n of t)if(!GH(n,{upTo:e}))return n}function GH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YH(t){return t instanceof HTMLInputElement&&"select"in t}function Qa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YH(t)&&e&&t.select()}}var R2=QH();function QH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=D2(t,e),t.unshift(e)},remove(e){var n;t=D2(t,e),(n=t[0])==null||n.resume()}}}function D2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XH(t){return t.filter(e=>e.tagName!=="A")}var Pv="rovingFocusGroup.onEntryFocus",ZH={bubbles:!1,cancelable:!0},yp="RovingFocusGroup",[Fb,fI,JH]=dp(yp),[eW,Bg]=Nn(yp,[JH]),[tW,sW]=eW(yp),xI=p.forwardRef((t,e)=>s.jsx(Fb.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Fb.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(nW,{...t,ref:e})})}));xI.displayName=yp;var nW=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=p.useRef(null),x=ut(e,m),j=Su(a),[g,v]=fr({prop:o,defaultProp:l??null,onChange:c,caller:yp}),[f,b]=p.useState(!1),w=Cs(d),N=fI(n),P=p.useRef(!1),[S,C]=p.useState(0);return p.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Pv,w),()=>k.removeEventListener(Pv,w)},[w]),s.jsx(tW,{scope:n,orientation:r,dir:j,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(k=>v(k),[v]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>C(k=>k-1),[]),children:s.jsx(Xe.div,{tabIndex:f||S===0?-1:0,"data-orientation":r,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{P.current=!0}),onFocus:Ae(t.onFocus,k=>{const I=!P.current;if(k.target===k.currentTarget&&I&&!f){const A=new CustomEvent(Pv,ZH);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=N().filter(de=>de.focusable),$=O.find(de=>de.active),J=O.find(de=>de.id===g),q=[$,J,...O].filter(Boolean).map(de=>de.ref.current);vI(q,u)}}P.current=!1}),onBlur:Ae(t.onBlur,()=>b(!1))})})}),gI="RovingFocusGroupItem",yI=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=ur(),d=a||c,u=sW(gI,n),h=u.currentTabStopId===d,m=fI(n),{onFocusableItemAdd:x,onFocusableItemRemove:j,currentTabStopId:g}=u;return p.useEffect(()=>{if(r)return x(),()=>j()},[r,x,j]),s.jsx(Fb.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(Xe.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Ae(t.onMouseDown,v=>{r?u.onItemFocus(d):v.preventDefault()}),onFocus:Ae(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ae(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const f=aW(v,u.orientation,u.dir);if(f!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(f==="last")w.reverse();else if(f==="prev"||f==="next"){f==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=u.loop?oW(w,N+1):w.slice(N+1)}setTimeout(()=>vI(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});yI.displayName=gI;var rW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aW(t,e,n){const r=iW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rW[r]}function vI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function oW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jI=xI,bI=yI;function lW(t){const e=cW(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(uW);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function cW(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=mW(i),l=hW(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dW=Symbol("radix.slottable");function uW(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dW}function hW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function mW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nc=new WeakMap,Jp=new WeakMap,ef={},Ev=0,wI=function(t){return t&&(t.host||wI(t.parentNode))},fW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xW=function(t,e,n,r){var i=fW(e,Array.isArray(t)?t:[t]);ef[n]||(ef[n]=new WeakMap);var a=ef[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var x=m.getAttribute(r),j=x!==null&&x!=="false",g=(Nc.get(m)||0)+1,v=(a.get(m)||0)+1;Nc.set(m,g),a.set(m,v),o.push(m),g===1&&j&&Jp.set(m,!0),v===1&&m.setAttribute(n,"true"),j||m.setAttribute(r,"true")}catch(f){console.error("aria-hidden: cannot operate on ",m,f)}})};return u(e),l.clear(),Ev++,function(){o.forEach(function(h){var m=Nc.get(h)-1,x=a.get(h)-1;Nc.set(h,m),a.set(h,x),m||(Jp.has(h)||h.removeAttribute(r),Jp.delete(h)),x||h.removeAttribute(n)}),Ev--,Ev||(Nc=new WeakMap,Nc=new WeakMap,Jp=new WeakMap,ef={})}},f0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),xW(r,i,n,"aria-hidden")):function(){return null}},Ri=function(){return Ri=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ri.apply(this,arguments)};function NI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gW(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Of="right-scroll-bar-position",Mf="width-before-scroll-bar",yW="with-scroll-bars-hidden",vW="--removed-body-scroll-bar-size";function Tv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jW(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bW=typeof window<"u"?p.useLayoutEffect:p.useEffect,I2=new WeakMap;function wW(t,e){var n=jW(null,function(r){return t.forEach(function(i){return Tv(i,r)})});return bW(function(){var r=I2.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||Tv(l,null)}),a.forEach(function(l){i.has(l)||Tv(l,o)})}I2.set(n,t)},[t]),n}function NW(t){return t}function SW(t,e){e===void 0&&(e=NW);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return i}function CW(t){t===void 0&&(t={});var e=SW(null);return e.options=Ri({async:!0,ssr:!1},t),e}var SI=function(t){var e=t.sideCar,n=NI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ri({},n))};SI.isSideCarExport=!0;function _W(t,e){return t.useMedium(e),SI}var CI=CW(),Av=function(){},Vg=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Av,onWheelCapture:Av,onTouchMoveCapture:Av}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,x=t.noRelative,j=t.noIsolation,g=t.inert,v=t.allowPinchZoom,f=t.as,b=f===void 0?"div":f,w=t.gapMode,N=NI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,S=wW([n,e]),C=Ri(Ri({},N),i);return p.createElement(p.Fragment,null,u&&p.createElement(P,{sideCar:CI,removeScrollBar:d,shards:h,noRelative:x,noIsolation:j,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(l),Ri(Ri({},C),{ref:S})):p.createElement(b,Ri({},C,{className:c,ref:S}),l))});Vg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vg.classNames={fullWidth:Mf,zeroRight:Of};var kW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kW();return e&&t.setAttribute("nonce",e),t}function EW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=PW())&&(EW(e,n),TW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FW=function(){var t=AW();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_I=function(){var t=FW(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},RW={left:0,top:0,right:0,gap:0},Fv=function(t){return parseInt(t||"",10)||0},DW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Fv(n),Fv(r),Fv(i)]},IW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RW;var e=DW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},OW=_I(),ad="data-scroll-locked",MW=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ad,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Of,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ad,`] {
    `).concat(vW,": ").concat(l,`px;
  }
`)},O2=function(){var t=parseInt(document.body.getAttribute(ad)||"0",10);return isFinite(t)?t:0},LW=function(){p.useEffect(function(){return document.body.setAttribute(ad,(O2()+1).toString()),function(){var t=O2()-1;t<=0?document.body.removeAttribute(ad):document.body.setAttribute(ad,t.toString())}},[])},$W=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;LW();var a=p.useMemo(function(){return IW(i)},[i]);return p.createElement(OW,{styles:MW(a,!e,i,n?"":"!important")})},Rb=!1;if(typeof window<"u")try{var tf=Object.defineProperty({},"passive",{get:function(){return Rb=!0,!0}});window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{Rb=!1}var Sc=Rb?{passive:!1}:!1,UW=function(t){return t.tagName==="TEXTAREA"},kI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!UW(t)&&n[e]==="visible")},BW=function(t){return kI(t,"overflowY")},VW=function(t){return kI(t,"overflowX")},M2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=PI(t,r);if(i){var a=EI(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PI=function(t,e){return t==="v"?BW(e):VW(e)},EI=function(t,e){return t==="v"?zW(e):qW(e)},HW=function(t,e){return t==="h"&&e==="rtl"?-1:1},WW=function(t,e,n,r,i){var a=HW(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var x=EI(t,l),j=x[0],g=x[1],v=x[2],f=g-v-a*j;(j||f)&&PI(t,l)&&(h+=f,m+=j);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L2=function(t){return[t.deltaX,t.deltaY]},$2=function(t){return t&&"current"in t?t.current:t},KW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YW=0,Cc=[];function QW(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(YW++)[0],a=p.useState(_I)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=gW([t.lockRef.current],(t.shards||[]).map($2),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var f=sf(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-f[0],N="deltaY"in g?g.deltaY:b[1]-f[1],P,S=g.target,C=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var k=window.getSelection(),I=k&&k.anchorNode,A=I?I===S||I.contains(S):!1;if(A)return!1;var O=M2(C,S);if(!O)return!0;if(O?P=C:(P=C==="v"?"h":"v",O=M2(C,S)),!O)return!1;if(!r.current&&"changedTouches"in g&&(w||N)&&(r.current=P),!P)return!0;var $=r.current||P;return WW($,v,g,$==="h"?w:N)},[]),c=p.useCallback(function(g){var v=g;if(!(!Cc.length||Cc[Cc.length-1]!==a)){var f="deltaY"in v?L2(v):sf(v),b=e.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&KW(P.delta,f)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map($2).filter(Boolean).filter(function(P){return P.contains(v.target)}),N=w.length>0?l(v,w[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),d=p.useCallback(function(g,v,f,b){var w={name:g,delta:v,target:f,should:b,shadowParent:XW(f)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),u=p.useCallback(function(g){n.current=sf(g),r.current=void 0},[]),h=p.useCallback(function(g){d(g.type,L2(g),g.target,l(g,t.lockRef.current))},[]),m=p.useCallback(function(g){d(g.type,sf(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return Cc.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Sc),document.addEventListener("touchmove",c,Sc),document.addEventListener("touchstart",u,Sc),function(){Cc=Cc.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Sc),document.removeEventListener("touchmove",c,Sc),document.removeEventListener("touchstart",u,Sc)}},[]);var x=t.removeScrollBar,j=t.inert;return p.createElement(p.Fragment,null,j?p.createElement(a,{styles:GW(i)}):null,x?p.createElement($W,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function XW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZW=_W(CI,QW);var zg=p.forwardRef(function(t,e){return p.createElement(Vg,Ri({},t,{ref:e,sideCar:ZW}))});zg.classNames=Vg.classNames;var Db=["Enter"," "],JW=["ArrowDown","PageUp","Home"],TI=["ArrowUp","PageDown","End"],eK=[...JW,...TI],tK={ltr:[...Db,"ArrowRight"],rtl:[...Db,"ArrowLeft"]},sK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vp="Menu",[sm,nK,rK]=dp(vp),[hc,AI]=Nn(vp,[rK,Nu,Bg]),qg=Nu(),FI=Bg(),[iK,mc]=hc(vp),[aK,jp]=hc(vp),RI=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=qg(e),[c,d]=p.useState(null),u=p.useRef(!1),h=Cs(a),m=Su(i);return p.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(a0,{...l,children:s.jsx(iK,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(aK,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};RI.displayName=vp;var oK="MenuAnchor",x0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=qg(n);return s.jsx(o0,{...i,...r,ref:e})});x0.displayName=oK;var g0="MenuPortal",[lK,DI]=hc(g0,{forceMount:void 0}),II=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=mc(g0,e);return s.jsx(lK,{scope:e,forceMount:n,children:s.jsx(mn,{present:n||a.open,children:s.jsx(up,{asChild:!0,container:i,children:r})})})};II.displayName=g0;var Er="MenuContent",[cK,y0]=hc(Er),OI=p.forwardRef((t,e)=>{const n=DI(Er,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=mc(Er,t.__scopeMenu),o=jp(Er,t.__scopeMenu);return s.jsx(sm.Provider,{scope:t.__scopeMenu,children:s.jsx(mn,{present:r||a.open,children:s.jsx(sm.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(dK,{...i,ref:e}):s.jsx(uK,{...i,ref:e})})})})}),dK=p.forwardRef((t,e)=>{const n=mc(Er,t.__scopeMenu),r=p.useRef(null),i=ut(e,r);return p.useEffect(()=>{const a=r.current;if(a)return f0(a)},[]),s.jsx(v0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uK=p.forwardRef((t,e)=>{const n=mc(Er,t.__scopeMenu);return s.jsx(v0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),hK=lW("MenuContent.ScrollLock"),v0=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,disableOutsideScroll:j,...g}=t,v=mc(Er,n),f=jp(Er,n),b=qg(n),w=FI(n),N=nK(n),[P,S]=p.useState(null),C=p.useRef(null),k=ut(e,C,v.onContentChange),I=p.useRef(0),A=p.useRef(""),O=p.useRef(0),$=p.useRef(null),J=p.useRef("right"),Y=p.useRef(0),q=j?zg:p.Fragment,de=j?{as:hK,allowPinchZoom:!0}:void 0,xe=R=>{var je,Oe;const Q=A.current+R,ue=N().filter(ne=>!ne.disabled),F=document.activeElement,ve=(je=ue.find(ne=>ne.ref.current===F))==null?void 0:je.textValue,Me=ue.map(ne=>ne.textValue),et=SK(Me,Q,ve),se=(Oe=ue.find(ne=>ne.textValue===et))==null?void 0:Oe.ref.current;(function ne(he){A.current=he,window.clearTimeout(I.current),he!==""&&(I.current=window.setTimeout(()=>ne(""),1e3))})(Q),se&&setTimeout(()=>se.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),p0();const z=p.useCallback(R=>{var ue,F;return J.current===((ue=$.current)==null?void 0:ue.side)&&_K(R,(F=$.current)==null?void 0:F.area)},[]);return s.jsx(cK,{scope:n,searchRef:A,onItemEnter:p.useCallback(R=>{z(R)&&R.preventDefault()},[z]),onItemLeave:p.useCallback(R=>{var Q;z(R)||((Q=C.current)==null||Q.focus(),S(null))},[z]),onTriggerLeave:p.useCallback(R=>{z(R)&&R.preventDefault()},[z]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(R=>{$.current=R},[]),children:s.jsx(q,{...de,children:s.jsx(Ug,{asChild:!0,trapped:i,onMountAutoFocus:Ae(a,R=>{var Q;R.preventDefault(),(Q=C.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(vu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,children:s.jsx(jI,{asChild:!0,...w,dir:f.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:S,onEntryFocus:Ae(c,R=>{f.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(l0,{role:"menu","aria-orientation":"vertical","data-state":ZI(v.open),"data-radix-menu-content":"",dir:f.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:Ae(g.onKeyDown,R=>{const ue=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,ve=R.key.length===1;ue&&(R.key==="Tab"&&R.preventDefault(),!F&&ve&&xe(R.key));const Me=C.current;if(R.target!==Me||!eK.includes(R.key))return;R.preventDefault();const se=N().filter(je=>!je.disabled).map(je=>je.ref.current);TI.includes(R.key)&&se.reverse(),wK(se)}),onBlur:Ae(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),A.current="")}),onPointerMove:Ae(t.onPointerMove,nm(R=>{const Q=R.target,ue=Y.current!==R.clientX;if(R.currentTarget.contains(Q)&&ue){const F=R.clientX>Y.current?"right":"left";J.current=F,Y.current=R.clientX}}))})})})})})})});OI.displayName=Er;var mK="MenuGroup",j0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Xe.div,{role:"group",...r,ref:e})});j0.displayName=mK;var pK="MenuLabel",MI=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Xe.div,{...r,ref:e})});MI.displayName=pK;var Sx="MenuItem",U2="menu.itemSelect",Hg=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=p.useRef(null),o=jp(Sx,t.__scopeMenu),l=y0(Sx,t.__scopeMenu),c=ut(e,a),d=p.useRef(!1),u=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(U2,{bubbles:!0,cancelable:!0});h.addEventListener(U2,x=>r==null?void 0:r(x),{once:!0}),qN(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(LI,{...i,ref:c,disabled:n,onClick:Ae(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:Ae(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ae(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||Db.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Hg.displayName=Sx;var LI=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=y0(Sx,n),l=FI(n),c=p.useRef(null),d=ut(e,c),[u,h]=p.useState(!1),[m,x]=p.useState("");return p.useEffect(()=>{const j=c.current;j&&x((j.textContent??"").trim())},[a.children]),s.jsx(sm.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(bI,{asChild:!0,...l,focusable:!r,children:s.jsx(Xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:Ae(t.onPointerMove,nm(j=>{r?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(t.onPointerLeave,nm(j=>o.onItemLeave(j))),onFocus:Ae(t.onFocus,()=>h(!0)),onBlur:Ae(t.onBlur,()=>h(!1))})})})}),fK="MenuCheckboxItem",$I=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(qI,{scope:t.__scopeMenu,checked:n,children:s.jsx(Hg,{role:"menuitemcheckbox","aria-checked":Cx(n)?"mixed":n,...i,ref:e,"data-state":w0(n),onSelect:Ae(i.onSelect,()=>r==null?void 0:r(Cx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$I.displayName=fK;var UI="MenuRadioGroup",[xK,gK]=hc(UI,{value:void 0,onValueChange:()=>{}}),BI=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Cs(r);return s.jsx(xK,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(j0,{...i,ref:e})})});BI.displayName=UI;var VI="MenuRadioItem",zI=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=gK(VI,t.__scopeMenu),a=n===i.value;return s.jsx(qI,{scope:t.__scopeMenu,checked:a,children:s.jsx(Hg,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":w0(a),onSelect:Ae(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});zI.displayName=VI;var b0="MenuItemIndicator",[qI,yK]=hc(b0,{checked:!1}),HI=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=yK(b0,n);return s.jsx(mn,{present:r||Cx(a.checked)||a.checked===!0,children:s.jsx(Xe.span,{...i,ref:e,"data-state":w0(a.checked)})})});HI.displayName=b0;var vK="MenuSeparator",WI=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});WI.displayName=vK;var jK="MenuArrow",KI=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=qg(n);return s.jsx(c0,{...i,...r,ref:e})});KI.displayName=jK;var bK="MenuSub",[Ioe,GI]=hc(bK),rh="MenuSubTrigger",YI=p.forwardRef((t,e)=>{const n=mc(rh,t.__scopeMenu),r=jp(rh,t.__scopeMenu),i=GI(rh,t.__scopeMenu),a=y0(rh,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(x0,{asChild:!0,...d,children:s.jsx(LI,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ZI(n.open),...t,ref:$a(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(t.onPointerMove,nm(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ae(t.onPointerLeave,nm(h=>{var x,j;u();const m=(x=n.content)==null?void 0:x.getBoundingClientRect();if(m){const g=(j=n.content)==null?void 0:j.dataset.side,v=g==="right",f=v?-5:5,b=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+f,y:h.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(t.onKeyDown,h=>{var x;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||tK[r.dir].includes(h.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),h.preventDefault())})})})});YI.displayName=rh;var QI="MenuSubContent",XI=p.forwardRef((t,e)=>{const n=DI(Er,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=mc(Er,t.__scopeMenu),o=jp(Er,t.__scopeMenu),l=GI(QI,t.__scopeMenu),c=p.useRef(null),d=ut(e,c);return s.jsx(sm.Provider,{scope:t.__scopeMenu,children:s.jsx(mn,{present:r||a.open,children:s.jsx(sm.Slot,{scope:t.__scopeMenu,children:s.jsx(v0,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ae(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ae(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ae(t.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),m=sK[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});XI.displayName=QI;function ZI(t){return t?"open":"closed"}function Cx(t){return t==="indeterminate"}function w0(t){return Cx(t)?"indeterminate":t?"checked":"unchecked"}function wK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function NK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SK(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=NK(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function CK(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function _K(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CK(n,e)}function nm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var kK=RI,PK=x0,EK=II,TK=OI,AK=j0,FK=MI,RK=Hg,DK=$I,IK=BI,OK=zI,MK=HI,LK=WI,$K=KI,UK=YI,BK=XI,Wg="DropdownMenu",[VK]=Nn(Wg,[AI]),Bn=AI(),[zK,JI]=VK(Wg),eO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Bn(e),d=p.useRef(null),[u,h]=fr({prop:i,defaultProp:a??!1,onChange:o,caller:Wg});return s.jsx(zK,{scope:e,triggerId:ur(),triggerRef:d,contentId:ur(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(kK,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};eO.displayName=Wg;var tO="DropdownMenuTrigger",sO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=JI(tO,n),o=Bn(n);return s.jsx(PK,{asChild:!0,...o,children:s.jsx(Xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:$a(e,a.triggerRef),onPointerDown:Ae(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ae(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});sO.displayName=tO;var qK="DropdownMenuPortal",nO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Bn(e);return s.jsx(EK,{...r,...n})};nO.displayName=qK;var rO="DropdownMenuContent",iO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=JI(rO,n),a=Bn(n),o=p.useRef(!1);return s.jsx(TK,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ae(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ae(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iO.displayName=rO;var HK="DropdownMenuGroup",WK=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(AK,{...i,...r,ref:e})});WK.displayName=HK;var KK="DropdownMenuLabel",aO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(FK,{...i,...r,ref:e})});aO.displayName=KK;var GK="DropdownMenuItem",oO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(RK,{...i,...r,ref:e})});oO.displayName=GK;var YK="DropdownMenuCheckboxItem",lO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(DK,{...i,...r,ref:e})});lO.displayName=YK;var QK="DropdownMenuRadioGroup",XK=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(IK,{...i,...r,ref:e})});XK.displayName=QK;var ZK="DropdownMenuRadioItem",cO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(OK,{...i,...r,ref:e})});cO.displayName=ZK;var JK="DropdownMenuItemIndicator",dO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(MK,{...i,...r,ref:e})});dO.displayName=JK;var eG="DropdownMenuSeparator",uO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(LK,{...i,...r,ref:e})});uO.displayName=eG;var tG="DropdownMenuArrow",sG=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx($K,{...i,...r,ref:e})});sG.displayName=tG;var nG="DropdownMenuSubTrigger",hO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(UK,{...i,...r,ref:e})});hO.displayName=nG;var rG="DropdownMenuSubContent",mO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Bn(n);return s.jsx(BK,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mO.displayName=rG;var iG=eO,aG=sO,oG=nO,pO=iO,fO=aO,xO=oO,gO=lO,yO=cO,vO=dO,jO=uO,bO=hO,wO=mO;const lG=iG,cG=aG,dG=p.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(bO,{ref:i,className:Re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(Lz,{className:"ml-auto"})]}));dG.displayName=bO.displayName;const uG=p.forwardRef(({className:t,...e},n)=>s.jsx(wO,{ref:n,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));uG.displayName=wO.displayName;const NO=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(oG,{children:s.jsx(pO,{ref:r,sideOffset:e,className:Re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));NO.displayName=pO.displayName;const er=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(xO,{ref:r,className:Re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));er.displayName=xO.displayName;const hG=p.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(gO,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vO,{children:s.jsx(Zh,{className:"h-4 w-4"})})}),e]}));hG.displayName=gO.displayName;const mG=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(yO,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vO,{children:s.jsx(Uz,{className:"h-2 w-2 fill-current"})})}),e]}));mG.displayName=yO.displayName;const SO=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(fO,{ref:r,className:Re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));SO.displayName=fO.displayName;const Lf=p.forwardRef(({className:t,...e},n)=>s.jsx(jO,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));Lf.displayName=jO.displayName;const pG="/assets/RSFOpaqueLogo_1761494760586-CszXmNPH.png";function fG(){var c;const[t]=an(),{user:e}=Ds(),n=t==="/rentals"||t.startsWith("/aircraft"),r=t.startsWith("/marketplace"),i=t==="/faq",a=t.startsWith("/student")||t.startsWith("/start-flying"),o=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.email)||"User",l=e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`:((c=e==null?void 0:e.email)==null?void 0:c[0].toUpperCase())||"U";return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between gap-2 sm:gap-4",children:[s.jsxs(Je,{href:"/",className:"flex items-center gap-1 sm:gap-2 hover-elevate active-elevate-2 rounded-md px-1 sm:px-2 py-1 flex-shrink-0","data-testid":"link-home",children:[s.jsx("img",{src:pG,alt:"Ready Set Fly",className:"h-8 w-8 sm:h-[2.6rem] sm:w-[2.6rem]"}),s.jsx("span",{className:"font-display text-sm sm:text-xl font-bold hidden min-[400px]:inline",children:"Ready Set Fly"})]}),s.jsxs("nav",{className:"flex items-center gap-0.5 sm:gap-1 rounded-full bg-muted p-0.5 sm:p-1",role:"navigation","aria-label":"Main navigation",children:[s.jsx(Je,{href:"/rentals","data-testid":"link-rentals",children:s.jsx(M,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${n?"bg-background shadow-sm":""}`,children:"Rentals"})}),s.jsx(Je,{href:"/marketplace","data-testid":"link-marketplace",children:s.jsx(M,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${r?"bg-background shadow-sm":""}`,children:"Marketplace"})}),s.jsx(Je,{href:"/student","data-testid":"link-student",children:s.jsx(M,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${a?"bg-background shadow-sm":""}`,children:"Student Pilots"})}),s.jsx(Je,{href:"/faq","data-testid":"link-faq",children:s.jsx(M,{variant:"ghost",size:"sm",className:`rounded-full text-xs sm:text-sm px-2 sm:px-4 ${i?"bg-background shadow-sm":""}`,children:"FAQ"})})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e&&s.jsx(Je,{href:"/list-aircraft","data-testid":"link-list-aircraft",className:"hidden sm:block",children:s.jsx(M,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-list-aircraft",children:"List Your Aircraft"})}),e&&s.jsxs(M,{variant:"ghost",size:"icon",className:"relative hidden sm:flex","data-testid":"button-notifications","aria-label":"Notifications",children:[s.jsx(Cb,{className:"h-5 w-5"}),s.jsx(K,{className:"absolute -right-1 -top-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:"3"})]}),s.jsx(IH,{}),e?s.jsxs(s.Fragment,{children:[e.isSuperAdmin&&s.jsx(K,{variant:"default",className:"bg-primary text-primary-foreground","data-testid":"badge-super-admin",children:"Super Admin"}),s.jsxs(lG,{children:[s.jsx(cG,{asChild:!0,children:s.jsx(M,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-profile-menu","aria-label":"User menu",children:s.jsxs(Vi,{className:"h-9 w-9",children:[s.jsx(zi,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:o}),s.jsx(qi,{children:l})]})})}),s.jsxs(NO,{align:"end",className:"w-56",children:[s.jsx(SO,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:o}),(e==null?void 0:e.isSuperAdmin)&&s.jsx(K,{variant:"default",className:"text-xs h-5 bg-primary text-primary-foreground",children:"Super Admin"})]}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email})]})}),s.jsx(Lf,{}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/dashboard","data-testid":"link-dashboard",children:"Dashboard"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/profile","data-testid":"link-profile",children:"Profile"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/my-listings","data-testid":"link-my-listings",children:"My Listings"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/messages","data-testid":"link-messages",children:"Messages"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/logbook","data-testid":"link-logbook",children:"Pilot Logbook"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/my-aircraft","data-testid":"link-my-aircraft",children:"My Aircraft"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/pilot-tools","data-testid":"link-pilot-tools",children:"Pilot Tools"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/ownership-cost-calculator","data-testid":"link-ownership-cost",children:"Ownership Cost Calculator"})}),(e==null?void 0:e.isAdmin)&&s.jsxs(s.Fragment,{children:[s.jsx(Lf,{}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/admin","data-testid":"link-admin",className:"text-primary font-medium",children:"Admin Dashboard"})}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/admin/aircraft-library","data-testid":"link-admin-aircraft-library",className:"text-primary font-medium",children:"Aircraft Library"})})]}),s.jsx(Lf,{}),s.jsx(er,{asChild:!0,children:s.jsx(Je,{href:"/settings","data-testid":"link-settings",children:"Settings"})}),s.jsx(er,{asChild:!0,children:s.jsxs("a",{href:Yt("/api/logout"),"data-testid":"button-logout",children:[s.jsx(Vz,{className:"mr-2 h-4 w-4"}),"Log out"]})})]})]})]}):s.jsx(Je,{href:"/login",children:s.jsx(M,{variant:"default","data-testid":"button-login",children:"Sign In"})})]})]})})})}var bp=t=>t.type==="checkbox",xl=t=>t instanceof Date,Hn=t=>t==null;const CO=t=>typeof t=="object";var zs=t=>!Hn(t)&&!Array.isArray(t)&&CO(t)&&!xl(t),_O=t=>zs(t)&&t.target?bp(t.target)?t.target.checked:t.target.value:t,xG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kO=(t,e)=>t.has(xG(e)),gG=t=>{const e=t.constructor&&t.constructor.prototype;return zs(e)&&e.hasOwnProperty("isPrototypeOf")},N0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Os(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(N0&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(zs(t)&&gG(t)))return t;const r=n?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Os(t[i]));return r}var Kg=t=>/^\w*$/.test(t),rs=t=>t===void 0,S0=t=>Array.isArray(t)?t.filter(Boolean):[],C0=t=>S0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{if(!e||!zs(t))return n;const r=(Kg(e)?[e]:C0(e)).reduce((i,a)=>Hn(i)?i:i[a],t);return rs(r)||r===t?rs(t[e])?n:t[e]:r},rr=t=>typeof t=="boolean",Dn=t=>typeof t=="function",$t=(t,e,n)=>{let r=-1;const i=Kg(e)?[e]:C0(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=zs(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const _x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ea={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_0=Ge.createContext(null);_0.displayName="HookFormContext";const Gg=()=>Ge.useContext(_0),yG=t=>{const{children:e,...n}=t;return Ge.createElement(_0.Provider,{value:n},e)};var PO=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==ei.all&&(e._proxyFormState[o]=!r||ei.all),n&&(n[o]=!0),t[o]}});return i};const k0=typeof window<"u"?Ge.useLayoutEffect:Ge.useEffect;function vG(t){const e=Gg(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=Ge.useState(n._formState),c=Ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return k0(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),Ge.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ge.useMemo(()=>PO(o,n,c.current,!1),[o,n])}var lr=t=>typeof t=="string",Ib=(t,e,n,r,i)=>lr(t)?(r&&e.watch.add(t),Ue(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Ue(n,a))):(r&&(e.watchAll=!0),n),Ob=t=>Hn(t)||!CO(t);function ti(t,e,n=new WeakSet){if(Ob(t)||Ob(e))return Object.is(t,e);if(xl(t)&&xl(e))return Object.is(t.getTime(),e.getTime());const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(xl(o)&&xl(l)||zs(o)&&zs(l)||Array.isArray(o)&&Array.isArray(l)?!ti(o,l,n):!Object.is(o,l))return!1}}return!0}function jG(t){const e=Gg(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=Ge.useRef(i),d=Ge.useRef(l),u=Ge.useRef(void 0),h=Ge.useRef(n),m=Ge.useRef(r);d.current=l;const[x,j]=Ge.useState(()=>{const N=n._getWatch(r,c.current);return d.current?d.current(N):N}),g=Ge.useCallback(N=>{const P=Ib(r,n._names,N||n._formValues,!1,c.current);return d.current?d.current(P):P},[n._formValues,n._names,r]),v=Ge.useCallback(N=>{if(!a){const P=Ib(r,n._names,N||n._formValues,!1,c.current);if(d.current){const S=d.current(P);ti(S,u.current)||(j(S),u.current=S)}else j(P)}},[n._formValues,n._names,a,r]);k0(()=>((h.current!==n||!ti(m.current,r))&&(h.current=n,m.current=r,v()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:N=>{v(N.values)}})),[n,o,r,v]),Ge.useEffect(()=>n._removeUnmounted());const f=h.current!==n,b=m.current,w=Ge.useMemo(()=>{if(a)return null;const N=!f&&!ti(b,r);return f||N?g():null},[a,f,r,b,g]);return w!==null?w:x}function bG(t){const e=Gg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=t,c=kO(i._names.array,n),d=Ge.useMemo(()=>Ue(i._formValues,n,Ue(i._defaultValues,n,o)),[i,n,o]),u=jG({control:i,name:n,defaultValue:d,exact:l}),h=vG({control:i,name:n,exact:l}),m=Ge.useRef(t),x=Ge.useRef(void 0),j=Ge.useRef(i.register(n,{...t.rules,value:u,...rr(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const g=Ge.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ue(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ue(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ue(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ue(h.validatingFields,n)},error:{enumerable:!0,get:()=>Ue(h.errors,n)}}),[h,n]),v=Ge.useCallback(N=>j.current.onChange({target:{value:_O(N),name:n},type:_x.CHANGE}),[n]),f=Ge.useCallback(()=>j.current.onBlur({target:{value:Ue(i._formValues,n),name:n},type:_x.BLUR}),[n,i._formValues]),b=Ge.useCallback(N=>{const P=Ue(i._fields,n);P&&P._f&&N&&(P._f.ref={focus:()=>Dn(N.focus)&&N.focus(),select:()=>Dn(N.select)&&N.select(),setCustomValidity:S=>Dn(N.setCustomValidity)&&N.setCustomValidity(S),reportValidity:()=>Dn(N.reportValidity)&&N.reportValidity()})},[i._fields,n]),w=Ge.useMemo(()=>({name:n,value:u,...rr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:v,onBlur:f,ref:b}),[n,r,h.disabled,v,f,b,u]);return Ge.useEffect(()=>{const N=i._options.shouldUnregister||a,P=x.current;P&&P!==n&&!c&&i.unregister(P),i.register(n,{...m.current.rules,...rr(m.current.disabled)?{disabled:m.current.disabled}:{}});const S=(C,k)=>{const I=Ue(i._fields,C);I&&I._f&&(I._f.mount=k)};if(S(n,!0),N){const C=Os(Ue(i._options.defaultValues,n,m.current.defaultValue));$t(i._defaultValues,n,C),rs(Ue(i._formValues,n))&&$t(i._formValues,n,C)}return!c&&i.register(n),x.current=n,()=>{(c?N&&!i._state.action:N)?i.unregister(n):S(n,!1)}},[n,i,c,a]),Ge.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Ge.useMemo(()=>({field:w,formState:h,fieldState:g}),[w,h,g])}const wG=t=>t.render(bG(t));var EO=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ch=t=>Array.isArray(t)?t:[t],B2=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function TO(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&zs(i)&&a){const o=TO(i,a);zs(o)&&(n[r]=o)}else t[r]&&(n[r]=a)}return n}var En=t=>zs(t)&&!Object.keys(t).length,P0=t=>t.type==="file",kx=t=>{if(!N0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AO=t=>t.type==="select-multiple",E0=t=>t.type==="radio",NG=t=>E0(t)||bp(t),Rv=t=>kx(t)&&t.isConnected;function SG(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=rs(t)?r++:t[e[r++]];return t}function CG(t){for(const e in t)if(t.hasOwnProperty(e)&&!rs(t[e]))return!1;return!0}function Ms(t,e){const n=Array.isArray(e)?e:Kg(e)?[e]:C0(e),r=n.length===1?t:SG(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(zs(r)&&En(r)||Array.isArray(r)&&CG(r))&&Ms(t,n.slice(0,-1)),t}var _G=t=>{for(const e in t)if(Dn(t[e]))return!0;return!1};function FO(t){return Array.isArray(t)||zs(t)&&!_G(t)}function Mb(t,e={}){for(const n in t){const r=t[n];FO(r)?(e[n]=Array.isArray(r)?[]:{},Mb(r,e[n])):rs(r)||(e[n]=!0)}return e}function Fc(t,e,n){n||(n=Mb(e));for(const r in t){const i=t[r];if(FO(i))rs(e)||Ob(n[r])?n[r]=Mb(i,Array.isArray(i)?[]:{}):Fc(i,Hn(e)?{}:e[r],n[r]);else{const a=e[r];n[r]=!ti(i,a)}}return n}const V2={value:!1,isValid:!1},z2={value:!0,isValid:!0};var RO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rs(t[0].attributes.value)?rs(t[0].value)||t[0].value===""?z2:{value:t[0].value,isValid:!0}:z2:V2}return V2},DO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>rs(t)?t:e?t===""?NaN:t&&+t:n&&lr(t)?new Date(t):r?r(t):t;const q2={isValid:!1,value:null};var IO=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,q2):q2;function H2(t){const e=t.ref;return P0(e)?e.files:E0(e)?IO(t.refs).value:AO(e)?[...e.selectedOptions].map(({value:n})=>n):bp(e)?RO(t.refs).value:DO(rs(e.value)?t.ref.value:e.value,t)}var kG=(t,e,n,r)=>{const i={};for(const a of t){const o=Ue(e,a);o&&$t(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Px=t=>t instanceof RegExp,Bu=t=>rs(t)?t:Px(t)?t.source:zs(t)?Px(t.value)?t.value.source:t.value:t,W2=t=>({isOnSubmit:!t||t===ei.onSubmit,isOnBlur:t===ei.onBlur,isOnChange:t===ei.onChange,isOnAll:t===ei.all,isOnTouch:t===ei.onTouched});const K2="AsyncFunction";var PG=t=>!!t&&!!t.validate&&!!(Dn(t.validate)&&t.validate.constructor.name===K2||zs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===K2)),EG=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),G2=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const _h=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Ue(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(_h(l,e))break}else if(zs(l)&&_h(l,e))break}}};function Y2(t,e,n){const r=Ue(t,n);if(r||Kg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Ue(e,a),l=Ue(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var TG=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return En(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||ei.all))},AG=(t,e,n)=>!t||!e||t===e||Ch(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),FG=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,RG=(t,e)=>!S0(Ue(t,e)).length&&Ms(t,e),DG=(t,e,n)=>{const r=Ch(Ue(t,n));return $t(r,"root",e[n]),$t(t,n,r),t};function Q2(t,e,n="validate"){if(lr(t)||Array.isArray(t)&&t.every(lr)||rr(t)&&!t)return{type:n,message:lr(t)?t:"",ref:e}}var _c=t=>zs(t)&&!Px(t)?t:{value:t,message:""},X2=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:x,validate:j,name:g,valueAsNumber:v,mount:f}=t._f,b=Ue(n,g);if(!f||e.has(g))return{};const w=l?l[0]:o,N=$=>{i&&w.reportValidity&&(w.setCustomValidity(rr($)?"":$||""),w.reportValidity())},P={},S=E0(o),C=bp(o),k=S||C,I=(v||P0(o))&&rs(o.value)&&rs(b)||kx(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=EO.bind(null,g,r,P),O=($,J,Y,q=ea.maxLength,de=ea.minLength)=>{const xe=$?J:Y;P[g]={type:$?q:de,message:xe,ref:o,...A($?q:de,xe)}};if(a?!Array.isArray(b)||!b.length:c&&(!k&&(I||Hn(b))||rr(b)&&!b||C&&!RO(l).isValid||S&&!IO(l).isValid)){const{value:$,message:J}=lr(c)?{value:!!c,message:c}:_c(c);if($&&(P[g]={type:ea.required,message:J,ref:w,...A(ea.required,J)},!r))return N(J),P}if(!I&&(!Hn(h)||!Hn(m))){let $,J;const Y=_c(m),q=_c(h);if(!Hn(b)&&!isNaN(b)){const de=o.valueAsNumber||b&&+b;Hn(Y.value)||($=de>Y.value),Hn(q.value)||(J=de<q.value)}else{const de=o.valueAsDate||new Date(b),xe=Q=>new Date(new Date().toDateString()+" "+Q),z=o.type=="time",R=o.type=="week";lr(Y.value)&&b&&($=z?xe(b)>xe(Y.value):R?b>Y.value:de>new Date(Y.value)),lr(q.value)&&b&&(J=z?xe(b)<xe(q.value):R?b<q.value:de<new Date(q.value))}if(($||J)&&(O(!!$,Y.message,q.message,ea.max,ea.min),!r))return N(P[g].message),P}if((d||u)&&!I&&(lr(b)||a&&Array.isArray(b))){const $=_c(d),J=_c(u),Y=!Hn($.value)&&b.length>+$.value,q=!Hn(J.value)&&b.length<+J.value;if((Y||q)&&(O(Y,$.message,J.message),!r))return N(P[g].message),P}if(x&&!I&&lr(b)){const{value:$,message:J}=_c(x);if(Px($)&&!b.match($)&&(P[g]={type:ea.pattern,message:J,ref:o,...A(ea.pattern,J)},!r))return N(J),P}if(j){if(Dn(j)){const $=await j(b,n),J=Q2($,w);if(J&&(P[g]={...J,...A(ea.validate,J.message)},!r))return N(J.message),P}else if(zs(j)){let $={};for(const J in j){if(!En($)&&!r)break;const Y=Q2(await j[J](b,n),w,J);Y&&($={...Y,...A(J,Y.message)},N(Y.message),r&&(P[g]=$))}if(!En($)&&(P[g]={ref:w,...$},!r))return P}}return N(!0),P};const IG={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function OG(t={}){let e={...IG,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=zs(e.defaultValues)||zs(e.values)?Os(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Os(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...u};let m={...h};const x={array:B2(),state:B2()},j=e.criteriaMode===ei.all,g=D=>H=>{clearTimeout(d),d=setTimeout(D,H)},v=async D=>{if(!o.keepIsValid&&!e.disabled&&(h.isValid||m.isValid||D)){let H;e.resolver?(H=En((await k()).errors),f()):H=await A(r,!0),H!==n.isValid&&x.state.next({isValid:H})}},f=(D,H)=>{!e.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((D||Array.from(l.mount)).forEach(ee=>{ee&&(H?$t(n.validatingFields,ee,H):Ms(n.validatingFields,ee))}),x.state.next({validatingFields:n.validatingFields,isValidating:!En(n.validatingFields)}))},b=(D,H=[],ee,De,Ee=!0,Se=!0)=>{if(De&&ee&&!e.disabled){if(o.action=!0,Se&&Array.isArray(Ue(r,D))){const Ke=ee(Ue(r,D),De.argA,De.argB);Ee&&$t(r,D,Ke)}if(Se&&Array.isArray(Ue(n.errors,D))){const Ke=ee(Ue(n.errors,D),De.argA,De.argB);Ee&&$t(n.errors,D,Ke),RG(n.errors,D)}if((h.touchedFields||m.touchedFields)&&Se&&Array.isArray(Ue(n.touchedFields,D))){const Ke=ee(Ue(n.touchedFields,D),De.argA,De.argB);Ee&&$t(n.touchedFields,D,Ke)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Fc(i,a)),x.state.next({name:D,isDirty:$(D,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else $t(a,D,H)},w=(D,H)=>{$t(n.errors,D,H),x.state.next({errors:n.errors})},N=D=>{n.errors=D,x.state.next({errors:n.errors,isValid:!1})},P=(D,H,ee,De)=>{const Ee=Ue(r,D);if(Ee){const Se=Ue(a,D,rs(ee)?Ue(i,D):ee);rs(Se)||De&&De.defaultChecked||H?$t(a,D,H?Se:H2(Ee._f)):q(D,Se),o.mount&&!o.action&&v()}},S=(D,H,ee,De,Ee)=>{let Se=!1,Ke=!1;const bt={name:D};if(!e.disabled){if(!ee||De){(h.isDirty||m.isDirty)&&(Ke=n.isDirty,n.isDirty=bt.isDirty=$(),Se=Ke!==bt.isDirty);const wt=ti(Ue(i,D),H);Ke=!!Ue(n.dirtyFields,D),wt?Ms(n.dirtyFields,D):$t(n.dirtyFields,D,!0),bt.dirtyFields=n.dirtyFields,Se=Se||(h.dirtyFields||m.dirtyFields)&&Ke!==!wt}if(ee){const wt=Ue(n.touchedFields,D);wt||($t(n.touchedFields,D,ee),bt.touchedFields=n.touchedFields,Se=Se||(h.touchedFields||m.touchedFields)&&wt!==ee)}Se&&Ee&&x.state.next(bt)}return Se?bt:{}},C=(D,H,ee,De)=>{const Ee=Ue(n.errors,D),Se=(h.isValid||m.isValid)&&rr(H)&&n.isValid!==H;if(e.delayError&&ee?(c=g(()=>w(D,ee)),c(e.delayError)):(clearTimeout(d),c=null,ee?$t(n.errors,D,ee):Ms(n.errors,D)),(ee?!ti(Ee,ee):Ee)||!En(De)||Se){const Ke={...De,...Se&&rr(H)?{isValid:H}:{},errors:n.errors,name:D};n={...n,...Ke},x.state.next(Ke)}},k=async D=>(f(D,!0),await e.resolver(a,e.context,kG(D||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),I=async D=>{const{errors:H}=await k(D);if(f(D),D)for(const ee of D){const De=Ue(H,ee);De?$t(n.errors,ee,De):Ms(n.errors,ee)}else n.errors=H;return H},A=async(D,H,ee={valid:!0})=>{for(const De in D){const Ee=D[De];if(Ee){const{_f:Se,...Ke}=Ee;if(Se){const bt=l.array.has(Se.name),wt=Ee._f&&PG(Ee._f);wt&&h.validatingFields&&f([Se.name],!0);const gt=await X2(Ee,l.disabled,a,j,e.shouldUseNativeValidation&&!H,bt);if(wt&&h.validatingFields&&f([Se.name]),gt[Se.name]&&(ee.valid=!1,H||t.shouldUseNativeValidation))break;!H&&(Ue(gt,Se.name)?bt?DG(n.errors,gt,Se.name):$t(n.errors,Se.name,gt[Se.name]):Ms(n.errors,Se.name))}!En(Ke)&&await A(Ke,H,ee)}}return ee.valid},O=()=>{for(const D of l.unMount){const H=Ue(r,D);H&&(H._f.refs?H._f.refs.every(ee=>!Rv(ee)):!Rv(H._f.ref))&&Oe(D)}l.unMount=new Set},$=(D,H)=>!e.disabled&&(D&&H&&$t(a,D,H),!ti(ue(),i)),J=(D,H,ee)=>Ib(D,l,{...o.mount?a:rs(H)?i:lr(D)?{[D]:H}:H},ee,H),Y=D=>S0(Ue(o.mount?a:i,D,e.shouldUnregister?Ue(i,D,[]):[])),q=(D,H,ee={})=>{const De=Ue(r,D);let Ee=H;if(De){const Se=De._f;Se&&(!Se.disabled&&$t(a,D,DO(H,Se)),Ee=kx(Se.ref)&&Hn(H)?"":H,AO(Se.ref)?[...Se.ref.options].forEach(Ke=>Ke.selected=Ee.includes(Ke.value)):Se.refs?bp(Se.ref)?Se.refs.forEach(Ke=>{(!Ke.defaultChecked||!Ke.disabled)&&(Array.isArray(Ee)?Ke.checked=!!Ee.find(bt=>bt===Ke.value):Ke.checked=Ee===Ke.value||!!Ee)}):Se.refs.forEach(Ke=>Ke.checked=Ke.value===Ee):P0(Se.ref)?Se.ref.value="":(Se.ref.value=Ee,Se.ref.type||x.state.next({name:D,values:Os(a)})))}(ee.shouldDirty||ee.shouldTouch)&&S(D,Ee,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Q(D)},de=(D,H,ee)=>{for(const De in H){if(!H.hasOwnProperty(De))return;const Ee=H[De],Se=D+"."+De,Ke=Ue(r,Se);(l.array.has(D)||zs(Ee)||Ke&&!Ke._f)&&!xl(Ee)?de(Se,Ee,ee):q(Se,Ee,ee)}},xe=(D,H,ee={})=>{const De=Ue(r,D),Ee=l.array.has(D),Se=Os(H);$t(a,D,Se),Ee?(x.array.next({name:D,values:Os(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&ee.shouldDirty&&x.state.next({name:D,dirtyFields:Fc(i,a),isDirty:$(D,Se)})):De&&!De._f&&!Hn(Se)?de(D,Se,ee):q(D,Se,ee),G2(D,l)?x.state.next({...n,name:D,values:Os(a)}):x.state.next({name:o.mount?D:void 0,values:Os(a)})},z=async D=>{o.mount=!0;const H=D.target;let ee=H.name,De=!0;const Ee=Ue(r,ee),Se=wt=>{De=Number.isNaN(wt)||xl(wt)&&isNaN(wt.getTime())||ti(wt,Ue(a,ee,wt))},Ke=W2(e.mode),bt=W2(e.reValidateMode);if(Ee){let wt,gt;const zt=H.type?H2(Ee._f):_O(D),qs=D.type===_x.BLUR||D.type===_x.FOCUS_OUT,Qi=!EG(Ee._f)&&!e.resolver&&!Ue(n.errors,ee)&&!Ee._f.deps||FG(qs,Ue(n.touchedFields,ee),n.isSubmitted,bt,Ke),Ba=G2(ee,l,qs);$t(a,ee,zt),qs?(!H||!H.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(D),c&&c(0)):Ee._f.onChange&&Ee._f.onChange(D);const Va=S(ee,zt,qs),Sn=!En(Va)||Ba;if(!qs&&x.state.next({name:ee,type:D.type,values:Os(a)}),Qi)return(h.isValid||m.isValid)&&(e.mode==="onBlur"?qs&&v():qs||v()),Sn&&x.state.next({name:ee,...Ba?{}:Va});if(!qs&&Ba&&x.state.next({...n}),e.resolver){const{errors:qt}=await k([ee]);if(f([ee]),Se(zt),De){const Ps=Y2(n.errors,r,ee),rt=Y2(qt,r,Ps.name||ee);wt=rt.error,ee=rt.name,gt=En(qt)}}else f([ee],!0),wt=(await X2(Ee,l.disabled,a,j,e.shouldUseNativeValidation))[ee],f([ee]),Se(zt),De&&(wt?gt=!1:(h.isValid||m.isValid)&&(gt=await A(r,!0)));De&&(Ee._f.deps&&(!Array.isArray(Ee._f.deps)||Ee._f.deps.length>0)&&Q(Ee._f.deps),C(ee,gt,wt,Va))}},R=(D,H)=>{if(Ue(n.errors,H)&&D.focus)return D.focus(),1},Q=async(D,H={})=>{let ee,De;const Ee=Ch(D);if(e.resolver){const Se=await I(rs(D)?D:Ee);ee=En(Se),De=D?!Ee.some(Ke=>Ue(Se,Ke)):ee}else D?(De=(await Promise.all(Ee.map(async Se=>{const Ke=Ue(r,Se);return await A(Ke&&Ke._f?{[Se]:Ke}:Ke)}))).every(Boolean),!(!De&&!n.isValid)&&v()):De=ee=await A(r);return x.state.next({...!lr(D)||(h.isValid||m.isValid)&&ee!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:ee}:{},errors:n.errors}),H.shouldFocus&&!De&&_h(r,R,D?Ee:l.mount),De},ue=(D,H)=>{let ee={...o.mount?a:i};return H&&(ee=TO(H.dirtyFields?n.dirtyFields:n.touchedFields,ee)),rs(D)?ee:lr(D)?Ue(ee,D):D.map(De=>Ue(ee,De))},F=(D,H)=>({invalid:!!Ue((H||n).errors,D),isDirty:!!Ue((H||n).dirtyFields,D),error:Ue((H||n).errors,D),isValidating:!!Ue(n.validatingFields,D),isTouched:!!Ue((H||n).touchedFields,D)}),ve=D=>{D&&Ch(D).forEach(H=>Ms(n.errors,H)),x.state.next({errors:D?n.errors:{}})},Me=(D,H,ee)=>{const De=(Ue(r,D,{_f:{}})._f||{}).ref,Ee=Ue(n.errors,D)||{},{ref:Se,message:Ke,type:bt,...wt}=Ee;$t(n.errors,D,{...wt,...H,ref:De}),x.state.next({name:D,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&De&&De.focus&&De.focus()},et=(D,H)=>Dn(D)?x.state.subscribe({next:ee=>"values"in ee&&D(J(void 0,H),ee)}):J(D,H,!0),se=D=>x.state.subscribe({next:H=>{AG(D.name,H.name,D.exact)&&TG(H,D.formState||h,Is,D.reRenderRoot)&&D.callback({values:{...a},...n,...H,defaultValues:i})}}).unsubscribe,je=D=>(o.mount=!0,m={...m,...D.formState},se({...D,formState:{...u,...D.formState}})),Oe=(D,H={})=>{for(const ee of D?Ch(D):l.mount)l.mount.delete(ee),l.array.delete(ee),H.keepValue||(Ms(r,ee),Ms(a,ee)),!H.keepError&&Ms(n.errors,ee),!H.keepDirty&&Ms(n.dirtyFields,ee),!H.keepTouched&&Ms(n.touchedFields,ee),!H.keepIsValidating&&Ms(n.validatingFields,ee),!e.shouldUnregister&&!H.keepDefaultValue&&Ms(i,ee);x.state.next({values:Os(a)}),x.state.next({...n,...H.keepDirty?{isDirty:$()}:{}}),!H.keepIsValid&&v()},ne=({disabled:D,name:H})=>{(rr(D)&&o.mount||D||l.disabled.has(H))&&(D?l.disabled.add(H):l.disabled.delete(H))},he=(D,H={})=>{let ee=Ue(r,D);const De=rr(H.disabled)||rr(e.disabled);return $t(r,D,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:D}},name:D,mount:!0,...H}}),l.mount.add(D),ee?ne({disabled:rr(H.disabled)?H.disabled:e.disabled,name:D}):P(D,!0,H.value),{...De?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Bu(H.min),max:Bu(H.max),minLength:Bu(H.minLength),maxLength:Bu(H.maxLength),pattern:Bu(H.pattern)}:{},name:D,onChange:z,onBlur:z,ref:Ee=>{if(Ee){he(D,H),ee=Ue(r,D);const Se=rs(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Ke=NG(Se),bt=ee._f.refs||[];if(Ke?bt.find(wt=>wt===Se):Se===ee._f.ref)return;$t(r,D,{_f:{...ee._f,...Ke?{refs:[...bt.filter(Rv),Se,...Array.isArray(Ue(i,D))?[{}]:[]],ref:{type:Se.type,name:D}}:{ref:Se}}}),P(D,!1,void 0,Se)}else ee=Ue(r,D,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(kO(l.array,D)&&o.action)&&l.unMount.add(D)}}},Fe=()=>e.shouldFocusError&&_h(r,R,l.mount),ye=D=>{rr(D)&&(x.state.next({disabled:D}),_h(r,(H,ee)=>{const De=Ue(r,ee);De&&(H.disabled=De._f.disabled||D,Array.isArray(De._f.refs)&&De._f.refs.forEach(Ee=>{Ee.disabled=De._f.disabled||D}))},0,!1))},Ye=(D,H)=>async ee=>{let De;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let Ee=Os(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:Ke}=await k();f(),n.errors=Se,Ee=Os(Ke)}else await A(r);if(l.disabled.size)for(const Se of l.disabled)Ms(Ee,Se);if(Ms(n.errors,"root"),En(n.errors)){x.state.next({errors:{}});try{await D(Ee,ee)}catch(Se){De=Se}}else H&&await H({...n.errors},ee),Fe(),setTimeout(Fe);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},st=(D,H={})=>{Ue(r,D)&&(rs(H.defaultValue)?xe(D,Os(Ue(i,D))):(xe(D,H.defaultValue),$t(i,D,Os(H.defaultValue))),H.keepTouched||Ms(n.touchedFields,D),H.keepDirty||(Ms(n.dirtyFields,D),n.isDirty=H.defaultValue?$(D,Os(Ue(i,D))):$()),H.keepError||(Ms(n.errors,D),h.isValid&&v()),x.state.next({...n}))},kt=(D,H={})=>{const ee=D?Os(D):i,De=Os(ee),Ee=En(D),Se=Ee?i:De;if(H.keepDefaultValues||(i=ee),!H.keepValues){if(H.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(Fc(i,a))]);for(const bt of Array.from(Ke)){const wt=Ue(n.dirtyFields,bt),gt=Ue(a,bt),zt=Ue(Se,bt);wt&&!rs(gt)?$t(Se,bt,gt):!wt&&!rs(zt)&&xe(bt,zt)}}else{if(N0&&rs(D))for(const Ke of l.mount){const bt=Ue(r,Ke);if(bt&&bt._f){const wt=Array.isArray(bt._f.refs)?bt._f.refs[0]:bt._f.ref;if(kx(wt)){const gt=wt.closest("form");if(gt){gt.reset();break}}}}if(H.keepFieldsRef)for(const Ke of l.mount)xe(Ke,Ue(Se,Ke));else r={}}a=e.shouldUnregister?H.keepDefaultValues?Os(i):{}:Os(Se),x.array.next({values:{...Se}}),x.state.next({values:{...Se}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!e.shouldUnregister&&!En(Se),o.watch=!!e.shouldUnregister,o.keepIsValid=!!H.keepIsValid,o.action=!1,H.keepErrors||(n.errors={}),x.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!ti(D,i)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Fc(i,a):n.dirtyFields:H.keepDefaultValues&&D?Fc(i,D):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Lt=(D,H)=>kt(Dn(D)?D(a):D,{...e.resetOptions,...H}),Rt=(D,H={})=>{const ee=Ue(r,D),De=ee&&ee._f;if(De){const Ee=De.refs?De.refs[0]:De.ref;Ee.focus&&setTimeout(()=>{Ee.focus(),H.shouldSelect&&Dn(Ee.select)&&Ee.select()})}},Is=D=>{n={...n,...D}},re={control:{register:he,unregister:Oe,getFieldState:F,handleSubmit:Ye,setError:Me,_subscribe:se,_runSchema:k,_updateIsValidating:f,_focusError:Fe,_getWatch:J,_getDirty:$,_setValid:v,_setFieldArray:b,_setDisabledField:ne,_setErrors:N,_getFieldArray:Y,_reset:kt,_resetDefaultValues:()=>Dn(e.defaultValues)&&e.defaultValues().then(D=>{Lt(D,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:ye,_subjects:x,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(D){o=D},get _defaultValues(){return i},get _names(){return l},set _names(D){l=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:je,trigger:Q,register:he,handleSubmit:Ye,watch:et,setValue:xe,getValues:ue,reset:Lt,resetField:st,clearErrors:ve,unregister:Oe,setError:Me,setFocus:Rt,getFieldState:F};return{...re,formControl:re}}function ar(t={}){const e=Ge.useRef(void 0),n=Ge.useRef(void 0),[r,i]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:Dn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Dn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Dn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=OG(t);e.current={...l,formState:r}}const a=e.current.control;return a._options=t,k0(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Ge.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ge.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Ge.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Ge.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Ge.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ge.useEffect(()=>{var o;t.values&&!ti(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),Ge.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=PO(r,a),e.current}const Z2=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ue(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},OO=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Z2(r.ref,n,t):r.refs&&r.refs.forEach(i=>Z2(i,n,t))}},MG=(t,e)=>{e.shouldUseNativeValidation&&OO(t,e);const n={};for(const r in t){const i=Ue(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(LG(e.names||Object.keys(t),r)){const o=Object.assign({},Ue(n,r));$t(o,"root",a),$t(n,r,o)}else $t(n,r,a)}return n},LG=(t,e)=>t.some(n=>n.startsWith(e+"."));var $G=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=EO(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},or=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&OO({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:MG($G(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},St;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(St||(St={}));var Lb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Lb||(Lb={}));const qe=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oa=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return Number.isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},Ce=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),UG=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class mr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof mr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}mr.create=t=>new mr(t);const lu=(t,e)=>{let n;switch(t.code){case Ce.invalid_type:t.received===qe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,St.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(t.keys,", ")}`;break;case Ce.invalid_union:n="Invalid input";break;case Ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(t.options)}`;break;case Ce.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(t.options)}, received '${t.received}'`;break;case Ce.invalid_arguments:n="Invalid function arguments";break;case Ce.invalid_return_type:n="Invalid function return type";break;case Ce.invalid_date:n="Invalid date";break;case Ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:St.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ce.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ce.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ce.custom:n="Invalid input";break;case Ce.invalid_intersection_types:n="Intersection results could not be merged";break;case Ce.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ce.not_finite:n="Number must be finite";break;default:n=e.defaultError,St.assertNever(t)}return{message:n}};let MO=lu;function BG(t){MO=t}function Ex(){return MO}const Tx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},VG=[];function Be(t,e){const n=Ex(),r=Tx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===lu?void 0:lu].filter(i=>!!i)});t.common.issues.push(r)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return wn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return at;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const at=Object.freeze({status:"aborted"}),Wc=t=>({status:"dirty",value:t}),Ln=t=>({status:"valid",value:t}),$b=t=>t.status==="aborted",Ub=t=>t.status==="dirty",Zl=t=>t.status==="valid",rm=t=>typeof Promise<"u"&&t instanceof Promise;var Qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Qe||(Qe={}));class Hi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J2=(t,e)=>{if(Zl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new mr(t.common.issues);return this._error=n,this._error}}};function mt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class xt{get description(){return this._def.description}_getType(e){return oa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wn,ctx:{common:e.parent.common,data:e.data,parsedType:oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(rm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return J2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oa(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Zl(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Zl(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oa(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(rm(i)?i:Promise.resolve(i));return J2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Ce.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new hi({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return $i.create(this,this._def)}nullable(){return Lo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ai.create(this)}promise(){return du.create(this,this._def)}or(e){return lm.create([this,e],this._def)}and(e){return cm.create(this,e,this._def)}transform(e){return new hi({...mt(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new pm({...mt(this._def),innerType:this,defaultValue:n,typeName:lt.ZodDefault})}brand(){return new T0({typeName:lt.ZodBranded,type:this,...mt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new fm({...mt(this._def),innerType:this,catchValue:n,typeName:lt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wp.create(this,e)}readonly(){return xm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zG=/^c[^\s-]{8,}$/i,qG=/^[0-9a-z]+$/,HG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,WG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KG=/^[a-z0-9_-]{21}$/i,GG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,QG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dv;const ZG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,LO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rY=new RegExp(`^${LO}$`);function $O(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function iY(t){return new RegExp(`^${$O(t)}$`)}function UO(t){let e=`${LO}T${$O(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function aY(t,e){return!!((e==="v4"||!e)&&ZG.test(t)||(e==="v6"||!e)&&eY.test(t))}function oY(t,e){if(!GG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function lY(t,e){return!!((e==="v4"||!e)&&JG.test(t)||(e==="v6"||!e)&&tY.test(t))}class ni extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const a=this._getOrReturnCtx(e);return Be(a,{code:Ce.invalid_type,expected:qe.string,received:a.parsedType}),at}const r=new wn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Be(i,{code:Ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Be(i,{code:Ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")QG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"email",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Dv||(Dv=new RegExp(XG,"u")),Dv.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"emoji",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")WG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"uuid",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")KG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"nanoid",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")zG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"cuid",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")qG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"cuid2",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")HG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"ulid",code:Ce.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Be(i,{validation:"url",code:Ce.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"regex",code:Ce.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?UO(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?rY.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?iY(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?YG.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"duration",code:Ce.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?aY(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"ip",code:Ce.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?oY(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"jwt",code:Ce.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?lY(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"cidr",code:Ce.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?sY.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"base64",code:Ce.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?nY.test(e.data)||(i=this._getOrReturnCtx(e,i),Be(i,{validation:"base64url",code:Ce.invalid_string,message:a.message}),r.dirty()):St.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ce.invalid_string,...Qe.errToObj(r)})}_addCheck(e){return new ni({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Qe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Qe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Qe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Qe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Qe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Qe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Qe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Qe.errToObj(n)})}nonempty(e){return this.min(1,Qe.errToObj(e))}trim(){return new ni({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ni({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ni({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ni.create=t=>new ni({checks:[],typeName:lt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...mt(t)});function cY(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Io extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const a=this._getOrReturnCtx(e);return Be(a,{code:Ce.invalid_type,expected:qe.number,received:a.parsedType}),at}let r;const i=new wn;for(const a of this._def.checks)a.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?cY(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.not_finite,message:a.message}),i.dirty()):St.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,i){return new Io({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(i)}]})}_addCheck(e){return new Io({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Io.create=t=>new Io({checks:[],typeName:lt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...mt(t)});class Oo extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qe.bigint)return this._getInvalidInput(e);let r;const i=new wn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Be(r,{code:Ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):St.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Be(n,{code:Ce.invalid_type,expected:qe.bigint,received:n.parsedType}),at}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,i){return new Oo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(i)}]})}_addCheck(e){return new Oo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Oo.create=t=>new Oo({checks:[],typeName:lt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...mt(t)});class im extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.boolean,received:r.parsedType}),at}return Ln(e.data)}}im.create=t=>new im({typeName:lt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...mt(t)});class Jl extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const a=this._getOrReturnCtx(e);return Be(a,{code:Ce.invalid_type,expected:qe.date,received:a.parsedType}),at}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Be(a,{code:Ce.invalid_date}),at}const r=new wn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Be(i,{code:Ce.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):St.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jl.create=t=>new Jl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:lt.ZodDate,...mt(t)});class Ax extends xt{_parse(e){if(this._getType(e)!==qe.symbol){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.symbol,received:r.parsedType}),at}return Ln(e.data)}}Ax.create=t=>new Ax({typeName:lt.ZodSymbol,...mt(t)});class am extends xt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.undefined,received:r.parsedType}),at}return Ln(e.data)}}am.create=t=>new am({typeName:lt.ZodUndefined,...mt(t)});class om extends xt{_parse(e){if(this._getType(e)!==qe.null){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.null,received:r.parsedType}),at}return Ln(e.data)}}om.create=t=>new om({typeName:lt.ZodNull,...mt(t)});class cu extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ln(e.data)}}cu.create=t=>new cu({typeName:lt.ZodAny,...mt(t)});class Bl extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ln(e.data)}}Bl.create=t=>new Bl({typeName:lt.ZodUnknown,...mt(t)});class Da extends xt{_parse(e){const n=this._getOrReturnCtx(e);return Be(n,{code:Ce.invalid_type,expected:qe.never,received:n.parsedType}),at}}Da.create=t=>new Da({typeName:lt.ZodNever,...mt(t)});class Fx extends xt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.void,received:r.parsedType}),at}return Ln(e.data)}}Fx.create=t=>new Fx({typeName:lt.ZodVoid,...mt(t)});class ai extends xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==qe.array)return Be(n,{code:Ce.invalid_type,expected:qe.array,received:n.parsedType}),at;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Be(n,{code:o?Ce.too_big:Ce.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Be(n,{code:Ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Be(n,{code:Ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Hi(n,o,n.path,l)))).then(o=>wn.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Hi(n,o,n.path,l)));return wn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ai({...this._def,minLength:{value:e,message:Qe.toString(n)}})}max(e,n){return new ai({...this._def,maxLength:{value:e,message:Qe.toString(n)}})}length(e,n){return new ai({...this._def,exactLength:{value:e,message:Qe.toString(n)}})}nonempty(e){return this.min(1,e)}}ai.create=(t,e)=>new ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...mt(e)});function Rc(t){if(t instanceof ps){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$i.create(Rc(r))}return new ps({...t._def,shape:()=>e})}else return t instanceof ai?new ai({...t._def,type:Rc(t.element)}):t instanceof $i?$i.create(Rc(t.unwrap())):t instanceof Lo?Lo.create(Rc(t.unwrap())):t instanceof Wi?Wi.create(t.items.map(e=>Rc(e))):t}class ps extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=St.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==qe.object){const d=this._getOrReturnCtx(e);return Be(d,{code:Ce.invalid_type,expected:qe.object,received:d.parsedType}),at}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Da&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Hi(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Da){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Be(i,{code:Ce.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Hi(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>wn.mergeObjectSync(r,d)):wn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Qe.errToObj,new ps({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Qe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ps({...this._def,unknownKeys:"strip"})}passthrough(){return new ps({...this._def,unknownKeys:"passthrough"})}extend(e){return new ps({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ps({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:lt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ps({...this._def,catchall:e})}pick(e){const n={};for(const r of St.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ps({...this._def,shape:()=>n})}omit(e){const n={};for(const r of St.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ps({...this._def,shape:()=>n})}deepPartial(){return Rc(this)}partial(e){const n={};for(const r of St.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ps({...this._def,shape:()=>n})}required(e){const n={};for(const r of St.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof $i;)a=a._def.innerType;n[r]=a}return new ps({...this._def,shape:()=>n})}keyof(){return BO(St.objectKeys(this.shape))}}ps.create=(t,e)=>new ps({shape:()=>t,unknownKeys:"strip",catchall:Da.create(),typeName:lt.ZodObject,...mt(e)});ps.strictCreate=(t,e)=>new ps({shape:()=>t,unknownKeys:"strict",catchall:Da.create(),typeName:lt.ZodObject,...mt(e)});ps.lazycreate=(t,e)=>new ps({shape:t,unknownKeys:"strip",catchall:Da.create(),typeName:lt.ZodObject,...mt(e)});class lm extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new mr(l.ctx.common.issues));return Be(n,{code:Ce.invalid_union,unionErrors:o}),at}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new mr(c));return Be(n,{code:Ce.invalid_union,unionErrors:l}),at}}get options(){return this._def.options}}lm.create=(t,e)=>new lm({options:t,typeName:lt.ZodUnion,...mt(e)});const ra=t=>t instanceof um?ra(t.schema):t instanceof hi?ra(t.innerType()):t instanceof hm?[t.value]:t instanceof Mo?t.options:t instanceof mm?St.objectValues(t.enum):t instanceof pm?ra(t._def.innerType):t instanceof am?[void 0]:t instanceof om?[null]:t instanceof $i?[void 0,...ra(t.unwrap())]:t instanceof Lo?[null,...ra(t.unwrap())]:t instanceof T0||t instanceof xm?ra(t.unwrap()):t instanceof fm?ra(t._def.innerType):[];class Yg extends xt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return Be(n,{code:Ce.invalid_type,expected:qe.object,received:n.parsedType}),at;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Be(n,{code:Ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=ra(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Yg({typeName:lt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...mt(r)})}}function Bb(t,e){const n=oa(t),r=oa(e);if(t===e)return{valid:!0,data:t};if(n===qe.object&&r===qe.object){const i=St.objectKeys(e),a=St.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Bb(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===qe.array&&r===qe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Bb(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===qe.date&&r===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cm extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if($b(a)||$b(o))return at;const l=Bb(a.value,o.value);return l.valid?((Ub(a)||Ub(o))&&n.dirty(),{status:n.value,value:l.data}):(Be(r,{code:Ce.invalid_intersection_types}),at)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cm.create=(t,e,n)=>new cm({left:t,right:e,typeName:lt.ZodIntersection,...mt(n)});class Wi extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.array)return Be(r,{code:Ce.invalid_type,expected:qe.array,received:r.parsedType}),at;if(r.data.length<this._def.items.length)return Be(r,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&r.data.length>this._def.items.length&&(Be(r,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Hi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>wn.mergeArray(n,o)):wn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Wi({...this._def,rest:e})}}Wi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:t,typeName:lt.ZodTuple,rest:null,...mt(e)})};class dm extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.object)return Be(r,{code:Ce.invalid_type,expected:qe.object,received:r.parsedType}),at;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Hi(r,l,r.path,l)),value:o._parse(new Hi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?wn.mergeObjectAsync(n,i):wn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof xt?new dm({keyType:e,valueType:n,typeName:lt.ZodRecord,...mt(r)}):new dm({keyType:ni.create(),valueType:e,typeName:lt.ZodRecord,...mt(n)})}}class Rx extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.map)return Be(r,{code:Ce.invalid_type,expected:qe.map,received:r.parsedType}),at;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Hi(r,l,r.path,[d,"key"])),value:a._parse(new Hi(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return at;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Rx.create=(t,e,n)=>new Rx({valueType:e,keyType:t,typeName:lt.ZodMap,...mt(n)});class ec extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.set)return Be(r,{code:Ce.invalid_type,expected:qe.set,received:r.parsedType}),at;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Be(r,{code:Ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Be(r,{code:Ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return at;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Hi(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ec({...this._def,minSize:{value:e,message:Qe.toString(n)}})}max(e,n){return new ec({...this._def,maxSize:{value:e,message:Qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ec.create=(t,e)=>new ec({valueType:t,minSize:null,maxSize:null,typeName:lt.ZodSet,...mt(e)});class od extends xt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.function)return Be(n,{code:Ce.invalid_type,expected:qe.function,received:n.parsedType}),at;function r(l,c){return Tx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ex(),lu].filter(d=>!!d),issueData:{code:Ce.invalid_arguments,argumentsError:c}})}function i(l,c){return Tx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ex(),lu].filter(d=>!!d),issueData:{code:Ce.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof du){const l=this;return Ln(async function(...c){const d=new mr([]),u=await l._def.args.parseAsync(c,a).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Ln(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new mr([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new mr([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new od({...this._def,args:Wi.create(e).rest(Bl.create())})}returns(e){return new od({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new od({args:e||Wi.create([]).rest(Bl.create()),returns:n||Bl.create(),typeName:lt.ZodFunction,...mt(r)})}}class um extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}um.create=(t,e)=>new um({getter:t,typeName:lt.ZodLazy,...mt(e)});class hm extends xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Be(n,{received:n.data,code:Ce.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}hm.create=(t,e)=>new hm({value:t,typeName:lt.ZodLiteral,...mt(e)});function BO(t,e){return new Mo({values:t,typeName:lt.ZodEnum,...mt(e)})}class Mo extends xt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Be(n,{expected:St.joinValues(r),received:n.parsedType,code:Ce.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Be(n,{received:n.data,code:Ce.invalid_enum_value,options:r}),at}return Ln(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Mo.create(e,{...this._def,...n})}exclude(e,n=this._def){return Mo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Mo.create=BO;class mm extends xt{_parse(e){const n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==qe.string&&r.parsedType!==qe.number){const i=St.objectValues(n);return Be(r,{expected:St.joinValues(i),received:r.parsedType,code:Ce.invalid_type}),at}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=St.objectValues(n);return Be(r,{received:r.data,code:Ce.invalid_enum_value,options:i}),at}return Ln(e.data)}get enum(){return this._def.values}}mm.create=(t,e)=>new mm({values:t,typeName:lt.ZodNativeEnum,...mt(e)});class du extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.promise&&n.common.async===!1)return Be(n,{code:Ce.invalid_type,expected:qe.promise,received:n.parsedType}),at;const r=n.parsedType===qe.promise?n.data:Promise.resolve(n.data);return Ln(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}du.create=(t,e)=>new du({type:t,typeName:lt.ZodPromise,...mt(e)});class hi extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Be(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?at:c.status==="dirty"||n.value==="dirty"?Wc(c.value):c});{if(n.value==="aborted")return at;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?at:l.status==="dirty"||n.value==="dirty"?Wc(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?at:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?at:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Zl(o))return at;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Zl(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):at);St.assertNever(i)}}hi.create=(t,e,n)=>new hi({schema:t,typeName:lt.ZodEffects,effect:e,...mt(n)});hi.createWithPreprocess=(t,e,n)=>new hi({schema:e,effect:{type:"preprocess",transform:t},typeName:lt.ZodEffects,...mt(n)});class $i extends xt{_parse(e){return this._getType(e)===qe.undefined?Ln(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$i.create=(t,e)=>new $i({innerType:t,typeName:lt.ZodOptional,...mt(e)});class Lo extends xt{_parse(e){return this._getType(e)===qe.null?Ln(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lo.create=(t,e)=>new Lo({innerType:t,typeName:lt.ZodNullable,...mt(e)});class pm extends xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===qe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pm.create=(t,e)=>new pm({innerType:t,typeName:lt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...mt(e)});class fm extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fm.create=(t,e)=>new fm({innerType:t,typeName:lt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...mt(e)});class Dx extends xt{_parse(e){if(this._getType(e)!==qe.nan){const r=this._getOrReturnCtx(e);return Be(r,{code:Ce.invalid_type,expected:qe.nan,received:r.parsedType}),at}return{status:"valid",value:e.data}}}Dx.create=t=>new Dx({typeName:lt.ZodNaN,...mt(t)});const dY=Symbol("zod_brand");class T0 extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class wp extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?at:a.status==="dirty"?(n.dirty(),Wc(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?at:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new wp({in:e,out:n,typeName:lt.ZodPipeline})}}class xm extends xt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Zl(i)&&(i.value=Object.freeze(i.value)),i);return rm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}xm.create=(t,e)=>new xm({innerType:t,typeName:lt.ZodReadonly,...mt(e)});function e_(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function A0(t,e={},n){return t?cu.create().superRefine((r,i)=>{const a=t(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=e_(e,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=e_(e,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):cu.create()}const uY={object:ps.lazycreate};var lt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(lt||(lt={}));const VO=(t,e={message:`Input not instance of ${t.name}`})=>A0(n=>n instanceof t,e),ie=ni.create,tn=Io.create,hY=Dx.create,mY=Oo.create,Na=im.create,pY=Jl.create,fY=Ax.create,xY=am.create,zO=om.create,Vl=cu.create,gY=Bl.create,yY=Da.create,vY=Fx.create,mi=ai.create,Jn=ps.create,jY=ps.strictCreate,F0=lm.create,bY=Yg.create,wY=cm.create,NY=Wi.create,qO=dm.create,SY=Rx.create,CY=ec.create,_Y=od.create,kY=um.create,$r=hm.create,nn=Mo.create,PY=mm.create,EY=du.create,t_=hi.create,TY=$i.create,AY=Lo.create,FY=hi.createWithPreprocess,RY=wp.create,DY=()=>ie().optional(),IY=()=>tn().optional(),OY=()=>Na().optional(),us={string:t=>ni.create({...t,coerce:!0}),number:t=>Io.create({...t,coerce:!0}),boolean:t=>im.create({...t,coerce:!0}),bigint:t=>Oo.create({...t,coerce:!0}),date:t=>Jl.create({...t,coerce:!0})},MY=at,LY=Object.freeze(Object.defineProperty({__proto__:null,BRAND:dY,DIRTY:Wc,EMPTY_PATH:VG,INVALID:at,NEVER:MY,OK:Ln,ParseStatus:wn,Schema:xt,ZodAny:cu,ZodArray:ai,ZodBigInt:Oo,ZodBoolean:im,ZodBranded:T0,ZodCatch:fm,ZodDate:Jl,ZodDefault:pm,ZodDiscriminatedUnion:Yg,ZodEffects:hi,ZodEnum:Mo,ZodError:mr,get ZodFirstPartyTypeKind(){return lt},ZodFunction:od,ZodIntersection:cm,ZodIssueCode:Ce,ZodLazy:um,ZodLiteral:hm,ZodMap:Rx,ZodNaN:Dx,ZodNativeEnum:mm,ZodNever:Da,ZodNull:om,ZodNullable:Lo,ZodNumber:Io,ZodObject:ps,ZodOptional:$i,ZodParsedType:qe,ZodPipeline:wp,ZodPromise:du,ZodReadonly:xm,ZodRecord:dm,ZodSchema:xt,ZodSet:ec,ZodString:ni,ZodSymbol:Ax,ZodTransformer:hi,ZodTuple:Wi,ZodType:xt,ZodUndefined:am,ZodUnion:lm,ZodUnknown:Bl,ZodVoid:Fx,addIssueToContext:Be,any:Vl,array:mi,bigint:mY,boolean:Na,coerce:us,custom:A0,date:pY,datetimeRegex:UO,defaultErrorMap:lu,discriminatedUnion:bY,effect:t_,enum:nn,function:_Y,getErrorMap:Ex,getParsedType:oa,instanceof:VO,intersection:wY,isAborted:$b,isAsync:rm,isDirty:Ub,isValid:Zl,late:uY,lazy:kY,literal:$r,makeIssue:Tx,map:SY,nan:hY,nativeEnum:PY,never:yY,null:zO,nullable:AY,number:tn,object:Jn,get objectUtil(){return Lb},oboolean:OY,onumber:IY,optional:TY,ostring:DY,pipeline:RY,preprocess:FY,promise:EY,quotelessJson:UG,record:qO,set:CY,setErrorMap:BG,strictObject:jY,string:ie,symbol:fY,transformer:t_,tuple:NY,undefined:xY,union:F0,unknown:gY,get util(){return St},void:vY},Symbol.toStringTag,{value:"Module"}));var $Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UY=$Y.reduce((t,e)=>{const n=gp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),BY="Separator",s_="horizontal",VY=["horizontal","vertical"],HO=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=s_,...i}=t,a=zY(r)?r:s_,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(UY.div,{"data-orientation":a,...l,...i,ref:e})});HO.displayName=BY;function zY(t){return VY.includes(t)}var WO=HO;const nt=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(WO,{ref:i,decorative:n,orientation:e,className:Re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));nt.displayName=WO.displayName;function qY(t){const e=HY(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(KY);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function HY(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=YY(i),l=GY(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WY=Symbol("radix.slottable");function KY(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WY}function GY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function YY(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qg="Dialog",[KO,GO]=Nn(Qg),[QY,xi]=KO(Qg),YO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d,u]=fr({prop:r,defaultProp:i??!1,onChange:a,caller:Qg});return s.jsx(QY,{scope:e,triggerRef:l,contentRef:c,contentId:ur(),titleId:ur(),descriptionId:ur(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};YO.displayName=Qg;var QO="DialogTrigger",XO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xi(QO,n),a=ut(e,i.triggerRef);return s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":I0(i.open),...r,ref:a,onClick:Ae(t.onClick,i.onOpenToggle)})});XO.displayName=QO;var R0="DialogPortal",[XY,ZO]=KO(R0,{forceMount:void 0}),JO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=xi(R0,e);return s.jsx(XY,{scope:e,forceMount:n,children:p.Children.map(r,o=>s.jsx(mn,{present:n||a.open,children:s.jsx(up,{asChild:!0,container:i,children:o})}))})};JO.displayName=R0;var Ix="DialogOverlay",eM=p.forwardRef((t,e)=>{const n=ZO(Ix,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=xi(Ix,t.__scopeDialog);return a.modal?s.jsx(mn,{present:r||a.open,children:s.jsx(JY,{...i,ref:e})}):null});eM.displayName=Ix;var ZY=qY("DialogOverlay.RemoveScroll"),JY=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xi(Ix,n);return s.jsx(zg,{as:ZY,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Xe.div,{"data-state":I0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),tc="DialogContent",tM=p.forwardRef((t,e)=>{const n=ZO(tc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=xi(tc,t.__scopeDialog);return s.jsx(mn,{present:r||a.open,children:a.modal?s.jsx(eQ,{...i,ref:e}):s.jsx(tQ,{...i,ref:e})})});tM.displayName=tc;var eQ=p.forwardRef((t,e)=>{const n=xi(tc,t.__scopeDialog),r=p.useRef(null),i=ut(e,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return f0(a)},[]),s.jsx(sM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,a=>a.preventDefault())})}),tQ=p.forwardRef((t,e)=>{const n=xi(tc,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(sM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),sM=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=xi(tc,n),c=p.useRef(null),d=ut(e,c);return p0(),s.jsxs(s.Fragment,{children:[s.jsx(Ug,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(vu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":I0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(nQ,{titleId:l.titleId}),s.jsx(iQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),D0="DialogTitle",nM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xi(D0,n);return s.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});nM.displayName=D0;var rM="DialogDescription",iM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xi(rM,n);return s.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});iM.displayName=rM;var aM="DialogClose",oM=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xi(aM,n);return s.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>i.onOpenChange(!1))})});oM.displayName=aM;function I0(t){return t?"open":"closed"}var lM="DialogTitleWarning",[sQ,cM]=OV(lM,{contentName:tc,titleName:D0,docsSlug:"dialog"}),nQ=({titleId:t})=>{const e=cM(lM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rQ="DialogDescriptionWarning",iQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cM(rQ).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dM=YO,uM=XO,hM=JO,O0=eM,M0=tM,L0=nM,$0=iM,U0=oM;const Jt=dM,mM=uM,aQ=hM,pM=p.forwardRef(({className:t,...e},n)=>s.jsx(O0,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pM.displayName=O0.displayName;const Kt=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(aQ,{children:[s.jsx(pM,{}),s.jsxs(M0,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(U0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(fp,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kt.displayName=M0.displayName;const es=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});es.displayName="DialogHeader";const xn=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xn.displayName="DialogFooter";const ts=p.forwardRef(({className:t,...e},n)=>s.jsx(L0,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));ts.displayName=L0.displayName;const is=p.forwardRef(({className:t,...e},n)=>s.jsx($0,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));is.displayName=$0.displayName;const B=p.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Re("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));B.displayName="Input";const as=p.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));as.displayName="Textarea";var oQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lQ=oQ.reduce((t,e)=>{const n=gp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),cQ="Label",fM=p.forwardRef((t,e)=>s.jsx(lQ.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fM.displayName=cQ;var xM=fM;const dQ=mp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=p.forwardRef(({className:t,...e},n)=>s.jsx(xM,{ref:n,className:Re(dQ(),t),...e}));ae.displayName=xM.displayName;const Jr=yG,gM=p.createContext({}),ce=({...t})=>s.jsx(gM.Provider,{value:{name:t.name},children:s.jsx(wG,{...t})}),Xg=()=>{const t=p.useContext(gM),e=p.useContext(yM),{getFieldState:n,formState:r}=Gg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},yM=p.createContext({}),oe=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return s.jsx(yM.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Re("space-y-2",t),...e})})});oe.displayName="FormItem";const le=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Xg();return s.jsx(ae,{ref:n,className:Re(r&&"text-destructive",t),htmlFor:i,...e})});le.displayName="FormLabel";const me=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Xg();return s.jsx(rI,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});me.displayName="FormControl";const $s=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Xg();return s.jsx("p",{ref:n,id:r,className:Re("text-sm text-muted-foreground",t),...e})});$s.displayName="FormDescription";const pe=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=Xg(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:Re("text-sm font-medium text-destructive",t),...n,children:o}):null});pe.displayName="FormMessage";const uQ=Jn({firstName:ie().min(1,"First name is required"),lastName:ie().min(1,"Last name is required"),email:ie().email("Valid email is required"),subject:ie().min(1,"Subject is required"),message:ie().min(10,"Message must be at least 10 characters")});function hQ(){const[t,e]=p.useState(!1),{toast:n}=Ot(),r=ar({resolver:or(uQ),defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:""}}),i=Ie({mutationFn:async a=>await Te("POST","/api/contact",a),onSuccess:()=>{n({title:"Message sent",description:"We'll get back to you as soon as possible."}),r.reset(),e(!1)},onError:a=>{n({title:"Error",description:a.message||"Failed to send message",variant:"destructive"})}});return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"mt-auto border-t bg-muted/30",children:s.jsx("div",{className:"container px-4 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Ready Set Fly. All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:[s.jsx("button",{onClick:()=>e(!0),className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"button-contact-us",children:"Contact Us"}),s.jsx(nt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(Je,{href:"/privacy-policy",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-privacy-policy",children:"Privacy Policy"}),s.jsx(nt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(Je,{href:"/terms-of-service",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-terms-of-service",children:"Terms of Service"}),s.jsx(nt,{orientation:"vertical",className:"h-4 hidden md:block"}),s.jsx(Je,{href:"/delete-account",className:"text-muted-foreground hover:text-foreground transition-colors hover-elevate px-3 py-1 rounded-md","data-testid":"link-delete-account",children:"Delete Account"})]})]})})}),s.jsx(Jt,{open:t,onOpenChange:e,children:s.jsxs(Kt,{className:"max-w-md","data-testid":"dialog-contact-us",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Contact Us"}),s.jsx(is,{children:"Have a question or feedback? Send us a message and we'll get back to you soon."})]}),s.jsx(Jr,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(a=>i.mutate(a)),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:r.control,name:"firstName",render:({field:a})=>s.jsxs(oe,{children:[s.jsx(le,{children:"First Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"John",...a,"data-testid":"input-contact-first-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:r.control,name:"lastName",render:({field:a})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Last Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Doe",...a,"data-testid":"input-contact-last-name"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:r.control,name:"email",render:({field:a})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Email"}),s.jsx(me,{children:s.jsx(B,{type:"email",placeholder:"john@example.com",...a,"data-testid":"input-contact-email"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:r.control,name:"subject",render:({field:a})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Subject"}),s.jsx(me,{children:s.jsx(B,{placeholder:"How can we help?",...a,"data-testid":"input-contact-subject"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:r.control,name:"message",render:({field:a})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Message"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Tell us what's on your mind...",className:"min-h-[120px]",...a,"data-testid":"textarea-contact-message"})}),s.jsx(pe,{})]})}),s.jsxs(xn,{children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{e(!1),r.reset()},"data-testid":"button-cancel-contact",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:i.isPending,"data-testid":"button-submit-contact",children:i.isPending?"Sending...":"Send Message"})]})]})})]})})]})}function Vb(t,[e,n]){return Math.min(n,Math.max(e,t))}function mQ(t){const e=pQ(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(xQ);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function pQ(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=yQ(i),l=gQ(a,i.props);return i.type!==p.Fragment&&(l.ref=r?$a(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fQ=Symbol("radix.slottable");function xQ(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fQ}function gQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function yQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function B0(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vQ=[" ","Enter","ArrowUp","ArrowDown"],jQ=[" ","Enter"],sc="Select",[Zg,Jg,bQ]=dp(sc),[Cu]=Nn(sc,[bQ,Nu]),ey=Nu(),[wQ,Xo]=Cu(sc),[NQ,SQ]=Cu(sc),vM=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:x,form:j}=t,g=ey(e),[v,f]=p.useState(null),[b,w]=p.useState(null),[N,P]=p.useState(!1),S=Su(d),[C,k]=fr({prop:r,defaultProp:i??!1,onChange:a,caller:sc}),[I,A]=fr({prop:o,defaultProp:l,onChange:c,caller:sc}),O=p.useRef(null),$=v?j||!!v.closest("form"):!0,[J,Y]=p.useState(new Set),q=Array.from(J).map(de=>de.props.value).join(";");return s.jsx(a0,{...g,children:s.jsxs(wQ,{required:x,scope:e,trigger:v,onTriggerChange:f,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:ur(),value:I,onValueChange:A,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:O,disabled:m,children:[s.jsx(Zg.Provider,{scope:e,children:s.jsx(NQ,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(de=>{Y(xe=>new Set(xe).add(de))},[]),onNativeOptionRemove:p.useCallback(de=>{Y(xe=>{const z=new Set(xe);return z.delete(de),z})},[]),children:n})}),$?s.jsxs(zM,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:de=>A(de.target.value),disabled:m,form:j,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(J)]},q):null]})})};vM.displayName=sc;var jM="SelectTrigger",bM=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=ey(n),o=Xo(jM,n),l=o.disabled||r,c=ut(e,o.onTriggerChange),d=Jg(n),u=p.useRef("touch"),[h,m,x]=HM(g=>{const v=d().filter(w=>!w.disabled),f=v.find(w=>w.value===o.value),b=WM(v,g,f);b!==void 0&&o.onValueChange(b.value)}),j=g=>{l||(o.onOpenChange(!0),x()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(o0,{asChild:!0,...a,children:s.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qM(o.value)?"":void 0,...i,ref:c,onClick:Ae(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&j(g)}),onPointerDown:Ae(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:Ae(i.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&vQ.includes(g.key)&&(j(),g.preventDefault())})})})});bM.displayName=jM;var wM="SelectValue",NM=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=Xo(wM,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=ut(e,c.onValueNodeChange);return ks(()=>{d(u)},[d,u]),s.jsx(Xe.span,{...l,ref:h,style:{pointerEvents:"none"},children:qM(c.value)?s.jsx(s.Fragment,{children:o}):a})});NM.displayName=wM;var CQ="SelectIcon",SM=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});SM.displayName=CQ;var _Q="SelectPortal",CM=t=>s.jsx(up,{asChild:!0,...t});CM.displayName=_Q;var nc="SelectContent",_M=p.forwardRef((t,e)=>{const n=Xo(nc,t.__scopeSelect),[r,i]=p.useState();if(ks(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?dc.createPortal(s.jsx(kM,{scope:t.__scopeSelect,children:s.jsx(Zg.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(PM,{...t,ref:e})});_M.displayName=nc;var Mr=10,[kM,Zo]=Cu(nc),kQ="SelectContentImpl",PQ=mQ("SelectContent.RemoveScroll"),PM=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:g,avoidCollisions:v,...f}=t,b=Xo(nc,n),[w,N]=p.useState(null),[P,S]=p.useState(null),C=ut(e,je=>N(je)),[k,I]=p.useState(null),[A,O]=p.useState(null),$=Jg(n),[J,Y]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(w)return f0(w)},[w]),p0();const de=p.useCallback(je=>{const[Oe,...ne]=$().map(ye=>ye.ref.current),[he]=ne.slice(-1),Fe=document.activeElement;for(const ye of je)if(ye===Fe||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===Oe&&P&&(P.scrollTop=0),ye===he&&P&&(P.scrollTop=P.scrollHeight),ye==null||ye.focus(),document.activeElement!==Fe))return},[$,P]),xe=p.useCallback(()=>de([k,w]),[de,k,w]);p.useEffect(()=>{J&&xe()},[J,xe]);const{onOpenChange:z,triggerPointerDownPosRef:R}=b;p.useEffect(()=>{if(w){let je={x:0,y:0};const Oe=he=>{var Fe,ye;je={x:Math.abs(Math.round(he.pageX)-(((Fe=R.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ye=R.current)==null?void 0:ye.y)??0))}},ne=he=>{je.x<=10&&je.y<=10?he.preventDefault():w.contains(he.target)||z(!1),document.removeEventListener("pointermove",Oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,z,R]),p.useEffect(()=>{const je=()=>z(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[z]);const[Q,ue]=HM(je=>{const Oe=$().filter(Fe=>!Fe.disabled),ne=Oe.find(Fe=>Fe.ref.current===document.activeElement),he=WM(Oe,je,ne);he&&setTimeout(()=>he.ref.current.focus())}),F=p.useCallback((je,Oe,ne)=>{const he=!q.current&&!ne;(b.value!==void 0&&b.value===Oe||he)&&(I(je),he&&(q.current=!0))},[b.value]),ve=p.useCallback(()=>w==null?void 0:w.focus(),[w]),Me=p.useCallback((je,Oe,ne)=>{const he=!q.current&&!ne;(b.value!==void 0&&b.value===Oe||he)&&O(je)},[b.value]),et=r==="popper"?zb:EM,se=et===zb?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:j,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(kM,{scope:n,content:w,viewport:P,onViewportChange:S,itemRefCallback:F,selectedItem:k,onItemLeave:ve,itemTextRefCallback:Me,focusSelectedItem:xe,selectedItemText:A,position:r,isPositioned:J,searchRef:Q,children:s.jsx(zg,{as:PQ,allowPinchZoom:!0,children:s.jsx(Ug,{asChild:!0,trapped:b.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:Ae(i,je=>{var Oe;(Oe=b.trigger)==null||Oe.focus({preventScroll:!0}),je.preventDefault()}),children:s.jsx(vu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(et,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:je=>je.preventDefault(),...f,...se,onPlaced:()=>Y(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:Ae(f.onKeyDown,je=>{const Oe=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Oe&&je.key.length===1&&ue(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let he=$().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(je.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Fe=je.target,ye=he.indexOf(Fe);he=he.slice(ye+1)}setTimeout(()=>de(he)),je.preventDefault()}})})})})})})});PM.displayName=kQ;var EQ="SelectItemAlignedPosition",EM=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Xo(nc,n),o=Zo(nc,n),[l,c]=p.useState(null),[d,u]=p.useState(null),h=ut(e,C=>u(C)),m=Jg(n),x=p.useRef(!1),j=p.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:f,focusSelectedItem:b}=o,w=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&v&&f){const C=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),A=f.getBoundingClientRect();if(a.dir!=="rtl"){const Fe=A.left-k.left,ye=I.left-Fe,Ye=C.left-ye,st=C.width+Ye,kt=Math.max(st,k.width),Lt=window.innerWidth-Mr,Rt=Vb(ye,[Mr,Math.max(Mr,Lt-kt)]);l.style.minWidth=st+"px",l.style.left=Rt+"px"}else{const Fe=k.right-A.right,ye=window.innerWidth-I.right-Fe,Ye=window.innerWidth-C.right-ye,st=C.width+Ye,kt=Math.max(st,k.width),Lt=window.innerWidth-Mr,Rt=Vb(ye,[Mr,Math.max(Mr,Lt-kt)]);l.style.minWidth=st+"px",l.style.right=Rt+"px"}const O=m(),$=window.innerHeight-Mr*2,J=g.scrollHeight,Y=window.getComputedStyle(d),q=parseInt(Y.borderTopWidth,10),de=parseInt(Y.paddingTop,10),xe=parseInt(Y.borderBottomWidth,10),z=parseInt(Y.paddingBottom,10),R=q+de+J+z+xe,Q=Math.min(v.offsetHeight*5,R),ue=window.getComputedStyle(g),F=parseInt(ue.paddingTop,10),ve=parseInt(ue.paddingBottom,10),Me=C.top+C.height/2-Mr,et=$-Me,se=v.offsetHeight/2,je=v.offsetTop+se,Oe=q+de+je,ne=R-Oe;if(Oe<=Me){const Fe=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const ye=d.clientHeight-g.offsetTop-g.offsetHeight,Ye=Math.max(et,se+(Fe?ve:0)+ye+xe),st=Oe+Ye;l.style.height=st+"px"}else{const Fe=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Ye=Math.max(Me,q+g.offsetTop+(Fe?F:0)+se)+ne;l.style.height=Ye+"px",g.scrollTop=Oe-Me+g.offsetTop}l.style.margin=`${Mr}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,d,g,v,f,a.dir,r]);ks(()=>w(),[w]);const[N,P]=p.useState();ks(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const S=p.useCallback(C=>{C&&j.current===!0&&(w(),b==null||b(),j.current=!1)},[w,b]);return s.jsx(AQ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Xe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});EM.displayName=EQ;var TQ="SelectPopperPosition",zb=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Mr,...a}=t,o=ey(n);return s.jsx(l0,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zb.displayName=TQ;var[AQ,V0]=Cu(nc,{}),qb="SelectViewport",TM=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Zo(qb,n),o=V0(qb,n),l=ut(e,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Zg.Slot,{scope:n,children:s.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const j=window.innerHeight-Mr*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),f=Math.max(g,v);if(f<j){const b=f+x,w=Math.min(j,b),N=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});TM.displayName=qb;var AM="SelectGroup",[FQ,RQ]=Cu(AM),DQ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ur();return s.jsx(FQ,{scope:n,id:i,children:s.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});DQ.displayName=AM;var FM="SelectLabel",RM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=RQ(FM,n);return s.jsx(Xe.div,{id:i.id,...r,ref:e})});RM.displayName=FM;var Ox="SelectItem",[IQ,DM]=Cu(Ox),IM=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=Xo(Ox,n),c=Zo(Ox,n),d=l.value===r,[u,h]=p.useState(a??""),[m,x]=p.useState(!1),j=ut(e,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,i)}),g=ur(),v=p.useRef("touch"),f=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(IQ,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:p.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Zg.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:s.jsx(Xe.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:j,onFocus:Ae(o.onFocus,()=>x(!0)),onBlur:Ae(o.onBlur,()=>x(!1)),onClick:Ae(o.onClick,()=>{v.current!=="mouse"&&f()}),onPointerUp:Ae(o.onPointerUp,()=>{v.current==="mouse"&&f()}),onPointerDown:Ae(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ae(o.onPointerMove,b=>{var w;v.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ae(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(jQ.includes(b.key)&&f(),b.key===" "&&b.preventDefault())})})})})});IM.displayName=Ox;var ih="SelectItemText",OM=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Xo(ih,n),l=Zo(ih,n),c=DM(ih,n),d=SQ(ih,n),[u,h]=p.useState(null),m=ut(e,f=>h(f),c.onItemTextChange,f=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,f,c.value,c.disabled)}),x=u==null?void 0:u.textContent,j=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return ks(()=>(g(j),()=>v(j)),[g,v,j]),s.jsxs(s.Fragment,{children:[s.jsx(Xe.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?dc.createPortal(a.children,o.valueNode):null]})});OM.displayName=ih;var MM="SelectItemIndicator",LM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return DM(MM,n).isSelected?s.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});LM.displayName=MM;var Hb="SelectScrollUpButton",$M=p.forwardRef((t,e)=>{const n=Zo(Hb,t.__scopeSelect),r=V0(Hb,t.__scopeSelect),[i,a]=p.useState(!1),o=ut(e,r.onScrollButtonChange);return ks(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(BM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});$M.displayName=Hb;var Wb="SelectScrollDownButton",UM=p.forwardRef((t,e)=>{const n=Zo(Wb,t.__scopeSelect),r=V0(Wb,t.__scopeSelect),[i,a]=p.useState(!1),o=ut(e,r.onScrollButtonChange);return ks(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(BM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});UM.displayName=Wb;var BM=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Zo("SelectScrollButton",n),o=p.useRef(null),l=Jg(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),ks(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ae(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{c()})})}),OQ="SelectSeparator",VM=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});VM.displayName=OQ;var Kb="SelectArrow",MQ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ey(n),a=Xo(Kb,n),o=Zo(Kb,n);return a.open&&o.position==="popper"?s.jsx(c0,{...i,...r,ref:e}):null});MQ.displayName=Kb;var LQ="SelectBubbleInput",zM=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=p.useRef(null),a=ut(r,i),o=B0(e);return p.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(Xe.select,{...n,style:{...$R,...n.style},ref:a,defaultValue:e})});zM.displayName=LQ;function qM(t){return t===""||t===void 0}function HM(t){const e=Cs(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function WM(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=$Q(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function $Q(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var UQ=vM,KM=bM,BQ=NM,VQ=SM,zQ=CM,GM=_M,qQ=TM,YM=RM,QM=IM,HQ=OM,WQ=LM,XM=$M,ZM=UM,JM=VM;const gs=UQ,ys=BQ,cs=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(KM,{ref:r,className:Re("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(VQ,{asChild:!0,children:s.jsx(nd,{className:"h-4 w-4 opacity-50"})})]}));cs.displayName=KM.displayName;const e5=p.forwardRef(({className:t,...e},n)=>s.jsx(XM,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx($z,{className:"h-4 w-4"})}));e5.displayName=XM.displayName;const t5=p.forwardRef(({className:t,...e},n)=>s.jsx(ZM,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(nd,{className:"h-4 w-4"})}));t5.displayName=ZM.displayName;const ds=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(zQ,{children:s.jsxs(GM,{ref:i,className:Re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(e5,{}),s.jsx(qQ,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(t5,{})]})}));ds.displayName=GM.displayName;const KQ=p.forwardRef(({className:t,...e},n)=>s.jsx(YM,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));KQ.displayName=YM.displayName;const _e=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(QM,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WQ,{children:s.jsx(Zh,{className:"h-4 w-4"})})}),s.jsx(HQ,{children:e})]}));_e.displayName=QM.displayName;const GQ=p.forwardRef(({className:t,...e},n)=>s.jsx(JM,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));GQ.displayName=JM.displayName;const L=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));L.displayName="Card";const G=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));G.displayName="CardHeader";const Z=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Z.displayName="CardTitle";const Ne=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Ne.displayName="CardDescription";const U=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));U.displayName="CardContent";const z0=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));z0.displayName="CardFooter";function YQ({id:t,make:e,model:n,year:r,hourlyRate:i,image:a,location:o,certifications:l,totalTime:c,avionics:d,insuranceIncluded:u,responseTime:h,acceptanceRate:m,viewCount:x=0,onCardClick:j}){return s.jsxs(L,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02] cursor-pointer",onClick:j,"data-testid":`card-aircraft-${t}`,children:[s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden rounded-t-xl",children:[s.jsx("img",{src:a,alt:`${r} ${e} ${n}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:l.map(g=>s.jsx(K,{className:"bg-chart-2 text-white text-xs font-semibold","data-testid":`badge-cert-${g}`,children:g},g))}),s.jsx(M,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 bg-background/80 backdrop-blur hover:bg-background","data-testid":`button-favorite-${t}`,"aria-label":"Add to favorites",children:s.jsx(Sh,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs(K,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Verified Owner"]})})]}),s.jsxs(U,{className:"p-6",children:[s.jsxs("h3",{className:"font-display text-xl font-semibold mb-1 hover:text-primary transition-colors","data-testid":`title-aircraft-${t}`,children:[r," ",e," ",n]}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsxs("span",{className:"text-2xl font-bold","data-testid":`text-rate-${t}`,children:["$",i]}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"/hour"}),u&&s.jsx(K,{variant:"outline",className:"text-xs",children:"Insurance Included"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uD,{className:"h-4 w-4"}),s.jsxs("span",{children:[r," | ",c.toLocaleString()," hrs | ",d]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pl,{className:"h-4 w-4"}),s.jsx("span",{children:o})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t text-xs text-muted-foreground",children:[s.jsxs("span",{children:[x," views"]}),s.jsxs("span",{children:["Response: ",h,"h"]}),s.jsxs("span",{children:["Acceptance: ",m,"%"]})]})]})]})}var ty="Checkbox",[QQ]=Nn(ty),[XQ,q0]=QQ(ty);function ZQ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[m,x]=fr({prop:n,defaultProp:i??!1,onChange:c,caller:ty}),[j,g]=p.useState(null),[v,f]=p.useState(null),b=p.useRef(!1),w=j?!!o||!!j.closest("form"):!0,N={checked:m,disabled:a,setChecked:x,control:j,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:To(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:f};return s.jsx(XQ,{scope:e,...N,children:JQ(h)?h(N):r})}var s5="CheckboxTrigger",n5=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:j}=q0(s5,t),g=ut(i,u),v=p.useRef(c);return p.useEffect(()=>{const f=a==null?void 0:a.form;if(f){const b=()=>h(v.current);return f.addEventListener("reset",b),()=>f.removeEventListener("reset",b)}},[a,h]),s.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":To(c)?"mixed":c,"aria-required":d,"data-state":l5(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:Ae(e,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:Ae(n,f=>{h(b=>To(b)?!0:!b),j&&x&&(m.current=f.isPropagationStopped(),m.current||f.stopPropagation())})})});n5.displayName=s5;var H0=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return s.jsx(ZQ,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(n5,{...h,ref:e,__scopeCheckbox:n}),m&&s.jsx(o5,{__scopeCheckbox:n})]})})});H0.displayName=ty;var r5="CheckboxIndicator",i5=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=q0(r5,n);return s.jsx(mn,{present:r||To(a.checked)||a.checked===!0,children:s.jsx(Xe.span,{"data-state":l5(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});i5.displayName=r5;var a5="CheckboxBubbleInput",o5=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:x}=q0(a5,t),j=ut(n,x),g=B0(a),v=n0(r);p.useEffect(()=>{const b=m;if(!b)return;const w=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(w,"checked").set,S=!i.current;if(g!==a&&P){const C=new Event("click",{bubbles:S});b.indeterminate=To(a),P.call(b,To(a)?!1:a),b.dispatchEvent(C)}},[m,g,a,i]);const f=p.useRef(To(a)?!1:a);return s.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:j,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o5.displayName=a5;function JQ(t){return typeof t=="function"}function To(t){return t==="indeterminate"}function l5(t){return To(t)?"indeterminate":t?"checked":"unchecked"}const Ts=p.forwardRef(({className:t,...e},n)=>s.jsx(H0,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(i5,{className:Re("flex items-center justify-center text-current"),children:s.jsx(Zh,{className:"h-4 w-4"})})}));Ts.displayName=H0.displayName;var sy="Collapsible",[eX,c5]=Nn(sy),[tX,W0]=eX(sy),d5=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=fr({prop:r,defaultProp:i??!1,onChange:o,caller:sy});return s.jsx(tX,{scope:n,disabled:a,contentId:ur(),open:c,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Xe.div,{"data-state":Q0(c),"data-disabled":a?"":void 0,...l,ref:e})})});d5.displayName=sy;var u5="CollapsibleTrigger",K0=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=W0(u5,n);return s.jsx(Xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Q0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ae(t.onClick,i.onOpenToggle)})});K0.displayName=u5;var G0="CollapsibleContent",Y0=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=W0(G0,t.__scopeCollapsible);return s.jsx(mn,{present:n||i.open,children:({present:a})=>s.jsx(sX,{...r,ref:e,present:a})})});Y0.displayName=G0;var sX=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,o=W0(G0,n),[l,c]=p.useState(r),d=p.useRef(null),u=ut(e,d),h=p.useRef(0),m=h.current,x=p.useRef(0),j=x.current,g=o.open||l,v=p.useRef(g),f=p.useRef(void 0);return p.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),ks(()=>{const b=d.current;if(b){f.current=f.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,x.current=w.width,v.current||(b.style.transitionDuration=f.current.transitionDuration,b.style.animationName=f.current.animationName),c(r)}},[o.open,r]),s.jsx(Xe.div,{"data-state":Q0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...t.style},children:g&&i})});function Q0(t){return t?"open":"closed"}var h5=d5,nX=K0,rX=Y0;const Iv=h5,Ov=K0,Mv=Y0,iX=["PPL","IR","CPL","Multi-Engine","ATP"],aX=["Single-Engine","Multi-Engine","Jet","Turboprop","Helicopter"],oX=["Garmin G1000","Garmin G500","Aspen","Steam Gauges"];function lX({keyword:t,setKeyword:e,city:n,setCity:r,state:i,setState:a,radius:o,setRadius:l,onClearAll:c}){return s.jsxs("div",{className:"space-y-6","data-testid":"aircraft-filters",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Filters"}),s.jsx(M,{variant:"outline",className:"w-full","data-testid":"button-clear-filters",onClick:c,children:"Clear All"})]}),s.jsx(nt,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{className:"text-sm font-semibold",children:"Search Aircraft"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{placeholder:"e.g., Cessna 172, Piper Archer",value:t,onChange:d=>e(d.target.value),className:"pl-10","data-testid":"input-keyword-search"})]})]}),s.jsx(nt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ae,{className:"text-sm font-semibold",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-xs text-muted-foreground mb-1.5 block",children:"City"}),s.jsx(B,{placeholder:"Enter city",value:n,onChange:d=>r(d.target.value),"data-testid":"input-city"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-xs text-muted-foreground mb-1.5 block",children:"State"}),s.jsx(B,{placeholder:"e.g., CA, TX, FL",value:i,onChange:d=>a(d.target.value),maxLength:2,"data-testid":"input-state"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-xs text-muted-foreground mb-1.5 block",children:"Radius"}),s.jsxs(gs,{value:o,onValueChange:l,children:[s.jsx(cs,{"data-testid":"select-radius",children:s.jsx(ys,{})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"25",children:"25 miles"}),s.jsx(_e,{value:"50",children:"50 miles"}),s.jsx(_e,{value:"100",children:"100 miles"}),s.jsx(_e,{value:"200",children:"200 miles"}),s.jsx(_e,{value:"500",children:"500 miles"})]})]})]})]})]}),s.jsx(nt,{}),s.jsxs(Iv,{defaultOpen:!0,children:[s.jsxs(Ov,{className:"flex items-center justify-between w-full",children:[s.jsx(ae,{className:"text-sm font-semibold cursor-pointer",children:"Certifications Required"}),s.jsx(nd,{className:"h-4 w-4"})]}),s.jsx(Mv,{className:"space-y-3 mt-3",children:iX.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:`cert-${d}`,"data-testid":`checkbox-cert-${d}`}),s.jsx("label",{htmlFor:`cert-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(nt,{}),s.jsxs(Iv,{defaultOpen:!0,children:[s.jsxs(Ov,{className:"flex items-center justify-between w-full",children:[s.jsx(ae,{className:"text-sm font-semibold cursor-pointer",children:"Aircraft Category"}),s.jsx(nd,{className:"h-4 w-4"})]}),s.jsx(Mv,{className:"space-y-3 mt-3",children:aX.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:`cat-${d}`,"data-testid":`checkbox-category-${d}`}),s.jsx("label",{htmlFor:`cat-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(nt,{}),s.jsxs(Iv,{children:[s.jsxs(Ov,{className:"flex items-center justify-between w-full",children:[s.jsx(ae,{className:"text-sm font-semibold cursor-pointer",children:"Avionics Suite"}),s.jsx(nd,{className:"h-4 w-4"})]}),s.jsx(Mv,{className:"space-y-3 mt-3",children:oX.map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:`avionics-${d}`,"data-testid":`checkbox-avionics-${d}`}),s.jsx("label",{htmlFor:`avionics-${d}`,className:"text-sm cursor-pointer",children:d})]},d))})]}),s.jsx(nt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ae,{className:"text-sm font-semibold",children:"Additional Options"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:"insurance","data-testid":"checkbox-insurance"}),s.jsx("label",{htmlFor:"insurance",className:"text-sm cursor-pointer",children:"Insurance Included"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:"wet-rate","data-testid":"checkbox-wet-rate"}),s.jsx("label",{htmlFor:"wet-rate",className:"text-sm cursor-pointer",children:"Wet Rate (Fuel Included)"})]})]})]})}var cX=Symbol("radix.slottable");function dX(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cX,e}var m5="AlertDialog",[uX]=Nn(m5,[GO]),Ua=GO(),p5=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ua(e);return s.jsx(dM,{...r,...n,modal:!0})};p5.displayName=m5;var hX="AlertDialogTrigger",f5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ua(n);return s.jsx(uM,{...i,...r,ref:e})});f5.displayName=hX;var mX="AlertDialogPortal",x5=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ua(e);return s.jsx(hM,{...r,...n})};x5.displayName=mX;var pX="AlertDialogOverlay",g5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ua(n);return s.jsx(O0,{...i,...r,ref:e})});g5.displayName=pX;var ld="AlertDialogContent",[fX,xX]=uX(ld),gX=dX("AlertDialogContent"),y5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Ua(n),o=p.useRef(null),l=ut(e,o),c=p.useRef(null);return s.jsx(sQ,{contentName:ld,titleName:v5,docsSlug:"alert-dialog",children:s.jsx(fX,{scope:n,cancelRef:c,children:s.jsxs(M0,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Ae(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(gX,{children:r}),s.jsx(vX,{contentRef:o})]})})})});y5.displayName=ld;var v5="AlertDialogTitle",j5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ua(n);return s.jsx(L0,{...i,...r,ref:e})});j5.displayName=v5;var b5="AlertDialogDescription",w5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ua(n);return s.jsx($0,{...i,...r,ref:e})});w5.displayName=b5;var yX="AlertDialogAction",N5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ua(n);return s.jsx(U0,{...i,...r,ref:e})});N5.displayName=yX;var S5="AlertDialogCancel",C5=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=xX(S5,n),a=Ua(n),o=ut(e,i);return s.jsx(U0,{...a,...r,ref:o})});C5.displayName=S5;var vX=({contentRef:t})=>{const e=`\`${ld}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ld}\` by passing a \`${b5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ld}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},jX=p5,bX=f5,wX=x5,_5=g5,k5=y5,P5=N5,E5=C5,T5=j5,A5=w5;const rc=jX,F5=bX,NX=wX,R5=p.forwardRef(({className:t,...e},n)=>s.jsx(_5,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));R5.displayName=_5.displayName;const $o=p.forwardRef(({className:t,...e},n)=>s.jsxs(NX,{children:[s.jsx(R5,{}),s.jsx(k5,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$o.displayName=k5.displayName;const Uo=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",t),...e});Uo.displayName="AlertDialogHeader";const Bo=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Bo.displayName="AlertDialogFooter";const Vo=p.forwardRef(({className:t,...e},n)=>s.jsx(T5,{ref:n,className:Re("text-lg font-semibold",t),...e}));Vo.displayName=T5.displayName;const zo=p.forwardRef(({className:t,...e},n)=>s.jsx(A5,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));zo.displayName=A5.displayName;const qo=p.forwardRef(({className:t,...e},n)=>s.jsx(P5,{ref:n,className:Re(u0(),t),...e}));qo.displayName=P5.displayName;const Ho=p.forwardRef(({className:t,...e},n)=>s.jsx(E5,{ref:n,className:Re(u0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ho.displayName=E5.displayName;var ny="Switch",[SX]=Nn(ny),[CX,_X]=SX(ny),D5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,x]=p.useState(null),j=ut(e,w=>x(w)),g=p.useRef(!1),v=m?u||!!m.closest("form"):!0,[f,b]=fr({prop:i,defaultProp:a??!1,onChange:d,caller:ny});return s.jsxs(CX,{scope:n,checked:f,disabled:l,children:[s.jsx(Xe.button,{type:"button",role:"switch","aria-checked":f,"aria-required":o,"data-state":L5(f),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:Ae(t.onClick,w=>{b(N=>!N),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&s.jsx(M5,{control:m,bubbles:!g.current,name:r,value:c,checked:f,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});D5.displayName=ny;var I5="SwitchThumb",O5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=_X(I5,n);return s.jsx(Xe.span,{"data-state":L5(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});O5.displayName=I5;var kX="SwitchBubbleInput",M5=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=p.useRef(null),l=ut(o,a),c=B0(n),d=n0(e);return p.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&x){const j=new Event("click",{bubbles:r});x.call(u,n),u.dispatchEvent(j)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M5.displayName=kX;function L5(t){return t?"checked":"unchecked"}var $5=D5,PX=O5;const gm=p.forwardRef(({className:t,...e},n)=>s.jsx($5,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(PX,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gm.displayName=$5.displayName;function EX(t){return Object.prototype.toString.call(t)==="[object Object]"}function n_(t){return EX(t)||Array.isArray(t)}function TX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function X0(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==a?!1:n.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!n_(l)||!n_(c)?l===c:X0(l,c)})}function r_(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function AX(t,e){if(t.length!==e.length)return!1;const n=r_(t),r=r_(e);return n.every((i,a)=>{const o=r[a];return X0(i,o)})}function Z0(t){return typeof t=="number"}function Gb(t){return typeof t=="string"}function ry(t){return typeof t=="boolean"}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function vs(t){return Math.abs(t)}function J0(t){return Math.sign(t)}function kh(t,e){return vs(t-e)}function FX(t,e){if(t===0||e===0||vs(t)<=vs(e))return 0;const n=kh(vs(t),vs(e));return vs(n/t)}function RX(t){return Math.round(t*100)/100}function ym(t){return vm(t).map(Number)}function oi(t){return t[Np(t)]}function Np(t){return Math.max(0,t.length-1)}function e1(t,e){return e===Np(t)}function a_(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function vm(t){return Object.keys(t)}function U5(t,e){return[t,e].reduce((n,r)=>(vm(r).forEach(i=>{const a=n[i],o=r[i],l=i_(a)&&i_(o);n[i]=l?U5(a,o):o}),n),{})}function Yb(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function DX(t,e){const n={start:r,center:i,end:a};function r(){return 0}function i(c){return a(c)/2}function a(c){return e-c}function o(c,d){return Gb(t)?n[t](c):t(e,c,d)}return{measure:o}}function jm(){let t=[];function e(i,a,o,l={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,o,l),c=()=>i.removeEventListener(a,o,l);else{const d=i;d.addListener(o),c=()=>d.removeListener(o)}return t.push(c),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function IX(t,e,n,r){const i=jm(),a=1e3/60;let o=null,l=0,c=0;function d(){i.add(t,"visibilitychange",()=>{t.hidden&&j()})}function u(){x(),i.clear()}function h(v){if(!c)return;o||(o=v,n(),n());const f=v-o;for(o=v,l+=f;l>=a;)n(),l-=a;const b=l/a;r(b),c&&(c=e.requestAnimationFrame(h))}function m(){c||(c=e.requestAnimationFrame(h))}function x(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function j(){o=null,l=0}return{init:d,destroy:u,start:m,stop:x,update:n,render:r}}function OX(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",a=r?"x":"y",o=!r&&n?-1:1,l=u(),c=h();function d(j){const{height:g,width:v}=j;return r?g:v}function u(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(j){return j*o}return{scroll:i,cross:a,startEdge:l,endEdge:c,measureSize:d,direction:m}}function ic(t=0,e=0){const n=vs(t-e);function r(d){return d<t}function i(d){return d>e}function a(d){return r(d)||i(d)}function o(d){return a(d)?r(d)?t:e:d}function l(d){return n?d-n*Math.ceil((d-e)/n):d}return{length:n,max:e,min:t,constrain:o,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:l}}function B5(t,e,n){const{constrain:r}=ic(0,t),i=t+1;let a=o(e);function o(m){return n?vs((i+m)%i):r(m)}function l(){return a}function c(m){return a=o(m),h}function d(m){return u().set(l()+m)}function u(){return B5(t,l(),n)}const h={get:l,set:c,add:d,clone:u};return h}function MX(t,e,n,r,i,a,o,l,c,d,u,h,m,x,j,g,v,f,b){const{cross:w,direction:N}=t,P=["INPUT","SELECT","TEXTAREA"],S={passive:!1},C=jm(),k=jm(),I=ic(50,225).constrain(x.measure(20)),A={mouse:300,touch:400},O={mouse:500,touch:600},$=j?43:25;let J=!1,Y=0,q=0,de=!1,xe=!1,z=!1,R=!1;function Q(ye){if(!b)return;function Ye(kt){(ry(b)||b(ye,kt))&&se(kt)}const st=e;C.add(st,"dragstart",kt=>kt.preventDefault(),S).add(st,"touchmove",()=>{},S).add(st,"touchend",()=>{}).add(st,"touchstart",Ye).add(st,"mousedown",Ye).add(st,"touchcancel",Oe).add(st,"contextmenu",Oe).add(st,"click",ne,!0)}function ue(){C.clear(),k.clear()}function F(){const ye=R?n:e;k.add(ye,"touchmove",je,S).add(ye,"touchend",Oe).add(ye,"mousemove",je,S).add(ye,"mouseup",Oe)}function ve(ye){const Ye=ye.nodeName||"";return P.includes(Ye)}function Me(){return(j?O:A)[R?"mouse":"touch"]}function et(ye,Ye){const st=h.add(J0(ye)*-1),kt=u.byDistance(ye,!j).distance;return j||vs(ye)<I?kt:v&&Ye?kt*.5:u.byIndex(st.get(),0).distance}function se(ye){const Ye=Yb(ye,r);R=Ye,z=j&&Ye&&!ye.buttons&&J,J=kh(i.get(),o.get())>=2,!(Ye&&ye.button!==0)&&(ve(ye.target)||(de=!0,a.pointerDown(ye),d.useFriction(0).useDuration(0),i.set(o),F(),Y=a.readPoint(ye),q=a.readPoint(ye,w),m.emit("pointerDown")))}function je(ye){if(!Yb(ye,r)&&ye.touches.length>=2)return Oe(ye);const st=a.readPoint(ye),kt=a.readPoint(ye,w),Lt=kh(st,Y),Rt=kh(kt,q);if(!xe&&!R&&(!ye.cancelable||(xe=Lt>Rt,!xe)))return Oe(ye);const Is=a.pointerMove(ye);Lt>g&&(z=!0),d.useFriction(.3).useDuration(.75),l.start(),i.add(N(Is)),ye.preventDefault()}function Oe(ye){const st=u.byDistance(0,!1).index!==h.get(),kt=a.pointerUp(ye)*Me(),Lt=et(N(kt),st),Rt=FX(kt,Lt),Is=$-10*Rt,Qt=f+Rt/50;xe=!1,de=!1,k.clear(),d.useDuration(Is).useFriction(Qt),c.distance(Lt,!j),R=!1,m.emit("pointerUp")}function ne(ye){z&&(ye.stopPropagation(),ye.preventDefault(),z=!1)}function he(){return de}return{init:Q,destroy:ue,pointerDown:he}}function LX(t,e){let r,i;function a(h){return h.timeStamp}function o(h,m){const j=`client${(m||t.scroll)==="x"?"X":"Y"}`;return(Yb(h,e)?h:h.touches[0])[j]}function l(h){return r=h,i=h,o(h)}function c(h){const m=o(h)-o(i),x=a(h)-a(r)>170;return i=h,x&&(r=h),m}function d(h){if(!r||!i)return 0;const m=o(i)-o(r),x=a(h)-a(r),j=a(h)-a(i)>170,g=m/x;return x&&!j&&vs(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function $X(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:a,offsetHeight:o}=n;return{top:r,right:i+a,bottom:r+o,left:i,width:a,height:o}}return{measure:t}}function UX(t){function e(r){return t*(r/100)}return{measure:e}}function BX(t,e,n,r,i,a,o){const l=[t].concat(r);let c,d,u=[],h=!1;function m(v){return i.measureSize(o.measure(v))}function x(v){if(!a)return;d=m(t),u=r.map(m);function f(b){for(const w of b){if(h)return;const N=w.target===t,P=r.indexOf(w.target),S=N?d:u[P],C=m(N?t:r[P]);if(vs(C-S)>=.5){v.reInit(),e.emit("resize");break}}}c=new ResizeObserver(b=>{(ry(a)||a(v,b))&&f(b)}),n.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function j(){h=!0,c&&c.disconnect()}return{init:x,destroy:j}}function VX(t,e,n,r,i,a){let o=0,l=0,c=i,d=a,u=t.get(),h=0;function m(){const S=r.get()-t.get(),C=!c;let k=0;return C?(o=0,n.set(r),t.set(r),k=S):(n.set(t),o+=S/c,o*=d,u+=o,t.add(o),k=u-h),l=J0(k),h=u,P}function x(){const S=r.get()-e.get();return vs(S)<.001}function j(){return c}function g(){return l}function v(){return o}function f(){return w(i)}function b(){return N(a)}function w(S){return c=S,P}function N(S){return d=S,P}const P={direction:g,duration:j,velocity:v,seek:m,settled:x,useBaseFriction:b,useBaseDuration:f,useFriction:N,useDuration:w};return P}function zX(t,e,n,r,i){const a=i.measure(10),o=i.measure(50),l=ic(.1,.99);let c=!1;function d(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(x){if(!d())return;const j=t.reachedMin(e.get())?"min":"max",g=vs(t[j]-e.get()),v=n.get()-e.get(),f=l.constrain(g/o);n.subtract(v*f),!x&&vs(v)<a&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(x){c=!x}return{shouldConstrain:d,constrain:u,toggleActive:h}}function qX(t,e,n,r,i){const a=ic(-e+t,0),o=h(),l=u(),c=m();function d(j,g){return kh(j,g)<=1}function u(){const j=o[0],g=oi(o),v=o.lastIndexOf(j),f=o.indexOf(g)+1;return ic(v,f)}function h(){return n.map((j,g)=>{const{min:v,max:f}=a,b=a.constrain(j),w=!g,N=e1(n,g);return w?f:N||d(v,b)?v:d(f,b)?f:b}).map(j=>parseFloat(j.toFixed(3)))}function m(){if(e<=t+i)return[a.max];if(r==="keepSnaps")return o;const{min:j,max:g}=l;return o.slice(j,g)}return{snapsContained:c,scrollContainLimit:l}}function HX(t,e,n){const r=e[0],i=n?r-t:oi(e);return{limit:ic(i,r)}}function WX(t,e,n,r){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=ic(a,o);function d(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function u(m){if(!d(m))return;const x=t*(m*-1);r.forEach(j=>j.add(x))}return{loop:u}}function KX(t){const{max:e,length:n}=t;function r(a){const o=a-e;return n?o/-n:0}return{get:r}}function GX(t,e,n,r,i){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=i,c=h().map(e.measure),d=m(),u=x();function h(){return l(r).map(g=>oi(g)[o]-g[0][a]).map(vs)}function m(){return r.map(g=>n[a]-g[a]).map(g=>-vs(g))}function x(){return l(d).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:d,snapsAligned:u}}function YX(t,e,n,r,i,a){const{groupSlides:o}=i,{min:l,max:c}=r,d=u();function u(){const m=o(a),x=!t||e==="keepSnaps";return n.length===1?[a]:x?m:m.slice(l,c).map((j,g,v)=>{const f=!g,b=e1(v,g);if(f){const w=oi(v[0])+1;return a_(w)}if(b){const w=Np(a)-oi(v)[0]+1;return a_(w,oi(v)[0])}return j})}return{slideRegistry:d}}function QX(t,e,n,r,i){const{reachedAny:a,removeOffset:o,constrain:l}=r;function c(j){return j.concat().sort((g,v)=>vs(g)-vs(v))[0]}function d(j){const g=t?o(j):l(j),v=e.map((b,w)=>({diff:u(b-g,0),index:w})).sort((b,w)=>vs(b.diff)-vs(w.diff)),{index:f}=v[0];return{index:f,distance:g}}function u(j,g){const v=[j,j+n,j-n];if(!t)return j;if(!g)return c(v);const f=v.filter(b=>J0(b)===g);return f.length?c(f):oi(v)-n}function h(j,g){const v=e[j]-i.get(),f=u(v,g);return{index:j,distance:f}}function m(j,g){const v=i.get()+j,{index:f,distance:b}=d(v),w=!t&&a(v);if(!g||w)return{index:f,distance:j};const N=e[f]-b,P=j+u(N,0);return{index:f,distance:P}}return{byDistance:m,byIndex:h,shortcut:u}}function XX(t,e,n,r,i,a,o){function l(h){const m=h.distance,x=h.index!==e.get();a.add(m),m&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,m){const x=i.byDistance(h,m);l(x)}function d(h,m){const x=e.clone().set(h),j=i.byIndex(x.get(),m);l(j)}return{distance:c,index:d}}function ZX(t,e,n,r,i,a,o,l){const c={passive:!0,capture:!0};let d=0;function u(x){if(!l)return;function j(g){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const b=n.findIndex(w=>w.includes(g));Z0(b)&&(i.useDuration(0),r.index(b,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((g,v)=>{a.add(g,"focus",f=>{(ry(l)||l(x,f))&&j(v)},c)})}function h(x){x.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function ah(t){let e=t;function n(){return e}function r(c){e=o(c)}function i(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return Z0(c)?c:c.get()}return{get:n,set:r,add:i,subtract:a}}function V5(t,e){const n=t.scroll==="x"?o:l,r=e.style;let i=null,a=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(a)return;const x=RX(t.direction(m));x!==i&&(r.transform=n(x),i=x)}function d(m){a=!m}function u(){a||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function JX(t,e,n,r,i,a,o,l,c){const u=ym(i),h=ym(i).reverse(),m=f().concat(b());function x(C,k){return C.reduce((I,A)=>I-i[A],k)}function j(C,k){return C.reduce((I,A)=>x(I,k)>0?I.concat([A]):I,[])}function g(C){return a.map((k,I)=>({start:k-r[I]+.5+C,end:k+e-.5+C}))}function v(C,k,I){const A=g(k);return C.map(O=>{const $=I?0:-n,J=I?n:0,Y=I?"end":"start",q=A[O][Y];return{index:O,loopPoint:q,slideLocation:ah(-1),translate:V5(t,c[O]),target:()=>l.get()>q?$:J}})}function f(){const C=o[0],k=j(h,C);return v(k,n,!1)}function b(){const C=e-o[0]-1,k=j(u,C);return v(k,-n,!0)}function w(){return m.every(({index:C})=>{const k=u.filter(I=>I!==C);return x(k,e)<=.1})}function N(){m.forEach(C=>{const{target:k,translate:I,slideLocation:A}=C,O=k();O!==A.get()&&(I.to(O),A.set(O))})}function P(){m.forEach(C=>C.translate.clear())}return{canLoop:w,clear:P,loop:N,loopPoints:m}}function eZ(t,e,n){let r,i=!1;function a(c){if(!n)return;function d(u){for(const h of u)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(ry(n)||n(c,u))&&d(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:a,destroy:o}}function tZ(t,e,n,r){const i={};let a=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(j=>{c||(j.forEach(g=>{const v=e.indexOf(g.target);i[v]=g}),a=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(j=>l.observe(j))}function u(){l&&l.disconnect(),c=!0}function h(j){return vm(i).reduce((g,v)=>{const f=parseInt(v),{isIntersecting:b}=i[f];return(j&&b||!j&&!b)&&g.push(f),g},[])}function m(j=!0){if(j&&a)return a;if(!j&&o)return o;const g=h(j);return j&&(a=g),j||(o=g),g}return{init:d,destroy:u,get:m}}function sZ(t,e,n,r,i,a){const{measureSize:o,startEdge:l,endEdge:c}=t,d=n[0]&&i,u=j(),h=g(),m=n.map(o),x=v();function j(){if(!d)return 0;const b=n[0];return vs(e[l]-b[l])}function g(){if(!d)return 0;const b=a.getComputedStyle(oi(r));return parseFloat(b.getPropertyValue(`margin-${c}`))}function v(){return n.map((b,w,N)=>{const P=!w,S=e1(N,w);return P?m[w]+u:S?m[w]+h:N[w+1][l]-b[l]}).map(vs)}return{slideSizes:m,slideSizesWithGaps:x,startGap:u,endGap:h}}function nZ(t,e,n,r,i,a,o,l,c){const{startEdge:d,endEdge:u,direction:h}=t,m=Z0(n);function x(f,b){return ym(f).filter(w=>w%b===0).map(w=>f.slice(w,w+b))}function j(f){return f.length?ym(f).reduce((b,w,N)=>{const P=oi(b)||0,S=P===0,C=w===Np(f),k=i[d]-a[P][d],I=i[d]-a[w][u],A=!r&&S?h(o):0,O=!r&&C?h(l):0,$=vs(I-O-(k+A));return N&&$>e+c&&b.push(w),C&&b.push(f.length),b},[]).map((b,w,N)=>{const P=Math.max(N[w-1]||0);return f.slice(P,b)}):[]}function g(f){return m?x(f,n):j(f)}return{groupSlides:g}}function rZ(t,e,n,r,i,a,o){const{align:l,axis:c,direction:d,startIndex:u,loop:h,duration:m,dragFree:x,dragThreshold:j,inViewThreshold:g,slidesToScroll:v,skipSnaps:f,containScroll:b,watchResize:w,watchSlides:N,watchDrag:P,watchFocus:S}=a,C=2,k=$X(),I=k.measure(e),A=n.map(k.measure),O=OX(c,d),$=O.measureSize(I),J=UX($),Y=DX(l,$),q=!h&&!!b,de=h||!!b,{slideSizes:xe,slideSizesWithGaps:z,startGap:R,endGap:Q}=sZ(O,I,A,n,de,i),ue=nZ(O,$,v,h,I,A,R,Q,C),{snaps:F,snapsAligned:ve}=GX(O,Y,I,A,ue),Me=-oi(F)+oi(z),{snapsContained:et,scrollContainLimit:se}=qX($,Me,ve,b,C),je=q?et:ve,{limit:Oe}=HX(Me,je,h),ne=B5(Np(je),u,h),he=ne.clone(),Fe=ym(n),ye=({dragHandler:gt,scrollBody:zt,scrollBounds:qs,options:{loop:Qi}})=>{Qi||qs.constrain(gt.pointerDown()),zt.seek()},Ye=({scrollBody:gt,translate:zt,location:qs,offsetLocation:Qi,previousLocation:Ba,scrollLooper:Va,slideLooper:Sn,dragHandler:qt,animation:Ps,eventHandler:rt,scrollBounds:Ve,options:{loop:fc}},xc)=>{const gc=gt.settled(),Pu=!Ve.shouldConstrain(),yc=fc?gc:gc&&Pu,vc=yc&&!qt.pointerDown();vc&&Ps.stop();const Jo=qs.get()*xc+Ba.get()*(1-xc);Qi.set(Jo),fc&&(Va.loop(gt.direction()),Sn.loop()),zt.to(Qi.get()),vc&&rt.emit("settle"),yc||rt.emit("scroll")},st=IX(r,i,()=>ye(wt),gt=>Ye(wt,gt)),kt=.68,Lt=je[ne.get()],Rt=ah(Lt),Is=ah(Lt),Qt=ah(Lt),re=ah(Lt),D=VX(Rt,Qt,Is,re,m,kt),H=QX(h,je,Me,Oe,re),ee=XX(st,ne,he,D,H,re,o),De=KX(Oe),Ee=jm(),Se=tZ(e,n,o,g),{slideRegistry:Ke}=YX(q,b,je,se,ue,Fe),bt=ZX(t,n,Ke,ee,D,Ee,o,S),wt={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:I,slideRects:A,animation:st,axis:O,dragHandler:MX(O,t,r,i,re,LX(O,i),Rt,st,ee,D,H,ne,o,J,x,j,f,kt,P),eventStore:Ee,percentOfView:J,index:ne,indexPrevious:he,limit:Oe,location:Rt,offsetLocation:Qt,previousLocation:Is,options:a,resizeHandler:BX(e,o,i,n,O,w,k),scrollBody:D,scrollBounds:zX(Oe,Qt,re,D,J),scrollLooper:WX(Me,Oe,Qt,[Rt,Qt,Is,re]),scrollProgress:De,scrollSnapList:je.map(De.get),scrollSnaps:je,scrollTarget:H,scrollTo:ee,slideLooper:JX(O,$,Me,xe,z,F,je,Qt,n),slideFocus:bt,slidesHandler:eZ(e,o,N),slidesInView:Se,slideIndexes:Fe,slideRegistry:Ke,slidesToScroll:ue,target:re,translate:V5(O,e)};return wt}function iZ(){let t={},e;function n(d){e=d}function r(d){return t[d]||[]}function i(d){return r(d).forEach(u=>u(e,d)),c}function a(d,u){return t[d]=r(d).concat([u]),c}function o(d,u){return t[d]=r(d).filter(h=>h!==u),c}function l(){t={}}const c={init:n,emit:i,off:o,on:a,clear:l};return c}const aZ={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function oZ(t){function e(a,o){return U5(a,o||{})}function n(a){const o=a.breakpoints||{},l=vm(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>e(c,d),{});return e(a,l)}function r(a){return a.map(o=>vm(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function lZ(t){let e=[];function n(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){e=e.filter(a=>a.destroy())}return{init:n,destroy:r}}function Mx(t,e,n){const r=t.ownerDocument,i=r.defaultView,a=oZ(i),o=lZ(a),l=jm(),c=iZ(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:h}=a,{on:m,off:x,emit:j}=c,g=O;let v=!1,f,b=d(aZ,Mx.globalOptions),w=d(b),N=[],P,S,C;function k(){const{container:Fe,slides:ye}=w;S=(Gb(Fe)?t.querySelector(Fe):Fe)||t.children[0];const st=Gb(ye)?S.querySelectorAll(ye):ye;C=[].slice.call(st||S.children)}function I(Fe){const ye=rZ(t,S,C,r,i,Fe,c);if(Fe.loop&&!ye.slideLooper.canLoop()){const Ye=Object.assign({},Fe,{loop:!1});return I(Ye)}return ye}function A(Fe,ye){v||(b=d(b,Fe),w=u(b),N=ye||N,k(),f=I(w),h([b,...N.map(({options:Ye})=>Ye)]).forEach(Ye=>l.add(Ye,"change",O)),w.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(he),f.eventHandler.init(he),f.resizeHandler.init(he),f.slidesHandler.init(he),f.options.loop&&f.slideLooper.loop(),S.offsetParent&&C.length&&f.dragHandler.init(he),P=o.init(he,N)))}function O(Fe,ye){const Ye=ue();$(),A(d({startIndex:Ye},Fe),ye),c.emit("reInit")}function $(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),l.clear()}function J(){v||(v=!0,l.clear(),$(),c.emit("destroy"),c.clear())}function Y(Fe,ye,Ye){!w.active||v||(f.scrollBody.useBaseFriction().useDuration(ye===!0?0:w.duration),f.scrollTo.index(Fe,Ye||0))}function q(Fe){const ye=f.index.add(1).get();Y(ye,Fe,-1)}function de(Fe){const ye=f.index.add(-1).get();Y(ye,Fe,1)}function xe(){return f.index.add(1).get()!==ue()}function z(){return f.index.add(-1).get()!==ue()}function R(){return f.scrollSnapList}function Q(){return f.scrollProgress.get(f.offsetLocation.get())}function ue(){return f.index.get()}function F(){return f.indexPrevious.get()}function ve(){return f.slidesInView.get()}function Me(){return f.slidesInView.get(!1)}function et(){return P}function se(){return f}function je(){return t}function Oe(){return S}function ne(){return C}const he={canScrollNext:xe,canScrollPrev:z,containerNode:Oe,internalEngine:se,destroy:J,off:x,on:m,emit:j,plugins:et,previousScrollSnap:F,reInit:g,rootNode:je,scrollNext:q,scrollPrev:de,scrollProgress:Q,scrollSnapList:R,scrollTo:Y,selectedScrollSnap:ue,slideNodes:ne,slidesInView:ve,slidesNotInView:Me};return A(e,n),setTimeout(()=>c.emit("init"),0),he}Mx.globalOptions=void 0;function t1(t={},e=[]){const n=p.useRef(t),r=p.useRef(e),[i,a]=p.useState(),[o,l]=p.useState(),c=p.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return p.useEffect(()=>{X0(n.current,t)||(n.current=t,c())},[t,c]),p.useEffect(()=>{AX(r.current,e)||(r.current=e,c())},[e,c]),p.useEffect(()=>{if(TX()&&o){Mx.globalOptions=t1.globalOptions;const d=Mx(o,n.current,r.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,i]}t1.globalOptions=void 0;const z5=p.createContext(null);function iy(){const t=p.useContext(z5);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const ay=p.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:a,...o},l)=>{const[c,d]=t1({...e,axis:t==="horizontal"?"x":"y"},r),[u,h]=p.useState(!1),[m,x]=p.useState(!1),j=p.useCallback(b=>{b&&(h(b.canScrollPrev()),x(b.canScrollNext()))},[]),g=p.useCallback(()=>{d==null||d.scrollPrev()},[d]),v=p.useCallback(()=>{d==null||d.scrollNext()},[d]),f=p.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),g()):b.key==="ArrowRight"&&(b.preventDefault(),v())},[g,v]);return p.useEffect(()=>{!d||!n||n(d)},[d,n]),p.useEffect(()=>{if(d)return j(d),d.on("reInit",j),d.on("select",j),()=>{d==null||d.off("select",j)}},[d,j]),s.jsx(z5.Provider,{value:{carouselRef:c,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:u,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:f,className:Re("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});ay.displayName="Carousel";const oy=p.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=iy();return s.jsx("div",{ref:r,className:"overflow-hidden",children:s.jsx("div",{ref:n,className:Re("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});oy.displayName="CarouselContent";const ly=p.forwardRef(({className:t,...e},n)=>{const{orientation:r}=iy();return s.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Re("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});ly.displayName="CarouselItem";const cy=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=iy();return s.jsxs(M,{ref:i,variant:e,size:n,className:Re("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx(Fg,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});cy.displayName="CarouselPrevious";const dy=p.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=iy();return s.jsxs(M,{ref:i,variant:e,size:n,className:Re("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...r,children:[s.jsx(Iz,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});dy.displayName="CarouselNext";function q5({user:t,aircraft:e,type:n,size:r="md"}){const i=r==="sm"?"h-3 w-3":r==="lg"?"h-5 w-5":"h-4 w-4",a=r==="sm"?"text-xs":r==="lg"?"text-base":"text-sm";if(n==="renter"&&t)return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.identityVerified&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,"data-testid":"tooltip-identity-verified",children:s.jsxs(K,{variant:"secondary",className:a,"data-testid":"badge-identity-verified",children:[s.jsx(Mn,{className:`${i} mr-1`}),"Identity Verified"]})}),s.jsxs(na,{children:[s.jsx("p",{children:"Government ID and identity confirmed"}),t.identityVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.identityVerifiedAt).toLocaleDateString()]})]})]}),t.paymentVerified&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,"data-testid":"tooltip-payment-verified",children:s.jsxs(K,{variant:"secondary",className:a,"data-testid":"badge-payment-verified",children:[s.jsx(wh,{className:`${i} mr-1`}),"Payment Verified"]})}),s.jsxs(na,{children:[s.jsx("p",{children:"Valid payment method on file"}),t.paymentVerifiedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Verified ",new Date(t.paymentVerifiedAt).toLocaleDateString()]})]})]}),t.faaVerified&&t.faaVerifiedMonth&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,"data-testid":"tooltip-faa-verified",children:s.jsxs(K,{variant:"default",className:a,"data-testid":"badge-faa-verified",children:[s.jsx(Wt,{className:`${i} mr-1`}),"FAA Verified (",t.faaVerifiedMonth,")"]})}),s.jsxs(na,{children:[s.jsx("p",{children:"FAA pilot certificate verified"}),t.faaCertificateNumber&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cert #",t.faaCertificateNumber]})]})]})]});if(n==="owner"&&e){const o=e.annualDueDate?new Date(e.annualDueDate)>new Date:!1;return e.annualDueDate&&new Date(e.annualDueDate)<new Date,s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.ownershipVerified&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(K,{variant:"default",className:a,"data-testid":"badge-ownership-verified",children:[s.jsx(Mn,{className:`${i} mr-1`}),"Ownership Verified"]})}),s.jsxs(na,{children:[s.jsx("p",{children:"FAA aircraft registration confirmed"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["N-Number: ",e.registration]}),e.ownerNameMatch&&s.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Owner name matches registry"})]})]}),e.annualDueDate&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(K,{variant:o?"default":"destructive",className:a,"data-testid":o?"badge-annual-current":"badge-annual-overdue",children:[s.jsx(xD,{className:`${i} mr-1`}),o?"Annual: Current":"Annual: Overdue"]})}),s.jsx(na,{children:o?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Annual inspection current"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expires: ",new Date(e.annualDueDate).toLocaleDateString()]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"Annual inspection overdue!"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Was due: ",new Date(e.annualDueDate).toLocaleDateString()]})]})})]}),e.requires100Hour&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(K,{variant:e.hour100Remaining&&e.hour100Remaining>0?"secondary":"destructive",className:a,"data-testid":"badge-100-hour",children:[s.jsx(Vt,{className:`${i} mr-1`}),e.hour100Remaining!==null&&e.hour100Remaining!==void 0?`100-Hr: ${e.hour100Remaining} hrs left`:"100-Hr: Update needed"]})}),s.jsx(na,{children:e.hour100Remaining&&e.hour100Remaining>0?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"100-hour inspection upcoming"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.hour100Remaining," hours remaining"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-destructive",children:"100-hour inspection may be due!"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please update current tach time"})]})})]}),!e.requires100Hour&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(K,{variant:"outline",className:a,"data-testid":"badge-100-hour-na",children:[s.jsx(Vt,{className:`${i} mr-1`}),"100-Hr: N/A"]})}),s.jsxs(na,{children:[s.jsx("p",{children:"100-hour inspection not required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Aircraft not used for hire or instruction"})]})]}),e.hasMaintenanceTracking&&e.maintenanceTrackingProvider&&s.jsxs(Wa,{children:[s.jsx(Ka,{asChild:!0,children:s.jsxs(K,{variant:"secondary",className:a,"data-testid":"badge-maintenance-tracking",children:[s.jsx(Wt,{className:`${i} mr-1`}),e.maintenanceTrackingProvider]})}),s.jsxs(na,{children:[s.jsx("p",{children:"Professional maintenance tracking on file"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Provider: ",e.maintenanceTrackingProvider]})]})]}),!e.ownershipVerified&&!e.maintenanceVerified&&s.jsxs(K,{variant:"outline",className:`${a} border-yellow-500 text-yellow-700 dark:text-yellow-400`,"data-testid":"badge-verification-pending",children:[s.jsx(Ql,{className:`${i} mr-1`}),"Verification Pending"]})]})}return null}function H5({aircraftId:t,open:e,onOpenChange:n}){const{user:r}=Ds(),{toast:i}=Ot(),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,m]=p.useState(!1),[x,j]=p.useState({startDate:"",endDate:"",estimatedHours:"",message:""}),{data:g,isLoading:v,error:f}=We({queryKey:["/api/aircraft",t],enabled:e});p.useEffect(()=>{g!=null&&g.adminNotes?u(g.adminNotes):g&&u("")},[g==null?void 0:g.id,g==null?void 0:g.adminNotes]),p.useEffect(()=>{e&&!v&&(f||!g)&&n(!1)},[e,v,f,g,n]),p.useEffect(()=>{!g||!e||Te("POST",`/api/aircraft/${g.id}/view`,{}).catch(()=>{})},[g==null?void 0:g.id,e]);const b=Ie({mutationFn:async A=>{if(g)return await Te("POST","/api/rentals",{aircraftId:g.id,ownerId:g.ownerId,...A,hourlyRate:g.hourlyRate})},onSuccess:()=>{i({title:"Rental Request Sent",description:"The aircraft owner will review your request and respond shortly."}),Le.invalidateQueries({queryKey:["/api/rentals"]}),o(!1),j({startDate:"",endDate:"",estimatedHours:"",message:""}),n(!1)},onError:A=>{i({title:"Request Failed",description:A.message,variant:"destructive"})}}),w=Ie({mutationFn:async A=>await Te("DELETE",`/api/aircraft/${A}`,{}),onSuccess:()=>{i({title:"Aircraft Deleted",description:"The aircraft listing has been permanently deleted."}),Le.invalidateQueries({queryKey:["/api/aircraft"]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:A=>{i({title:"Delete Failed",description:A.message,variant:"destructive"})}}),N=Ie({mutationFn:async A=>await Te("PATCH",`/api/admin/aircraft/${t}`,A),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/aircraft",t]}),Le.invalidateQueries({queryKey:["/api/aircraft"]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Aircraft Updated",description:"Aircraft listing has been updated successfully."})},onError:A=>{i({title:"Update Failed",description:A.message,variant:"destructive"})}}),P=()=>{g&&confirm(`Are you sure you want to permanently delete this aircraft listing (${g.year} ${g.make} ${g.model})? This action cannot be undone.`)&&w.mutate(g.id)},S=()=>{g&&N.mutate({isListed:!g.isListed})},C=()=>{g&&N.mutate({isFeatured:!g.isFeatured})},k=()=>{N.mutate({adminNotes:d})},I=g&&g.images&&g.images.length>0?g.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs(s.Fragment,{children:[s.jsx(Jt,{open:e,onOpenChange:n,children:s.jsx(Kt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","data-testid":"modal-aircraft-detail",children:v?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):g?s.jsxs(s.Fragment,{children:[s.jsx(es,{children:s.jsxs(ts,{className:"font-display text-3xl",children:[g.year," ",g.make," ",g.model]})}),s.jsx("div",{className:"relative",children:s.jsxs(ay,{className:"w-full",children:[s.jsx(oy,{children:I.map((A,O)=>s.jsx(ly,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:A,alt:`${g.year} ${g.make} ${g.model} - Image ${O+1}`,className:"w-full h-full object-cover"})})},O))}),I.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(cy,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(dy,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between border-t border-b py-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["$",g.hourlyRate]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(K,{variant:"outline",children:g.location}),g.airportCode&&s.jsx(K,{variant:"outline",children:g.airportCode}),s.jsxs(K,{variant:"secondary",children:[g.viewCount||0," views"]})]})]}),!a&&s.jsxs(M,{size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){m(!0);return}r.id!==g.ownerId&&c(!0)},disabled:(r==null?void 0:r.id)===g.ownerId,"data-testid":"button-request-rental",children:[s.jsx(kr,{className:"h-5 w-5 mr-2"}),"Request to Rent"]})]}),a&&s.jsxs("div",{className:"bg-muted/50 p-6 rounded-xl space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Request Rental"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"startDate",children:"Start Date"}),s.jsx(B,{id:"startDate",type:"date",value:x.startDate,onChange:A=>j({...x,startDate:A.target.value}),"data-testid":"input-start-date"})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"endDate",children:"End Date"}),s.jsx(B,{id:"endDate",type:"date",value:x.endDate,onChange:A=>j({...x,endDate:A.target.value}),"data-testid":"input-end-date"})]})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"estimatedHours",children:"Estimated Flight Hours"}),s.jsx(B,{id:"estimatedHours",type:"number",step:"0.1",placeholder:"5.0",value:x.estimatedHours,onChange:A=>j({...x,estimatedHours:A.target.value}),"data-testid":"input-estimated-hours"})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"message",children:"Message to Owner (Optional)"}),s.jsx(as,{id:"message",placeholder:"Tell the owner about your flight plans...",value:x.message,onChange:A=>j({...x,message:A.target.value}),rows:3,"data-testid":"textarea-message"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(M,{className:"flex-1",onClick:()=>b.mutate(x),disabled:!x.startDate||!x.endDate||!x.estimatedHours||b.isPending,"data-testid":"button-submit-request",children:b.isPending?"Sending...":"Send Request"}),s.jsx(M,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-request",children:"Cancel"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Aircraft Specifications"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(uD,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Total Time"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.totalTime.toLocaleString()," hours"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.registration})]})]}),g.avionicsSuite&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Avionics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.avionicsSuite})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Insurance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.insuranceIncluded?"Included in hourly rate":"Not included"})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.requiredCertifications.map(A=>s.jsx(K,{className:"bg-chart-2 text-white",children:A},A))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Owner Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Verification Status"}),s.jsx(q5,{user:void 0,aircraft:g,type:"owner"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsxs("p",{className:"text-lg font-semibold",children:[g.responseTime||24,"h"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Acceptance Rate"}),s.jsxs("p",{className:"text-lg font-semibold",children:[g.acceptanceRate||95,"%"]})]})]})]})]})]}),g.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:g.description})]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.isListed?"Active - visible to renters":"Inactive - hidden from search"})]}),s.jsx(gm,{checked:g.isListed||!1,onCheckedChange:S,disabled:N.isPending,"data-testid":"switch-aircraft-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.isFeatured&&s.jsx(fl,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(gm,{checked:g.isFeatured||!1,onCheckedChange:C,disabled:N.isPending,"data-testid":"switch-aircraft-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ae,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(as,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:d,onChange:A=>u(A.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(M,{onClick:k,disabled:N.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(Je,{href:`/edit-aircraft/${g.id}`,children:s.jsxs(M,{variant:"outline","data-testid":"button-edit-aircraft",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(M,{variant:"destructive",onClick:P,disabled:w.isPending,"data-testid":"button-delete-aircraft",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(rc,{open:h,onOpenChange:m,children:s.jsxs($o,{"data-testid":"dialog-login-prompt",children:[s.jsxs(Uo,{children:[s.jsx(Vo,{children:"Sign in to continue"}),s.jsx(zo,{children:"You need to create an account or sign in to request aircraft rentals and interact with owners."})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(qo,{onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),s.jsx(rc,{open:l,onOpenChange:c,children:s.jsxs($o,{className:"max-w-2xl",children:[s.jsxs(Uo,{children:[s.jsxs(Vo,{className:"flex items-center gap-2",children:[s.jsx(YN,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(zo,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-best-practices",children:"Cancel"}),s.jsx(qo,{onClick:()=>{c(!1),o(!0)},className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-best-practices",children:"I Understand - Continue to Request"})]})]})})]})}function s1({placement:t,category:e,rotationIntervalMs:n=8e3,className:r=""}){const[i,a]=p.useState(0),[o,l]=p.useState(!1),{data:c=[],isLoading:d}=We({queryKey:["/api/banner-ads/active",t,e],queryFn:async()=>{const j=new URLSearchParams;t&&j.set("placement",t),e&&j.set("category",e);const g=await fetch(Yt(`/api/banner-ads/active?${j.toString()}`));if(!g.ok)throw new Error("Failed to fetch banner ads");return g.json()},staleTime:6e4}),u=Ie({mutationFn:async j=>Te("POST",`/api/banner-ads/${j}/impression`,{})}),h=Ie({mutationFn:async j=>Te("POST",`/api/banner-ads/${j}/click`,{})}),m=c[i];if(p.useEffect(()=>{c.length>0&&(a(0),l(!1))},[c]),p.useEffect(()=>{if(c.length<=1)return;const j=setInterval(()=>{a(g=>(g+1)%c.length),l(!1)},n);return()=>clearInterval(j)},[c.length,n]),p.useEffect(()=>{m&&!o&&(u.mutate(m.id),l(!0))},[m==null?void 0:m.id,o]),d||!m||c.length===0)return null;const x=()=>{h.mutate(m.id),window.open(m.link,"_blank","noopener,noreferrer")};return s.jsx("div",{className:`w-full ${r}`,children:s.jsx(L,{className:"overflow-hidden hover-elevate active-elevate-2 cursor-pointer transition-all duration-500",onClick:x,"data-testid":`banner-ad-${m.id}`,children:s.jsxs("div",{className:"relative",children:[m.imageUrl&&s.jsx("div",{className:"w-full h-32 bg-muted",children:s.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-background/90 backdrop-blur-sm rounded px-2 py-1 text-xs text-muted-foreground",children:"Sponsored"})}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:m.title}),m.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:m.description})]}),s.jsx(Zr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),c.length>1&&s.jsx("div",{className:"flex gap-1 pt-2",children:c.map((j,g)=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${g===i?"bg-primary":"bg-muted"}`},g))})]})]})})})}const cZ="/assets/wingtip_featured_1761494838973-BRXeBduT.jpg",dZ=[{label:"IFR Equipped",value:"ifr"},{label:"Multi-Engine",value:"multi"},{label:"Glass Cockpit",value:"glass"}];function uZ(){const[t,e]=p.useState(!1),[n,r]=p.useState(null),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState("100"),{data:m=[],isLoading:x}=We({queryKey:["/api/aircraft"]}),j=m.filter(v=>!(i&&!`${v.make} ${v.model} ${v.registration}`.toLowerCase().includes(i.toLowerCase())||o&&v.location&&!v.location.toLowerCase().includes(o.toLowerCase())||c&&v.location&&!v.location.toLowerCase().includes(c.toLowerCase()))),g=()=>{a(""),l(""),d(""),h("100")};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative h-[500px] sm:h-[600px] bg-gradient-to-r from-primary/20 to-secondary/20 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-transparent z-10"}),s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${cZ})`}}),s.jsxs("div",{className:"relative z-20 w-full max-w-5xl mx-auto px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-3 sm:mb-4","data-testid":"text-hero-title",children:"Find Your Perfect Aircraft"}),s.jsx("p",{className:"text-base sm:text-xl text-white/90 max-w-2xl mx-auto px-4",children:"Rent from certified aircraft owners. Fly with confidence."})]}),s.jsxs("div",{className:"bg-background/95 backdrop-blur-lg rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Aircraft Type"}),s.jsxs(gs,{"data-testid":"select-aircraft-type",children:[s.jsx(cs,{className:"text-sm",children:s.jsx(ys,{placeholder:"Any type"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"single",children:"Single-Engine"}),s.jsx(_e,{value:"multi",children:"Multi-Engine"}),s.jsx(_e,{value:"jet",children:"Jet"}),s.jsx(_e,{value:"turboprop",children:"Turboprop"}),s.jsx(_e,{value:"helicopter",children:"Helicopter"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Certification Required"}),s.jsxs(gs,{"data-testid":"select-certification",children:[s.jsx(cs,{className:"text-sm",children:s.jsx(ys,{placeholder:"Select certification"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"ppl",children:"PPL"}),s.jsx(_e,{value:"ir",children:"IR"}),s.jsx(_e,{value:"cpl",children:"CPL"}),s.jsx(_e,{value:"multi",children:"Multi-Engine"}),s.jsx(_e,{value:"atp",children:"ATP"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{placeholder:"City or airport code",className:"pl-10 text-sm","data-testid":"input-location"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Dates"}),s.jsxs("div",{className:"relative",children:[s.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{type:"date",className:"pl-10 text-sm","data-testid":"input-dates"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:dZ.map(v=>s.jsx(K,{variant:"outline",className:"cursor-pointer hover-elevate text-xs sm:text-sm","data-testid":`badge-filter-${v.value}`,children:v.label},v.value))}),s.jsxs(M,{className:"bg-accent text-accent-foreground hover:bg-accent rounded-full w-full sm:w-auto",size:"lg","data-testid":"button-search",children:[s.jsx(Wn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Find Aircraft"]})]})]})]})]}),s.jsx(s1,{placement:"rentals",className:"container mx-auto px-4 py-8"}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-2","data-testid":"text-results-title",children:"Rental Aircraft Avaiable"}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-results-count",children:j.length})," aircraft match your search"]})]}),s.jsxs(M,{variant:"outline",onClick:()=>e(!t),className:"w-full sm:w-auto","data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]}),s.jsxs("div",{className:"flex gap-8",children:[t&&s.jsx("aside",{className:"w-80 flex-shrink-0",children:s.jsx(lX,{keyword:i,setKeyword:a,city:o,setCity:l,state:c,setState:d,radius:u,setRadius:h,onClearAll:g})}),s.jsx("div",{className:"flex-1",children:x?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},v))}):j.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No aircraft found matching your filters"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(v=>s.jsx(YQ,{id:v.id,make:v.make,model:v.model,year:v.year,hourlyRate:v.hourlyRate,image:v.images[0]||"https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=800",location:`${v.location}${v.airportCode?` (${v.airportCode})`:""}`,certifications:v.requiredCertifications,totalTime:v.totalTime,avionics:v.avionicsSuite||"N/A",insuranceIncluded:v.insuranceIncluded||!1,responseTime:v.responseTime||24,acceptanceRate:v.acceptanceRate||95,viewCount:v.viewCount||0,onCardClick:()=>r(v.id)},v.id))})})]})]}),s.jsx("section",{className:"bg-muted py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"font-display text-3xl font-bold text-center mb-12",children:"Why Pilots Trust Ready Set Fly"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Mn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Verified Pilots"}),s.jsx("p",{className:"text-muted-foreground",children:"All pilots are verified with license checks and insurance checks"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Mn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Comprehensive Insurance"}),s.jsx("p",{className:"text-muted-foreground",children:"Owenrs and renters are required to carry comprehensive insurance"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Mn,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"Support Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Our support experts are avaialble to assist you from 8am - 8pm (Central Standard Time) - 7 days a week"})]})]})]})}),n&&s.jsx(H5,{aircraftId:n,open:!!n,onOpenChange:v=>!v&&r(null)})]})}function hZ(){const{isAuthenticated:t}=Ds();return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("div",{className:"relative bg-gradient-to-br from-primary/20 via-background to-background",children:s.jsx("div",{className:"container mx-auto px-4 py-12 sm:py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-6",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold tracking-tight",children:"Ready Set Fly"}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground px-4",children:"The premier hub for General Aviation tools, training, and community"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Ready Set Fly brings pilots, students, and aircraft owners together with modern tools for planning, training, weather, and logbooks - plus a growing marketplace for rentals, schools, and services."}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-3xl mx-auto px-4",children:"Discover flight planning, approach plates, student pilot resources, aviation weather, and ownership calculators in one place. Our mission is to create the most trusted General Aviation platform for pilots at every stage."}),s.jsx(K,{variant:"outline",className:"mx-auto text-xs px-3 py-1",children:"Available for US Residents Only"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Marketplace listings are growing weekly as more schools, instructors, and owners join the community."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[s.jsx(M,{size:"lg",asChild:!0,"data-testid":"button-student-hub",children:s.jsx(Je,{href:"/student",children:"Start Flying"})}),s.jsx(M,{size:"lg",variant:"outline",asChild:!0,"data-testid":"button-pilot-tools",children:s.jsxs(Je,{href:"/pilot-tools",children:[s.jsx(l2,{className:"h-4 w-4 mr-2"}),"Explore Pilot Tools"]})}),s.jsx(M,{size:"lg",variant:"outline",asChild:!0,"data-testid":"button-marketplace",children:s.jsx(Je,{href:"/marketplace",children:"Visit Marketplace"})})]})]})})}),s.jsx(s1,{placement:"home",className:"container mx-auto px-4 py-8 max-w-7xl"}),s.jsx("div",{className:"bg-primary/5 py-12 sm:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsx(L,{className:"border-primary/20",children:s.jsx(U,{className:"p-6 sm:p-8 lg:p-10",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-[1.1fr_0.9fr] items-center",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(K,{variant:"outline",className:"text-xs w-fit",children:"Student Pilot Hub"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"New to flying? Start here."}),s.jsx("p",{className:"text-muted-foreground",children:"Use our Student Pilot tools to map out your journey, estimate training costs, and connect with trusted flight schools near you."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(M,{asChild:!0,children:s.jsx(Je,{href:"/student",children:"Open Student Pilot Hub"})}),s.jsx(M,{variant:"outline",asChild:!0,children:s.jsx(Je,{href:"/marketplace?type=flight-school",children:"Find a Flight School"})})]})]}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{className:"rounded-xl border bg-background/70 p-4",children:[s.jsx("div",{className:"font-semibold",children:"Can I Become a Pilot?"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Quick wizard with timeline, cost range, and next steps."})]}),s.jsxs("div",{className:"rounded-xl border bg-background/70 p-4",children:[s.jsx("div",{className:"font-semibold",children:"Training Roadmap"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Step-by-step milestones with local recommendations."})]}),s.jsxs("div",{className:"rounded-xl border bg-background/70 p-4",children:[s.jsx("div",{className:"font-semibold",children:"Cost & Progress Trackers"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimate costs and track your progress in one place."})]})]})]})})})})})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-background dark:from-blue-950/20 dark:to-background py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"FREE Pilot Resources"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto",children:"Professional tools for pilots and students - free to use, no credit card required"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsx(L,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(c2,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Digital Logbook"}),s.jsx(K,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"FREE Forever"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your flight hours, aircraft types, and build your professional flight log. Export to CSV for your records or applications."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Track PIC, SIC, dual, instrument time & more"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Digital signatures with lock protection"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CSV export for backup & reporting"})]})]}),s.jsx(M,{className:"w-full",asChild:!0,children:s.jsx(Je,{href:t?"/logbook":"/login",children:t?"Open Logbook":"Sign In to Access"})}),!t&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free account required - takes 30 seconds"})]})})}),s.jsx(L,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center",children:s.jsx(cD,{className:"h-8 w-8 text-sky-600 dark:text-sky-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Aviation Weather & Tools"}),s.jsx(K,{variant:"secondary",className:"bg-sky-100 text-sky-800 dark:bg-sky-900/30 dark:text-sky-400",children:"No Sign In Required"}),s.jsx("p",{className:"text-muted-foreground",children:"Get current METAR, TAF, and quick access to essential aviation resources like NOTAMs, TFRs, and flight planning tools."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Live METAR & TAF for any airport"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Quick links to NOTAMs, TFRs & charts"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Flight planning & briefing resources"})]})]}),s.jsx(M,{className:"w-full",variant:"outline",asChild:!0,children:s.jsx(Je,{href:"/pilot-tools",children:"Open Pilot Tools"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free for everyone - no account needed"})]})})}),s.jsx(L,{className:"hover:shadow-lg transition-shadow",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:s.jsx(lD,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Ownership Cost Calculator"}),s.jsx(K,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",children:"New"}),s.jsx("p",{className:"text-muted-foreground",children:"Estimate hourly ownership costs and get a suggested rental price with a built-in 15% margin."}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 text-left w-full",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Include annual fixed and per-hour variable costs"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Adjust utilization to see impact on cost/hr"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Instant recommended rental rate (+15%)"})]})]}),s.jsx(M,{className:"w-full",variant:"outline",asChild:!0,children:s.jsx(Je,{href:"/ownership-cost-calculator",children:"Open Calculator"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Free for everyone - no account needed"})]})})})]})]})}),s.jsxs("div",{id:"features",className:"container mx-auto px-4 py-12 sm:py-16",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"Why Choose Ready Set Fly?"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx(L,{"data-testid":"card-feature-student-hub",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(l2,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Student Pilot Hub"}),s.jsx("p",{className:"text-muted-foreground",children:"Start flying with a guided roadmap, cost estimates, and discovery flight tools built for new pilots."})]})})}),s.jsx(L,{"data-testid":"card-feature-planning",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vt,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Flight Planning Tools"}),s.jsx("p",{className:"text-muted-foreground",children:"Plan routes, estimate time and fuel, and review weather with a modern GA-first flight planner."})]})})}),s.jsx(L,{"data-testid":"card-feature-plates",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(c2,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Approach Plates"}),s.jsx("p",{className:"text-muted-foreground",children:"Fast access to current procedures and charts with safety-first updates for training and IFR prep."})]})})}),s.jsx(L,{"data-testid":"card-feature-logbook",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Mn,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Logbook + Pro Tools"}),s.jsx("p",{className:"text-muted-foreground",children:"Track hours, endorsements, and progress in one place, with Pro upgrades for serious pilots."})]})})}),s.jsx(L,{"data-testid":"card-feature-community",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(hD,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Growing GA Community"}),s.jsx("p",{className:"text-muted-foreground",children:"Find instructors, schools, and services as the marketplace grows alongside engaged pilot tools."})]})})}),s.jsx(L,{"data-testid":"card-feature-transparency",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(xs,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold",children:"Transparent Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Clear pricing and trusted listings built to scale with the community over time."})]})})})]})]}),s.jsx("div",{className:"bg-muted/50 py-12 sm:py-16",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Ready to Take Flight?"}),s.jsx("p",{className:"text-base sm:text-xl text-muted-foreground mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Join thousands of pilots and aircraft owners in the most trusted aviation marketplace."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(M,{size:"lg",onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-cta-login",children:"Create Your Account"}),s.jsx(M,{size:"lg",variant:"outline",onClick:()=>window.location.href="/rentals","data-testid":"button-cta-browse",children:"Browse Listings"})]})]})}),s.jsx("div",{className:"py-12 sm:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(L,{className:"overflow-hidden",children:s.jsx(U,{className:"p-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0",children:[s.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Qz,{className:"h-6 w-6 text-primary"})}),s.jsx(K,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Take Ready Set Fly Anywhere"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Our mobile app is coming soon to iOS and Android. Book aircraft rentals, browse marketplace listings, and manage your account on the go."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Browse and book aircraft on your phone"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Real-time messaging with owners"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:"Manage your listings and rentals anywhere"})]})]})]}),s.jsxs("div",{className:"bg-muted/30 p-6 sm:p-8 lg:p-12 flex flex-col justify-center items-center gap-4",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Download on"}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-app-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"App Store"})]})}),s.jsx("div",{className:"w-full max-w-[200px] h-[60px] rounded-lg border-2 border-muted flex items-center justify-center bg-background/50 cursor-not-allowed opacity-60","data-testid":"badge-play-store",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Available Soon"}),s.jsx("div",{className:"font-semibold",children:"Google Play"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4 max-w-[250px]",children:"Sign up now to be notified when our mobile apps launch"})]})]})})})})})}),s.jsx("div",{className:"py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsx(M,{variant:"ghost",size:"sm",onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-admin-login",className:"text-muted-foreground hover:text-foreground",children:"Admin Login"})})})]})}const mZ=mp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gs=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Re(mZ({variant:e}),t),...n}));Gs.displayName="Alert";const Ph=p.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:Re("mb-1 font-medium leading-none tracking-tight",t),...e}));Ph.displayName="AlertTitle";const Ys=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("text-sm [&_p]:leading-relaxed",t),...e}));Ys.displayName="AlertDescription";const o_={"aircraft-sale":"bg-primary text-primary-foreground",charter:"bg-secondary text-secondary-foreground",cfi:"bg-chart-2 text-white","flight-school":"bg-accent text-accent-foreground",mechanic:"bg-chart-4 text-white",job:"bg-chart-5 text-white"},l_={"aircraft-sale":"For Sale",charter:"Charter",cfi:"CFI","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function pZ({id:t,category:e,title:n,description:r,price:i,location:a,image:o,images:l,tier:c,isExample:d,viewCount:u=0}){return s.jsxs(L,{className:"overflow-hidden hover-elevate transition-all duration-200 hover:scale-[1.02]","data-testid":`card-marketplace-${t}`,children:[d&&s.jsx("div",{className:"bg-amber-500 text-white px-4 py-2 text-center font-semibold text-sm","data-testid":"banner-example",children:"EXAMPLE LISTING - For Reference Only"}),o?s.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[s.jsx("img",{src:o,alt:n,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(K,{className:o_[e],"data-testid":`badge-category-${e}`,children:l_[e]})}),c&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(K,{variant:"outline",className:"bg-background/80 backdrop-blur capitalize",children:c})}),l>0&&s.jsx("div",{className:"absolute bottom-3 right-3",children:s.jsxs(K,{variant:"outline",className:"bg-background/80 backdrop-blur",children:[s.jsx(xx,{className:"h-3 w-3 mr-1"}),l]})})]}):s.jsxs("div",{className:"relative aspect-[3/2] bg-muted flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(K,{className:o_[e],"data-testid":`badge-category-${e}`,children:l_[e]})}),s.jsx(xx,{className:"h-12 w-12 text-muted-foreground/30"})]}),s.jsxs(U,{className:"p-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2","data-testid":`text-title-${t}`,children:n}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:r}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"h-4 w-4"}),s.jsx("span",{children:a})]}),i&&s.jsx("span",{className:"font-bold text-lg","data-testid":`text-price-${t}`,children:i})]}),s.jsxs("div",{className:"mt-3 text-xs text-muted-foreground",children:[u," views"]})]})]})}function fZ(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var n1="ScrollArea",[W5]=Nn(n1),[xZ,Rr]=W5(n1),K5=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=p.useState(null),[d,u]=p.useState(null),[h,m]=p.useState(null),[x,j]=p.useState(null),[g,v]=p.useState(null),[f,b]=p.useState(0),[w,N]=p.useState(0),[P,S]=p.useState(!1),[C,k]=p.useState(!1),I=ut(e,O=>c(O)),A=Su(i);return s.jsx(xZ,{scope:n,type:r,dir:A,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:x,onScrollbarXChange:j,scrollbarXEnabled:P,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:N,children:s.jsx(Xe.div,{dir:A,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":f+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});K5.displayName=n1;var G5="ScrollAreaViewport",Y5=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=Rr(G5,n),l=p.useRef(null),c=ut(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Y5.displayName=G5;var Yi="ScrollAreaScrollbar",r1=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rr(Yi,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(gZ,{...r,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(yZ,{...r,ref:e,forceMount:n}):i.type==="auto"?s.jsx(Q5,{...r,ref:e,forceMount:n}):i.type==="always"?s.jsx(i1,{...r,ref:e}):null});r1.displayName=Yi;var gZ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rr(Yi,t.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(mn,{present:n||a,children:s.jsx(Q5,{"data-state":a?"visible":"hidden",...r,ref:e})})}),yZ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rr(Yi,t.__scopeScrollArea),a=t.orientation==="horizontal",o=hy(()=>c("SCROLL_END"),100),[l,c]=fZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),p.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const x=d[u];h!==x&&(c("SCROLL"),o()),h=x};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(mn,{present:n||l!=="hidden",children:s.jsx(i1,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Q5=p.forwardRef((t,e)=>{const n=Rr(Yi,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=p.useState(!1),l=t.orientation==="horizontal",c=hy(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return uu(n.viewport,c),uu(n.content,c),s.jsx(mn,{present:r||a,children:s.jsx(i1,{"data-state":a?"visible":"hidden",...i,ref:e})})}),i1=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Rr(Yi,t.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=t3(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,x){return SZ(m,o.current,l,x)}return n==="horizontal"?s.jsx(vZ,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,x=c_(m,l,i.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?s.jsx(jZ,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,x=c_(m,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),vZ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Rr(Yi,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=ut(e,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Z5,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(m),n3(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$x(o.paddingLeft),paddingEnd:$x(o.paddingRight)}})}})}),jZ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Rr(Yi,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=ut(e,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Z5,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(m),n3(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$x(o.paddingTop),paddingEnd:$x(o.paddingBottom)}})}})}),[bZ,X5]=W5(Yi),Z5=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=t,x=Rr(Yi,n),[j,g]=p.useState(null),v=ut(e,I=>g(I)),f=p.useRef(null),b=p.useRef(""),w=x.viewport,N=r.content-r.viewport,P=Cs(u),S=Cs(c),C=hy(h,10);function k(I){if(f.current){const A=I.clientX-f.current.left,O=I.clientY-f.current.top;d({x:A,y:O})}}return p.useEffect(()=>{const I=A=>{const O=A.target;(j==null?void 0:j.contains(O))&&P(A,N)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[w,j,N,P]),p.useEffect(S,[r,S]),uu(j,C),uu(x.content,C),s.jsx(bZ,{scope:n,scrollbar:j,hasThumb:i,onThumbChange:Cs(a),onThumbPointerUp:Cs(o),onThumbPositionChange:S,onThumbPointerDown:Cs(l),children:s.jsx(Xe.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Ae(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),f.current=j.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),k(I))}),onPointerMove:Ae(t.onPointerMove,k),onPointerUp:Ae(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=b.current,x.viewport&&(x.viewport.style.scrollBehavior=""),f.current=null})})})}),Lx="ScrollAreaThumb",J5=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=X5(Lx,t.__scopeScrollArea);return s.jsx(mn,{present:n||i.hasThumb,children:s.jsx(wZ,{ref:e,...r})})}),wZ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Rr(Lx,n),o=X5(Lx,n),{onThumbPositionChange:l}=o,c=ut(e,h=>o.onThumbChange(h)),d=p.useRef(void 0),u=hy(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const x=CZ(h,l);d.current=x,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),s.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(t.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),j=h.clientX-x.left,g=h.clientY-x.top;o.onThumbPointerDown({x:j,y:g})}),onPointerUp:Ae(t.onPointerUp,o.onThumbPointerUp)})});J5.displayName=Lx;var a1="ScrollAreaCorner",e3=p.forwardRef((t,e)=>{const n=Rr(a1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(NZ,{...t,ref:e}):null});e3.displayName=a1;var NZ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Rr(a1,n),[a,o]=p.useState(0),[l,c]=p.useState(0),d=!!(a&&l);return uu(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),uu(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?s.jsx(Xe.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function $x(t){return t?parseInt(t,10):0}function t3(t,e){const n=t/e;return isNaN(n)?0:n}function uy(t){const e=t3(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function SZ(t,e,n,r="ltr"){const i=uy(n),a=i/2,o=e||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return s3([c,d],h)(t)}function c_(t,e,n="ltr"){const r=uy(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Vb(t,c);return s3([0,o],[0,l])(d)}function s3(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function n3(t,e){return t>0&&t<e}var CZ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function hy(t,e){const n=Cs(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function uu(t,e){const n=Cs(e);ks(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var r3=K5,_Z=Y5,kZ=e3;const bm=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(r3,{ref:r,className:Re("relative overflow-hidden",t),...n,children:[s.jsx(_Z,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(o1,{}),s.jsx(kZ,{})]}));bm.displayName=r3.displayName;const o1=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>s.jsx(r1,{ref:r,orientation:e,className:Re("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:s.jsx(J5,{className:"relative flex-1 rounded-full bg-border"})}));o1.displayName=r1.displayName;function l1(t){if(!t)return"";const e=typeof t=="string"?parseFloat(t):t;return isNaN(e)?"":`$${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function i3(t){if(!t)return"";const e=t.replace(/\D/g,"");return e.length===10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:e.length===11&&e[0]==="1"?`(${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:t}const PZ=Jn({firstName:ie().min(1,"First name is required"),lastName:ie().min(1,"Last name is required"),email:ie().email("Valid email is required"),phone:ie().optional(),currentJobTitle:ie().optional(),yearsOfExperience:ie().optional(),coverLetter:ie().optional(),resume:VO(File,{message:"Resume is required"})});function EZ({listing:t,open:e,onOpenChange:n}){const{toast:r}=Ot(),[i,a]=p.useState(null),[o,l]=p.useState(!1),c=ar({resolver:or(PZ),defaultValues:{firstName:"",lastName:"",email:"",phone:"",currentJobTitle:"",yearsOfExperience:"",coverLetter:""}}),d=Ie({mutationFn:async x=>{const j=new FormData;j.append("listingId",t.id),j.append("firstName",x.firstName),j.append("lastName",x.lastName),j.append("email",x.email),x.phone&&j.append("phone",x.phone),x.currentJobTitle&&j.append("currentJobTitle",x.currentJobTitle),x.yearsOfExperience&&j.append("yearsOfExperience",x.yearsOfExperience),x.coverLetter&&j.append("coverLetter",x.coverLetter),j.append("resume",x.resume);const g=await fetch("/api/job-applications",{method:"POST",body:j,credentials:"include"});if(!g.ok){const v=await g.json();throw new Error(v.error||"Failed to submit application")}return g.json()},onSuccess:()=>{l(!0),r({title:"Application submitted!",description:"The employer has been notified and will review your application soon."})},onError:x=>{r({title:"Submission failed",description:x.message,variant:"destructive"})}}),u=x=>{var g;const j=(g=x.target.files)==null?void 0:g[0];if(j){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(j.type)){r({title:"Invalid file type",description:"Please upload a PDF or Word document",variant:"destructive"});return}if(j.size>5*1024*1024){r({title:"File too large",description:"Resume must be less than 5MB",variant:"destructive"});return}a(j),c.setValue("resume",j),c.clearErrors("resume")}},h=x=>{d.mutate(x)},m=()=>{d.isPending||(n(!1),setTimeout(()=>{c.reset(),a(null),l(!1)},300))};return s.jsx(Jt,{open:e,onOpenChange:m,children:s.jsx(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-job-application",children:o?s.jsxs("div",{className:"py-8 text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Wt,{className:"w-16 h-16 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Application Submitted Successfully!"}),s.jsx("p",{className:"text-muted-foreground",children:"Your application has been sent to the employer. They will review your resume and contact you if you're a good fit for the position."})]}),s.jsx(M,{onClick:m,className:"mt-4","data-testid":"button-close-success",children:"Close"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Apply for Position"}),s.jsxs(is,{children:[t.title," - ",t.location||"Location not specified"]})]}),s.jsx(Jr,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:c.control,name:"firstName",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"First Name"}),s.jsx(me,{children:s.jsx(B,{...x,placeholder:"John","data-testid":"input-first-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:c.control,name:"lastName",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Last Name"}),s.jsx(me,{children:s.jsx(B,{...x,placeholder:"Doe","data-testid":"input-last-name"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:c.control,name:"email",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Email"}),s.jsx(me,{children:s.jsx(B,{...x,type:"email",placeholder:"john.doe@example.com","data-testid":"input-email"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:c.control,name:"phone",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Phone Number (Optional)"}),s.jsx(me,{children:s.jsx(B,{...x,type:"tel",placeholder:"(555) 123-4567","data-testid":"input-phone"})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:c.control,name:"currentJobTitle",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Current Job Title (Optional)"}),s.jsx(me,{children:s.jsx(B,{...x,placeholder:"e.g., Aviation Mechanic","data-testid":"input-current-job-title"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:c.control,name:"yearsOfExperience",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Years of Experience (Optional)"}),s.jsx(me,{children:s.jsx(B,{...x,placeholder:"e.g., 5 years","data-testid":"input-years-of-experience"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:c.control,name:"coverLetter",render:({field:x})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Cover Letter (Optional)"}),s.jsx(me,{children:s.jsx(as,{...x,placeholder:"Tell the employer why you're a great fit for this position...",className:"min-h-32 resize-none","data-testid":"textarea-cover-letter"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:c.control,name:"resume",render:({field:{value:x,onChange:j,...g}})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Resume (PDF or Word)"}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{...g,type:"file",accept:".pdf,.doc,.docx",onChange:u,className:"hidden",id:"resume-upload","data-testid":"input-resume"}),s.jsx("label",{htmlFor:"resume-upload",children:s.jsx(M,{type:"button",variant:"outline",className:"cursor-pointer",asChild:!0,"data-testid":"button-upload-resume",children:s.jsxs("span",{children:[s.jsx(pp,{className:"w-4 h-4 mr-2"}),"Choose File"]})})}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(In,{className:"w-4 h-4"}),s.jsx("span",{"data-testid":"text-resume-filename",children:i.name}),s.jsxs("span",{className:"text-xs",children:["(",(i.size/1024).toFixed(0)," KB)"]})]})]})})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:m,disabled:d.isPending,"data-testid":"button-cancel",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:d.isPending,"data-testid":"button-submit-application",children:d.isPending?"Submitting...":"Submit Application"})]})]})})]})})})}function a3({listingId:t,listingType:e,variant:n="ghost",size:r="icon",className:i=""}){const{user:a}=Ds(),{toast:o}=Ot(),[l,c]=p.useState(!1),{data:d}=We({queryKey:["/api/favorites/check",e,t],queryFn:async()=>{const j=await fetch(Yt(`/api/favorites/check/${e}/${t}`),{credentials:"include"});if(j.status===404)return{isFavorited:!1};if(!j.ok)throw new Error("Failed to check favorite status");return j.json()},enabled:!!a});p.useEffect(()=>{d&&c(d.isFavorited)},[d]);const u=Ie({mutationFn:async()=>await Te("POST","/api/favorites",{listingType:e,listingId:t}),onSuccess:()=>{c(!0),Le.invalidateQueries({queryKey:["/api/favorites"]}),Le.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Added to favorites",description:"You can view your saved listings in the Favorites page"})},onError:()=>{o({title:"Failed to add favorite",description:"Please try again later",variant:"destructive"})}}),h=Ie({mutationFn:async()=>await Te("DELETE",`/api/favorites/${e}/${t}`,{}),onSuccess:()=>{c(!1),Le.invalidateQueries({queryKey:["/api/favorites"]}),Le.invalidateQueries({queryKey:["/api/favorites/check",e,t]}),o({title:"Removed from favorites"})},onError:()=>{o({title:"Failed to remove favorite",description:"Please try again later",variant:"destructive"})}}),m=j=>{if(j.stopPropagation(),!a){o({title:"Sign in required",description:"Please sign in to save favorites"});return}l?h.mutate():u.mutate()};if(!a)return null;const x=u.isPending||h.isPending;return s.jsx(M,{variant:n,size:r,onClick:m,disabled:x,className:i,"data-testid":`button-favorite-${e}-${t}`,children:s.jsx(Sh,{className:`h-5 w-5 ${l?"fill-red-500 text-red-500":""}`})})}const TZ={"aircraft-sale":Vt,job:GN,cfi:Ul,"flight-school":Mz,mechanic:xD,charter:Vt},Lv={"aircraft-sale":"Aircraft For Sale",charter:"Charter Services",cfi:"CFI Services","flight-school":"Flight School",mechanic:"A&P Mechanic",job:"Job Opening"};function c1({listingId:t,open:e,onOpenChange:n}){const{user:r}=Ds(),{toast:i}=Ot(),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,u]=p.useState(!1),[h,m]=p.useState(!1),[x,j]=p.useState(!1),[g,v]=p.useState(!1),{data:f,isLoading:b}=We({queryKey:["/api/marketplace",t],enabled:e&&!!t});p.useEffect(()=>{if(f){if(o(f.adminNotes||""),f.expiresAt){const O=new Date(f.expiresAt);c(O.toISOString().split("T")[0])}else c("");m(f.userHasFlagged||!1)}},[f==null?void 0:f.id,f==null?void 0:f.adminNotes,f==null?void 0:f.expiresAt]),p.useEffect(()=>{f&&e&&Te("POST",`/api/marketplace/${f.id}/view`,{}).catch(()=>{})},[f==null?void 0:f.id,e]);const w=Ie({mutationFn:async O=>await Te("DELETE",`/api/marketplace/${O}`,{}),onSuccess:()=>{i({title:"Listing Deleted",description:"The marketplace listing has been permanently deleted."}),Le.invalidateQueries({queryKey:["/api/marketplace"]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1)},onError:O=>{i({title:"Delete Failed",description:O.message,variant:"destructive"})}}),N=Ie({mutationFn:async O=>await Te("POST",`/api/marketplace/${O}/flag`,{reason:"Suspected fraud or spam"}),onSuccess:O=>{m(!0),u(!1),i({title:"Listing Flagged",description:`This listing has been flagged for admin review (${O.flagCount} total flags). Thank you for helping keep our marketplace safe.`}),Le.invalidateQueries({queryKey:["/api/marketplace",t]})},onError:O=>{u(!1),O.message&&O.message.includes("already flagged")&&m(!0),i({title:"Flag Failed",description:O.message||"You may have already flagged this listing.",variant:"destructive"})}}),P=Ie({mutationFn:async O=>await Te("PATCH",`/api/admin/marketplace/${t}`,O),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/marketplace",t]}),Le.invalidateQueries({queryKey:["/api/marketplace"]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),i({title:"Listing Updated",description:"Marketplace listing has been updated successfully."})},onError:O=>{i({title:"Update Failed",description:O.message,variant:"destructive"})}}),S=()=>{f&&confirm(`Are you sure you want to permanently delete this ${Lv[f.category]} listing (${f.title})? This action cannot be undone.`)&&w.mutate(f.id)},C=()=>{f&&P.mutate({isActive:!f.isActive})},k=()=>{f&&P.mutate({isFeatured:!f.isFeatured})},I=()=>{P.mutate({adminNotes:a})},A=()=>{if(!l){i({title:"Invalid Date",description:"Please select a valid expiration date.",variant:"destructive"});return}P.mutate({expiresAt:l})};return!f&&!b?null:(f&&TZ[f.category],s.jsxs(s.Fragment,{children:[s.jsx(Jt,{open:e,onOpenChange:n,children:s.jsx(Kt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto","data-testid":"modal-marketplace-listing",children:b?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):f?s.jsxs(s.Fragment,{children:[f.isExample&&s.jsxs("div",{className:"bg-amber-500 text-white px-6 py-3 -mx-6 -mt-6 mb-4 text-center font-semibold","data-testid":"banner-example-modal",children:["EXAMPLE LISTING - For Reference Only",s.jsx("p",{className:"text-sm font-normal mt-1 opacity-90",children:"This is an example to help you create your own quality listing"})]}),s.jsx(es,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(K,{className:"capitalize","data-testid":"badge-category",children:Lv[f.category]}),f.tier&&s.jsxs(K,{variant:"outline",className:"capitalize",children:[f.tier," Tier"]})]}),s.jsx(ts,{className:"font-display text-3xl pr-8",children:f.title}),s.jsxs(is,{className:"sr-only",children:[Lv[f.category]," listing for ",f.title]}),f.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[s.jsx(Aa,{className:"h-4 w-4"}),s.jsx("span",{children:f.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[s.jsx(Ta,{className:"h-4 w-4"}),s.jsxs("span",{children:[f.viewCount||0," views"]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(a3,{listingId:f.id,listingType:"marketplace"}),f.price&&s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-3xl font-bold text-primary",children:["$",parseFloat(f.price).toLocaleString()]})})]})]})}),f.images&&f.images.length>0&&s.jsx("div",{className:"relative",children:s.jsxs(ay,{className:"w-full",children:[s.jsx(oy,{children:f.images.map((O,$)=>s.jsx(ly,{children:s.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:O,alt:`${f.title} - Image ${$+1}`,className:"w-full h-full object-cover"})})},$))}),f.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(cy,{className:"left-4"}),s.jsx(dy,{className:"right-4"})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:"Description"}),s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:f.description})]}),s.jsx(nt,{}),f.details&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-display text-xl font-semibold",children:"Details"}),f.category==="aircraft-sale"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Aircraft Information"}),f.details.make&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Make"}),s.jsx("p",{className:"font-medium",children:f.details.make})]}),f.details.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),s.jsx("p",{className:"font-medium",children:f.details.model})]}),f.details.year&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Year"}),s.jsx("p",{className:"font-medium",children:f.details.year})]}),f.details.registration&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Registration"}),s.jsx("p",{className:"font-medium",children:f.details.registration})]}),f.details.seats&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats"}),s.jsx("p",{className:"font-medium",children:f.details.seats})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Specifications"}),f.details.totalTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Time"}),s.jsxs("p",{className:"font-medium",children:[f.details.totalTime," hours"]})]}),f.details.engineTime&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Engine Time"}),s.jsxs("p",{className:"font-medium",children:[f.details.engineTime," hours"]})]}),f.details.usefulLoad&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Useful Load"}),s.jsxs("p",{className:"font-medium",children:[f.details.usefulLoad," lbs"]})]}),f.details.annualDue&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual Due"}),s.jsx("p",{className:"font-medium",children:f.details.annualDue})]})]}),f.details.avionics&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Avionics Package"}),s.jsx("p",{className:"font-medium",children:f.details.avionics})]}),(f.details.interiorCondition||f.details.exteriorCondition)&&s.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2 gap-4",children:[f.details.interiorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Interior Condition"}),s.jsx(K,{variant:"outline",className:"capitalize mt-1",children:f.details.interiorCondition})]}),f.details.exteriorCondition&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exterior/Paint Condition"}),s.jsx(K,{variant:"outline",className:"capitalize mt-1",children:f.details.exteriorCondition})]})]}),f.details.damageHistory&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Damage History"}),s.jsx("p",{className:"font-medium",children:f.details.damageHistory})]})]}),f.category==="job"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.details.jobTitle&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),s.jsx("p",{className:"font-medium",children:f.details.jobTitle})]}),f.details.company&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),s.jsx("p",{className:"font-medium",children:f.details.company})]}),f.details.employmentType&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Employment Type"}),s.jsx(K,{variant:"outline",className:"capitalize mt-1",children:f.details.employmentType})]}),f.details.salaryRange&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Salary Range"}),s.jsx("p",{className:"font-medium",children:f.details.salaryRange})]}),f.details.requirements&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Requirements"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:f.details.requirements})]})]}),f.category==="cfi"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.details.instructorName&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Instructor Name"}),s.jsx("p",{className:"font-medium",children:f.details.instructorName})]}),f.details.hourlyRate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hourly Rate"}),s.jsxs("p",{className:"font-medium",children:["$",f.details.hourlyRate,"/hr"]})]}),f.details.certifications&&f.details.certifications.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.details.certifications.map((O,$)=>s.jsx(K,{variant:"secondary",children:O},$))})]}),f.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:f.details.specialties})]})]}),f.category==="flight-school"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.details.schoolName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"School Name"}),s.jsx("p",{className:"font-medium text-lg",children:f.details.schoolName})]}),f.details.aircraftFleet&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Fleet"}),s.jsx("p",{className:"font-medium",children:f.details.aircraftFleet})]}),f.details.programsOffered&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Programs Offered"}),s.jsx("p",{className:"font-medium whitespace-pre-wrap",children:f.details.programsOffered})]}),f.details.pricingInfo&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing"}),s.jsx("p",{className:"font-medium",children:f.details.pricingInfo})]})]}),f.category==="mechanic"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.details.businessName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business Name"}),s.jsx("p",{className:"font-medium text-lg",children:f.details.businessName})]}),f.details.specialties&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Specialties"}),s.jsx("p",{className:"font-medium",children:f.details.specialties})]}),f.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:f.details.serviceArea})]})]}),f.category==="charter"&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.details.companyName&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Name"}),s.jsx("p",{className:"font-medium text-lg",children:f.details.companyName})]}),f.details.aircraftAvailable&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Aircraft Available"}),s.jsx("p",{className:"font-medium",children:f.details.aircraftAvailable})]}),f.details.serviceArea&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Area"}),s.jsx("p",{className:"font-medium",children:f.details.serviceArea})]}),f.details.pricingStructure&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pricing Structure"}),s.jsx("p",{className:"font-medium",children:f.details.pricingStructure})]})]})]}),s.jsx(nt,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.contactEmail&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(iu,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("a",{href:`mailto:${f.contactEmail}`,className:"font-medium hover:text-primary",children:f.contactEmail})]})]}),f.contactPhone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gx,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("a",{href:`tel:${f.contactPhone}`,className:"font-medium hover:text-primary",children:i3(f.contactPhone)})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[f.category==="job"?s.jsxs(M,{className:"flex-1",onClick:()=>v(!0),"data-testid":"button-apply-now",size:"lg",children:[s.jsx(GN,{className:"h-4 w-4 mr-2"}),"Apply Now"]}):s.jsxs(s.Fragment,{children:[f.contactEmail&&s.jsxs(M,{className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{if(!r){j(!0);return}const $={"aircraft-sale":"Aircraft for Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Service"}[f.category]||f.category,J=`Inquiry From Ready Set Fly about your ${$} Listing: ${f.title}`,Y=`Hi,

I'm interested in your ${$} listing: ${f.title}

`,q=`mailto:${f.contactEmail}?subject=${encodeURIComponent(J)}&body=${encodeURIComponent(Y)}`;window.location.href=q},"data-testid":"button-contact-seller",children:[s.jsx(iu,{className:"h-4 w-4 mr-2"}),"Contact Seller"]}),f.contactPhone&&s.jsxs(M,{variant:"outline",onClick:()=>{if(!r){j(!0);return}window.location.href=`tel:${f.contactPhone}`},"data-testid":"button-call-seller",children:[s.jsx(gx,{className:"h-4 w-4 mr-2"}),"Call"]})]}),r&&!r.isAdmin&&(h?s.jsxs(K,{variant:"outline",className:"text-muted-foreground","data-testid":"badge-already-flagged",children:[s.jsx(u2,{className:"h-3 w-3 mr-1"}),"Already Flagged"]}):s.jsxs(M,{variant:"outline",onClick:()=>u(!0),disabled:N.isPending,"data-testid":"button-flag-listing",className:"text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(u2,{className:"h-4 w-4 mr-2"}),"Flag as Spam"]}))]}),(r==null?void 0:r.isAdmin)&&s.jsxs("div",{className:"border-t pt-6 mt-6 space-y-6",children:[s.jsx("h3",{className:"font-display text-lg font-semibold",children:"Admin Actions"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{className:"font-semibold",children:"Listing Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.isActive?"Active - visible in search":"Inactive - hidden from search"})]}),s.jsx(gm,{checked:f.isActive||!1,onCheckedChange:C,disabled:P.isPending,"data-testid":"switch-listing-active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{className:"font-semibold",children:"Featured/Boosted"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.isFeatured?"Featured - shown at top":"Normal priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[f.isFeatured&&s.jsx(fl,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"}),s.jsx(gm,{checked:f.isFeatured||!1,onCheckedChange:k,disabled:P.isPending,"data-testid":"switch-listing-featured"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ae,{className:"font-semibold",children:"Extend Expiration Date"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current expiration: ",f.expiresAt?new Date(f.expiresAt).toLocaleDateString():"No expiration"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{type:"date",value:l,onChange:O=>c(O.target.value),"data-testid":"input-expiration-date",className:"flex-1"}),s.jsx(M,{onClick:A,disabled:P.isPending,"data-testid":"button-update-expiration",size:"sm",children:"Update"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ae,{className:"font-semibold",children:"Admin Notes (Internal Only)"}),s.jsx(as,{placeholder:"Add internal notes about this listing, fraud investigations, user support tickets, etc.",value:a,onChange:O=>o(O.target.value),rows:4,"data-testid":"textarea-admin-notes"}),s.jsx(M,{onClick:I,disabled:P.isPending,"data-testid":"button-save-notes",size:"sm",children:"Save Notes"})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx(Je,{href:`/edit-marketplace-listing/${f.id}`,children:s.jsxs(M,{variant:"outline","data-testid":"button-edit-listing",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Edit Listing"]})}),s.jsx(M,{variant:"destructive",onClick:S,disabled:w.isPending,"data-testid":"button-delete-listing",children:w.isPending?"Deleting...":"Delete Listing"})]})]})]}):null})}),s.jsx(rc,{open:d,onOpenChange:u,children:s.jsxs($o,{"data-testid":"dialog-flag-confirm",children:[s.jsxs(Uo,{children:[s.jsx(Vo,{children:"Flag this listing as spam or fraud?"}),s.jsx(zo,{children:"This action will notify administrators to review this listing. False reports may result in account restrictions. Are you sure this listing violates our community guidelines?"})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-flag",children:"Cancel"}),s.jsx(qo,{onClick:()=>{f&&N.mutate(f.id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-flag",children:N.isPending?"Flagging...":"Flag Listing"})]})]})}),s.jsx(rc,{open:x,onOpenChange:j,children:s.jsxs($o,{"data-testid":"dialog-login-prompt",children:[s.jsxs(Uo,{children:[s.jsx(Vo,{children:"Sign in to continue"}),s.jsx(zo,{children:"You need to create an account or sign in to contact sellers, apply for jobs, and interact with listings."})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-login",children:"Continue Browsing"}),s.jsx(qo,{onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-go-login",children:"Sign In / Create Account"})]})]})}),f&&f.category==="job"&&s.jsx(EZ,{listing:f,open:g,onOpenChange:v})]}))}const $v=[{id:"aircraft-sale",label:"Aircraft For Sale",fee:"$25-100/mo"},{id:"job",label:"Aviation Jobs",fee:"$40/mo"},{id:"cfi",label:"CFIs",fee:"$30/mo"},{id:"flight-school",label:"Flight Schools",fee:"$250/mo"},{id:"mechanic",label:"Mechanics",fee:"$40/mo"},{id:"charter",label:"Charter Services",fee:"$250/mo"}];function AZ(){var et;const[t,e]=p.useState("aircraft-sale"),[n,r]=p.useState(null),[i,a]=p.useState(!1),[o,l]=p.useState([]),[c,d]=p.useState(!1),[u,h]=p.useState("aircraft-sale"),[m,x]=p.useState(!1),[j,g]=p.useState(!1),[v,f]=p.useState(""),[b,w]=p.useState(""),[N,P]=p.useState(""),[S,C]=p.useState("all"),[k,I]=p.useState(""),[A,O]=p.useState("100"),[$,J]=p.useState("all"),[Y,q]=p.useState(!1),[,de]=an();p.useEffect(()=>{if(Y||typeof window>"u")return;const se=new URLSearchParams(window.location.search),je=se.get("type"),Oe=se.get("location"),ne=se.get("radius"),he=se.get("tags");je&&$v.some(Fe=>Fe.id===je)&&e(je),Oe&&f(Oe),ne&&O(ne),he&&I(he),(je||Oe||ne||he)&&a(!0),q(!0)},[Y]);const z=(()=>{const se=new URLSearchParams;return t&&se.set("category",t),v&&se.set("city",v),b&&se.set("minPrice",b),N&&se.set("maxPrice",N),S&&S!=="all"&&se.set("engineType",S),k&&se.set("keyword",k),A&&se.set("radius",A),$&&$!=="all"&&se.set("cfiRating",$),se.toString()})(),{data:R=[],isLoading:Q}=We({queryKey:["/api/marketplace",t,v,b,N,S,k,A,$],queryFn:async()=>{const se=await fetch(Yt(`/api/marketplace?${z}`));if(!se.ok)throw new Error("Failed to fetch listings");return se.json()}}),{data:ue=[]}=We({queryKey:["/api/promo-alerts"]});p.useEffect(()=>{if(u!==t){h(t);const se=`promo-seen-${t}`;localStorage.getItem(se)||ue.find(ne=>ne.showOnCategoryPages&&(!ne.targetCategories||ne.targetCategories.length===0||ne.targetCategories.includes(t)))&&(d(!0),localStorage.setItem(se,"true"))}},[t,u,ue]);const F=se=>{l(je=>[...je,se])},ve=ue.filter(se=>se.showOnMainPage&&!o.includes(se.id)),Me=ue.find(se=>se.showOnCategoryPages&&(!se.targetCategories||se.targetCategories.length===0||se.targetCategories.includes(t)));return p.useEffect(()=>{Q||j||t==="flight-school"&&(R.length>0||!Y&&!v&&!k||(x(!0),g(!0)))},[t,Q,R.length,Y,v,k,j]),s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"bg-muted py-8 sm:py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3 sm:mb-4","data-testid":"text-marketplace-title",children:"Aviation Marketplace"}),s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl",children:"Connect with the aviation community. Buy, sell, and find professional services."})]})}),s.jsx("section",{className:"border-b bg-background sticky top-16 z-40",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(bm,{className:"w-full whitespace-nowrap",children:[s.jsx("div",{className:"flex gap-2 py-4",children:$v.map(se=>s.jsxs(M,{variant:t===se.id?"default":"outline",onClick:()=>e(se.id),className:"rounded-full shrink-0","data-testid":`button-category-${se.id}`,children:[se.label,s.jsx("span",{className:"ml-2 text-xs opacity-70",children:se.fee})]},se.id))}),s.jsx(o1,{orientation:"horizontal"})]})})}),s.jsxs("section",{className:"container mx-auto px-4 py-12",children:[ve.map(se=>s.jsxs(Gs,{className:"mb-6 border-green-500 bg-green-50 dark:bg-green-950/20","data-testid":`alert-promo-${se.id}`,children:[s.jsx(Nh,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ph,{className:"text-green-800 dark:text-green-200 font-semibold",children:se.title}),s.jsxs(Ys,{className:"text-green-700 dark:text-green-300",children:[se.message,se.promoCode&&s.jsx("span",{className:"inline-block ml-2 px-2 py-1 bg-green-600 text-white text-xs font-mono rounded",children:se.promoCode})]})]}),s.jsx(M,{variant:"ghost",size:"icon",onClick:()=>F(se.id),className:"text-green-600 hover:text-green-800 dark:text-green-400","data-testid":`button-dismiss-alert-${se.id}`,children:s.jsx(fp,{className:"h-4 w-4"})})]},se.id)),s.jsx(s1,{placement:"marketplace",category:t,className:"mb-8"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-display text-xl sm:text-2xl font-bold mb-1",children:(et=$v.find(se=>se.id===t))==null?void 0:et.label}),s.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground",children:[s.jsx("span",{"data-testid":"text-marketplace-count",children:R.length})," active listings"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{variant:"outline",onClick:()=>a(!i),className:"flex-1 sm:flex-initial","data-testid":"button-toggle-filters",children:[s.jsx(Yz,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsx(M,{variant:"default",onClick:()=>de("/create-marketplace-listing"),className:"flex-1 sm:flex-initial","data-testid":"button-create-listing",children:"Create Listing"})]})]}),i&&s.jsx(L,{className:"mb-6",children:s.jsxs(U,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t==="job"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"keyword-filter",children:"Keyword Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"keyword-filter",placeholder:"e.g. pilot, mechanic, CFI...",value:k,onChange:se=>I(se.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"city-filter",placeholder:"Search by city...",value:v,onChange:se=>f(se.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"radius-filter",children:"Distance (miles)"}),s.jsxs(gs,{value:A,onValueChange:O,children:[s.jsx(cs,{id:"radius-filter","data-testid":"select-radius-filter",children:s.jsx(ys,{placeholder:"Select radius"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"10",children:"Within 10 miles"}),s.jsx(_e,{value:"25",children:"Within 25 miles"}),s.jsx(_e,{value:"50",children:"Within 50 miles"}),s.jsx(_e,{value:"100",children:"Within 100 miles"}),s.jsx(_e,{value:"250",children:"Within 250 miles"}),s.jsx(_e,{value:"500",children:"Within 500 miles"}),s.jsx(_e,{value:"999999",children:"Any distance"})]})]})]})]}),t==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"city-filter",placeholder:"Search by city...",value:v,onChange:se=>f(se.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"min-price",children:"Min Price"}),s.jsx(B,{id:"min-price",type:"number",placeholder:"$0",value:b,onChange:se=>w(se.target.value),"data-testid":"input-min-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"max-price",children:"Max Price"}),s.jsx(B,{id:"max-price",type:"number",placeholder:"No max",value:N,onChange:se=>P(se.target.value),"data-testid":"input-max-price"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"engine-type",children:"Engine Type"}),s.jsxs(gs,{value:S,onValueChange:C,children:[s.jsx(cs,{id:"engine-type","data-testid":"select-engine-type",children:s.jsx(ys,{placeholder:"All types"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"all",children:"All types"}),s.jsx(_e,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(_e,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(_e,{value:"Turboprop",children:"Turboprop"}),s.jsx(_e,{value:"Jet",children:"Jet"}),s.jsx(_e,{value:"Rotor",children:"Rotor (Helicopters)"})]})]})]})]}),t==="cfi"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"keyword-filter",placeholder:"Search by name, certifications...",value:k,onChange:se=>I(se.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cfi-rating",children:"Rating / Certification"}),s.jsxs(gs,{value:$,onValueChange:J,children:[s.jsx(cs,{id:"cfi-rating","data-testid":"select-cfi-rating",children:s.jsx(ys,{placeholder:"All ratings"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"all",children:"All ratings"}),s.jsx(_e,{value:"CFI",children:"CFI (Basic)"}),s.jsx(_e,{value:"CFII",children:"CFII (Instrument)"}),s.jsx(_e,{value:"MEI",children:"MEI (Multi-Engine)"}),s.jsx(_e,{value:"ATP",children:"ATP"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"city-filter",placeholder:"Search by city...",value:v,onChange:se=>f(se.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]}),["flight-school","mechanic","charter"].includes(t)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"keyword-filter",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"keyword-filter",placeholder:"Search by name, services...",value:k,onChange:se=>I(se.target.value),className:"pl-9","data-testid":"input-keyword-filter"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"city-filter",children:"City"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(B,{id:"city-filter",placeholder:"Search by city...",value:v,onChange:se=>f(se.target.value),className:"pl-9","data-testid":"input-city-filter"})]})]})]})]}),(v||b||N||S!=="all"||k||A!=="100"||$!=="all")&&s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx(M,{variant:"ghost",onClick:()=>{f(""),w(""),P(""),C("all"),I(""),O("100"),J("all")},"data-testid":"button-clear-filters",children:"Clear all filters"})})]})}),Q?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(se=>s.jsx("div",{className:"h-96 rounded-xl bg-muted animate-pulse"},se))}):R.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No listings in this category yet"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(se=>{var je,Oe;return s.jsx("div",{onClick:()=>r(se.id),className:"cursor-pointer",children:s.jsx(pZ,{id:se.id,category:se.category,title:se.title,description:se.description,price:l1(se.price),location:se.city&&se.state?`${se.city}, ${se.state}`:se.location||"N/A",image:(je=se.images)==null?void 0:je[0],images:((Oe=se.images)==null?void 0:Oe.length)||0,tier:se.tier||void 0,isExample:se.isExample||!1,viewCount:se.viewCount||0})},se.id)})})]}),n&&s.jsx(c1,{listingId:n,open:!!n,onOpenChange:se=>!se&&r(null)}),Me&&s.jsx(Jt,{open:c,onOpenChange:d,children:s.jsxs(Kt,{className:"sm:max-w-md","data-testid":"dialog-promo-modal",children:[s.jsxs(es,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(Nh,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx(ts,{className:"text-xl",children:Me.title})})]}),s.jsx(is,{className:"text-base",children:Me.message})]}),Me.promoCode&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg border-2 border-dashed border-green-500",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2 text-center",children:"Your Promo Code"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-center text-green-600 dark:text-green-400","data-testid":"text-promo-code",children:Me.promoCode})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(M,{onClick:()=>d(!1),"data-testid":"button-close-promo-modal",children:"Got it, thanks!"})})]})}),s.jsx(Jt,{open:m,onOpenChange:x,children:s.jsxs(Kt,{className:"sm:max-w-md","data-testid":"dialog-flight-school-empty",children:[s.jsxs(es,{children:[s.jsx(ts,{className:"text-xl",children:"Flight schools are coming soon"}),s.jsx(is,{className:"text-base",children:"We are actively onboarding flight schools in your area. Check back soon as new listings go live."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[s.jsx(M,{variant:"default",onClick:()=>e("cfi"),"data-testid":"button-flight-school-to-cfi",children:"Explore CFIs"}),s.jsx(M,{variant:"outline",onClick:()=>x(!1),"data-testid":"button-flight-school-close",children:"Got it"})]})]})})]})}var my="Tabs",[FZ]=Nn(my,[Bg]),o3=Bg(),[RZ,d1]=FZ(my),l3=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Su(l),[h,m]=fr({prop:r,onChange:i,defaultProp:a??"",caller:my});return s.jsx(RZ,{scope:n,baseId:ur(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Xe.div,{dir:u,"data-orientation":o,...d,ref:e})})});l3.displayName=my;var c3="TabsList",d3=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=d1(c3,n),o=o3(n);return s.jsx(jI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});d3.displayName=c3;var u3="TabsTrigger",h3=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=d1(u3,n),l=o3(n),c=f3(o.baseId,r),d=x3(o.baseId,r),u=r===o.value;return s.jsx(bI,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(Xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Ae(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ae(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ae(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});h3.displayName=u3;var m3="TabsContent",p3=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=d1(m3,n),c=f3(l.baseId,r),d=x3(l.baseId,r),u=r===l.value,h=p.useRef(u);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(mn,{present:i||u,children:({present:m})=>s.jsx(Xe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});p3.displayName=m3;function f3(t,e){return`${t}-trigger-${e}`}function x3(t,e){return`${t}-content-${e}`}var DZ=l3,g3=d3,y3=h3,v3=p3;const _u=DZ,pc=p.forwardRef(({className:t,...e},n)=>s.jsx(g3,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pc.displayName=g3.displayName;const Ft=p.forwardRef(({className:t,...e},n)=>s.jsx(y3,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ft.displayName=y3.displayName;const Ut=p.forwardRef(({className:t,...e},n)=>s.jsx(v3,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ut.displayName=v3.displayName;const u1=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",t),...e})}));u1.displayName="Table";const h1=p.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",t),...e}));h1.displayName="TableHeader";const m1=p.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",t),...e}));m1.displayName="TableBody";const IZ=p.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));IZ.displayName="TableFooter";const cd=p.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));cd.displayName="TableRow";const cn=p.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));cn.displayName="TableHead";const Zs=p.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Zs.displayName="TableCell";const OZ=p.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-muted-foreground",t),...e}));OZ.displayName="TableCaption";function Qb({rating:t,totalReviews:e,size:n="md",showCount:r=!0}){const i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},a=()=>{const o=[],l=Math.floor(t),c=t%1>=.5;for(let d=0;d<5;d++)d<l?o.push(s.jsx(fl,{className:`${i[n]} fill-yellow-400 text-yellow-400`,"data-testid":`star-filled-${d}`},d)):d===l&&c?o.push(s.jsxs("div",{className:"relative","data-testid":`star-half-${d}`,children:[s.jsx(fl,{className:`${i[n]} text-gray-300`}),s.jsx("div",{className:"absolute top-0 left-0 w-1/2 overflow-hidden",children:s.jsx(fl,{className:`${i[n]} fill-yellow-400 text-yellow-400`})})]},d)):o.push(s.jsx(fl,{className:`${i[n]} text-gray-300`,"data-testid":`star-empty-${d}`},d));return o};return s.jsxs("div",{className:"flex items-center gap-1","data-testid":"star-rating",children:[s.jsx("div",{className:"flex gap-0.5",children:a()}),r&&e!==void 0&&s.jsxs("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"review-count",children:["(",e,")"]}),!r&&s.jsx("span",{className:"text-sm text-muted-foreground ml-1","data-testid":"rating-value",children:t.toFixed(1)})]})}function MZ(){const[,t]=an(),{user:e}=Ds(),{toast:n}=Ot(),{data:r}=We({queryKey:["/api/users",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:i=[]}=We({queryKey:["/api/aircraft"]}),a=i.filter(S=>S.ownerId===(e==null?void 0:e.id)),{data:o=[]}=We({queryKey:["/api/rentals/owner",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:l=[]}=We({queryKey:["/api/rentals/renter",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:c=[]}=We({queryKey:["/api/transactions/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:d=[]}=We({queryKey:["/api/users"]}),u=o.filter(S=>S.status==="completed"),h=o.filter(S=>S.status==="active"),m=o.filter(S=>S.status==="pending"),x=l.filter(S=>S.status==="pending"),j=l.filter(S=>S.status==="approved"&&!S.isPaid),g=u.filter(S=>S.payoutCompleted).reduce((S,C)=>S+parseFloat(C.ownerPayout),0),v=u.filter(S=>!S.payoutCompleted).reduce((S,C)=>S+parseFloat(C.ownerPayout),0),f=a.filter(S=>S.isListed).length,b=h.length,w=()=>{t("/owner-withdrawals")},N=Ie({mutationFn:async S=>await Te("PATCH",`/api/rentals/${S}`,{status:"approved"}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Approved",description:"The renter has been notified and can now proceed with payment."})},onError:S=>{n({title:"Error",description:S.message||"Failed to approve request",variant:"destructive"})}}),P=Ie({mutationFn:async S=>await Te("PATCH",`/api/rentals/${S}`,{status:"cancelled"}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/rentals/owner",e==null?void 0:e.id]}),n({title:"Request Declined",description:"The rental request has been cancelled."})},onError:S=>{n({title:"Error",description:S.message||"Failed to decline request",variant:"destructive"})}});return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-dashboard-title",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rentals, listings, and earnings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",g.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",c.filter(S=>S.status==="completed").length," completed rentals"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-pending-payouts",children:["$",v.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",u.filter(S=>!S.payoutCompleted).length," completed rentals"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Active Listings"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-listings",children:f}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," total aircraft"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Active Rentals"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-rentals",children:b}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently rented"})]})]})]}),!(r!=null&&r.paypalEmail)&&v>0&&s.jsxs(Gs,{className:"mb-6 border-accent","data-testid":"alert-paypal-setup",children:[s.jsx(wh,{className:"h-4 w-4"}),s.jsx(Ph,{children:"PayPal Account Required"}),s.jsxs(Ys,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("span",{children:["Set up your PayPal account to receive instant payouts of $",v.toFixed(2)]}),s.jsx(M,{onClick:w,"data-testid":"button-setup-paypal",className:"w-full sm:w-auto",children:"Setup PayPal Payouts"})]})]}),(r==null?void 0:r.paypalEmail)&&s.jsxs(Gs,{className:"mb-6 border-chart-2","data-testid":"alert-paypal-connected",children:[s.jsx(Wt,{className:"h-4 w-4 text-chart-2"}),s.jsx(Ph,{children:"PayPal Account Connected"}),s.jsxs(Ys,{children:["Your PayPal account (",r.paypalEmail,") is ready to receive instant payouts"]})]}),j.length>0&&s.jsxs(Gs,{className:"mb-6 border-accent","data-testid":"alert-payment-needed",children:[s.jsx(Ql,{className:"h-4 w-4"}),s.jsx(Ph,{children:"Payment Required"}),s.jsx(Ys,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:["You have ",j.length," approved rental",j.length>1?"s":""," awaiting payment."]}),s.jsx("div",{className:"space-y-2",children:j.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 bg-background rounded-lg border","data-testid":`alert-payment-rental-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-foreground",children:[C==null?void 0:C.year," ",C==null?void 0:C.make," ",C==null?void 0:C.model]}),s.jsxs("p",{className:"text-sm",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between sm:flex-col sm:items-end gap-2",children:[s.jsxs("p",{className:"font-bold text-foreground",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsx(M,{size:"sm",className:"bg-accent text-accent-foreground hover:bg-accent",onClick:()=>{window.location.href=`/rental-payment/${S.id}`},"data-testid":`button-pay-rental-${S.id}`,children:"Pay Now"})]})]},S.id)})})]})})]}),s.jsxs(_u,{defaultValue:m.length>0?"pending":"active",className:"space-y-6",children:[s.jsxs(pc,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 h-auto","data-testid":"tabs-dashboard",children:[s.jsxs(Ft,{value:"pending","data-testid":"tab-pending",className:"flex-col sm:flex-row gap-1",children:[s.jsx("span",{className:"text-xs sm:text-sm",children:"Pending"}),m.length>0&&s.jsx(K,{className:"bg-accent text-accent-foreground text-xs",children:m.length})]}),s.jsx(Ft,{value:"active","data-testid":"tab-active",className:"text-xs sm:text-sm",children:"Active"}),s.jsx(Ft,{value:"upcoming","data-testid":"tab-upcoming",className:"text-xs sm:text-sm",children:"Upcoming"}),s.jsx(Ft,{value:"past","data-testid":"tab-past",className:"text-xs sm:text-sm",children:"Past"}),s.jsx(Ft,{value:"listings","data-testid":"tab-listings",className:"text-xs sm:text-sm",children:"Listings"}),s.jsx(Ft,{value:"financials","data-testid":"tab-financials",className:"text-xs sm:text-sm",children:"Financials"})]}),s.jsxs(Ut,{value:"pending",className:"space-y-4",children:[s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Pending Rental Requests"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending requests at this time"}):m.map(S=>{const C=i.find(I=>I.id===S.aircraftId),k=d.find(I=>I.id===S.renterId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`rental-pending-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Renter: ",k==null?void 0:k.firstName," ",k==null?void 0:k.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]}),(k==null?void 0:k.averageRating)&&(k==null?void 0:k.totalReviews)&&k.totalReviews>0&&s.jsx(Qb,{rating:parseFloat(k.averageRating),totalReviews:k.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(S.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(S.ownerPayout).toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[s.jsx(K,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{size:"sm",className:"bg-chart-2 text-white hover:bg-chart-2 flex-1 sm:flex-none",onClick:()=>N.mutate(S.id),disabled:N.isPending||P.isPending,"data-testid":`button-approve-${S.id}`,children:"Approve"}),s.jsx(M,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>P.mutate(S.id),disabled:N.isPending||P.isPending,"data-testid":`button-decline-${S.id}`,children:"Decline"})]})]})]})]},S.id)})})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"My Rental Requests"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests you've sent to aircraft owners"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending rental requests"}):x.map(S=>{const C=i.find(I=>I.id===S.aircraftId),k=d.find(I=>I.id===S.ownerId);return s.jsxs("div",{className:"flex flex-col gap-4 p-4 border rounded-lg hover-elevate","data-testid":`my-rental-request-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Owner: ",k==null?void 0:k.firstName," ",k==null?void 0:k.lastName]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]}),(k==null?void 0:k.averageRating)&&(k==null?void 0:k.totalReviews)&&k.totalReviews>0&&s.jsx(Qb,{rating:parseFloat(k.averageRating),totalReviews:k.totalReviews||0,size:"sm"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[parseFloat(S.estimatedHours)," flight hours estimated"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total cost"})]}),s.jsx(K,{variant:"outline",className:"bg-accent/10 text-accent border-accent text-center",children:"Pending Review"})]})]},S.id)})})})]})]}),s.jsx(Ut,{value:"active",className:"space-y-4",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Active Rentals"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active rentals at this time"}):h.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 border rounded-lg hover-elevate","data-testid":`rental-active-${S.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold mb-1",children:[(C==null?void 0:C.year)||""," ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Rented to: Renter #",S.renterId.substring(0,8)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(S.startDate).toLocaleDateString()," - ",new Date(S.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(S.totalCostRenter).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your payout: $",parseFloat(S.ownerPayout).toFixed(2)]})]}),s.jsx(K,{className:"bg-chart-2 text-white text-center",children:"Active"}),s.jsx(M,{size:"sm",className:"w-full sm:w-auto","data-testid":`button-message-${S.id}`,children:"Message"})]})]},S.id)})})})]})}),s.jsx(Ut,{value:"listings",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"My Listings"}),s.jsx(Ne,{children:"Manage your aircraft and marketplace listings"})]}),s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"View and manage all your listings in one place"}),s.jsx(M,{onClick:()=>t("/my-listings"),className:"w-full sm:w-auto","data-testid":"button-view-my-listings",children:"Go to My Listings"})]})]})}),s.jsx(Ut,{value:"financials",children:s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx(Z,{children:"Financial Transactions"}),s.jsx(M,{variant:"default",className:"bg-accent text-accent-foreground hover:bg-accent w-full sm:w-auto",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-manage-withdrawals",children:"Manage Withdrawals"})]}),s.jsx(U,{className:"overflow-x-auto",children:s.jsxs(u1,{children:[s.jsx(h1,{children:s.jsxs(cd,{children:[s.jsx(cn,{children:"Date"}),s.jsx(cn,{children:"Description"}),s.jsx(cn,{children:"Type"}),s.jsx(cn,{children:"Amount"}),s.jsx(cn,{children:"Status"})]})}),s.jsx(m1,{children:u.length===0?s.jsx(cd,{children:s.jsx(Zs,{colSpan:5,className:"text-center text-muted-foreground",children:"No completed rentals yet"})}):u.map(S=>{const C=i.find(k=>k.id===S.aircraftId);return s.jsxs(cd,{"data-testid":`transaction-${S.id}`,children:[s.jsx(Zs,{children:new Date(S.endDate).toLocaleDateString()}),s.jsxs(Zs,{children:["Rental payout - ",(C==null?void 0:C.make)||"Unknown"," ",(C==null?void 0:C.model)||""]}),s.jsx(Zs,{children:s.jsx(K,{variant:"outline",children:"Payout"})}),s.jsxs(Zs,{className:"font-semibold",children:["$",parseFloat(S.ownerPayout).toFixed(2)]}),s.jsx(Zs,{children:S.payoutCompleted?s.jsx(K,{className:"bg-chart-2 text-white",children:"Completed"}):s.jsx(K,{variant:"outline",children:"Pending"})})]},S.id)})})]})})]})})]})]})})}const we=Symbol.for("drizzle:entityKind");function Ls(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,we))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(we in n&&n[we]===e[we])return!0;n=Object.getPrototypeOf(n)}return!1}var oP;oP=we;class hu{constructor(e,n){E(this,"name");E(this,"keyAsName");E(this,"primary");E(this,"notNull");E(this,"default");E(this,"defaultFn");E(this,"onUpdateFn");E(this,"hasDefault");E(this,"isUnique");E(this,"uniqueName");E(this,"uniqueType");E(this,"dataType");E(this,"columnType");E(this,"enumValues");E(this,"generated");E(this,"generatedIdentity");E(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}E(hu,oP,"Column");var lP;lP=we;class j3{constructor(e,n,r){E(this,"config");E(this,"$default",this.$defaultFn);E(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}E(j3,lP,"ColumnBuilder");const dd=Symbol.for("drizzle:Name");var cP;cP=we;class p1{constructor(e,n){E(this,"reference");E(this,"_onUpdate","no action");E(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new b3(e,this)}}E(p1,cP,"PgForeignKeyBuilder");var dP;dP=we;class b3{constructor(e,n){E(this,"reference");E(this,"onUpdate");E(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[dd],...i,r[0].table[dd],...a];return e??`${o.join("_")}_fk`}}E(b3,dP,"PgForeignKey");function LZ(t){function e(){const{name:n,columns:r,foreignColumns:i}=t;return{name:n,columns:r,foreignColumns:i}}return new p1(e)}function $Z(t,...e){return t(...e)}function UZ(t,e){return`${t[dd]}_${e.join("_")}_unique`}function d_(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function w3(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=d_(t,r+1,!0);n.push(c),r=d;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,d]=w3(t,r+1);n.push(c),r=d;continue}const[o,l]=d_(t,r,!1);n.push(o),r=l}return[n,r]}function BZ(t){const[e]=w3(t,1);return e}function N3(t){return`{${t.map(e=>Array.isArray(e)?N3(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var uP,hP;class Ct extends(hP=j3,uP=we,hP){constructor(){super(...arguments);E(this,"foreignKeyConfigs",[])}array(n){return new C3(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>$Z((o,l)=>{const c=new p1(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new S3(n,this.config)}}E(Ct,uP,"PgColumnBuilder");var mP,pP;class pt extends(pP=hu,mP=we,pP){constructor(e,n){n.uniqueName||(n.uniqueName=UZ(e,[n.name])),super(e,n),this.table=e}}E(pt,mP,"PgColumn");var fP,xP;class S3 extends(xP=pt,fP=we,xP){constructor(){super(...arguments);E(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});E(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}E(S3,fP,"ExtraConfigColumn");var gP;gP=we;class $f{constructor(e,n,r,i){E(this,"name");E(this,"keyAsName");E(this,"type");E(this,"indexConfig");this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}}E($f,gP,"IndexedColumn");var yP,vP;class C3 extends(vP=Ct,yP=we,vP){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Xb(e,this.config,n)}}E(C3,yP,"PgArrayBuilder");var jP,bP;const Xx=class Xx extends(bP=pt,jP=we,bP){constructor(n,r,i,a){super(n,r);E(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=BZ(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:Ls(this.baseColumn,Xx)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:N3(i)}};E(Xx,jP,"PgArray");let Xb=Xx;const u_=Symbol.for("drizzle:isPgEnum");function VZ(t){return!!t&&typeof t=="function"&&u_ in t&&t[u_]===!0}var wP;wP=we;class f1{constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}E(f1,wP,"Subquery");const zZ={startActiveSpan(t,e){return e()}},ud=Symbol.for("drizzle:ViewBaseConfig"),Uv=Symbol.for("drizzle:Schema"),h_=Symbol.for("drizzle:Columns"),m_=Symbol.for("drizzle:ExtraConfigColumns"),Bv=Symbol.for("drizzle:OriginalName"),Vv=Symbol.for("drizzle:BaseName"),Ux=Symbol.for("drizzle:IsAlias"),p_=Symbol.for("drizzle:ExtraConfigBuilder"),_3=Symbol.for("drizzle:IsDrizzleTable");var NP,SP,CP,_P,kP,PP,EP,TP,AP,FP;FP=we,AP=dd,TP=Bv,EP=Uv,PP=h_,kP=m_,_P=Vv,CP=Ux,SP=_3,NP=p_;class Rn{constructor(e,n,r){E(this,AP);E(this,TP);E(this,EP);E(this,PP);E(this,kP);E(this,_P);E(this,CP,!1);E(this,SP,!0);E(this,NP);this[dd]=this[Bv]=e,this[Uv]=n,this[Vv]=r}}E(Rn,FP,"Table"),E(Rn,"Symbol",{Name:dd,Schema:Uv,OriginalName:Bv,Columns:h_,ExtraConfigColumns:m_,BaseName:Vv,IsAlias:Ux,ExtraConfigBuilder:p_});function k3(t){return typeof t=="object"&&t!==null&&_3 in t}function qZ(t){return t!=null&&typeof t.getSQL=="function"}function HZ(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var RP;RP=we;class wr{constructor(e){E(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new _s([this])}}E(wr,RP,"StringChunk");var DP;DP=we;const cl=class cl{constructor(e){E(this,"decoder",P3);E(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return zZ.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return HZ(e.map(u=>{var h;if(Ls(u,wr))return{sql:u.value.join(""),params:[]};if(Ls(u,Bx))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new wr("(")];for(const[x,j]of u.entries())m.push(j),x<u.length-1&&m.push(new wr(", "));return m.push(new wr(")")),this.buildQueryFromSourceParams(m,r)}if(Ls(u,cl))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(Ls(u,Rn)){const m=u[Rn.Symbol.Schema],x=u[Rn.Symbol.Name];return{sql:m===void 0||u[Ux]?a(x):a(m)+"."+a(x),params:[]}}if(Ls(u,hu)){const m=i.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const x=u.table[Rn.Symbol.Schema];return{sql:u.table[Ux]||x===void 0?a(u.table[Rn.Symbol.Name])+"."+a(m):a(x)+"."+a(u.table[Rn.Symbol.Name])+"."+a(m),params:[]}}if(Ls(u,A3)){const m=u[ud].schema,x=u[ud].name;return{sql:m===void 0||u[ud].isAlias?a(x):a(m)+"."+a(x),params:[]}}if(Ls(u,x1)){if(Ls(u.value,Vx))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Ls(m,cl))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let x=["none"];return l&&(x=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:x}}return Ls(u,Vx)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Ls(u,cl.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:Ls(u,f1)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new wr("("),u._.sql,new wr(") "),new Bx(u._.alias)],r):VZ(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:qZ(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new wr("("),u.getSQL(),new wr(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new cl.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};E(cl,DP,"SQL");let _s=cl;var IP;IP=we;class Bx{constructor(e){E(this,"brand");this.value=e}getSQL(){return new _s([this])}}E(Bx,IP,"Name");const P3={mapFromDriverValue:t=>t},E3={mapToDriverValue:t=>t};({...P3,...E3});var OP;OP=we;class x1{constructor(e,n=E3){E(this,"brand");this.value=e,this.encoder=n}getSQL(){return new _s([this])}}E(x1,OP,"Param");function Ze(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new wr(t[0]));for(const[r,i]of e.entries())n.push(i,new wr(t[r+1]));return new _s(n)}(t=>{function e(){return new _s([])}t.empty=e;function n(c){return new _s(c)}t.fromList=n;function r(c){return new _s([new wr(c)])}t.raw=r;function i(c,d){const u=[];for(const[h,m]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(m);return new _s(u)}t.join=i;function a(c){return new Bx(c)}t.identifier=a;function o(c){return new Vx(c)}t.placeholder=o;function l(c,d){return new x1(c,d)}t.param=l})(Ze||(Ze={}));(t=>{var n;n=we;const r=class r{constructor(a,o){E(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};E(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(_s||(_s={}));var MP;MP=we;class Vx{constructor(e){this.name=e}getSQL(){return new _s([this])}}E(Vx,MP,"Placeholder");const T3=Symbol.for("drizzle:IsDrizzleView");var LP,$P,UP;UP=we,$P=ud,LP=T3;class A3{constructor({name:e,schema:n,selectedFields:r,query:i}){E(this,$P);E(this,LP,!0);this[ud]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new _s([this])}}E(A3,UP,"View");function WZ(t){return typeof t=="object"&&t!==null&&T3 in t}hu.prototype.getSQL=function(){return new _s([this])};Rn.prototype.getSQL=function(){return new _s([this])};f1.prototype.getSQL=function(){return new _s([this])};function KZ(t){return t[Rn.Symbol.Columns]}function GZ(t){return t[ud].selectedFields}function on(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var BP,VP;class Sp extends(VP=Ct,BP=we,VP){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}E(Sp,BP,"PgIntColumnBaseBuilder");var zP,qP;class F3 extends(qP=Sp,zP=we,qP){constructor(e){super(e,"number","PgBigInt53")}build(e){return new R3(e,this.config)}}E(F3,zP,"PgBigInt53Builder");var HP,WP;class R3 extends(WP=pt,HP=we,WP){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}E(R3,HP,"PgBigInt53");var KP,GP;class D3 extends(GP=Sp,KP=we,GP){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new I3(e,this.config)}}E(D3,KP,"PgBigInt64Builder");var YP,QP;class I3 extends(QP=pt,YP=we,QP){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}E(I3,YP,"PgBigInt64");function YZ(t,e){const{name:n,config:r}=on(t,e);return r.mode==="number"?new F3(n):new D3(n)}var XP,ZP;class O3 extends(ZP=Ct,XP=we,ZP){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new M3(e,this.config)}}E(O3,XP,"PgBigSerial53Builder");var JP,eE;class M3 extends(eE=pt,JP=we,eE){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}E(M3,JP,"PgBigSerial53");var tE,sE;class L3 extends(sE=Ct,tE=we,sE){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new $3(e,this.config)}}E(L3,tE,"PgBigSerial64Builder");var nE,rE;class $3 extends(rE=pt,nE=we,rE){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}E($3,nE,"PgBigSerial64");function QZ(t,e){const{name:n,config:r}=on(t,e);return r.mode==="number"?new O3(n):new L3(n)}var iE,aE;class U3 extends(aE=Ct,iE=we,aE){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new B3(e,this.config)}}E(U3,iE,"PgBooleanBuilder");var oE,lE;class B3 extends(lE=pt,oE=we,lE){getSQLType(){return"boolean"}}E(B3,oE,"PgBoolean");function it(t){return new U3(t??"")}var cE,dE;class V3 extends(dE=Ct,cE=we,dE){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new z3(e,this.config)}}E(V3,cE,"PgCharBuilder");var uE,hE;class z3 extends(hE=pt,uE=we,hE){constructor(){super(...arguments);E(this,"length",this.config.length);E(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}E(z3,uE,"PgChar");function XZ(t,e={}){const{name:n,config:r}=on(t,e);return new V3(n,r)}var mE,pE;class q3 extends(pE=Ct,mE=we,pE){constructor(e){super(e,"string","PgCidr")}build(e){return new H3(e,this.config)}}E(q3,mE,"PgCidrBuilder");var fE,xE;class H3 extends(xE=pt,fE=we,xE){getSQLType(){return"cidr"}}E(H3,fE,"PgCidr");function ZZ(t){return new q3(t??"")}var gE,yE;class W3 extends(yE=Ct,gE=we,yE){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new K3(e,this.config)}}E(W3,gE,"PgCustomColumnBuilder");var vE,jE;class K3 extends(jE=pt,vE=we,jE){constructor(n,r){super(n,r);E(this,"sqlName");E(this,"mapTo");E(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}E(K3,vE,"PgCustomColumn");function JZ(t){return(e,n)=>{const{name:r,config:i}=on(e,n);return new W3(r,i,t)}}var bE,wE;class ku extends(wE=Ct,bE=we,wE){defaultNow(){return this.default(Ze`now()`)}}E(ku,bE,"PgDateColumnBaseBuilder");var NE,SE;class G3 extends(SE=ku,NE=we,SE){constructor(e){super(e,"date","PgDate")}build(e){return new Y3(e,this.config)}}E(G3,NE,"PgDateBuilder");var CE,_E;class Y3 extends(_E=pt,CE=we,_E){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}E(Y3,CE,"PgDate");var kE,PE;class Q3 extends(PE=ku,kE=we,PE){constructor(e){super(e,"string","PgDateString")}build(e){return new X3(e,this.config)}}E(Q3,kE,"PgDateStringBuilder");var EE,TE;class X3 extends(TE=pt,EE=we,TE){getSQLType(){return"date"}}E(X3,EE,"PgDateString");function Kc(t,e){const{name:n,config:r}=on(t,e);return(r==null?void 0:r.mode)==="date"?new G3(n):new Q3(n)}var AE,FE;class Z3 extends(FE=Ct,AE=we,FE){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new J3(e,this.config)}}E(Z3,AE,"PgDoublePrecisionBuilder");var RE,DE;class J3 extends(DE=pt,RE=we,DE){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}E(J3,RE,"PgDoublePrecision");function eJ(t){return new Z3(t??"")}var IE,OE;class eL extends(OE=Ct,IE=we,OE){constructor(e){super(e,"string","PgInet")}build(e){return new tL(e,this.config)}}E(eL,IE,"PgInetBuilder");var ME,LE;class tL extends(LE=pt,ME=we,LE){getSQLType(){return"inet"}}E(tL,ME,"PgInet");function tJ(t){return new eL(t??"")}var $E,UE;class sL extends(UE=Sp,$E=we,UE){constructor(e){super(e,"number","PgInteger")}build(e){return new nL(e,this.config)}}E(sL,$E,"PgIntegerBuilder");var BE,VE;class nL extends(VE=pt,BE=we,VE){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}E(nL,BE,"PgInteger");function Tt(t){return new sL(t??"")}var zE,qE;class rL extends(qE=Ct,zE=we,qE){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new iL(e,this.config)}}E(rL,zE,"PgIntervalBuilder");var HE,WE;class iL extends(WE=pt,HE=we,WE){constructor(){super(...arguments);E(this,"fields",this.config.intervalConfig.fields);E(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}E(iL,HE,"PgInterval");function sJ(t,e={}){const{name:n,config:r}=on(t,e);return new rL(n,r)}var KE,GE;class aL extends(GE=Ct,KE=we,GE){constructor(e){super(e,"json","PgJson")}build(e){return new oL(e,this.config)}}E(aL,KE,"PgJsonBuilder");var YE,QE;class oL extends(QE=pt,YE=we,QE){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}E(oL,YE,"PgJson");function nJ(t){return new aL(t??"")}var XE,ZE;class lL extends(ZE=Ct,XE=we,ZE){constructor(e){super(e,"json","PgJsonb")}build(e){return new cL(e,this.config)}}E(lL,XE,"PgJsonbBuilder");var JE,eT;class cL extends(eT=pt,JE=we,eT){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}E(cL,JE,"PgJsonb");function Sa(t){return new lL(t??"")}var tT,sT;class dL extends(sT=Ct,tT=we,sT){constructor(e){super(e,"array","PgLine")}build(e){return new uL(e,this.config)}}E(dL,tT,"PgLineBuilder");var nT,rT;class uL extends(rT=pt,nT=we,rT){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}E(uL,nT,"PgLine");var iT,aT;class hL extends(aT=Ct,iT=we,aT){constructor(e){super(e,"json","PgLineABC")}build(e){return new mL(e,this.config)}}E(hL,iT,"PgLineABCBuilder");var oT,lT;class mL extends(lT=pt,oT=we,lT){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}E(mL,oT,"PgLineABC");function rJ(t,e){const{name:n,config:r}=on(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new dL(n):new hL(n)}var cT,dT;class pL extends(dT=Ct,cT=we,dT){constructor(e){super(e,"string","PgMacaddr")}build(e){return new fL(e,this.config)}}E(pL,cT,"PgMacaddrBuilder");var uT,hT;class fL extends(hT=pt,uT=we,hT){getSQLType(){return"macaddr"}}E(fL,uT,"PgMacaddr");function iJ(t){return new pL(t??"")}var mT,pT;class xL extends(pT=Ct,mT=we,pT){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new gL(e,this.config)}}E(xL,mT,"PgMacaddr8Builder");var fT,xT;class gL extends(xT=pt,fT=we,xT){getSQLType(){return"macaddr8"}}E(gL,fT,"PgMacaddr8");function aJ(t){return new xL(t??"")}var gT,yT;class yL extends(yT=Ct,gT=we,yT){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new vL(e,this.config)}}E(yL,gT,"PgNumericBuilder");var vT,jT;class vL extends(jT=pt,vT=we,jT){constructor(n,r){super(n,r);E(this,"precision");E(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}E(vL,vT,"PgNumeric");function jL(t,e){const{name:n,config:r}=on(t,e);return new yL(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const ct=jL;var bT,wT;class bL extends(wT=Ct,bT=we,wT){constructor(e){super(e,"array","PgPointTuple")}build(e){return new wL(e,this.config)}}E(bL,bT,"PgPointTupleBuilder");var NT,ST;class wL extends(ST=pt,NT=we,ST){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}E(wL,NT,"PgPointTuple");var CT,_T;class NL extends(_T=Ct,CT=we,_T){constructor(e){super(e,"json","PgPointObject")}build(e){return new SL(e,this.config)}}E(NL,CT,"PgPointObjectBuilder");var kT,PT;class SL extends(PT=pt,kT=we,PT){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}E(SL,kT,"PgPointObject");function oJ(t,e){const{name:n,config:r}=on(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new bL(n):new NL(n)}function lJ(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function f_(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function CL(t){const e=lJ(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=f_(e,n);n+=8;const l=f_(e,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var ET,TT;class _L extends(TT=Ct,ET=we,TT){constructor(e){super(e,"array","PgGeometry")}build(e){return new kL(e,this.config)}}E(_L,ET,"PgGeometryBuilder");var AT,FT;class kL extends(FT=pt,AT=we,FT){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return CL(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}E(kL,AT,"PgGeometry");var RT,DT;class PL extends(DT=Ct,RT=we,DT){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new EL(e,this.config)}}E(PL,RT,"PgGeometryObjectBuilder");var IT,OT;class EL extends(OT=pt,IT=we,OT){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=CL(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}E(EL,IT,"PgGeometryObject");function cJ(t,e){const{name:n,config:r}=on(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new _L(n):new PL(n)}var MT,LT;class TL extends(LT=Ct,MT=we,LT){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new AL(e,this.config)}}E(TL,MT,"PgRealBuilder");var $T,UT;class AL extends(UT=pt,$T=we,UT){constructor(n,r){super(n,r);E(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}E(AL,$T,"PgReal");function dJ(t){return new TL(t??"")}var BT,VT;class FL extends(VT=Ct,BT=we,VT){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new RL(e,this.config)}}E(FL,BT,"PgSerialBuilder");var zT,qT;class RL extends(qT=pt,zT=we,qT){getSQLType(){return"serial"}}E(RL,zT,"PgSerial");function uJ(t){return new FL(t??"")}var HT,WT;class DL extends(WT=Sp,HT=we,WT){constructor(e){super(e,"number","PgSmallInt")}build(e){return new IL(e,this.config)}}E(DL,HT,"PgSmallIntBuilder");var KT,GT;class IL extends(GT=pt,KT=we,GT){constructor(){super(...arguments);E(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}E(IL,KT,"PgSmallInt");function hJ(t){return new DL(t??"")}var YT,QT;class OL extends(QT=Ct,YT=we,QT){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ML(e,this.config)}}E(OL,YT,"PgSmallSerialBuilder");var XT,ZT;class ML extends(ZT=pt,XT=we,ZT){getSQLType(){return"smallserial"}}E(ML,XT,"PgSmallSerial");function mJ(t){return new OL(t??"")}var JT,eA;class LL extends(eA=Ct,JT=we,eA){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new $L(e,this.config)}}E(LL,JT,"PgTextBuilder");var tA,sA;class $L extends(sA=pt,tA=we,sA){constructor(){super(...arguments);E(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}E($L,tA,"PgText");function V(t,e={}){const{name:n,config:r}=on(t,e);return new LL(n,r)}var nA,rA;class UL extends(rA=ku,nA=we,rA){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new BL(e,this.config)}}E(UL,nA,"PgTimeBuilder");var iA,aA;class BL extends(aA=pt,iA=we,aA){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(BL,iA,"PgTime");function pJ(t,e={}){const{name:n,config:r}=on(t,e);return new UL(n,r.withTimezone??!1,r.precision)}var oA,lA;class VL extends(lA=ku,oA=we,lA){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new zL(e,this.config)}}E(VL,oA,"PgTimestampBuilder");var cA,dA;class zL extends(dA=pt,cA=we,dA){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");E(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));E(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(zL,cA,"PgTimestamp");var uA,hA;class qL extends(hA=ku,uA=we,hA){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new HL(e,this.config)}}E(qL,uA,"PgTimestampStringBuilder");var mA,pA;class HL extends(pA=pt,mA=we,pA){constructor(n,r){super(n,r);E(this,"withTimezone");E(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}E(HL,mA,"PgTimestampString");function be(t,e={}){const{name:n,config:r}=on(t,e);return(r==null?void 0:r.mode)==="string"?new qL(n,r.withTimezone??!1,r.precision):new VL(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var fA,xA;class WL extends(xA=Ct,fA=we,xA){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Ze`gen_random_uuid()`)}build(e){return new KL(e,this.config)}}E(WL,fA,"PgUUIDBuilder");var gA,yA;class KL extends(yA=pt,gA=we,yA){getSQLType(){return"uuid"}}E(KL,gA,"PgUUID");function fJ(t){return new WL(t??"")}var vA,jA;class GL extends(jA=Ct,vA=we,jA){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new YL(e,this.config)}}E(GL,vA,"PgVarcharBuilder");var bA,wA;class YL extends(wA=pt,bA=we,wA){constructor(){super(...arguments);E(this,"length",this.config.length);E(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}E(YL,bA,"PgVarchar");function Pe(t,e={}){const{name:n,config:r}=on(t,e);return new GL(n,r)}var NA,SA;class QL extends(SA=Ct,NA=we,SA){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new XL(e,this.config)}}E(QL,NA,"PgBinaryVectorBuilder");var CA,_A;class XL extends(_A=pt,CA=we,_A){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}E(XL,CA,"PgBinaryVector");function xJ(t,e){const{name:n,config:r}=on(t,e);return new QL(n,r)}var kA,PA;class ZL extends(PA=Ct,kA=we,PA){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new JL(e,this.config)}}E(ZL,kA,"PgHalfVectorBuilder");var EA,TA;class JL extends(TA=pt,EA=we,TA){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}E(JL,EA,"PgHalfVector");function gJ(t,e){const{name:n,config:r}=on(t,e);return new ZL(n,r)}var AA,FA;class e$ extends(FA=Ct,AA=we,FA){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new t$(e,this.config)}}E(e$,AA,"PgSparseVectorBuilder");var RA,DA;class t$ extends(DA=pt,RA=we,DA){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}E(t$,RA,"PgSparseVector");function yJ(t,e){const{name:n,config:r}=on(t,e);return new e$(n,r)}var IA,OA;class s$ extends(OA=Ct,IA=we,OA){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new n$(e,this.config)}}E(s$,IA,"PgVectorBuilder");var MA,LA;class n$ extends(LA=pt,MA=we,LA){constructor(){super(...arguments);E(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}E(n$,MA,"PgVector");function vJ(t,e){const{name:n,config:r}=on(t,e);return new s$(n,r)}function jJ(){return{bigint:YZ,bigserial:QZ,boolean:it,char:XZ,cidr:ZZ,customType:JZ,date:Kc,doublePrecision:eJ,inet:tJ,integer:Tt,interval:sJ,json:nJ,jsonb:Sa,line:rJ,macaddr:iJ,macaddr8:aJ,numeric:jL,point:oJ,geometry:cJ,real:dJ,serial:uJ,smallint:hJ,smallserial:mJ,text:V,time:pJ,timestamp:be,uuid:fJ,varchar:Pe,bit:xJ,halfvec:gJ,sparsevec:yJ,vector:vJ}}const Zb=Symbol.for("drizzle:PgInlineForeignKeys"),x_=Symbol.for("drizzle:EnableRLS");var $A,UA,BA,VA,zA;class Eh extends(zA=Rn,VA=we,BA=Zb,UA=x_,$A=Rn.Symbol.ExtraConfigBuilder,zA){constructor(){super(...arguments);E(this,BA,[]);E(this,UA,!1);E(this,$A)}}E(Eh,VA,"PgTable"),E(Eh,"Symbol",Object.assign({},Rn.Symbol,{InlineForeignKeys:Zb,EnableRLS:x_}));function bJ(t,e,n,r,i=t){const a=new Eh(t,r,i),o=typeof e=="function"?e(jJ()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const x=m.build(a);return a[Zb].push(...m.buildForeignKeys(x,a)),[u,x]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const x=m.buildExtraConfigColumn(a);return[u,x]})),d=Object.assign(a,l);return d[Rn.Symbol.Columns]=l,d[Rn.Symbol.ExtraConfigColumns]=c,n&&(d[Eh.Symbol.ExtraConfigBuilder]=n),Object.assign(d,{enableRLS:()=>(d[Eh.Symbol.EnableRLS]=!0,d)})}const _t=(t,e,n)=>bJ(t,e,n,void 0);var qA;qA=we;class g1{constructor(e,n){this.unique=e,this.name=n}on(...e){return new Uf(e.map(n=>{if(Ls(n,_s))return n;n=n;const r=new $f(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new Uf(e.map(n=>{if(Ls(n,_s))return n;n=n;const r=new $f(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new Uf(n.map(r=>{if(Ls(r,_s))return r;r=r;const i=new $f(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}E(g1,qA,"PgIndexBuilderOn");var HA;HA=we;class Uf{constructor(e,n,r,i,a="btree"){E(this,"config");this.config={name:i,columns:e,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new r$(this.config,e)}}E(Uf,HA,"PgIndexBuilder");var WA;WA=we;class r${constructor(e,n){E(this,"config");this.config={...e,table:n}}}E(r$,WA,"PgIndex");function dt(t){return new g1(!1,t)}function y1(t){return new g1(!0,t)}const ms={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function As(t,e){return e.includes(t.columnType)}function wJ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const NJ=F0([ie(),tn(),Na(),zO()]),SJ=F0([NJ,qO(Vl()),mi(Vl())]),CJ=A0(t=>t instanceof Buffer);function i$(t,e){const n=(e==null?void 0:e.zodInstance)??LY,r=(e==null?void 0:e.coerce)??{};let i;return wJ(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(As(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):As(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):As(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):As(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):As(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):As(t,["PgArray"])?(i=n.array(i$(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=_J(t,n,r):t.dataType==="bigint"?i=kJ(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=PJ(t,n,r):t.dataType==="json"?i=SJ:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=CJ)),i||(i=n.any()),i}function _J(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;As(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:ms.INT8_MIN,a=r?ms.INT8_UNSIGNED_MAX:ms.INT8_MAX,o=!0):As(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:ms.INT16_MIN,a=r?ms.INT16_UNSIGNED_MAX:ms.INT16_MAX,o=!0):As(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:ms.INT24_MIN,a=r?ms.INT24_UNSIGNED_MAX:ms.INT24_MAX,o=As(t,["MySqlMediumInt","SingleStoreMediumInt"])):As(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:ms.INT32_MIN,a=r?ms.INT32_UNSIGNED_MAX:ms.INT32_MAX,o=!0):As(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:ms.INT48_MIN,a=r?ms.INT48_UNSIGNED_MAX:ms.INT48_MAX):As(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||As(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):As(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function kJ(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:ms.INT64_MIN,a=r?ms.INT64_UNSIGNED_MAX:ms.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function PJ(t,e,n){if(As(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;As(t,["PgVarchar","SQLiteText"])?r=t.length:As(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??ms.INT16_UNSIGNED_MAX:As(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=ms.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=ms.INT24_UNSIGNED_MAX:t.textType==="text"?r=ms.INT16_UNSIGNED_MAX:r=ms.INT8_UNSIGNED_MAX),As(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),As(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function a$(t){return k3(t)?KZ(t):GZ(t)}function o$(t,e,n,r){const i={};for(const[a,o]of Object.entries(t)){if(!Ls(o,hu)&&!Ls(o,_s)&&!Ls(o,_s.Aliased)&&typeof o=="object"){const h=k3(o)||WZ(o)?a$(o):o;i[a]=o$(h,e[a]??{},n,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Ls(o,hu)?o:void 0,d=c?i$(c,r):Vl(),u=typeof l=="function"?l(d):d;n.never(c)||(i[a]=u,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return Jn(i)}const EJ={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Mt=(t,e)=>{const n=a$(t);return o$(n,{},EJ)},l$=["PPL","IR","CPL","Multi-Engine","ATP","CFI","CFII","MEI"],TJ=["Single-Engine","Multi-Engine","Turboprop","Jet","Rotor"],AJ=["aircraft-sale","charter","cfi","flight-school","mechanic","job"],FJ=["new","contacted","qualified","proposal","negotiation","won","lost"],RJ=["lead","prospect","proposal","negotiation","closed_won","closed_lost"],DJ=["call","email","meeting","note","task"],IJ=["website","referral","social_media","advertising","cold_outreach","event","other"],OJ=["server","database","storage","api","other"],MJ=["IAP","SID","STAR","AIRPORT","OTHER"];_t("sessions",{sid:Pe("sid").primaryKey(),sess:Sa("sess").notNull(),expire:be("expire").notNull()},t=>[dt("IDX_session_expire").on(t.expire)]);const LJ=_t("refresh_tokens",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),token:V("token").notNull().unique(),expiresAt:be("expires_at").notNull(),createdAt:be("created_at").defaultNow(),deviceInfo:V("device_info"),ipAddress:V("ip_address")},t=>[dt("idx_refresh_tokens_user").on(t.userId),dt("idx_refresh_tokens_expires").on(t.expiresAt)]),$J=_t("oauth_exchange_tokens",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),token:V("token").notNull().unique(),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),expiresAt:be("expires_at").notNull(),createdAt:be("created_at").defaultNow()},t=>[dt("idx_oauth_exchange_tokens_token").on(t.token),dt("idx_oauth_exchange_tokens_expires").on(t.expiresAt)]),At=_t("users",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),email:Pe("email").unique(),firstName:Pe("first_name"),lastName:Pe("last_name"),profileImageUrl:Pe("profile_image_url"),phone:V("phone"),certifications:V("certifications").array().notNull().default(Ze`ARRAY[]::text[]`),totalFlightHours:Tt("total_flight_hours").default(0),aircraftTypesFlown:V("aircraft_types_flown").array().default(Ze`ARRAY[]::text[]`),pilotLicenseUrl:V("pilot_license_url"),insuranceUrl:V("insurance_url"),isVerified:it("is_verified").default(!1),licenseVerified:it("license_verified").default(!1),backgroundCheckCompleted:it("background_check_completed").default(!1),isAdmin:it("is_admin").default(!1),isSuperAdmin:it("is_super_admin").default(!1),legalFirstName:V("legal_first_name"),legalLastName:V("legal_last_name"),dateOfBirth:V("date_of_birth"),phoneVerified:it("phone_verified").default(!1),emailVerified:it("email_verified").default(!1),governmentIdFrontUrl:V("government_id_front_url"),governmentIdBackUrl:V("government_id_back_url"),selfieUrl:V("selfie_url"),identityVerified:it("identity_verified").default(!1),identityVerifiedAt:be("identity_verified_at"),paymentMethodOnFile:it("payment_method_on_file").default(!1),paymentVerified:it("payment_verified").default(!1),paymentVerifiedAt:be("payment_verified_at"),faaCertificateNumber:V("faa_certificate_number"),pilotCertificateName:V("pilot_certificate_name"),pilotCertificatePhotoUrl:V("pilot_certificate_photo_url"),faaVerified:it("faa_verified").default(!1),faaVerifiedMonth:V("faa_verified_month"),faaVerifiedAt:be("faa_verified_at"),bankAccountConnected:it("bank_account_connected").default(!1),stripeAccountId:V("stripe_account_id"),paypalEmail:V("paypal_email"),balance:ct("balance",{precision:10,scale:2}).default("0.00"),logbookProStatus:V("logbook_pro_status").default("free"),logbookProPlan:V("logbook_pro_plan"),logbookProSubscriptionId:V("logbook_pro_subscription_id"),logbookProStartedAt:be("logbook_pro_started_at"),logbookProEndsAt:be("logbook_pro_ends_at"),logbookProCanceledAt:be("logbook_pro_canceled_at"),logbookProCancelAtPeriodEnd:it("logbook_pro_cancel_at_period_end").default(!1),hashedPassword:V("hashed_password"),passwordCreatedAt:be("password_created_at"),emailVerificationToken:V("email_verification_token"),emailVerificationExpires:be("email_verification_expires"),averageRating:ct("average_rating",{precision:3,scale:2}),totalReviews:Tt("total_reviews").default(0),isSuspended:it("is_suspended").default(!1),suspensionReason:V("suspension_reason"),suspendedAt:be("suspended_at"),suspendedBy:Pe("suspended_by"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>({usersSuspendedByFk:LZ({columns:[t.suspendedBy],foreignColumns:[t.id]})})),v1=_t("aircraft_listings",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),ownerId:Pe("owner_id").notNull().references(()=>At.id),make:V("make").notNull(),model:V("model").notNull(),year:Tt("year").notNull(),registration:V("registration").notNull(),category:V("category").notNull(),totalTime:Tt("total_time").notNull(),engine:V("engine"),avionicsSuite:V("avionics_suite"),requiredCertifications:V("required_certifications").array().notNull(),minFlightHours:Tt("min_flight_hours").default(0),hourlyRate:ct("hourly_rate",{precision:10,scale:2}).notNull(),insuranceIncluded:it("insurance_included").default(!0),wetRate:it("wet_rate").default(!0),images:V("images").array().notNull(),location:V("location").notNull(),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:ct("latitude",{precision:10,scale:7}),longitude:ct("longitude",{precision:10,scale:7}),airportCode:V("airport_code"),engineType:V("engine_type"),engineCount:Tt("engine_count"),seatingCapacity:Tt("seating_capacity"),description:V("description"),isListed:it("is_listed").default(!0),viewCount:Tt("view_count").default(0).notNull(),adminNotes:V("admin_notes"),isFeatured:it("is_featured").default(!1),responseTime:Tt("response_time_hours").default(24),acceptanceRate:Tt("acceptance_rate").default(100),serialNumber:V("serial_number"),registrationDocUrl:V("registration_doc_url"),llcAuthorizationUrl:V("llc_authorization_url"),ownershipVerified:it("ownership_verified").default(!1),ownershipVerifiedAt:be("ownership_verified_at"),registryCheckedAt:be("registry_checked_at"),ownerNameMatch:it("owner_name_match"),annualInspectionDocUrl:V("annual_inspection_doc_url"),annualInspectionDate:V("annual_inspection_date"),annualDueDate:V("annual_due_date"),annualSignerName:V("annual_signer_name"),annualSignerCertNumber:V("annual_signer_cert_number"),annualSignerIaNumber:V("annual_signer_ia_number"),annualApVerified:it("annual_ap_verified").default(!1),requires100Hour:it("requires_100_hour").default(!1),hour100InspectionDocUrl:V("hour_100_inspection_doc_url"),hour100InspectionTach:Tt("hour_100_inspection_tach"),currentTach:Tt("current_tach"),hour100Remaining:Tt("hour_100_remaining"),maintenanceTrackingProvider:V("maintenance_tracking_provider"),maintenanceTrackingDocUrl:V("maintenance_tracking_doc_url"),hasMaintenanceTracking:it("has_maintenance_tracking").default(!1),maintenanceVerified:it("maintenance_verified").default(!1),maintenanceVerifiedAt:be("maintenance_verified_at"),lastRefreshedAt:be("last_refreshed_at").defaultNow(),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_aircraft_city").on(t.city),dt("idx_aircraft_is_listed").on(t.isListed),dt("idx_aircraft_category").on(t.category),dt("idx_aircraft_engine_type").on(t.engineType),dt("idx_aircraft_city_engine_type").on(t.city,t.engineType),dt("idx_aircraft_category_city").on(t.category,t.city)]),Cp=_t("marketplace_listings",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id),category:V("category").notNull(),tier:V("tier"),title:V("title").notNull(),description:V("description").notNull(),images:V("images").array().default(Ze`ARRAY[]::text[]`),location:V("location"),city:V("city"),state:V("state"),zipCode:V("zip_code"),latitude:ct("latitude",{precision:10,scale:7}),longitude:ct("longitude",{precision:10,scale:7}),contactEmail:V("contact_email"),contactPhone:V("contact_phone"),details:Sa("details"),price:ct("price",{precision:12,scale:2}),isActive:it("is_active").default(!0),expiresAt:be("expires_at"),expirationReminderSent:it("expiration_reminder_sent").default(!1),expirationReminderSentAt:be("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),isFeatured:it("is_featured").default(!1),isExample:it("is_example").default(!1),flagCount:Tt("flag_count").default(0).notNull(),viewCount:Tt("view_count").default(0).notNull(),isPaid:it("is_paid").default(!1),monthlyFee:ct("monthly_fee",{precision:10,scale:2}),upgradeTransactions:V("upgrade_transactions").array().default(Ze`ARRAY[]::text[]`),promoFreeUntil:be("promo_free_until"),promoGrantedBy:Pe("promo_granted_by").references(()=>At.id),promoGrantedAt:be("promo_granted_at"),lastRefreshedAt:be("last_refreshed_at").defaultNow(),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_marketplace_category").on(t.category),dt("idx_marketplace_city").on(t.city),dt("idx_marketplace_is_active").on(t.isActive),dt("idx_marketplace_category_city").on(t.category,t.city),dt("idx_marketplace_category_active").on(t.category,t.isActive),dt("idx_marketplace_flag_count").on(t.flagCount)]),UJ=_t("marketplace_flags",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),listingId:Pe("listing_id").notNull().references(()=>Cp.id,{onDelete:"cascade"}),userId:Pe("user_id").notNull().references(()=>At.id),reason:V("reason"),createdAt:be("created_at").defaultNow()},t=>[y1("idx_marketplace_flags_unique").on(t.listingId,t.userId)]),BJ=_t("job_applications",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),listingId:Pe("listing_id").notNull().references(()=>Cp.id,{onDelete:"cascade"}),applicantId:Pe("applicant_id").references(()=>At.id),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),phone:V("phone"),currentJobTitle:V("current_job_title"),yearsOfExperience:V("years_of_experience"),coverLetter:V("cover_letter"),resumeUrl:V("resume_url").notNull(),status:V("status").default("new").notNull(),employerNotes:V("employer_notes"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_job_applications_listing").on(t.listingId),dt("idx_job_applications_applicant").on(t.applicantId),dt("idx_job_applications_status").on(t.status)]),VJ=_t("promo_alerts",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),title:V("title").notNull(),message:V("message").notNull(),promoCode:V("promo_code"),isEnabled:it("is_enabled").default(!0),showOnMainPage:it("show_on_main_page").default(!0),showOnCategoryPages:it("show_on_category_pages").default(!0),targetCategories:V("target_categories").array().default(Ze`ARRAY[]::text[]`),variant:V("variant").default("info"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),py=_t("rentals",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),aircraftId:Pe("aircraft_id").notNull().references(()=>v1.id),renterId:Pe("renter_id").notNull().references(()=>At.id),ownerId:Pe("owner_id").notNull().references(()=>At.id),startDate:be("start_date").notNull(),endDate:be("end_date").notNull(),estimatedHours:ct("estimated_hours",{precision:6,scale:2}).notNull(),actualHours:ct("actual_hours",{precision:6,scale:2}),hourlyRate:ct("hourly_rate",{precision:10,scale:2}).notNull(),baseCost:ct("base_cost",{precision:10,scale:2}).notNull(),salesTax:ct("sales_tax",{precision:10,scale:2}).notNull(),platformFeeRenter:ct("platform_fee_renter",{precision:10,scale:2}).notNull(),platformFeeOwner:ct("platform_fee_owner",{precision:10,scale:2}).notNull(),processingFee:ct("processing_fee",{precision:10,scale:2}).notNull(),totalCostRenter:ct("total_cost_renter",{precision:10,scale:2}).notNull(),ownerPayout:ct("owner_payout",{precision:10,scale:2}).notNull(),status:V("status").notNull().default("pending"),isPaid:it("is_paid").default(!1),payoutCompleted:it("payout_completed").default(!1),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),zJ=_t("messages",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),rentalId:Pe("rental_id").notNull().references(()=>py.id),senderId:Pe("sender_id").notNull().references(()=>At.id),receiverId:Pe("receiver_id").notNull().references(()=>At.id),content:V("content").notNull(),isRead:it("is_read").default(!1),createdAt:be("created_at").defaultNow()}),qJ=_t("reviews",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),rentalId:Pe("rental_id").notNull().references(()=>py.id),reviewerId:Pe("reviewer_id").notNull().references(()=>At.id),revieweeId:Pe("reviewee_id").notNull().references(()=>At.id),rating:Tt("rating").notNull(),comment:V("comment"),communicationRating:Tt("communication_rating"),cleanlinessRating:Tt("cleanliness_rating"),accuracyRating:Tt("accuracy_rating"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),HJ=_t("favorites",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),listingType:V("listing_type").notNull(),listingId:Pe("listing_id").notNull(),createdAt:be("created_at").defaultNow()},t=>({idxFavoritesUser:dt("idx_favorites_user").on(t.userId),idxFavoritesListing:dt("idx_favorites_listing").on(t.listingType,t.listingId),uniqueUserListing:y1("idx_favorites_user_listing_unique").on(t.userId,t.listingType,t.listingId)}));_t("transactions",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id),type:V("type").notNull(),amount:ct("amount",{precision:10,scale:2}).notNull(),rentalId:Pe("rental_id").references(()=>py.id),marketplaceListingId:Pe("marketplace_listing_id").references(()=>Cp.id),status:V("status").notNull().default("pending"),depositedToBankAt:be("deposited_to_bank_at"),description:V("description"),createdAt:be("created_at").defaultNow()});const WJ=_t("withdrawal_requests",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id),amount:ct("amount",{precision:10,scale:2}).notNull(),paypalEmail:V("paypal_email").notNull(),status:V("status").notNull().default("pending"),payoutBatchId:V("payout_batch_id"),payoutItemId:V("payout_item_id"),transactionId:V("transaction_id"),processedAt:be("processed_at"),processedBy:Pe("processed_by").references(()=>At.id),failureReason:V("failure_reason"),adminNotes:V("admin_notes"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_withdrawal_user").on(t.userId),dt("idx_withdrawal_status").on(t.status)]),c$=_t("promo_codes",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),code:V("code").notNull().unique(),description:V("description"),discountType:V("discount_type").notNull(),discountValue:ct("discount_value",{precision:10,scale:2}),maxUses:Tt("max_uses"),usedCount:Tt("used_count").default(0),isActive:it("is_active").default(!0),validFrom:be("valid_from").defaultNow(),validUntil:be("valid_until"),applicableToMarketplace:it("applicable_to_marketplace").default(!0),applicableToBannerAds:it("applicable_to_banner_ads").default(!1),applicableCategories:V("applicable_categories").array().default(Ze`ARRAY[]::text[]`),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()});_t("promo_code_usages",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),promoCodeId:Pe("promo_code_id").notNull().references(()=>c$.id),userId:Pe("user_id").references(()=>At.id),marketplaceListingId:Pe("marketplace_listing_id").references(()=>Cp.id),bannerAdOrderId:Pe("banner_ad_order_id").references(()=>j1.id),createdAt:be("created_at").defaultNow()});const KJ=_t("expenses",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),category:V("category").notNull(),amount:ct("amount",{precision:10,scale:2}).notNull(),description:V("description"),invoiceUrl:V("invoice_url"),expenseDate:be("expense_date").notNull().defaultNow(),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),GJ=_t("admin_notifications",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),type:V("type").notNull(),category:V("category"),title:V("title").notNull(),message:V("message").notNull(),isRead:it("is_read").default(!1),isActionable:it("is_actionable").default(!0),listingCount:Tt("listing_count"),threshold:Tt("threshold"),createdAt:be("created_at").defaultNow(),readAt:be("read_at")}),YJ=_t("contact_submissions",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:V("email").notNull(),subject:V("subject").notNull(),message:V("message").notNull(),ipAddress:V("ip_address"),userAgent:V("user_agent"),emailSent:it("email_sent").default(!1),emailSentAt:be("email_sent_at"),createdAt:be("created_at").defaultNow()},t=>[dt("idx_contact_email").on(t.email),dt("idx_contact_created").on(t.createdAt),dt("idx_contact_ip").on(t.ipAddress)]);Mt(YJ).omit({id:!0,emailSent:!0,emailSentAt:!0,createdAt:!0});const j1=_t("banner_ad_orders",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),sponsorName:V("sponsor_name").notNull(),sponsorEmail:V("sponsor_email").notNull(),sponsorCompany:V("sponsor_company"),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url"),link:V("link").notNull(),placements:V("placements").array().notNull().default(Ze`ARRAY[]::text[]`),category:V("category"),tier:V("tier").notNull(),monthlyRate:ct("monthly_rate",{precision:10,scale:2}).notNull(),totalAmount:ct("total_amount",{precision:10,scale:2}).notNull(),creationFee:ct("creation_fee",{precision:10,scale:2}).default("40.00"),grandTotal:ct("grand_total",{precision:10,scale:2}).notNull(),promoCode:V("promo_code"),discountAmount:ct("discount_amount",{precision:10,scale:2}).default("0.00"),approvalStatus:V("approval_status").notNull().default("draft"),paymentStatus:V("payment_status").notNull().default("pending"),paypalOrderId:V("paypal_order_id"),paypalPaymentDate:be("paypal_payment_date"),startDate:be("start_date"),endDate:be("end_date"),expirationReminderSent:it("expiration_reminder_sent").default(!1),expirationReminderSentAt:be("expiration_reminder_sent_at"),adminNotes:V("admin_notes"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_banner_orders_status").on(t.approvalStatus,t.paymentStatus),dt("idx_banner_orders_email").on(t.sponsorEmail)]),QJ=_t("banner_ads",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),orderId:Pe("order_id").references(()=>j1.id),title:V("title").notNull(),description:V("description"),imageUrl:V("image_url").notNull(),link:V("link").notNull(),placements:V("placements").array().notNull().default(Ze`ARRAY[]::text[]`),category:V("category"),listingId:Pe("listing_id"),listingType:V("listing_type"),isActive:it("is_active").default(!0),startDate:be("start_date").notNull(),endDate:be("end_date"),impressions:Tt("impressions").default(0),clicks:Tt("clicks").default(0),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_banner_ads_placements").on(t.placements),dt("idx_banner_ads_active").on(t.isActive),dt("idx_banner_ads_dates").on(t.startDate,t.endDate),dt("idx_banner_ads_order").on(t.orderId)]);_t("verification_submissions",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id),type:V("type").notNull(),status:V("status").notNull().default("pending"),aircraftId:Pe("aircraft_id").references(()=>v1.id),submissionData:Sa("submission_data").notNull(),documentUrls:V("document_urls").array().default(Ze`ARRAY[]::text[]`),reviewedBy:Pe("reviewed_by").references(()=>At.id),reviewedAt:be("reviewed_at"),reviewNotes:V("review_notes"),rejectionReason:V("rejection_reason"),faaRegistryChecked:it("faa_registry_checked").default(!1),faaRegistryMatch:it("faa_registry_match"),faaRegistryData:Sa("faa_registry_data"),sources:V("sources").array().default(Ze`ARRAY[]::text[]`),fileHashes:V("file_hashes").array().default(Ze`ARRAY[]::text[]`),pilotLicenseExpiresAt:be("pilot_license_expires_at"),medicalCertExpiresAt:be("medical_cert_expires_at"),insuranceExpiresAt:be("insurance_expires_at"),governmentIdExpiresAt:be("government_id_expires_at"),expirationNotificationSent:it("expiration_notification_sent").default(!1),lastNotificationSentAt:be("last_notification_sent_at"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()});const d$=_t("crm_leads",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:Pe("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),status:V("status").notNull().default("new"),source:V("source"),value:ct("value",{precision:10,scale:2}),assignedTo:Pe("assigned_to").references(()=>At.id),notes:V("notes"),tags:V("tags").array().default(Ze`ARRAY[]::text[]`),convertedToContactId:Pe("converted_to_contact_id"),convertedToDealId:Pe("converted_to_deal_id"),convertedAt:be("converted_at"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),b1=_t("crm_contacts",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),firstName:V("first_name").notNull(),lastName:V("last_name").notNull(),email:Pe("email").notNull(),phone:V("phone"),company:V("company"),title:V("title"),userId:Pe("user_id").references(()=>At.id),assignedTo:Pe("assigned_to").references(()=>At.id),notes:V("notes"),tags:V("tags").array().default(Ze`ARRAY[]::text[]`),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),u$=_t("crm_deals",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),name:V("name").notNull(),stage:V("stage").notNull().default("lead"),value:ct("value",{precision:10,scale:2}).notNull(),probability:Tt("probability").default(50),contactId:Pe("contact_id").references(()=>b1.id),assignedTo:Pe("assigned_to").references(()=>At.id),expectedCloseDate:be("expected_close_date"),closedDate:be("closed_date"),description:V("description"),notes:V("notes"),tags:V("tags").array().default(Ze`ARRAY[]::text[]`),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()}),XJ=_t("crm_activities",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),type:V("type").notNull(),subject:V("subject").notNull(),description:V("description"),leadId:Pe("lead_id").references(()=>d$.id),contactId:Pe("contact_id").references(()=>b1.id),dealId:Pe("deal_id").references(()=>u$.id),createdBy:Pe("created_by").notNull().references(()=>At.id),assignedTo:Pe("assigned_to").references(()=>At.id),dueDate:be("due_date"),completedAt:be("completed_at"),isCompleted:it("is_completed").default(!1),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()});Mt(At).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({certifications:mi(nn(l$)).default([]),totalFlightHours:tn().min(0).default(0)});Mt(LJ).omit({id:!0,createdAt:!0});Mt($J).omit({id:!0,createdAt:!0});Mt(v1).omit({id:!0,createdAt:!0,updatedAt:!0,viewCount:!0}).extend({year:tn().min(1900).max(new Date().getFullYear()+1),totalTime:tn().min(0),hourlyRate:ie().regex(/^\d+(\.\d{1,2})?$/),requiredCertifications:mi(ie()).min(1),images:mi(ie()).min(1).max(15),engineType:nn(TJ).optional(),engineCount:tn().min(1).max(8).optional(),seatingCapacity:tn().min(1).max(20).optional(),latitude:ie().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:ie().regex(/^-?\d+(\.\d+)?$/).optional()});const ZJ=Mt(Cp).omit({id:!0,createdAt:!0,updatedAt:!0,flagCount:!0,viewCount:!0}).extend({category:nn(AJ),images:mi(ie()).max(15),price:ie().regex(/^\d+(\.\d{1,2})?$/).optional(),monthlyFee:ie().regex(/^\d+(\.\d{1,2})?$/).optional(),latitude:ie().regex(/^-?\d+(\.\d+)?$/).optional(),longitude:ie().regex(/^-?\d+(\.\d+)?$/).optional()}),JJ=_t("logbook_entries",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id),flightDate:Kc("flight_date").notNull(),tailNumber:V("tail_number"),aircraftType:V("aircraft_type"),route:V("route"),timeDay:ct("time_day",{precision:6,scale:2}).default(Ze`0`).notNull(),timeNight:ct("time_night",{precision:6,scale:2}).default(Ze`0`).notNull(),pic:ct("pic",{precision:6,scale:2}).default(Ze`0`).notNull(),sic:ct("sic",{precision:6,scale:2}).default(Ze`0`).notNull(),dual:ct("dual",{precision:6,scale:2}).default(Ze`0`).notNull(),instrumentActual:ct("instrument_actual",{precision:6,scale:2}).default(Ze`0`).notNull(),approaches:Tt("approaches").default(0).notNull(),landingsDay:Tt("landings_day").default(0).notNull(),landingsNight:Tt("landings_night").default(0).notNull(),holds:Tt("holds").default(0).notNull(),remarks:V("remarks"),maneuvers:Sa("maneuvers"),hobbsStart:ct("hobbs_start",{precision:8,scale:1}),hobbsEnd:ct("hobbs_end",{precision:8,scale:1}),signatureDataUrl:V("signature_data_url"),signedByName:V("signed_by_name"),signedAt:be("signed_at"),signatureIp:V("signature_ip"),cfiSignatureDataUrl:V("cfi_signature_data_url"),cfiSignedByName:V("cfi_signed_by_name"),cfiSignedAt:be("cfi_signed_at"),cfiSignatureIp:V("cfi_signature_ip"),isLocked:it("is_locked").default(!1).notNull(),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_logbook_user").on(t.userId),dt("idx_logbook_date").on(t.flightDate)]),eee=_t("logbook_pro_settings",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),medicalClass:V("medical_class"),medicalIssuedAt:Kc("medical_issued_at"),medicalExpiresAt:Kc("medical_expires_at"),flightReviewDate:Kc("flight_review_date"),ipcDate:Kc("ipc_date"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[y1("uniq_logbook_pro_settings_user").on(t.userId),dt("idx_logbook_pro_settings_user").on(t.userId)]),tee=_t("student_profiles",{userId:Pe("user_id").primaryKey().references(()=>At.id,{onDelete:"cascade"}),wizardJson:Sa("wizard_json"),roadmapJson:Sa("roadmap_json"),progressJson:Sa("progress_json"),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_student_profiles_user").on(t.userId)]),see=_t("approach_plates",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),icao:V("icao"),airportName:V("airport_name"),procedureName:V("procedure_name").notNull(),plateType:V("plate_type").default("IAP"),fileName:V("file_name").notNull(),storagePath:V("storage_path").notNull(),cycle:V("cycle").notNull(),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_approach_plates_icao").on(t.icao),dt("idx_approach_plates_cycle").on(t.cycle),dt("idx_approach_plates_procedure").on(t.procedureName)]),nee=_t("flight_plans",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),title:V("title").notNull(),departure:V("departure").notNull(),destination:V("destination").notNull(),route:V("route"),alternate:V("alternate"),plannedDepartureAt:be("planned_departure_at"),plannedArrivalAt:be("planned_arrival_at"),aircraftType:V("aircraft_type"),tailNumber:V("tail_number"),fuelOnBoard:ct("fuel_on_board",{precision:8,scale:2}),fuelRequired:ct("fuel_required",{precision:8,scale:2}),notes:V("notes"),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_flight_plans_user").on(t.userId),dt("idx_flight_plans_departure").on(t.plannedDepartureAt)]),h$=_t("aircraft_types",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),make:V("make").notNull(),model:V("model").notNull(),icaoType:V("icao_type"),category:V("category").notNull(),engineType:V("engine_type").notNull(),cruiseKtas:ct("cruise_ktas",{precision:6,scale:2}).notNull(),fuelBurnGph:ct("fuel_burn_gph",{precision:6,scale:2}).notNull(),usableFuelGal:ct("usable_fuel_gal",{precision:8,scale:2}).notNull(),maxGrossWeightLb:ct("max_gross_weight_lb",{precision:10,scale:2}).notNull(),defaultAltitudeFt:Tt("default_altitude_ft"),isVerified:it("is_verified").default(!1),sourceNote:V("source_note"),updatedAt:be("updated_at").defaultNow(),createdAt:be("created_at").defaultNow()},t=>[dt("idx_aircraft_types_make_model").on(t.make,t.model),dt("idx_aircraft_types_icao").on(t.icaoType)]),ree=_t("aircraft_profiles",{id:Pe("id").primaryKey().default(Ze`gen_random_uuid()`),userId:Pe("user_id").notNull().references(()=>At.id,{onDelete:"cascade"}),name:V("name").notNull(),tailNumber:V("tail_number"),typeId:Pe("type_id").references(()=>h$.id,{onDelete:"set null"}),cruiseKtasOverride:ct("cruise_ktas_override",{precision:6,scale:2}),fuelBurnOverrideGph:ct("fuel_burn_override_gph",{precision:6,scale:2}),usableFuelOverrideGal:ct("usable_fuel_override_gal",{precision:8,scale:2}),maxGrossWeightOverrideLb:ct("max_gross_weight_override_lb",{precision:10,scale:2}),createdAt:be("created_at").defaultNow(),updatedAt:be("updated_at").defaultNow()},t=>[dt("idx_aircraft_profiles_user").on(t.userId)]);Mt(JJ).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0,isLocked:!0,signatureDataUrl:!0,signedAt:!0,signedByName:!0,signatureIp:!0,cfiSignatureDataUrl:!0,cfiSignedByName:!0,cfiSignedAt:!0,cfiSignatureIp:!0}).extend({flightDate:us.date(),timeDay:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),timeNight:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),pic:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),sic:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),dual:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),instrumentActual:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),approaches:tn().min(0).optional(),landingsDay:tn().min(0).optional(),landingsNight:tn().min(0).optional(),holds:tn().min(0).optional(),hobbsStart:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),hobbsEnd:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r(""))});Mt(eee).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({medicalIssuedAt:ie().optional().nullable(),medicalExpiresAt:ie().optional().nullable(),flightReviewDate:ie().optional().nullable(),ipcDate:ie().optional().nullable()});Mt(tee).omit({updatedAt:!0});Mt(nee).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({plannedDepartureAt:us.date().optional().nullable(),plannedArrivalAt:us.date().optional().nullable(),fuelOnBoard:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r("")),fuelRequired:ie().regex(/^\d+(\.\d{1,2})?$/).optional().or($r(""))});Mt(h$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({cruiseKtas:us.number().min(60).max(450),fuelBurnGph:us.number().min(1).max(100),usableFuelGal:us.number().min(5).max(4e3),maxGrossWeightLb:us.number().min(500).max(2e6),defaultAltitudeFt:us.number().min(1e3).max(45e3).optional().nullable()});Mt(ree).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0}).extend({typeId:ie().uuid().optional().nullable(),cruiseKtasOverride:us.number().min(60).max(450).optional().nullable(),fuelBurnOverrideGph:us.number().min(1).max(100).optional().nullable(),usableFuelOverrideGal:us.number().min(5).max(4e3).optional().nullable(),maxGrossWeightOverrideLb:us.number().min(500).max(2e6).optional().nullable()});Mt(see).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({plateType:nn(MJ).optional()});Mt(UJ).omit({id:!0,createdAt:!0});Mt(py).omit({id:!0,createdAt:!0,updatedAt:!0,actualHours:!0,status:!0,isPaid:!0,payoutCompleted:!0,baseCost:!0,salesTax:!0,platformFeeRenter:!0,platformFeeOwner:!0,processingFee:!0,totalCostRenter:!0,ownerPayout:!0}).extend({startDate:us.date(),endDate:us.date(),estimatedHours:ie().regex(/^\d+(\.\d{1,2})?$/),hourlyRate:ie().regex(/^\d+(\.\d{1,2})?$/)});Mt(zJ).omit({id:!0,createdAt:!0,isRead:!0});Mt(qJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({rating:tn().min(1).max(5),communicationRating:tn().min(1).max(5).optional(),cleanlinessRating:tn().min(1).max(5).optional(),accuracyRating:tn().min(1).max(5).optional(),comment:ie().max(1e3).optional()});Mt(HJ).omit({id:!0,createdAt:!0}).extend({listingType:nn(["marketplace","aircraft"])});const iee=Mt(d$).omit({id:!0,createdAt:!0,updatedAt:!0,convertedToContactId:!0,convertedToDealId:!0,convertedAt:!0}).extend({status:nn(FJ).default("new"),source:nn(IJ).optional(),value:ie().regex(/^\d+(\.\d{1,2})?$/).optional()});Mt(b1).omit({id:!0,createdAt:!0,updatedAt:!0});Mt(u$).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({stage:nn(RJ).default("lead"),value:ie().regex(/^\d+(\.\d{1,2})?$/),probability:tn().min(0).max(100).default(50)});Mt(XJ).omit({id:!0,createdAt:!0,updatedAt:!0,isCompleted:!0,completedAt:!0}).extend({type:nn(DJ)});const aee=Mt(c$).omit({id:!0,createdAt:!0,updatedAt:!0,usedCount:!0,applicableCategories:!0}).extend({code:ie().min(1,"Promo code is required").toUpperCase(),description:ie().optional(),discountType:nn(["free_7_day","percentage","fixed_amount","waive_creation_fee"]),discountValue:ie().regex(/^\d+(\.\d{1,2})?$/).optional(),maxUses:tn().int().positive().optional(),isActive:Na().default(!0),validFrom:us.date().optional(),validUntil:us.date().optional(),applicableToMarketplace:Na().default(!0),applicableToBannerAds:Na().default(!1)}),oee=Mt(KJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({category:nn(OJ),amount:ie().regex(/^\d+(\.\d{1,2})?$/),expenseDate:us.date().optional(),invoiceUrl:ie().optional()});Mt(GJ).omit({id:!0,createdAt:!0,readAt:!0});const lee=Mt(j1).omit({id:!0,createdAt:!0,updatedAt:!0,paypalOrderId:!0,paypalPaymentDate:!0}).extend({sponsorName:ie().min(1,"Sponsor name is required"),sponsorEmail:ie().email("Valid email is required"),title:ie().min(1,"Title is required"),link:ie().url("Please enter a valid URL (e.g., https://www.example.com)"),placements:mi(ie()).min(1,"At least one page placement is required"),tier:nn(["1month","3months","6months","12months"])}),cee=Mt(QJ).omit({id:!0,impressions:!0,clicks:!0,createdAt:!0,updatedAt:!0}).extend({placements:mi(ie()).min(1,"At least one page placement is required"),imageUrl:ie().min(1,"Banner image is required"),link:ie().url("Please enter a valid URL (e.g., https://www.example.com)"),title:ie().min(1,"Title is required")});Mt(BJ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,employerNotes:!0}).extend({firstName:ie().min(1,"First name is required"),lastName:ie().min(1,"Last name is required"),email:ie().email("Valid email is required"),phone:ie().optional(),coverLetter:ie().optional(),resumeUrl:ie().min(1,"Resume is required")});const dee=Mt(VJ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({title:ie().min(1,"Title is required"),message:ie().min(1,"Message is required"),promoCode:ie().optional(),variant:nn(["info","success","warning","destructive"]).default("info")});Mt(WJ).omit({id:!0,createdAt:!0,updatedAt:!0,status:!0,payoutBatchId:!0,payoutItemId:!0,transactionId:!0,processedAt:!0,processedBy:!0,failureReason:!0,adminNotes:!0}).extend({amount:ie().regex(/^\d+(\.\d{1,2})?$/,"Amount must be a valid number"),paypalEmail:ie().email("Valid PayPal email is required")});const uee=Jn({firstName:ie().min(1,"First name is required"),lastName:ie().min(1,"Last name is required"),phone:ie().optional(),totalFlightHours:us.number().min(0).optional(),certifications:mi(ie()),profilePicture:Vl().optional(),pilotLicense:Vl().optional(),insurance:Vl().optional()}),hee=["Cessna 172","Cessna 182","Piper Cherokee","Cirrus SR22","Diamond DA40"];function mee(){var j,g,v,f;const[t,e]=p.useState(!1),[n,r]=p.useState(!1),{toast:i}=Ot(),{user:a}=Ds(),{data:o,isLoading:l}=We({queryKey:["/api/users",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:c=[]}=We({queryKey:["/api/rentals/owner",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),{data:d=[]}=We({queryKey:["/api/rentals/renter",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),u=c.length+d.length,h=ar({resolver:or(uee),defaultValues:{firstName:"",lastName:"",phone:"",totalFlightHours:0,certifications:[]}});p.useEffect(()=>{o&&h.reset({firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",totalFlightHours:o.totalFlightHours||0,certifications:o.certifications||[]})},[o,h]);const m=Ie({mutationFn:async b=>{var N,P,S;let w={...b.updates};if((N=b.files)!=null&&N.profilePicture||(P=b.files)!=null&&P.license||(S=b.files)!=null&&S.insurance){r(!0);const C=new FormData;b.files.profilePicture&&C.append("images",b.files.profilePicture),b.files.license&&C.append("images",b.files.license),b.files.insurance&&C.append("images",b.files.insurance);try{const k=await fetch("/api/upload-images",{method:"POST",body:C,credentials:"include"});if(!k.ok)throw new Error("Failed to upload documents");const A=(await k.json()).imageUrls||[];let O=0;b.files.profilePicture&&A[O]&&(w.profileImageUrl=A[O],O++),b.files.license&&A[O]&&(w.pilotLicenseUrl=A[O],O++),b.files.insurance&&A[O]&&(w.insuranceUrl=A[O])}finally{r(!1)}}return await Te("PATCH",`/api/users/${a==null?void 0:a.id}`,w)},onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/users",a==null?void 0:a.id]}),Le.invalidateQueries({queryKey:["/api/auth/user"]}),i({title:"Profile Updated",description:"Your profile has been successfully updated."}),e(!1),h.reset()},onError:b=>{i({title:"Error",description:b.message||"Failed to update profile",variant:"destructive"})}}),x=b=>{var P,S,C;const w={firstName:b.firstName,lastName:b.lastName,phone:b.phone,totalFlightHours:b.totalFlightHours,certifications:b.certifications},N={};(P=b.profilePicture)!=null&&P[0]&&(N.profilePicture=b.profilePicture[0]),(S=b.pilotLicense)!=null&&S[0]&&(N.license=b.pilotLicense[0]),(C=b.insurance)!=null&&C[0]&&(N.insurance=b.insurance[0]),m.mutate({updates:w,files:N})};return l||!o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsx(L,{className:"mb-8",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[s.jsxs(Vi,{className:"h-24 w-24","data-testid":"avatar-profile",children:[s.jsx(zi,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(qi,{children:[(j=o.firstName)==null?void 0:j[0],(g=o.lastName)==null?void 0:g[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"font-display text-2xl sm:text-3xl font-bold mb-1","data-testid":"text-profile-name",children:[o.firstName," ",o.lastName]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-3",children:o.email}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx(q5,{user:o,type:"renter",size:"md"}),!o.identityVerified&&s.jsx(Je,{href:"/verify-identity",children:s.jsxs(M,{variant:"outline",size:"sm",className:"w-full sm:w-auto","data-testid":"button-start-verification",children:[s.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Start Verification"]})})]})]}),s.jsxs(Jt,{open:t,onOpenChange:e,children:[s.jsx(mM,{asChild:!0,children:s.jsxs(M,{variant:"outline",className:"w-full sm:w-auto","data-testid":"button-edit-profile",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Edit Profile"}),s.jsx(is,{children:"Update your profile information, certifications, and documents"})]}),s.jsx(Jr,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(x),className:"space-y-6 py-4",children:[s.jsx(ce,{control:h.control,name:"profilePicture",render:({field:{onChange:b,value:w,...N}})=>{var P,S;return s.jsxs(oe,{children:[s.jsx(le,{children:"Profile Picture"}),s.jsx(me,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Vi,{className:"h-20 w-20",children:[s.jsx(zi,{src:o.profileImageUrl||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200"}),s.jsxs(qi,{children:[(P=o.firstName)==null?void 0:P[0],(S=o.lastName)==null?void 0:S[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(B,{type:"file",accept:"image/*",onChange:C=>b(C.target.files),...N,"data-testid":"input-profile-picture"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload a new profile picture (JPG, PNG, or GIF)"})]})]})}),s.jsx(pe,{})]})}}),s.jsx(nt,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:h.control,name:"firstName",render:({field:b})=>s.jsxs(oe,{children:[s.jsx(le,{children:"First Name"}),s.jsx(me,{children:s.jsx(B,{...b,"data-testid":"input-edit-firstname"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:h.control,name:"lastName",render:({field:b})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Last Name"}),s.jsx(me,{children:s.jsx(B,{...b,"data-testid":"input-edit-lastname"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:h.control,name:"phone",render:({field:b})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Phone Number"}),s.jsx(me,{children:s.jsx(B,{...b,placeholder:"+1 (555) 123-4567","data-testid":"input-edit-phone"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:h.control,name:"totalFlightHours",render:({field:b})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Total Flight Hours"}),s.jsx(me,{children:s.jsx(B,{type:"number",...b,onChange:w=>b.onChange(parseInt(w.target.value)||0),"data-testid":"input-edit-hours"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:h.control,name:"certifications",render:()=>s.jsxs(oe,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(le,{children:"Pilot Certifications"}),s.jsx($s,{children:"Select all certifications you hold"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:l$.map(b=>s.jsx(ce,{control:h.control,name:"certifications",render:({field:w})=>{var N;return s.jsxs(oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:(N=w.value)==null?void 0:N.includes(b),onCheckedChange:P=>{var S;return P?w.onChange([...w.value,b]):w.onChange((S=w.value)==null?void 0:S.filter(C=>C!==b))},"data-testid":`checkbox-cert-${b}`})}),s.jsx(le,{className:"font-normal cursor-pointer",children:b})]},b)}},b))}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h3",{className:"font-semibold",children:"Document Uploads"}),s.jsx(ce,{control:h.control,name:"pilotLicense",render:({field:{onChange:b,value:w,...N}})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Pilot License"}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{type:"file",accept:"image/*,.pdf",onChange:P=>b(P.target.files),...N,"data-testid":"input-pilot-license"}),o.pilotLicenseUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("a",{href:o.pilotLicenseUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current license on file"})]})]})}),s.jsx($s,{children:"Upload a copy of your pilot license (image or PDF)"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:h.control,name:"insurance",render:({field:{onChange:b,value:w,...N}})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Insurance Certificate"}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{type:"file",accept:"image/*,.pdf",onChange:P=>b(P.target.files),...N,"data-testid":"input-insurance"}),o.insuranceUrl&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("a",{href:o.insuranceUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Current insurance on file"})]})]})}),s.jsx($s,{children:"Upload a copy of your insurance certificate (image or PDF)"}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{e(!1),h.reset()},disabled:m.isPending||n,children:"Cancel"}),s.jsx(M,{type:"submit",disabled:m.isPending||n,"data-testid":"button-save-profile",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pp,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):m.isPending?"Saving...":"Save Changes"})]})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(pl,{className:"h-4 w-4"}),"Total Hours"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-hours",children:((v=o.totalFlightHours)==null?void 0:v.toLocaleString())||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Ul,{className:"h-4 w-4"}),"Certifications"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-cert-count",children:((f=o.certifications)==null?void 0:f.length)||0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Rentals"]}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-rental-count",children:u})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx(Mn,{className:"h-4 w-4"}),"Verification"]}),s.jsxs(K,{className:o.identityVerified?"bg-chart-2 text-white":"",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1"}),o.identityVerified?"Verified":"Unverified"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.identityVerified&&s.jsxs(K,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"ID Verified"]}),o.licenseVerified&&s.jsxs(K,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"License Verified"]}),o.backgroundCheckCompleted&&s.jsxs(K,{variant:"outline",className:"bg-background",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1 text-chart-2"}),"Background Check"]}),o.pilotLicenseUrl&&s.jsxs(K,{variant:"outline",className:"bg-background",children:[s.jsx(In,{className:"h-3 w-3 mr-1 text-primary"}),"License on File"]}),o.insuranceUrl&&s.jsxs(K,{variant:"outline",className:"bg-background",children:[s.jsx(In,{className:"h-3 w-3 mr-1 text-primary"}),"Insurance on File"]})]})]})]})})}),s.jsxs(_u,{defaultValue:"certifications",className:"space-y-6",children:[s.jsxs(pc,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto","data-testid":"tabs-profile",children:[s.jsx(Ft,{value:"certifications",className:"text-xs sm:text-sm","data-testid":"tab-certifications",children:"Certifications"}),s.jsx(Ft,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-types",children:"Aircraft"}),s.jsx(Ft,{value:"history",className:"text-xs sm:text-sm","data-testid":"tab-rental-history",children:"History"}),s.jsx(Ft,{value:"reviews",className:"text-xs sm:text-sm","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(Ut,{value:"certifications",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Pilot Certifications"})}),s.jsx(U,{children:o.certifications&&o.certifications.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.certifications.map(b=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`cert-${b}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ul,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:b}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilot Certification"})]})]})},b))}):s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:'No certifications added yet. Click "Edit Profile" to add certifications.'})})]})}),s.jsx(Ut,{value:"aircraft",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Aircraft Types Flown"})}),s.jsx(U,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:hee.map(b=>s.jsxs(K,{variant:"outline",className:"px-4 py-2 text-sm","data-testid":`aircraft-type-${b}`,children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),b]},b))})})]})}),s.jsx(Ut,{value:"history",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Rental History"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(b=>s.jsxs("div",{className:"p-4 border rounded-lg hover-elevate","data-testid":`rental-history-${b}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"2018 Cessna 172 Skyhawk"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Santa Monica, CA (SMO)"})]}),s.jsx(K,{className:"bg-chart-2 text-white",children:"Completed"})]}),s.jsx(nt,{className:"my-2"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dec 1-3, 2024  6 hours"}),s.jsx("span",{className:"font-semibold",children:"$870.00"})]})]},b))})})]})}),s.jsx(Ut,{value:"reviews",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Reviews"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No reviews yet"})})]})})]})]})})}const pee=.0825,fee={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40,jobs:40};function g_(t,e){const n=fee[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25}function xee(t,e,n){const r=g_(t,e);return g_(t,n)-r}function gee(t){return t+t*pee}const nf=[{id:"basic",label:"Basic",price:25,description:"Essential features for smaller listings",features:["30-day listing","Basic visibility","Up to 3 images"]},{id:"standard",label:"Standard",price:40,description:"Enhanced features for better exposure",features:["30-day listing","Enhanced visibility","Up to 5 images","Featured badge"]},{id:"premium",label:"Premium",price:100,description:"Maximum visibility and features",features:["30-day listing","Top placement","Up to 10 images","Featured badge","Priority support"]}];function yee({listing:t,isOpen:e,onClose:n}){const[r,i]=p.useState(""),{toast:a}=Ot(),[,o]=an(),l=nf.find(x=>x.id===t.tier),c=nf.findIndex(x=>x.id===t.tier),d=nf.filter((x,j)=>j>c),u=()=>{if(!r){a({title:"Select a tier",description:"Please select a tier to upgrade to",variant:"destructive"});return}const x=xee(t.category,t.tier||"basic",r),j=gee(x),g={listingId:t.id,listingTitle:t.title,currentTier:t.tier||"basic",newTier:r,category:t.category,upgradeDelta:x,totalWithTax:j};localStorage.setItem("upgradeContext",JSON.stringify(g)),n(),o("/marketplace/listing/checkout?mode=upgrade")},h=nf.find(x=>x.id===r),m=h?h.price-((l==null?void 0:l.price)||25):0;return s.jsx(Jt,{open:e,onOpenChange:n,children:s.jsxs(Kt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(es,{children:[s.jsxs(ts,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"w-5 h-5"}),"Upgrade Your Listing"]}),s.jsx(is,{children:"Boost your listing's visibility and features by upgrading to a higher tier"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Current Tier"}),s.jsxs(K,{variant:"secondary",className:"text-sm",children:[l==null?void 0:l.label," - $",l==null?void 0:l.price,"/month"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium mb-4",children:"Available Upgrades"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(x=>{const j=x.price-((l==null?void 0:l.price)||25),g=r===x.id;return s.jsxs(L,{className:`cursor-pointer transition-all ${g?"border-primary ring-2 ring-primary":"hover-elevate"}`,onClick:()=>i(x.id),"data-testid":`tier-option-${x.id}`,children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Z,{className:"text-lg",children:x.label}),s.jsxs(Ne,{className:"text-sm mt-1",children:["$",x.price,"/month"]})]}),g&&s.jsx(Zh,{className:"w-5 h-5 text-primary"})]}),s.jsx(Ne,{className:"mt-2",children:x.description})]}),s.jsxs(U,{children:[s.jsx("ul",{className:"space-y-2",children:x.features.map((v,f)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Zh,{className:"w-4 h-4 text-green-600"}),v]},f))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["Upgrade cost: ",s.jsxs("span",{className:"text-foreground",children:["$",j]})]})})]})]},x.id)})})]}),d.length===0&&s.jsx(L,{children:s.jsx(U,{className:"py-8 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"You're already at the highest tier! "})})}),r&&s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Upgrade Summary"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l==null?void 0:l.label,"  ",h==null?void 0:h.label]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",m]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"one-time upgrade fee"})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(M,{variant:"outline",onClick:n,"data-testid":"button-cancel-upgrade",children:"Cancel"}),s.jsx(M,{onClick:u,disabled:!r,"data-testid":"button-confirm-upgrade",children:"Proceed to Payment"})]})]})]})})}function vee(){const{user:t}=Ds(),[,e]=an(),{toast:n}=Ot(),[r,i]=p.useState(null),{data:a=[],isLoading:o}=We({queryKey:["/api/marketplace/user",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:l=[],isLoading:c}=We({queryKey:["/api/aircraft/owner",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),d=Ie({mutationFn:async m=>await Te("PATCH",`/api/aircraft/${m}/refresh`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/aircraft/owner",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your aircraft listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),u=Ie({mutationFn:async m=>await Te("PATCH",`/api/marketplace/${m}/refresh`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/marketplace/user",t==null?void 0:t.id]}),n({title:"Listing refreshed",description:"Your marketplace listing has been marked as recently reviewed."})},onError:()=>{n({title:"Failed to refresh",description:"Please try again later.",variant:"destructive"})}}),h=m=>({"aircraft-sale":"Aircraft For Sale",job:"Aviation Job",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[m]||m;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-my-listings-title",children:"My Listings"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your aircraft rentals and marketplace listings"})]}),s.jsxs(_u,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(pc,{className:"grid w-full grid-cols-2 h-auto",children:[s.jsxs(Ft,{value:"marketplace",className:"text-xs sm:text-sm","data-testid":"tab-marketplace-listings",children:["Marketplace (",a.length,")"]}),s.jsxs(Ft,{value:"aircraft",className:"text-xs sm:text-sm","data-testid":"tab-aircraft-listings",children:["Rentals (",l.length,")"]})]}),s.jsxs(Ut,{value:"marketplace",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Marketplace Listings"}),s.jsx(M,{onClick:()=>e("/create-marketplace-listing"),className:"w-full sm:w-auto","data-testid":"button-create-marketplace",children:"Create New Listing"})]}),o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx(L,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):a.length===0?s.jsx(L,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings yet"}),s.jsx(M,{onClick:()=>e("/create-marketplace-listing"),"data-testid":"button-create-first-marketplace",children:"Create Your First Listing"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>s.jsxs(L,{className:"hover-elevate",children:[s.jsx(G,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(K,{variant:m.isActive?"default":"secondary",className:"mb-2",children:m.isActive?"Active":"Inactive"}),s.jsx(Z,{className:"text-lg line-clamp-2",children:m.title}),s.jsx(Ne,{className:"line-clamp-1",children:h(m.category)})]})})}),s.jsxs(U,{className:"space-y-3",children:[m.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:l1(m.price)})]}),(m.city||m.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"w-4 h-4"}),s.jsx("span",{children:m.city?`${m.city}, ${m.state}`:m.location})]}),m.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",new Date(m.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ta,{className:"w-4 h-4"}),s.jsxs("span",{children:[m.viewCount||0," views"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:s.jsxs(K,{variant:"outline",className:"text-xs",children:[m.tier==="basic"?"Basic":m.tier==="standard"?"Standard":"Premium"," Tier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-marketplace-listing/${m.id}`),"data-testid":`button-edit-marketplace-${m.id}`,children:"Edit"}),m.tier!=="premium"&&s.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>i(m),"data-testid":`button-upgrade-marketplace-${m.id}`,children:[s.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Upgrade"]}),s.jsx(M,{variant:"outline",size:"icon",onClick:()=>u.mutate(m.id),disabled:u.isPending,"data-testid":`button-refresh-marketplace-${m.id}`,children:s.jsx(yx,{className:"h-4 w-4"})})]})]})]})]},m.id))})]}),s.jsxs(Ut,{value:"aircraft",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Aircraft Rental Listings"}),s.jsx(M,{onClick:()=>e("/list-aircraft"),className:"w-full sm:w-auto","data-testid":"button-list-aircraft",children:"List New Aircraft"})]}),c?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(m=>s.jsx(L,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},m))}):l.length===0?s.jsx(L,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft listed for rent yet"}),s.jsx(M,{onClick:()=>e("/list-aircraft"),"data-testid":"button-list-first-aircraft",children:"List Your First Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>s.jsxs(L,{className:"hover-elevate",children:[s.jsx(G,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(K,{variant:m.isListed?"default":"secondary",className:"mb-2",children:m.isListed?"Listed":"Unlisted"}),s.jsxs(Z,{className:"text-lg",children:[m.year," ",m.make," ",m.model]}),s.jsx(Ne,{children:m.registration})]})})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",m.hourlyRate,"/hour"]})]}),m.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"w-4 h-4"}),s.jsx("span",{children:m.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsx("span",{children:m.category||"Single Engine"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ta,{className:"w-4 h-4"}),s.jsxs("span",{children:[m.viewCount||0," views"]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/aircraft/${m.id}`),"data-testid":`button-view-aircraft-${m.id}`,children:"View"}),s.jsx(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/edit-aircraft/${m.id}`),"data-testid":`button-edit-aircraft-${m.id}`,children:"Edit"}),s.jsx(M,{variant:"outline",size:"icon",onClick:()=>d.mutate(m.id),disabled:d.isPending,"data-testid":`button-refresh-aircraft-${m.id}`,children:s.jsx(yx,{className:"h-4 w-4"})})]})]})]},m.id))})]})]}),r&&s.jsx(yee,{listing:r,isOpen:!!r,onClose:()=>i(null)})]})}function jee(){const[t,e]=p.useState(null),[n,r]=p.useState(""),[i,a]=p.useState(""),{data:o=[]}=We({queryKey:["/api/messages/conversations"]}),{data:l=[]}=We({queryKey:["/api/messages",t],enabled:!!t}),c=o.filter(h=>{var m;return h.userName.toLowerCase().includes(i.toLowerCase())||((m=h.aircraftName)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))}),d=()=>{!n.trim()||!t||r("")},u=o.find(h=>h.id===t);return s.jsx("div",{className:"container mx-auto px-4 py-8 h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-messages-title",children:"Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Communicate with aircraft owners and renters"})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[s.jsxs(L,{className:"md:col-span-1 flex flex-col",children:[s.jsx(G,{className:"space-y-0 pb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{placeholder:"Search conversations...",value:i,onChange:h=>a(h.target.value),className:"pl-10","data-testid":"input-search-conversations"})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(bm,{className:"h-full",children:c.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(f2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:o.length===0?"No messages yet":"No conversations found"})]}):s.jsx("div",{children:c.map(h=>s.jsx("div",{onClick:()=>e(h.id),className:`
                          p-4 border-b cursor-pointer hover-elevate transition-colors
                          ${t===h.id?"bg-accent/10":""}
                        `,"data-testid":`conversation-${h.id}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs(Vi,{className:"h-10 w-10 flex-shrink-0",children:[s.jsx(zi,{src:h.userAvatar}),s.jsx(qi,{children:h.userName[0]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:h.userName}),h.unreadCount>0&&s.jsx(K,{variant:"default",className:"ml-2 h-5 min-w-5 rounded-full text-xs",children:h.unreadCount})]}),h.aircraftName&&s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Re: ",h.aircraftName]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.lastMessage}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(h.lastMessageTime).toLocaleDateString()})]})]})},h.id))})})})]}),s.jsx(L,{className:"md:col-span-2 flex flex-col",children:u?s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"border-b",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Vi,{className:"h-10 w-10",children:[s.jsx(zi,{src:u.userAvatar}),s.jsx(qi,{children:u.userName[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.userName}),u.aircraftName&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u.aircraftName})]})]})}),s.jsx(U,{className:"flex-1 overflow-hidden p-0",children:s.jsx(bm,{className:"h-full p-4",children:l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})}):s.jsx("div",{className:"space-y-4",children:l.map(h=>s.jsx("div",{className:`flex ${h.senderId==="current-user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`
                                max-w-[70%] rounded-lg p-3
                                ${h.senderId==="current-user"?"bg-primary text-primary-foreground":"bg-muted"}
                              `,children:[s.jsx("p",{className:"text-sm",children:h.content}),s.jsx("p",{className:`
                                text-xs mt-1
                                ${h.senderId==="current-user"?"text-primary-foreground/70":"text-muted-foreground"}
                              `,children:new Date(h.timestamp).toLocaleTimeString()})]})},h.id))})})}),s.jsxs("div",{className:"border-t p-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(as,{placeholder:"Type your message...",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},className:"resize-none",rows:2,"data-testid":"textarea-message"}),s.jsx(M,{onClick:d,disabled:!n.trim(),className:"self-end","data-testid":"button-send-message",children:s.jsx(mD,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(f2,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a conversation to start messaging"})]})})})]})]})})}function bee(){var l,c,d,u,h,m;const{user:t}=Ds(),[,e]=an(),[n,r]=p.useState(null),{data:i,isLoading:a}=We({queryKey:["/api/favorites"],enabled:!!t}),o=x=>({"aircraft-sale":"Aircraft for Sale",job:"Aviation Jobs",cfi:"CFI Services","flight-school":"Flight School",mechanic:"Mechanic Services",charter:"Charter Services"})[x]||x;return t?s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2","data-testid":"text-favorites-title",children:"My Favorites"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your saved aircraft rentals and marketplace listings"})]}),s.jsxs(_u,{defaultValue:"marketplace",className:"space-y-6",children:[s.jsxs(pc,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ft,{value:"marketplace","data-testid":"tab-marketplace",children:["Marketplace (",((l=i==null?void 0:i.marketplace)==null?void 0:l.length)||0,")"]}),s.jsxs(Ft,{value:"aircraft","data-testid":"tab-aircraft",children:["Aircraft Rentals (",((c=i==null?void 0:i.aircraft)==null?void 0:c.length)||0,")"]})]}),s.jsx(Ut,{value:"marketplace",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(x=>s.jsx(L,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},x))}):((d=i==null?void 0:i.marketplace)==null?void 0:d.length)===0?s.jsx(L,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Sh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No marketplace listings saved yet"}),s.jsx(M,{onClick:()=>e("/marketplace"),"data-testid":"button-browse-marketplace",children:"Browse Marketplace"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=i==null?void 0:i.marketplace)==null?void 0:u.map(x=>s.jsxs(L,{className:"hover-elevate cursor-pointer",onClick:()=>r(x.id),"data-testid":`card-marketplace-${x.id}`,children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-lg line-clamp-2",children:x.title}),s.jsx(Ne,{className:"line-clamp-1",children:o(x.category)})]}),s.jsxs(U,{className:"space-y-3",children:[x.price&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-semibold",children:l1(x.price)})]}),(x.city||x.location)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"w-4 h-4"}),s.jsx("span",{children:x.city?`${x.city}, ${x.state}`:x.location})]}),x.createdAt&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Listed ",new Date(x.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ta,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.viewCount||0," views"]})]})]})]},x.id))})}),s.jsx(Ut,{value:"aircraft",className:"space-y-4",children:a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(x=>s.jsx(L,{className:"animate-pulse",children:s.jsx(U,{className:"h-64 bg-muted"})},x))}):((h=i==null?void 0:i.aircraft)==null?void 0:h.length)===0?s.jsx(L,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Sh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No aircraft saved yet"}),s.jsx(M,{onClick:()=>e("/"),"data-testid":"button-browse-aircraft",children:"Browse Aircraft"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(m=i==null?void 0:i.aircraft)==null?void 0:m.map(x=>s.jsxs(L,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/aircraft/${x.id}`),"data-testid":`card-aircraft-${x.id}`,children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"text-lg",children:[x.year," ",x.make," ",x.model]}),s.jsx(Ne,{children:x.registration})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xs,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"font-semibold",children:["$",x.hourlyRate,"/hour"]})]}),x.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"w-4 h-4"}),s.jsx("span",{children:x.location})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Vt,{className:"w-4 h-4"}),s.jsx("span",{children:x.category||"Single Engine"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ta,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.viewCount||0," views"]})]})]})]},x.id))})})]}),s.jsx(c1,{listingId:n||"",open:!!n,onOpenChange:x=>{x||r(null)}})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(L,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(Sh,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to view your favorites"}),s.jsx(M,{onClick:()=>e("/login"),"data-testid":"button-login",children:"Sign In"})]})})})}function wee({rentalId:t,userId:e,rentalStatus:n}){const[r,i]=p.useState([]),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,u]=p.useState(null),h=p.useRef(null),m=p.useRef(null);p.useEffect(()=>{if(n!=="active"){u("Messaging is only available for active rentals");return}const v=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const f=new WebSocket(v);return h.current=f,f.onopen=()=>{console.log("WebSocket connected"),c(!0),u(null)},f.onmessage=b=>{try{const w=JSON.parse(b.data);w.type==="error"?u(w.message):w.type==="chat"&&w.rentalId===t&&(i(N=>[...N,w]),setTimeout(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},100))}catch(w){console.error("Failed to parse message:",w)}},f.onerror=b=>{console.error("WebSocket error:",b),u("Connection error. Please try again."),c(!1)},f.onclose=()=>{console.log("WebSocket disconnected"),c(!1)},()=>{f.readyState===WebSocket.OPEN&&f.close()}}catch(f){console.error("Failed to create WebSocket:",f),u("Failed to connect to messaging service")}},[t,n]);const x=()=>{if(!a.trim()||!h.current||h.current.readyState!==WebSocket.OPEN)return;const g={type:"chat",rentalId:t,senderId:e,content:a.trim()};h.current.send(JSON.stringify(g)),o("")},j=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),x())};return n!=="active"?s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Messages"})}),s.jsx(U,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Messaging is only available during active rentals"})})]}):s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{children:"Messages"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${l?"bg-chart-2":"bg-destructive"}`,"data-testid":"status-connection"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l?"Connected":"Disconnected"})]})]}),s.jsxs(U,{children:[d&&s.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:d}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(bm,{className:"h-[400px] pr-4",ref:m,children:s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):r.map((g,v)=>{const f=g.senderId===e;return s.jsxs("div",{className:`flex gap-3 ${f?"flex-row-reverse":""}`,"data-testid":`message-${v}`,children:[s.jsxs(Vi,{className:"h-8 w-8",children:[s.jsx(zi,{src:""}),s.jsx(qi,{children:f?"You":"Them"})]}),s.jsxs("div",{className:`flex-1 max-w-[70%] ${f?"text-right":""}`,children:[s.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${f?"bg-primary text-primary-foreground":"bg-muted"}`,children:g.content}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(g.timestamp).toLocaleTimeString()})]})]},v)})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{placeholder:"Type a message...",value:a,onChange:g=>o(g.target.value),onKeyPress:j,disabled:!l,"data-testid":"input-message"}),s.jsx(M,{onClick:x,disabled:!l||!a.trim(),size:"icon","data-testid":"button-send-message",children:s.jsx(mD,{className:"h-4 w-4"})})]})]})]})]})}function Nee(){var J,Y;const[,t]=cp("/aircraft/:id"),[,e]=an(),[n,r]=p.useState("6"),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),{user:u,isAuthenticated:h}=Ds(),{toast:m}=Ot(),[x]=p.useState({id:"rental-demo-123",status:"active",userId:"user-123"}),{data:j,isLoading:g,error:v}=We({queryKey:["/api/aircraft",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),{data:f}=We({queryKey:["/api/users",j==null?void 0:j.ownerId],enabled:!!(j!=null&&j.ownerId)});p.useEffect(()=>{!g&&(v||!j)&&e("/404")},[g,v,j,e]),p.useEffect(()=>{j!=null&&j.id&&Te("POST",`/api/aircraft/${j.id}/view`,{}).catch(()=>{})},[j==null?void 0:j.id]);const b=Ie({mutationFn:async q=>await Te("POST","/api/rentals",q),onSuccess:q=>{e(`/rental-payment/${q.id}`),m({title:"Booking request created!",description:"Please complete payment to finalize your booking."})},onError:q=>{m({title:"Booking request failed",description:q.message||"Please try again later.",variant:"destructive"})}}),w=()=>{if(!h||!u){m({title:"Authentication required",description:"Please log in to request a booking.",variant:"destructive"});return}if(!i||!o){m({title:"Missing information",description:"Please select start and end dates.",variant:"destructive"});return}if(new Date(o)<new Date(i)){m({title:"Invalid dates",description:"End date must be on or after start date.",variant:"destructive"});return}if(!n||parseFloat(n)<=0){m({title:"Invalid flight hours",description:"Please enter estimated flight hours.",variant:"destructive"});return}d(!0)},N=()=>{if(!u)return;const q=parseFloat(j.hourlyRate),xe=parseFloat(n)*q,z=xe*.0825,R=xe*.075,Q=xe*.075,ue=xe+z+R,F=ue*.03,ve=ue+F,Me=xe-Q;b.mutate({aircraftId:j.id,renterId:u.id,ownerId:j.ownerId,startDate:new Date(i).toISOString(),endDate:new Date(o).toISOString(),estimatedHours:n,hourlyRate:j.hourlyRate,baseCost:xe.toFixed(2),salesTax:z.toFixed(2),platformFeeRenter:R.toFixed(2),platformFeeOwner:Q.toFixed(2),processingFee:F.toFixed(2),totalCostRenter:ve.toFixed(2),ownerPayout:Me.toFixed(2)}),d(!1)};if(g||!j)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})});const P=parseFloat(j.hourlyRate),S=parseFloat(n)*P,C=S*.0825,k=S*.075,I=S+C+k,A=I*.03,O=I+A,$=j.images&&j.images.length>0?j.images:["https://images.unsplash.com/photo-1540962351504-03099e0a754b?w=1200"];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"relative mb-6",children:s.jsxs(ay,{className:"w-full",children:[s.jsx(oy,{children:$.map((q,de)=>s.jsx(ly,{children:s.jsx("div",{className:"aspect-[16/9] rounded-xl overflow-hidden bg-muted",children:s.jsx("img",{src:q,alt:`${j.year} ${j.make} ${j.model} - Image ${de+1}`,className:"w-full h-full object-cover"})})},de))}),$.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(cy,{className:"left-4","data-testid":"button-carousel-prev"}),s.jsx(dy,{className:"right-4","data-testid":"button-carousel-next"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-aircraft-title",children:[j.year," ",j.make," ",j.model]}),s.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"h-4 w-4"}),s.jsxs("span",{children:[j.location,j.airportCode?` (${j.airportCode})`:""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"h-4 w-4"}),s.jsxs("span",{children:[j.viewCount||0," views"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fl,{className:"h-4 w-4 fill-current text-accent"}),s.jsx("span",{className:"font-semibold text-foreground",children:"4.95"}),s.jsx("span",{children:"(24 reviews)"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{variant:"outline",size:"icon","data-testid":"button-share","aria-label":"Share listing",children:s.jsx(Wz,{className:"h-5 w-5"})}),s.jsx(a3,{listingId:j.id,listingType:"aircraft",variant:"outline"})]})]})]}),s.jsx("section",{className:"container mx-auto px-4 pb-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Aircraft Specifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Make & Model"}),s.jsxs("div",{className:"font-semibold",children:[j.make," ",j.model]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),s.jsx("div",{className:"font-semibold",children:j.year})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Registration"}),s.jsx("div",{className:"font-semibold",children:j.registration})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Time"}),s.jsxs("div",{className:"font-semibold",children:[j.totalTime.toLocaleString()," hours"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),s.jsx("div",{className:"font-semibold",children:j.engine||"N/A"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Avionics"}),s.jsx("div",{className:"font-semibold",children:j.avionicsSuite||"N/A"})]})]})})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Required Certifications"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[j.requiredCertifications.map(q=>s.jsx(K,{className:"bg-primary text-primary-foreground px-4 py-2",children:q},q)),j.minFlightHours&&j.minFlightHours>0&&s.jsxs(K,{variant:"outline",className:"px-4 py-2",children:["Minimum ",j.minFlightHours," flight hours"]})]})})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Description"})}),s.jsx(U,{className:"prose prose-sm max-w-none",children:s.jsx("p",{children:j.description})})]}),x&&s.jsx(wee,{rentalId:x.id,userId:x.userId,rentalStatus:x.status}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Aircraft Owner"})}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Vi,{className:"h-16 w-16",children:[s.jsx(zi,{src:(f==null?void 0:f.profileImageUrl)||void 0}),s.jsxs(qi,{children:[(J=f==null?void 0:f.firstName)==null?void 0:J[0],(Y=f==null?void 0:f.lastName)==null?void 0:Y[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold mb-1","data-testid":"text-owner-name",children:[f==null?void 0:f.firstName," ",f==null?void 0:f.lastName]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[(f==null?void 0:f.averageRating)&&f.totalReviews&&f.totalReviews>0&&s.jsx(Qb,{rating:parseFloat(f.averageRating),totalReviews:f.totalReviews||0,size:"sm"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Response time: ",j.responseTime,"h"]}),s.jsxs("span",{children:["Acceptance rate: ",j.acceptanceRate,"%"]}),(f==null?void 0:f.isVerified)&&s.jsx(K,{className:"bg-chart-2 text-white",children:"Verified"})]})]})]}),s.jsx(M,{variant:"outline","data-testid":"button-message-owner",children:"Message Owner"})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(L,{className:"sticky top-24 shadow-xl",children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold","data-testid":"text-booking-rate",children:["$",P.toFixed(0)]}),s.jsx("span",{className:"text-muted-foreground",children:"/hour"})]}),j.insuranceIncluded&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Mn,{className:"h-4 w-4 text-chart-2"}),s.jsx("span",{className:"text-muted-foreground",children:"Insurance included"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"start-date",children:"Start Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{id:"start-date",type:"date",value:i,onChange:q=>a(q.target.value),className:"pl-10","data-testid":"input-start-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"end-date",children:"End Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{id:"end-date",type:"date",value:o,onChange:q=>l(q.target.value),min:i||void 0,className:"pl-10","data-testid":"input-end-date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"hours",children:"Estimated Flight Hours"}),s.jsx(B,{id:"hours",type:"number",value:n,onChange:q=>r(q.target.value),min:"1",step:"0.5","data-testid":"input-estimated-hours"})]}),s.jsx(nt,{}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["$",P,"  ",n," hours"]}),s.jsxs("span",{"data-testid":"text-base-cost",children:["$",S.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{"data-testid":"text-sales-tax",children:["$",C.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{"data-testid":"text-platform-fee",children:["$",k.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{"data-testid":"text-subtotal",children:["$",I.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{"data-testid":"text-processing-fee",children:["$",A.toFixed(2)]})]})]}),s.jsx(nt,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-total-cost",children:["$",O.toFixed(2)]})]}),s.jsx(M,{className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg",onClick:w,disabled:b.isPending||!h,"data-testid":"button-request-booking",children:b.isPending?"Sending request...":"Request to Book"}),h&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-blue-900 font-semibold mb-1",children:" Don't forget to log your flight!"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["After your rental, visit your ",s.jsx("a",{href:"/logbook",className:"underline font-semibold",children:"digital logbook"})," to record flight time."]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"You won't be charged yet"})]})]})})]})}),s.jsx(rc,{open:c,onOpenChange:d,children:s.jsxs($o,{className:"max-w-2xl",children:[s.jsxs(Uo,{children:[s.jsxs(Vo,{className:"flex items-center gap-2",children:[s.jsx(YN,{className:"h-5 w-5 text-primary"}),"Aircraft Rental Best Practices"]}),s.jsxs(zo,{className:"text-left space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Advance Notice Requirements"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["We recommend booking aircraft rentals ",s.jsx("strong",{children:"3-5 days in advance"})," to ensure availability and give aircraft owners adequate time to prepare the aircraft for your flight. Last-minute bookings may be subject to owner approval and availability."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Weather Policy & Disclaimer"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important:"})," Ready Set Fly is not responsible for weather or weather-related cancellations. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."}),"We strongly recommend checking weather forecasts 24-48 hours before your scheduled flight and coordinating with the aircraft owner. Always prioritize safety and follow all FAA regulations when making go/no-go decisions."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please maintain open communication with the aircraft owner regarding your flight plans, any changes to your schedule, and any concerns you may have. The owner may require a pre-flight briefing or checkout depending on the aircraft and your experience level."})]})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg mt-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"By continuing, you acknowledge that you understand these best practices and will communicate with the aircraft owner regarding any questions or concerns."})})]})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-booking",children:"Cancel"}),s.jsx(qo,{onClick:N,className:"bg-accent text-accent-foreground hover:bg-accent","data-testid":"button-confirm-booking",children:"I Understand - Continue to Book"})]})]})})]})}function m$(t){return/^401: .*Unauthorized/.test(t.message)}function p$(t,e){return Object.hasOwn(t,e)}const{AbortController:zv}=globalThis,f$=(t="Aborted",e)=>{const n=new DOMException(t,"AbortError");return e!=null&&p$(e,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),n},See=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Cee(t,e,n){const r=See.exec(t),i=e.mimeType??(r==null?void 0:r[1])??"plain/text";let a;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(r==null?void 0:r[3])!=null&&(a=[decodeURIComponent(r[3])]);return new Blob(a,{type:i})}class _ee extends Error{constructor(n,r){super(n);E(this,"isNetworkError");E(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&p$(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function y_(t,e,n,r){return t===e?t:r===0?e:t+(e-t)*2**(-r/n)}const x$=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class kee extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");E(this,"cause");E(this,"isNetworkError");E(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function Pee(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new kee(e)})}const Eee=t=>"error"in t&&!!t.error,Tee=t=>t.progress.uploadComplete;function Aee(t){return t.filter(e=>!Eee(e)&&!Tee(e))}function Fee(t){return t.filter(e=>{var n;return!((n=e.progress)!=null&&n.uploadStarted)||!e.isRestored})}function g$(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function v_(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&g$(t)?[t]:null}function Ree(t,e=document){return typeof t=="string"?e.querySelector(t):g$(t)?t:null}function y$(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const j_={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function v$(t){var n;if(t.type)return t.type;const e=t.name?(n=y$(t.name).extension)==null?void 0:n.toLowerCase():null;return e&&e in j_?j_[e]:"application/octet-stream"}function Dee(t){return t.charCodeAt(0).toString(32)}function b_(t){let e="";return t.replace(/[^A-Z0-9]/gi,n=>(e+=`-${Dee(n)}`,"/"))+e}function Iee(t,e){var r;let n=e||"uppy";return typeof t.name=="string"&&(n+=`-${b_(t.name.toLowerCase())}`),t.type!==void 0&&(n+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(n+=`-${b_(t.meta.relativePath.toLowerCase())}`),((r=t.data)==null?void 0:r.size)!==void 0&&(n+=`-${t.data.size}`),t.data.lastModified!==void 0&&(n+=`-${t.data.lastModified}`),n}function Oee(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function Mee(t,e){if(Oee(t))return t.id;const n=v$(t);return Iee({...t,type:n},e)}function w_(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const Th=Array.from;function Lee(t){const e=Th(t.files);return Promise.resolve(e)}function j$(t,e,n,{onSuccess:r}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{j$(t,a,n,{onSuccess:r})}):r(a)},i=>{n(i),r(e)})}function b$(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,r)=>t.file(n,r))},async*values(){const n=t.createReader();yield*await new Promise(i=>{j$(n,[],e,{onSuccess:a=>i(a.map(o=>b$(o,e)))})})},isSameEntry:void 0}}async function*w$(t,e,n=void 0){const r=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?r():null,yield i):n!=null&&(yield n)}else if(t.kind==="directory")for await(const i of t.values())yield*w$(i,e?r():t.name);else n!=null&&(yield n)}async function*$ee(t,e){const n=await Promise.all(Array.from(t.items,async r=>{let i;return i??(i=b$(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*w$(i,"",r)}catch(a){r!=null?yield r:e(a)}else r!=null&&(yield r)}async function Uee(t,e){const n=(e==null?void 0:e.logDropError)??Function.prototype;try{const r=[];for await(const i of $ee(t,n))r.push(i);return r}catch{return Lee(t)}}function Bee(t){var i;const n=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}function Vee(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}function qv(t){return t<10?`0${t}`:t.toString()}function Bf(){const t=new Date,e=qv(t.getHours()),n=qv(t.getMinutes()),r=qv(t.getSeconds());return`${e}:${n}:${r}`}function zee(){if(typeof window>"u")return!1;const t=document.body;return!(t==null||window==null||!("draggable"in t)||!("ondragstart"in t)||!("ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function N_(t){return t.startsWith("blob:")}function S_(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function qee(t){const e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,r=Math.floor(t%60);return{hours:e,minutes:n,seconds:r}}function Hee(t){const e=qee(t),n=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}function Wee(t){return new Error("Cancelled",{cause:t})}function C_(t){var e;if(t!=null){const n=()=>this.abort(t.reason);t.addEventListener("abort",n,{once:!0});const r=()=>{t.removeEventListener("abort",n)};(e=this.then)==null||e.call(this,r,r)}return this}var ha,ki,ma,Td,Pi,Ad,kl,jn,Jb,oh,N$,S$,C$,Zx,Fd;class Kee{constructor(e){X(this,jn);X(this,ha,0);X(this,ki,[]);X(this,ma,!1);X(this,Td);X(this,Pi,1);X(this,Ad);X(this,kl);E(this,"limit");X(this,Zx,()=>this.resume());X(this,Fd,()=>{if(_(this,ma)){te(this,kl,setTimeout(_(this,Fd),0));return}te(this,Pi,this.limit),this.limit=Math.ceil((_(this,Ad)+_(this,Pi))/2);for(let e=_(this,Pi);e<=this.limit;e++)fe(this,jn,oh).call(this);_(this,Ad)-_(this,Pi)>3?te(this,kl,setTimeout(_(this,Fd),2e3)):te(this,Pi,Math.floor(_(this,Pi)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!_(this,ma)&&_(this,ha)<this.limit?fe(this,jn,Jb).call(this,e):fe(this,jn,S$).call(this,e,n)}wrapSyncFunction(e,n){return(...r)=>{const i=this.run(()=>(e(...r),queueMicrotask(()=>i.done()),()=>{}),n);return{abortOn:C_,abort(){i.abort()}}}}wrapPromiseFunction(e,n){return(...r)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...r))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(i.done(),o(u))},u=>{c?l(c):(i.done(),l(u))}),u=>{c=Wee(u)}},n)});return a.abort=o=>{i.abort(o)},a.abortOn=C_,a}}resume(){te(this,ma,!1),clearTimeout(_(this,Td));for(let e=0;e<this.limit;e++)fe(this,jn,oh).call(this)}pause(e=null){te(this,ma,!0),clearTimeout(_(this,Td)),e!=null&&te(this,Td,setTimeout(_(this,Zx),e))}rateLimit(e){clearTimeout(_(this,kl)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(te(this,Ad,this.limit-1),this.limit=_(this,Pi),te(this,kl,setTimeout(_(this,Fd),e)))}get isPaused(){return _(this,ma)}}ha=new WeakMap,ki=new WeakMap,ma=new WeakMap,Td=new WeakMap,Pi=new WeakMap,Ad=new WeakMap,kl=new WeakMap,jn=new WeakSet,Jb=function(e){te(this,ha,_(this,ha)+1);let n=!1,r;try{r=e()}catch(i){throw te(this,ha,_(this,ha)-1),i}return{abort:i=>{n||(n=!0,te(this,ha,_(this,ha)-1),r==null||r(i),fe(this,jn,oh).call(this))},done:()=>{n||(n=!0,te(this,ha,_(this,ha)-1),fe(this,jn,oh).call(this))}}},oh=function(){queueMicrotask(()=>fe(this,jn,N$).call(this))},N$=function(){if(_(this,ma)||_(this,ha)>=this.limit||_(this,ki).length===0)return;const e=_(this,ki).shift();if(e==null)throw new Error("Invariant violation: next is null");const n=fe(this,jn,Jb).call(this,e.fn);e.abort=n.abort,e.done=n.done},S$=function(e,n){const r={fn:e,priority:(n==null?void 0:n.priority)||0,abort:()=>{fe(this,jn,C$).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=_(this,ki).findIndex(a=>r.priority>a.priority);return i===-1?_(this,ki).push(r):_(this,ki).splice(i,0,r),r},C$=function(e){const n=_(this,ki).indexOf(e);n!==-1&&_(this,ki).splice(n,1)},Zx=new WeakMap,Fd=new WeakMap;function Gee(t,e,n){const r=[];return t.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&r.push(a),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function __(t,e){const n=/\$/g,r="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=n[Symbol.replace](o,r)),i=Gee(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const Yee=t=>{throw new Error(`missing string: ${t}`)};var Mm,Lm,ew;class _${constructor(e,{onMissingKey:n=Yee}={}){X(this,Lm);E(this,"locale");X(this,Mm);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(fe(this,Lm,ew),this):fe(this,Lm,ew).call(this,e),te(this,Mm,n)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){let r=this.locale.strings[e];if(r==null&&(_(this,Mm).call(this,e),r=e),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const a=this.locale.pluralize(n.smart_count);return __(r[a],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return __(r,n)}}Mm=new WeakMap,Lm=new WeakSet,ew=function(e){if(!(e!=null&&e.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...e.strings},pluralize:e.pluralize||n.pluralize})};const Hv="...";function k$(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Hv.length+1)return`${t.slice(0,e-1)}`;const n=e-Hv.length,r=Math.ceil(n/2),i=Math.floor(n/2);return t.slice(0,r)+Hv+t.slice(-i)}class Qee extends Error{constructor(){super(...arguments);E(this,"name","UserFacingApiError")}}var _p,Ht,P$,ll,k_,E$,T$,A$,w1,tw,sw,wm={},F$=[],Xee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,kp=Array.isArray;function Ii(t,e){for(var n in e)t[n]=e[n];return t}function N1(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function S1(t,e,n){var r,i,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?_p.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Ah(t,o,r,i,null)}function Ah(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++P$,__i:-1,__u:0};return i==null&&Ht.vnode!=null&&Ht.vnode(a),a}function Zee(){return{current:null}}function ba(t){return t.children}function li(t,e){this.props=t,this.context=e}function mu(t,e){if(e==null)return t.__?mu(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?mu(t):null}function R$(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return R$(t)}}function P_(t){(!t.__d&&(t.__d=!0)&&ll.push(t)&&!zx.__r++||k_!=Ht.debounceRendering)&&((k_=Ht.debounceRendering)||E$)(zx)}function zx(){for(var t,e,n,r,i,a,o,l=1;ll.length;)ll.length>l&&ll.sort(T$),t=ll.shift(),l=ll.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,a=[],o=[],e.__P&&((n=Ii({},r)).__v=r.__v+1,Ht.vnode&&Ht.vnode(n),C1(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,a,i??mu(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,O$(a,n,o),r.__e=r.__=null,n.__e!=i&&R$(n)));zx.__r=0}function D$(t,e,n,r,i,a,o,l,c,d,u){var h,m,x,j,g,v,f,b=r&&r.__k||F$,w=e.length;for(c=Jee(n,e,b,c,w),h=0;h<w;h++)(x=n.__k[h])!=null&&(m=x.__i==-1?wm:b[x.__i]||wm,x.__i=h,v=C1(t,x,m,i,a,o,l,c,d,u),j=x.__e,x.ref&&m.ref!=x.ref&&(m.ref&&_1(m.ref,null,x),u.push(x.ref,x.__c||j,x)),g==null&&j!=null&&(g=j),(f=!!(4&x.__u))||m.__k===x.__k?c=I$(x,c,t,f):typeof x.type=="function"&&v!==void 0?c=v:j&&(c=j.nextSibling),x.__u&=-7);return n.__e=g,c}function Jee(t,e,n,r,i){var a,o,l,c,d,u=n.length,h=u,m=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=t.__k[a]=Ah(null,o,null,null,null):kp(o)?o=t.__k[a]=Ah(ba,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=t.__k[a]=Ah(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):t.__k[a]=o,c=a+m,o.__=t,o.__b=t.__b+1,l=null,(d=o.__i=ete(o,n,c,h))!=-1&&(h--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=n[a])!=null&&!(2&l.__u)&&(l.__e==r&&(r=mu(l)),L$(l,l));return r}function I$(t,e,n,r){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=I$(i[a],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=mu(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function eo(t,e){return e=e||[],t==null||typeof t=="boolean"||(kp(t)?t.some(function(n){eo(n,e)}):e.push(t)),e}function ete(t,e,n,r){var i,a,o,l=t.key,c=t.type,d=e[n],u=d!=null&&(2&d.__u)==0;if(d===null&&l==null||u&&l==d.key&&c==d.type)return n;if(r>(u?1:0)){for(i=n-1,a=n+1;i>=0||a<e.length;)if((d=e[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function E_(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Xee.test(e)?n:n+"px"}function rf(t,e,n,r,i){var a,o;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||E_(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||E_(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(A$,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r?n.u=r.u:(n.u=w1,t.addEventListener(e,a?sw:tw,a)):t.removeEventListener(e,a?sw:tw,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function T_(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=w1++;else if(e.t<n.u)return;return n(Ht.event?Ht.event(e):e)}}}function C1(t,e,n,r,i,a,o,l,c,d){var u,h,m,x,j,g,v,f,b,w,N,P,S,C,k,I,A,O=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=e.__e=n.__e]),(u=Ht.__b)&&u(e);e:if(typeof O=="function")try{if(f=e.props,b="prototype"in O&&O.prototype.render,w=(u=O.contextType)&&r[u.__c],N=u?w?w.props.value:u.__:r,n.__c?v=(h=e.__c=n.__c).__=h.__E:(b?e.__c=h=new O(f,N):(e.__c=h=new li(f,N),h.constructor=O,h.render=ste),w&&w.sub(h),h.state||(h.state={}),h.__n=r,m=h.__d=!0,h.__h=[],h._sb=[]),b&&h.__s==null&&(h.__s=h.state),b&&O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Ii({},h.__s)),Ii(h.__s,O.getDerivedStateFromProps(f,h.__s))),x=h.props,j=h.state,h.__v=e,m)b&&O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),b&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(b&&O.getDerivedStateFromProps==null&&f!==x&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(f,N),e.__v==n.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(f,h.__s,N)===!1){for(e.__v!=n.__v&&(h.props=f,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function($){$&&($.__=e)}),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(f,h.__s,N),b&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(x,j,g)})}if(h.context=N,h.props=f,h.__P=t,h.__e=!1,S=Ht.__r,C=0,b){for(h.state=h.__s,h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,S&&S(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++C<25);h.state=h.__s,h.getChildContext!=null&&(r=Ii(Ii({},r),h.getChildContext())),b&&!m&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(x,j)),I=u,u!=null&&u.type===ba&&u.key==null&&(I=M$(u.props.children)),l=D$(t,kp(I)?I:[I],e,n,r,i,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),v&&(h.__E=h.__=null)}catch($){if(e.__v=null,c||a!=null)if($.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(A=a.length;A--;)N1(a[A]);nw(e)}else e.__e=n.__e,e.__k=n.__k,$.then||nw(e);Ht.__e($,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=tte(n.__e,e,n,r,i,a,o,c,d);return(u=Ht.diffed)&&u(e),128&e.__u?void 0:l}function nw(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(nw)}function O$(t,e,n){for(var r=0;r<n.length;r++)_1(n[r],n[++r],n[++r]);Ht.__c&&Ht.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){Ht.__e(a,i.__v)}})}function M$(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:kp(t)?t.map(M$):Ii({},t)}function tte(t,e,n,r,i,a,o,l,c){var d,u,h,m,x,j,g,v=n.props||wm,f=e.props,b=e.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((x=a[d])&&"setAttribute"in x==!!b&&(b?x.localName==b:x.nodeType==3)){t=x,a[d]=null;break}}if(t==null){if(b==null)return document.createTextNode(f);t=document.createElementNS(i,b,f.is&&f),l&&(Ht.__m&&Ht.__m(e,a),l=!1),a=null}if(b==null)v===f||l&&t.data==f||(t.data=f);else{if(a=a&&_p.call(t.childNodes),!l&&a!=null)for(v={},d=0;d<t.attributes.length;d++)v[(x=t.attributes[d]).name]=x.value;for(d in v)if(x=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=x;else if(!(d in f)){if(d=="value"&&"defaultValue"in f||d=="checked"&&"defaultChecked"in f)continue;rf(t,d,null,x,i)}}for(d in f)x=f[d],d=="children"?m=x:d=="dangerouslySetInnerHTML"?u=x:d=="value"?j=x:d=="checked"?g=x:l&&typeof x!="function"||v[d]===x||rf(t,d,x,v[d],i);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),D$(e.type=="template"?t.content:t,kp(m)?m:[m],e,n,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&mu(n,0),l,c),a!=null)for(d=a.length;d--;)N1(a[d]);l||(d="value",b=="progress"&&j==null?t.removeAttribute("value"):j!=null&&(j!==t[d]||b=="progress"&&!j||b=="option"&&j!=v[d])&&rf(t,d,j,v[d],i),d="checked",g!=null&&g!=t[d]&&rf(t,d,g,v[d],i))}return t}function _1(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ht.__e(i,n)}}function L$(t,e,n){var r,i;if(Ht.unmount&&Ht.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||_1(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Ht.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&L$(r[i],e,n||typeof t.type!="function");n||N1(t.__e),t.__c=t.__=t.__e=void 0}function ste(t,e,n){return this.constructor(t,n)}function A_(t,e,n){var r,i,a,o;e==document&&(e=document.documentElement),Ht.__&&Ht.__(t,e),i=(r=!1)?null:e.__k,a=[],o=[],C1(e,t=e.__k=S1(ba,null,[t]),i||wm,wm,e.namespaceURI,i?null:e.firstChild?_p.call(e.childNodes):null,a,i?i.__e:e.firstChild,r,o),O$(a,t,o)}function $$(t,e,n){var r,i,a,o,l=Ii({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?_p.call(arguments,2):n),Ah(t.type,l,r||t.key,i||t.ref,null)}_p=F$.slice,Ht={__e:function(t,e,n,r){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},P$=0,li.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ii({},this.state),typeof t=="function"&&(t=t(Ii({},n),this.props)),t&&Ii(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),P_(this))},li.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),P_(this))},li.prototype.render=ba,ll=[],E$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,T$=function(t,e){return t.__v.__b-e.__v.__b},zx.__r=0,A$=/(PointerCapture)$|Capture$/i,w1=0,tw=T_(!1),sw=T_(!0);var nte=0;function T(t,e,n,r,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--nte,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return Ht.vnode&&Ht.vnode(d),d}var Nm,Fs,Wv,F_,Sm=0,U$=[],Us=Ht,R_=Us.__b,D_=Us.__r,I_=Us.diffed,O_=Us.__c,M_=Us.unmount,L_=Us.__;function k1(t,e){Us.__h&&Us.__h(Fs,t,Sm||e),Sm=0;var n=Fs.__H||(Fs.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function pu(t){return Sm=1,rte(V$,t)}function rte(t,e,n){var r=k1(Nm++,2);if(r.t=t,!r.__c&&(r.__=[V$(void 0,e),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Fs,!Fs.__f)){var i=function(l,c,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var h=r.__c.props!==l;return u.forEach(function(m){if(m.__N){var x=m.__[0];m.__=m.__N,m.__N=void 0,x!==m.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};Fs.__f=!0;var a=Fs.shouldComponentUpdate,o=Fs.componentWillUpdate;Fs.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,i(l,c,d),a=u}o&&o.call(this,l,c,d)},Fs.shouldComponentUpdate=i}return r.__N||r.__}function qx(t,e){var n=k1(Nm++,3);!Us.__s&&B$(n.__H,e)&&(n.__=t,n.u=e,Fs.__H.__h.push(n))}function hd(t){return Sm=5,P1(function(){return{current:t}},[])}function P1(t,e){var n=k1(Nm++,7);return B$(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Hx(t,e){return Sm=8,P1(function(){return t},e)}function ite(){for(var t;t=U$.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vf),t.__H.__h.forEach(rw),t.__H.__h=[]}catch(e){t.__H.__h=[],Us.__e(e,t.__v)}}Us.__b=function(t){Fs=null,R_&&R_(t)},Us.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),L_&&L_(t,e)},Us.__r=function(t){D_&&D_(t),Nm=0;var e=(Fs=t.__c).__H;e&&(Wv===Fs?(e.__h=[],Fs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Vf),e.__h.forEach(rw),e.__h=[],Nm=0)),Wv=Fs},Us.diffed=function(t){I_&&I_(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(U$.push(e)!==1&&F_===Us.requestAnimationFrame||((F_=Us.requestAnimationFrame)||ate)(ite)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Wv=Fs=null},Us.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vf),n.__h=n.__h.filter(function(r){return!r.__||rw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Us.__e(r,n.__v)}}),O_&&O_(t,e)},Us.unmount=function(t){M_&&M_(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Vf(r)}catch(i){e=i}}),n.__H=void 0,e&&Us.__e(e,n.__v))};var $_=typeof requestAnimationFrame=="function";function ate(t){var e,n=function(){clearTimeout(r),$_&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);$_&&(e=requestAnimationFrame(n))}function Vf(t){var e=Fs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Fs=e}function rw(t){var e=Fs;t.__c=t.__(),Fs=e}function B$(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function V$(t,e){return typeof e=="function"?e(t):e}const ote={position:"relative",width:"100%",minHeight:"100%"},lte={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function cte({data:t,rowHeight:e,renderRow:n,overscanCount:r=10,padding:i=4,...a}){const o=hd(null),[l,c]=pu(0),[d,u]=pu(0);qx(()=>{function b(){o.current!=null&&d!==o.current.offsetHeight&&u(o.current.offsetHeight)}return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[d]);const h=Hx(()=>{o.current&&c(o.current.scrollTop)},[]);let m=Math.floor(l/e),x=Math.floor(d/e);r&&(m=Math.max(0,m-m%r),x+=r);const j=m+x+i,g=t.slice(m,j),v={...ote,height:t.length*e},f={...lte,top:m*e};return T("div",{onScroll:h,ref:o,...a,children:T("div",{role:"presentation",style:v,children:T("div",{role:"presentation",style:f,children:g.map(n)})})})}class z${constructor(e,n){E(this,"uppy");E(this,"opts");E(this,"id");E(this,"defaultLocale");E(this,"i18n");E(this,"i18nArray");E(this,"type");E(this,"VERSION");this.uppy=e,this.opts=n??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new _$([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var Ei,$m;class dte{constructor(e){X(this,Ei);X(this,$m,[]);te(this,Ei,e)}on(e,n){return _(this,$m).push([e,n]),_(this,Ei).on(e,n)}remove(){for(const[e,n]of _(this,$m).splice(0))_(this,Ei).off(e,n)}onFilePause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onFileRemove(e,n){this.on("file-removed",r=>{e===r.id&&n(r.id)})}onPause(e,n){this.on("upload-pause",(r,i)=>{e===(r==null?void 0:r.id)&&n(i)})}onRetry(e,n){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&n()})}onRetryAll(e,n){this.on("retry-all",()=>{_(this,Ei).getFile(e)&&n()})}onPauseAll(e,n){this.on("pause-all",()=>{_(this,Ei).getFile(e)&&n()})}onCancelAll(e,n){this.on("cancel-all",(...r)=>{_(this,Ei).getFile(e)&&n(...r)})}onResumeAll(e,n){this.on("resume-all",()=>{_(this,Ei).getFile(e)&&n()})}}Ei=new WeakMap,$m=new WeakMap;const ute={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Bf()}]`,...t)},hte={debug:(...t)=>console.debug(`[Uppy] [${Bf()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Bf()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Bf()}]`,...t)};var mte=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0;let r=Math.abs(e);if(n&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),o=Number(r/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const gl=Ia(mte);function q$(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}q$.prototype.match=function(t){var e=!0,n=this.parts,r,i=n.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),r=0;e&&r<i;r++)n[r]!=="*"&&(r<a.length?e=n[r]===a[r]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var pte=function(t,e,n){var r=new q$(t,n||/[\/\.]/);return typeof e<"u"?r.match(e):r},fte=pte,xte=/[\/\+\.]/,gte=function(t,e){function n(r){var i=fte(r,t,xte);return i&&i.length>=2}return e?n(e.split(";")[0]):n};const yte=Ia(gte),vte={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Yr extends Error{constructor(n,r){super(n);E(this,"isUserFacing");E(this,"file");E(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class jte{constructor(e,n){E(this,"getI18n");E(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var i;const r=e();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+n.length>i)throw new Yr(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const a=[...e,...n].reduce((o,l)=>o+(l.size??0),0);if(a>r)throw new Yr(this.getI18n()("aggregateExceedsSize",{sizeAllowed:gl(r),size:gl(a)}))}}validateSingleFile(e){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?yte(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Yr(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&e.size!=null&&e.size>n)throw new Yr(this.getI18n()("exceedsSize",{size:gl(n),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Yr(this.getI18n()("inferiorSize",{size:gl(r)}),{file:e})}validate(e,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,n)}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(e).length<n)throw new Yr(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new Yr(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const a of r)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:n}}}function bte(t){let e=null,n;return(...r)=>(n=r,e||(e=Promise.resolve().then(()=>(e=null,t(...n)))),e)}var Um;const Jx=class Jx extends z${constructor(){super(...arguments);X(this,Um);E(this,"isTargetDOMEl");E(this,"el");E(this,"parent");E(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof Jx||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:Jx}}));else if(typeof n=="function"){const i=n;this.uppy.iteratePlugins(a=>{a instanceof i&&(r=a)})}return r}mount(n,r){const i=r.id,a=Ree(n);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),te(this,Um,bte(d=>{this.uppy.getPlugin(this.id)&&(A_(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),A_(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||Vee(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(n);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=_(this,Um))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Um=new WeakMap;let Cm=Jx;const wte="5.0.0",Nte={version:wte};var Rd,eg,W$;class H${constructor(){X(this,eg);E(this,"state",{});X(this,Rd,new Set)}getState(){return this.state}setState(e){const n={...this.state},r={...this.state,...e};this.state=r,fe(this,eg,W$).call(this,n,r,e)}subscribe(e){return _(this,Rd).add(e),()=>{_(this,Rd).delete(e)}}}Rd=new WeakMap,eg=new WeakSet,W$=function(...e){_(this,Rd).forEach(n=>{n(...e)})},E(H$,"VERSION",Nte.version);function Ste(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var E1=Ste,Cte=typeof Ap=="object"&&Ap&&Ap.Object===Object&&Ap,_te=Cte,kte=_te,Pte=typeof self=="object"&&self&&self.Object===Object&&self,Ete=kte||Pte||Function("return this")(),K$=Ete,Tte=K$,Ate=function(){return Tte.Date.now()},Fte=Ate,Rte=/\s/;function Dte(t){for(var e=t.length;e--&&Rte.test(t.charAt(e)););return e}var Ite=Dte,Ote=Ite,Mte=/^\s+/;function Lte(t){return t&&t.slice(0,Ote(t)+1).replace(Mte,"")}var $te=Lte,Ute=K$,Bte=Ute.Symbol,G$=Bte,U_=G$,Y$=Object.prototype,Vte=Y$.hasOwnProperty,zte=Y$.toString,Vu=U_?U_.toStringTag:void 0;function qte(t){var e=Vte.call(t,Vu),n=t[Vu];try{t[Vu]=void 0;var r=!0}catch{}var i=zte.call(t);return r&&(e?t[Vu]=n:delete t[Vu]),i}var Hte=qte,Wte=Object.prototype,Kte=Wte.toString;function Gte(t){return Kte.call(t)}var Yte=Gte,B_=G$,Qte=Hte,Xte=Yte,Zte="[object Null]",Jte="[object Undefined]",V_=B_?B_.toStringTag:void 0;function ese(t){return t==null?t===void 0?Jte:Zte:V_&&V_ in Object(t)?Qte(t):Xte(t)}var tse=ese;function sse(t){return t!=null&&typeof t=="object"}var nse=sse,rse=tse,ise=nse,ase="[object Symbol]";function ose(t){return typeof t=="symbol"||ise(t)&&rse(t)==ase}var lse=ose,cse=$te,z_=E1,dse=lse,q_=NaN,use=/^[-+]0x[0-9a-f]+$/i,hse=/^0b[01]+$/i,mse=/^0o[0-7]+$/i,pse=parseInt;function fse(t){if(typeof t=="number")return t;if(dse(t))return q_;if(z_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=z_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cse(t);var n=hse.test(t);return n||mse.test(t)?pse(t.slice(2),n?2:8):use.test(t)?q_:+t}var xse=fse,gse=E1,Kv=Fte,H_=xse,yse="Expected a function",vse=Math.max,jse=Math.min;function bse(t,e,n){var r,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(yse);e=H_(e)||0,gse(n)&&(u=!!n.leading,h="maxWait"in n,a=h?vse(H_(n.maxWait)||0,e):a,m="trailing"in n?!!n.trailing:m);function x(S){var C=r,k=i;return r=i=void 0,d=S,o=t.apply(k,C),o}function j(S){return d=S,l=setTimeout(f,e),u?x(S):o}function g(S){var C=S-c,k=S-d,I=e-C;return h?jse(I,a-k):I}function v(S){var C=S-c,k=S-d;return c===void 0||C>=e||C<0||h&&k>=a}function f(){var S=Kv();if(v(S))return b(S);l=setTimeout(f,g(S))}function b(S){return l=void 0,m&&r?x(S):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function N(){return l===void 0?o:b(Kv())}function P(){var S=Kv(),C=v(S);if(r=arguments,i=this,c=S,C){if(l===void 0)return j(c);if(h)return clearTimeout(l),l=setTimeout(f,e),x(c)}return l===void 0&&(l=setTimeout(f,e)),o}return P.cancel=w,P.flush=N,P}var Q$=bse;const wse=Ia(Q$);var Nse=Q$,Sse=E1,Cse="Expected a function";function _se(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cse);return Sse(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nse(t,e,{leading:r,maxWait:e,trailing:i})}var kse=_se;const Pse=Ia(kse);var Ese=function(){var e={},n=e._fns={};e.emit=function(o,l,c,d,u,h,m){var x=r(o);x.length&&i(o,x,[l,c,d,u,h,m])},e.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(a){var o=n[a]?n[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(n),u=0,h=d.length;for(u;u<h;u++){var m=d[u];if(m==="*"&&(o=o.concat(n[m])),c.length===2&&c[0]===m){o=o.concat(n[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const Tse=Ia(Ese);let Ase="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",T1=(t=21)=>{let e="",n=t|0;for(;n--;)e+=Ase[Math.random()*64|0];return e};const Fse="5.2.0",Rse={version:Fse};function Dse(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const Ise={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function Ose(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const r=e[1].split(".",2),i=parseInt(r[0],10),a=parseInt(r[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const af={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Vr,zr,Bm,Pl,Dd,Id,El,tt,ol,aw,X$,Z$,J$,ow,lw,cw,dw,tg,uw,Tl,e6,t6,po,Vm,lh,s6,hw,ch;const sg=class sg{constructor(e){X(this,tt);X(this,Vr,Object.create(null));X(this,zr);X(this,Bm);X(this,Pl,Tse());X(this,Dd,new Set);X(this,Id,new Set);X(this,El,new Set);E(this,"defaultLocale");E(this,"locale");E(this,"opts");E(this,"store");E(this,"i18n");E(this,"i18nArray");E(this,"scheduledAutoProceed",null);E(this,"wasOffline",!1);X(this,tg,(e,n)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...i}}),_(this,Tl).call(this)});X(this,Tl,Pse(()=>fe(this,tt,uw).call(this),500,{leading:!0,trailing:!0}));X(this,po,this.updateOnlineStatus.bind(this));X(this,Vm,new Map);this.defaultLocale=Ise;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:vte,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new H$,logger:ute,infoTimeout:5e3},r={...n,...e};this.opts={...r,restrictions:{...n.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=hte),this.log(`Using Core v${sg.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...af,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Ose(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),te(this,zr,new jte(()=>this.opts,()=>this.i18n)),te(this,Bm,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),fe(this,tt,t6).call(this)}emit(e,...n){_(this,Pl).emit(e,...n)}on(e,n){return _(this,Pl).on(e,n),this}once(e,n){return _(this,Pl).once(e,n),this}off(e,n){return _(this,Pl).off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(e).map(([r,i])=>[r,{...n[r],...i}]))}})}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:n})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new _$([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,...af})}clear(){const{capabilities:e,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...af,files:{}})}addPreProcessor(e){_(this,Dd).add(e)}removePreProcessor(e){return _(this,Dd).delete(e)}addPostProcessor(e){_(this,El).add(e)}removePostProcessor(e){return _(this,El).delete(e)}addUploader(e){_(this,Id).add(e)}removeUploader(e){return _(this,Id).delete(e)}setMeta(e){const n={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:r})}setFileMeta(e,n){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...r[e].meta,...n};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:r}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],m=[],x=[];for(const j of i){const{progress:g}=j;!g.uploadComplete&&g.uploadStarted&&(a.push(j),j.isPaused||m.push(j)),g.uploadStarted||o.push(j),(g.uploadStarted||g.preprocess||g.postprocess)&&l.push(j),g.uploadStarted&&c.push(j),j.isPaused&&d.push(j),g.uploadComplete&&u.push(j),j.error&&h.push(j),(g.preprocess||g.postprocess)&&x.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:c.length>0,isAllComplete:n===100&&u.length===i.length&&x.length===0,isAllErrored:!!r&&h.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(j=>j.isGhost)}}validateRestrictions(e,n=this.getFiles()){try{_(this,zr).validate(n,[e])}catch(r){return r}return null}validateSingleFile(e){try{_(this,zr).validateSingleFile(e)}catch(n){return n.message}return null}validateAggregateRestrictions(e){const n=this.getFiles();try{_(this,zr).validateAggregateRestrictions(n,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=fe(this,tt,lw).call(this,[e]),a=i.filter(l=>l.isRestriction);if(fe(this,tt,ol).call(this,a),i.length>0)throw i[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),fe(this,tt,ow).call(this),o.id}addFiles(e){const{nextFilesState:n,validFilesToAdd:r,errors:i}=fe(this,tt,lw).call(this,e),a=i.filter(l=>l.isRestriction);fe(this,tt,ol).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&fe(this,tt,ow).call(this)}removeFiles(e){const{files:n,currentUploads:r}=this.getState(),i={...n},a={...r},o=Object.create(null);e.forEach(u=>{n[u]&&(o[u]=n[u],delete i[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=r[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:m}=this.getState();if(h.length!==r[u].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...r[u],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),_(this,Tl).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const n=this.getFile(e),i=!(n.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await fe(this,tt,dw).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),n=Object.keys(e);n.length&&this.removeFiles(n),this.setState(af)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const n=fe(this,tt,lh).call(this,[e],{forceAllowNewUpload:!0});return fe(this,tt,ch).call(this,n)}logout(){this.iteratePlugins(e=>{var n,r;(r=(n=e.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return fe(this,tt,uw).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...n){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in _(this,Vr)?_(this,Vr)[r.type].push(r):_(this,Vr)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const n of Object.values(_(this,Vr))){const r=n.find(i=>i.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return _(this,Vr)[e]}iteratePlugins(e){Object.values(_(this,Vr)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=_(this,Vr)[e.type],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),_(this,Bm).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_(this,po)),window.removeEventListener("offline",_(this,po)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n="info",r=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,n){const{logger:r}=this.opts;switch(n){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,n){_(this,Vm).set(e,n)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const n=_(this,Vm).get(e.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return n}async restore(e){this.log(`Core: Running restored upload "${e}"`);const n=await fe(this,tt,ch).call(this,e);return this.emit("complete",n),n}[Symbol.for("uppy test: createUpload")](...e){return fe(this,tt,lh).call(this,...e)}addResultData(e,n){if(!fe(this,tt,s6).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...n}};this.setState({currentUploads:{...r,[e]:i}})}async upload(){var i;(i=_(this,Vr).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(fe(this,tt,cw).call(this).length>0){const a=await fe(this,tt,dw).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(_(this,zr).validateMinNumberOfFiles(e),!fe(this,tt,X$).call(this,e))throw new Yr(this.i18n("missingRequiredMetaField"));const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=Object.keys(e).filter(u=>{const h=this.getFile(u);return h&&!h.progress.uploadStarted&&!o.includes(u)}),c=fe(this,tt,lh).call(this,l),d=await fe(this,tt,ch).call(this,c);return this.emit("complete",d),d}catch(a){throw fe(this,tt,ol).call(this,[a]),a}}};Vr=new WeakMap,zr=new WeakMap,Bm=new WeakMap,Pl=new WeakMap,Dd=new WeakMap,Id=new WeakMap,El=new WeakMap,tt=new WeakSet,ol=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=e.filter(o=>o.isUserFacing),r=4,i=n.slice(0,r),a=n.slice(r);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},aw=function(e){const{missingFields:n,error:r}=_(this,zr).getMissingRequiredMetaFields(e);return n.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(n.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},X$=function(e){let n=!0;for(const r of Object.values(e))fe(this,tt,aw).call(this,r)||(n=!1);return n},Z$=function(e){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new Yr(this.i18n("noMoreFilesAllowed"),{file:e});throw fe(this,tt,ol).call(this,[r]),r}},J$=function(e){const n=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=v$(n),i=Dse(r,n),a=y$(i).extension,o=Mee(n,this.getID()),l={...n.meta,name:i,type:r},c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...n.isRemote?{isRemote:!0,remote:n.remote,data:n.data}:{isRemote:!1,data:n.data},preview:n.preview}},ow=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},lw=function(e){let{files:n}=this.getState(),r={...n};const i=[],a=[];for(const o of e)try{let l=fe(this,tt,J$).call(this,o);fe(this,tt,Z$).call(this,l);const c=n[l.id],d=c==null?void 0:c.isGhost;if(d&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const u=this.opts.onBeforeFileAdded(l,r);if(n=this.getState().files,r={...n,...r},!u&&this.checkIfFileAlreadyExists(l.id))throw new Yr(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Yr("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(l=u),_(this,zr).validateSingleFile(l),r[l.id]=l,i.push(l)}catch(l){a.push(l)}try{_(this,zr).validateAggregateRestrictions(Object.values(n),i)}catch(o){return a.push(o),{nextFilesState:n,validFilesToAdd:[],errors:a}}return{nextFilesState:r,validFilesToAdd:i,errors:a}},cw=function(){const{files:e}=this.getState();return Object.keys(e).filter(n=>{const r=e[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},dw=async function(){const e=fe(this,tt,cw).call(this),n={...this.getState().files};if(e.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=fe(this,tt,lh).call(this,e,{forceAllowNewUpload:!0});return fe(this,tt,ch).call(this,r)},tg=new WeakMap,uw=function(){const e=fe(this,tt,e6).call(this);let n=null;e!=null&&(n=Math.round(e*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},Tl=new WeakMap,e6=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=n.filter(r),a=n.filter(c=>!r(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},t6=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),fe(this,tt,ol).call(this,[l])}else fe(this,tt,ol).call(this,[a])});let n=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",_(this,tg)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress,l=_(this,El).size>0;this.setFileState(i.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),_(this,Tl).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{const a=i&&this.getFile(i.id);if(a==null){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const{postprocess:o,...l}=a.progress;this.patchFilesState({[a.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{_(this,Tl).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&fe(this,tt,aw).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_(this,po)),window.addEventListener("offline",_(this,po)),setTimeout(_(this,po),3e3))},po=new WeakMap,Vm=new WeakMap,lh=function(e,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=T1();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},s6=function(e){const{currentUploads:n}=this.getState();return n[e]},hw=function(e){const{[e]:n,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},ch=async function(e){const n=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=n();if(!r)throw new Error("Nonexistent upload");const i=[..._(this,Dd),..._(this,Id),..._(this,El)];try{for(let o=r.step||0;o<i.length;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const{fileIDs:c}=r;if(await l(c,e),r=n(),!r)break}}catch(o){throw fe(this,tt,hw).call(this,e),o}if(r){r.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=n()}let a;return r&&(a=r.result,fe(this,tt,hw).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},E(sg,"VERSION",Rse.version);let iw=sg;var n6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(n6);var Mse=n6.exports;const pi=Ia(Mse);function Lse(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:T("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r6=typeof self<"u"?self:global;const _m=typeof navigator<"u",$se=_m&&typeof HTMLImageElement>"u",W_=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),i6=r6.Buffer,a6=!!i6,Use=t=>t!==void 0;function o6(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(Use).length===0)}function rn(t){let e=new Error(t);throw delete e.stack,e}function K_(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Gv=t=>String.fromCharCode.apply(null,t),G_=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class si{static from(e,n){return e instanceof this&&e.le===n?e:new si(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let a=new DataView(e,n,r);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof si){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&rn("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,n,r);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else rn("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=si){return e instanceof DataView||e instanceof si?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||rn("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new si(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return i=this.getUint8Array(e,n),G_?G_.decode(i):a6?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Gv(i)));var i}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return Gv(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Gv(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function mw(t,e){rn(`${t} '${e}' was not loaded, try using full build of exifr.`)}class A1 extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||mw(this.kind,e),n&&(e in n||function(r,i){rn(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||mw(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var l6=new A1("file parser"),Qr=new A1("segment parser"),F1=new A1("file reader");let Bse=r6.fetch;function Y_(t,e){return(n=t).startsWith("data:")||n.length>1e4?fw(t,e,"base64"):W_&&t.includes("://")?pw(t,e,"url",Q_):W_?fw(t,e,"fs"):_m?pw(t,e,"url",Q_):void rn("Invalid input argument");var n}async function pw(t,e,n,r){return F1.has(n)?fw(t,e,n):r?async function(i,a){let o=await a(i);return new si(o)}(t,r):void rn(`Parser ${n} is not loaded`)}async function fw(t,e,n){let r=new(F1.get(n))(t,e);return await r.read(),r}const Q_=t=>Bse(t).then(e=>e.arrayBuffer()),xw=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}),R1=new Map,Vse=new Map,zse=new Map,of=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],c6=["jfif","xmp","icc","iptc","ihdr"],gw=["tiff",...c6],Qs=["ifd0","ifd1","exif","gps","interop"],lf=[...gw,...Qs],cf=["makerNote","userComment"],d6=["translateKeys","translateValues","reviveValues","multiSegment"],df=[...d6,"sanitize","mergeOutput","silentErrors"];class u6{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class zu extends u6{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),Dt(this,"enabled",!1),Dt(this,"skip",new Set),Dt(this,"pick",new Set),Dt(this,"deps",new Set),Dt(this,"translateKeys",!1),Dt(this,"translateValues",!1),Dt(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Qs.includes(e),this.canBeFiltered&&(this.dict=R1.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=r;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:rn(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of d6)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:a,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=a.indexOf(Number(r))),i!==-1&&n.add(Number(a[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Wx(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Wx(this.pick,this.deps)}}var Cn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},X_=new Map;class D1 extends u6{static useCached(e){let n=X_.get(e);return n!==void 0||(n=new this(e),X_.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):rn(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=_m?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of of)this[e]=Cn[e];for(e of df)this[e]=Cn[e];for(e of cf)this[e]=Cn[e];for(e of lf)this[e]=new zu(e,Cn[e],void 0,this)}setupFromTrue(){let e;for(e of of)this[e]=Cn[e];for(e of df)this[e]=Cn[e];for(e of cf)this[e]=!0;for(e of lf)this[e]=new zu(e,!0,void 0,this)}setupFromArray(e){let n;for(n of of)this[n]=Cn[n];for(n of df)this[n]=Cn[n];for(n of cf)this[n]=Cn[n];for(n of lf)this[n]=new zu(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Qs)}setupFromObject(e){let n;for(n of(Qs.ifd0=Qs.ifd0||Qs.image,Qs.ifd1=Qs.ifd1||Qs.thumbnail,Object.assign(this,e),of))this[n]=Yv(e[n],Cn[n]);for(n of df)this[n]=Yv(e[n],Cn[n]);for(n of cf)this[n]=Yv(e[n],Cn[n]);for(n of gw)this[n]=new zu(n,Cn[n],e[n],this);for(n of Qs)this[n]=new zu(n,Cn[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Qs,lf),e.tiff===!0?this.batchEnableWithBool(Qs,!0):e.tiff===!1?this.batchEnableWithUserValue(Qs,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Qs):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Qs)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=Z_(e,r);for(let[o,l]of a)Wx(this[o].pick,l),this[o].enabled=!0}else if(n&&n.length){let a=Z_(n,r);for(let[o,l]of a)Wx(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:a}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Qs.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of Qs)this[a].finalizeFilters()}get onlyTiff(){return!c6.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of gw)this[e].enabled&&!Qr.has(e)&&mw("segment parser",e)}}function Z_(t,e){let n,r,i,a,o=[];for(i of e){for(a of(n=R1.get(i),r=[],n))(t.includes(a[0])||t.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function Yv(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Wx(t,e){for(let n of e)t.add(n)}Dt(D1,"default",Cn);class qse{constructor(e){Dt(this,"parsers",{}),Dt(this,"output",{}),Dt(this,"errors",[]),Dt(this,"pushToErrors",n=>this.errors.push(n)),this.options=D1.useCached(e)}async read(e){this.file=await function(n,r){return typeof n=="string"?Y_(n,r):_m&&!$se&&n instanceof HTMLImageElement?Y_(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new si(n):_m&&n instanceof Blob?pw(n,r,"blob",xw):void rn("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of l6)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),rn("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),o6(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=Qr.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(a,e,n),l=await o.extractThumbnail();return n.close&&n.close(),l}}class Gc{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,a=n+i,o=r-i;return{offset:n,length:r,headerLength:i,start:a,size:o,end:a+o}}static parse(e,n={}){return new this(e,new D1({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof si?e:new si(e)}constructor(e,n={},r){Dt(this,"errors",[]),Dt(this,"raw",new Map),Dt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=zse.get(n),i=Vse.get(n),a=R1.get(n),o=this.options[n],l=o.reviveValues&&!!r,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,u={};for(let[h,m]of e)l&&r.has(h)?m=r.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=m;return u}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}Dt(Gc,"headerLength",4),Dt(Gc,"type",void 0),Dt(Gc,"multiSegment",!1),Dt(Gc,"canHandle",()=>!1);function Hse(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Wse(t){return t>=224&&t<=239}function Kse(t,e,n){for(let[r,i]of Qr)if(i.canHandle(t,e,n))return r}class J_ extends class{constructor(e,n,r){Dt(this,"errors",[]),Dt(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){rn(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):rn("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(Qr.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,a=this.options[r];if(a&&a.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...e){super(...e),Dt(this,"appSegments",[]),Dt(this,"jpegSegments",[]),Dt(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Qr.keyList())):(e=e===void 0?Qr.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&Qr.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=Qr.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await r.readNextChunk(e):!await r.readNextChunk(c),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:m,options:x}=this;for(;e<n;e++)if(d.getUint8(e)===255){if(r=d.getUint8(e+1),Wse(r)){if(i=d.getUint16(e+2),a=Kse(d,e,i),a&&h.has(a)&&(o=Qr.get(a),l=o.findPosition(d,e),c=x[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;x.recordUnknownSegments&&(l=Gc.findPosition(d,e),l.marker=r,this.unknownSegments.push(l)),e+=i+1}else if(Hse(r)){if(i=d.getUint16(e+2),r===218&&x.stopAfterSos!==!1)return;x.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,a,o,l=new Map;for(let c=0;c<n.length;c++)i=n[c],a=i[r],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=Qr.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}Dt(J_,"type","jpeg"),l6.set("jpeg",J_);const Gse=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Yse extends Gc{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:a}=this.options[n];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(i.has(u)&&(r.set(u,this.parseTag(e,u,n)),i.delete(u),i.size===0))break}else!l&&a.has(u)||r.set(u,this.parseTag(e,u,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=Gse[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&rn(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&rn(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:rn(`Invalid tiff type ${e}`)}}}class Qv extends Yse{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&rn("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&rn(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,K_(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,K_(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",ek(...e.get(2),e.get(1))),e.set("longitude",ek(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of Qs)if(e=this[n],!o6(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function ek(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Dt(Qv,"type","tiff"),Dt(Qv,"headerLength",10),Qr.set("tiff",Qv);const I1={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},I1,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},I1,{tiff:!1,ifd1:!0,mergeOutput:!1});const Qse=Object.assign({},I1,{firstChunkSize:4e4,ifd0:[274]});async function Xse(t){let e=new qse(Qse);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const Zse=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let dh=!0,uh=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;dh=Number(n)+.1*Number(r)<13.4,uh=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);dh=uh=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);dh=uh=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);dh=uh=Number(e)<77}}async function Jse(t){let e=await Xse(t);return Object.assign({canvas:dh,css:uh},Zse[e])}class ene extends si{constructor(...e){super(...e),Dt(this,"ranges",new tne),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let n;n=a6?i6.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class tne{constructor(){Dt(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,a=this.list.filter(o=>tk(e,o.offset,i)||tk(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),n=i-e;let o=a.shift();o.offset=e,o.length=n,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function tk(t,e,n){return t<=e&&e<=n}class sne extends ene{constructor(e,n){super(0),Dt(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}F1.set("blob",class extends sne{async readWhole(){this.chunked=!1;let t=await xw(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await xw(r);return this.set(i,t,!0)}});const nne="5.1.0",rne={version:nne},ine={strings:{generatingThumbnails:"Generating thumbnails..."}};function ane(t,e,n){try{t.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(r=>{t.toBlob(r,e,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>Cee(t.toDataURL(e,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function one(t,e){let n=t.width,r=t.height;(e.deg===90||e.deg===270)&&(n=t.height,r=t.width);const i=document.createElement("canvas");i.width=n,i.height=r;const a=i.getContext("2d");return a.translate(n/2,r/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function lne(t){const e=t.width/t.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*e)),a=Math.floor(n/Math.sqrt(n*e));if(i>r&&(i=r,a=Math.round(i/e)),a>r&&(a=r,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const cne={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class h6 extends Cm{constructor(n,r){super(n,{...cne,...r});E(this,"queue");E(this,"queueProcessing");E(this,"defaultThumbnailDimension");E(this,"thumbnailType");E(this,"onFileAdded",n=>{!n.preview&&n.data&&S_(n.type)&&!n.isRemote&&this.addToQueue(n.id)});E(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});E(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&N_(n.preview)&&URL.revokeObjectURL(n.preview)});E(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||N_(r.preview))&&this.addToQueue(r.id)})});E(this,"onAllFilesRemoved",()=>{this.queue=[]});E(this,"waitUntilAllProcessed",n=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=ine,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,i){if(n.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(n.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=Jse(n.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,r,i,d.deg),h=one(c,d),m=this.resizeImage(h,u.width,u.height);return ane(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,r,i,a){let o=n.width/n.height;if((a===90||a===270)&&(o=n.height/n.width),r!=null){let l=r;return n.width<r&&(l=n.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return n.height<i&&(l=n.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(n,r,i){let a=lne(n),o=Math.ceil(Math.log2(a.width/r));o<1&&(o=1);let l=r*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return S_(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}E(h6,"VERSION",rne.version);const dne="5.1.0",une={version:dne};class m6 extends li{constructor(){super(...arguments);E(this,"fileInput",null);E(this,"folderInput",null);E(this,"mobilePhotoFileInput",null);E(this,"mobileVideoFileInput",null);E(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});E(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});E(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});E(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});E(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});E(this,"renderHiddenInput",(n,r)=>{var i;return T("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});E(this,"renderHiddenCameraInput",(n,r,i)=>{const o={photo:"image/*",video:"video/*"}[n];return T("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:i})});E(this,"renderMyDeviceAcquirer",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));E(this,"renderPhotoCamera",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));E(this,"renderVideoCamera",()=>T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[T("div",{className:"uppy-DashboardTab-inner",children:T("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:T("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),T("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));E(this,"renderBrowseButton",(n,r)=>{const i=this.props.acquirers.length;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:n})});E(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return T("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:i,browse:r})})});E(this,"renderAcquirer",n=>{var r;return T("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[T("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),T("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});E(this,"renderAcquirers",n=>{const r=[...n],i=r.splice(n.length-2,n.length);return T(ba,{children:[r.map(a=>this.renderAcquirer(a)),T("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});E(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...n.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return T(ba,{children:[this.renderDropPasteBrowseTagline(o.length),T("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:m})=>T(ba,{children:m},h)),T("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:m})=>T(ba,{children:m},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=T("span",{children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:T("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),T("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=n("poweredBy",{uppy:r});return T("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return T("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),n&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),r&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),T("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&T("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const hne=t=>T("div",{className:pi("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),T(m6,{...t})]});function mne(t){const e=t.files[t.fileCardFor],n=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return T("div",{className:pi("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:T("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:t.i18n("cancel")}),T("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),T("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(r=>t.uppy.getPlugin(r.id).render(t.state))})]})}function pne(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:T("g",{fill:"#686DE0",fillRule:"evenodd",children:[T("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),T("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),T("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function fne(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function xne(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function gne(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function yne(){return T("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function vne(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[T("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),T("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function jne(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:T("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function O1(t){const e={color:"#838999",icon:vne()};if(!t)return e;const n=t.split("/")[0],r=t.split("/")[1];return n==="text"?{color:"#5a5e69",icon:jne()}:n==="image"?{color:"#686de0",icon:pne()}:n==="audio"?{color:"#068dbb",icon:fne()}:n==="video"?{color:"#19af67",icon:xne()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:gne()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:yne()}:e}function yo(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function p6(t){const{file:e}=t;if(e.preview)return T("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:n,icon:r}=O1(e.type);return T("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[T("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:T("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function bne(t){const{computedMetaFields:e,requiredMetaFields:n,updateMeta:r,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=n.includes(l.id);return T("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[T("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>r(u,l.id),fieldCSSClasses:o,required:d,form:i.id},S1):T("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>r(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function wne(t){const{files:e,fileCardFor:n,toggleFileCard:r,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,m=()=>typeof a=="function"?a(e[n]):a,x=e[n],j=m()??[],g=h(x),v={};j.forEach(k=>{v[k.id]=x.meta[k.id]??""});const[f,b]=pu(v),w=Hx(k=>{k.preventDefault(),i(f,n)},[i,f,n]),N=(k,I)=>{b({...f,[I]:k})},P=()=>{r(!1)},[S]=pu(()=>{const k=document.createElement("form");return k.setAttribute("tabindex","-1"),k.id=T1(),k}),C=hd(null);return qx(()=>{var I;const k=((I=C.current)==null?void 0:I.getRootNode())??document;return k instanceof Document?k.body.appendChild(S):(k instanceof ShadowRoot,k.appendChild(S)),S.addEventListener("submit",w),()=>{S.removeEventListener("submit",w),S.parentNode&&S.parentNode.removeChild(S)}},[S,w]),T("div",{className:pi("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:yo,onDragLeave:yo,onDrop:yo,onPaste:yo,ref:C,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:T("span",{className:"uppy-DashboardContent-titleFile",children:x.meta?x.meta.name:x.name})})}),T("button",{className:"uppy-DashboardContent-back",type:"button",form:S.id,title:c("finishEditingFile"),onClick:P,children:c("cancel")})]}),T("div",{className:"uppy-Dashboard-FileCard-inner",children:[T("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:O1(x.type).color},children:[T(p6,{file:x}),g&&T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:k=>{w(k),l(x)},children:c("editImage")})]}),T("div",{className:"uppy-Dashboard-FileCard-info",children:T(bne,{computedMetaFields:j,requiredMetaFields:o,updateMeta:N,form:S,formState:f})}),T("div",{className:"uppy-Dashboard-FileCard-actions",children:[T("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:S.id,children:c("saveChanges")}),T("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:P,form:S.id,children:c("cancel")})]})]})]})}function Nne(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function Sne(t,e="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=t,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,t),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch{return document.body.removeChild(r),i()}})}function Cne({file:t,uploadInProgressOrComplete:e,metaFields:n,canEditFile:r,i18n:i,onClick:a}){return!e&&n&&n.length>0||!e&&r(t)?T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:T("g",{fillRule:"evenodd",children:[T("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),T("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),T("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function _ne({i18n:t,onClick:e,file:n}){return T("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:n.meta.name}),title:t("removeFile",{file:n.meta.name}),onClick:()=>e(),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[T("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),T("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function kne({file:t,uppy:e,i18n:n}){const r=i=>{Sne(t.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return T("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:i=>r(i),children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:T("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Pne(t){const{uppy:e,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return T("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[T(Cne,{i18n:c,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,n.id):u(n)}}),o&&n.uploadURL?T(kne,{file:n,uppy:e,i18n:c}):null,l?T(_ne,{i18n:c,file:n,onClick:()=>e.removeFile(n.id)}):null]})}const Ene=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function f6(t){const{file:e,toggleFileCard:n,i18n:r,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>Ene(l,i)).join(", ");return T("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",T("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,e.id),children:r("editFile")})]})}const Tne=t=>{const{author:e,name:n}=t.file.meta;function r(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return T("div",{className:"uppy-Dashboard-Item-name",title:n,children:k$(n,r())})},Ane=t=>{var i;const{author:e}=t.file.meta,n="remote"in t.file?(i=t.file.remote)==null?void 0:i.providerName:void 0,r="";return e?T("div",{className:"uppy-Dashboard-Item-author",children:[T("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:k$(e.name,13)}),n?T(ba,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Fne=t=>t.file.size&&T("div",{className:"uppy-Dashboard-Item-statusSize",children:gl(t.file.size)}),Rne=t=>t.file.isGhost&&T("span",{children:["  ",T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),Dne=({file:t,onClick:e})=>t.error?T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Ine(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return T("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[T("div",{className:"uppy-Dashboard-Item-fileName",children:[Tne({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),T(Dne,{file:e,onClick:()=>alert(e.error)})]}),T("div",{className:"uppy-Dashboard-Item-status",children:[Ane({file:e}),Fne({file:e}),Rne({file:e,toggleAddFilesPanel:a,i18n:n})]}),T(f6,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function One(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":O1(e.type).color;return T("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&T("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:T("span",{hidden:!0,children:e.meta.name})}),T(p6,{file:e}),T(f6,{file:e,i18n:n,toggleFileCard:r,metaFields:i})]})}function Mne(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function sk(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Xv(t){return T("div",{className:"uppy-Dashboard-Item-progress",children:T("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":sk(t),title:sk(t),onClick:()=>Mne(t),children:t.children})})}function uf({children:t}){return T("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Zv({progress:t}){const e=2*Math.PI*15;return T("g",{children:[T("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),T("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function Lne(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?T("div",{className:"uppy-Dashboard-Item-progress",children:T("div",{className:"uppy-Dashboard-Item-progressIndicator",children:T(uf,{children:[T("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),T("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?T(Xv,{...t,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[T("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),T("path",{d:"M7.9 3H10v2H7.9z"}),T("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),T("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?T(Xv,{...t,children:T(uf,{children:[T(Zv,{progress:t.file.progress.percentage}),t.file.isPaused?T("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):T("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[T("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),T("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?T(Xv,{...t,children:T(uf,{children:[T(Zv,{progress:t.file.progress.percentage}),T("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):T("div",{className:"uppy-Dashboard-Item-progress",children:T("div",{className:"uppy-Dashboard-Item-progressIndicator",children:T(uf,{children:T(Zv,{progress:t.file.progress.percentage})})})})}class $ne extends li{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Nne(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,n=e.progress.preprocess||e.progress.postprocess,r=!!e.progress.uploadComplete&&!n&&!e.error,i=!!e.progress.uploadStarted||!!n,a=e.progress.uploadStarted&&!e.progress.uploadComplete||n,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=pi({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return T("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[T("div",{className:"uppy-Dashboard-Item-preview",children:[T(One,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),T(Lne,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),T("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[T(Ine,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),T(Pne,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Une(t,e){const n=[];let r=[];return t.forEach(i=>{r.length<e?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}function Bne({id:t,i18n:e,uppy:n,files:r,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:m,handleRequestThumbnail:x,handleCancelThumbnail:j,recoveredState:g,individualCancellation:v,itemsPerRow:f,openFileEditor:b,canEditFile:w,toggleAddFilesPanel:N,containerWidth:P,containerHeight:S}){const C=f===1?71:200,k=P1(()=>{const A=($,J)=>Number(r[J].isGhost)-Number(r[$].isGhost),O=Object.keys(r);return g&&O.sort(A),Une(O,f)},[r,f,g]),I=A=>T("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:A.map(O=>T($ne,{uppy:n,id:t,i18n:e,resumableUploads:i,individualCancellation:v,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:g,isSingleFile:h,containerWidth:P,containerHeight:S,toggleFileCard:m,handleRequestThumbnail:x,handleCancelThumbnail:j,role:"listitem",openFileEditor:b,canEditFile:w,toggleAddFilesPanel:N,file:r[O]},O))},A[0]);return h?T("div",{class:"uppy-Dashboard-files",children:I(k[0])}):T(cte,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:I,rowHeight:C})}const nk=300;class Vne extends li{constructor(){super(...arguments);E(this,"ref",Zee())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,nk)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,nk)}render(){const{children:n}=this.props;return T("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function zne(t,e){return Object.assign(t,e)}function qne(t,e){return(t==null?void 0:t.key)??e}function Hne(t,e){const n=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return n[e]||(n[e]=r=>{t.refs[e]=r})}function qu(t){const e={};for(let n=0;n<t.length;n++)if(t[n]!=null){const r=qne(t[n],n.toString(36));e[r]=t[n]}return e}function Wne(t,e){t=t||{},e=e||{};const n=o=>Object.hasOwn(e,o)?e[o]:t[o],r={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(r[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];a[r[o][l]]=n(c)}a[o]=n(o)}for(let o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}const Kne=t=>t;class x6 extends li{constructor(e,n){super(e,n),this.refs={},this.state={children:qu(eo(eo(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const n in e)e[n]&&this.performAppear(n)}componentWillReceiveProps(e){const n=qu(eo(e.children)||[]),r=this.state.children;this.setState(a=>({children:Wne(a.children,n)}));let i;for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(e){const n=this.keysToAbortLeave.indexOf(e);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const n=this.refs[e];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=qu(eo(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const n=this.refs[e];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=qu(eo(this.props.children)||[]);(!r||!Object.hasOwn(r,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=qu(eo(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=zne({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:n,transitionName:r,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const m=Object.entries(h).map(([x,j])=>{if(!j)return;const g=Hne(this,x);return $$(e(j),{ref:g,key:x})}).filter(Boolean);return S1(d,u,m)}}x6.defaultProps={component:"span",childFactory:Kne};class rk extends li{render(){const{info:e}=this.props.uppy.getState();return T("div",{className:"uppy uppy-Informer",children:T(x6,{children:e.map(n=>T(Vne,{children:T("p",{role:"alert",children:[n.message," ",n.details&&T("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})})}}function Gne({activePickerPanel:t,className:e,hideAllPanels:n,i18n:r,state:i,uppy:a}){const o=hd(null);return T("div",{className:pi("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:yo,onDragLeave:yo,onDrop:yo,onPaste:yo,children:[T("div",{className:"uppy-DashboardContent-bar",children:[T("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:t.name})}),T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),T("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const ji={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Yne(t,e,n,r={}){if(t)return ji.STATE_ERROR;if(e)return ji.STATE_COMPLETE;if(n)return ji.STATE_PAUSED;let i=ji.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ji.STATE_UPLOADING;l.preprocess&&i!==ji.STATE_UPLOADING&&(i=ji.STATE_PREPROCESSING),l.postprocess&&i!==ji.STATE_UPLOADING&&i!==ji.STATE_PREPROCESSING&&(i=ji.STATE_POSTPROCESSING)}return i}function Qne({files:t,i18n:e,isAllComplete:n,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Yne(r,n,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function Xne(t){const{i18n:e,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),T("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?T("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):T("div",{}),T("div",{className:"uppy-DashboardContent-title",children:T(Qne,{...t})}),l?T("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:T("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),T("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):T("div",{})]})}const kc="uppy-transition-slideDownUp",ik=250;function hf({children:t}){const[e,n]=pu(null),[r,i]=pu(""),a=hd(),o=hd(),l=hd(),c=Hx(()=>{i(`${kc}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${kc}-enter ${kc}-enter-active`),a.current=setTimeout(()=>{i("")},ik)})},[]),d=Hx(()=>{i(`${kc}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${kc}-leave ${kc}-leave-active`),o.current=setTimeout(()=>{n(null),i("")},ik)})},[]);return qx(()=>{const u=eo(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),n(u))},[t,e,c,d]),qx(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?$$(e,{className:pi(r,e.props.className)}):null}const Ni={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Zne="",ak=()=>` ${Zne} `;function Jne(t){const{newFiles:e,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=pi("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Ni.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&n&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return T("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function ere(t){const{i18n:e,uppy:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:T("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function tre(t){const{i18n:e,uppy:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:T("g",{fill:"none",fillRule:"evenodd",children:[T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function sre(t){const{isAllPaused:e,i18n:n,isAllComplete:r,resumableUploads:i,uppy:a}=t,o=n(e?"resume":"pause");function l(){if(!r){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return T("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:T("g",{fill:"none",fillRule:"evenodd",children:[T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function nre(t){const{i18n:e,doneButtonHandler:n}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:e("done")})}function g6(){return T("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:T("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function rre(t){const{progress:e}=t,{value:n,mode:r,message:i}=e;return T("div",{className:"uppy-StatusBar-content",children:[T(g6,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",i]})}function ire(t){const{numUploads:e,complete:n,totalUploadedSize:r,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=gl(r);return T("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:n,smart_count:e}),T("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&ak(),i!=null?o("dataUploadedOfTotal",{complete:c,total:gl(i)}):o("dataUploadedOfUnknown",{complete:c}),ak(),a!=null&&o("xTimeLeft",{time:Hee(a)})]})]})}function y6(t){const{i18n:e,complete:n,numUploads:r}=t;return T("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:n,smart_count:r})})}function are(t){const{i18n:e,newFiles:n,startUpload:r}=t,i=pi("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return T("div",{className:"uppy-StatusBar-statusSecondary",children:[T("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:n})}),T("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:n}),onClick:r,children:e("upload")})]})}function ore(t){const{i18n:e,supportsUploadProgress:n,totalProgress:r,hideProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:x,startUpload:j}=t,g=c&&a;if(!a||o)return null;const v=e(l?"paused":"uploading");function f(){return!l&&!g&&!i?n?T(ire,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:x,i18n:e}):T(y6,{i18n:e,complete:u,numUploads:d}):null}return T("div",{className:"uppy-StatusBar-content",title:v,children:[l?null:T(g6,{}),T("div",{className:"uppy-StatusBar-status",children:[T("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${v}: ${r}%`:v}),f(),g?T(are,{i18n:e,newFiles:c,startUpload:j}):null]})]})}function lre(t){const{i18n:e}=t;return T("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:T("div",{className:"uppy-StatusBar-status",children:T("div",{className:"uppy-StatusBar-statusPrimary",children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:T("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function cre(t){const{error:e,i18n:n,complete:r,numUploads:i}=t;function a(){const o=`${n("uploadFailed")} 

 ${e}`;alert(o)}return T("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:T("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),T("div",{className:"uppy-StatusBar-status",children:[T("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),T("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),T(y6,{i18n:n,complete:r,numUploads:i})]})]})}function Jv(t){const e=[];let n="indeterminate",r;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;r==null&&(o||l)&&({mode:n,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:n,message:r,value:i}}const{STATE_ERROR:ok,STATE_WAITING:dre,STATE_PREPROCESSING:ej,STATE_UPLOADING:mf,STATE_POSTPROCESSING:tj,STATE_COMPLETE:pf}=Ni;function ure({newFiles:t,allowNewUpload:e,isUploadInProgress:n,isAllPaused:r,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:m,files:x,supportsUploadProgress:j,hideAfterFinish:g=!1,isSomeGhost:v,doneButtonHandler:f=void 0,isUploadStarted:b,i18n:w,startUpload:N,uppy:P,isAllComplete:S,hideProgressDetails:C=void 0,numUploads:k,complete:I,totalSize:A,totalETA:O,totalUploadedSize:$}){function J(){switch(h){case tj:case ej:{const Oe=Jv(x);return Oe.mode==="determinate"?Oe.value*100:m}case ok:return null;case mf:return j?m:null;default:return m}}function Y(){switch(h){case tj:case ej:{const{mode:Oe}=Jv(x);return Oe==="indeterminate"}case mf:return!j;default:return!1}}const q=J(),de=q??100,xe=!a&&t&&(!n&&!r||u)&&e&&!o,z=!c&&h!==dre&&h!==pf,R=i&&!l&&h===mf,Q=a&&!S&&!d,ue=f&&h===pf,F=pi("uppy-StatusBar-progress",{"is-indeterminate":Y()}),ve=pi("uppy-StatusBar",`is-${h}`,{"has-ghosts":v}),Me=(()=>{switch(h){case ej:case tj:return T(rre,{progress:Jv(x)});case pf:return T(lre,{i18n:w});case ok:return T(cre,{error:a,i18n:w,numUploads:k,complete:I});case mf:return T(ore,{i18n:w,supportsUploadProgress:j,totalProgress:m,hideProgressDetails:C,isUploadStarted:b,isAllComplete:S,isAllPaused:r,newFiles:t,numUploads:k,complete:I,totalUploadedSize:$,totalSize:A,totalETA:O,startUpload:N});default:return null}})();return!(xe||Q||R||z||ue)&&!Me||h===pf&&g?null:T("div",{className:ve,children:[T("div",{className:F,style:{width:`${de}%`},role:"progressbar","aria-label":`${de}%`,"aria-valuetext":`${de}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":q}),Me,T("div",{className:"uppy-StatusBar-actions",children:[xe?T(Jne,{newFiles:t,isUploadStarted:b,recoveredState:u,i18n:w,isSomeGhost:v,startUpload:N,uploadState:h}):null,Q?T(ere,{i18n:w,uppy:P}):null,R?T(sre,{isAllPaused:r,i18n:w,isAllComplete:S,resumableUploads:i,uppy:P}):null,z?T(tre,{i18n:w,uppy:P}):null,ue?T(nre,{i18n:w,doneButtonHandler:f}):null]})]})}const hre=2e3,mre=2e3;function pre(t,e,n,r){if(t)return Ni.STATE_ERROR;if(e)return Ni.STATE_COMPLETE;if(n)return Ni.STATE_WAITING;let i=Ni.STATE_WAITING;const a=Object.keys(r);for(let o=0;o<a.length;o++){const{progress:l}=r[a[o]];if(l.uploadStarted&&!l.uploadComplete)return Ni.STATE_UPLOADING;l.preprocess&&(i=Ni.STATE_PREPROCESSING),l.postprocess&&i!==Ni.STATE_PREPROCESSING&&(i=Ni.STATE_POSTPROCESSING)}return i}var fo,Ti,Al,pa,zm,ng,v6;class fre extends li{constructor(){super(...arguments);X(this,ng);X(this,fo);X(this,Ti);X(this,Al);X(this,pa);X(this,zm,()=>{const{recoveredState:n}=this.props.uppy.getState();if(te(this,Al,null),te(this,pa,null),n){te(this,Ti,Object.values(n.files).reduce((r,{progress:i})=>r+(i.bytesUploaded||0),0));return}te(this,fo,performance.now()),te(this,Ti,0)});E(this,"startUpload",()=>{const{recoveredState:n}=this.props.uppy.getState();n?this.props.uppy.emit("restore-confirmed"):this.props.uppy.upload().catch(()=>{})})}componentDidMount(){te(this,fo,performance.now()),te(this,Ti,this.props.uppy.getFiles().reduce((n,r)=>n+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",_(this,zm))}componentWillUnmount(){this.props.uppy.off("upload",_(this,zm))}render(){const{capabilities:n,files:r,allowNewUpload:i,totalProgress:a,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:h,isAllComplete:m,isAllPaused:x,isUploadInProgress:j,isSomeGhost:g}=this.props.uppy.getObjectOfFilesPerState(),v=l?Object.values(r):c,f=!!n.resumableUploads,b=n.uploadProgress!==!1;let w=null,N=0;d.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(w=0,d.forEach(S=>{w+=S.progress.bytesTotal||0,N+=S.progress.bytesUploaded||0})):d.forEach(S=>{N+=S.progress.bytesUploaded||0});const P=fe(this,ng,v6).call(this,{uploaded:N,total:w});return T(ure,{error:o,uploadState:pre(o,m,l,r||{}),allowNewUpload:i,totalProgress:a,totalSize:w,totalUploadedSize:N,isAllComplete:m,isAllPaused:x,isUploadStarted:h,isUploadInProgress:j,isSomeGhost:g,recoveredState:l,complete:u.length,newFiles:v.length,numUploads:d.length,totalETA:P,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:f,supportsUploadProgress:b,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}fo=new WeakMap,Ti=new WeakMap,Al=new WeakMap,pa=new WeakMap,zm=new WeakMap,ng=new WeakSet,v6=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;_(this,fo)??te(this,fo,performance.now());const i=performance.now()-_(this,fo);if(i===0)return Math.round((_(this,pa)??0)/100)/10;if(_(this,Ti)==null)return te(this,Ti,n.uploaded),null;const a=n.uploaded-_(this,Ti);if(te(this,Ti,n.uploaded),a<=0)return Math.round((_(this,pa)??0)/100)/10;const o=a/i;if(!Number.isFinite(o)||o<=0)return null;const l=_(this,Al)==null?o:y_(o,_(this,Al),hre,i);if(!Number.isFinite(l)||l<=0)return null;te(this,Al,l);const c=r/l;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((_(this,pa)??0)-i,0),u=_(this,pa)==null?c:y_(c,d,mre,i);return!Number.isFinite(u)||u<0?null:(te(this,pa,u),te(this,fo,performance.now()),Math.round(u/100)/10)};const lk=900,ck=700,sj=576,dk=330;function xre(t){const e=t.totalFileCount===0,n=t.totalFileCount===1,r=t.containerWidth>sj,i=t.containerHeight>dk,a=pi({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>sj,"uppy-size--lg":t.containerWidth>ck,"uppy-size--xl":t.containerWidth>lk,"uppy-size--height-md":t.containerHeight>dk,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&n&&i});let o=1;t.containerWidth>lk?o=5:t.containerWidth>ck?o=4:t.containerWidth>sj&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return T("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&zee(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[T("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),T("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:T("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:T("span",{"aria-hidden":"true",children:""})}),T("div",{className:"uppy-Dashboard-innerWrap",children:[T("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&T(Xne,{...t}),c!=null&&c>0&&T("div",{className:"uppy-Dashboard-serviceMsg",children:[T("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:T("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[T("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),T("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),T("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),T("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),T("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?T(Bne,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):T(m6,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),T(hf,{children:t.showAddFilesPanel?T(hne,{...t,isSizeMD:r},"AddFiles"):null}),T(hf,{children:t.fileCardFor?T(wne,{...t},"FileCard"):null}),T(hf,{children:t.activePickerPanel?T(Gne,{...t},"Picker"):null}),T(hf,{children:t.showFileEditor?T(mne,{...t},"Editor"):null}),T("div",{className:"uppy-Dashboard-progressindicators",children:[!t.disableInformer&&T(rk,{uppy:t.uppy}),!t.disableStatusBar&&T(fre,{uppy:t.uppy,i18n:t.i18n,hideProgressDetails:t.hideProgressDetails,hideUploadButton:t.hideUploadButton,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,hideAfterFinish:t.hideProgressAfterFinish,doneButtonHandler:t.doneButtonHandler}),!t.disableInformer&&T(rk,{uppy:t.uppy}),t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))]})]})]})]})}const gre={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function j6(t,e){if(e){const n=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(n)return n}return t}function yre(){let t=!1;return wse((n,r)=>{const i=j6(n,r),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(x$);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function uk(t,e){const n=e[0];n&&(n.focus(),t.preventDefault())}function vre(t,e){const n=e[e.length-1];n&&(n.focus(),t.preventDefault())}function jre(t){return t.contains(document.activeElement)}function b6(t,e,n){const r=j6(n,e),i=Th(r.querySelectorAll(x$)),a=i.indexOf(document.activeElement);jre(r)?t.shiftKey&&a===0?vre(t,i):!t.shiftKey&&a===i.length-1&&uk(t,i):uk(t,i)}function bre(t,e,n){e===null||b6(t,e,n)}const hk=9,wre=27;function mk(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}const Nre={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Lse,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var lj,Od,Fl,qm,Md,rg,ig,ag,Rl,og,lg,Ld,Wo,yw,vw;let Sre=(lj=class extends Cm{constructor(n,r){var a;const i=(r==null?void 0:r.autoOpen)??null;super(n,{...Nre,...r,autoOpen:i});X(this,Wo);X(this,Od);E(this,"modalName",`uppy-Dashboard-${T1()}`);E(this,"superFocus",yre());E(this,"ifFocusedOnUppyRecently",!1);E(this,"dashboardIsDisabled");E(this,"savedScrollPosition");E(this,"savedActiveElement");E(this,"resizeObserver");E(this,"darkModeMediaQuery");E(this,"makeDashboardInsidesVisibleAnywayTimeout");E(this,"removeTarget",n=>{const i=this.getPluginState().targets.filter(a=>a.id!==n.id);this.setPluginState({targets:i})});E(this,"addTarget",n=>{const r=n.id||n.constructor.name,i=n.title||r,a=n.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});E(this,"hideAllPanels",()=>{var i;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=n.activePickerPanel)==null?void 0:i.id))});E(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),i=r.find(a=>a.type==="acquirer"&&a.id===n);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});E(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return _(this,Rl).call(this,r).some(a=>this.uppy.getPlugin(a.id).canEditFile(n))});E(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),i=_(this,Rl).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(n)})});E(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});E(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();_(this,Rl).call(this,n).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});E(this,"openModal",()=>{const{promise:n,resolve:r}=mk();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});E(this,"closeModal",n=>{var c;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=mk();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});E(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);E(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());E(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});E(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});E(this,"toggleFileCard",(n,r)=>{const i=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});E(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});E(this,"addFiles",n=>{const r=n.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});E(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:i,height:a}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});E(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});E(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});E(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=_(this,Od)??Th(this.el.querySelectorAll(r)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",n):a.disabled=n;n?te(this,Od,i):te(this,Od,null),this.dashboardIsDisabled=n});E(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});E(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});E(this,"handleKeyDownInModal",n=>{n.keyCode===wre&&this.requestCloseModal(),n.keyCode===hk&&b6(n,this.getPluginState().activeOverlayType,this.el)});E(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});E(this,"handlePaste",n=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,n))});const r=Th(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});E(this,"handleInputChange",n=>{n.preventDefault();const r=Th(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});E(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,n)&&(l=!0)}),l},i=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},a=r(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});E(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});E(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,n))});let r=!1;const i=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await Uee(n.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(n)});E(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});E(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});E(this,"handleKeyDownInInline",n=>{n.keyCode===hk&&bre(n,this.getPluginState().activeOverlayType,this.el)});E(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});E(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});X(this,Fl,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:n});const a={...r[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});X(this,qm,n=>{const r=n[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(r);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});E(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=v_(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_(this,Ld)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_(this,Fl)),this.uppy.on("file-removed",_(this,Fl)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",_(this,qm))});E(this,"removeEvents",()=>{const n=v_(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_(this,Ld)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_(this,Fl)),this.uppy.off("file-removed",_(this,Fl)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",_(this,qm))});E(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});E(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});E(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});X(this,Md,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});X(this,rg,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});X(this,ig,n=>n.filter(r=>r.type==="acquirer"&&_(this,rg).call(this,r)).map(_(this,Md)));X(this,ag,n=>n.filter(r=>r.type==="progressindicator").map(_(this,Md)));X(this,Rl,n=>n.filter(r=>r.type==="editor").map(_(this,Md)));E(this,"render",n=>{const r=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:j,isAllComplete:g,isAllPaused:v}=this.uppy.getObjectOfFilesPerState(),f=_(this,ig).call(this,r.targets),b=_(this,ag).call(this,r.targets),w=_(this,Rl).call(this,r.targets);let N;return this.opts.theme==="auto"?N=a.darkMode?"dark":"light":N=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),xre({state:n,isHidden:r.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:x,isUploadStarted:j,isAllComplete:g,isAllPaused:v,totalFileCount:Object.keys(i).length,totalProgress:n.totalProgress,allowNewUpload:o,acquirers:f,theme:N,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:b,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});X(this,og,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});X(this,lg,()=>{this.uppy.iteratePlugins(_(this,Ld))});X(this,Ld,n=>{var i;const r=["acquirer","editor"];n&&!((i=n.opts)!=null&&i.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(o=>n.id===o.id)||n.mount(this,n))});E(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(h6,{id:fe(this,Wo,vw).call(this),...fe(this,Wo,yw).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),_(this,og).call(this),_(this,lg).call(this),this.initEvents()});E(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:n}=this.opts;n.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=gre,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r;super.setOptions(n),(r=this.uppy.getPlugin(fe(this,Wo,vw).call(this)))==null||r.setOptions(fe(this,Wo,yw).call(this))}},Od=new WeakMap,Fl=new WeakMap,qm=new WeakMap,Md=new WeakMap,rg=new WeakMap,ig=new WeakMap,ag=new WeakMap,Rl=new WeakMap,og=new WeakMap,lg=new WeakMap,Ld=new WeakMap,Wo=new WeakSet,yw=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},vw=function(){return`${this.id}:ThumbnailGenerator`},E(lj,"VERSION",une.version),lj);const Cre=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_re=/^(aria-|data-)/,w6=t=>Object.fromEntries(Object.entries(t).filter(([e])=>_re.test(e)||Cre.includes(e)));function kre(t,e){const n=w6(t);return Object.keys(t).some(r=>!Object.hasOwn(n,r)&&t[r]!==e[r])}class Pre extends p.Component{constructor(){super(...arguments);E(this,"container");E(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){if(n.uppy!==this.props.uppy)this.uninstallPlugin(n),this.installPlugin();else if(kre(this.props,n)){const{uppy:r,...i}={...this.props,target:this.container};this.plugin.setOptions(i)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:n,...r}={id:"Dashboard",...this.props,inline:!0,target:this.container};n.use(Sre,r),this.plugin=n.getPlugin(r.id)}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return p.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...w6(this.props)})}}var N6={};function Fr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Ere=Fr;Fr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Fr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Fr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Fr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Fr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Fr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Fr.prototype.start=Fr.prototype.try;Fr.prototype.errors=function(){return this._errors};Fr.prototype.attempts=function(){return this._attempts};Fr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],a=i.message,o=(t[a]||0)+1;t[a]=o,o>=n&&(e=i,n=o)}return e};(function(t){var e=Ere;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<r.retries;o++)a.push(this.createTimeout(o,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(o,r)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,a=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var a in n)typeof n[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=n[l];n[l]=(function(u){var h=t.operation(r),m=Array.prototype.slice.call(arguments,1),x=m.pop();m.push(function(j){h.retry(j)||(j&&(arguments[0]=h.mainError()),x.apply(this,arguments))}),h.attempt(function(){u.apply(n,m)})}).bind(n,c),n[l].options=r}}})(N6);var Tre=N6;const Are=Ia(Tre),Fre=Object.prototype.toString,Rre=t=>Fre.call(t)==="[object Error]",Dre=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Ire(t){if(!(t&&Rre(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Dre.has(n)}class jw extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const pk=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function fk(t,e){return new Promise((n,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=Are.operation(e),a=()=>{var l;i.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof jw)throw c.originalError;if(c instanceof TypeError&&!Ire(c))throw c;if(pk(c,l,e),await e.shouldRetry(c)||(i.stop(),r(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){pk(d,l,e),o(),r(d)}}})})}const Ore="5.1.1",Mre={version:Ore};class Lre extends Error{constructor(){super("Authorization required");E(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function $re(t){return t.replace(/\/$/,"")}const xk=10,Ure=5*60*1e3,Bre=401;class Vre extends Error{constructor({statusCode:n,message:r}){super(r);E(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function zre(t){if(t.status===Bre)throw new Lre;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,n;try{n=await t.json(),n.message&&(e=`${e} message: ${n.message}`),n.requestId&&(e=`${e} request-Id: ${n.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw t.status>=400&&t.status<=499&&n.message?new Qee(n.message):new Vre({statusCode:t.status,message:e})}function qre(t,e,n){const{progress:r,bytesUploaded:i,bytesTotal:a}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var Dl,Ko,bw,cg,ww;class S6{constructor(e,n){X(this,Ko);X(this,Dl);E(this,"uppy");E(this,"opts");X(this,cg,async({file:e,postBody:n,signal:r})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...n},{signal:r})).token});this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),te(this,Dl,n.companionHeaders)}setCompanionHeaders(e){te(this,Dl,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return _(this,Dl)}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return $re(e!=null&&e[n]?e[n]:n)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},..._(this,Dl)}}onReceiveResponse(e){const{headers:n}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:n.get("i-am")}})}async request({path:e,method:n="GET",data:r,skipPostResponse:i,signal:a}){try{const o=await this.headers(!r),l=await Pee(fe(this,Ko,bw).call(this,e),{method:n,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(l),await zre(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new _ee(`Could not ${n} ${fe(this,Ko,bw).call(this,e)}`,{cause:o})}}async get(e,n){return this.request({...n,path:e})}async post(e,n,r){return this.request({...r,path:e,method:"POST",data:n})}async delete(e,n,r){return this.request({...r,path:e,method:"DELETE",data:n})}async uploadRemoteFile(e,n,r){try{const{signal:i,getQueue:a}=r||{};return await fk(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),fe(this,Ko,ww).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await _(this,cg).call(this,...u)}catch(h){if(h.isAuthError)throw new jw(h);if(h.cause==null)throw h;const m=h.cause,x=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!x()?new jw(m):m}},{priority:-1})({file:e,postBody:n,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),fe(this,Ko,ww).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:xk,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}Dl=new WeakMap,Ko=new WeakSet,bw=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},cg=new WeakMap,ww=async function({file:e,queue:n,signal:r}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=Bee(e.remote.companionUrl);let u,h,m,{isPaused:x}=e;const j=(C,k)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${C}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:C,payload:k??{}}))};function g(){a.resumableUploads&&j(x?"pause":"resume")}const v=async()=>{h&&h.abort(),h=new AbortController;const C=I=>{var A;this.uppy.setFileState(e.id,{serverToken:null}),(A=h==null?void 0:h.abort)==null||A.call(h),l(I)};function k(){clearTimeout(m),!x&&(m=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),Ure))}try{await n.wrapPromiseFunction(async()=>{await fk(async()=>new Promise((A,O)=>{u=new WebSocket(`${d}/api/${c}`),k(),u.addEventListener("close",()=>{u=void 0,O(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",J=>{this.uppy.log(`Companion socket error ${JSON.stringify(J)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{g()}),u.addEventListener("message",J=>{var Y,q,de;k();try{const{action:xe,payload:z}=JSON.parse(J.data);switch(xe){case"progress":{qre(this,z,this.uppy.getFile(e.id));break}case"success":{const R=(Y=z.response)==null?void 0:Y.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:z.url,status:((q=z.response)==null?void 0:q.status)??200,body:R?JSON.parse(R):void 0}),(de=h==null?void 0:h.abort)==null||de.call(h),o();break}case"error":{const{message:R}=z.error;throw Object.assign(new Error(R),{cause:z.error})}default:this.uppy.log(`Companion socket unknown action ${xe}`,"warning")}}catch(xe){C(xe)}});const $=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{$()})}),{retries:xk,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(I){if(h.signal.aborted)return;C(I)}},f=C=>{a.resumableUploads&&(x=C,u&&g())},b=C=>{var k;a.individualCancellation&&C.id===e.id&&(j("cancel"),(k=h==null?void 0:h.abort)==null||k.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},w=()=>{var C;j("cancel"),(C=h==null?void 0:h.abort)==null||C.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},N=(C,k)=>{(C==null?void 0:C.id)===e.id&&f(k)},P=()=>f(!0),S=()=>f(!1);this.uppy.on("file-removed",b),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",N),this.uppy.on("pause-all",P),this.uppy.on("resume-all",S),i=()=>{this.uppy.off("file-removed",b),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",N),this.uppy.off("pause-all",P),this.uppy.off("resume-all",S)},r.addEventListener("abort",()=>{h==null||h.abort()}),v()})}finally{i==null||i()}},E(S6,"VERSION",Mre.version);const Hre="5.1.0",Wre={version:Hre};function Kre({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:i}){const a=Object.keys(r).map(o=>o.toLowerCase()).sort();return[t,e,n,...a.map(o=>`${o}:${r[o]}`),"",a.join(";"),i].join(`
`)}const M1=new TextEncoder,L1={name:"HMAC",hash:"SHA-256"};async function Gre(t){const{subtle:e}=globalThis.crypto;return e.digest(L1.hash,M1.encode(t))}async function Yre(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?M1.encode(t):t,L1,!1,["sign"])}function gk(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toString(16).padStart(2,"0");return n}async function Hu(t,e){const{subtle:n}=globalThis.crypto;return n.sign(L1,await Yre(t),M1.encode(e))}async function Qre({accountKey:t,accountSecret:e,sessionToken:n,bucketName:r,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,I=>`%${I.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",x=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=x.slice(0,8),g=`${j}/${a}/${d}/aws4_request`,v=new URL(`https://${u}${h}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",m),v.searchParams.set("X-Amz-Credential",`${t}/${g}`),v.searchParams.set("X-Amz-Date",x),v.searchParams.set("X-Amz-Expires",o),v.searchParams.set("X-Amz-Security-Token",n),v.searchParams.set("X-Amz-SignedHeaders","host"),c&&v.searchParams.set("partNumber",c),l&&v.searchParams.set("uploadId",l),v.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const f=Kre({CanonicalUri:h,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:u},HashedPayload:m}),b=gk(await Gre(f)),w=["AWS4-HMAC-SHA256",x,g,b].join(`
`),N=await Hu(`AWS4${e}`,j),P=await Hu(N,a),S=await Hu(P,d),C=await Hu(S,"aws4_request"),k=gk(await Hu(C,w));return v.searchParams.set("X-Amz-Signature",k),v}const Xre=1024*1024,yk={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Zre(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const zf=Symbol("pausing upload, not an actual error");var qr,br,Ai,fa,xa,Hm,Wm,$d,Il,Ud,Km,Bd,Gm,fi,C6,_6,Nw,Ym,Qm,k6;class Jre{constructor(e,n){X(this,fi);E(this,"options");X(this,qr,new zv);X(this,br,[]);X(this,Ai,[]);X(this,fa);X(this,xa);X(this,Hm,!1);X(this,Wm);X(this,$d);X(this,Il);X(this,Ud);X(this,Km,e=>(e==null?void 0:e.cause)===zf?null:_(this,Wm).call(this,e));X(this,Bd,1e4);X(this,Gm,5*Xre);X(this,Ym,e=>n=>{if(!n.lengthComputable)return;_(this,Ai)[e].uploaded=Zre(n.loaded);const r=_(this,Ai).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(r,_(this,fa).size)});X(this,Qm,e=>n=>{_(this,br)[e]=null,_(this,Ai)[e].etag=n,_(this,Ai)[e].done=!0;const r={PartNumber:e+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...yk,...n},(r=this.options).getChunkSize??(r.getChunkSize=yk.getChunkSize),te(this,fa,e),te(this,xa,n.file),te(this,$d,this.options.onSuccess),te(this,Wm,this.options.onError),te(this,Il,this.options.shouldUseMultipart),te(this,Ud,n.uploadId&&n.key),fe(this,fi,C6).call(this)}start(){_(this,Hm)?(_(this,qr).signal.aborted||_(this,qr).abort(zf),te(this,qr,new zv),fe(this,fi,Nw).call(this)):_(this,Ud)?(this.options.companionComm.restoreUploadFile(_(this,xa),{uploadId:this.options.uploadId,key:this.options.key}),fe(this,fi,Nw).call(this)):fe(this,fi,_6).call(this)}pause(){_(this,qr).abort(zf),te(this,qr,new zv)}abort(e){e!=null&&e.really?fe(this,fi,k6).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return _(this,Ai)}}qr=new WeakMap,br=new WeakMap,Ai=new WeakMap,fa=new WeakMap,xa=new WeakMap,Hm=new WeakMap,Wm=new WeakMap,$d=new WeakMap,Il=new WeakMap,Ud=new WeakMap,Km=new WeakMap,Bd=new WeakMap,Gm=new WeakMap,fi=new WeakSet,C6=function(){const e=_(this,fa).size,n=typeof _(this,Il)=="function"?_(this,Il).call(this,_(this,xa)):!!_(this,Il);if(n&&e>_(this,Gm)){let r=Math.max(this.options.getChunkSize(_(this,fa)),_(this,Gm)),i=Math.floor(e/r);i>_(this,Bd)&&(i=_(this,Bd),r=e/_(this,Bd)),te(this,br,Array(i));for(let a=0,o=0;a<e;a+=r,o++){const l=Math.min(e,a+r),c=()=>{const d=a;return _(this,fa).slice(d,l)};if(_(this,br)[o]={getData:c,onProgress:_(this,Ym).call(this,o),onComplete:_(this,Qm).call(this,o),shouldUseMultipart:n},_(this,Ud)){const d=a+r>e?e-a:r;_(this,br)[o].setAsUploaded=()=>{_(this,br)[o]=null,_(this,Ai)[o].uploaded=d}}}}else te(this,br,[{getData:()=>_(this,fa),onProgress:_(this,Ym).call(this,0),onComplete:_(this,Qm).call(this,0),shouldUseMultipart:n}]);te(this,Ai,_(this,br).map(()=>({uploaded:0})))},_6=function(){this.options.companionComm.uploadFile(_(this,xa),_(this,br),_(this,qr).signal).then(_(this,$d),_(this,Km)),te(this,Hm,!0)},Nw=function(){this.options.companionComm.resumeUploadFile(_(this,xa),_(this,br),_(this,qr).signal).then(_(this,$d),_(this,Km))},Ym=new WeakMap,Qm=new WeakMap,k6=function(){_(this,qr).abort(),this.options.companionComm.abortFileUpload(_(this,xa)).catch(e=>this.options.log(e))};function gn(t){if(t!=null&&t.aborted)throw f$("The operation was aborted",{cause:t.reason})}function eie(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Xm,Hr,Zm,Jm,ep,tp,Vd,zd,qd,Hd,Ol,Wd,Wr,oc,P6,Sw;class tie{constructor(e,n,r,i){X(this,oc);X(this,Xm);X(this,Hr,new WeakMap);X(this,Zm);X(this,Jm);X(this,ep);X(this,tp);X(this,Vd);X(this,zd);X(this,qd);X(this,Hd);X(this,Ol);X(this,Wd);X(this,Wr);te(this,zd,e),te(this,Ol,r),te(this,Wr,i),this.setOptions(n)}setOptions(e){const n=_(this,zd);"abortMultipartUpload"in e&&te(this,Xm,n.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&te(this,Zm,n.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&te(this,Jm,n.wrapPromiseFunction(e.signPart)),"listParts"in e&&te(this,tp,n.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&te(this,Hd,n.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&te(this,qd,e.retryDelays??[]),"uploadPartBytes"in e&&te(this,Wd,n.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&te(this,ep,n.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,n){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=_(this,Hr).get(e.data),r==null)break;try{return await r}catch{}}const i=_(this,Zm).call(this,_(this,Wr).call(this,e),n),a=()=>{if(e.data==null)throw new Error("File data is empty");i.abort(n.reason),_(this,Hr).delete(e.data)};return n.addEventListener("abort",a,{once:!0}),_(this,Hr).set(e.data,i),i.then(async o=>{if(n.removeEventListener("abort",a),_(this,Ol).call(this,e,o),e.data==null)throw new Error("File data is empty");_(this,Hr).set(e.data,o)},()=>{if(n.removeEventListener("abort",a),e.data==null)throw new Error("File data is empty");_(this,Hr).delete(e.data)}),i}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const n=_(this,Hr).get(e.data);if(n==null)return;_(this,Hr).delete(e.data),_(this,Ol).call(this,e,Object.create(null));let r;try{r=await n}catch{return}await _(this,Xm).call(this,_(this,Wr).call(this,e),r)}async uploadFile(e,n,r){if(gn(r),n.length===1&&!n[0].shouldUseMultipart)return fe(this,oc,Sw).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);gn(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return gn(r),await _(this,Hd).call(this,_(this,Wr).call(this,e),{key:a,uploadId:i,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==zf&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,n){if(e.data==null)throw new Error("File data is empty");_(this,Hr).set(e.data,n)}async resumeUploadFile(e,n,r){if(gn(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return fe(this,oc,Sw).call(this,e,n[0],r);const{uploadId:i,key:a}=await this.getUploadId(e,r);gn(r);const o=await _(this,tp).call(this,_(this,Wr).call(this,e),{uploadId:i,key:a,signal:r},r).abortOn(r);gn(r);const l=await Promise.all(n.map((c,d)=>{var m;const u=d+1,h=o.find(({PartNumber:x})=>x===u);return h==null?this.uploadChunk(e,u,c,r):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:u,ETag:h.ETag})}));return gn(r),_(this,Hd).call(this,_(this,Wr).call(this,e),{key:a,uploadId:i,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,n,r,i){gn(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=_(this,qd).values(),c=_(this,qd).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){gn(i);const u=r.getData(),{onProgress:h,onComplete:m}=r;let x;try{x=await _(this,Jm).call(this,_(this,Wr).call(this,e),{uploadId:a,key:o,partNumber:n,body:u,signal:i}).abortOn(i)}catch(j){const g=d();if(g==null||i.aborted)throw j;await new Promise(v=>setTimeout(v,g));continue}gn(i);try{return{PartNumber:n,...await _(this,Wd).call(this,{signature:x,body:u,size:u.size,onProgress:h,onComplete:m,signal:i}).abortOn(i)}}catch(j){if(!await fe(this,oc,P6).call(this,j,c))throw j}}}}Xm=new WeakMap,Hr=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,ep=new WeakMap,tp=new WeakMap,Vd=new WeakMap,zd=new WeakMap,qd=new WeakMap,Hd=new WeakMap,Ol=new WeakMap,Wd=new WeakMap,Wr=new WeakMap,oc=new WeakSet,P6=async function(e,n){var a;const r=_(this,zd),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||_(this,Vd)==null){const o=n.next();if(o==null||o.done)return!1;te(this,Vd,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,_(this,Vd)))}}else if(i===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Sw=async function(e,n,r){const{method:i="POST",url:a,fields:o,headers:l}=await _(this,ep).call(this,_(this,Wr).call(this,e),{signal:r}).abortOn(r);let c;const d=n.getData();if(i.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([g,v])=>j.set(g,v)),j.set("file",d),c=j}else c=d;const{onProgress:u,onComplete:h}=n,m=await _(this,Wd).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:u,onComplete:h,signal:r}).abortOn(r),x=o==null?void 0:o.key;return _(this,Ol).call(this,e,{key:x}),{...m,location:m.location??eie(a),bucket:o==null?void 0:o.bucket,key:x}};function Pc(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function vk(t){const e=t.Expiration;if(e){const n=Math.floor((new Date(e)-Date.now())/1e3);if(n>9)return n}}function jk({meta:t,allowedMetaFields:e,querify:n=!1}){const r=e??Object.keys(t);return t?Object.fromEntries(r.filter(i=>t[i]!=null).map(i=>{const a=n?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const sie={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Kd,Pn,Ws,_w,Xa,Kr,E6,dg,Gd,T6,A6,sp,Yd,Ml,np;const ug=class ug extends z${constructor(n,r){super(n,{...sie,uploadPartBytes:ug.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});X(this,Ws);X(this,Kd);X(this,Pn);E(this,"requests");E(this,"uploaderEvents");E(this,"uploaders");X(this,Kr);X(this,dg,(n,{key:r,uploadId:i})=>{const a=this.uppy.getFile(n.id);a!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...a.s3Multipart,key:r,uploadId:i}})});X(this,Gd,n=>this.uppy.getFile(n.id)||n);X(this,sp,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),i=Aee(r),a=Fee(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;_(this,Ml).call(this,!1);const u=new AbortController,h=x=>{x.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,fe(this,Ws,A6).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),m}return fe(this,Ws,T6).call(this,c)}),l=await Promise.allSettled(o);return _(this,Ml).call(this,!0),l});X(this,Yd,()=>{var n;(n=_(this,Pn))==null||n.setCompanionHeaders(this.opts.headers)});X(this,Ml,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});X(this,np,()=>{_(this,Ml).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",fe(this,Ws,_w).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new Kee(this.opts.limit),te(this,Kd,new tie(this.requests,this.opts,_(this,dg),_(this,Gd))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return _(this,Pn)}setOptions(n){_(this,Kd).setOptions(n),super.setOptions(n),fe(this,Ws,_w).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){fe(this,Ws,Xa).call(this,"createMultipartUpload"),gn(r);const i=w_(this.opts.allowedMetaFields,n.meta),a=jk({meta:n.meta,allowedMetaFields:i});return _(this,Pn).post("s3/multipart",{filename:n.name,type:n.type,metadata:a},{signal:r}).then(Pc)}listParts(n,{key:r,uploadId:i,signal:a},o){a??(a=o),fe(this,Ws,Xa).call(this,"listParts"),gn(a);const l=encodeURIComponent(r);return _(this,Pn).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Pc)}completeMultipartUpload(n,{key:r,uploadId:i,parts:a,signal:o},l){o??(o=l),fe(this,Ws,Xa).call(this,"completeMultipartUpload"),gn(o);const c=encodeURIComponent(r),d=encodeURIComponent(i);return _(this,Pn).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(Pc)}async createSignedURL(n,r){const i=await fe(this,Ws,E6).call(this,r),a=vk(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:a,fields:{},url:`${await Qre({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:i,partNumber:a,signal:o}){if(fe(this,Ws,Xa).call(this,"signPart"),gn(o),r==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return _(this,Pn).get(`s3/multipart/${encodeURIComponent(r)}/${a}?key=${l}`,{signal:o}).then(Pc)}abortMultipartUpload(n,{key:r,uploadId:i,signal:a}){fe(this,Ws,Xa).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(i);return _(this,Pn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Pc)}getUploadParameters(n,r){fe(this,Ws,Xa).call(this,"getUploadParameters");const{meta:i}=n,{type:a,name:o}=i,l=w_(this.opts.allowedMetaFields,n.meta),c=jk({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return _(this,Pn).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(gn(u),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,m)=>{const x=new XMLHttpRequest;x.open(a,n,!0),i&&Object.keys(i).forEach(v=>{x.setRequestHeader(v,i[v])}),x.responseType="text",typeof r=="number"&&(x.timeout=r*1e3);function j(){x.abort()}function g(){u==null||u.removeEventListener("abort",j)}u==null||u.addEventListener("abort",j),x.upload.addEventListener("progress",v=>{c(v)}),x.addEventListener("abort",()=>{g(),m(f$())}),x.addEventListener("timeout",()=>{g();const v=new Error("Request has expired");v.source={status:403},m(v)}),x.addEventListener("load",()=>{if(g(),x.status===403&&x.responseText.includes("<Message>Request has expired</Message>")){const N=new Error("Request has expired");N.source=x,m(N);return}if(x.status<200||x.status>=300){const N=new Error("Non 2xx");N.source=x,m(N);return}c==null||c({loaded:l,lengthComputable:!0});const v=x.getAllResponseHeaders().trim().split(/[\r\n]+/),f={__proto__:null};for(const N of v){const P=N.split(": "),S=P.shift(),C=P.join(": ");f[S]=C}const{etag:b,location:w}=f;if(a.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),b==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(b),h({...f,ETag:b})}),x.addEventListener("error",v=>{g();const f=new Error("Unknown error");f.source=v.target,m(f)}),x.send(o)})}install(){_(this,Ml).call(this,!0),this.uppy.addPreProcessor(_(this,Yd)),this.uppy.addUploader(_(this,sp)),this.uppy.on("cancel-all",_(this,np))}uninstall(){this.uppy.removePreProcessor(_(this,Yd)),this.uppy.removeUploader(_(this,sp)),this.uppy.off("cancel-all",_(this,np))}};Kd=new WeakMap,Pn=new WeakMap,Ws=new WeakSet,_w=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?te(this,Pn,new S6(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&_(this,Yd).call(this),"cookiesRule"in n&&(_(this,Pn).opts.companionCookiesRule=n.cookiesRule)))},Xa=function(n){if(!_(this,Pn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Kr=new WeakMap,E6=async function(n){if(gn(n==null?void 0:n.signal),_(this,Kr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(fe(this,Ws,Xa).call(this,"getTemporarySecurityCredentials"),te(this,Kr,_(this,Pn).get("s3/sts",n).then(Pc))):te(this,Kr,r(n)),te(this,Kr,await _(this,Kr)),setTimeout(()=>{te(this,Kr,null)},(vk(_(this,Kr).credentials)||0)*500)}return _(this,Kr)},dg=new WeakMap,Gd=new WeakMap,T6=function(n){return new Promise((r,i)=>{const a=(u,h)=>{const m=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",n,u),this.resetUploaderReferences(n.id),i(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",_(this,Gd).call(this,n),h),u.location&&this.uppy.log(`Download ${n.name} from ${u.location}`),r(void 0)};if(n.data==null)throw new Error("File data is empty");const c=new Jre(n.data,{companionComm:_(this,Kd),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",_(this,Gd).call(this,n),u)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const d=new dte(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,u=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${u} was removed`)}),d.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,u=>{u?c.pause():c.start()}),d.onPauseAll(n.id,()=>{c.pause()}),d.onResumeAll(n.id,()=>{c.start()}),c.start()})},A6=function(n){var r;return{..."remote"in n&&((r=n.remote)==null?void 0:r.body),protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},sp=new WeakMap,Yd=new WeakMap,Ml=new WeakMap,np=new WeakMap,E(ug,"VERSION",Wre.version);let Cw=ug;const nie="4.1.0",rie={version:nie};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R6(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function kw(t){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}function aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function oie(t,e,n){return e&&wk(t.prototype,e),n&&wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lie(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D6(t){return cie(t)||die(t)||uie(t)||hie()}function cie(t){if(Array.isArray(t))return Pw(t)}function die(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uie(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fy=typeof window<"u"&&typeof window.document<"u",Ki=fy?window:{},$1=fy&&Ki.document.documentElement?"ontouchstart"in Ki.document.documentElement:!1,U1=fy?"PointerEvent"in Ki:!1,ns="cropper",B1="all",I6="crop",O6="move",M6="zoom",tl="e",sl="w",Ec="s",Ga="n",Wu="ne",Ku="nw",Gu="se",Yu="sw",Ew="".concat(ns,"-crop"),Nk="".concat(ns,"-disabled"),Kn="".concat(ns,"-hidden"),Sk="".concat(ns,"-hide"),mie="".concat(ns,"-invisible"),Kx="".concat(ns,"-modal"),Tw="".concat(ns,"-move"),km="".concat(ns,"Action"),ff="".concat(ns,"Preview"),V1="crop",L6="move",$6="none",Aw="crop",Fw="cropend",Rw="cropmove",Dw="cropstart",Ck="dblclick",pie=$1?"touchstart":"mousedown",fie=$1?"touchmove":"mousemove",xie=$1?"touchend touchcancel":"mouseup",_k=U1?"pointerdown":pie,kk=U1?"pointermove":fie,Pk=U1?"pointerup pointercancel":xie,Ek="ready",Tk="resize",Ak="wheel",Iw="zoom",Fk="image/jpeg",gie=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,yie=/^data:/,vie=/^data:image\/jpeg;base64,/,jie=/^img|canvas$/i,U6=200,B6=100,Rk={viewMode:0,dragMode:V1,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:U6,minContainerHeight:B6,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},bie='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',wie=Number.isNaN||Ki.isNaN;function jt(t){return typeof t=="number"&&!wie(t)}var Dk=function(e){return e>0&&e<1/0};function nj(t){return typeof t>"u"}function ac(t){return kw(t)==="object"&&t!==null}var Nie=Object.prototype.hasOwnProperty;function Yc(t){if(!ac(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&Nie.call(n,"isPrototypeOf")}catch{return!1}}function qn(t){return typeof t=="function"}var Sie=Array.prototype.slice;function V6(t){return Array.from?Array.from(t):Sie.call(t)}function Vs(t,e){return t&&qn(e)&&(Array.isArray(t)||jt(t.length)?V6(t).forEach(function(n,r){e.call(t,n,r,t)}):ac(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var os=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ac(e)&&r.length>0&&r.forEach(function(a){ac(a)&&Object.keys(a).forEach(function(o){e[o]=a[o]})}),e},Cie=/\.\d*(?:0|9){12}\d*$/;function md(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Cie.test(t)?Math.round(t*e)/e:t}var _ie=/^width|height|left|top|marginLeft|marginTop$/;function vo(t,e){var n=t.style;Vs(e,function(r,i){_ie.test(i)&&jt(r)&&(r="".concat(r,"px")),n[i]=r})}function kie(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Js(t,e){if(e){if(jt(t.length)){Vs(t,function(r){Js(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Ui(t,e){if(e){if(jt(t.length)){Vs(t,function(n){Ui(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Qc(t,e,n){if(e){if(jt(t.length)){Vs(t,function(r){Qc(r,e,n)});return}n?Js(t,e):Ui(t,e)}}var Pie=/([a-z\d])([A-Z])/g;function z1(t){return t.replace(Pie,"$1-$2").toLowerCase()}function Ow(t,e){return ac(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(z1(e)))}function Pm(t,e,n){ac(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(z1(e)),n)}function Eie(t,e){if(ac(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(z1(e)))}var z6=/\s\s*/,q6=function(){var t=!1;if(fy){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});Ki.addEventListener("test",n,r),Ki.removeEventListener("test",n,r)}return t}();function Or(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(z6).forEach(function(a){if(!q6){var o=t.listeners;o&&o[a]&&o[a][n]&&(i=o[a][n],delete o[a][n],Object.keys(o[a]).length===0&&delete o[a],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(a,i,r)})}function yr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(z6).forEach(function(a){if(r.once&&!q6){var o=t.listeners,l=o===void 0?{}:o;i=function(){delete l[a][n],t.removeEventListener(a,i,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[a]||(l[a]={}),l[a][n]&&t.removeEventListener(a,l[a][n],r),l[a][n]=i,t.listeners=l}t.addEventListener(a,i,r)})}function pd(t,e,n){var r;return qn(Event)&&qn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function H6(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var rj=Ki.location,Tie=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ik(t){var e=t.match(Tie);return e!==null&&(e[1]!==rj.protocol||e[2]!==rj.hostname||e[3]!==rj.port)}function Ok(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Fh(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,a=t.translateY,o=[];jt(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),jt(a)&&a!==0&&o.push("translateY(".concat(a,"px)")),jt(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),jt(n)&&n!==1&&o.push("scaleX(".concat(n,")")),jt(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Aie(t){var e=F6({},t),n=0;return Vs(t,function(r,i){delete e[i],Vs(e,function(a){var o=Math.abs(r.startX-a.startX),l=Math.abs(r.startY-a.startY),c=Math.abs(r.endX-a.endX),d=Math.abs(r.endY-a.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),m=(h-u)/u;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function xf(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:F6({startX:n,startY:r},i)}function Fie(t){var e=0,n=0,r=0;return Vs(t,function(i){var a=i.startX,o=i.startY;e+=a,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function jo(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=Dk(r),o=Dk(n);if(a&&o){var l=n*e;i==="contain"&&l>r||i==="cover"&&l<r?n=r/e:r=n*e}else a?n=r/e:o&&(r=n*e);return{width:r,height:n}}function Rie(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var i=r%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),l=e*o+n*a,c=e*a+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function Die(t,e,n,r){var i=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,m=h===void 0?1:h,x=n.aspectRatio,j=n.naturalWidth,g=n.naturalHeight,v=r.fillColor,f=v===void 0?"transparent":v,b=r.imageSmoothingEnabled,w=b===void 0?!0:b,N=r.imageSmoothingQuality,P=N===void 0?"low":N,S=r.maxWidth,C=S===void 0?1/0:S,k=r.maxHeight,I=k===void 0?1/0:k,A=r.minWidth,O=A===void 0?0:A,$=r.minHeight,J=$===void 0?0:$,Y=document.createElement("canvas"),q=Y.getContext("2d"),de=jo({aspectRatio:x,width:C,height:I}),xe=jo({aspectRatio:x,width:O,height:J},"cover"),z=Math.min(de.width,Math.max(xe.width,j)),R=Math.min(de.height,Math.max(xe.height,g)),Q=jo({aspectRatio:i,width:C,height:I}),ue=jo({aspectRatio:i,width:O,height:J},"cover"),F=Math.min(Q.width,Math.max(ue.width,a)),ve=Math.min(Q.height,Math.max(ue.height,o)),Me=[-F/2,-ve/2,F,ve];return Y.width=md(z),Y.height=md(R),q.fillStyle=f,q.fillRect(0,0,z,R),q.save(),q.translate(z/2,R/2),q.rotate(c*Math.PI/180),q.scale(u,m),q.imageSmoothingEnabled=w,q.imageSmoothingQuality=P,q.drawImage.apply(q,[t].concat(D6(Me.map(function(et){return Math.floor(md(et))})))),q.restore(),Y}var W6=String.fromCharCode;function Iie(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=W6(t.getUint8(i));return r}var Oie=/^data:.*,/;function Mie(t){var e=t.replace(Oie,""),n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return Vs(i,function(a,o){i[o]=n.charCodeAt(o)}),r}function Lie(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(W6.apply(null,V6(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function $ie(t){var e=new DataView(t),n;try{var r,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,d=i+10;if(Iie(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(a=d+h)}}}if(a){var m=e.getUint16(a,r),x,j;for(j=0;j<m;j+=1)if(x=a+j*12+2,e.getUint16(x,r)===274){x+=8,n=e.getUint16(x,r),e.setUint16(x,1,r);break}}}catch{n=1}return n}function Uie(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var Bie={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,i=this.cropper,a=Number(n.minContainerWidth),o=Number(n.minContainerHeight);Js(i,Kn),Ui(e,Kn);var l={width:Math.max(r.offsetWidth,a>=0?a:U6),height:Math.max(r.offsetHeight,o>=0?o:B6)};this.containerData=l,vo(i,{width:l.width,height:l.height}),Js(e,Kn),Ui(i,Kn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,a=i?n.naturalHeight:n.naturalWidth,o=i?n.naturalWidth:n.naturalHeight,l=a/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:a,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=os({},u)},limitCanvas:function(e,n){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=a.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,i.width),h=Math.max(h,i.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var m=jo({aspectRatio:c,width:u,height:h});u=m.width,h=m.height,a.minWidth=u,a.minHeight=h,a.maxWidth=1/0,a.maxHeight=1/0}if(n)if(l>(d?0:1)){var x=i.width-a.width,j=i.height-a.height;a.minLeft=Math.min(0,x),a.minTop=Math.min(0,j),a.maxLeft=Math.max(0,x),a.maxTop=Math.max(0,j),d&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,l===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,x),a.maxLeft=Math.max(0,x)),a.height>=i.height&&(a.minTop=Math.min(0,j),a.maxTop=Math.max(0,j))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,n){var r=this.canvasData,i=this.imageData;if(n){var a=Rie({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=a.width,l=a.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,vo(this.canvas,os({width:r.width,height:r.height},Fh({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),a=r.naturalHeight*(n.height/n.naturalHeight);os(r,{width:i,height:a,left:(n.width-i)/2,top:(n.height-a)/2}),vo(this.image,os({width:r.width,height:r.height},Fh(os({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:n.width,height:n.height};r&&(n.height*r>n.width?a.height=a.width/r:a.width=a.height*r),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=n.left+(n.width-a.width)/2,a.top=n.top+(n.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=os({},a)},limitCropBox:function(e,n){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,m=l?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;d=Math.min(d,i.width),u=Math.min(u,i.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),m*c>h?m=h/c:h=m*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,m),o.maxWidth=h,o.maxHeight=m}n&&(l?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(i.width,a.left+a.width)-o.width,o.maxTop=Math.min(i.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Pm(this.face,km,r.width>=n.width&&r.height>=n.height?O6:B1),vo(this.cropBox,os({width:r.width,height:r.height},Fh({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),pd(this.element,Aw,this.getData())}},Vie={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=i,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,Vs(l,function(c){var d=document.createElement("img");Pm(c,ff,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=i,d.alt=a,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){Vs(this.previews,function(e){var n=Ow(e,ff);vo(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Eie(e,ff)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,a=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(vo(this.viewBoxImage,os({width:o,height:l},Fh(os({translateX:-c,translateY:-d},e)))),Vs(this.previews,function(u){var h=Ow(u,ff),m=h.width,x=h.height,j=m,g=x,v=1;i&&(v=m/i,g=a*v),a&&g>x&&(v=x/a,j=i*v,g=x),vo(u,{width:j,height:g}),vo(u.getElementsByTagName("img")[0],os({width:o*v,height:l*v},Fh(os({translateX:-c*v,translateY:-d*v},e))))}))}},zie={bind:function(){var e=this.element,n=this.options,r=this.cropper;qn(n.cropstart)&&yr(e,Dw,n.cropstart),qn(n.cropmove)&&yr(e,Rw,n.cropmove),qn(n.cropend)&&yr(e,Fw,n.cropend),qn(n.crop)&&yr(e,Aw,n.crop),qn(n.zoom)&&yr(e,Iw,n.zoom),yr(r,_k,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&yr(r,Ak,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&yr(r,Ck,this.onDblclick=this.dblclick.bind(this)),yr(e.ownerDocument,kk,this.onCropMove=this.cropMove.bind(this)),yr(e.ownerDocument,Pk,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&yr(window,Tk,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;qn(n.cropstart)&&Or(e,Dw,n.cropstart),qn(n.cropmove)&&Or(e,Rw,n.cropmove),qn(n.cropend)&&Or(e,Fw,n.cropend),qn(n.crop)&&Or(e,Aw,n.crop),qn(n.zoom)&&Or(e,Iw,n.zoom),Or(r,_k,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Or(r,Ak,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Or(r,Ck,this.onDblclick),Or(e.ownerDocument,kk,this.onCropMove),Or(e.ownerDocument,Pk,this.onCropEnd),n.responsive&&Or(window,Tk,this.onResize)}},qie={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,a=n.offsetHeight/r.height,o=Math.abs(i-1)>Math.abs(a-1)?i:a;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Vs(l,function(d,u){l[u]=d*o})),this.setCropBoxData(Vs(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===$6||this.setDragMode(kie(this.dragBox,Ew)?L6:V1)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(jt(n)&&n!==1||jt(r)&&r!==0||e.ctrlKey))){var i=this.options,a=this.pointers,o;e.changedTouches?Vs(e.changedTouches,function(l){a[l.identifier]=xf(l)}):a[e.pointerId||0]=xf(e),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?o=M6:o=Ow(e.target,km),gie.test(o)&&pd(this.element,Dw,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===I6&&(this.cropping=!0,Js(this.dragBox,Kx)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),pd(this.element,Rw,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Vs(e.changedTouches,function(i){os(r[i.identifier]||{},xf(i,!0))}):os(r[e.pointerId||0]||{},xf(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?Vs(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Qc(this.dragBox,Kx,this.cropped&&this.options.modal)),pd(this.element,Fw,{originalEvent:e,action:n}))}}},Hie={change:function(e){var n=this.options,r=this.canvasData,i=this.containerData,a=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=a.left,u=a.top,h=a.width,m=a.height,x=d+h,j=u+m,g=0,v=0,f=i.width,b=i.height,w=!0,N;!c&&e.shiftKey&&(c=h&&m?h/m:1),this.limited&&(g=a.minLeft,v=a.minTop,f=g+Math.min(i.width,r.width,r.left+r.width),b=v+Math.min(i.height,r.height,r.top+r.height));var P=o[Object.keys(o)[0]],S={x:P.endX-P.startX,y:P.endY-P.startY},C=function(I){switch(I){case tl:x+S.x>f&&(S.x=f-x);break;case sl:d+S.x<g&&(S.x=g-d);break;case Ga:u+S.y<v&&(S.y=v-u);break;case Ec:j+S.y>b&&(S.y=b-j);break}};switch(l){case B1:d+=S.x,u+=S.y;break;case tl:if(S.x>=0&&(x>=f||c&&(u<=v||j>=b))){w=!1;break}C(tl),h+=S.x,h<0&&(l=sl,h=-h,d-=h),c&&(m=h/c,u+=(a.height-m)/2);break;case Ga:if(S.y<=0&&(u<=v||c&&(d<=g||x>=f))){w=!1;break}C(Ga),m-=S.y,u+=S.y,m<0&&(l=Ec,m=-m,u-=m),c&&(h=m*c,d+=(a.width-h)/2);break;case sl:if(S.x<=0&&(d<=g||c&&(u<=v||j>=b))){w=!1;break}C(sl),h-=S.x,d+=S.x,h<0&&(l=tl,h=-h,d-=h),c&&(m=h/c,u+=(a.height-m)/2);break;case Ec:if(S.y>=0&&(j>=b||c&&(d<=g||x>=f))){w=!1;break}C(Ec),m+=S.y,m<0&&(l=Ga,m=-m,u-=m),c&&(h=m*c,d+=(a.width-h)/2);break;case Wu:if(c){if(S.y<=0&&(u<=v||x>=f)){w=!1;break}C(Ga),m-=S.y,u+=S.y,h=m*c}else C(Ga),C(tl),S.x>=0?x<f?h+=S.x:S.y<=0&&u<=v&&(w=!1):h+=S.x,S.y<=0?u>v&&(m-=S.y,u+=S.y):(m-=S.y,u+=S.y);h<0&&m<0?(l=Yu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Ku,h=-h,d-=h):m<0&&(l=Gu,m=-m,u-=m);break;case Ku:if(c){if(S.y<=0&&(u<=v||d<=g)){w=!1;break}C(Ga),m-=S.y,u+=S.y,h=m*c,d+=a.width-h}else C(Ga),C(sl),S.x<=0?d>g?(h-=S.x,d+=S.x):S.y<=0&&u<=v&&(w=!1):(h-=S.x,d+=S.x),S.y<=0?u>v&&(m-=S.y,u+=S.y):(m-=S.y,u+=S.y);h<0&&m<0?(l=Gu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Wu,h=-h,d-=h):m<0&&(l=Yu,m=-m,u-=m);break;case Yu:if(c){if(S.x<=0&&(d<=g||j>=b)){w=!1;break}C(sl),h-=S.x,d+=S.x,m=h/c}else C(Ec),C(sl),S.x<=0?d>g?(h-=S.x,d+=S.x):S.y>=0&&j>=b&&(w=!1):(h-=S.x,d+=S.x),S.y>=0?j<b&&(m+=S.y):m+=S.y;h<0&&m<0?(l=Wu,m=-m,h=-h,u-=m,d-=h):h<0?(l=Gu,h=-h,d-=h):m<0&&(l=Ku,m=-m,u-=m);break;case Gu:if(c){if(S.x>=0&&(x>=f||j>=b)){w=!1;break}C(tl),h+=S.x,m=h/c}else C(Ec),C(tl),S.x>=0?x<f?h+=S.x:S.y>=0&&j>=b&&(w=!1):h+=S.x,S.y>=0?j<b&&(m+=S.y):m+=S.y;h<0&&m<0?(l=Ku,m=-m,h=-h,u-=m,d-=h):h<0?(l=Yu,h=-h,d-=h):m<0&&(l=Wu,m=-m,u-=m);break;case O6:this.move(S.x,S.y),w=!1;break;case M6:this.zoom(Aie(o),e),w=!1;break;case I6:if(!S.x||!S.y){w=!1;break}N=H6(this.cropper),d=P.startX-N.left,u=P.startY-N.top,h=a.minWidth,m=a.minHeight,S.x>0?l=S.y>0?Gu:Wu:S.x<0&&(d-=h,l=S.y>0?Yu:Ku),S.y<0&&(u-=m),this.cropped||(Ui(this.cropBox,Kn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(a.width=h,a.height=m,a.left=d,a.top=u,this.action=l,this.renderCropBox()),Vs(o,function(k){k.startX=k.endX,k.startY=k.endY})}},Wie={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Js(this.dragBox,Kx),Ui(this.cropBox,Kn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=os({},this.initialImageData),this.canvasData=os({},this.initialCanvasData),this.cropBoxData=os({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(os(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ui(this.dragBox,Kx),Js(this.cropBox,Kn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Vs(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ui(this.cropper,Nk)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Js(this.cropper,Nk)),this},destroy:function(){var e=this.element;return e[ns]?(e[ns]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,a=r.top;return this.moveTo(nj(e)?e:i+Number(e),nj(n)?n:a+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(jt(e)&&(r.left=e,i=!0),jt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var i=this.options,a=this.canvasData,o=a.width,l=a.height,c=a.naturalWidth,d=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var u=c*e,h=d*e;if(pd(this.element,Iw,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var m=this.pointers,x=H6(this.cropper),j=m&&Object.keys(m).length?Fie(m):{pageX:r.pageX,pageY:r.pageY};a.left-=(u-o)*((j.pageX-x.left-a.left)/o),a.top-=(h-l)*((j.pageY-x.top-a.top)/l)}else Yc(n)&&jt(n.x)&&jt(n.y)?(a.left-=(u-o)*((n.x-a.left)/o),a.top-=(h-l)*((n.y-a.top)/l)):(a.left-=(u-o)/2,a.top-=(h-l)/2);a.width=u,a.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),jt(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,jt(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(jt(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(jt(e)&&(r.scaleX=e,i=!0),jt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,a=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var l=r.width/r.naturalWidth;if(Vs(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&Yc(e)){var o=!1;n.rotatable&&jt(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(jt(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),jt(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;jt(e.x)&&(a.left=e.x*l+i.left),jt(e.y)&&(a.top=e.y*l+i.top),jt(e.width)&&(a.width=e.width*l),jt(e.height)&&(a.height=e.height*l),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?os({},this.containerData):{}},getImageData:function(){return this.sized?os({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Vs(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Yc(e)&&(jt(e.left)&&(n.left=e.left),jt(e.top)&&(n.top=e.top),jt(e.width)?(n.width=e.width,n.height=e.width/r):jt(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&Yc(e)&&(jt(e.left)&&(n.left=e.left),jt(e.top)&&(n.top=e.top),jt(e.width)&&e.width!==n.width&&(i=!0,n.width=e.width),jt(e.height)&&e.height!==n.height&&(a=!0,n.height=e.height),r&&(i?n.height=n.width/r:a&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=Die(this.image,this.imageData,n,e);if(!this.cropped)return r;var i=this.getData(e.rounded),a=i.x,o=i.y,l=i.width,c=i.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(a*=d,o*=d,l*=d,c*=d);var u=l/c,h=jo({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),m=jo({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),x=jo({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),j=x.width,g=x.height;j=Math.min(h.width,Math.max(m.width,j)),g=Math.min(h.height,Math.max(m.height,g));var v=document.createElement("canvas"),f=v.getContext("2d");v.width=md(j),v.height=md(g),f.fillStyle=e.fillColor||"transparent",f.fillRect(0,0,j,g);var b=e.imageSmoothingEnabled,w=b===void 0?!0:b,N=e.imageSmoothingQuality;f.imageSmoothingEnabled=w,N&&(f.imageSmoothingQuality=N);var P=r.width,S=r.height,C=a,k=o,I,A,O,$,J,Y;C<=-l||C>P?(C=0,I=0,O=0,J=0):C<=0?(O=-C,C=0,I=Math.min(P,l+C),J=I):C<=P&&(O=0,I=Math.min(l,P-C),J=I),I<=0||k<=-c||k>S?(k=0,A=0,$=0,Y=0):k<=0?($=-k,k=0,A=Math.min(S,c+k),Y=A):k<=S&&($=0,A=Math.min(c,S-k),Y=A);var q=[C,k,I,A];if(J>0&&Y>0){var de=j/l;q.push(O*de,$*de,J*de,Y*de)}return f.drawImage.apply(f,[r].concat(D6(q.map(function(xe){return Math.floor(md(xe))})))),v},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!nj(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===V1,o=n.movable&&e===L6;e=a||o?e:$6,n.dragMode=e,Pm(r,km,e),Qc(r,Ew,a),Qc(r,Tw,o),n.cropBoxMovable||(Pm(i,km,e),Qc(i,Ew,a),Qc(i,Tw,o))}return this}},Kie=Ki.Cropper,K6=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(aie(this,t),!e||!jie.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=os({},Rk,Yc(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return oie(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[ns]){if(n[ns]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(yie.test(n)){vie.test(n)?this.read(Mie(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==Fk&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},a.checkCrossOrigin&&Ik(n)&&i.crossOrigin&&(n=Ok(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,a=$ie(n),o=0,l=1,c=1;if(a>1){this.url=Lie(n,Fk);var d=Uie(a);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(i.rotate=o),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,a=r;this.options.checkCrossOrigin&&Ik(r)&&(i||(i="anonymous"),a=Ok(r)),this.crossOrigin=i,this.crossOriginUrl=a;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Js(o,Sk),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Ki.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ki.navigator.userAgent),a=function(d,u){os(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=os({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){a(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){a(o.width,o.height),i||l.removeChild(o)},o.src=r.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,a=n.parentNode,o=document.createElement("div");o.innerHTML=bie;var l=o.querySelector(".".concat(ns,"-container")),c=l.querySelector(".".concat(ns,"-canvas")),d=l.querySelector(".".concat(ns,"-drag-box")),u=l.querySelector(".".concat(ns,"-crop-box")),h=u.querySelector(".".concat(ns,"-face"));this.container=a,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(ns,"-view-box")),this.face=h,c.appendChild(i),Js(n,Kn),a.insertBefore(l,n.nextSibling),Ui(i,Sk),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Js(u,Kn),r.guides||Js(u.getElementsByClassName("".concat(ns,"-dashed")),Kn),r.center||Js(u.getElementsByClassName("".concat(ns,"-center")),Kn),r.background&&Js(l,"".concat(ns,"-bg")),r.highlight||Js(h,mie),r.cropBoxMovable&&(Js(h,Tw),Pm(h,km,B1)),r.cropBoxResizable||(Js(u.getElementsByClassName("".concat(ns,"-line")),Kn),Js(u.getElementsByClassName("".concat(ns,"-point")),Kn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),qn(r.ready)&&yr(n,Ek,r.ready,{once:!0}),pd(n,Ek)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Ui(this.element,Kn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Kie,t}},{key:"setDefaults",value:function(n){os(Rk,Yc(n)&&n)}}])}();os(K6.prototype,Bie,Vie,zie,qie,Hie,Wie);function Gie(t,e){const n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r),a=e.width*i,o=e.height*i,l=(t.width-a)/2,c=(t.height-o)/2;return{width:a,height:o,left:l,top:c}}function Yie(t){return t*(Math.PI/180)}function Qie(t,e,n){const r=Math.abs(Yie(n));return Math.max((Math.sin(r)*t+Math.cos(r)*e)/e,(Math.sin(r)*e+Math.cos(r)*t)/t)}function Xie(t,e,n){return e.left<t.left?{left:t.left,width:n.width}:e.top<t.top?{top:t.top,height:n.height}:e.left+e.width>t.left+t.width?{left:t.left+t.width-n.width,width:n.width}:e.top+e.height>t.top+t.height?{top:t.top+t.height-n.height,height:n.height}:null}function Zie(t,e,n){return e.left<t.left?{left:t.left,width:n.left+n.width-t.left}:e.top<t.top?{top:t.top,height:n.top+n.height-t.top}:e.left+e.width>t.left+t.width?{left:n.left,width:t.left+t.width-n.left}:e.top+e.height>t.top+t.height?{top:n.top,height:t.top+t.height-n.top}:null}class Jie extends li{constructor(n){super(n);E(this,"imgElement");E(this,"cropper");E(this,"onRotate90Deg",()=>{const{angle90Deg:n}=this.state,r=n-90;this.setState({angle90Deg:r,angleGranular:0}),this.cropper.scale(1),this.cropper.rotateTo(r);const i=this.cropper.getCanvasData(),a=this.cropper.getContainerData(),o=Gie(a,i);this.cropper.setCanvasData(o),this.cropper.setCropBoxData(o)});E(this,"onRotateGranular",n=>{const r=Number(n.target.value);this.setState({angleGranular:r});const{angle90Deg:i}=this.state,a=i+r;this.cropper.rotateTo(a);const o=this.cropper.getImageData(),l=Qie(o.naturalWidth,o.naturalHeight,r),c=this.cropper.getImageData().scaleX<0?-l:l;this.cropper.scale(c,l)});this.state={angle90Deg:0,angleGranular:0,prevCropboxData:null},this.storePrevCropboxData=this.storePrevCropboxData.bind(this),this.limitCropboxMovement=this.limitCropboxMovement.bind(this)}componentDidMount(){const{opts:n,storeCropperInstance:r}=this.props;this.cropper=new K6(this.imgElement,n.cropperOptions),this.imgElement.addEventListener("cropstart",this.storePrevCropboxData),this.imgElement.addEventListener("cropend",this.limitCropboxMovement),r(this.cropper)}componentWillUnmount(){this.cropper.destroy(),this.imgElement.removeEventListener("cropstart",this.storePrevCropboxData),this.imgElement.removeEventListener("cropend",this.limitCropboxMovement)}storePrevCropboxData(){this.setState({prevCropboxData:this.cropper.getCropBoxData()})}limitCropboxMovement(n){const r=this.cropper.getCanvasData(),i=this.cropper.getCropBoxData(),{prevCropboxData:a}=this.state;if(n.detail.action==="all"){const o=Xie(r,i,a);o&&this.cropper.setCropBoxData(o)}else{const o=Zie(r,i,a);o&&this.cropper.setCropBoxData(o)}}renderGranularRotate(){const{i18n:n}=this.props,{angleGranular:r}=this.state;return T("label",{role:"tooltip","aria-label":`${r}`,"data-microtip-position":"top",className:"uppy-ImageCropper-rangeWrapper",children:T("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.onRotateGranular,onChange:this.onRotateGranular,value:r,min:"-45",max:"45","aria-label":n("rotate")})})}renderRevert(){const{i18n:n,opts:r}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("revert"),onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(r.cropperOptions.initialAspectRatio),this.setState({angle90Deg:0,angleGranular:0})},children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})]})})}renderRotate(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("rotate"),onClick:this.onRotate90Deg,children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})]})})}renderFlip(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("flipHorizontal"),onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})]})})}renderZoomIn(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("zoomIn"),onClick:()=>this.cropper.zoom(.1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24",children:[T("path",{d:"M0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),T("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})]})})}renderZoomOut(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("zoomOut"),onClick:()=>this.cropper.zoom(-.1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0V0z",fill:"none"}),T("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})]})})}renderCropSquare(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("aspectRatioSquare"),onClick:()=>this.cropper.setAspectRatio(1),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M0 0h24v24H0z",fill:"none"}),T("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})]})})}renderCropWidescreen(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":n("aspectRatioLandscape"),onClick:()=>this.cropper.setAspectRatio(16/9),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),T("path",{fill:"none",d:"M0 0h24v24H0z"})]})})}renderCropWidescreenVertical(){const{i18n:n}=this.props;return T("button",{"data-microtip-position":"top",type:"button","aria-label":n("aspectRatioPortrait"),className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.setAspectRatio(9/16),children:T("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[T("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),T("path",{d:"M0 0h24v24H0z",fill:"none"})]})})}render(){const{currentImage:n,opts:r}=this.props,{actions:i}=r;if(n.data==null)throw new Error("File data is empty");const a=URL.createObjectURL(n.data);return T("div",{className:"uppy-ImageCropper",children:[T("div",{className:"uppy-ImageCropper-container",children:T("img",{className:"uppy-ImageCropper-image",alt:n.name,src:a,ref:o=>{this.imgElement=o}})}),T("div",{className:"uppy-ImageCropper-controls",children:[i.revert&&this.renderRevert(),i.rotate&&this.renderRotate(),i.granularRotate&&this.renderGranularRotate(),i.flip&&this.renderFlip(),i.zoomIn&&this.renderZoomIn(),i.zoomOut&&this.renderZoomOut(),i.cropSquare&&this.renderCropSquare(),i.cropWidescreen&&this.renderCropWidescreen(),i.cropWidescreenVertical&&this.renderCropWidescreenVertical()]})]})}}const eae={strings:{revert:"Reset",rotate:"Rotate 90",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontally",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},G6={viewMode:0,background:!1,autoCropArea:1,responsive:!0,minCropBoxWidth:70,minCropBoxHeight:70,croppedCanvasOptions:{},initialAspectRatio:0},Y6={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},tae={quality:.8,actions:Y6,cropperOptions:G6};class Q6 extends Cm{constructor(n,r){super(n,{...tae,...r,actions:{...Y6,...r==null?void 0:r.actions},cropperOptions:{...G6,...r==null?void 0:r.cropperOptions}});E(this,"cropper");E(this,"save",()=>{const n=a=>{const{currentImage:o}=this.getPluginState();this.uppy.setFileState(o.id,{data:new File([a],o.name??this.i18n("unnamed"),{type:a.type}),size:a.size,preview:void 0});const l=this.uppy.getFile(o.id);this.uppy.emit("thumbnail:request",l),this.setPluginState({currentImage:l}),this.uppy.emit("file-editor:complete",l)},{currentImage:r}=this.getPluginState(),i=this.cropper.getCroppedCanvas({});i.width%2!==0&&this.cropper.setData({width:i.width-1}),i.height%2!==0&&this.cropper.setData({height:i.height-1}),this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(n,r.type,this.opts.quality)});E(this,"storeCropperInstance",n=>{this.cropper=n});E(this,"selectFile",n=>{this.uppy.emit("file-editor:start",n),this.setPluginState({currentImage:n})});this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=eae,this.i18nInit()}canEditFile(n){if(!n.type||n.isRemote)return!1;const r=n.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(r)}install(){this.setPluginState({currentImage:null});const{target:n}=this.opts;n&&this.mount(n,this)}uninstall(){const{currentImage:n}=this.getPluginState();if(n){const r=this.uppy.getFile(n.id);this.uppy.emit("file-editor:cancel",r)}this.unmount()}render(){const{currentImage:n}=this.getPluginState();return n===null||n.isRemote?null:T(Jie,{currentImage:n,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}E(Q6,"VERSION",rie.version);function Gx({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:n,onComplete:r,onError:i,buttonClassName:a,buttonVariant:o="default",buttonSize:l="default",children:c}){const[d,u]=p.useState(!1),[h]=p.useState(()=>new iw({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(Cw,{shouldUseMultipart:!1,getUploadParameters:n}).use(Q6,{quality:.9,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,movable:!0,zoomable:!0,responsive:!0}}).on("error",m=>{i&&i((m==null?void 0:m.message)||"Upload error")}).on("upload-error",(m,x)=>{i&&i((x==null?void 0:x.message)||"Upload error")}).on("complete",m=>{r==null||r(m),u(!1)}));return s.jsxs("div",{children:[s.jsx(M,{onClick:()=>u(!0),className:a,variant:o,size:l,type:"button","data-testid":"button-open-upload-modal",children:c}),s.jsx(Jt,{open:d,onOpenChange:u,children:s.jsxs(Kt,{className:"sm:max-w-2xl w-[95vw] p-0 max-h-[90vh] sm:h-[80vh] overflow-y-auto",children:[s.jsxs(es,{className:"sr-only",children:[s.jsx(ts,{children:"Upload images"}),s.jsx(is,{children:"Manage image uploads"})]}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx(Pre,{uppy:h,proudlyDisplayPoweredByUppy:!1,width:"100%",height:480,hideUploadButton:!1,hideProgressDetails:!1,plugins:["ImageEditor"]})})]})})]})}const sae=Jn({make:ie().min(1,"Make is required"),model:ie().min(1,"Model is required"),year:us.number().min(1900).max(new Date().getFullYear()+1),registration:ie().min(1,"Registration is required"),category:ie().min(1,"Category is required"),totalTime:us.number().min(0),engine:ie().optional(),avionics:ie().optional(),hourlyRate:ie().regex(/^\d+(\.\d{1,2})?$/,"Enter a valid price (e.g., 150 or 150.50)").min(1,"Hourly rate is required"),location:ie().min(1,"Location is required"),airportCode:ie().optional(),description:ie().min(20,"Description must be at least 20 characters"),insuranceIncluded:Na().default(!0),wetRate:Na().default(!0),minFlightHours:us.number().min(0).default(0),serialNumber:ie().min(1,"Serial number is required"),annualInspectionDate:ie().optional(),annualSignerName:ie().optional(),annualSignerCertNumber:ie().optional(),requires100Hour:Na().default(!1),currentTach:us.number().optional(),hour100InspectionTach:us.number().optional(),maintenanceTrackingProvider:ie().optional()});function Mk(){const[,t]=an(),{toast:e}=Ot(),{user:n}=Ds(),[r,i]=cp("/edit-aircraft/:id"),a=r?i==null?void 0:i.id:null,{data:o,isLoading:l}=We({queryKey:["/api/aircraft",a],queryFn:async()=>{const C=await fetch(Yt(`/api/aircraft/${a}`));if(!C.ok)throw new Error("Failed to fetch aircraft");return C.json()},enabled:!!a&&r}),[c,d]=p.useState([]),[u,h]=p.useState(["PPL"]),[m,x]=p.useState({insuranceDoc:null,annualInspectionDoc:null}),j=async()=>{const C=await fetch(Yt("/api/objects/upload"),{method:"POST",credentials:"include"});if(!C.ok){const I=await C.text();throw new Error(I||`Upload init failed (${C.status})`)}const k=await C.json();if(!(k!=null&&k.uploadURL))throw new Error("Upload init failed: missing upload URL");return{method:"PUT",url:k.uploadURL}},g=async C=>{var k,I,A;try{const O=(C==null?void 0:C.successful)??[],$=(C==null?void 0:C.failed)??[],J=q=>{var z,R,Q,ue,F,ve,Me,et,se,je,Oe,ne,he,Fe,ye;const xe=[q==null?void 0:q.uploadURL,(z=q==null?void 0:q.response)==null?void 0:z.uploadURL,(R=q==null?void 0:q.response)==null?void 0:R.url,(Q=q==null?void 0:q.response)==null?void 0:Q.location,(F=(ue=q==null?void 0:q.response)==null?void 0:ue.body)==null?void 0:F.uploadURL,(Me=(ve=q==null?void 0:q.response)==null?void 0:ve.body)==null?void 0:Me.url,(se=(et=q==null?void 0:q.response)==null?void 0:et.body)==null?void 0:se.location,(Oe=(je=q==null?void 0:q.response)==null?void 0:je.data)==null?void 0:Oe.uploadURL,(he=(ne=q==null?void 0:q.response)==null?void 0:ne.data)==null?void 0:he.url,(ye=(Fe=q==null?void 0:q.response)==null?void 0:Fe.data)==null?void 0:ye.location].filter(Boolean)[0];return xe?xe.split("?")[0]:void 0},Y=[];for(const q of O){const de=J(q);if(de){try{const z=new URL(de).pathname.slice(1);await fetch(Yt("/api/objects/set-acl"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:z,access:"publicRead"})})}catch(xe){console.warn("ACL update failed, continuing:",xe)}Y.push(de)}}if(Y.length>0){const q=[...c,...Y].filter((de,xe,z)=>z.indexOf(de)===xe);d(q),e({title:"Images uploaded successfully",description:`${Y.length} image(s) added to your listing`});return}if($.length>0){const q=((k=$[0])==null?void 0:k.error)||((A=(I=$[0])==null?void 0:I.response)==null?void 0:A.error);e({title:"Upload failed",description:(q==null?void 0:q.message)||"Some images failed to upload. Please try again.",variant:"destructive"});return}e({title:"No Images Added",description:"We couldn't detect any completed uploads. Please try again and ensure you click Upload.",variant:"destructive"})}catch(O){console.error("Error processing aircraft image upload:",O),e({title:"Upload failed",description:"Failed to process the uploaded images. Please try again.",variant:"destructive"})}},v=ar({resolver:or(sae),defaultValues:{insuranceIncluded:!0,wetRate:!0,minFlightHours:0,requires100Hour:!1}});p.useEffect(()=>{o&&r&&(v.reset({make:o.make,model:o.model,year:o.year,registration:o.registration,category:o.category||"",totalTime:o.totalTime||0,engine:o.engine||"",avionics:o.avionicsSuite||"",hourlyRate:String(o.hourlyRate),location:o.location,airportCode:o.airportCode||"",description:o.description??"",insuranceIncluded:o.insuranceIncluded??!0,wetRate:o.wetRate??!0,minFlightHours:o.minFlightHours??0,serialNumber:o.serialNumber||"",annualInspectionDate:o.annualInspectionDate??"",annualSignerName:o.annualSignerName??"",annualSignerCertNumber:o.annualSignerCertNumber??"",requires100Hour:o.requires100Hour??!1,currentTach:o.currentTach??void 0,hour100InspectionTach:o.hour100InspectionTach??void 0,maintenanceTrackingProvider:o.maintenanceTrackingProvider??""}),o.images&&d(o.images),o.requiredCertifications&&h(o.requiredCertifications))},[o,r,v]);const f=Ie({mutationFn:async({formData:C,hasFiles:k})=>{const I=r?"PATCH":"POST",A=r?`/api/aircraft/${a}`:"/api/aircraft";if(r||!k)return{data:await Te(I,A,C),hasVerificationDocs:!1};{const O=await fetch(A,{method:I,body:C,credentials:"include"});if(!O.ok){const $=await O.json();throw new Error($.error||"Submission failed")}return{data:await O.json(),hasVerificationDocs:k}}},onSuccess:C=>{Le.invalidateQueries({queryKey:["/api/aircraft"]}),a&&Le.invalidateQueries({queryKey:["/api/aircraft",a]}),r?e({title:"Aircraft Updated",description:"Your aircraft listing has been successfully updated."}):C.hasVerificationDocs?e({title:"Listing Submitted",description:"Your aircraft listing is pending admin review. It will be visible in the marketplace once approved."}):e({title:"Aircraft Listed",description:"Your aircraft has been successfully listed and is now visible in the rental marketplace."}),t("/my-listings")},onError:C=>{if(m$(C)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(C.message.includes("403")||C.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to list aircraft.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:C.message||"Failed to list aircraft",variant:"destructive"})}}),b=Ie({mutationFn:async C=>{const I=await(await Te("POST","/api/generate-description",{listingType:"aircraft-rental",details:C})).json();return console.log("AI Response received:",I),I},onSuccess:C=>{console.log("Setting description to:",C.description),v.setValue("description",C.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:C=>{e({title:"Generation Failed",description:C.message||"Could not generate description",variant:"destructive"})}}),w=()=>{const C=v.getValues();if(!C.make||!C.model){e({title:"More Information Needed",description:"Please fill in at least the Make and Model to generate a description.",variant:"destructive"});return}b.mutate({make:C.make,model:C.model,year:C.year,category:C.category,engine:C.engine,avionics:C.avionics,totalTime:C.totalTime,location:C.location})},N=C=>{console.log("Form submitted with data:",C),console.log("Form errors:",v.formState.errors);const k=Object.values(m).some($=>$!==null),{avionics:I,...A}=C,O={...A,avionicsSuite:I||null,requiredCertifications:u,images:c.length>0?c:[]};if(k){const $=new FormData;$.append("listingData",JSON.stringify(O)),m.insuranceDoc&&$.append("insuranceDoc",m.insuranceDoc),m.annualInspectionDoc&&$.append("annualInspectionDoc",m.annualInspectionDoc),f.mutate({formData:$,hasFiles:!0})}else f.mutate({formData:O,hasFiles:!1})},P=["PPL","IR","CPL","Multi-Engine","ATP"],S=(n==null?void 0:n.isVerified)||!1;return r&&l?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading aircraft details..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[!S&&s.jsxs(Gs,{className:"mb-6 border-yellow-500","data-testid":"alert-verification-info",children:[s.jsx(Kz,{className:"h-4 w-4"}),s.jsxs(Ys,{children:[s.jsx("strong",{children:"Verification Recommended"})," - Verified aircraft listings get priority placement and build trust with renters. Visit your ",s.jsx("a",{href:"/profile",className:"underline font-medium",children:"profile page"})," to complete verification."]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-2","data-testid":"text-list-aircraft-title",children:r?"Edit Aircraft Listing":"List Your Aircraft"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update your aircraft listing details":"Share your aircraft with the pilot community and earn income when you're not flying"})]}),s.jsx(Jr,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(N),className:"space-y-8",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Aircraft Information"}),s.jsx(Ne,{children:"Provide basic details about your aircraft"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:v.control,name:"make",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Make"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Cessna",...C,"data-testid":"input-make"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"model",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Model"}),s.jsx(me,{children:s.jsx(B,{placeholder:"172 Skyhawk",...C,"data-testid":"input-model"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ce,{control:v.control,name:"year",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Year"}),s.jsx(me,{children:s.jsx(B,{type:"number",placeholder:"2018",...C,"data-testid":"input-year"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"registration",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Registration"}),s.jsx(me,{children:s.jsx(B,{placeholder:"N12345",...C,"data-testid":"input-registration"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"category",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Category"}),s.jsxs(gs,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-category",children:s.jsx(ys,{placeholder:"Select category"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(_e,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(_e,{value:"Jet",children:"Jet"}),s.jsx(_e,{value:"Turboprop",children:"Turboprop"}),s.jsx(_e,{value:"Helicopter",children:"Helicopter"})]})]}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:v.control,name:"totalTime",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Total Time (hours)"}),s.jsx(me,{children:s.jsx(B,{type:"number",placeholder:"2500",...C,"data-testid":"input-total-time"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"engine",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Engine"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Lycoming IO-360",...C,"data-testid":"input-engine"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:v.control,name:"avionics",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Avionics Suite"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Garmin G1000",...C,"data-testid":"input-avionics"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"description",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Describe your aircraft, its condition, features, and any special notes for renters...",className:"min-h-32",...C,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx($s,{className:"flex-1",children:"Provide detailed information to help renters understand your aircraft"}),s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:b.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:b.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(pD,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(pe,{})]})})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Location"})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:v.control,name:"location",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Location"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Santa Monica, CA",...C,"data-testid":"input-location"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"airportCode",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Airport Code"}),s.jsx(me,{children:s.jsx(B,{placeholder:"SMO",...C,"data-testid":"input-airport-code"})}),s.jsx(pe,{})]})})]})})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Pricing & Requirements"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:v.control,name:"hourlyRate",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Hourly Rate ($)"}),s.jsx(me,{children:s.jsx(B,{type:"number",placeholder:"145",...C,"data-testid":"input-hourly-rate"})}),s.jsx($s,{children:"Set your hourly rental rate. Ready Set Fly will collect 7.5% platform fee from both you and the renter."}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"minFlightHours",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Minimum Flight Hours"}),s.jsx(me,{children:s.jsx(B,{type:"number",placeholder:"100",...C,"data-testid":"input-min-hours"})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ae,{children:"Required Certifications"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:P.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ts,{id:`cert-${C}`,checked:u.includes(C),onCheckedChange:k=>{h(k?[...u,C]:u.filter(I=>I!==C))},"data-testid":`checkbox-required-cert-${C}`}),s.jsx("label",{htmlFor:`cert-${C}`,className:"text-sm cursor-pointer",children:C})]},C))})]}),s.jsx(ce,{control:v.control,name:"insuranceIncluded",render:({field:C})=>s.jsxs(oe,{className:"flex items-center space-x-2",children:[s.jsx(me,{children:s.jsx(Ts,{checked:C.value,onCheckedChange:C.onChange,"data-testid":"checkbox-insurance"})}),s.jsx(le,{className:"!mt-0",children:"Insurance included in rate"})]})}),s.jsx(ce,{control:v.control,name:"wetRate",render:({field:C})=>s.jsxs(oe,{className:"flex items-center space-x-2",children:[s.jsx(me,{children:s.jsx(Ts,{checked:C.value,onCheckedChange:C.onChange,"data-testid":"checkbox-wet-rate"})}),s.jsx(le,{className:"!mt-0",children:"Wet rate (fuel included)"})]})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Owner & Aircraft Verification"}),s.jsx(Ne,{children:"Provide insurance and annual inspection documentation for verification"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:v.control,name:"serialNumber",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Aircraft Serial Number"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Enter serial number",...C,"data-testid":"input-serial-number"})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Aircraft Insurance Certificate *"}),s.jsx(B,{type:"file",accept:"image/*,.pdf",onChange:C=>{var I;const k=(I=C.target.files)==null?void 0:I[0];k&&x(A=>({...A,insuranceDoc:k}))},"data-testid":"input-insurance-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload aircraft insurance certificate"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Annual Inspection Certificate *"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[s.jsx(ce,{control:v.control,name:"annualInspectionDate",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Inspection Date"}),s.jsx(me,{children:s.jsx(B,{type:"date",...C,"data-testid":"input-annual-date"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:v.control,name:"annualSignerName",render:({field:C})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Signer Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"A&P/IA name",...C,"data-testid":"input-signer-name"})}),s.jsx(pe,{})]})})]}),s.jsx(B,{type:"file",accept:"image/*,.pdf",onChange:C=>{var I;const k=(I=C.target.files)==null?void 0:I[0];k&&x(A=>({...A,annualInspectionDoc:k}))},"data-testid":"input-annual-doc"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload annual inspection certificate"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Photos"}),s.jsx(Ne,{children:"Add up to 15 photos of your aircraft. Upload multiple images at once using cloud storage."})]}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.map((C,k)=>s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[s.jsx("img",{src:C,alt:`Aircraft ${k+1}`,className:"w-full h-full object-cover"}),s.jsx(M,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>d(c.filter((I,A)=>A!==k)),children:s.jsx(fp,{className:"h-4 w-4"})})]},k)),c.length<15&&s.jsx("div",{className:"aspect-square rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center gap-2",children:s.jsxs(Gx,{onGetUploadParameters:j,onComplete:g,maxNumberOfFiles:15-c.length,buttonClassName:"w-full h-full flex flex-col items-center justify-center gap-2",buttonVariant:"ghost",children:[s.jsx(pp,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Photos"})]})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.length," of 15 photos uploaded"]})]})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(M,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:f.isPending||r&&l,"data-testid":"button-submit-listing",children:f.isPending?r?"Updating...":"Listing...":r?"Update Aircraft":"List Aircraft"}),s.jsx(M,{type:"button",variant:"outline",size:"lg","data-testid":"button-cancel-listing",onClick:()=>t("/my-listings"),children:"Cancel"})]})]})})]})})}const nae=ZJ.omit({userId:!0}).extend({category:ie().min(1,"Category is required"),title:ie().min(3,"Title must be at least 3 characters"),description:ie().min(20,"Description must be at least 20 characters"),location:ie().optional(),city:ie().optional(),state:ie().optional(),zipCode:ie().optional(),contactEmail:ie().email("Valid email required").min(1,"Contact email is required"),contactPhone:ie().optional(),price:ie().optional(),tier:nn(["basic","standard","premium"]).optional()});Jn({make:ie().min(1,"Make is required"),model:ie().min(1,"Model is required"),year:ie().min(4,"Year is required"),registration:ie().optional(),totalTime:ie().optional(),engineTime:ie().optional(),engineType:nn(["Single-Engine","Multi-Engine","Turboprop","Jet"]).optional(),engineCount:ie().optional(),seatingCapacity:ie().optional(),avionicsPackage:ie().optional(),usefulLoad:ie().optional(),annualDueDate:ie().optional(),interiorCondition:nn(["excellent","good","fair","needs-work"]).optional(),exteriorCondition:nn(["excellent","good","fair","needs-work"]).optional(),damageHistory:ie().optional()});Jn({jobTitle:ie().min(1,"Job title is required"),company:ie().min(1,"Company is required"),employmentType:ie().min(1,"Employment type is required"),salaryRange:ie().optional(),requirements:ie().optional()});Jn({instructorName:ie().min(1,"Instructor name is required"),certifications:mi(ie()).min(1,"At least one certification required"),hourlyRate:ie().optional(),specialties:ie().optional()});Jn({schoolName:ie().min(1,"School name is required"),aircraftFleet:ie().optional(),programsOffered:ie().optional(),pricingInfo:ie().optional()});Jn({businessName:ie().min(1,"Business name is required"),certifications:mi(ie()).optional(),specialties:ie().optional(),serviceArea:ie().optional()});Jn({companyName:ie().min(1,"Company name is required"),aircraftAvailable:ie().optional(),serviceArea:ie().optional(),pricingStructure:ie().optional()});const rae=[{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"charter",label:"Charter Services"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight School"},{value:"mechanic",label:"Mechanic Services"},{value:"job",label:"Aviation Jobs"}];function Lk(){const[,t]=an(),{toast:e}=Ot(),{user:n}=Ds(),[r,i]=p.useState([]),[a,o]=p.useState(null),[l,c]=p.useState(null),[d,u]=p.useState(""),[h,m]=p.useState(null),[x,j]=p.useState(!1),[g,v]=p.useState(""),[f,b]=cp("/edit-marketplace-listing/:id"),w=f?b==null?void 0:b.id:null,{data:N,isLoading:P}=We({queryKey:["/api/marketplace",w],queryFn:async()=>{const F=await fetch(Yt(`/api/marketplace/${w}`));if(!F.ok)throw new Error("Failed to fetch listing");return F.json()},enabled:!!w&&f}),S=ar({resolver:or(nae),defaultValues:{category:"",title:"",description:"",location:"",contactEmail:(n==null?void 0:n.email)||"",contactPhone:"",price:"",tier:"basic",details:{},images:[],isActive:!0}});p.useEffect(()=>{n!=null&&n.email&&!S.getValues("contactEmail")&&S.setValue("contactEmail",n.email)},[n==null?void 0:n.email,S]),p.useEffect(()=>{N&&f&&(S.reset({category:N.category,title:N.title||"",description:N.description||void 0,location:N.location||void 0,city:N.city||void 0,state:N.state||void 0,zipCode:N.zipCode||void 0,contactEmail:N.contactEmail||void 0,contactPhone:N.contactPhone||void 0,price:N.price||void 0,tier:N.tier||"basic",details:N.details||{},images:N.images||[],isActive:N.isActive===null?void 0:N.isActive}),N.images&&i(N.images))},[N,f,S]);const C=S.watch("category"),k=S.watch("details.tier"),A=((F,ve)=>F==="aircraft-sale"?ve==="basic"?3:ve==="standard"?5:ve==="premium"?10:3:F==="job"||F==="cfi"?1:F==="flight-school"||F==="mechanic"?3:5)(C,k),O=async()=>{const F=await fetch(Yt("/api/objects/upload"),{method:"POST",credentials:"include"});if(!F.ok){const Me=await F.text();throw new Error(Me||`Upload init failed (${F.status})`)}const ve=await F.json();if(!(ve!=null&&ve.uploadURL))throw new Error("Upload init failed: missing upload URL");return{method:"PUT",url:ve.uploadURL}},$=async F=>{var ve,Me,et;try{const se=(F==null?void 0:F.successful)??[],je=(F==null?void 0:F.failed)??[],Oe=he=>{var Ye,st,kt,Lt,Rt,Is,Qt,re,D,H,ee,De,Ee,Se,Ke;const ye=[he==null?void 0:he.uploadURL,(Ye=he==null?void 0:he.response)==null?void 0:Ye.uploadURL,(st=he==null?void 0:he.response)==null?void 0:st.url,(kt=he==null?void 0:he.response)==null?void 0:kt.location,(Rt=(Lt=he==null?void 0:he.response)==null?void 0:Lt.body)==null?void 0:Rt.uploadURL,(Qt=(Is=he==null?void 0:he.response)==null?void 0:Is.body)==null?void 0:Qt.url,(D=(re=he==null?void 0:he.response)==null?void 0:re.body)==null?void 0:D.location,(ee=(H=he==null?void 0:he.response)==null?void 0:H.data)==null?void 0:ee.uploadURL,(Ee=(De=he==null?void 0:he.response)==null?void 0:De.data)==null?void 0:Ee.url,(Ke=(Se=he==null?void 0:he.response)==null?void 0:Se.data)==null?void 0:Ke.location].filter(Boolean)[0];return ye?ye.split("?")[0]:void 0},ne=[];for(const he of se){const Fe=Oe(he);if(Fe){try{await fetch(Yt("/api/listing-images"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageURL:Fe}),credentials:"include"})}catch(ye){console.warn("ACL update failed, continuing:",ye)}ne.push(Fe)}}if(ne.length>0){const he=[...r,...ne].filter((Fe,ye,Ye)=>Ye.indexOf(Fe)===ye);i(he),e({title:"Images Uploaded Successfully",description:`Added ${ne.length} image(s) to your listing.`});return}if(je.length>0){const he=((ve=je[0])==null?void 0:ve.error)||((et=(Me=je[0])==null?void 0:Me.response)==null?void 0:et.error);e({title:"Upload Error",description:(he==null?void 0:he.message)||"Some images failed to upload. Please try again.",variant:"destructive"});return}e({title:"No Images Added",description:"We couldn't detect any completed uploads. Please try again and ensure you click Upload.",variant:"destructive"})}catch(se){console.error("Error processing uploads:",se),e({title:"Upload Error",description:"Some images failed to upload. Please try again.",variant:"destructive"})}},J=F=>{i(r.filter((ve,Me)=>Me!==F))},Y=F=>c(F),q=F=>F.preventDefault(),de=F=>{if(l===null||l===F)return;const ve=[...r],[Me]=ve.splice(l,1);ve.splice(F,0,Me),i(ve),c(null)};p.useEffect(()=>{if(r.length>A){const F=r.slice(0,A);i(F),e({title:"Images Trimmed",description:`Reduced to ${A} images for this ${C==="aircraft-sale"?"tier":"category"}.`})}},[C,k,A,r,e]),n!=null&&n.isVerified;const xe=async()=>{if(!d.trim()){m(null);return}j(!0);try{const ve=await(await fetch(Yt("/api/promo-codes/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:d,category:C})})).json();m(ve.valid),ve.valid?e({title:"Promo Code Applied!",description:ve.description||"You've unlocked a free 7-day listing!"}):e({title:"Invalid Promo Code",description:ve.message||"This promo code is not valid",variant:"destructive"})}catch{m(!1),e({title:"Error",description:"Failed to validate promo code",variant:"destructive"})}finally{j(!1)}},z=Ie({mutationFn:async({listingType:F,details:ve})=>{const et=await(await Te("POST","/api/generate-description",{listingType:F,details:ve})).json();return console.log("AI Response received:",et),et},onSuccess:F=>{console.log("Setting description to:",F.description),S.setValue("description",F.description,{shouldValidate:!0,shouldDirty:!0}),e({title:"Description Generated",description:"AI-generated description added. Feel free to customize it!"})},onError:F=>{e({title:"Generation Failed",description:F.message||"Could not generate description",variant:"destructive"})}}),R=()=>{const F=S.getValues();if(!F.category){e({title:"Category Required",description:"Please select a category first.",variant:"destructive"});return}const ve=g.trim()||F.title;if(!ve){e({title:"Prompt Required",description:"Please enter either a title or an AI prompt.",variant:"destructive"});return}const et={"aircraft-sale":"aircraft-sale",job:"aviation-job",cfi:"cfi-listing","flight-school":"flight-school",mechanic:"mechanic",charter:"charter"}[F.category];z.mutate({listingType:et,details:{title:ve,price:F.price,location:F.location,...F.details}})},Q=Ie({mutationFn:async F=>f&&w?await Te("PATCH",`/api/marketplace/${w}`,F):await Te("POST","/api/marketplace",F),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/marketplace"]}),w&&Le.invalidateQueries({queryKey:["/api/marketplace",w]}),e({title:"Success",description:f?"Your marketplace listing has been updated.":"Your marketplace listing has been created."}),t(f?"/my-listings":"/marketplace")},onError:F=>{if(m$(F)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}if(F.message.includes("403")||F.message.includes("verification")){e({title:"Verification Required",description:"Please complete account verification to create listings.",variant:"destructive"}),setTimeout(()=>{t("/profile")},1e3);return}e({title:"Error",description:F.message||"Failed to create listing",variant:"destructive"})}}),ue=F=>{var et,se,je,Oe,ne,he,Fe,ye,Ye,st;console.log("Form submitted with data:",F),console.log("Form errors:",S.formState.errors),console.log("User data:",n);let ve=null;if(F.category==="aircraft-sale"?(!((et=F.details)!=null&&et.make)||!((se=F.details)!=null&&se.model)||!((je=F.details)!=null&&je.year))&&(ve="Please fill in all required aircraft details (make, model, year)"):F.category==="job"?(!((Oe=F.details)!=null&&Oe.jobTitle)||!((ne=F.details)!=null&&ne.company)||!((he=F.details)!=null&&he.employmentType))&&(ve="Please fill in all required job details (title, company, employment type)"):F.category==="cfi"?(Fe=F.details)!=null&&Fe.instructorName||(ve="Please provide instructor name"):F.category==="flight-school"?(ye=F.details)!=null&&ye.schoolName||(ve="Please provide school name"):F.category==="mechanic"?(Ye=F.details)!=null&&Ye.businessName||(ve="Please provide business name"):F.category==="charter"&&((st=F.details)!=null&&st.companyName||(ve="Please provide company name")),ve){e({title:"Validation Error",description:ve,variant:"destructive"});return}if(r.length>A){e({title:"Too Many Images",description:`Please reduce to ${A} images for this ${F.category==="aircraft-sale"?"tier":"category"}.`,variant:"destructive"});return}if(f&&w){console.log("Updating existing listing..."),Q.mutate({...F,price:F.price||void 0,images:r.length>0?r:[]});return}const Me={...F,price:F.price||void 0,images:r.length>0?r:[],promoCode:h?d:void 0};localStorage.setItem("pendingListingData",JSON.stringify(Me)),t("/marketplace/listing/checkout")};return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(M,{variant:"ghost",onClick:()=>t("/marketplace"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Fg,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-page-title",children:f?"Edit Marketplace Listing":"Create Marketplace Listing"}),s.jsx("p",{className:"text-muted-foreground",children:f?"Update your listing details below":"List your services, aircraft for sale, job openings, or other aviation-related offerings"})]}),s.jsx(Jr,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit(ue,F=>{console.error("Form validation errors:",F);const ve=Object.keys(F)[0],Me=F[ve];Me&&typeof Me=="object"&&"message"in Me&&e({title:"Form Validation Error",description:String(Me.message)||"Please check all required fields",variant:"destructive"})}),className:"space-y-6",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Basic Information"}),s.jsx(Ne,{children:"Choose a category and provide details about your listing"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"category",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Category"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-category",children:s.jsx(ys,{placeholder:"Select a category"})})}),s.jsx(ds,{children:rae.map(ve=>s.jsx(_e,{value:ve.value,children:ve.label},ve.value))})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"title",render:({field:F})=>{const ve={"aircraft-sale":"e.g., 2018 Cessna 172 Skyhawk - Low Time",job:"e.g., Commercial Pilot - Regional Airline",cfi:"e.g., Experienced CFI - Instrument & Multi-Engine","flight-school":"e.g., ABC Flight Academy - Professional Pilot Training",mechanic:"e.g., Certified A&P Mechanic - Aircraft Maintenance",charter:"e.g., Luxury Charter Services - Citation Jet"};return s.jsxs(oe,{children:[s.jsx(le,{children:"Title"}),s.jsx(me,{children:s.jsx(B,{placeholder:ve[C]||"Enter a descriptive title",...F,"data-testid":"input-title"})}),s.jsx(pe,{})]})}}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"ai-prompt",children:"AI Prompt (Optional)"}),s.jsx(B,{id:"ai-prompt",placeholder:"e.g., Describe a well-maintained Cessna 172 with recent avionics upgrade",value:g,onChange:F=>v(F.target.value),"data-testid":"input-ai-prompt"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide specific details for AI to generate a description, or leave blank to use the title"})]}),s.jsx(ce,{control:S.control,name:"description",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Provide detailed information about your listing...",className:"min-h-[120px]",...F,"data-testid":"textarea-description"})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx($s,{className:"flex-1",children:"Include all relevant details potential customers should know"}),s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:R,disabled:z.isPending,"data-testid":"button-generate-description",className:"shrink-0",children:z.isPending?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(pD,{className:"w-4 h-4 mr-2"}),"Generate with AI"]})})]}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ce,{control:S.control,name:"city",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"City (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., Denver",...F,"data-testid":"input-city"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"state",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"State (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., CO",...F,"data-testid":"input-state"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"zipCode",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"ZIP Code (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 80202",...F,"data-testid":"input-zipcode"})}),s.jsx(pe,{})]})})]}),C==="aircraft-sale"&&s.jsx(ce,{control:S.control,name:"price",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Asking Price (Optional)"}),s.jsx(me,{children:s.jsxs("div",{className:"relative",children:[s.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{type:"number",placeholder:"0.00",className:"pl-10",...F,"data-testid":"input-price"})]})}),s.jsx($s,{children:"Leave blank if price varies or negotiable"}),s.jsx(pe,{})]})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Contact Information"}),s.jsx(Ne,{children:"How should interested parties reach you?"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"contactEmail",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Contact Email"}),s.jsx(me,{children:s.jsx(B,{type:"email",placeholder:"your@email.com",...F,"data-testid":"input-contact-email"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"contactPhone",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Contact Phone (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"(555) 123-4567",...F,"data-testid":"input-contact-phone"})}),s.jsx(pe,{})]})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Promo Code (Optional)"}),s.jsx(Ne,{children:"Enter a promo code for a free 7-day listing or other discounts"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{placeholder:"Enter promo code",value:d,onChange:F=>{u(F.target.value.toUpperCase()),m(null)},"data-testid":"input-promo-code",className:"flex-1"}),s.jsx(M,{type:"button",onClick:xe,disabled:!d.trim()||x,"data-testid":"button-check-promo",children:x?"Checking...":"Apply"})]}),h===!0&&s.jsx("div",{className:"mt-2 text-sm text-chart-2 flex items-center gap-1",children:" Promo code applied! Your listing is free for 7 days."}),h===!1&&s.jsx("div",{className:"mt-2 text-sm text-destructive flex items-center gap-1",children:" Invalid promo code"})]})]}),C&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Photos"}),s.jsxs(Ne,{children:["Upload up to ",A," ",A===1?"photo":"photos",C==="aircraft-sale"?` (${k||"basic"} tier)`:"",C==="job"&&" - Company logo or branding",C==="cfi"&&" - Professional headshot"]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.map((F,ve)=>s.jsxs("div",{className:"relative aspect-square rounded-md border overflow-hidden group select-none",draggable:!0,onDragStart:()=>Y(ve),onDragOver:q,onDrop:()=>de(ve),title:"Drag to reorder",children:[s.jsx("img",{src:F,alt:`Upload ${ve+1}`,className:"w-full h-full object-cover"}),s.jsx(M,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>J(ve),"data-testid":`button-remove-image-${ve}`,children:s.jsx(fp,{className:"h-3 w-3"})})]},ve)),r.length<A&&s.jsxs(Gx,{maxNumberOfFiles:A-r.length,maxFileSize:10*1024*1024,onGetUploadParameters:O,onComplete:$,onError:F=>o(F),buttonClassName:"aspect-square rounded-md border-2 border-dashed flex flex-col items-center justify-center w-full h-full",buttonVariant:"ghost",children:[s.jsx(pp,{className:"h-8 w-8 text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload"})]})]}),a&&s.jsx("div",{className:"text-xs text-destructive mt-2",children:a}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.length," of ",A," photos uploaded",C==="aircraft-sale"&&k&&s.jsx("span",{className:"ml-2 text-accent",children:"(Upgrade tier for more photos)"})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Tip: drag photos to reorder. First photo appears as the primary."})]})]}),C==="aircraft-sale"&&s.jsxs(s.Fragment,{children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Aircraft Details"}),s.jsx(Ne,{children:"Specific information about the aircraft for sale"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.make",render:({field:F})=>s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-1",children:["Make ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., Cessna",...F,"data-testid":"input-aircraft-make",required:!0})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.model",render:({field:F})=>s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-1",children:["Model ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 172 Skyhawk",...F,"data-testid":"input-aircraft-model",required:!0})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.year",render:({field:F})=>s.jsxs(oe,{children:[s.jsxs(le,{className:"flex items-center gap-1",children:["Year ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 2018",...F,"data-testid":"input-aircraft-year",required:!0})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.registration",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Registration (N-Number)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., N12345",...F,"data-testid":"input-aircraft-registration"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.totalTime",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Total Time (hours)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 3500",...F,"data-testid":"input-aircraft-total-time"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.engineTime",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Engine Time (hours)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 500 SMOH",...F,"data-testid":"input-aircraft-engine-time"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.engineType",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Engine Type"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-aircraft-engine-type",children:s.jsx(ys,{placeholder:"Select engine type"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"Single-Engine",children:"Single-Engine"}),s.jsx(_e,{value:"Multi-Engine",children:"Multi-Engine"}),s.jsx(_e,{value:"Turboprop",children:"Turboprop"}),s.jsx(_e,{value:"Jet",children:"Jet"})]})]}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.seats",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Number of Seats"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 4",...F,"data-testid":"input-aircraft-seats"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.usefulLoad",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Useful Load (lbs)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 1,200",...F,"data-testid":"input-aircraft-useful-load"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.avionicsPackage",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Avionics Package"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., Garmin G1000, dual GNS 430",...F,"data-testid":"input-aircraft-avionics"})}),s.jsx($s,{className:"text-xs",children:"Describe GPS, radios, autopilot, and other avionics"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.annualDue",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Annual Due Date"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., 12/2025",type:"month",...F,"data-testid":"input-aircraft-annual-due"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.interiorCondition",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Interior Condition"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-interior-condition",children:s.jsx(ys,{placeholder:"Select condition"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"excellent",children:"Excellent"}),s.jsx(_e,{value:"good",children:"Good"}),s.jsx(_e,{value:"fair",children:"Fair"}),s.jsx(_e,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.exteriorCondition",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Exterior/Paint Condition"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-exterior-condition",children:s.jsx(ys,{placeholder:"Select condition"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"excellent",children:"Excellent"}),s.jsx(_e,{value:"good",children:"Good"}),s.jsx(_e,{value:"fair",children:"Fair"}),s.jsx(_e,{value:"needs-work",children:"Needs Work"})]})]}),s.jsx(pe,{})]})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(ce,{control:S.control,name:"details.damageHistory",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Damage History"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., None, or describe any incidents",...F,"data-testid":"input-aircraft-damage-history"})}),s.jsx($s,{className:"text-xs",children:"Disclose any accident/incident history or major repairs"}),s.jsx(pe,{})]})})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Listing Tier"}),s.jsx(Ne,{children:"Choose your listing package"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"tier",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Select Tier"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-listing-tier",children:s.jsx(ys,{placeholder:"Select a tier"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"basic",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Basic - $25/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 3 photos"})]})}),s.jsx(_e,{value:"standard",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Standard - $40/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 5 photos, priority placement"})]})}),s.jsx(_e,{value:"premium",children:s.jsxs("div",{className:"flex flex-col py-1",children:[s.jsx("span",{className:"font-semibold",children:"Premium - $100/month"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"30-day listing, up to 10 photos, featured on homepage"})]})})]})]}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tier Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Basic: Standard listing visibility"}),s.jsx("li",{children:"Standard: 2x visibility, priority in search results"}),s.jsx("li",{children:"Premium: 5x visibility, homepage feature, social media promotion"})]})]})]})]})]}),C==="job"&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Job Details"}),s.jsx(Ne,{children:"Information about the aviation job opening"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.jobTitle",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Job Title"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., Commercial Pilot",...F,"data-testid":"input-job-title"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.company",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Company"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., ABC Airlines",...F,"data-testid":"input-job-company"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ce,{control:S.control,name:"details.employmentType",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Employment Type"}),s.jsxs(gs,{onValueChange:F.onChange,defaultValue:F.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-employment-type",children:s.jsx(ys,{placeholder:"Select type"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"full-time",children:"Full-time"}),s.jsx(_e,{value:"part-time",children:"Part-time"}),s.jsx(_e,{value:"contract",children:"Contract"}),s.jsx(_e,{value:"temporary",children:"Temporary"})]})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.salaryRange",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Salary Range (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., $60k-$80k",...F,"data-testid":"input-salary-range"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:S.control,name:"details.requirements",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Requirements (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"List qualifications and requirements...",className:"min-h-[80px]",...F,"data-testid":"textarea-job-requirements"})}),s.jsx(pe,{})]})})]})]}),C==="cfi"&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"CFI Details"}),s.jsx(Ne,{children:"Information about your flight instruction services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"details.instructorName",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Instructor Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Your name",...F,"data-testid":"input-instructor-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.hourlyRate",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Hourly Rate (Optional)"}),s.jsx(me,{children:s.jsxs("div",{className:"relative",children:[s.jsx(xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{type:"number",placeholder:"0.00",className:"pl-10",...F,"data-testid":"input-cfi-hourly-rate"})]})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.specialties",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Specialties (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"e.g., Instrument training, tailwheel, aerobatics...",className:"min-h-[80px]",...F,"data-testid":"textarea-cfi-specialties"})}),s.jsx(pe,{})]})})]})]}),C==="flight-school"&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Flight School Details"}),s.jsx(Ne,{children:"Information about your flight school"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"details.schoolName",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"School Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., ABC Flight Academy",...F,"data-testid":"input-school-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.aircraftFleet",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Aircraft Fleet (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"List your training aircraft...",className:"min-h-[80px]",...F,"data-testid":"textarea-aircraft-fleet"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.programsOffered",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Programs Offered (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"e.g., Private Pilot, Instrument Rating, Commercial...",className:"min-h-[80px]",...F,"data-testid":"textarea-programs-offered"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.pricingInfo",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Pricing Information (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Describe your pricing structure...",className:"min-h-[80px]",...F,"data-testid":"textarea-pricing-info"})}),s.jsx(pe,{})]})})]})]}),C==="mechanic"&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Mechanic Services"}),s.jsx(Ne,{children:"Information about your aviation maintenance services"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"details.businessName",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Business Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., ABC Aviation Maintenance",...F,"data-testid":"input-business-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.specialties",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Specialties (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"e.g., Piston engines, avionics, annuals...",className:"min-h-[80px]",...F,"data-testid":"textarea-mechanic-specialties"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.serviceArea",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Service Area (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., Southern California",...F,"data-testid":"input-service-area"})}),s.jsx(pe,{})]})})]})]}),C==="charter"&&s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Charter Services"}),s.jsx(Ne,{children:"Information about your charter operation"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx(ce,{control:S.control,name:"details.companyName",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Company Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., ABC Charter Services",...F,"data-testid":"input-charter-company-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.aircraftAvailable",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Aircraft Available (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"List your charter aircraft...",className:"min-h-[80px]",...F,"data-testid":"textarea-charter-aircraft"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.serviceArea",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Service Area (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"e.g., West Coast, USA",...F,"data-testid":"input-charter-service-area"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:S.control,name:"details.pricingStructure",render:({field:F})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Pricing Structure (Optional)"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Describe your charter rates...",className:"min-h-[80px]",...F,"data-testid":"textarea-charter-pricing"})}),s.jsx(pe,{})]})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(M,{type:"submit",size:"lg",className:"flex-1 bg-accent text-accent-foreground hover:bg-accent",disabled:Q.isPending||f&&P,"data-testid":"button-submit-listing",children:P?"Loading...":Q.isPending?f?"Updating...":"Creating...":f?"Update Listing":"Create Listing"}),s.jsx(M,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/marketplace"),"data-testid":"button-cancel",children:"Cancel"})]})]})})]})}const iae={"aircraft-sale":{basic:25,standard:40,premium:100},charter:250,cfi:30,"flight-school":250,mechanic:40,job:40},Tc=.0825,Qu=(t,e)=>{const n=iae[t];return typeof n=="object"&&e?n[e]||n.basic||25:typeof n=="number"?n:25},aae=({listingData:t,onSuccess:e,isFree:n,promoCode:r,discountAmount:i,originalAmount:a,finalAmount:o,completionToken:l,isUpgradeMode:c,upgradeContext:d})=>{const{toast:u}=Ot(),[h,m]=p.useState(!1),[x,j]=p.useState(!1),[g,v]=p.useState(null),f=p.useRef(null);p.useEffect(()=>{fetch("/api/paypal/config").then(N=>N.json()).then(N=>v(N)).catch(N=>{console.error("Failed to fetch PayPal config:",N),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),p.useEffect(()=>{if(!g)return;const N=async()=>{if(window.paypal){P();return}const S=document.createElement("script");S.src=`https://www.paypal.com/sdk/js?client-id=${g.clientId}&components=card-fields&disable-funding=paylater`,S.async=!0,S.onload=()=>{P()},S.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(S)},P=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const S=window.paypal.CardFields({createOrder:async()=>{const C=c?"/api/paypal/create-order-upgrade":"/api/paypal/create-order-listing",k=c?{listingId:d.listingId,newTier:d.newTier}:{category:t.category,tier:t.tier,promoCode:r||null,discountAmount:i?i.toString():null,finalAmount:o?o.toString():null};return(await(await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(k)})).json()).id},onApprove:async C=>{m(!0);try{const k=await fetch(`/api/paypal/capture-order/${C.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),I=await k.json();if(!k.ok||I.status!=="COMPLETED")throw new Error("Payment capture failed");u({title:"Payment Successful",description:"Your listing is being created!"});const A={...t,transactionId:C.orderID};localStorage.setItem("pendingListingData",JSON.stringify(A)),e(C.orderID)}catch(k){u({title:"Payment Failed",description:k.message||"An unexpected error occurred",variant:"destructive"}),m(!1)}},onError:C=>{console.error("PayPal error:",C),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),m(!1)}});S.isEligible()?(S.NumberField().render("#card-number-field"),S.ExpiryField().render("#card-expiry-field"),S.CVVField().render("#card-cvv-field"),S.NameField().render("#card-name-field"),f.current=S,j(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(S){console.error("Error initializing card fields:",S),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};N()},[g,t.category,t.tier]);const b=async N=>{if(N.preventDefault(),!!f.current){m(!0);try{await f.current.submit()}catch(P){u({title:"Payment failed",description:P.message||"Please check your card details and try again",variant:"destructive"}),m(!1)}}},w=async()=>{m(!0);try{const N=await Te("POST","/api/marketplace/complete-free-listing",{completionToken:l,listingData:t});u({title:"Success",description:"Your free listing has been created!"}),e("FREE-ORDER")}catch(N){u({title:"Failed to create listing",description:N.message||"An unexpected error occurred",variant:"destructive"})}finally{m(!1)}};return n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-800 dark:text-green-200 font-medium",children:" 100% Discount Applied!"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Your listing is completely free with the applied promo code."})]}),s.jsx(M,{onClick:w,size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:h,"data-testid":"button-claim-free-listing",children:h?"Creating Listing...":"Claim Free Listing"})]}):s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(M,{type:"submit",size:"lg",className:"w-full bg-accent text-accent-foreground hover:bg-accent",disabled:!x||h,"data-testid":"button-confirm-payment",children:h?"Processing...":"Confirm Payment"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})};function oae(){var z;const[t,e]=an(),[,n]=cp("/marketplace/listing/checkout"),[r,i]=p.useState(null),[a,o]=p.useState(!1),[l,c]=p.useState(null),{toast:d}=Ot(),[u,h]=p.useState(""),[m,x]=p.useState(null),[j,g]=p.useState(!1),[v,f]=p.useState(""),[b,w]=p.useState(0),[N,P]=p.useState(0),[S,C]=p.useState(null),[k,I]=p.useState(!1),[A,O]=p.useState(null);p.useEffect(()=>{if(new URLSearchParams(window.location.search).get("mode")==="upgrade"){o(!0);const ue=localStorage.getItem("upgradeContext");if(!ue){d({title:"Error",description:"No upgrade data found. Please try again.",variant:"destructive"}),e("/my-listings");return}const F=JSON.parse(ue);c(F),P(F.totalWithTax)}else{const ue=localStorage.getItem("pendingListingData");if(!ue){d({title:"Error",description:"No listing data found. Please try again.",variant:"destructive"}),e("/create-marketplace-listing");return}const F=JSON.parse(ue);i(F)}},[e,d]),p.useEffect(()=>{if(a||!r)return;const R=localStorage.getItem("adminFreeListingGrant");if(R)try{const Q=JSON.parse(R);if(!(Q!=null&&Q.token))return;const ue=Qu(r.category,r.tier),F=ue*Tc,ve=ue+F;O(Q),C(Q.token),x({code:"ADMIN-FREE",description:`Admin free listing (${Q.durationDays||30} days)`,discountType:"fixed",discountValue:ve.toString()}),h("ADMIN-FREE"),w(ve),P(0),I(!0)}catch(Q){console.error("Failed to apply admin free grant:",Q)}},[a,r]),p.useEffect(()=>{r!=null&&r.promoCode&&!m&&!k&&(J(r.promoCode),I(!0))},[r==null?void 0:r.promoCode,m,k]);const $=async R=>{if(a&&l){try{await Te("POST",`/api/marketplace/${l.listingId}/complete-upgrade`,{orderId:R,newTier:l.newTier}),localStorage.removeItem("upgradeContext"),Le.invalidateQueries({queryKey:["/api/marketplace"]}),Le.invalidateQueries({queryKey:["/api/marketplace",l.listingId]}),d({title:"Upgrade Successful",description:"Your listing has been upgraded to "+l.newTier+" tier!"}),e("/my-listings")}catch(Q){d({title:"Upgrade Failed",description:Q.message||"Could not complete upgrade. Please contact support.",variant:"destructive"})}return}if(!(!r||!R)){if(R==="FREE-ORDER"){localStorage.removeItem("pendingListingData"),localStorage.removeItem("adminFreeListingGrant"),O(null),Le.invalidateQueries({queryKey:["/api/marketplace"]}),e("/marketplace");return}try{const Q=Qu(r.category,r.tier),ue=Q*Tc,F=Q+ue,ve={...r,paymentIntentId:R,promoCodeUsed:(m==null?void 0:m.code)||null,discountAmount:b.toString(),originalAmount:F.toString(),finalAmount:(N||F).toString()};await Te("POST","/api/marketplace",ve),localStorage.removeItem("pendingListingData"),Le.invalidateQueries({queryKey:["/api/marketplace"]}),d({title:"Success",description:"Your marketplace listing has been created!"}),e("/marketplace")}catch(Q){d({title:"Listing Creation Failed",description:Q.message||"Could not create listing. Please contact support.",variant:"destructive"})}}},J=async R=>{if(g(!0),f(""),A){f("Admin free grant is applied. Remove it before adding another code."),g(!1);return}if(!r&&!l){f("Listing details not loaded yet"),g(!1);return}const Q=(R??u).trim();if(!Q){f("Please enter a promo code"),g(!1);return}const ue=Q.toUpperCase();h(ue);try{const F=Qu(r.category,r.tier),ve=F*Tc,Me=F+ve,se=await(await fetch("/api/promo-codes/validate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:ue,context:"marketplace",amount:Me})})).json();if(!se.valid)throw new Error(se.message||"Invalid promo code");x(se);let je=0;se.discountType==="percentage"?je=Me*parseFloat(se.discountValue)/100:se.discountType==="fixed"&&(je=parseFloat(se.discountValue)),w(je);const Oe=Math.max(0,Me-je);P(Oe),d({title:"Promo Code Applied",description:se.description||"Discount applied successfully!"})}catch(F){f(F.message)}finally{g(!1)}},Y=()=>{x(null),h(""),w(0),P(0),f(""),C(null),A&&(O(null),localStorage.removeItem("adminFreeListingGrant"))};if(p.useEffect(()=>{if(!A&&m&&N===0&&r){const R=Qu(r.category,r.tier),Q=R*Tc,ue=R+Q,F={type:"free-marketplace-listing",userId:"CURRENT_USER",promoCode:m.code,originalAmount:ue.toString(),discountAmount:b.toString(),timestamp:Date.now()},ve=btoa(JSON.stringify(F));C(ve)}},[m,N,b,r]),!r&&!l)return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})});let q,de,xe;if(a&&l)q=l.upgradeDelta,de=q*Tc,xe=l.totalWithTax;else if(r)q=Qu(r.category,r.tier),de=q*Tc,xe=q+de;else return null;return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs(M,{variant:"ghost",onClick:()=>e(a?"/my-listings":"/create-marketplace-listing"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Fg,{className:"mr-2 h-4 w-4"}),a?"Back to My Listings":"Back to Listing"]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"flex items-center gap-2",children:a?"Complete Upgrade Payment":"Complete Your Payment"}),s.jsx(Ne,{children:"Secure payment powered by PayPal"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:a?"Upgrade Summary":"Order Summary"}),a&&l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing:"}),s.jsx("span",{className:"font-medium",children:l.listingTitle})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Current Tier:"}),s.jsx("span",{className:"capitalize",children:l.currentTier})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"New Tier:"}),s.jsx("span",{className:"capitalize font-medium text-primary",children:l.newTier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Upgrade Fee:"}),s.jsxs("span",{children:["$",q.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",xe.toFixed(2)]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Listing Type:"}),s.jsx("span",{className:"capitalize",children:(z=r==null?void 0:r.category)==null?void 0:z.replace("-"," ")})]}),(r==null?void 0:r.tier)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tier:"}),s.jsx("span",{className:"capitalize",children:r.tier})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{children:"Base Price:"}),s.jsxs("span",{children:["$",q.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Sales Tax (8.25%):"}),s.jsxs("span",{children:["$",de.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total (Monthly):"}),s.jsxs("span",{children:["$",xe.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Promo Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{placeholder:"Enter promo code",value:u,onChange:R=>h(R.target.value.toUpperCase()),disabled:m!==null||A!==null,"data-testid":"input-promo-code"}),m?s.jsx(M,{variant:"outline",onClick:Y,"data-testid":"button-remove-promo",children:"Remove"}):s.jsx(M,{onClick:()=>J(),disabled:!u||j,"data-testid":"button-apply-promo",children:j?"Applying...":"Apply"})]}),m&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:['Promo code "',m.code,'" applied! ',m.description]}),A&&s.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:["Admin free grant active (",A.durationDays||30," days). Checkout will publish without payment."]}),v&&s.jsx("div",{className:"text-sm text-destructive",children:v})]}),m&&s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Original Total:"}),s.jsxs("span",{className:"line-through",children:["$",xe.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",b.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Final Total:"}),s.jsxs("span",{children:["$",N.toFixed(2)]})]})]}),s.jsx(aae,{listingData:r||{},onSuccess:$,isFree:m!==null&&N===0,promoCode:(m==null?void 0:m.code)||null,discountAmount:b,originalAmount:xe,finalAmount:N||xe,completionToken:S,isUpgradeMode:a,upgradeContext:l}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your payment information is securely processed by PayPal. We never store your card details."})]})]})]})}function lae({rental:t,aircraft:e,onSuccess:n}){const[r,i]=p.useState(!1),[a,o]=p.useState(!1),[l,c]=p.useState(null),d=p.useRef(null),{toast:u}=Ot();p.useEffect(()=>{fetch("/api/paypal/config").then(m=>m.json()).then(m=>c(m)).catch(m=>{console.error("Failed to fetch PayPal config:",m),u({title:"Error",description:"Failed to load payment configuration",variant:"destructive"})})},[]),p.useEffect(()=>{if(!l)return;const m=async()=>{if(window.paypal){x();return}const j=document.createElement("script");j.src=`https://www.paypal.com/sdk/js?client-id=${l.clientId}&components=card-fields&disable-funding=paylater`,j.async=!0,j.onload=()=>{x()},j.onerror=()=>{u({title:"Error",description:"Failed to load PayPal SDK",variant:"destructive"})},document.head.appendChild(j)},x=async()=>{if(!window.paypal||!window.paypal.CardFields){console.error("PayPal CardFields not available");return}try{const j=window.paypal.CardFields({createOrder:async()=>(await(await fetch("/api/paypal/create-order-rental",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:parseFloat(t.totalCostRenter),rentalId:t.id})})).json()).id,onApprove:async g=>{i(!0);try{const v=await fetch(`/api/paypal/capture-order/${g.orderID}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),f=await v.json();if(!v.ok||f.status!=="COMPLETED")throw new Error("Payment capture failed");if(!(await fetch(`/api/rentals/${t.id}/complete-payment`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({transactionId:g.orderID})})).ok)throw new Error("Failed to complete rental");u({title:"Payment successful!",description:"Your rental is now active. Safe flying!"}),n()}catch(v){u({title:"Payment failed",description:v.message||"Please try again",variant:"destructive"}),i(!1)}},onError:g=>{console.error("PayPal error:",g),u({title:"Payment error",description:"Please check your card details and try again",variant:"destructive"}),i(!1)}});j.isEligible()?(j.NumberField().render("#card-number-field"),j.ExpiryField().render("#card-expiry-field"),j.CVVField().render("#card-cvv-field"),j.NameField().render("#card-name-field"),d.current=j,o(!0)):u({title:"Payment unavailable",description:"Card payments are not available at this time",variant:"destructive"})}catch(j){console.error("Error initializing card fields:",j),u({title:"Error",description:"Failed to initialize payment form",variant:"destructive"})}};m()},[l,t.id,t.totalCostRenter]);const h=async m=>{if(m.preventDefault(),!!d.current){i(!0);try{await d.current.submit()}catch(x){u({title:"Payment failed",description:x.message||"Please check your card details and try again",variant:"destructive"}),i(!1)}}};return s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-name-field",className:"block text-sm font-medium mb-2",children:"Cardholder Name"}),s.jsx("div",{id:"card-name-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-number-field",className:"block text-sm font-medium mb-2",children:"Card Number"}),s.jsx("div",{id:"card-number-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-expiry-field",className:"block text-sm font-medium mb-2",children:"Expiration Date"}),s.jsx("div",{id:"card-expiry-field",className:"border rounded-md p-3 min-h-[44px]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card-cvv-field",className:"block text-sm font-medium mb-2",children:"CVV"}),s.jsx("div",{id:"card-cvv-field",className:"border rounded-md p-3 min-h-[44px]"})]})]})]}),s.jsx(M,{type:"submit",disabled:!a||r,className:"w-full bg-accent text-accent-foreground hover:bg-accent",size:"lg","data-testid":"button-submit-payment",children:r?"Processing...":`Pay $${parseFloat(t.totalCostRenter).toFixed(2)}`}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[" Secure payments processed by ",s.jsx("span",{className:"font-semibold",children:"PayPal Business"})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-1",children:"Your payment information is encrypted and never stored on our servers"})]})]})}function cae(){const[,t]=cp("/rental-payment/:id"),[,e]=an();Ot();const{data:n}=We({queryKey:["/api/rentals",t==null?void 0:t.id],queryFn:async()=>{const i=await fetch(`/api/rentals/${t==null?void 0:t.id}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch rental");return i.json()},enabled:!!(t!=null&&t.id)}),{data:r}=We({queryKey:["/api/aircraft",n==null?void 0:n.aircraftId],queryFn:async()=>{const i=await fetch(`/api/aircraft/${n==null?void 0:n.aircraftId}`,{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch aircraft");return i.json()},enabled:!!(n!=null&&n.aircraftId)});return!n||!r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading rental details..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h1",{className:"font-display text-4xl font-bold mb-8","data-testid":"text-payment-title",children:"Complete Your Rental Payment"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Rental Summary"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[r.year," ",r.make," ",r.model]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.registration})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pl,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm",children:[parseFloat(n.estimatedHours)," estimated flight hours"]})})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Base cost"}),s.jsxs("span",{children:["$",parseFloat(n.baseCost).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Sales tax (8.25%)"}),s.jsxs("span",{children:["$",parseFloat(n.salesTax).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Platform fee (7.5%)"}),s.jsxs("span",{children:["$",parseFloat(n.platformFeeRenter).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Processing fee (3%)"}),s.jsxs("span",{children:["$",parseFloat(n.processingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",parseFloat(n.totalCostRenter).toFixed(2)]})]})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{children:"Payment Information"})}),s.jsx(U,{children:s.jsx(lae,{rental:n,aircraft:r,onSuccess:()=>e("/dashboard")})})]})]})]})})})}const dae=40,uae={"1month":{label:"1 Month",months:1,monthlyRate:75,totalPrice:75,description:"Entry-level, test water"},"3months":{label:"3 Months",months:3,monthlyRate:60,totalPrice:180,description:"Most purchased",badge:"Popular"},"6months":{label:"6 Months",months:6,monthlyRate:50,totalPrice:300,description:"Best long-term value",badge:"Best Value"},"12months":{label:"12 Months",months:12,monthlyRate:45,totalPrice:540,description:"Commitment tier"}};function Xu(t,e=!0){const n=uae[t],r=n.totalPrice,i=e?dae:0,a=r+i;return{tier:t,monthlyRate:n.monthlyRate,months:n.months,subscriptionTotal:r,creationFee:i,grandTotal:a,label:n.label,description:n.description,badge:"badge"in n?n.badge:void 0}}const hae={LAUNCH2025:{code:"LAUNCH2025",description:"Launch promotion - Free ad creation + 20% off subscription",creationFeeDiscount:100,subscriptionDiscount:20,isPercentage:!0,validFrom:new Date("2025-01-01"),validUntil:null,isActive:!0}};function X6(t){const e=t.trim().toUpperCase(),n=hae[e];if(!n||!n.isActive)return null;const r=new Date;return r<n.validFrom||n.validUntil&&r>n.validUntil?null:n}function $k(t,e,n){if(!n)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};const r=X6(n);if(!r)return{creationFeeDiscount:0,subscriptionDiscount:0,totalDiscount:0,finalCreationFee:t,finalSubscriptionTotal:e,finalGrandTotal:t+e};let i=0;r.isPercentage?i=t*r.creationFeeDiscount/100:i=Math.min(r.creationFeeDiscount,t);let a=0;r.isPercentage?a=e*r.subscriptionDiscount/100:a=Math.min(r.subscriptionDiscount,e);const o=i+a,l=t-i,c=e-a,d=l+c;return{creationFeeDiscount:i,subscriptionDiscount:a,totalDiscount:o,finalCreationFee:l,finalSubscriptionTotal:c,finalGrandTotal:d}}function mae({userId:t,open:e,onOpenChange:n}){var xe,z;const[r,i]=p.useState("profile"),[a,o]=p.useState(null),[l,c]=p.useState(null),[d,u]=p.useState(!1),[h,m]=p.useState(null),[x,j]=p.useState("7"),{toast:g}=Ot(),{data:v,isLoading:f}=We({queryKey:["/api/admin/users",t],enabled:e&&!!t}),{data:b=[],isLoading:w}=We({queryKey:["/api/admin/users",t,"aircraft"],enabled:e&&!!t}),{data:N=[],isLoading:P}=We({queryKey:["/api/admin/users",t,"marketplace"],enabled:e&&!!t}),{data:S=[],isLoading:C}=We({queryKey:["/api/admin/users",t,"verifications"],enabled:e&&!!t}),k=Ie({mutationFn:async R=>await Te("POST",`/api/admin/users/${R}/reset-password`,{}),onSuccess:()=>{g({title:"Password Reset Email Sent",description:"The user will receive an email with password reset instructions."})},onError:()=>{g({title:"Error",description:"Failed to send password reset email. Please try again.",variant:"destructive"})}}),I=Ie({mutationFn:async({userId:R,field:Q,value:ue})=>await Te("PATCH",`/api/admin/users/${R}`,{[Q]:ue}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/users",t]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),g({title:"User Updated",description:"User verification status has been updated."})}}),A=Ie({mutationFn:async({userId:R,isAdmin:Q})=>await Te("PATCH",`/api/admin/users/${R}`,{isAdmin:Q}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/users",t]}),Le.invalidateQueries({queryKey:["/api/admin/users"]}),g({title:"Admin Status Updated",description:"User admin privileges have been updated."})}}),O=Ie({mutationFn:async({listingId:R,durationDays:Q})=>await Te("POST",`/api/admin/marketplace/${R}/grant-promo`,{durationDays:Q}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/users",t,"marketplace"]}),Le.invalidateQueries({queryKey:["/api/admin/marketplace"]}),g({title:"Promotional Free Time Granted",description:"The listing has been granted free promotional time."}),u(!1),m(null),j("7")},onError:()=>{g({title:"Error",description:"Failed to grant promotional free time. Please try again.",variant:"destructive"})}});if(!v&&!f)return null;const $=()=>{!t||!confirm("Are you sure you want to send a password reset email to this user?")||k.mutate(t)},J=(R,Q)=>{t&&I.mutate({userId:t,field:R,value:!Q})},Y=()=>{!t||!v||confirm(`Are you sure you want to ${v.isAdmin?"remove":"grant"} admin privileges for this user?`)&&A.mutate({userId:t,isAdmin:!v.isAdmin})},q=R=>{if(!R)return{status:"no-date",label:"No expiration date",variant:"secondary"};const Q=new Date(R),ue=new Date,F=Math.ceil((Q.getTime()-ue.getTime())/(1e3*60*60*24));return F<0?{status:"expired",label:`Expired ${Math.abs(F)} days ago`,variant:"destructive"}:F<=7?{status:"critical",label:`Expires in ${F} days`,variant:"destructive"}:F<=30?{status:"warning",label:`Expires in ${F} days`,variant:"outline"}:{status:"valid",label:`Valid for ${F} days`,variant:"default"}},de=R=>({renter_identity:"Identity Verification",renter_payment:"Payment Verification",renter_pilot:"Pilot License",owner_aircraft:"Aircraft Ownership",owner_maintenance:"Maintenance Records"})[R]||R;return s.jsxs(Jt,{open:e,onOpenChange:n,children:[s.jsx(Kt,{className:"max-w-6xl max-h-[95vh] overflow-y-auto","data-testid":"modal-admin-user",children:f?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})}):v?s.jsxs(s.Fragment,{children:[s.jsx(es,{children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(Vi,{className:"h-16 w-16",children:[s.jsx(zi,{src:v.profileImageUrl||void 0}),s.jsxs(qi,{className:"text-lg",children:[(xe=v.firstName)==null?void 0:xe[0],(z=v.lastName)==null?void 0:z[0]]})]}),s.jsxs("div",{children:[s.jsxs(ts,{className:"font-display text-2xl",children:[v.firstName," ",v.lastName]}),s.jsxs(is,{className:"flex items-center gap-2 mt-1",children:[s.jsx(iu,{className:"h-4 w-4"}),v.email]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.isAdmin&&s.jsx(K,{variant:"default",children:"Admin"}),v.isSuperAdmin&&s.jsx(K,{variant:"default",children:"Super Admin"}),v.isVerified&&s.jsx(K,{variant:"secondary",children:"Verified"}),v.identityVerified&&s.jsx(K,{variant:"secondary",children:"Identity Verified"}),v.faaVerified&&s.jsx(K,{variant:"secondary",children:"FAA Verified"})]})]})]})})}),s.jsxs(_u,{value:r,onValueChange:i,className:"mt-4",children:[s.jsxs(pc,{className:"grid w-full grid-cols-4",children:[s.jsxs(Ft,{value:"profile","data-testid":"tab-user-profile",children:[s.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Profile"]}),s.jsxs(Ft,{value:"aircraft","data-testid":"tab-user-aircraft",children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Aircraft (",b.length,")"]}),s.jsxs(Ft,{value:"marketplace","data-testid":"tab-user-marketplace",children:[s.jsx(nh,{className:"h-4 w-4 mr-2"}),"Listings (",N.length,")"]}),s.jsxs(Ft,{value:"admin-actions","data-testid":"tab-admin-actions",children:[s.jsx(m2,{className:"h-4 w-4 mr-2"}),"Admin Actions"]})]}),s.jsx(Ut,{value:"profile",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Personal Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsxs("div",{className:"text-base",children:[v.firstName," ",v.lastName]})]}),(v.legalFirstName||v.legalLastName)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Legal Name"}),s.jsxs("div",{className:"text-base",children:[v.legalFirstName," ",v.legalLastName]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(iu,{className:"h-4 w-4"}),v.email,v.emailVerified&&s.jsx(Es,{className:"h-4 w-4 text-chart-2"})]})]}),v.phone&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(gx,{className:"h-4 w-4"}),i3(v.phone),v.phoneVerified&&s.jsx(Es,{className:"h-4 w-4 text-chart-2"})]})]}),v.dateOfBirth&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),s.jsx("div",{className:"text-base",children:v.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),s.jsx("div",{className:"text-xs font-mono",children:v.id})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Account Status"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Joined"}),s.jsx("div",{className:"text-base",children:v.createdAt?new Date(v.createdAt).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Email Verified"}),s.jsx("div",{className:"text-base",children:v.emailVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Phone Verified"}),s.jsx("div",{className:"text-base",children:v.phoneVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Account Approved"}),s.jsx("div",{className:"text-base",children:v.isVerified?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Identity Verified"}),s.jsx("div",{className:"text-base",children:v.identityVerifiedAt?new Date(v.identityVerifiedAt).toLocaleDateString():"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Payment Verified"}),s.jsx("div",{className:"text-base",children:v.paymentVerifiedAt?new Date(v.paymentVerifiedAt).toLocaleDateString():"No"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Verified"}),s.jsx("div",{className:"text-base",children:v.faaVerifiedAt?new Date(v.faaVerifiedAt).toLocaleDateString():"No"})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Pilot Information"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Total Flight Hours"}),s.jsxs("div",{className:"text-base font-semibold",children:[v.totalFlightHours||0," hours"]})]}),v.certifications&&v.certifications.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.certifications.map((R,Q)=>s.jsx(K,{variant:"outline",children:R},Q))})]}),v.faaCertificateNumber&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"FAA Certificate Number"}),s.jsx("div",{className:"text-base font-mono",children:v.faaCertificateNumber})]}),v.aircraftTypesFlown&&v.aircraftTypesFlown.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Aircraft Types Flown"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.aircraftTypesFlown.map((R,Q)=>s.jsx(K,{variant:"outline",children:R},Q))})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Verification Status"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),v.identityVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),v.faaVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Verified"}),v.paymentVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Email Verified"}),v.emailVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Phone Verified"}),v.phoneVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),v.licenseVerified?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Financial Information"})}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Payment Method On File"}),v.paymentMethodOnFile?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"PayPal Account Connected"}),v.paypalEmail?s.jsx(Es,{className:"h-5 w-5 text-chart-2"}):s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"})]}),v.paypalEmail&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mt-3",children:"PayPal Email"}),s.jsx("div",{className:"text-xs",children:v.paypalEmail})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),s.jsxs("div",{className:"text-base flex items-center gap-2",children:[s.jsx(Ul,{className:"h-4 w-4"}),v.averageRating||"N/A"," (",v.totalReviews||0," reviews)"]})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),"Uploaded Documents"]})}),s.jsx(U,{children:C?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"Loading documents..."}):S.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No verification documents uploaded"}):s.jsx("div",{className:"space-y-4",children:S.map(R=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:de(R.type)}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Submitted ",R.createdAt?new Date(R.createdAt).toLocaleDateString():"N/A"]})]}),s.jsx(K,{variant:R.status==="approved"?"default":R.status==="rejected"?"destructive":"secondary",children:R.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[R.pilotLicenseExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pilot License"}),s.jsx(K,{variant:q(R.pilotLicenseExpiresAt.toString()).variant,className:"w-fit",children:q(R.pilotLicenseExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.pilotLicenseExpiresAt).toLocaleDateString()]})]}),R.medicalCertExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Medical Certificate"}),s.jsx(K,{variant:q(R.medicalCertExpiresAt.toString()).variant,className:"w-fit",children:q(R.medicalCertExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.medicalCertExpiresAt).toLocaleDateString()]})]}),R.insuranceExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Insurance"}),s.jsx(K,{variant:q(R.insuranceExpiresAt.toString()).variant,className:"w-fit",children:q(R.insuranceExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.insuranceExpiresAt).toLocaleDateString()]})]}),R.governmentIdExpiresAt&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Government ID"}),s.jsx(K,{variant:q(R.governmentIdExpiresAt.toString()).variant,className:"w-fit",children:q(R.governmentIdExpiresAt.toString()).label}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires: ",new Date(R.governmentIdExpiresAt).toLocaleDateString()]})]})]}),R.documentUrls&&R.documentUrls.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Documents:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.documentUrls.map((Q,ue)=>s.jsx(M,{size:"sm",variant:"outline",asChild:!0,"data-testid":`button-view-document-${ue}`,children:s.jsxs("a",{href:Q,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"h-3 w-3"}),s.jsxs("span",{children:["View Document ",ue+1]}),s.jsx(dD,{className:"h-3 w-3"})]})},ue))})]}),R.reviewNotes&&s.jsxs("div",{className:"mt-3 p-3 bg-muted rounded-md",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Admin Notes:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.reviewNotes})]})]},R.id))})})]})]})}),s.jsx(Ut,{value:"aircraft",className:"space-y-4 mt-4",children:w?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}):b.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no aircraft listings"}):s.jsx("div",{className:"space-y-3",children:b.map(R=>s.jsx(L,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>o(R.id),"data-testid":`card-user-aircraft-${R.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(K,{variant:R.isListed?"default":"secondary",children:R.isListed?"Listed":"Unlisted"})}),s.jsxs("div",{className:"font-semibold text-lg",children:[R.year," ",R.make," ",R.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[R.registration,"  ",R.location]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(xs,{className:"h-4 w-4"}),"$",R.hourlyRate,"/hour"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:R.category})]})]}),R.images&&R.images.length>0&&s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:R.images[0],alt:`${R.make} ${R.model}`,className:"w-full h-full object-cover"})})]})})},R.id))})}),s.jsx(Ut,{value:"marketplace",className:"space-y-4 mt-4",children:P?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}):N.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"This user has no marketplace listings"}):s.jsx("div",{className:"space-y-3",children:N.map(R=>s.jsx(L,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>c(R.id),"data-testid":`card-user-marketplace-${R.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(K,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"}),s.jsx(K,{variant:"outline",className:"capitalize",children:R.category}),R.promoFreeUntil&&new Date(R.promoFreeUntil)>new Date&&s.jsxs(K,{variant:"default",className:"bg-green-600",children:["Free Until ",new Date(R.promoFreeUntil).toLocaleDateString()]})]}),s.jsx("div",{className:"font-semibold text-lg",children:R.title}),s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[R.price&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(xs,{className:"h-4 w-4"}),"$",R.price]}),R.location&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Aa,{className:"h-4 w-4"}),R.location]})]})]}),s.jsx("div",{className:"flex-shrink-0",onClick:Q=>Q.stopPropagation(),children:s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{m(R.id),u(!0)},"data-testid":`button-grant-promo-${R.id}`,children:"Grant Promo"})})]})})},R.id))})}),s.jsxs(Ut,{value:"admin-actions",className:"space-y-4 mt-4",children:[s.jsxs(Gs,{children:[s.jsx(Ql,{className:"h-4 w-4"}),s.jsx(Ys,{children:"These actions affect user account settings and permissions. Use with caution."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Password Reset"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send a password reset email to the user. They will receive instructions to create a new password."}),s.jsxs(M,{onClick:$,disabled:k.isPending,"data-testid":"button-reset-password",children:[s.jsx(m2,{className:"h-4 w-4 mr-2"}),k.isPending?"Sending...":"Send Password Reset Email"]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Admin Privileges"})}),s.jsxs(U,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant or remove admin access for this user. Admins can manage users, listings, and view analytics."}),s.jsxs(M,{variant:v.isAdmin?"destructive":"default",onClick:Y,disabled:A.isPending,"data-testid":"button-toggle-admin",children:[s.jsx(Zz,{className:"h-4 w-4 mr-2"}),v.isAdmin?"Remove Admin Access":"Grant Admin Access"]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Verification Controls"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Identity Verified"}),s.jsx(M,{size:"sm",variant:v.identityVerified?"destructive":"default",onClick:()=>J("identityVerified",v.identityVerified||!1),disabled:I.isPending,"data-testid":"button-toggle-identity",children:v.identityVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"FAA Verified"}),s.jsx(M,{size:"sm",variant:v.faaVerified?"destructive":"default",onClick:()=>J("faaVerified",v.faaVerified||!1),disabled:I.isPending,"data-testid":"button-toggle-faa",children:v.faaVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"License Verified"}),s.jsx(M,{size:"sm",variant:v.licenseVerified?"destructive":"default",onClick:()=>J("licenseVerified",v.licenseVerified||!1),disabled:I.isPending,"data-testid":"button-toggle-license",children:v.licenseVerified?"Revoke":"Verify"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"General Verification"}),s.jsx(M,{size:"sm",variant:v.isVerified?"destructive":"default",onClick:()=>J("isVerified",v.isVerified||!1),disabled:I.isPending,"data-testid":"button-toggle-verified",children:v.isVerified?"Revoke":"Verify"})]})]})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Account Actions"})}),s.jsx(U,{className:"space-y-3",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Additional account management actions will be available here in future updates."})})]})]})]})]})]}):null}),a&&s.jsx(H5,{aircraftId:a,open:!!a,onOpenChange:R=>!R&&o(null)}),l&&s.jsx(c1,{listingId:l,open:!!l,onOpenChange:R=>!R&&c(null)}),s.jsx(Jt,{open:d,onOpenChange:u,children:s.jsxs(Kt,{"data-testid":"dialog-grant-promo",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Grant Promotional Free Time"}),s.jsx(is,{children:"Grant this user free listing time as a customer service gesture. The listing will be active for the selected duration without charging the user."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"promo-duration",children:"Duration"}),s.jsxs(gs,{value:x,onValueChange:j,children:[s.jsx(cs,{id:"promo-duration","data-testid":"select-promo-duration",children:s.jsx(ys,{placeholder:"Select duration"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"7",children:"7 Days"}),s.jsx(_e,{value:"14",children:"14 Days (2 weeks)"}),s.jsx(_e,{value:"21",children:"21 Days (3 weeks)"}),s.jsx(_e,{value:"30",children:"30 Days (1 month)"})]})]})]}),s.jsxs(Gs,{children:[s.jsx(Ql,{className:"h-4 w-4"}),s.jsxs(Ys,{children:["This will extend the listing's active period by ",x," days without any charge to the user. This action will be tracked for audit purposes."]})]})]}),s.jsxs(xn,{children:[s.jsx(M,{variant:"outline",onClick:()=>{u(!1),m(null),j("7")},"data-testid":"button-cancel-promo",children:"Cancel"}),s.jsx(M,{onClick:()=>{h&&O.mutate({listingId:h,durationDays:parseInt(x)})},disabled:O.isPending,"data-testid":"button-confirm-promo",children:O.isPending?"Granting...":"Grant Free Time"})]})]})})]})}function pae(){var uS,hS,mS,pS,fS,xS,gS,yS,vS,jS,bS,wS,NS,SS;const[t,e]=p.useState(""),[n,r]=p.useState("analytics"),[i,a]=p.useState(null),[o,l]=p.useState(!1),[c,d]=p.useState(""),[u,h]=p.useState(null),[m,x]=p.useState(!1),[j,g]=p.useState(!1),[v,f]=p.useState(null),[b,w]=p.useState(!1),[N,P]=p.useState(null),[S,C]=p.useState(null),[k,I]=p.useState(null),[A,O]=p.useState(!1),[$,J]=p.useState(null),[Y,q]=p.useState(!1),[de,xe]=p.useState(null),[z,R]=p.useState(!1),[Q,ue]=p.useState(null),[F,ve]=p.useState(""),[Me,et]=p.useState(!1),[se,je]=p.useState(null),[Oe,ne]=p.useState(""),[he,Fe]=p.useState(!1),[ye,Ye]=p.useState(null),[st,kt]=p.useState("3months"),[Lt,Rt]=p.useState(""),[Is,Qt]=p.useState(""),[re,D]=p.useState(null),[H,ee]=p.useState(""),[De,Ee]=p.useState(null),[Se,Ke]=p.useState(""),[bt,wt]=p.useState("all"),gt=ar({resolver:or(iee),defaultValues:{firstName:"",lastName:"",email:"",phone:"",company:"",status:"new",source:void 0,notes:""}}),zt=ar({resolver:or(oee),defaultValues:{category:"server",amount:"",expenseDate:new Date,description:"",invoiceUrl:""}}),[qs,Qi]=p.useState(null),[Ba,Va]=p.useState(!1),Sn=ar({resolver:or(dee),defaultValues:{title:"",message:"",promoCode:"",isEnabled:!0,showOnMainPage:!0,showOnCategoryPages:!0,targetCategories:[],variant:"info"}}),qt=ar({resolver:or(aee),defaultValues:{code:"",description:"",discountType:"percentage",discountValue:"",maxUses:void 0,validFrom:new Date,validUntil:void 0,isActive:!0,applicableToBannerAds:!1,applicableToMarketplace:!0}}),Ps=ar({resolver:or(cee),defaultValues:{title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,listingId:void 0,listingType:void 0,isActive:!0,startDate:new Date,endDate:void 0}}),rt=ar({resolver:or(lee),defaultValues:{sponsorName:"",sponsorEmail:"",sponsorCompany:"",title:"",description:"",imageUrl:"",link:"",placements:[],category:void 0,tier:"3months",monthlyRate:"60.00",totalAmount:"180.00",creationFee:"40.00",grandTotal:"220.00",promoCode:"",discountAmount:"0.00",approvalStatus:"draft",paymentStatus:"pending",adminNotes:""}}),{toast:Ve}=Ot(),{data:fc=[],isLoading:xc}=We({queryKey:[`/api/admin/users?q=${t}`],enabled:t.length>0}),{data:gc=[],isLoading:Pu}=We({queryKey:["/api/admin/aircraft"],enabled:n==="aircraft"}),{data:yc=[],isLoading:vc}=We({queryKey:["/api/admin/marketplace"],enabled:n==="marketplace"}),{data:Jo=[]}=We({queryKey:["/api/marketplace/flagged"]}),{data:Eu=[],isLoading:yy}=We({queryKey:["/api/verification-submissions/pending"],staleTime:0,gcTime:0,refetchOnMount:"always"}),{data:ge,isLoading:bU}=We({queryKey:["/api/admin/analytics"],enabled:n==="analytics"}),{data:el=[],isLoading:vy}=We({queryKey:["/api/crm/leads"],enabled:n==="crm"}),{data:jy=[],isLoading:by}=We({queryKey:["/api/admin/expenses"],enabled:n==="analytics"}),{data:Y1=[],isLoading:wU}=We({queryKey:["/api/admin/promo-alerts"],enabled:n==="promo"}),{data:Q1=[],isLoading:NU}=We({queryKey:["/api/admin/promo-codes"],enabled:n==="promo-codes"}),{data:Xi,isLoading:SU}=We({queryKey:["/api/admin/stale-listings"],enabled:n==="stale"}),{data:Zi,isLoading:CU}=We({queryKey:["/api/admin/orphaned-listings"],enabled:n==="stale"}),{data:ht,isLoading:Tu}=We({queryKey:["/api/admin/user-metrics"],enabled:n==="analytics"}),{data:wy=[],isLoading:X1}=We({queryKey:["/api/admin/withdrawals"],enabled:n==="withdrawals"}),{data:Z1=[],isLoading:_U}=We({queryKey:["/api/admin/notifications"],enabled:n==="notifications"}),{data:J1=[]}=We({queryKey:["/api/admin/notifications/unread"]}),{data:Pp=[],isLoading:kU}=We({queryKey:["/api/admin/banner-ads"],enabled:n==="banners"}),{data:Ny=[],isLoading:PU}=We({queryKey:["/api/admin/banner-ad-orders"],enabled:n==="banners"}),EU=p.useMemo(()=>{const y=new Map;return Pp.forEach(W=>{W.orderId&&y.set(W.orderId,W)}),y},[Pp]),eS=y=>EU.has(y),Sy=Ie({mutationFn:async y=>await Te("PATCH",`/api/verification-submissions/${y}`,{status:"approved"}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),Ve({title:"Verification Approved",description:"User verification has been approved successfully."}),l(!1)}}),Cy=Ie({mutationFn:async({id:y,notes:W})=>await Te("PATCH",`/api/verification-submissions/${y}`,{status:"rejected",rejectionReason:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/verification-submissions/pending"]}),Ve({title:"Verification Rejected",description:"User has been notified of the rejection."}),l(!1),d("")}}),_y=Ie({mutationFn:async y=>await Te("POST","/api/crm/leads",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/crm/leads"]}),Ve({title:"Lead created successfully"}),g(!1),gt.reset(),f(null)}}),ky=Ie({mutationFn:async({id:y,data:W})=>await Te("PATCH",`/api/crm/leads/${y}`,W),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/crm/leads"]}),Ve({title:"Lead updated successfully"}),g(!1),gt.reset(),f(null)}}),TU=Ie({mutationFn:async y=>await Te("DELETE",`/api/crm/leads/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/crm/leads"]}),Ve({title:"Lead deleted successfully"})}}),Py=Ie({mutationFn:async y=>await Te("POST","/api/admin/expenses",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/expenses"]}),Le.invalidateQueries({queryKey:["/api/admin/analytics"]}),Ve({title:"Expense added successfully"}),w(!1),zt.reset(),P(null)}}),Ey=Ie({mutationFn:async({id:y,data:W})=>await Te("PATCH",`/api/admin/expenses/${y}`,W),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/expenses"]}),Le.invalidateQueries({queryKey:["/api/admin/analytics"]}),Ve({title:"Expense updated successfully"}),w(!1),zt.reset(),P(null)}}),AU=Ie({mutationFn:async y=>await Te("DELETE",`/api/admin/expenses/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/expenses"]}),Le.invalidateQueries({queryKey:["/api/admin/analytics"]}),Ve({title:"Expense deleted successfully"})}}),FU=Ie({mutationFn:async y=>await Te("PATCH",`/api/admin/notifications/${y}/read`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/notifications"]}),Le.invalidateQueries({queryKey:["/api/admin/notifications/unread"]})}}),RU=Ie({mutationFn:async y=>await Te("DELETE",`/api/admin/notifications/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/notifications"]}),Le.invalidateQueries({queryKey:["/api/admin/notifications/unread"]}),Ve({title:"Notification deleted"})}}),Ty=Ie({mutationFn:async()=>{const y=await Te("POST","/api/admin/approach-plates/sync",{mode:"incremental",limit:400,maxMs:3e4}),W=await y.json();if(!y.ok)throw new Error(W.error||"Failed to sync approach plates");return W},onSuccess:()=>{Ve({title:"Approach plate sync started",description:"Sync runs in the background. Search again in a minute."})},onError:y=>{Ve({title:"Sync failed",description:y.message,variant:"destructive"})}}),{data:Ep}=We({queryKey:["/api/admin/approach-plates/status"]}),tS=Ie({mutationFn:async({id:y,isListed:W})=>await Te("PATCH",`/api/aircraft/${y}`,{isListed:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/aircraft"]}),Ve({title:"Aircraft listing updated"})}}),Ay=Ie({mutationFn:async y=>await Te("DELETE",`/api/aircraft/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/aircraft"]}),Ve({title:"Aircraft listing deleted"}),O(!1),J(null)}}),sS=Ie({mutationFn:async({id:y,isActive:W})=>await Te("PATCH",`/api/marketplace/${y}`,{isActive:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/marketplace"]}),Ve({title:"Marketplace listing updated"})}}),Fy=Ie({mutationFn:async y=>(await Te("POST","/api/admin/marketplace/free-listing-token",y||{})).json(),onSuccess:y=>{localStorage.setItem("adminFreeListingGrant",JSON.stringify({token:y.token,durationDays:y.durationDays})),Ve({title:"Admin free listing enabled",description:`Grant ready for ${y.durationDays}-day listing. Complete the form to publish.`}),window.location.href="/create-marketplace-listing?adminFree=1"},onError:y=>{Ve({title:"Failed to start free listing",description:y.message||"Could not issue admin grant",variant:"destructive"})}}),nS=Ie({mutationFn:async({id:y,isEnabled:W})=>await Te("PATCH",`/api/promo-alerts/${y}`,{isEnabled:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),Ve({title:"Promotional alert updated"})}}),Ry=Ie({mutationFn:async y=>await Te("POST","/api/promo-alerts",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-alerts"]}),Sn.reset(),q(!1),xe(null),Ve({title:"Promotional alert created successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to create promotional alert",variant:"destructive"})}}),Dy=Ie({mutationFn:async y=>await Te("POST","/api/admin/promo-codes",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),ue(null),qt.reset(),Ve({title:"Promo code created successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to create promo code",variant:"destructive"})}}),Iy=Ie({mutationFn:async({id:y,data:W})=>await Te("PATCH",`/api/admin/promo-codes/${y}`,W),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),ue(null),qt.reset(),Ve({title:"Promo code updated successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to update promo code",variant:"destructive"})}}),rS=Ie({mutationFn:async y=>await Te("DELETE",`/api/admin/promo-codes/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),ue(null),qt.reset(),Ve({title:"Promo code deleted successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to delete promo code",variant:"destructive"})}}),iS=Ie({mutationFn:async({id:y,isActive:W})=>await Te("PATCH",`/api/admin/promo-codes/${y}`,{isActive:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/promo-codes"]}),R(!1),ue(null),qt.reset(),Ve({title:"Promo code status updated successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to update promo code status",variant:"destructive"})}}),DU=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),IU=async y=>{try{for(const W of y.successful||[])if(W.uploadURL){const vt=new URL(W.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:vt,access:"publicRead"})});const Pt=W.uploadURL.split("?")[0];ne(Pt),Ps.setValue("imageUrl",Pt,{shouldValidate:!0,shouldDirty:!0}),Ve({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(W){console.error("Error processing banner upload:",W),Ve({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}},OU=async()=>({method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",credentials:"include"})).json()).uploadURL}),MU=async y=>{try{for(const W of y.successful||[])if(W.uploadURL){const vt=new URL(W.uploadURL).pathname.slice(1);await fetch("/api/objects/set-acl",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({path:vt,access:"publicRead"})});const Pt=W.uploadURL.split("?")[0];Rt(Pt),rt.setValue("imageUrl",Pt,{shouldValidate:!0,shouldDirty:!0}),Ve({title:"Image uploaded successfully",description:"Your banner image is ready to use"})}}catch(W){console.error("Error processing order upload:",W),Ve({title:"Upload failed",description:"Failed to process the uploaded image. Please try again.",variant:"destructive"})}};Ie({mutationFn:async y=>await Te("POST","/api/admin/banner-ads",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Ps.reset(),et(!1),je(null),ne(""),Ve({title:"Banner ad created successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to create banner ad",variant:"destructive"})}});const Oy=Ie({mutationFn:async({id:y,data:W})=>await Te("PATCH",`/api/admin/banner-ads/${y}`,W),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Ps.reset(),et(!1),je(null),ne(""),Ve({title:"Banner ad updated successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to update banner ad",variant:"destructive"})}}),LU=Ie({mutationFn:async y=>await Te("DELETE",`/api/admin/banner-ads/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Ve({title:"Banner ad deleted successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to delete banner ad",variant:"destructive"})}}),$U=Ie({mutationFn:async({id:y,isActive:W})=>await Te("PATCH",`/api/admin/banner-ads/${y}`,{isActive:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Ve({title:"Banner ad status updated"})}}),My=Ie({mutationFn:async y=>await Te("POST","/api/admin/banner-ad-orders",y),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),rt.reset(),Fe(!1),Ye(null),Rt(""),Ve({title:"Banner ad order created successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to create banner ad order",variant:"destructive"})}}),Ly=Ie({mutationFn:async({id:y,data:W})=>await Te("PATCH",`/api/admin/banner-ad-orders/${y}`,W),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),rt.reset(),Fe(!1),Ye(null),Rt(""),Ve({title:"Banner ad order updated successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to update banner ad order",variant:"destructive"})}}),aS=Ie({mutationFn:async y=>await Te("POST",`/api/admin/banner-ad-orders/${y}/activate`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Le.invalidateQueries({queryKey:["/api/admin/banner-ads"]}),Ve({title:"Order activated",description:"Banner ad is now live"})},onError:y=>{var W;(y==null?void 0:y.status)===409?Ve({title:"Order already activated",description:"This order has an active banner ad.",variant:"destructive"}):(y==null?void 0:y.status)===402||(y==null?void 0:y.error)==="Payment required"?Ve({title:"Payment required",description:"Order must be paid (and captured) before activation.",variant:"destructive"}):(y==null?void 0:y.error)==="Payment reference missing"?Ve({title:"Missing PayPal reference",description:"Capture must complete and record a PayPal order ID before activation.",variant:"destructive"}):(y==null?void 0:y.error)==="Approval required"?Ve({title:"Approval required",description:"Approve the order before activating the banner.",variant:"destructive"}):(y==null?void 0:y.errorCode)==="IMAGE_REQUIRED"||(W=y==null?void 0:y.message)!=null&&W.includes("IMAGE_REQUIRED")?Ve({title:"Image required",description:"Please upload a banner image before activating this order.",variant:"destructive"}):Ve({title:"Activation failed",description:(y==null?void 0:y.message)||"Failed to activate banner ad order",variant:"destructive"})}}),UU=Ie({mutationFn:async y=>await Te("DELETE",`/api/admin/banner-ad-orders/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ve({title:"Banner ad order deleted successfully"})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to delete banner ad order",variant:"destructive"})}}),oS=Ie({mutationFn:async y=>await Te("PATCH",`/api/admin/banner-ad-orders/${y}/approval`,{approvalStatus:"approved"}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ve({title:"Order approved",description:"Banner ad order approved successfully. You can now activate it."})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to approve order",variant:"destructive"})}}),lS=Ie({mutationFn:async({id:y,adminNotes:W})=>await Te("PATCH",`/api/admin/banner-ad-orders/${y}/approval`,{approvalStatus:"rejected",adminNotes:W}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/banner-ad-orders"]}),Ve({title:"Order rejected",description:"Banner ad order has been rejected."})},onError:y=>{Ve({title:"Error",description:y.message||"Failed to reject order",variant:"destructive"})}}),$y=Ie({mutationFn:async y=>await Te("DELETE",`/api/marketplace/${y}`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/marketplace"]}),Ve({title:"Marketplace listing deleted"}),O(!1),J(null)}}),BU=()=>{const y=Is.trim();if(!y){D(null),ee(""),Ee(null);const Pt=Xu(st);rt.setValue("promoCode",""),rt.setValue("discountAmount","0.00"),rt.setValue("creationFee",Pt.creationFee.toString()),rt.setValue("grandTotal",Pt.grandTotal.toString());return}const W=X6(y);if(!W){D(!1),ee("Invalid or expired promo code"),Ee(null);const Pt=Xu(st);rt.setValue("promoCode",""),rt.setValue("discountAmount","0.00"),rt.setValue("creationFee",Pt.creationFee.toString()),rt.setValue("grandTotal",Pt.grandTotal.toString());return}const ot=Xu(st),vt=$k(ot.creationFee,ot.subscriptionTotal,y);rt.setValue("promoCode",W.code),rt.setValue("discountAmount",vt.totalDiscount.toFixed(2)),rt.setValue("creationFee",vt.finalCreationFee.toFixed(2)),rt.setValue("grandTotal",vt.finalGrandTotal.toFixed(2)),D(!0),ee(`Promo code applied! You save $${vt.totalDiscount.toFixed(2)}`),Ee(W.code),Ve({title:"Promo code applied!",description:W.description})},VU=()=>{$&&($.type==="aircraft"?Ay.mutate($.id):$y.mutate($.id))},Uy=Ie({mutationFn:async()=>await Te("POST","/api/admin/send-listing-reminders",{}),onSuccess:y=>{Ve({title:"Email reminders sent",description:`Successfully sent ${y.emailsSent} emails to users with active listings.`})},onError:()=>{Ve({title:"Failed to send reminders",description:"Please try again later.",variant:"destructive"})}}),cS=Ie({mutationFn:async y=>await Te("PATCH",`/api/aircraft/${y}/refresh`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),Ve({title:"Aircraft listing refreshed"})}}),dS=Ie({mutationFn:async y=>await Te("PATCH",`/api/marketplace/${y}/refresh`,{}),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/admin/stale-listings"]}),Ve({title:"Marketplace listing refreshed"})}}),zU=y=>{f(y),gt.reset({firstName:y.firstName,lastName:y.lastName,email:y.email,phone:y.phone||"",company:y.company||"",status:y.status,source:y.source,notes:y.notes||""}),g(!0)},qU=y=>{P(y),zt.reset({category:y.category,amount:y.amount,expenseDate:y.expenseDate?new Date(y.expenseDate):new Date,description:y.description||"",invoiceUrl:y.invoiceUrl||""}),Qi(null),w(!0)},HU=async y=>{var ot;let W={...y};if(qs&&!N)try{const vt=new FormData;vt.append("documents",qs);const Pt=await fetch("/api/upload-documents",{method:"POST",body:vt,credentials:"include"});if(!Pt.ok){const Dr=await Pt.json();Ve({title:"Invoice upload failed",description:Dr.error||"Please try again",variant:"destructive"});return}const yi=await Pt.json();W.invoiceUrl=((ot=yi.documentUrls)==null?void 0:ot[0])||""}catch(vt){console.error("Invoice upload failed:",vt),Ve({title:"Invoice upload failed",description:"Please try again",variant:"destructive"});return}N?Ey.mutate({id:N.id,data:W}):Py.mutate(W)},WU=async()=>{if(!qs){Ve({title:"No invoice selected",variant:"destructive"});return}Va(!0);try{const y=new FormData;y.append("invoice",qs);const W=await fetch("/api/admin/extract-invoice-data",{method:"POST",body:y,credentials:"include"});if(!W.ok){const Pt=await W.json();throw new Error(Pt.error||"Failed to extract data")}const ot=await W.json();let vt=0;if(ot.amount&&typeof ot.amount=="string"&&(zt.setValue("amount",ot.amount),vt++),ot.date&&typeof ot.date=="string")try{const Pt=new Date(ot.date);isNaN(Pt.getTime())||(zt.setValue("expenseDate",Pt),vt++)}catch{console.warn("Invalid date from OCR:",ot.date)}ot.description&&typeof ot.description=="string"&&(zt.setValue("description",ot.description),vt++),ot.category&&["server","database","other"].includes(ot.category)&&(zt.setValue("category",ot.category),vt++),vt>0?Ve({title:"Invoice data extracted!",description:`${vt} field(s) auto-filled. Please review before saving.`}):Ve({title:"Could not extract data",description:"Please enter the information manually.",variant:"destructive"})}catch(y){console.error("OCR extraction error:",y),Ve({title:"Failed to extract invoice data",description:y instanceof Error?y.message:"Please try again",variant:"destructive"})}finally{Va(!1)}},KU=y=>{v?ky.mutate({id:v.id,data:y}):_y.mutate(y)},jc=wy.filter(y=>{var W,ot,vt,Pt,yi;if(bt!=="all"&&y.status!==bt)return!1;if(Se){const Dr=Se.toLowerCase();return((W=y.userId)==null?void 0:W.toLowerCase().includes(Dr))||((ot=y.paypalEmail)==null?void 0:ot.toLowerCase().includes(Dr))||((vt=y.transactionId)==null?void 0:vt.toLowerCase().includes(Dr))||((Pt=y.payoutBatchId)==null?void 0:Pt.toLowerCase().includes(Dr))||((yi=y.amount)==null?void 0:yi.toString().includes(Dr))}return!0});return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2","data-testid":"text-admin-title",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users, aircraft listings, and marketplace content"})]}),s.jsxs(_u,{value:n,onValueChange:r,className:"space-y-6",children:[s.jsxs(pc,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-12 h-auto",children:[s.jsxs(Ft,{value:"analytics","data-testid":"tab-analytics",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Fn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(Ft,{value:"crm","data-testid":"tab-crm",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(GN,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"CRM"})]}),s.jsxs(Ft,{value:"users","data-testid":"tab-users",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(bv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Users"})]}),s.jsxs(Ft,{value:"verifications","data-testid":"tab-verifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Mn,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Verify",Eu.length>0&&s.jsx(K,{variant:"destructive",className:"text-xs px-1",children:Eu.length})]})]}),s.jsxs(Ft,{value:"aircraft","data-testid":"tab-aircraft",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Vt,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Aircraft"})]}),s.jsxs(Ft,{value:"marketplace","data-testid":"tab-marketplace",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(nh,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Market",Jo.length>0&&s.jsx(K,{variant:"destructive",className:"text-xs px-1",children:Jo.length})]})]}),s.jsxs(Ft,{value:"stale","data-testid":"tab-stale",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(pl,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Stale"})]}),s.jsxs(Ft,{value:"promo","data-testid":"tab-promo",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Nh,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Promos"})]}),s.jsxs(Ft,{value:"promo-codes","data-testid":"tab-promo-codes",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(jv,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Codes"})]}),s.jsxs(Ft,{value:"withdrawals","data-testid":"tab-withdrawals",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(xs,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Payouts"})]}),s.jsxs(Ft,{value:"notifications","data-testid":"tab-notifications",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(Cb,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Alerts",J1.length>0&&s.jsx(K,{variant:"destructive",className:"text-xs px-1",children:J1.length})]})]}),s.jsxs(Ft,{value:"banners","data-testid":"tab-banners",className:"flex-col sm:flex-row gap-1 text-xs sm:text-sm",children:[s.jsx(xx,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),s.jsx("span",{children:"Banners"})]})]}),s.jsxs(Ut,{value:"analytics",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Revenue Today"}),s.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ge==null?void 0:ge.revenueToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ge==null?void 0:ge.transactionsToday)||0," transactions"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Revenue This Week"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ge==null?void 0:ge.revenueWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ge==null?void 0:ge.transactionsWeek)||0," transactions"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Revenue This Month"}),s.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ge==null?void 0:ge.revenueMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ge==null?void 0:ge.transactionsMonth)||0," transactions"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Revenue This Year"}),s.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(ge==null?void 0:ge.revenueYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ge==null?void 0:ge.transactionsYear)||0," transactions"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Expenses Today"}),s.jsx(Fn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ge==null?void 0:ge.expensesToday)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Server & database costs"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Expenses This Week"}),s.jsx(Fn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ge==null?void 0:ge.expensesWeek)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform operating costs"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Expenses This Month"}),s.jsx(Fn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ge==null?void 0:ge.expensesMonth)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly operational costs"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Expenses This Year"}),s.jsx(Fn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["$",(ge==null?void 0:ge.expensesYear)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual operational costs"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Profit Today"}),s.jsx(xs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ge==null?void 0:ge.profitToday)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ge==null?void 0:ge.profitMarginToday)||"0.00","%"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Profit This Week"}),s.jsx(xs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ge==null?void 0:ge.profitWeek)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ge==null?void 0:ge.profitMarginWeek)||"0.00","%"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Profit This Month"}),s.jsx(xs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ge==null?void 0:ge.profitMonth)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ge==null?void 0:ge.profitMarginMonth)||"0.00","%"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Profit This Year"}),s.jsx(xs,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold text-chart-2",children:["$",(ge==null?void 0:ge.profitYear)||"0.00"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Margin: ",(ge==null?void 0:ge.profitMarginYear)||"0.00","%"]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Marketplace Overview"}),s.jsx(Ne,{children:"Current listing statistics"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nh,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Listings"})]}),s.jsx(K,{className:"bg-chart-2","data-testid":"badge-active-marketplace",children:(ge==null?void 0:ge.totalActiveMarketplaceListings)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-destructive"}),s.jsx("span",{className:"text-sm font-medium",children:"Expired Listings"})]}),s.jsx(K,{variant:"destructive","data-testid":"badge-expired-marketplace",children:(ge==null?void 0:ge.totalExpiredMarketplaceListings)||0})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Listings by Category"}),s.jsx(Ne,{children:"Active listings per category"})]}),s.jsxs(U,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aviation Jobs"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-job",children:((uS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:uS.job)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aircraft For Sale"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-aircraft-sale",children:((hS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:hS["aircraft-sale"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"CFIs"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-cfi",children:((mS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:mS.cfi)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Flight Schools"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-flight-school",children:((pS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:pS["flight-school"])||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Mechanics"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-mechanic",children:((fS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:fS.mechanic)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Charter Services"}),s.jsx(K,{variant:"outline","data-testid":"badge-category-charter",children:((xS=ge==null?void 0:ge.marketplaceByCategory)==null?void 0:xS.charter)||0})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Commission Details"}),s.jsx(Ne,{children:"Ready Set Fly revenue model"})]}),s.jsx(U,{className:"space-y-2",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Rental Commission:"}),s.jsx("p",{children:" Renter: 7.5%"}),s.jsx("p",{children:" Owner: 7.5%"}),s.jsx("p",{className:"font-medium text-foreground mt-3 mb-2",children:"Marketplace Fees:"}),s.jsx("p",{children:" $25-$250/month per listing"})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Rental Pipeline Overview"}),s.jsx(Ne,{children:"Rentals by status"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending"}),s.jsx(K,{variant:"outline","data-testid":"badge-pending-rentals",children:(ge==null?void 0:ge.pendingRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved"}),s.jsx(K,{variant:"outline","data-testid":"badge-approved-rentals",children:(ge==null?void 0:ge.approvedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsx(K,{variant:"outline","data-testid":"badge-active-rentals",children:(ge==null?void 0:ge.activeRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Completed"}),s.jsx(K,{variant:"outline","data-testid":"badge-completed-rentals",children:(ge==null?void 0:ge.completedRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cancelled"}),s.jsx(K,{variant:"outline","data-testid":"badge-cancelled-rentals",children:(ge==null?void 0:ge.cancelledRentals)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Grand Total"})]}),s.jsx(K,{className:"bg-chart-1","data-testid":"badge-total-rentals",children:(ge==null?void 0:ge.totalRentals)||0})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Rental Activity - Today"}),s.jsx(Ne,{children:"New and active rentals today"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(K,{className:"bg-chart-2","data-testid":"badge-new-rentals-today",children:(ge==null?void 0:ge.newRentalsToday)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(K,{className:"bg-chart-1","data-testid":"badge-active-rentals-today",children:(ge==null?void 0:ge.activeRentalsToday)||0})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Rental Activity - This Week"}),s.jsx(Ne,{children:"New and active rentals this week"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kr,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"New Rentals"})]}),s.jsx(K,{className:"bg-chart-2","data-testid":"badge-new-rentals-week",children:(ge==null?void 0:ge.newRentalsWeek)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-5 w-5 text-chart-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Active Rentals"})]}),s.jsx(K,{className:"bg-chart-1","data-testid":"badge-active-rentals-week",children:(ge==null?void 0:ge.activeRentalsWeek)||0})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth & Engagement"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(bv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(ht==null?void 0:ht.totalUsers)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Verified Users"}),s.jsx(Es,{className:"h-4 w-4 text-chart-2"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-2","data-testid":"text-verified-users",children:(ht==null?void 0:ht.verifiedUsers)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[((gS=ht==null?void 0:ht.verificationRate)==null?void 0:gS.toFixed(1))||"0.0","% verified"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Active Owners"}),s.jsx(Vt,{className:"h-4 w-4 text-chart-1"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-1","data-testid":"text-active-owners",children:(ht==null?void 0:ht.activeListingOwners)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"With active listings"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Active Renters"}),s.jsx(wc,{className:"h-4 w-4 text-chart-3"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold text-chart-3","data-testid":"text-active-renters",children:(ht==null?void 0:ht.activeRenters)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed rentals"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New User Registrations"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Today"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-today",children:(ht==null?void 0:ht.newUsersToday)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"New signups today"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"This Week"}),s.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-week",children:(ht==null?void 0:ht.newUsersThisWeek)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"This Month"}),s.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-month",children:(ht==null?void 0:ht.newUsersThisMonth)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Geographic Distribution"}),s.jsx(Ne,{children:"Users by location (top 10 states)"})]}),s.jsxs(U,{children:[Tu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading geographic data..."}),!Tu&&(!((yS=ht==null?void 0:ht.geographic)!=null&&yS.byState)||ht.geographic.byState.length===0)&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No geographic data available yet"}),!Tu&&((vS=ht==null?void 0:ht.geographic)==null?void 0:vS.byState)&&ht.geographic.byState.length>0&&s.jsx("div",{className:"space-y-3",children:ht.geographic.byState.map(({state:y,count:W},ot)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:"outline",className:"w-8 text-center",children:ot+1}),s.jsx("span",{className:"text-sm font-medium",children:y})]}),s.jsxs(K,{"data-testid":`badge-state-${y}`,children:[W," users"]})]},y))})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"User Retention"}),s.jsx(Ne,{children:"Returning vs. one-time users"})]}),s.jsxs(U,{children:[Tu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading retention data..."}),!Tu&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-5 w-5 text-chart-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Returning Users"})]}),s.jsx(K,{className:"bg-chart-2","data-testid":"badge-returning-users",children:((jS=ht==null?void 0:ht.retention)==null?void 0:jS.returningUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bv,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"One-Time Users"})]}),s.jsx(K,{variant:"outline","data-testid":"badge-onetime-users",children:((bS=ht==null?void 0:ht.retention)==null?void 0:bS.oneTimeUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm font-medium",children:"Retention Rate"}),s.jsxs(K,{className:"bg-chart-1","data-testid":"badge-retention-rate",children:[((NS=(wS=ht==null?void 0:ht.retention)==null?void 0:wS.retentionRate)==null?void 0:NS.toFixed(1))||"0.0","%"]})]})]})]})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(Z,{children:"Expense Tracking"}),s.jsx(Ne,{children:"Track server, database, and operational costs"})]}),s.jsxs(M,{onClick:()=>{zt.reset(),P(null),w(!0)},"data-testid":"button-add-expense",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Add Expense"]})]}),s.jsxs(U,{children:[by&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading expenses..."}),!by&&jy.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No expenses tracked yet. Add your first expense to start tracking costs."}),!by&&jy.length>0&&s.jsx("div",{className:"border rounded-md",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Date"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Category"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Description"}),s.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"Invoice"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Amount"}),s.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:jy.map(y=>s.jsxs("tr",{className:"border-b last:border-0","data-testid":`expense-row-${y.id}`,children:[s.jsx("td",{className:"p-3 text-sm","data-testid":`text-date-${y.id}`,children:y.expenseDate?new Date(y.expenseDate).toLocaleDateString():""}),s.jsx("td",{className:"p-3",children:s.jsx(K,{variant:"outline",className:"capitalize","data-testid":`badge-category-${y.id}`,children:y.category})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground","data-testid":`text-description-${y.id}`,children:y.description||""}),s.jsx("td",{className:"p-3 text-sm",children:y.invoiceUrl?s.jsxs("a",{href:y.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1","data-testid":`link-invoice-${y.id}`,children:[s.jsx(In,{className:"h-4 w-4"}),"View"]}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsxs("td",{className:"p-3 text-sm text-right font-medium text-destructive","data-testid":`text-amount-${y.id}`,children:["$",y.amount]}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>qU(y),"data-testid":`button-edit-expense-${y.id}`,children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(M,{size:"icon",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this expense?")&&AU.mutate(y.id)},"data-testid":`button-delete-expense-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4 text-destructive"})})]})})]},y.id))})]})})]})]}),bU&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"h-8 w-8 rounded-full border-4 border-primary border-t-transparent animate-spin"})})]}),s.jsxs(Ut,{value:"crm",className:"space-y-6",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0",children:[s.jsxs("div",{children:[s.jsx(Z,{children:"Sales & Marketing CRM"}),s.jsx(Ne,{children:"Manage leads, contacts, and deal pipeline"})]}),s.jsxs(M,{onClick:()=>{gt.reset(),f(null),g(!0)},"data-testid":"button-add-lead",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),s.jsxs(U,{children:[vy&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading leads..."}),!vy&&el.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No leads yet. Add your first lead to get started."}),!vy&&el.length>0&&s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Name"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Email"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Company"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Status"}),s.jsx("th",{className:"text-left p-3 font-medium text-sm",children:"Source"}),s.jsx("th",{className:"text-right p-3 font-medium text-sm",children:"Actions"})]})}),s.jsx("tbody",{children:el.map(y=>s.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-lead-${y.id}`,children:[s.jsxs("td",{className:"p-3",children:[s.jsxs("div",{className:"font-medium",children:[y.firstName," ",y.lastName]}),y.phone&&s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(gx,{className:"h-3 w-3"}),y.phone]})]}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(iu,{className:"h-3 w-3"}),y.email]})}),s.jsx("td",{className:"p-3 text-sm",children:y.company||"-"}),s.jsx("td",{className:"p-3",children:s.jsx(K,{variant:y.status==="won"?"default":y.status==="lost"?"destructive":y.status==="new"?"secondary":"outline",children:y.status})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:y.source||"-"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>zU(y),"data-testid":`button-edit-lead-${y.id}`,children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this lead?")&&TU.mutate(y.id)},"data-testid":`button-delete-lead-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})})]},y.id))})]})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(Jz,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:el.length})})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"New Leads"}),s.jsx(wc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:el.filter(y=>y.status==="new").length})})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Won"}),s.jsx(Es,{className:"h-4 w-4 text-chart-2"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:el.filter(y=>y.status==="won").length})})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"In Progress"}),s.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(U,{children:s.jsx("div",{className:"text-2xl font-bold",children:el.filter(y=>["contacted","qualified","proposal","negotiation"].includes(y.status)).length})})]})]})]}),s.jsx(Ut,{value:"verifications",className:"space-y-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Verification Review Queue"}),s.jsx(Ne,{children:"Review and approve user verification submissions"})]}),s.jsxs(U,{children:[yy&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading verifications..."}),!yy&&Eu.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending verification submissions"}),!yy&&Eu.length>0&&s.jsx("div",{className:"space-y-3",children:Eu.map(y=>{var ot;const W=y.submissionData;return s.jsx(L,{"data-testid":`card-verification-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(K,{variant:"outline",children:y.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"Unknown"]})]}),s.jsxs("div",{className:"font-semibold text-foreground mb-1",children:[W.legalFirstName," ",W.legalLastName]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["User ID: ",y.userId]}),s.jsxs("div",{children:["DOB: ",W.dateOfBirth]}),W.faaCertificateNumber&&s.jsxs("div",{children:["FAA Certificate: ",W.faaCertificateNumber]}),s.jsxs("div",{children:["Documents: ",((ot=y.documentUrls)==null?void 0:ot.length)||0," files"]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>{a(y),l(!0)},"data-testid":`button-review-${y.id}`,children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Review"]})})]})})},y.id)})})]})]})}),s.jsx(Ut,{value:"users",className:"space-y-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Search Users"}),s.jsx(Ne,{children:"Search by first name, last name, or email"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"flex gap-2 mb-6",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(B,{placeholder:"Search users...",value:t,onChange:y=>e(y.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),xc&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching..."}),!xc&&t&&fc.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No users found matching "',t,'"']}),!xc&&fc.length>0&&s.jsx("div",{className:"space-y-3",children:fc.map(y=>{var W,ot;return s.jsx(L,{"data-testid":`card-user-${y.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>{h(y.id),x(!0)},children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Vi,{children:[s.jsx(zi,{src:y.profileImageUrl||void 0}),s.jsxs(qi,{children:[(W=y.firstName)==null?void 0:W[0],(ot=y.lastName)==null?void 0:ot[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[y.firstName," ",y.lastName,y.isAdmin&&s.jsx(K,{className:"ml-2",variant:"default",children:"Admin"}),y.isVerified&&s.jsx(K,{className:"ml-2",variant:"secondary",children:"Verified"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:y.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",y.id,"  Joined: ",y.createdAt?new Date(y.createdAt).toLocaleDateString():"","  Flight Hours: ",y.totalFlightHours]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Verified:"," ",y.emailVerified?"Email ":"Email "," "," ",y.phoneVerified?"Phone ":"Phone "," "," ",y.identityVerified?"Identity ":"Identity "," "," ",y.paymentVerified?"Payment ":"Payment "," "," ",y.isVerified?"Approved ":"Approved "]})]})]})})},y.id)})}),!t&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Enter a search term to find users"})]})]})}),s.jsx(Ut,{value:"aircraft",className:"space-y-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"All Aircraft Listings"}),s.jsx(Ne,{children:"View and manage all aircraft rental listings"})]}),s.jsxs(U,{children:[Pu&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading aircraft listings..."}),!Pu&&gc.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No aircraft listings found"}),!Pu&&gc.length>0&&s.jsx("div",{className:"space-y-3",children:gc.map(y=>s.jsx("div",{"data-testid":`card-aircraft-${y.id}`,className:"border rounded-lg overflow-visible hover-elevate cursor-pointer transition-all",onClick:()=>C(y),children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[y.images&&y.images.length>0&&s.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:y.images[0],alt:`${y.make} ${y.model}`,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-semibold text-foreground",children:[y.year," ",y.make," ",y.model]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.registration,"  ",y.location]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",y.hourlyRate,"/hr  Owner ID: ",y.ownerId]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:W=>W.stopPropagation(),children:[s.jsx(K,{variant:y.isListed?"default":"secondary",children:y.isListed?"Listed":"Unlisted"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>tS.mutate({id:y.id,isListed:!y.isListed}),"data-testid":`button-toggle-aircraft-${y.id}`,children:y.isListed?"Unlist":"List"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{J({type:"aircraft",id:y.id}),O(!0)},"data-testid":`button-delete-aircraft-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]})]})}),s.jsxs(Ut,{value:"marketplace",className:"space-y-4",children:[Jo.length>0&&s.jsxs(L,{className:"border-destructive",children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5 text-destructive"}),"Flagged Listings (",Jo.length,")"]}),s.jsx(Ne,{children:"Listings with 5+ fraud/spam reports - review and remove if necessary"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-3",children:Jo.map(y=>s.jsx("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20","data-testid":`flagged-listing-${y.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsxs(K,{variant:"destructive",className:"text-xs",children:[y.flagCount," flags"]}),!y.isActive&&s.jsx(K,{variant:"outline",className:"text-xs",children:"Inactive"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Category: ",y.category,"  Location: ",y.location||y.city]}),s.jsx("p",{className:"text-sm line-clamp-2",children:y.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{variant:"outline",size:"sm",onClick:()=>{I(y)},"data-testid":`button-review-flagged-${y.id}`,children:"Review"}),s.jsx(M,{variant:"destructive",size:"sm",onClick:()=>{J({type:"marketplace",id:y.id}),O(!0)},"data-testid":`button-remove-flagged-${y.id}`,children:"Remove"})]})]})},y.id))})})]}),s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Z,{children:"All Marketplace Listings"}),s.jsx(Ne,{children:"View and manage all marketplace listings"})]}),s.jsxs(M,{size:"sm",variant:"outline",onClick:()=>Fy.mutate({}),disabled:Fy.isPending,"data-testid":"button-admin-free-listing",children:[s.jsx(Nh,{className:"h-4 w-4 mr-2"}),Fy.isPending?"Preparing...":"Create Free Listing"]})]}),s.jsxs(U,{children:[vc&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading marketplace listings..."}),!vc&&yc.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No marketplace listings found"}),!vc&&yc.length>0&&s.jsx("div",{className:"space-y-3",children:yc.map(y=>s.jsx(L,{"data-testid":`card-marketplace-${y.id}`,className:"hover-elevate cursor-pointer transition-all",onClick:()=>I(y),children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-foreground",children:y.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.category,"  ",y.location||"No location"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[y.price&&`$${y.price}`,"  User ID: ",y.userId,y.monthlyFee==="0"&&"  FREE"]})]}),s.jsxs("div",{className:"flex items-center gap-2",onClick:W=>W.stopPropagation(),children:[s.jsx(K,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>sS.mutate({id:y.id,isActive:!y.isActive}),"data-testid":`button-toggle-marketplace-${y.id}`,children:y.isActive?"Deactivate":"Activate"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{J({type:"marketplace",id:y.id}),O(!0)},"data-testid":`button-delete-marketplace-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]})})},y.id))})]})]})]}),s.jsx(Ut,{value:"stale",className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(L,{children:s.jsx(G,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Z,{children:"Monthly Email Reminders"}),s.jsx(Ne,{children:"Send email reminders to all users with active listings to review and refresh their listings"})]}),s.jsxs(M,{onClick:()=>Uy.mutate(),disabled:Uy.isPending,"data-testid":"button-send-reminders",children:[s.jsx(iu,{className:"h-4 w-4 mr-2"}),Uy.isPending?"Sending...":"Send Reminders Now"]})]})})}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Stale Listings (60+ Days Without Refresh)"}),s.jsx(Ne,{children:"These listings haven't been refreshed by their owners in over 60 days"})]}),s.jsx(U,{children:SU?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):!Xi||Xi.aircraft.length===0&&Xi.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Es,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No stale listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Xi.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Aircraft Listings (",Xi.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Xi.aircraft.map(y=>s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(pl,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[y.make," ",y.model," - ",y.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location}),y.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(y.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:y.isListed?"default":"secondary",children:y.isListed?"Active":"Inactive"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>cS.mutate(y.id),disabled:cS.isPending,"data-testid":`button-refresh-aircraft-${y.id}`,children:s.jsx(yx,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]}),Xi.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(nh,{className:"h-4 w-4"}),"Marketplace Listings (",Xi.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Xi.marketplace.map(y=>s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-amber-100 dark:bg-amber-900/30",children:s.jsx(pl,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.category.replace("-"," ")," - ",y.city]}),y.lastRefreshedAt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last refreshed: ",new Date(y.lastRefreshedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>dS.mutate(y.id),disabled:dS.isPending,"data-testid":`button-refresh-marketplace-${y.id}`,children:s.jsx(yx,{className:"h-4 w-4"})})]})]})})]})})},y.id))})]})]})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Orphaned Listings"}),s.jsx(Ne,{children:"Listings where the owner account no longer exists or is suspended"})]}),s.jsx(U,{children:CU?s.jsx("div",{className:"space-y-4",children:[1,2].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):!Zi||Zi.aircraft.length===0&&Zi.marketplace.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Es,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orphaned listings found"})]}):s.jsxs("div",{className:"space-y-6",children:[Zi.aircraft.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Aircraft Listings (",Zi.aircraft.length,")"]}),s.jsx("div",{className:"space-y-3",children:Zi.aircraft.map(y=>s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(ja,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-base",children:[y.make," ",y.model," - ",y.registration]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.location}),s.jsx(K,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{J({type:"aircraft",id:y.id}),O(!0)},"data-testid":`button-delete-orphaned-aircraft-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})})]})})},y.id))})]}),Zi.marketplace.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(nh,{className:"h-4 w-4"}),"Marketplace Listings (",Zi.marketplace.length,")"]}),s.jsx("div",{className:"space-y-3",children:Zi.marketplace.map(y=>s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30",children:s.jsx(ja,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),s.jsx("div",{className:"flex-1 space-y-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.category.replace("-"," ")," - ",y.city]}),s.jsx(K,{variant:"destructive",className:"mt-2",children:"Orphaned"})]}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{J({type:"marketplace",id:y.id}),O(!0)},"data-testid":`button-delete-orphaned-marketplace-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})})]})})},y.id))})]})]})})]})]})}),s.jsx(Ut,{value:"promo",className:"space-y-6",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Z,{children:"Promotional Alerts"}),s.jsx(Ne,{children:"Manage promotional banners and announcements that appear on the marketplace"})]}),s.jsxs(M,{onClick:()=>{xe(null),Sn.reset(),q(!0)},"data-testid":"button-add-promo",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Add Promo"]})]})}),s.jsx(U,{children:wU?s.jsx("div",{className:"space-y-4",children:[1,2].map(y=>s.jsx("div",{className:"h-24 rounded-lg bg-muted animate-pulse"},y))}):Y1.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No promotional alerts configured"})}):s.jsx("div",{className:"space-y-4",children:Y1.map(y=>s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/30",children:s.jsx(Nh,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-base",children:y.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.message}),y.promoCode&&s.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-muted rounded-md",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Code:"}),s.jsx("span",{className:"font-mono font-semibold text-sm",children:y.promoCode})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:y.isEnabled?"default":"secondary",children:y.isEnabled?"Active":"Inactive"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>nS.mutate({id:y.id,isEnabled:!y.isEnabled}),disabled:nS.isPending,"data-testid":`button-toggle-promo-${y.id}`,children:y.isEnabled?"Disable":"Enable"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[y.showOnMainPage&&s.jsx(K,{variant:"outline",children:"Main Page"}),y.showOnCategoryPages&&s.jsx(K,{variant:"outline",children:"Category Pages"}),y.targetCategories&&y.targetCategories.length>0&&s.jsxs(K,{variant:"outline",children:[y.targetCategories.length," Categories"]})]})]})]})})},y.id))})})]})}),s.jsx(Ut,{value:"promo-codes",className:"space-y-6",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Z,{children:"Promo Codes Management"}),s.jsx(Ne,{children:"Create and manage promotional discount codes"})]}),s.jsxs(M,{onClick:()=>{ue(null),qt.reset(),R(!0)},"data-testid":"button-add-promo-code",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Add Promo Code"]})]})}),s.jsxs(U,{children:[s.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(B,{placeholder:"Search promo codes...",value:F,onChange:y=>ve(y.target.value),"data-testid":"input-promo-code-search"})})}),NU?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>s.jsx("div",{className:"h-32 rounded-lg bg-muted animate-pulse"},y))}):Q1.filter(y=>{var W;return F===""||y.code.toLowerCase().includes(F.toLowerCase())||((W=y.description)==null?void 0:W.toLowerCase().includes(F.toLowerCase()))}).length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jv,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:F?"No promo codes match your search":"No promo codes configured"})]}):s.jsx("div",{className:"space-y-4",children:Q1.filter(y=>{var W;return F===""||y.code.toLowerCase().includes(F.toLowerCase())||((W=y.description)==null?void 0:W.toLowerCase().includes(F.toLowerCase()))}).map(y=>{const W=!!(y.validUntil&&new Date(y.validUntil)<new Date),ot=y.usedCount||0,vt=y.maxUses||"";return s.jsx(L,{className:"hover-elevate",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(jv,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"px-3 py-1 bg-muted rounded-md font-mono font-bold text-lg",children:y.code}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(y.code),Ve({title:"Promo code copied to clipboard"})},"data-testid":`button-copy-code-${y.id}`,children:s.jsx(In,{className:"h-4 w-4"})})]}),y.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:y.isActive&&!W?"default":"secondary","data-testid":`badge-status-${y.id}`,children:W?"Expired":y.isActive?"Active":"Inactive"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>iS.mutate({id:y.id,isActive:!(y.isActive??!1)}),disabled:!!iS.isPending||!!W,"data-testid":`button-toggle-promo-code-${y.id}`,children:y.isActive?"Disable":"Enable"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{ue(y),qt.reset({code:y.code,description:y.description||"",discountType:y.discountType,discountValue:y.discountValue||"",maxUses:y.maxUses||void 0,validFrom:y.validFrom?new Date(y.validFrom):new Date,validUntil:y.validUntil?new Date(y.validUntil):void 0,isActive:y.isActive??void 0,applicableToBannerAds:!!y.applicableToBannerAds,applicableToMarketplace:!!y.applicableToMarketplace}),R(!0)},"data-testid":`button-edit-promo-code-${y.id}`,children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete promo code "${y.code}"?`)&&rS.mutate(y.id)},disabled:rS.isPending,"data-testid":`button-delete-promo-code-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),s.jsx("p",{className:"font-semibold",children:y.discountType==="percentage"?`${y.discountValue}%`:`$${y.discountValue}`})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid From"}),s.jsx("p",{className:"text-sm",children:y.validFrom?new Date(y.validFrom).toLocaleDateString():""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Valid To"}),s.jsx("p",{className:"text-sm",children:y.validUntil?new Date(y.validUntil).toLocaleDateString():"No expiry"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Usage"}),s.jsxs("p",{className:"font-semibold",children:[ot," / ",vt]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.applicableToBannerAds&&s.jsx(K,{variant:"outline","data-testid":`badge-banner-${y.id}`,children:"Banner Ads"}),y.applicableToMarketplace&&s.jsx(K,{variant:"outline","data-testid":`badge-marketplace-${y.id}`,children:"Marketplace"})]})]})]})})},y.id)})})]})]})}),s.jsx(Ut,{value:"withdrawals",className:"space-y-6",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-withdrawal-requests",children:"Owner Payouts Dashboard"}),s.jsx(Ne,{children:"Monitor and track all automated payouts to aircraft owners"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(B,{placeholder:"Search by user ID, email, transaction ID...",value:Se,onChange:y=>Ke(y.target.value),"data-testid":"input-withdrawal-search"})}),s.jsxs(gs,{value:bt,onValueChange:wt,children:[s.jsx(cs,{className:"w-[180px]","data-testid":"select-status-filter",children:s.jsx(ys,{placeholder:"Filter by status"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"all",children:"All Statuses"}),s.jsx(_e,{value:"completed",children:"Completed"}),s.jsx(_e,{value:"processing",children:"Processing"}),s.jsx(_e,{value:"failed",children:"Failed"})]})]})]}),!X1&&wy.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(L,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Payouts"}),s.jsx("div",{className:"text-2xl font-bold",children:jc.length})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:jc.filter(y=>y.status==="completed").length})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:jc.filter(y=>y.status==="failed").length})]}),s.jsxs(L,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",jc.filter(y=>y.status==="completed").reduce((y,W)=>y+parseFloat(W.amount),0).toFixed(2)]})]})]}),X1?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading withdrawal history..."}):wy.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-withdrawals",children:"No withdrawal history yet"}):jc.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No withdrawals match your search criteria"}):s.jsx("div",{className:"space-y-4",children:jc.map(y=>s.jsx(L,{className:"p-4","data-testid":`card-withdrawal-${y.id}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-lg","data-testid":`text-amount-${y.id}`,children:["$",parseFloat(y.amount).toFixed(2)]}),s.jsx(K,{variant:y.status==="completed"?"default":y.status==="processing"?"secondary":y.status==="failed"?"destructive":"outline","data-testid":`badge-status-${y.id}`,children:y.status})]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",y.userId]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"PayPal Email:"})," ",y.paypalEmail]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Requested:"})," ",new Date(y.requestedAt).toLocaleString()]}),y.processedAt&&s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Processed:"})," ",new Date(y.processedAt).toLocaleString()]}),y.payoutBatchId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Batch ID:"})," ",y.payoutBatchId]}),y.transactionId&&s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"})," ",y.transactionId]}),y.failureReason&&s.jsxs("p",{className:"text-sm text-destructive",children:[s.jsx("span",{className:"font-medium",children:"Failure Reason:"})," ",y.failureReason]})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("p",{children:"Automated Payout"}),y.status==="completed"&&s.jsx("p",{className:"text-green-600 font-medium",children:" Sent"}),y.status==="failed"&&s.jsx("p",{className:"text-red-600 font-medium",children:" Failed"}),y.status==="processing"&&s.jsx("p",{className:"text-blue-600 font-medium",children:" Processing"})]})]})},y.id))})]})]})}),s.jsxs(Ut,{value:"notifications",className:"space-y-6",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"System Tools"}),s.jsx(Ne,{children:"Run maintenance tasks without leaving the dashboard."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(M,{variant:"outline",onClick:()=>Ty.mutate(),disabled:Ty.isPending,"data-testid":"button-sync-approach-plates",children:Ty.isPending?"Syncing plates...":"Sync Approach Plates Now"}),s.jsx(K,{variant:"outline",children:"FAA d-TPP"}),(Ep==null?void 0:Ep.lastFinishedAt)&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last cache refresh: ",new Date(Ep.lastFinishedAt).toLocaleString()]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-notifications",children:"Admin Notifications"}),s.jsx(Ne,{children:"System alerts for listing thresholds and important events"})]}),s.jsx(U,{children:_U?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading notifications..."})}):Z1.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cb,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No notifications yet"})]}):s.jsx("div",{className:"space-y-3",children:Z1.map(y=>{var W;return s.jsx(L,{className:y.isRead?"opacity-60":"border-primary","data-testid":`notification-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:y.title}),!y.isRead&&s.jsx(K,{variant:"destructive",className:"text-xs",children:"New"}),y.type==="listing_threshold"&&s.jsx(K,{variant:"secondary",className:"text-xs",children:"Threshold Alert"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.message}),y.listingCount&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Category: ",(W=y.category)==null?void 0:W.replace("-"," ").toUpperCase()]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Count: ",y.listingCount]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Threshold: ",y.threshold]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(y.createdAt).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!y.isRead&&s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>FU.mutate(y.id),"data-testid":`button-mark-read-${y.id}`,children:s.jsx(Es,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>RU.mutate(y.id),"data-testid":`button-delete-notification-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]})})},y.id)})})})]})]}),s.jsxs(Ut,{value:"banners",className:"space-y-6",children:[s.jsxs(L,{children:[s.jsxs(G,{className:"flex flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Z,{"data-testid":"heading-banner-orders",children:"Banner Ad Orders"}),s.jsx(Ne,{children:"Manage sponsor orders, track payments, and activate banner campaigns"})]}),s.jsxs(M,{onClick:()=>{Ye(null),Rt(""),rt.reset(),Fe(!0)},"data-testid":"button-create-order",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),s.jsxs(U,{children:[Ny.some(y=>y.paymentStatus!=="paid")&&s.jsx("div",{className:"mb-4 rounded-lg border border-destructive/40 bg-destructive/5 p-4 text-sm text-destructive","data-testid":"alert-unpaid-banner-orders",children:"Some banner orders are unpaid. Capture payment (PayPal) before approval and activation."}),PU?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Ny.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(In,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Orders Yet"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:"Create banner ad orders to manage sponsor billing and campaign activation."}),s.jsxs(M,{onClick:()=>{Ye(null),Rt(""),rt.reset(),Fe(!0)},"data-testid":"button-create-first-order",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Create First Order"]})]}):s.jsx("div",{className:"space-y-4",children:Ny.map(y=>s.jsx(L,{"data-testid":`order-card-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[y.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsx(K,{variant:y.approvalStatus==="approved"?"default":y.approvalStatus==="rejected"?"destructive":y.approvalStatus==="sent"?"secondary":"outline",children:y.approvalStatus}),s.jsx(K,{variant:y.paymentStatus==="paid"?"default":y.paymentStatus==="refunded"?"destructive":"outline",children:y.paymentStatus}),s.jsx(K,{variant:"outline",className:"capitalize",children:y.tier.replace(/(\d+)month/,"$1 Month")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Sponsor:"})," ",y.sponsorName,y.sponsorCompany&&` (${y.sponsorCompany})`]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",y.sponsorEmail]}),y.description&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",y.description]}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("span",{className:"font-medium",children:["Total: $",y.grandTotal]}),y.placements&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Placements:"})," ",y.placements.length," pages"]}),y.paypalPaymentDate&&s.jsxs("span",{children:[s.jsx("span",{className:"font-medium",children:"Paid:"})," ",new Date(y.paypalPaymentDate).toLocaleDateString()]})]}),y.adminNotes&&s.jsxs("p",{className:"text-xs italic",children:[s.jsx("span",{className:"font-medium",children:"Notes:"})," ",y.adminNotes]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y.paymentStatus==="paid"&&(y.approvalStatus==="draft"||y.approvalStatus==="sent"||y.approvalStatus==="pending_review")&&s.jsxs(s.Fragment,{children:[s.jsxs(M,{size:"sm",variant:"default",onClick:()=>oS.mutate(y.id),disabled:oS.isPending,"data-testid":`button-approve-order-${y.id}`,children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(M,{size:"sm",variant:"destructive",onClick:()=>{const W=prompt("Rejection reason (optional):");W!==null&&lS.mutate({id:y.id,adminNotes:W||void 0})},disabled:lS.isPending,"data-testid":`button-reject-order-${y.id}`,children:[s.jsx(nr,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),y.paymentStatus==="paid"&&y.approvalStatus==="approved"&&(eS(y.id)?s.jsxs(K,{variant:"secondary",className:"cursor-not-allowed","data-testid":`badge-activated-${y.id}`,children:[s.jsx(Es,{className:"h-3 w-3 mr-1"}),"Already Activated"]}):s.jsxs(M,{size:"sm",variant:"default",onClick:()=>aS.mutate(y.id),disabled:aS.isPending,"data-testid":`button-activate-order-${y.id}`,children:[s.jsx(Hz,{className:"h-4 w-4 mr-1"}),"Activate"]})),!eS(y.id)&&s.jsxs(M,{size:"sm",variant:"ghost",onClick:()=>{if(Ye(y),Rt(y.imageUrl??""),kt(y.tier),y.promoCode){Qt(y.promoCode),Ee(y.promoCode),D(!0);const W=parseFloat(y.discountAmount||"0");ee(`Promo code applied! You save $${W.toFixed(2)}`)}else Qt(""),Ee(null),D(null),ee("");rt.reset({sponsorName:y.sponsorName,sponsorEmail:y.sponsorEmail,sponsorCompany:y.sponsorCompany??"",title:y.title,description:y.description??"",imageUrl:y.imageUrl??"",link:y.link??"",placements:y.placements??[],category:y.category??void 0,tier:y.tier,monthlyRate:y.monthlyRate,totalAmount:y.totalAmount,creationFee:y.creationFee,promoCode:y.promoCode??"",discountAmount:y.discountAmount??"0.00",grandTotal:y.grandTotal,approvalStatus:y.approvalStatus,paymentStatus:y.paymentStatus??void 0,adminNotes:y.adminNotes??""}),Fe(!0)},"data-testid":`button-edit-order-${y.id}`,children:[s.jsx(ga,{className:"h-4 w-4 mr-1"}),"Edit Order Details"]}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure you want to delete this order?")&&UU.mutate(y.id)},"data-testid":`button-delete-order-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]})})},y.id))})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-banners",children:"Live Banner Ads"}),s.jsx(Ne,{children:"View and manage active banner campaigns created from paid orders. Banner ads are automatically created when you activate a paid Banner Ad Order."})]}),s.jsx(U,{children:kU?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading banner ads..."})}):Pp.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xx,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Live Banner Ads"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Banner ads appear here when you activate paid orders from the Banner Ad Orders section. Create an order, get payment from the sponsor, then activate it to create a live banner ad."})]}):s.jsx("div",{className:"space-y-4",children:Pp.map(y=>s.jsx(L,{"data-testid":`banner-card-${y.id}`,children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[y.imageUrl&&s.jsx("div",{className:"w-32 h-20 rounded overflow-hidden flex-shrink-0 bg-muted",children:s.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold",children:y.title}),s.jsx(K,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"}),y.placements&&y.placements.length>0&&s.jsx(K,{variant:"outline",className:"capitalize",children:y.placements[0].replace("_"," ")}),y.category&&s.jsx(K,{variant:"outline",className:"capitalize",children:y.category.replace("-"," ")})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[y.link&&s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"font-medium",children:"Link URL:"})," ",y.link]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{children:[s.jsx(pl,{className:"h-3 w-3 inline mr-1"}),new Date(y.startDate).toLocaleDateString(),y.endDate&&` - ${new Date(y.endDate).toLocaleDateString()}`]}),s.jsxs("span",{children:[s.jsx(Ta,{className:"h-3 w-3 inline mr-1"}),y.impressions??0," impressions"]}),s.jsxs("span",{children:[s.jsx(wc,{className:"h-3 w-3 inline mr-1"}),y.clicks??0," clicks"]}),(y.impressions??0)>0&&s.jsxs("span",{className:"text-primary",children:["CTR: ",((y.clicks??0)/(y.impressions??0)*100).toFixed(2),"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>$U.mutate({id:y.id,isActive:!y.isActive}),"data-testid":`button-toggle-banner-${y.id}`,children:y.isActive?s.jsx(nr,{className:"h-4 w-4"}):s.jsx(Es,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{je(y),ne(y.imageUrl||""),Ps.reset({title:y.title,imageUrl:y.imageUrl||"",link:y.link??"",description:y.description??"",placements:y.placements||[],category:y.category||void 0,listingId:y.listingId||void 0,listingType:y.listingType||void 0,isActive:y.isActive,startDate:y.startDate?new Date(y.startDate):new Date,endDate:y.endDate?new Date(y.endDate):void 0}),et(!0)},"data-testid":`button-edit-banner-${y.id}`,children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsx(M,{size:"sm",variant:"ghost",onClick:()=>{confirm(`Are you sure you want to delete the banner ad "${y.title}"?`)&&LU.mutate(y.id)},"data-testid":`button-delete-banner-${y.id}`,children:s.jsx(Tn,{className:"h-4 w-4"})})]})]})})},y.id))})})]})]})]}),s.jsx(Jt,{open:o,onOpenChange:y=>{l(y),y||(a(null),d(""))},children:s.jsxs(Kt,{className:"max-w-2xl",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Review Verification Submission"}),s.jsx(is,{children:"Review the submitted documents and information carefully before approving or rejecting."})]}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Submission Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",i.type==="renter_identity"?"Renter Identity":"Owner/Aircraft"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(K,{variant:"outline",children:i.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"})," ",i.createdAt?new Date(i.createdAt).toLocaleString():"Unknown"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",i.userId]})]})]}),(()=>{const y=i.submissionData;return s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Legal Name:"})," ",y.legalFirstName," ",y.legalLastName]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",y.dateOfBirth]}),y.faaCertificateNumber&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"FAA Certificate:"})," ",y.faaCertificateNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Certificate Name:"})," ",y.pilotCertificateName]})]})]})]})})(),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-semibold",children:["Documents (",((SS=i.documentUrls)==null?void 0:SS.length)||0,")"]}),s.jsx("div",{className:"space-y-1 text-sm",children:(i.documentUrls||[]).map((y,W)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(K,{variant:"secondary",className:"text-xs",children:["Document ",W+1]}),s.jsx("span",{className:"text-muted-foreground truncate",children:y})]},W))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Document URLs are placeholders. In production, these will link to cloud storage."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"rejection-notes",children:"Rejection Notes (optional)"}),s.jsx(as,{id:"rejection-notes",placeholder:"Provide feedback on why this verification is being rejected...",value:c,onChange:y=>d(y.target.value),rows:3,"data-testid":"textarea-rejection-notes"})]})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsx(M,{variant:"outline",onClick:()=>{l(!1),d("")},children:"Cancel"}),s.jsxs(M,{variant:"destructive",onClick:()=>{i&&Cy.mutate({id:i.id,notes:c||"No reason provided"})},disabled:Cy.isPending,"data-testid":"button-reject-verification",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),Cy.isPending?"Rejecting...":"Reject"]}),s.jsxs(M,{onClick:()=>{i&&Sy.mutate(i.id)},disabled:Sy.isPending,"data-testid":"button-approve-verification",children:[s.jsx(Es,{className:"h-4 w-4 mr-2"}),Sy.isPending?"Approving...":"Approve"]})]})]})}),s.jsx(Jt,{open:j,onOpenChange:g,children:s.jsxs(Kt,{className:"max-w-2xl","data-testid":"dialog-lead-form",children:[s.jsxs(es,{children:[s.jsx(ts,{children:v?"Edit Lead":"Add New Lead"}),s.jsx(is,{children:v?"Update lead information":"Add a new sales lead to your CRM"})]}),s.jsx(Jr,{...gt,children:s.jsxs("form",{onSubmit:gt.handleSubmit(KU),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:gt.control,name:"firstName",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"First Name"}),s.jsx(me,{children:s.jsx(B,{...y,"data-testid":"input-lead-first-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:gt.control,name:"lastName",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Last Name"}),s.jsx(me,{children:s.jsx(B,{...y,"data-testid":"input-lead-last-name"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:gt.control,name:"email",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Email"}),s.jsx(me,{children:s.jsx(B,{type:"email",...y,"data-testid":"input-lead-email"})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:gt.control,name:"phone",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Phone"}),s.jsx(me,{children:s.jsx(B,{...y,value:y.value||"","data-testid":"input-lead-phone"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:gt.control,name:"company",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Company"}),s.jsx(me,{children:s.jsx(B,{...y,value:y.value||"","data-testid":"input-lead-company"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:gt.control,name:"status",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Status"}),s.jsxs(gs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-lead-status",children:s.jsx(ys,{placeholder:"Select status"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"new",children:"New"}),s.jsx(_e,{value:"contacted",children:"Contacted"}),s.jsx(_e,{value:"qualified",children:"Qualified"}),s.jsx(_e,{value:"proposal",children:"Proposal"}),s.jsx(_e,{value:"negotiation",children:"Negotiation"}),s.jsx(_e,{value:"won",children:"Won"}),s.jsx(_e,{value:"lost",children:"Lost"})]})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:gt.control,name:"source",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Source"}),s.jsxs(gs,{onValueChange:y.onChange,value:y.value||"",children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-lead-source",children:s.jsx(ys,{placeholder:"Select source"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"website",children:"Website"}),s.jsx(_e,{value:"referral",children:"Referral"}),s.jsx(_e,{value:"social_media",children:"Social Media"}),s.jsx(_e,{value:"advertising",children:"Advertising"}),s.jsx(_e,{value:"cold_outreach",children:"Cold Outreach"}),s.jsx(_e,{value:"event",children:"Event"}),s.jsx(_e,{value:"other",children:"Other"})]})]}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:gt.control,name:"notes",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Notes"}),s.jsx(me,{children:s.jsx(as,{...y,value:y.value||"","data-testid":"textarea-lead-notes",placeholder:"Add any notes about this lead...",rows:4})}),s.jsx(pe,{})]})}),s.jsxs(xn,{children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{g(!1),gt.reset(),f(null)},children:"Cancel"}),s.jsx(M,{type:"submit",disabled:_y.isPending||ky.isPending,"data-testid":"button-submit-lead",children:_y.isPending||ky.isPending?"Saving...":v?"Update Lead":"Create Lead"})]})]})})]})}),s.jsx(Jt,{open:b,onOpenChange:w,children:s.jsxs(Kt,{className:"max-w-md","data-testid":"dialog-expense-form",children:[s.jsxs(es,{children:[s.jsx(ts,{children:N?"Edit Expense":"Add New Expense"}),s.jsx(is,{children:N?"Update expense information":"Track a new expense"})]}),s.jsx(Jr,{...zt,children:s.jsxs("form",{onSubmit:zt.handleSubmit(HU),className:"space-y-4",children:[s.jsx(ce,{control:zt.control,name:"category",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Category"}),s.jsxs(gs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-expense-category",children:s.jsx(ys,{placeholder:"Select category"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"server",children:"Server"}),s.jsx(_e,{value:"database",children:"Database"}),s.jsx(_e,{value:"other",children:"Other"})]})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:zt.control,name:"amount",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Amount ($)"}),s.jsx(me,{children:s.jsx(B,{...y,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-expense-amount"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:zt.control,name:"expenseDate",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Date"}),s.jsx(me,{children:s.jsx(B,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):new Date),"data-testid":"input-expense-date"})}),s.jsx(pe,{})]})}),s.jsxs(oe,{children:[s.jsx(le,{children:"Invoice (Optional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{type:"file",accept:"image/*,.pdf",onChange:y=>{var ot;const W=(ot=y.target.files)==null?void 0:ot[0];W&&Qi(W)},"data-testid":"input-invoice-file"}),qs&&s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[s.jsx("span",{className:"text-sm truncate",children:qs.name}),s.jsx(M,{type:"button",size:"sm",onClick:WU,disabled:Ba,"data-testid":"button-extract-invoice-data",children:Ba?"Extracting...":"Auto-fill from invoice"})]})]}),s.jsx($s,{children:"Upload an invoice image or PDF. We'll automatically extract the amount, date, and description."})]}),s.jsx(ce,{control:zt.control,name:"description",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description (Optional)"}),s.jsx(me,{children:s.jsx(as,{...y,value:y.value||"","data-testid":"textarea-expense-description",placeholder:"Add details about this expense...",rows:3})}),s.jsx(pe,{})]})}),s.jsxs(xn,{children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{w(!1),zt.reset(),P(null)},children:"Cancel"}),s.jsx(M,{type:"submit",disabled:Py.isPending||Ey.isPending,"data-testid":"button-submit-expense",children:Py.isPending||Ey.isPending?"Saving...":N?"Update Expense":"Add Expense"})]})]})})]})}),s.jsx(Jt,{open:!!S,onOpenChange:y=>!y&&C(null),children:s.jsxs(Kt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Aircraft Listing Details"}),s.jsx(is,{children:"Review full aircraft listing information"})]}),S&&s.jsxs("div",{className:"space-y-6",children:[S.images&&S.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.images.slice(0,6).map((y,W)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:y,alt:`Aircraft ${W+1}`,className:"w-full h-full object-cover"})},W))}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3",children:[S.year," ",S.make," ",S.model]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Registration:"})," ",s.jsx("span",{className:"font-medium",children:S.registration})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:S.location})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Hourly Rate:"})," ",s.jsxs("span",{className:"font-medium",children:["$",S.hourlyRate,"/hr"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Time:"})," ",s.jsxs("span",{className:"font-medium",children:[S.totalTime," hrs"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Owner ID:"})," ",s.jsx("span",{className:"font-medium",children:S.ownerId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(K,{variant:S.isListed?"default":"secondary",children:S.isListed?"Listed":"Unlisted"})]})]})]}),S.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]}),S.requiredCertifications&&S.requiredCertifications.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Required Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.requiredCertifications.map((y,W)=>s.jsx(K,{variant:"outline",children:y},W))})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsxs(M,{variant:"outline",onClick:()=>{tS.mutate({id:S.id,isListed:!S.isListed}),C(null)},children:[S.isListed?"Unlist":"List"," Aircraft"]}),s.jsx(M,{variant:"destructive",onClick:()=>{J({type:"aircraft",id:S.id}),O(!0),C(null)},children:"Delete Listing"})]})]})]})}),s.jsx(Jt,{open:!!k,onOpenChange:y=>!y&&I(null),children:s.jsxs(Kt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Marketplace Listing Details"}),s.jsx(is,{children:"Review full marketplace listing information"})]}),k&&s.jsxs("div",{className:"space-y-6",children:[k.images&&k.images.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.images.slice(0,6).map((y,W)=>s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:y,alt:`Listing ${W+1}`,className:"w-full h-full object-cover"})},W))}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:k.title}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"})," ",s.jsx(K,{variant:"outline",className:"ml-1",children:k.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Location:"})," ",s.jsx("span",{className:"font-medium",children:k.location||"Not specified"})]}),k.price&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",s.jsxs("span",{className:"font-medium",children:["$",k.price]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"})," ",s.jsxs("span",{className:"font-medium",children:["$",k.monthlyFee,k.monthlyFee==="0"&&" (FREE)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"User ID:"})," ",s.jsx("span",{className:"font-medium",children:k.userId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",s.jsx(K,{variant:k.isActive?"default":"secondary",children:k.isActive?"Active":"Inactive"})]}),k.isPaid&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment:"})," ",s.jsx(K,{variant:"default",children:"Paid"})]}),k.expiresAt&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Expires:"})," ",s.jsx("span",{className:"font-medium",children:new Date(k.expiresAt).toLocaleDateString()})]})]})]}),k.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:k.description})]}),(k.contactEmail||k.contactPhone)&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[k.contactEmail&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:k.contactEmail})]}),k.contactPhone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:k.contactPhone})]})]})]}),s.jsxs(xn,{className:"gap-2",children:[s.jsxs(M,{variant:"outline",onClick:()=>{sS.mutate({id:k.id,isActive:!k.isActive}),I(null)},children:[k.isActive?"Deactivate":"Activate"," Listing"]}),s.jsx(M,{variant:"destructive",onClick:()=>{J({type:"marketplace",id:k.id}),O(!0),I(null)},children:"Delete Listing"})]})]})]})}),s.jsx(Jt,{open:A,onOpenChange:O,children:s.jsxs(Kt,{children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Delete Listing"}),s.jsxs(is,{children:["Are you sure you want to delete this ",($==null?void 0:$.type)==="aircraft"?"aircraft":"marketplace"," listing? This action cannot be undone."]})]}),s.jsxs(xn,{children:[s.jsx(M,{variant:"outline",onClick:()=>{O(!1),J(null)},"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(M,{variant:"destructive",onClick:VU,disabled:Ay.isPending||$y.isPending,"data-testid":"button-confirm-delete",children:Ay.isPending||$y.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(Jt,{open:Y,onOpenChange:q,children:s.jsxs(Kt,{className:"max-w-2xl","data-testid":"dialog-create-promo",children:[s.jsxs(es,{children:[s.jsxs(ts,{children:[de?"Edit":"Create"," Promotional Alert"]}),s.jsxs(is,{children:[de?"Update":"Create a new"," promotional banner or announcement for the marketplace"]})]}),s.jsx(Jr,{...Sn,children:s.jsxs("form",{onSubmit:Sn.handleSubmit(y=>Ry.mutate(y)),className:"space-y-4",children:[s.jsx(ce,{control:Sn.control,name:"title",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Title"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Limited Time Offer!",...y,"data-testid":"input-promo-title"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Sn.control,name:"message",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Message"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Get your first listing free for 7 days!",...y,"data-testid":"textarea-promo-message"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Sn.control,name:"promoCode",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Promo Code (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"LAUNCH2025",...y,value:y.value||"","data-testid":"input-promo-code"})}),s.jsx($s,{children:"Leave blank if no code needed"}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:Sn.control,name:"showOnMainPage",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-show-main"})}),s.jsx(le,{className:"cursor-pointer",children:"Show on Main Page"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Sn.control,name:"showOnCategoryPages",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-show-category"})}),s.jsx(le,{className:"cursor-pointer",children:"Show on Category Pages"}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:Sn.control,name:"targetCategories",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Target Categories"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["sale","charter","cfi","flight-school","mechanic","job"].map(W=>{var ot;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{checked:(ot=y.value)==null?void 0:ot.includes(W),onCheckedChange:vt=>{const Pt=y.value||[];vt?y.onChange([...Pt,W]):y.onChange(Pt.filter(yi=>yi!==W))},"data-testid":`checkbox-category-${W}`}),s.jsx(ae,{className:"cursor-pointer capitalize",children:W==="cfi"?"CFI":W.replace("-"," ")})]},W)})}),s.jsx($s,{children:"Leave all unchecked to show on all categories"}),s.jsx(pe,{})]})}),s.jsxs(xn,{children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{q(!1),xe(null),Sn.reset()},"data-testid":"button-cancel-create-promo",children:"Cancel"}),s.jsxs(M,{type:"submit",disabled:Ry.isPending,"data-testid":"button-submit-promo",children:[Ry.isPending?"Creating...":de?"Update":"Create"," Alert"]})]})]})})]})}),s.jsx(Jt,{open:Me,onOpenChange:y=>{et(y),y||(je(null),Ps.reset(),ne(""))},children:s.jsx(Kt,{className:"max-w-3xl p-0","data-testid":"dialog-create-banner",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(es,{className:"px-6 pt-6",children:[s.jsx(ts,{children:"Edit Live Banner Ad"}),s.jsx(is,{children:"Admin override: You can edit all banner ad fields including creative content, scheduling, and status."})]}),s.jsx(Jr,{...Ps,children:s.jsxs("form",{onSubmit:Ps.handleSubmit(y=>{if(!se){Ve({title:"Error",description:"Can only edit existing banner ads. Banner ads are created by activating paid orders.",variant:"destructive"});return}const W={title:y.title,description:y.description,imageUrl:Oe||y.imageUrl,link:y.link,placements:y.placements,category:y.category,startDate:y.startDate,endDate:y.endDate,isActive:y.isActive};Oy.mutate({id:se.id,data:W})}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ce,{control:Ps.control,name:"title",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Banner Title"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Premium Aircraft Rentals",...y,"data-testid":"input-banner-title"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Ps.control,name:"description",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description/Tagline (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Fly with confidence",...y,value:y.value??"","data-testid":"input-banner-description"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Ps.control,name:"link",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Link URL (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"https://example.com",...y,value:y.value??"","data-testid":"input-banner-link"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Ps.control,name:"imageUrl",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Banner Image"}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{placeholder:"Image URL",...y,value:y.value??"","data-testid":"input-banner-image-url"}),s.jsx(Gx,{onGetUploadParameters:DU,onComplete:IU,maxNumberOfFiles:1,children:s.jsx("div",{})}),(y.value||Oe)&&s.jsx("img",{src:y.value||Oe,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ce,{control:Ps.control,name:"placements",render:()=>s.jsxs(oe,{children:[s.jsx(le,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage"},{value:"rentals",label:"Aircraft Rentals"},{value:"marketplace",label:"Marketplace Hub"}].map(y=>s.jsx(ce,{control:Ps.control,name:"placements",render:({field:W})=>{var ot;return s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:((ot=W.value)==null?void 0:ot.includes(y.value))??!1,onCheckedChange:vt=>{const Pt=W.value||[],yi=vt?[...Pt,y.value]:Pt.filter(Dr=>Dr!==y.value);W.onChange(yi)},"data-testid":`checkbox-banner-placement-${y.value}`})}),s.jsx(le,{className:"cursor-pointer font-normal",children:y.label})]})}},y.value))}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Scheduling & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:Ps.control,name:"startDate",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Start Date"}),s.jsx(me,{children:s.jsx(B,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-banner-start-date"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:Ps.control,name:"endDate",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"End Date"}),s.jsx(me,{children:s.jsx(B,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-banner-end-date"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:Ps.control,name:"isActive",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-banner-active"})}),s.jsx(le,{className:"cursor-pointer",children:"Active (show banner immediately)"}),s.jsx(pe,{})]})})]})]}),s.jsxs(xn,{className:"px-6 pb-6",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{et(!1),je(null),Ps.reset(),ne("")},"data-testid":"button-cancel-edit-banner",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:Oy.isPending,"data-testid":"button-submit-edit-banner",children:Oy.isPending?"Updating...":"Update Banner Ad"})]})]})})]})})}),s.jsx(Jt,{open:he,onOpenChange:y=>{Fe(y),y||(Ye(null),rt.reset(),Qt(""),D(null),ee(""),Ee(null),Rt(""))},children:s.jsx(Kt,{className:"max-w-3xl p-0","data-testid":"dialog-create-order",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(es,{className:"px-6 pt-6",children:[s.jsxs(ts,{children:[ye?"Edit":"Create"," Banner Ad Order"]}),s.jsxs(is,{children:[ye?"Update":"Create a new"," banner ad order for sponsor billing and activation"]})]}),s.jsx(Jr,{...rt,children:s.jsxs("form",{onSubmit:rt.handleSubmit(y=>{if(!y.placements||y.placements.length===0){Ve({title:"Validation Error",description:"Please select at least one page for banner placement",variant:"destructive"});return}const W={...y,imageUrl:y.imageUrl||Lt};ye?Ly.mutate({id:ye.id,data:W}):My.mutate(W)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Sponsor Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:rt.control,name:"sponsorName",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Sponsor Name"}),s.jsx(me,{children:s.jsx(B,{placeholder:"John Doe",...y,"data-testid":"input-order-sponsor-name"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:rt.control,name:"sponsorEmail",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Sponsor Email"}),s.jsx(me,{children:s.jsx(B,{type:"email",placeholder:"sponsor@example.com",...y,"data-testid":"input-order-sponsor-email"})}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:rt.control,name:"sponsorCompany",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Company Name (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Aviation Corp",...y,value:y.value??"","data-testid":"input-order-sponsor-company"})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Creative"}),s.jsx(ce,{control:rt.control,name:"title",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Banner Title"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Premium Aircraft Rentals",...y,"data-testid":"input-order-title"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:rt.control,name:"description",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description/Tagline (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Fly with confidence",...y,value:y.value??"","data-testid":"input-order-description"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:rt.control,name:"link",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Link URL (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"https://example.com",...y,value:y.value??"","data-testid":"input-order-link"})}),s.jsx(pe,{})]})}),s.jsx(ce,{control:rt.control,name:"imageUrl",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Banner Image"}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(B,{placeholder:"Image URL",...y,value:y.value??"","data-testid":"input-order-image-url"}),s.jsx(Gx,{onGetUploadParameters:OU,onComplete:MU,maxNumberOfFiles:1,children:"Upload Image"}),Lt&&s.jsx("img",{src:Lt,alt:"Banner preview",className:"w-full h-32 object-cover rounded-md"})]})}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Banner Placement"}),s.jsx(ce,{control:rt.control,name:"placements",render:()=>s.jsxs(oe,{children:[s.jsx(le,{children:"Display On"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Homepage (Landing Page)"},{value:"rentals",label:"Aircraft Rentals Page"},{value:"marketplace",label:"Marketplace Hub"},{value:"aircraft-sale",label:"Aircraft for Sale"},{value:"jobs",label:"Aviation Jobs"},{value:"cfi",label:"CFI Services"},{value:"flight-school",label:"Flight Schools"},{value:"mechanic",label:"Mechanic Services"},{value:"charter",label:"Charter Services"}].map(y=>s.jsx(ce,{control:rt.control,name:"placements",render:({field:W})=>{var ot;return s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:((ot=W.value)==null?void 0:ot.includes(y.value))??!1,onCheckedChange:vt=>{const Pt=W.value||[],yi=vt?[...Pt,y.value]:Pt.filter(Dr=>Dr!==y.value);W.onChange(yi)},"data-testid":`checkbox-order-placement-${y.value}`})}),s.jsx(le,{className:"cursor-pointer font-normal",children:y.label})]})}},y.value))}),s.jsx(pe,{})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Pricing & Billing"}),s.jsx(ce,{control:rt.control,name:"tier",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Select Tier"}),s.jsx(me,{children:s.jsxs("select",{...y,className:"w-full h-9 rounded-md border border-input bg-background px-3 py-1 text-sm",onChange:W=>{y.onChange(W);const ot=W.target.value;kt(ot),Qt(""),D(null),ee(""),Ee(null);const vt=Xu(ot);rt.setValue("monthlyRate",vt.monthlyRate.toString()),rt.setValue("totalAmount",vt.subscriptionTotal.toString()),rt.setValue("creationFee",vt.creationFee.toString()),rt.setValue("grandTotal",vt.grandTotal.toString()),rt.setValue("promoCode",""),rt.setValue("discountAmount","0.00")},"data-testid":"select-order-tier",children:[s.jsx("option",{value:"1month",children:"1 Month - $75/mo"}),s.jsx("option",{value:"3months",children:"3 Months - $60/mo (Most Popular)"}),s.jsx("option",{value:"6months",children:"6 Months - $50/mo (Best Value)"}),s.jsx("option",{value:"12months",children:"12 Months - $45/mo"})]})}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Promo Code (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{placeholder:"Enter promo code",value:Is,onChange:y=>Qt(y.target.value.toUpperCase()),"data-testid":"input-order-promo-code",className:"flex-1"}),s.jsx(M,{type:"button",variant:"outline",onClick:BU,"data-testid":"button-apply-promo-code",children:"Apply"})]}),re===!1&&s.jsx("p",{className:"text-sm text-destructive","data-testid":"text-promo-error",children:H}),re===!0&&s.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1","data-testid":"text-promo-success",children:[s.jsx(Es,{className:"h-4 w-4"}),H]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Monthly Rate:"}),s.jsxs("span",{className:"font-semibold",children:["$",rt.watch("monthlyRate"),"/mo"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Subscription (",st==="1month"?"1":st==="3months"?"3":st==="6months"?"6":"12"," months):"]}),s.jsxs("span",{className:"font-semibold",children:["$",rt.watch("totalAmount")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"One-time creation fee:"}),s.jsxs("span",{className:"font-semibold",children:["$",rt.watch("creationFee")]})]}),De&&parseFloat(rt.watch("discountAmount")||"0")>0&&s.jsx(s.Fragment,{children:s.jsx("div",{className:"border-t pt-2 space-y-2",children:(()=>{const y=Xu(st),W=$k(y.creationFee,y.subscriptionTotal,De);return s.jsxs(s.Fragment,{children:[W.creationFeeDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Creation fee discount:"}),s.jsxs("span",{children:["-$",W.creationFeeDiscount.toFixed(2)]})]}),W.subscriptionDiscount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Subscription discount (20%):"}),s.jsxs("span",{children:["-$",W.subscriptionDiscount.toFixed(2)]})]})]})})()})}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"font-bold",children:"Due Today:"}),s.jsxs("span",{className:"font-bold text-lg",children:["$",rt.watch("grandTotal")]})]})]})]}),s.jsx(ce,{control:rt.control,name:"adminNotes",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Admin Notes (Optional)"}),s.jsx(me,{children:s.jsx(B,{placeholder:"Internal notes",...y,value:y.value??"","data-testid":"input-order-admin-notes"})}),s.jsx(pe,{})]})})]}),s.jsxs(xn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{Fe(!1),Ye(null),rt.reset()},"data-testid":"button-cancel-create-order",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:My.isPending||Ly.isPending,"data-testid":"button-submit-order",children:My.isPending||Ly.isPending?"Saving...":ye?"Update Order":"Create Order"})]})]})})]})})}),s.jsx(Jt,{open:z,onOpenChange:y=>{R(y),y||(ue(null),qt.reset())},children:s.jsx(Kt,{className:"max-w-2xl p-0","data-testid":"dialog-create-promo-code",children:s.jsxs("div",{className:"flex flex-col max-h-[90vh]",children:[s.jsxs(es,{className:"px-6 pt-6",children:[s.jsxs(ts,{children:[Q?"Edit":"Create"," Promo Code"]}),s.jsxs(is,{children:[Q?"Update":"Create a new"," promotional discount code for marketplace listings or banner ads"]})]}),s.jsx(Jr,{...qt,children:s.jsxs("form",{onSubmit:qt.handleSubmit(y=>{const W={...y,code:y.code.toUpperCase().replace(/\s+/g,"")};Q?Iy.mutate({id:Q.id,data:W}):Dy.mutate(W)}),className:"flex flex-col flex-1 min-h-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[s.jsx(ce,{control:qt.control,name:"code",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Code"}),s.jsx(me,{children:s.jsx(B,{placeholder:"LAUNCH2025",...y,onChange:W=>y.onChange(W.target.value.toUpperCase().replace(/\s+/g,"")),"data-testid":"input-promo-code-code"})}),s.jsx($s,{children:"Uppercase letters and numbers only, no spaces"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:qt.control,name:"description",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Description"}),s.jsx(me,{children:s.jsx(as,{placeholder:"Launch promotion for new users",...y,rows:3,"data-testid":"textarea-promo-code-description"})}),s.jsx($s,{children:"Internal description for this promo code"}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:qt.control,name:"discountType",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Discount Type"}),s.jsxs(gs,{onValueChange:y.onChange,value:y.value,children:[s.jsx(me,{children:s.jsx(cs,{"data-testid":"select-promo-code-discount-type",children:s.jsx(ys,{placeholder:"Select type"})})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"percentage",children:"Percentage (%)"}),s.jsx(_e,{value:"fixed",children:"Fixed Amount ($)"})]})]}),s.jsx(pe,{})]})}),s.jsx(ce,{control:qt.control,name:"discountValue",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Discount Value"}),s.jsx(me,{children:s.jsx(B,{type:"number",step:"0.01",placeholder:qt.watch("discountType")==="percentage"?"10":"5.00",...y,"data-testid":"input-promo-code-discount-value"})}),s.jsx($s,{children:qt.watch("discountType")==="percentage"?"Percentage (0-100)":"Dollar amount"}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:qt.control,name:"maxUses",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Max Uses"}),s.jsx(me,{children:s.jsx(B,{type:"number",placeholder:"Unlimited",...y,value:y.value??"",onChange:W=>y.onChange(W.target.value?parseInt(W.target.value):void 0),"data-testid":"input-promo-code-max-uses"})}),s.jsx($s,{children:"Leave empty for unlimited uses"}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ce,{control:qt.control,name:"validFrom",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Valid From"}),s.jsx(me,{children:s.jsx(B,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):new Date),"data-testid":"input-promo-code-valid-from"})}),s.jsx($s,{children:"Start date"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:qt.control,name:"validUntil",render:({field:y})=>s.jsxs(oe,{children:[s.jsx(le,{children:"Valid Until"}),s.jsx(me,{children:s.jsx(B,{type:"date",value:y.value instanceof Date?y.value.toISOString().split("T")[0]:typeof y.value=="string"?y.value.split("T")[0]:"",onChange:W=>y.onChange(W.target.value?new Date(W.target.value):void 0),"data-testid":"input-promo-code-valid-until"})}),s.jsx($s,{children:"Leave empty for no expiration"}),s.jsx(pe,{})]})})]}),s.jsx(ce,{control:qt.control,name:"isActive",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!0,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-active"})}),s.jsx(le,{className:"cursor-pointer",children:"Active (code can be used immediately)"}),s.jsx(pe,{})]})}),s.jsxs("div",{className:"space-y-3 p-4 border rounded-md",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Applies To"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ce,{control:qt.control,name:"applicableToBannerAds",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!1,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-banner-ads"})}),s.jsx(le,{className:"cursor-pointer",children:"Banner Ads"}),s.jsx(pe,{})]})}),s.jsx(ce,{control:qt.control,name:"applicableToMarketplace",render:({field:y})=>s.jsxs(oe,{className:"flex items-center gap-2 space-y-0",children:[s.jsx(me,{children:s.jsx(Ts,{checked:y.value??!0,onCheckedChange:y.onChange,"data-testid":"checkbox-promo-code-marketplace"})}),s.jsx(le,{className:"cursor-pointer",children:"Marketplace Listings"}),s.jsx(pe,{})]})})]}),s.jsx($s,{children:"Select where this promo code can be applied"})]})]}),s.jsxs(xn,{className:"sticky bottom-0 border-t bg-background px-6 py-4",children:[s.jsx(M,{type:"button",variant:"outline",onClick:()=>{R(!1),ue(null),qt.reset()},"data-testid":"button-cancel-promo-code",children:"Cancel"}),s.jsx(M,{type:"submit",disabled:Dy.isPending||Iy.isPending,"data-testid":"button-submit-promo-code",children:Dy.isPending||Iy.isPending?"Saving...":Q?"Update Code":"Create Code"})]})]})})]})})}),s.jsx(mae,{userId:u,open:m,onOpenChange:y=>{x(y),y||h(null)}})]})}function fae(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=h=>{var f;const{scope:m,children:x,...j}=h,g=((f=m==null?void 0:m[t])==null?void 0:f[c])||l,v=p.useMemo(()=>j,Object.values(j));return s.jsx(g.Provider,{value:v,children:x})};d.displayName=a+"Provider";function u(h,m){var g;const x=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,j=p.useContext(x);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,xae(i,...e)]}function xae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var gae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z6=gae.reduce((t,e)=>{const n=gp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),q1="Progress",H1=100,[yae]=fae(q1),[vae,jae]=yae(q1),J6=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=bae,...o}=t;(i||i===0)&&!Uk(i)&&console.error(wae(`${i}`,"Progress"));const l=Uk(i)?i:H1;r!==null&&!Bk(r,l)&&console.error(Nae(`${r}`,"Progress"));const c=Bk(r,l)?r:null,d=Yx(c)?a(c,l):void 0;return s.jsx(vae,{scope:n,value:c,max:l,children:s.jsx(Z6.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":sU(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});J6.displayName=q1;var eU="ProgressIndicator",tU=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=jae(eU,n);return s.jsx(Z6.div,{"data-state":sU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});tU.displayName=eU;function bae(t,e){return`${Math.round(t/e*100)}%`}function sU(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Yx(t){return typeof t=="number"}function Uk(t){return Yx(t)&&!isNaN(t)&&t>0}function Bk(t,e){return Yx(t)&&!isNaN(t)&&t<=e&&t>=0}function wae(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${H1}\`.`}function Nae(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${H1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var nU=J6,Sae=tU;const rU=p.forwardRef(({className:t,value:e,...n},r)=>s.jsx(nU,{ref:r,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:s.jsx(Sae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));rU.displayName=nU.displayName;function Cae(){const{user:t}=Ds(),[,e]=an(),{toast:n}=Ot(),[r,i]=p.useState("identity"),[a,o]=p.useState({legalFirstName:"",legalLastName:"",dateOfBirth:"",governmentIdFront:null,governmentIdBack:null,faaCertificateNumber:"",pilotCertificateName:"",pilotCertificatePhoto:null}),[l,c]=p.useState({}),d=[{id:"identity",title:"Identity",icon:Mn},{id:"documents",title:"Documents",icon:pp},{id:"payment",title:"Payment",icon:wh},{id:"pilot",title:"FAA Pilot (Optional)",icon:Vt}],u=d.findIndex(v=>v.id===r),h=(u+1)/d.length*100,m=Ie({mutationFn:async v=>{const f=await fetch("/api/verification-submissions",{method:"POST",body:v,credentials:"include"});if(!f.ok){const b=await f.json();throw new Error(b.error||"Submission failed")}return await f.json()},onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Verification Submitted",description:"Your verification is under review. We'll notify you once it's approved."}),e("/profile")},onError:v=>{n({title:"Submission Failed",description:v.message||"Failed to submit verification",variant:"destructive"})}}),x=(v,f)=>{if(o(b=>({...b,[v]:f})),f){const b=new FileReader;b.onloadend=()=>{const w=v==="governmentIdFront"?"idFront":v==="governmentIdBack"?"idBack":"pilot";c(N=>({...N,[w]:b.result}))},b.readAsDataURL(f)}},j=()=>{if(r==="identity"){if(!a.legalFirstName||!a.legalLastName||!a.dateOfBirth){n({title:"Missing Information",description:"Please fill out all required fields",variant:"destructive"});return}i("documents")}else if(r==="documents"){if(!a.governmentIdFront||!a.governmentIdBack){n({title:"Missing Documents",description:"Please upload all required documents",variant:"destructive"});return}i("payment")}else r==="payment"&&i("pilot")},g=async()=>{const v=new FormData;v.append("type","renter_identity"),v.append("submissionData",JSON.stringify({legalFirstName:a.legalFirstName,legalLastName:a.legalLastName,dateOfBirth:a.dateOfBirth,faaCertificateNumber:a.faaCertificateNumber,pilotCertificateName:a.pilotCertificateName})),a.governmentIdFront&&v.append("governmentIdFront",a.governmentIdFront),a.governmentIdBack&&v.append("governmentIdBack",a.governmentIdBack),a.pilotCertificatePhoto&&v.append("pilotCertificatePhoto",a.pilotCertificatePhoto),m.mutate(v)};return t?s.jsx("div",{className:"min-h-screen bg-background py-8",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"font-display text-3xl font-bold mb-2","data-testid":"text-verification-title",children:"Identity Verification"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete verification to list aircraft and book rentals"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-2",children:d.map((v,f)=>{const b=v.icon,w=f===u,N=f<u;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`flex items-center justify-center h-10 w-10 rounded-full border-2 ${N?"bg-primary border-primary text-primary-foreground":w?"border-primary text-primary":"border-muted text-muted-foreground"}`,"data-testid":`step-indicator-${v.id}`,children:N?s.jsx(Wt,{className:"h-5 w-5"}):s.jsx(b,{className:"h-5 w-5"})}),s.jsx("span",{className:`hidden md:inline text-sm ${w?"font-medium":""}`,children:v.title})]},v.id)})}),s.jsx(rU,{value:h,className:"h-2"})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs(Z,{children:[r==="identity"&&"Personal Information",r==="documents"&&"Upload Documents",r==="payment"&&"Payment Method",r==="pilot"&&"FAA Pilot Certificate (Optional)"]}),s.jsxs(Ne,{children:[r==="identity"&&"Enter your legal name and date of birth",r==="documents"&&"Upload clear photos of your government ID (front and back)",r==="payment"&&"Add a payment method for booking rentals",r==="pilot"&&"Upload your FAA pilot certificate for additional verification"]})]}),s.jsxs(U,{className:"space-y-6",children:[r==="identity"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"legalFirstName",children:"Legal First Name *"}),s.jsx(B,{id:"legalFirstName",value:a.legalFirstName,onChange:v=>o(f=>({...f,legalFirstName:v.target.value})),placeholder:"John","data-testid":"input-legal-first-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"legalLastName",children:"Legal Last Name *"}),s.jsx(B,{id:"legalLastName",value:a.legalLastName,onChange:v=>o(f=>({...f,legalLastName:v.target.value})),placeholder:"Smith","data-testid":"input-legal-last-name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),s.jsx(B,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:v=>o(f=>({...f,dateOfBirth:v.target.value})),"data-testid":"input-date-of-birth"})]}),s.jsxs(Gs,{children:[s.jsx(Ql,{className:"h-4 w-4"}),s.jsx(Ys,{children:"Your information must match your government-issued ID exactly."})]})]}),r==="documents"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"idFront",children:"Government ID - Front *"}),s.jsx(B,{id:"idFront",type:"file",accept:"image/*",onChange:v=>{var f;return x("governmentIdFront",((f=v.target.files)==null?void 0:f[0])||null)},"data-testid":"input-id-front"}),l.idFront&&s.jsx("img",{src:l.idFront,alt:"ID Front",className:"mt-2 max-w-xs rounded-md border"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"idBack",children:"Government ID - Back *"}),s.jsx(B,{id:"idBack",type:"file",accept:"image/*",onChange:v=>{var f;return x("governmentIdBack",((f=v.target.files)==null?void 0:f[0])||null)},"data-testid":"input-id-back"}),l.idBack&&s.jsx("img",{src:l.idBack,alt:"ID Back",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Gs,{children:[s.jsx(Ql,{className:"h-4 w-4"}),s.jsx(Ys,{children:"Ensure all documents are clear and readable."})]})]}),r==="payment"&&s.jsxs(s.Fragment,{children:[s.jsxs(Gs,{children:[s.jsx(wh,{className:"h-4 w-4"}),s.jsx(Ys,{children:"Payment processing is handled securely through PayPal Business when you complete your first rental or listing transaction."})]}),s.jsxs("div",{className:"p-6 border-2 border-dashed rounded-lg text-center",children:[s.jsx(wh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Payment Method"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your payment method will be securely added via PayPal Business when you make your first rental or listing payment. All transactions are processed through our trusted payment partner."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Ready Set Fly uses PayPal Business for secure payment processing"})]})]}),r==="pilot"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"faaCertNumber",children:"FAA Certificate Number (Optional)"}),s.jsx(B,{id:"faaCertNumber",value:a.faaCertificateNumber,onChange:v=>o(f=>({...f,faaCertificateNumber:v.target.value})),placeholder:"1234567","data-testid":"input-faa-cert-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"pilotName",children:"Name on Certificate (Optional)"}),s.jsx(B,{id:"pilotName",value:a.pilotCertificateName,onChange:v=>o(f=>({...f,pilotCertificateName:v.target.value})),placeholder:"John Smith","data-testid":"input-pilot-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"pilotPhoto",children:"Pilot Certificate Photo (Optional)"}),s.jsx(B,{id:"pilotPhoto",type:"file",accept:"image/*",onChange:v=>{var f;return x("pilotCertificatePhoto",((f=v.target.files)==null?void 0:f[0])||null)},"data-testid":"input-pilot-photo"}),l.pilot&&s.jsx("img",{src:l.pilot,alt:"Pilot Certificate",className:"mt-2 max-w-xs rounded-md border"})]})]}),s.jsxs(Gs,{children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx(Ys,{children:"Adding your FAA pilot certificate is optional but helps verify your credentials for aircraft rentals."})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(M,{variant:"outline",onClick:()=>{const v=u-1;v>=0?i(d[v].id):e("/profile")},"data-testid":"button-back",children:u===0?"Cancel":"Back"}),r!=="pilot"?s.jsx(M,{onClick:j,"data-testid":"button-next",children:"Next"}):s.jsx(M,{onClick:g,disabled:m.isPending,"data-testid":"button-submit-verification",children:m.isPending?"Submitting...":"Submit for Review"})]})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(L,{className:"max-w-md",children:s.jsxs(G,{children:[s.jsx(Z,{children:"Authentication Required"}),s.jsx(Ne,{children:"Please log in to verify your identity"})]})})})}function _ae(){const[,t]=an();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs(M,{variant:"ghost",onClick:()=>t("/dashboard"),className:"mb-6","data-testid":"button-back",children:[s.jsx(Fg,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Set Up Instant PayPal Payouts"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Ready Set Fly uses PayPal Business for secure, instant payout processing. Get your rental earnings in minutes, not days."})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx(L,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(e7,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Instant Transfers"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Funds arrive in your PayPal account within minutes"})]})]})})}),s.jsx(L,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Mn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Secure Processing"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Trusted PayPal Business payment gateway"})]})]})})}),s.jsx(L,{className:"border-primary/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(xs,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Simple Setup"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Just add your PayPal email and start withdrawing"})]})]})})})]}),s.jsxs(L,{className:"border-primary/20 bg-primary/5",children:[s.jsx(G,{children:s.jsxs(Z,{className:"flex items-center gap-2 text-lg",children:[s.jsx(YN,{className:"h-5 w-5 text-primary"}),"How PayPal Payouts Work"]})}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Connect Your PayPal Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your PayPal email address to receive instant payouts"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Request Withdrawals Anytime"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Withdraw your available balance instantly, any time you want"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Receive Funds Instantly"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Funds typically arrive in your PayPal account within minutes"})]})]})]})})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-base",children:"Learn More About PayPal"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/payouts",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-docs",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Zr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Payouts Documentation"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Learn about instant payout processing"})]})]}),s.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs("a",{href:"https://www.paypal.com/us/business/accept-payments/checkout",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 rounded-lg border hover-elevate active-elevate-2 transition-colors","data-testid":"link-paypal-guide",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Zr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"PayPal Business Guide"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment processing and withdrawals"})]})]}),s.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),s.jsx(L,{className:"border-primary",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up instant PayPal withdrawals to receive your rental earnings"})]}),s.jsxs(M,{size:"lg",onClick:()=>t("/owner-withdrawals"),"data-testid":"button-setup-payouts",className:"bg-accent text-accent-foreground hover:bg-accent",children:[s.jsx(xs,{className:"mr-2 h-4 w-4"}),"Go to PayPal Withdrawals"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Funds typically arrive within minutes. US residents only."})]})})})]})]})}function kae(){const{user:t}=Ds(),{toast:e}=Ot(),[n,r]=p.useState((t==null?void 0:t.paypalEmail)||""),[i,a]=p.useState(""),{data:o,isLoading:l}=We({queryKey:["/api/balance"],enabled:!!t}),{data:c=[],isLoading:d}=We({queryKey:["/api/withdrawals"],enabled:!!t}),u=Ie({mutationFn:async v=>await(await Te("PATCH","/api/user/profile",{paypalEmail:v})).json(),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"PayPal Email Updated",description:"Your PayPal email has been saved successfully."})},onError:v=>{e({title:"Update Failed",description:v.message||"Failed to update PayPal email",variant:"destructive"})}}),h=Ie({mutationFn:async v=>await(await Te("POST","/api/withdrawals",v)).json(),onSuccess:()=>{Le.invalidateQueries({queryKey:["/api/balance"]}),Le.invalidateQueries({queryKey:["/api/withdrawals"]}),a(""),e({title:"Payout Processing",description:"Your funds are being sent to PayPal now. Funds typically arrive within minutes."})},onError:v=>{e({title:"Withdrawal Failed",description:v.message||"Failed to request withdrawal",variant:"destructive"})}}),m=()=>{if(!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){e({title:"Invalid Email",description:"Please enter a valid PayPal email address",variant:"destructive"});return}u.mutate(n)},x=()=>{const v=parseFloat(i),f=parseFloat((o==null?void 0:o.balance)||"0");if(isNaN(v)||v<=0){e({title:"Invalid Amount",description:"Please enter a valid withdrawal amount",variant:"destructive"});return}if(v>f){e({title:"Insufficient Balance",description:"Withdrawal amount exceeds your available balance",variant:"destructive"});return}if(!n){e({title:"PayPal Email Required",description:"Please set your PayPal email before requesting a withdrawal",variant:"destructive"});return}h.mutate({amount:i,paypalEmail:n})},j=v=>{switch(v){case"processing":return s.jsxs(K,{variant:"outline",className:"gap-1","data-testid":"badge-status-processing",children:[s.jsx(Ql,{className:"w-3 h-3"}),"Processing"]});case"completed":return s.jsxs(K,{variant:"outline",className:"gap-1","data-testid":"badge-status-completed",children:[s.jsx(Es,{className:"w-3 h-3"}),"Completed"]});case"failed":return s.jsxs(K,{variant:"destructive",className:"gap-1","data-testid":"badge-status-failed",children:[s.jsx(nr,{className:"w-3 h-3"}),"Failed"]});default:return s.jsx(K,{variant:"outline","data-testid":`badge-status-${v}`,children:v})}};if(!t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(L,{children:s.jsxs(G,{children:[s.jsx(Z,{children:"Authentication Required"}),s.jsx(Ne,{children:"Please log in to view your withdrawals."})]})})});const g=parseFloat((o==null?void 0:o.balance)||"0");return s.jsxs("div",{className:"container mx-auto p-6 max-w-5xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"heading-withdrawals",children:"Withdrawals & Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your rental earnings and request withdrawals"})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"flex items-center gap-2","data-testid":"heading-balance",children:[s.jsx(xs,{className:"w-5 h-5"}),"Available Balance"]}),s.jsx(Ne,{children:"Your current balance available for withdrawal"})]}),s.jsx(U,{children:l?s.jsx("p",{className:"text-muted-foreground",children:"Loading balance..."}):s.jsxs("div",{className:"text-4xl font-bold","data-testid":"text-balance",children:["$",g.toFixed(2)]})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-paypal-setup",children:"PayPal Email"}),s.jsx(Ne,{children:"Set your PayPal email to receive withdrawals"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"paypal-email",children:"PayPal Email Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{id:"paypal-email",type:"email",placeholder:"your.email@example.com",value:n,onChange:v=>r(v.target.value),"data-testid":"input-paypal-email"}),s.jsx(M,{onClick:m,disabled:u.isPending,"data-testid":"button-save-email",children:u.isPending?"Saving...":"Save"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payouts are sent via PayPal and typically arrive within minutes to 30 minutes."})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-request-withdrawal",children:"Request Withdrawal"}),s.jsx(Ne,{children:"Withdraw your available balance to PayPal"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"withdrawal-amount",children:"Withdrawal Amount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(B,{id:"withdrawal-amount",type:"number",step:"0.01",min:"0",max:g,placeholder:"0.00",value:i,onChange:v=>a(v.target.value),className:"pl-7","data-testid":"input-withdrawal-amount"})]}),s.jsx(M,{onClick:x,disabled:h.isPending||g<=0,"data-testid":"button-request-withdrawal",children:h.isPending?"Requesting...":"Request Withdrawal"})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Important Information"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Withdrawals are processed instantly via PayPal Payouts"}),s.jsx("li",{children:" PayPal charges approximately 2% per payout (deducted from platform funds)"}),s.jsx("li",{children:" Funds typically arrive in your PayPal account within minutes"}),s.jsx("li",{children:" You'll receive an email confirmation from PayPal when funds arrive"})]})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{"data-testid":"heading-withdrawal-history",children:"Withdrawal History"}),s.jsx(Ne,{children:"View your past withdrawal requests"})]}),s.jsx(U,{children:d?s.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."}):c.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-withdrawals",children:"No withdrawal requests yet"}):s.jsx("div",{className:"space-y-4",children:c.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md","data-testid":`card-withdrawal-${v.id}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium","data-testid":`text-amount-${v.id}`,children:["$",parseFloat(v.amount).toFixed(2)]}),j(v.status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-email-${v.id}`,children:["To: ",v.paypalEmail]}),s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-date-${v.id}`,children:["Requested: ",v.requestedAt?new Date(v.requestedAt).toLocaleDateString():"N/A"]}),v.processedAt&&s.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`text-processed-${v.id}`,children:["Processed: ",new Date(v.processedAt).toLocaleDateString()]}),v.failureReason&&s.jsxs("p",{className:"text-sm text-destructive","data-testid":`text-error-${v.id}`,children:["Error: ",v.failureReason]})]}),v.transactionId&&s.jsxs("div",{className:"text-xs text-muted-foreground","data-testid":`text-transaction-${v.id}`,children:["Transaction: ",v.transactionId]})]},v.id))})})]})]})}function hs(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4",children:s.jsxs(L,{className:"max-w-md w-full",children:[s.jsxs(G,{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:s.jsx(Vt,{className:"h-12 w-12 text-primary"})})}),s.jsxs("div",{children:[s.jsx(Z,{className:"text-2xl font-bold",children:"Sign In Required"}),s.jsx(Ne,{className:"text-base mt-2",children:"You need to be signed in to create listings and access this feature"})]})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Create an account or sign in to list your aircraft, post marketplace listings, and connect with the aviation community."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Je,{href:"/login",children:s.jsxs(M,{size:"lg",className:"w-full","data-testid":"button-sign-in-required",children:[s.jsx(Bz,{className:"mr-2 h-5 w-5"}),"Sign In to Continue"]})}),s.jsx(Je,{href:"/",children:s.jsx(M,{size:"lg",variant:"outline",className:"w-full","data-testid":"button-back-home",children:"Back to Home"})})]})]})]})})}function Vk(){const{isAuthenticated:t}=Ds();return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background px-4 py-12",children:s.jsxs("div",{className:"flex flex-col gap-8 items-center text-center max-w-3xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Vt,{className:"h-32 w-32 text-muted-foreground/20 animate-pulse"}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-display text-7xl font-bold mb-3 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:"Looks like this flight path doesn't exist. The page you're looking for may have been moved or deleted."})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full mt-4",children:[s.jsx(Je,{href:"/",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-home",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(h2,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Home"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Return to landing page"})]})]})})}),s.jsx(Je,{href:"/rentals",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-rentals",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(Wn,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Browse Rentals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find aircraft to rent"})]})]})})}),s.jsx(Je,{href:"/marketplace",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-marketplace",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(Vt,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Marketplace"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aviation services"})]})]})})})]}),t&&s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 w-full",children:[s.jsx(Je,{href:"/dashboard",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-dashboard",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(fD,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your activity"})]})]})})}),s.jsx(Je,{href:"/favorites",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-favorites",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(Oz,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Favorites"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved listings"})]})]})})}),s.jsx(Je,{href:"/messages",children:s.jsx(L,{className:"hover-elevate cursor-pointer","data-testid":"card-nav-messages",children:s.jsxs(U,{className:"flex flex-col items-center gap-3 p-6",children:[s.jsx(hD,{className:"h-8 w-8 text-accent"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check conversations"})]})]})})})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx(Je,{href:"/",children:s.jsxs(M,{size:"lg","data-testid":"button-go-home",children:[s.jsx(h2,{className:"h-5 w-5 mr-2"}),"Return to Home"]})}),!t&&s.jsx(Je,{href:"/login",children:s.jsx(M,{size:"lg",variant:"outline","data-testid":"button-sign-in",children:"Sign In"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["If you believe this is an error, please"," ",s.jsx(Je,{href:"/messages",className:"text-primary hover:underline",children:"contact support"}),"."]})]})})}function Pae(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-3xl",children:"Privacy Policy"}),s.jsx(Ne,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),s.jsx("p",{children:'Ready Set Fly ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By using the Platform, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use the Platform."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.1 Information You Provide to Us"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," When you create an account, we collect your name, email address, and password (if using email/password authentication)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Information:"})," We collect additional information you provide such as phone number, profile photo, and bio."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Verification Documents:"})," To verify your identity as a pilot or aircraft owner, we collect pilot licenses, certificates, insurance documents, and other verification materials."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Aircraft Information:"})," If you list an aircraft for rent, we collect aircraft registration numbers, make, model, specifications, photos, and availability information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listings:"})," If you create marketplace listings, we collect listing descriptions, photos, prices, and contact information."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Information:"})," We collect payment information necessary to process rental payments and marketplace transactions, including payment method details processed by our payment processor (PayPal)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Messages:"})," We collect and store messages you send through our platform messaging system."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"2.2 Information Automatically Collected"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," We collect information about your interactions with the Platform, including pages visited, features used, and time spent on the Platform."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," We collect information about your device, including device type, operating system, browser type, and IP address."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication Data:"})," When you use third-party authentication (Google SignIn; legacy Replit Auth may also be supported), we receive your name, email, and profile information from those services."]})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Information"}),s.jsx("p",{children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To verify your identity as a pilot or aircraft owner"}),s.jsx("li",{children:"To facilitate aircraft rentals and marketplace transactions"}),s.jsx("li",{children:"To process payments and manage financial transactions"}),s.jsx("li",{children:"To enable communication between users through our messaging system"}),s.jsx("li",{children:"To provide customer support and respond to your inquiries"}),s.jsx("li",{children:"To send important notifications about your account, rentals, and transactions"}),s.jsx("li",{children:"To prevent fraud, enforce our Terms of Service, and ensure platform security"}),s.jsx("li",{children:"To improve and optimize the Platform based on usage patterns"}),s.jsx("li",{children:"To comply with legal obligations and regulatory requirements"})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. How We Share Your Information"}),s.jsx("p",{children:"We may share your information in the following circumstances:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 With Other Users"}),s.jsx("p",{children:"When you list an aircraft or create a marketplace listing, certain information (name, profile photo, listing details) is visible to other users. When you book a rental, your information is shared with the aircraft owner to facilitate the rental."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 With Service Providers"}),s.jsx("p",{children:"We share information with third-party service providers who assist us in operating the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal:"})," Processes all payments for aircraft rentals and marketplace listing fees. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PayPal Payouts API:"})," Processes owner withdrawals. View their privacy policy at ",s.jsx("a",{href:"https://www.paypal.com/us/legalhub/privacy-full",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"paypal.com/us/legalhub/privacy-full"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Google (Identity):"})," Provides authentication services when you sign in using Google. View their privacy policy at ",s.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"policies.google.com/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Replit (Legacy):"})," Previously used for authentication/hosting for some deployments. If applicable, we may continue to support legacy Replit-authenticated accounts. View their privacy policy at ",s.jsx("a",{href:"https://replit.com/site/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"replit.com/site/privacy"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Neon (PostgreSQL Database):"})," Hosts our database. View their privacy policy at ",s.jsx("a",{href:"https://neon.tech/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"neon.tech/privacy-policy"})]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 For Legal Reasons"}),s.jsx("p",{children:"We may disclose your information if required by law or to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal processes or government requests"}),s.jsx("li",{children:"Enforce our Terms of Service and other agreements"}),s.jsx("li",{children:"Protect the rights, property, or safety of Ready Set Fly, our users, or others"}),s.jsx("li",{children:"Prevent fraud or security threats"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.4 Business Transfers"}),s.jsx("p",{children:"If Ready Set Fly is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction. We will notify you via email and/or prominent notice on the Platform of any change in ownership or use of your information."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Data Retention"}),s.jsx("p",{children:"We retain your information for as long as your account is active or as needed to provide you services. We will retain and use your information as necessary to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Comply with legal obligations (e.g., tax records for 7 years)"}),s.jsx("li",{children:"Resolve disputes and enforce our agreements"}),s.jsx("li",{children:"Prevent fraud and maintain platform security"})]}),s.jsx("p",{className:"mt-3",children:"When you request account deletion, we will delete your personal information within 30 days, except for information we are required to retain for legal, regulatory, or security purposes."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Your Rights and Choices"}),s.jsx("p",{children:"You have the following rights regarding your information:"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Access and Update"}),s.jsx("p",{children:"You can access and update your account information at any time by logging into your account and visiting your Profile settings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Account Deletion"}),s.jsx("p",{children:"You have the right to request deletion of your account and personal data. You can:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Delete your account from within the app by visiting Settings  Account  Delete Account"}),s.jsxs("li",{children:["Submit a deletion request at ",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:"readysetfly.us/delete-account"})]})]}),s.jsx("p",{className:"mt-3",children:"When you delete your account, we will remove your personal information, rental history, messages, and verification documents within 30 days. Some information may be retained as required by law."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 Marketing Communications"}),s.jsx("p",{children:"You can opt out of marketing communications by following the unsubscribe link in our emails. You will continue to receive transactional emails related to your account and rentals."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.4 Data Portability"}),s.jsx("p",{children:"You have the right to request a copy of your personal data in a portable format. Contact us at privacy@readysetfly.us to request your data."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Data Security"}),s.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your information, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Encryption of data in transit using SSL/TLS"}),s.jsx("li",{children:"Secure password hashing using bcrypt"}),s.jsx("li",{children:"Secure token-based authentication (JWT for mobile apps)"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Limited access to personal data by authorized personnel only"})]}),s.jsx("p",{className:"mt-3",children:"However, no method of transmission over the internet or electronic storage is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Children's Privacy"}),s.jsx("p",{children:"The Platform is not intended for users under the age of 18. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us at privacy@readysetfly.us, and we will delete such information."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Geographic Restrictions"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ready Set Fly is available exclusively to residents of the United States."})," The Platform is not intended for use by individuals located outside the United States. By using the Platform, you represent and warrant that you are a resident of the United States."]}),s.jsx("p",{className:"mt-3",children:"All data is stored and processed on servers located in the United States. We comply with applicable US federal and state privacy laws, including the California Consumer Privacy Act (CCPA) and other state-specific privacy regulations."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Changes to This Privacy Policy"}),s.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the new Privacy Policy on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date at the top'}),s.jsx("li",{children:"Sending you an email notification for material changes"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after changes are posted constitutes your acceptance of the updated Privacy Policy."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Contact Us"}),s.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," privacy@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. State-Specific Rights"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"California Residents (CCPA)"}),s.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),s.jsx("li",{children:"Right to delete personal information"}),s.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),s.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"European Residents (GDPR)"}),s.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR):"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Right of access to your personal data"}),s.jsx("li",{children:"Right to rectification of inaccurate data"}),s.jsx("li",{children:'Right to erasure ("right to be forgotten")'}),s.jsx("li",{children:"Right to restriction of processing"}),s.jsx("li",{children:"Right to data portability"}),s.jsx("li",{children:"Right to object to processing"})]}),s.jsx("p",{className:"mt-3",children:"To exercise any of these rights, please contact us at privacy@readysetfly.us."})]})]})]})})}function Eae(){return s.jsx("div",{className:"container max-w-4xl py-8 px-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-3xl",children:"Terms of Service"}),s.jsx(Ne,{children:"Last Updated: November 8, 2024"})]}),s.jsxs(U,{className:"space-y-6 prose prose-sm max-w-none",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),s.jsx("p",{children:'Welcome to Ready Set Fly. These Terms of Service ("Terms") govern your access to and use of our aviation marketplace and rental platform, including our website at readysetfly.us and our mobile application (collectively, the "Platform").'}),s.jsx("p",{children:"By accessing or using the Platform, you agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not access or use the Platform."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Eligibility"}),s.jsx("p",{children:"You must meet the following requirements to use the Platform:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:s.jsx("strong",{children:"You must be a resident of the United States"})}),s.jsx("li",{children:"You must be at least 18 years old"}),s.jsx("li",{children:"You must have the legal capacity to enter into binding contracts"}),s.jsx("li",{children:"You must not be prohibited from using the Platform under applicable laws"}),s.jsx("li",{children:"To rent aircraft or list aircraft for rent, you must hold valid pilot certificates and/or aircraft ownership documentation as required by law"})]}),s.jsx("p",{className:"mt-3",children:"Ready Set Fly is exclusively available to United States residents. By using the Platform, you represent and warrant that you are located in and are a resident of the United States."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Account Registration and Security"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Account Creation"}),s.jsx("p",{children:"To use certain features of the Platform, you must create an account. You agree to provide accurate, current, and complete information during registration and to update such information to keep it accurate, current, and complete."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.2 Account Security"}),s.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Not share your password with others"}),s.jsx("li",{children:"Immediately notify us of any unauthorized use of your account"}),s.jsx("li",{children:"Take reasonable precautions to prevent unauthorized access"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.3 Account Verification"}),s.jsx("p",{children:"We may require you to verify your identity by providing pilot certificates, aircraft ownership documents, insurance information, or other documentation. Failure to provide requested verification may result in account suspension or limitations on Platform features."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Platform Services"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.1 Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly provides a platform connecting aircraft owners with pilots seeking to rent aircraft. We are not a party to rental agreements between owners and renters. All rental agreements are directly between the owner and renter."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.2 Marketplace"}),s.jsx("p",{children:"Our marketplace allows users to list and browse various aviation-related items and services, including aircraft for sale, CFI services, job postings, flight schools, mechanics, and charter services. We do not guarantee the accuracy, quality, safety, or legality of any marketplace listings."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"4.3 Messaging"}),s.jsx("p",{children:"The Platform provides messaging functionality to facilitate communication between users. You agree to use messaging only for legitimate Platform-related purposes and not for spam, harassment, or illegal activities."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Fees and Payments"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.1 Platform Fees for Aircraft Rentals"}),s.jsx("p",{children:"Ready Set Fly charges the following fees for aircraft rental transactions:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Renter Booking Fee:"})," 7.5% of the total rental amount"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Owner Commission:"})," 7.5% deducted from owner payout"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sales Tax:"})," 8.25% on all rental amounts and booking fees"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Credit Card Processing Fee:"})," 3% to cover payment processing costs"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Example:"})," For a $1,000 rental, the renter pays $1,000 (base rental) + $75 (7.5% booking fee) + $88.69 (8.25% sales tax on $1,075) + $34.91 (3% CC processing fee) = ",s.jsx("strong",{children:"$1,198.60 total"}),". The owner receives $925 after the 7.5% platform commission is deducted."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.2 Marketplace Listing Fees"}),s.jsx("p",{children:"Marketplace listings require a monthly subscription fee based on the listing category and tier. All prices include 8.25% sales tax:"}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Aircraft for Sale"})," (3 tier options):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Basic Tier:"})," $25/month + tax = $27.06/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Standard Tier:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Premium Tier:"})," $100/month + tax = $108.25/month"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Other Categories"})," (fixed monthly fees):"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"CFI Listings:"})," $30/month + tax = $32.48/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Job Postings:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Flight School Listings:"})," $250/month + tax = $270.63/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mechanic Services:"})," $40/month + tax = $43.30/month"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Charter Services:"})," $250/month + tax = $270.63/month"]})]}),s.jsx("p",{className:"mt-3",children:"Listings are automatically renewed monthly unless you cancel your subscription. You are responsible for canceling before the renewal date to avoid being charged for the next billing period. Promotional codes may be available for limited-time free trials or discounts."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.3 Payment Processing"}),s.jsx("p",{children:"All payments are processed through PayPal, our exclusive payment processor. You agree to comply with PayPal's terms of service. We do not store your complete payment card information. Only credit card payments are accepted (Pay Later options are disabled for compliance and security)."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.4 Owner Withdrawals"}),s.jsx("p",{children:"Aircraft owners can request withdrawals of their rental earnings via PayPal. Withdrawals are processed using the PayPal Payouts API and are typically completed within 1-3 business days. Minimum withdrawal amount may apply."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.5 Refunds"}),s.jsx("p",{children:"Refund eligibility is determined by the specific circumstances of each transaction:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rental Refunds:"})," Subject to the cancellation policy agreed upon between owner and renter. ",s.jsx("strong",{children:"No refunds will be issued for weather-related cancellations."})," Ready Set Fly is not responsible for weather or weather-related cancellations. Platform fees are non-refundable under all circumstances."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketplace Listing Fees:"})," Non-refundable. You may cancel at any time to prevent future charges."]})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"5.6 Fee Changes"}),s.jsx("p",{children:"We reserve the right to change our fees at any time. We will provide at least 30 days' notice of fee increases by email and/or prominent notice on the Platform. Your continued use of the Platform after fee changes take effect constitutes acceptance of the new fees."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. User Responsibilities"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.1 Aircraft Owners"}),s.jsx("p",{children:"If you list aircraft for rent, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You have legal authority to rent the aircraft"}),s.jsx("li",{children:"The aircraft is airworthy and properly maintained"}),s.jsx("li",{children:"You carry adequate insurance coverage"}),s.jsx("li",{children:"All required certificates and documentation are current and valid"}),s.jsx("li",{children:"Your listing information is accurate and complete"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.2 Renters"}),s.jsx("p",{children:"If you rent aircraft, you represent and warrant that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"You hold all required pilot certificates and ratings"}),s.jsx("li",{children:"Your certificates and medical are current and valid"}),s.jsx("li",{children:"You are legally permitted to operate the aircraft"}),s.jsx("li",{children:"You will comply with all applicable aviation regulations and laws"}),s.jsx("li",{children:"You will operate the aircraft safely and responsibly"}),s.jsx("li",{children:"You will pay all rental fees and charges on time"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"6.3 All Users"}),s.jsx("p",{children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Provide accurate and truthful information"}),s.jsx("li",{children:"Not impersonate others or misrepresent your identity"}),s.jsx("li",{children:"Not engage in fraudulent, deceptive, or illegal activities"}),s.jsx("li",{children:"Not harass, threaten, or abuse other users"}),s.jsx("li",{children:"Not violate the intellectual property rights of others"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Prohibited Conduct"}),s.jsx("p",{children:"You may not:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Use the Platform for any illegal purpose"}),s.jsx("li",{children:"Violate any local, state, national, or international law"}),s.jsx("li",{children:"Interfere with or disrupt the Platform or servers"}),s.jsx("li",{children:"Attempt to gain unauthorized access to the Platform or other user accounts"}),s.jsx("li",{children:"Transmit viruses, malware, or other harmful code"}),s.jsx("li",{children:"Collect or harvest user information without consent"}),s.jsx("li",{children:"Use automated systems (bots, scrapers) to access the Platform"}),s.jsx("li",{children:"Circumvent security features or access controls"}),s.jsx("li",{children:"Post false, misleading, or fraudulent content"}),s.jsx("li",{children:"Engage in price manipulation or other anti-competitive behavior"})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Content and Intellectual Property"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.1 Your Content"}),s.jsx("p",{children:"You retain ownership of all content you post on the Platform (listings, photos, messages, etc.). By posting content, you grant Ready Set Fly a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, display, and distribute your content in connection with operating and promoting the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.2 Our Content"}),s.jsx("p",{children:"The Platform and all content, features, and functionality (including but not limited to design, text, graphics, logos, and software) are owned by Ready Set Fly and are protected by copyright, trademark, and other intellectual property laws."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"8.3 Copyright Infringement"}),s.jsx("p",{children:"We respect intellectual property rights. If you believe your copyright has been infringed, please contact us at legal@readysetfly.us with details of the alleged infringement."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Disclaimers and Limitation of Liability"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:'9.1 Platform Provided "As Is"'}),s.jsx("p",{children:'THE PLATFORM IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.2 No Guarantee of Service"}),s.jsx("p",{children:"We do not guarantee that the Platform will be uninterrupted, secure, or error-free. We do not guarantee the accuracy, completeness, or reliability of any content on the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.3 Third-Party Transactions"}),s.jsx("p",{children:"Ready Set Fly is not a party to any rental agreements or marketplace transactions between users. We do not verify the accuracy of listings, the qualifications of users, or the airworthiness of aircraft. You are solely responsible for evaluating and verifying all aspects of any transaction you enter into through the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.4 Aviation Risks"}),s.jsx("p",{children:"Aviation involves inherent risks. Ready Set Fly is not responsible for any accidents, injuries, damages, or losses resulting from aircraft rentals or operations. You assume all risks associated with aviation activities."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"9.5 Limitation of Liability"}),s.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, READY SET FLY, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING OUT OF OR RELATED TO YOUR USE OF THE PLATFORM, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."}),s.jsx("p",{className:"mt-3",children:"IN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS EXCEED THE GREATER OF $100 OR THE AMOUNT YOU PAID TO US IN FEES IN THE 12 MONTHS PRECEDING THE CLAIM."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"10. Indemnification"}),s.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Ready Set Fly, its officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses (including reasonable attorneys' fees) arising out of or related to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Your use of the Platform"}),s.jsx("li",{children:"Your violation of these Terms"}),s.jsx("li",{children:"Your violation of any law or regulation"}),s.jsx("li",{children:"Your violation of the rights of any third party"}),s.jsx("li",{children:"Any content you post on the Platform"}),s.jsx("li",{children:"Any aircraft rental or marketplace transaction you enter into"})]})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"11. Dispute Resolution"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.1 Informal Resolution"}),s.jsx("p",{children:"If you have a dispute with Ready Set Fly, you agree to first contact us at coryarmer@gmail.com to attempt to resolve the dispute informally."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.2 Arbitration"}),s.jsx("p",{children:"Any dispute that cannot be resolved informally shall be resolved by binding arbitration in accordance with the rules of the American Arbitration Association. The arbitration shall take place in Texas."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.3 Class Action Waiver"}),s.jsx("p",{children:"You agree that any arbitration or proceeding shall be limited to the dispute between you and Ready Set Fly individually. You waive the right to participate in any class action or class-wide arbitration."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"11.4 Governing Law"}),s.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of Texas, without regard to its conflict of law provisions."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"12. Account Termination"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.1 Termination by You"}),s.jsxs("p",{children:["You may delete your account at any time by visiting your account settings or by contacting us at coryarmer@gmail.com. You can also submit a deletion request at",s.jsx("a",{href:"/delete-account",className:"text-primary hover:underline",children:" readysetfly.us/delete-account"}),"."]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.2 Termination by Us"}),s.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time, with or without notice, for:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Violation of these Terms"}),s.jsx("li",{children:"Fraudulent, deceptive, or illegal activity"}),s.jsx("li",{children:"Failure to verify your identity when requested"}),s.jsx("li",{children:"Outstanding payment obligations"}),s.jsx("li",{children:"Any reason at our sole discretion"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"12.3 Effect of Termination"}),s.jsx("p",{children:"Upon termination, your right to use the Platform will immediately cease. We may delete your account data in accordance with our Privacy Policy. Outstanding payment obligations will survive termination."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"13. Modifications to Terms"}),s.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Posting the updated Terms on this page"}),s.jsx("li",{children:'Updating the "Last Updated" date'}),s.jsx("li",{children:"Sending you an email notification"})]}),s.jsx("p",{className:"mt-3",children:"Your continued use of the Platform after the effective date of the revised Terms constitutes your acceptance of the changes. If you do not agree to the revised Terms, you must stop using the Platform."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"14. General Provisions"}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.1 Entire Agreement"}),s.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and Ready Set Fly regarding the Platform."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.2 Severability"}),s.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.3 Waiver"}),s.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be deemed a waiver of such right or provision."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.4 Assignment"}),s.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms without restriction."}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"14.5 Force Majeure"}),s.jsx("p",{children:"We shall not be liable for any failure or delay in performance due to circumstances beyond our reasonable control, including but not limited to acts of God, war, terrorism, natural disasters, or government actions."})]}),s.jsx(nt,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"15. Contact Information"}),s.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," legal@readysetfly.us"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Support:"})," coryarmer@gmail.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://readysetfly.us",className:"text-primary hover:underline",children:"readysetfly.us"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Mail:"})," Ready Set Fly, LLC (Address to be provided)"]})]})]}),s.jsx(nt,{}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-md border",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Important Notice:"})," These Terms of Service contain important information about your legal rights and obligations, including limitations on liability and dispute resolution provisions. Please read them carefully. By using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms."]})})]})]})})}function Tae(){const{data:t,isLoading:e}=We({queryKey:["/api/auth/user"]}),{toast:n}=Ot(),[r,i]=p.useState(""),a=Ie({mutationFn:async()=>await Te("DELETE","/api/auth/user"),onSuccess:()=>{n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."}),window.location.href="/"},onError:l=>{n({title:"Error",description:l.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),o=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}a.mutate()};return e?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx(L,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):t?s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fD,{className:"h-5 w-5"}),s.jsx(Z,{children:"Account Information"})]}),s.jsx(Ne,{children:"Your account details"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-base","data-testid":"text-user-email",children:t.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"text-base","data-testid":"text-user-name",children:[t.firstName," ",t.lastName]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),s.jsx("p",{className:"text-base","data-testid":"text-verification-status",children:t.isVerified?"Verified":"Not Verified"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),s.jsx(Z,{children:"Legal Documents"})]}),s.jsx(Ne,{children:"View our legal policies and terms"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsx(Je,{href:"/privacy-policy",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start","data-testid":"link-privacy-policy",children:[s.jsx(Gz,{className:"mr-2 h-4 w-4"}),"Privacy Policy"]})}),s.jsx(Je,{href:"/terms-of-service",children:s.jsxs(M,{variant:"outline",className:"w-full justify-start","data-testid":"link-terms-of-service",children:[s.jsx(In,{className:"mr-2 h-4 w-4"}),"Terms of Service"]})})]})]}),s.jsxs(L,{className:"border-destructive",children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-5 w-5 text-destructive"}),s.jsx(Z,{className:"text-destructive",children:"Danger Zone"})]}),s.jsx(Ne,{children:"Permanently delete your account and all associated data"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-4",children:[s.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"Warning: This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]}),s.jsxs(rc,{children:[s.jsx(F5,{asChild:!0,children:s.jsxs(M,{variant:"destructive","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs($o,{children:[s.jsxs(Uo,{children:[s.jsx(Vo,{children:"Are you absolutely sure?"}),s.jsxs(zo,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(B,{id:"confirm-delete",value:r,onChange:l=>i(l.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(qo,{onClick:o,disabled:r!=="DELETE"||a.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:a.isPending?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):s.jsx("div",{className:"container max-w-4xl mx-auto p-6",children:s.jsx(L,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to access settings."})})})})}function Aae(){const{data:t,isLoading:e}=We({queryKey:["/api/auth/user"],retry:!1}),{toast:n}=Ot(),[r,i]=p.useState(""),[a,o]=p.useState(!1),l=Ie({mutationFn:async()=>await Te("DELETE","/api/auth/user"),onSuccess:()=>{o(!0),n({title:"Account deleted",description:"Your account and all associated data have been permanently deleted."})},onError:d=>{n({title:"Error",description:d.message||"Failed to delete account. Please try again.",variant:"destructive"})}}),c=()=>{if(r!=="DELETE"){n({title:"Confirmation required",description:'Please type "DELETE" to confirm.',variant:"destructive"});return}l.mutate()};return e?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsx(L,{children:s.jsx(U,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):a?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs(L,{children:[s.jsx(G,{children:s.jsx(Z,{className:"text-center",children:"Account Deleted"})}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Your account and all associated data have been permanently deleted."}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Thank you for using Ready Set Fly. We hope to see you again in the future."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(Je,{href:"/",children:s.jsx(M,{"data-testid":"button-back-home",children:"Return to Home"})})})]})]})}):t?s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs(L,{className:"w-full",children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Tn,{className:"h-6 w-6 text-destructive"}),s.jsx(Z,{children:"Delete Your Account"})]}),s.jsx(Ne,{className:"text-center",children:"Permanently remove your account and all associated data"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Account Information"}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-foreground",children:"Name:"})," ",t.firstName," ",t.lastName]})]})]}),s.jsx("div",{className:"rounded-lg bg-destructive/10 border border-destructive/20 p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ja,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-destructive",children:"This action cannot be undone"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"All your aircraft listings will be permanently deleted"}),s.jsx("li",{children:"All your marketplace listings will be removed"}),s.jsx("li",{children:"Your rental history will be deleted"}),s.jsx("li",{children:"All messages and conversations will be deleted"}),s.jsx("li",{children:"Your verification documents will be permanently removed"}),s.jsx("li",{children:"All financial records and transactions will be deleted"})]})]})]})}),s.jsxs(rc,{children:[s.jsx(F5,{asChild:!0,children:s.jsxs(M,{variant:"destructive",className:"w-full","data-testid":"button-delete-account",onClick:()=>i(""),children:[s.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Delete My Account"]})}),s.jsxs($o,{children:[s.jsxs(Uo,{children:[s.jsx(Vo,{children:"Are you absolutely sure?"}),s.jsxs(zo,{className:"space-y-4",children:[s.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"confirm-delete",className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-bold",children:"DELETE"})," to confirm:"]}),s.jsx(B,{id:"confirm-delete",value:r,onChange:d=>i(d.target.value),placeholder:"Type DELETE here","data-testid":"input-confirm-delete"})]})]})]}),s.jsxs(Bo,{children:[s.jsx(Ho,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(qo,{onClick:c,disabled:r!=="DELETE"||l.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:l.isPending?"Deleting...":"Delete Account"})]})]})]}),s.jsxs("div",{className:"text-center space-y-2 pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help or have questions?"}),s.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[s.jsx(Je,{href:"/privacy-policy",className:"text-primary hover:underline","data-testid":"link-privacy",children:"Privacy Policy"}),s.jsx(Je,{href:"/terms-of-service",className:"text-primary hover:underline","data-testid":"link-terms",children:"Terms of Service"})]})]})]})]})}):s.jsx("div",{className:"container max-w-2xl mx-auto p-6 min-h-[60vh] flex items-center justify-center",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-center",children:"Delete Your Account"}),s.jsx(Ne,{className:"text-center",children:"Sign in to delete your Ready Set Fly account"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"You must be signed in to delete your account."}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(M,{onClick:()=>window.location.href="https://readysetfly.us/delete-account","data-testid":"button-login-to-delete",children:"Sign In to Continue"})})]})]})})}const Fae=Jn({email:ie().email("Please enter a valid email address"),password:ie().min(1,"Password is required")});function Rae(){const[,t]=an(),{toast:e}=Ot(),n=La(),[r,i]=p.useState(!1),a=ar({resolver:or(Fae),defaultValues:{email:"",password:""}}),o=Ie({mutationFn:async c=>{const d=await EV("/api/auth/web-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"}),u=d.headers.get("content-type")||"";try{console.debug("[login] response status:",d.status,"content-type:",u)}catch{}if(!d.ok){let m="Failed to login";if(u.includes("application/json"))try{const x=await d.json();console.debug("[login] error json:",x),m=(x==null?void 0:x.error)||JSON.stringify(x)||m}catch{}else{const x=await d.text();console.debug("[login] error text:",x.slice(0,200)),x&&(m=x.slice(0,500))}throw new Error(m)}if(u.includes("application/json")){const m=await d.json();try{console.debug("[login] success json:",m)}catch{}return m}const h=await d.text();try{const m=JSON.parse(h);try{console.debug("[login] parsed text as json:",m)}catch{}return m}catch{try{console.debug("[login] success text:",h.slice(0,500))}catch{}return{message:h}}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Welcome back!",description:"You have successfully logged in."}),t("/")},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{await o.mutateAsync(c)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs(L,{className:"w-full max-w-md",children:[s.jsxs(G,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-8 h-8 text-white"})})}),s.jsx(Z,{className:"text-2xl font-bold",children:"Welcome back"}),s.jsx(Ne,{children:"Sign in to your Ready Set Fly account"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"email",children:"Email"}),s.jsx(B,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"password",children:"Password"}),s.jsx(B,{id:"password",type:"password",placeholder:"Enter your password",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsx(M,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-login",children:r?"Signing in...":"Sign in"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(M,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-oauth-login",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(z0,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>t("/register"),className:"text-primary hover:underline font-medium","data-testid":"link-register",children:"Create account"})]})})]})})}const Dae=Jn({firstName:ie().min(1,"First name is required"),lastName:ie().min(1,"Last name is required"),email:ie().email("Please enter a valid email address"),password:ie().min(8,"Password must be at least 8 characters"),confirmPassword:ie().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Iae(){const[,t]=an(),{toast:e}=Ot(),n=La(),[r,i]=p.useState(!1),a=ar({resolver:or(Dae),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""}}),o=Ie({mutationFn:async c=>{const d=await fetch(Yt("/api/auth/web-register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const u=await d.json();throw new Error(u.error||"Failed to create account")}return d.json()},onSuccess:c=>{n.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Account created!",description:c.message||"Please check your email to verify your account."}),t("/")},onError:c=>{e({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=async c=>{i(!0);try{const{confirmPassword:d,...u}=c;await o.mutateAsync(u)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs(L,{className:"w-full max-w-md",children:[s.jsxs(G,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-8 h-8 text-white"})})}),s.jsx(Z,{className:"text-2xl font-bold",children:"Create an account"}),s.jsx(Ne,{children:"Join Ready Set Fly to rent aircraft or list your own"}),s.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"Service available for US residents only"})]}),s.jsxs(U,{children:[s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"firstName",children:"First name"}),s.jsx(B,{id:"firstName",placeholder:"John",...a.register("firstName"),"data-testid":"input-firstname",disabled:r}),a.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"lastName",children:"Last name"}),s.jsx(B,{id:"lastName",placeholder:"Doe",...a.register("lastName"),"data-testid":"input-lastname",disabled:r}),a.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"email",children:"Email"}),s.jsx(B,{id:"email",type:"email",placeholder:"pilot@example.com",...a.register("email"),"data-testid":"input-email",disabled:r}),a.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"password",children:"Password"}),s.jsx(B,{id:"password",type:"password",placeholder:"At least 8 characters",...a.register("password"),"data-testid":"input-password",disabled:r}),a.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"confirmPassword",children:"Confirm password"}),s.jsx(B,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",...a.register("confirmPassword"),"data-testid":"input-confirm-password",disabled:r}),a.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.confirmPassword.message})]}),s.jsx(M,{type:"submit",className:"w-full",disabled:r,"data-testid":"button-register",children:r?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(M,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href=Yt("/api/auth/google"),"data-testid":"button-oauth-register",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx(z0,{className:"flex flex-col space-y-4",children:s.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>t("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login",children:"Sign in"})]})})]})})}function Oae(){const[,t]=an(),[e,n]=p.useState("loading"),[r,i]=p.useState("");return p.useEffect(()=>{(async()=>{const l=new URLSearchParams(window.location.search).get("token");if(!l){n("error"),i("Verification token is missing");return}try{const c=await fetch(`/api/auth/verify-email?token=${l}`),d=await c.json();c.ok?(n("success"),i(d.message||"Email verified successfully!")):(n("error"),i(d.error||"Verification failed"))}catch{n("error"),i("Failed to verify email. Please try again.")}})()},[]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs(L,{className:"w-full max-w-md",children:[s.jsxs(G,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[e==="loading"&&s.jsx(ru,{className:"h-16 w-16 text-blue-600 animate-spin","data-testid":"icon-loading"}),e==="success"&&s.jsx(Wt,{className:"h-16 w-16 text-green-600","data-testid":"icon-success"}),e==="error"&&s.jsx(nr,{className:"h-16 w-16 text-red-600","data-testid":"icon-error"})]}),s.jsxs(Z,{className:"text-2xl",children:[e==="loading"&&"Verifying Your Email",e==="success"&&"Email Verified!",e==="error"&&"Verification Failed"]}),s.jsx(Ne,{"data-testid":"text-message",children:r||"Please wait while we verify your email address..."})]}),s.jsxs(U,{className:"flex flex-col gap-3",children:[e==="success"&&s.jsx(M,{onClick:()=>t("/"),className:"w-full","data-testid":"button-continue",children:"Continue to Dashboard"}),e==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(M,{onClick:()=>t("/login"),className:"w-full","data-testid":"button-login",children:"Go to Login"}),s.jsx(M,{onClick:()=>t("/register"),variant:"outline",className:"w-full","data-testid":"button-register",children:"Create New Account"})]})]})]})})}function Mae(t){const e={totalTime:0,pic:0,sic:0,dual:0,night:0,day:0,instrumentActual:0,crossCountry:0,approaches:0,landings:0};return t.forEach(n=>{const r=parseFloat(n.pic||"0"),i=parseFloat(n.sic||"0"),a=parseFloat(n.dual||"0"),o=parseFloat(n.timeNight||"0"),l=parseFloat(n.timeDay||"0"),c=parseFloat(n.instrumentActual||"0");e.totalTime+=r+i,e.pic+=r,e.sic+=i,e.dual+=a,e.night+=o,e.day+=l,e.instrumentActual+=c,e.approaches+=n.approaches||0,e.landings+=(n.landingsDay||0)+(n.landingsNight||0)}),e}function Lae(t){const e=["Date","Tail Number","Aircraft Type","Route","Time Day","Time Night","PIC","SIC","Dual","Instrument","Approaches","Landings Day","Landings Night","Holds","Remarks"],n=t.map(l=>[l.flightDate,l.tailNumber||"",l.aircraftType||"",l.route||"",l.timeDay||"0",l.timeNight||"0",l.pic||"0",l.sic||"0",l.dual||"0",l.instrumentActual||"0",l.approaches||"0",l.landingsDay||"0",l.landingsNight||"0",l.holds||"0",l.remarks||""]),r=[e,...n].map(l=>l.join(",")).join(`
`),i=new Blob([r],{type:"text/csv"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=`logbook-${new Date().toISOString().split("T")[0]}.csv`,o.click(),URL.revokeObjectURL(a)}function gf(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toISOString().split("T")[0]}function Ac(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString()}function $ae(){var Y,q,de,xe,z,R,Q,ue,F,ve,Me,et,se,je,Oe;const{toast:t}=Ot(),e=La(),{user:n}=Ds(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(null),[d,u]=p.useState(!1),[h,m]=p.useState(null),[x,j]=p.useState("pilot"),g=(n==null?void 0:n.logbookProStatus)==="active",[v,f]=p.useState({medicalClass:"",medicalIssuedAt:"",medicalExpiresAt:"",flightReviewDate:"",ipcDate:""}),{data:b=[],isLoading:w}=We({queryKey:["/api/logbook"]}),{data:N,isLoading:P}=We({queryKey:["/api/logbook/pro/summary"],enabled:g});p.useEffect(()=>{N!=null&&N.settings&&f({medicalClass:N.settings.medicalClass||"",medicalIssuedAt:gf(N.settings.medicalIssuedAt),medicalExpiresAt:gf(N.settings.medicalExpiresAt),flightReviewDate:gf(N.settings.flightReviewDate),ipcDate:gf(N.settings.ipcDate)})},[N]);const S=Ie({mutationFn:async ne=>(await Te("POST","/api/logbook",ne)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),i(!1),t({title:"Entry created"})},onError:ne=>{t({title:"Failed to create entry",description:ne.message,variant:"destructive"})}}),C=Ie({mutationFn:async({id:ne,data:he})=>(await Te("PATCH",`/api/logbook/${ne}`,he)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),o(null),t({title:"Entry updated"})},onError:ne=>{t({title:"Failed to update entry",description:ne.message,variant:"destructive"})}}),k=Ie({mutationFn:async ne=>(await Te("DELETE",`/api/logbook/${ne}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),t({title:"Entry deleted"})},onError:ne=>{t({title:"Failed to delete entry",description:ne.message,variant:"destructive"})}}),I=Ie({mutationFn:async({id:ne,signatureDataUrl:he,signedByName:Fe})=>(await Te("POST",`/api/logbook/${ne}/lock`,{signatureDataUrl:he,signedByName:Fe})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),u(!1),m(null),t({title:"Entry locked and signed"})},onError:ne=>{t({title:"Failed to lock entry",description:ne.message,variant:"destructive"})}}),A=Ie({mutationFn:async()=>{const ne={medicalClass:v.medicalClass||null,medicalIssuedAt:v.medicalIssuedAt?v.medicalIssuedAt:null,medicalExpiresAt:v.medicalExpiresAt?v.medicalExpiresAt:null,flightReviewDate:v.flightReviewDate?v.flightReviewDate:null,ipcDate:v.ipcDate?v.ipcDate:null},he=await Te("PUT","/api/logbook/pro/settings",ne);if(!he.ok){const Fe=await he.json();throw new Error(Fe.error||"Failed to update Logbook Pro settings")}return he.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook/pro/summary"]}),t({title:"Logbook Pro updated",description:"Your currency settings were saved."})},onError:ne=>{t({title:"Update failed",description:ne.message,variant:"destructive"})}}),O=Ie({mutationFn:async ne=>(await Te("POST",`/api/logbook/${ne}/unlock`,{})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]})},onError:ne=>{t({title:"Failed to unlock entry",description:ne.message,variant:"destructive"})}}),$=Ie({mutationFn:async({id:ne,signatureDataUrl:he,signedByName:Fe})=>(await Te("POST",`/api/logbook/${ne}/countersign`,{signatureDataUrl:he,signedByName:Fe})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/logbook"]}),u(!1),m(null),t({title:"Entry countersigned"})},onError:ne=>{t({title:"Failed to countersign",description:ne.message,variant:"destructive"})}});b.reduce((ne,he)=>ne+parseFloat(he.pic||"0")+parseFloat(he.sic||"0"),0).toFixed(1);const J=Mae(b);return s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[b.some(ne=>!ne.isLocked)&&s.jsxs("div",{className:"mb-4 rounded-md border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:["Unsigned entries are drafts. Click ",s.jsx("span",{className:"font-semibold",children:"Sign"})," to lock and finalize."]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(K,{variant:"outline",className:"text-sm px-4 py-2 bg-green-50 border-green-200",children:" FREE Digital Logbook - No Credit Card Required"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Your data, always accessible. Export anytime."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(L,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:J.totalTime.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Time"})]})})}),s.jsx(L,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:J.pic.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PIC"})]})})}),s.jsx(L,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:J.night.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Night"})]})})}),s.jsx(L,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:J.instrumentActual.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instrument"})]})})})]}),s.jsxs(L,{className:"mb-6",children:[s.jsx(G,{children:s.jsx(Z,{className:"text-lg",children:"Flight Time Breakdown"})}),s.jsx(U,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"SIC"}),s.jsxs("p",{className:"font-semibold",children:[J.sic.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dual Received"}),s.jsxs("p",{className:"font-semibold",children:[J.dual.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Day"}),s.jsxs("p",{className:"font-semibold",children:[J.day.toFixed(1)," hrs"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Approaches"}),s.jsx("p",{className:"font-semibold",children:J.approaches})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Landings"}),s.jsx("p",{className:"font-semibold",children:J.landings})]})]})})]}),s.jsxs(L,{children:[s.jsx(G,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Z,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-6 w-6"}),"Flight Entries"]}),s.jsx(Ne,{children:"Track your flights and build your experience"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(M,{variant:"outline",size:"sm",onClick:()=>Lae(b),disabled:b.length===0,children:[s.jsx(dD,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsxs(Jt,{open:r,onOpenChange:i,children:[s.jsx(mM,{asChild:!0,children:s.jsxs(M,{children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Add Entry"]})}),s.jsx(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(zk,{onSubmit:ne=>S.mutate(ne),isPending:S.isPending})})]})]})]})}),s.jsx(U,{children:w?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(ru,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):b.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No logbook entries yet. Add your first flight!"}):s.jsxs(u1,{children:[s.jsx(h1,{children:s.jsxs(cd,{children:[s.jsx(cn,{children:"Date"}),s.jsx(cn,{children:"Tail #"}),s.jsx(cn,{children:"Aircraft"}),s.jsx(cn,{children:"Route"}),s.jsx(cn,{children:"PIC"}),s.jsx(cn,{children:"SIC"}),s.jsx(cn,{children:"Dual"}),s.jsx(cn,{children:"Inst"}),s.jsx(cn,{children:"Ldg"}),s.jsx(cn,{children:"Status"}),s.jsx(cn,{children:"Actions"})]})}),s.jsx(m1,{children:b.map(ne=>s.jsxs(cd,{className:"cursor-pointer hover:bg-muted/40",onClick:()=>c(ne),children:[s.jsx(Zs,{children:new Date(ne.flightDate).toLocaleDateString()}),s.jsx(Zs,{children:ne.tailNumber||"-"}),s.jsx(Zs,{children:ne.aircraftType||"-"}),s.jsx(Zs,{children:ne.route||"-"}),s.jsx(Zs,{children:ne.pic||"0"}),s.jsx(Zs,{children:ne.sic||"0"}),s.jsx(Zs,{children:ne.dual||"0"}),s.jsx(Zs,{children:ne.instrumentActual||"0"}),s.jsx(Zs,{children:(ne.landingsDay||0)+(ne.landingsNight||0)}),s.jsx(Zs,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[ne.isLocked?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-700",children:[s.jsx(p2,{className:"h-3 w-3"}),ne.signedByName?`Signed by ${ne.signedByName}`:"Signed"]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Draft  needs signature"}),ne.cfiSignedAt&&s.jsxs("span",{className:"text-[11px] text-blue-700",children:["CFI: ",ne.cfiSignedByName||"Signed"]})]})}),s.jsx(Zs,{children:s.jsxs("div",{className:"flex gap-2",children:[!ne.isLocked&&s.jsxs(s.Fragment,{children:[s.jsx(M,{variant:"ghost",size:"sm",onClick:he=>{he.stopPropagation(),o(ne)},children:s.jsx(ga,{className:"h-4 w-4"})}),s.jsxs(M,{variant:"default",size:"sm",onClick:he=>{he.stopPropagation(),m(ne.id),j("pilot"),u(!0)},children:[s.jsx(p2,{className:"h-4 w-4 mr-1"})," Sign"]}),s.jsx(M,{variant:"ghost",size:"sm",onClick:he=>{he.stopPropagation(),confirm("Delete this entry?")&&k.mutate(ne.id)},children:s.jsx(Tn,{className:"h-4 w-4"})})]}),ne.isLocked&&!ne.cfiSignedAt&&s.jsx(M,{variant:"outline",size:"sm",onClick:he=>{he.stopPropagation(),m(ne.id),j("cfi"),u(!0)},children:"CFI Sign"})]})})]},ne.id))})]})})]}),g&&s.jsxs(L,{className:"mt-6",children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5 text-primary"}),"Logbook Pro Dashboard"]}),s.jsx(Ne,{children:"Currency tracking, expirations, and quick actions."})]}),s.jsxs(U,{className:"space-y-4",children:[P?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ru,{className:"h-4 w-4 animate-spin"}),"Loading Logbook Pro summary..."]}):s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"90-Day Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total landings: ",((Y=N==null?void 0:N.currency)==null?void 0:Y.totalLandings)??0]}),s.jsx(K,{variant:(q=N==null?void 0:N.currency)!=null&&q.dayCurrent?"default":"outline",children:(de=N==null?void 0:N.currency)!=null&&de.dayCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",Ac((xe=N==null?void 0:N.currency)==null?void 0:xe.dayCurrencyDueAt)]})]}),s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Night Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Night landings: ",((z=N==null?void 0:N.currency)==null?void 0:z.landingsNight)??0]}),s.jsx(K,{variant:(R=N==null?void 0:N.currency)!=null&&R.nightCurrent?"default":"outline",children:(Q=N==null?void 0:N.currency)!=null&&Q.nightCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",Ac((ue=N==null?void 0:N.currency)==null?void 0:ue.nightCurrencyDueAt)]})]}),s.jsxs("div",{className:"rounded-lg border p-3 space-y-1",children:[s.jsx("div",{className:"text-sm font-semibold",children:"IFR Currency"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Approaches + holds: ",((F=N==null?void 0:N.currency)==null?void 0:F.instrumentTotal)??0]}),s.jsx(K,{variant:(ve=N==null?void 0:N.currency)!=null&&ve.instrumentCurrent?"default":"outline",children:(Me=N==null?void 0:N.currency)!=null&&Me.instrumentCurrent?"Current":"Not current"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Due: ",Ac((et=N==null?void 0:N.currency)==null?void 0:et.instrumentDueAt)]})]})]}),s.jsx(nt,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Expiration Tracking"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Medical expires: ",Ac((se=N==null?void 0:N.expirations)==null?void 0:se.medicalExpiresAt)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Flight review due: ",Ac((je=N==null?void 0:N.expirations)==null?void 0:je.flightReviewDueAt)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["IPC date: ",Ac((Oe=N==null?void 0:N.expirations)==null?void 0:Oe.ipcDate)]}),s.jsx(M,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(Je,{href:"/flight-planner",children:"Open Flight Planner"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Update Logbook Pro dates"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{children:"Medical Class"}),s.jsx(B,{value:v.medicalClass,onChange:ne=>f({...v,medicalClass:ne.target.value}),placeholder:"Class 1/2/3"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{children:"Medical Issued"}),s.jsx(B,{type:"date",value:v.medicalIssuedAt,onChange:ne=>f({...v,medicalIssuedAt:ne.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{children:"Medical Expires"}),s.jsx(B,{type:"date",value:v.medicalExpiresAt,onChange:ne=>f({...v,medicalExpiresAt:ne.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{children:"Flight Review"}),s.jsx(B,{type:"date",value:v.flightReviewDate,onChange:ne=>f({...v,flightReviewDate:ne.target.value})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{children:"IPC Date"}),s.jsx(B,{type:"date",value:v.ipcDate,onChange:ne=>f({...v,ipcDate:ne.target.value})})]})]}),s.jsx(M,{onClick:()=>A.mutate(),disabled:A.isPending,children:A.isPending?"Saving...":"Save Logbook Pro Settings"})]})]})]})]}),s.jsxs(L,{className:"mt-6 border-primary/20 bg-primary/5",children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ul,{className:"h-5 w-5 text-primary"}),"Upgrade to Logbook Pro"]}),s.jsx(Ne,{children:"Unlock advanced automation, currency tracking, and pro tools."})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Fn,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Currency Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"90-day landings, night, IFR alerts"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ul,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Endorsement Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Instructor sign-offs & CFI workflows"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Fn,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Expiration Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Medical, flight review, IPC reminders"})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ul,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Flight Planner"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Build and save routes with fuel notes"})]})]})]}),s.jsx(nt,{className:"my-4"}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[(n==null?void 0:n.logbookProStatus)==="active"&&s.jsx(K,{variant:"default",children:"Logbook Pro Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Tip: ",s.jsx("strong",{children:"Your logbook data will always be free and exportable."})," Pro adds intelligence and automation."]}),s.jsx(M,{variant:"default",asChild:!0,children:s.jsx(Je,{href:"/logbook/pro",children:(n==null?void 0:n.logbookProStatus)==="active"?"Manage Logbook Pro":"Upgrade to Logbook Pro"})}),s.jsx("p",{className:"text-[11px] text-muted-foreground text-center",children:"Cancel anytime. Free logbook access stays available."})]})]})]}),a&&s.jsx(Jt,{open:!!a,onOpenChange:()=>o(null),children:s.jsx(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(zk,{initialData:a,onSubmit:ne=>C.mutate({id:a.id,data:ne}),isPending:C.isPending})})}),d&&h&&s.jsx(Jt,{open:d,onOpenChange:u,children:s.jsx(Kt,{children:s.jsx(Uae,{onSign:(ne,he)=>{x==="pilot"?I.mutate({id:h,signatureDataUrl:ne,signedByName:he}):$.mutate({id:h,signatureDataUrl:ne,signedByName:he})},isPending:I.isPending||$.isPending})})}),l&&s.jsx(Jt,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Kt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Logbook Entry Details"}),s.jsx(is,{children:"Review flight details and remarks."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Date"}),s.jsx("div",{children:new Date(l.flightDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Tail Number"}),s.jsx("div",{children:l.tailNumber||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Aircraft Type"}),s.jsx("div",{children:l.aircraftType||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Route"}),s.jsx("div",{children:l.route||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"PIC"}),s.jsx("div",{children:l.pic||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"SIC"}),s.jsx("div",{children:l.sic||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Dual"}),s.jsx("div",{children:l.dual||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Instrument"}),s.jsx("div",{children:l.instrumentActual||"0"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Landings (Day/Night)"}),s.jsxs("div",{children:[l.landingsDay||0," / ",l.landingsNight||0]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Approaches / Holds"}),s.jsxs("div",{children:[l.approaches||0," / ",l.holds||0]})]})]}),s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Remarks"}),s.jsx("div",{className:"rounded-md border border-border bg-muted/40 p-3 min-h-[80px] whitespace-pre-wrap",children:l.remarks||""})]}),s.jsx("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:s.jsxs("div",{children:["Status: ",l.isLocked?"Locked (signed)":"Draft",l.cfiSignedAt?"  CFI signed":""]})}),s.jsxs(xn,{className:"mt-4",children:[s.jsx(M,{variant:"outline",onClick:()=>c(null),children:"Close"}),s.jsx(M,{onClick:()=>{if(l.isLocked){if(!confirm("Editing will unlock this entry and clear signatures. You'll need to re-sign. Continue?"))return;O.mutate(l.id,{onSuccess:()=>{c(null),o({...l,isLocked:!1})}})}else c(null),o(l)},disabled:O.isPending,children:l.isLocked?"Edit & Re-sign":"Edit Entry"})]})]})})]})}function zk({initialData:t,onSubmit:e,isPending:n}){var o,l,c,d,u,h,m,x;const[r,i]=p.useState(t?{flightDate:typeof t.flightDate=="string"?new Date(t.flightDate):t.flightDate,tailNumber:t.tailNumber,aircraftType:t.aircraftType,route:t.route,timeDay:((o=t.timeDay)==null?void 0:o.toString())||"",timeNight:((l=t.timeNight)==null?void 0:l.toString())||"",pic:((c=t.pic)==null?void 0:c.toString())||"",sic:((d=t.sic)==null?void 0:d.toString())||"",dual:((u=t.dual)==null?void 0:u.toString())||"",instrumentActual:((h=t.instrumentActual)==null?void 0:h.toString())||"",approaches:t.approaches??"",landingsDay:t.landingsDay??"",landingsNight:t.landingsNight??"",holds:t.holds??"",remarks:t.remarks,hobbsStart:(m=t.hobbsStart)==null?void 0:m.toString(),hobbsEnd:(x=t.hobbsEnd)==null?void 0:x.toString()}:{flightDate:new Date,tailNumber:"",aircraftType:"",route:"",timeDay:"",timeNight:"",pic:"",sic:"",dual:"",instrumentActual:"",approaches:"",landingsDay:"",landingsNight:"",holds:"",remarks:"",hobbsStart:"",hobbsEnd:""}),a=j=>{var v,f,b,w,N,P,S,C;j.preventDefault();const g={...r,hobbsStart:((v=r.hobbsStart)==null?void 0:v.trim())||void 0,hobbsEnd:((f=r.hobbsEnd)==null?void 0:f.trim())||void 0,timeDay:((b=r.timeDay)==null?void 0:b.trim())||void 0,timeNight:((w=r.timeNight)==null?void 0:w.trim())||void 0,pic:((N=r.pic)==null?void 0:N.trim())||void 0,sic:((P=r.sic)==null?void 0:P.trim())||void 0,dual:((S=r.dual)==null?void 0:S.trim())||void 0,instrumentActual:((C=r.instrumentActual)==null?void 0:C.trim())||void 0,approaches:r.approaches===""?void 0:r.approaches,landingsDay:r.landingsDay===""?void 0:r.landingsDay,landingsNight:r.landingsNight===""?void 0:r.landingsNight,holds:r.holds===""?void 0:r.holds};e(g)};return s.jsxs("form",{onSubmit:a,children:[s.jsxs(es,{children:[s.jsx(ts,{children:t?"Edit Entry":"New Logbook Entry"}),s.jsx(is,{children:"Fill in the flight details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"flightDate",children:"Flight Date"}),s.jsx(B,{id:"flightDate",type:"date",value:r.flightDate instanceof Date?r.flightDate.toISOString().split("T")[0]:"",onChange:j=>i({...r,flightDate:new Date(j.target.value)}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"tailNumber",children:"Tail Number"}),s.jsx(B,{id:"tailNumber",value:r.tailNumber||"",onChange:j=>i({...r,tailNumber:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"aircraftType",children:"Aircraft Type"}),s.jsx(B,{id:"aircraftType",value:r.aircraftType||"",onChange:j=>i({...r,aircraftType:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"route",children:"Route"}),s.jsx(B,{id:"route",value:r.route||"",onChange:j=>i({...r,route:j.target.value}),placeholder:"e.g. KDEN-KCOS"})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"pic",children:"PIC (hours)"}),s.jsx(B,{id:"pic",type:"number",step:"0.1",placeholder:"0.0",value:r.pic||"",onChange:j=>i({...r,pic:j.target.value}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"sic",children:"SIC (hours)"}),s.jsx(B,{id:"sic",type:"number",step:"0.1",placeholder:"0.0",value:r.sic||"",onChange:j=>i({...r,sic:j.target.value}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"dual",children:"Dual (hours)"}),s.jsx(B,{id:"dual",type:"number",step:"0.1",placeholder:"0.0",value:r.dual||"",onChange:j=>i({...r,dual:j.target.value}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"instrumentActual",children:"Instrument (hours)"}),s.jsx(B,{id:"instrumentActual",type:"number",step:"0.1",placeholder:"0.0",value:r.instrumentActual||"",onChange:j=>i({...r,instrumentActual:j.target.value}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"landingsDay",children:"Day Landings"}),s.jsx(B,{id:"landingsDay",type:"number",placeholder:"0",value:r.landingsDay||"",onChange:j=>i({...r,landingsDay:j.target.value===""?"":parseInt(j.target.value)}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"landingsNight",children:"Night Landings"}),s.jsx(B,{id:"landingsNight",type:"number",placeholder:"0",value:r.landingsNight||"",onChange:j=>i({...r,landingsNight:j.target.value===""?"":parseInt(j.target.value)}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"approaches",children:"Approaches"}),s.jsx(B,{id:"approaches",type:"number",placeholder:"0",value:r.approaches||"",onChange:j=>i({...r,approaches:j.target.value===""?"":parseInt(j.target.value)}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"holds",children:"Holds"}),s.jsx(B,{id:"holds",type:"number",placeholder:"0",value:r.holds||"",onChange:j=>i({...r,holds:j.target.value===""?"":parseInt(j.target.value)}),onFocus:j=>j.target.select()})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ae,{htmlFor:"remarks",children:"Remarks"}),s.jsx(as,{id:"remarks",value:r.remarks||"",onChange:j=>i({...r,remarks:j.target.value}),rows:3})]})]}),s.jsx(xn,{children:s.jsxs(M,{type:"submit",disabled:n,children:[n&&s.jsx(ru,{className:"h-4 w-4 mr-2 animate-spin"}),t?"Update":"Create"]})})]})}function Uae({onSign:t,isPending:e}){const[n,r]=p.useState(""),[i,a]=p.useState("draw"),[o,l]=p.useState(""),[c,d]=p.useState(!1),u=p.useRef(null),h=p.useRef(!1);p.useEffect(()=>{const w=u.current;if(!w)return;const N=()=>{var S;const P=((S=w.parentElement)==null?void 0:S.clientWidth)||600;w.width=P,w.height=220};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const m=w=>{const N=u.current;if(!N)return;h.current=!0;const P=N.getContext("2d");if(!P)return;P.strokeStyle="#111827",P.lineWidth=2,P.lineCap="round";const S=N.getBoundingClientRect();P.beginPath(),P.moveTo(w.clientX-S.left,w.clientY-S.top)},x=w=>{if(!h.current)return;const N=u.current;if(!N)return;const P=N.getContext("2d");if(!P)return;const S=N.getBoundingClientRect();P.lineTo(w.clientX-S.left,w.clientY-S.top),P.stroke(),d(!0)},j=()=>{h.current=!1},g=()=>{const w=u.current;if(!w)return;const N=w.getContext("2d");N&&(N.clearRect(0,0,w.width,w.height),d(!1))},v=()=>{const w=u.current;return w?w.toDataURL("image/png"):""},f=()=>{if(!o.trim())return"";const w=document.createElement("canvas");w.width=800,w.height=200;const N=w.getContext("2d");return N?(N.fillStyle="#ffffff",N.fillRect(0,0,w.width,w.height),N.fillStyle="#111827",N.font="48px 'Segoe Script', 'Pacifico', cursive",N.textBaseline="middle",N.fillText(o.trim(),40,w.height/2),w.toDataURL("image/png")):""},b=()=>{if(!n.trim()){alert("Please enter the signer name/title");return}const w=i==="draw"?v():f();if(!w||i==="draw"&&!c){alert("Please add a signature first");return}t(w,n.trim())};return s.jsxs(s.Fragment,{children:[s.jsxs(es,{children:[s.jsx(ts,{children:"Sign and Lock Entry"}),s.jsx(is,{children:"Draw on phone/tablet or type a signature from desktop."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ae,{htmlFor:"signedByName",children:"Signer name & title"}),s.jsx(B,{id:"signedByName",value:n,onChange:w=>r(w.target.value),placeholder:"e.g. Jane Smith, CFI"})]}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx(M,{type:"button",variant:i==="draw"?"default":"outline",onClick:()=>a("draw"),children:"Draw Signature"}),s.jsx(M,{type:"button",variant:i==="type"?"default":"outline",onClick:()=>a("type"),children:"Type Signature"})]}),i==="draw"?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"border rounded-md overflow-hidden touch-none",children:s.jsx("canvas",{ref:u,className:"w-full h-52 bg-white",onPointerDown:m,onPointerMove:x,onPointerUp:j,onPointerLeave:j})}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:g,children:"Clear"}),s.jsx("p",{className:"text-xs text-muted-foreground self-center",children:"Use finger/stylus on mobile or mouse on desktop."})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"typedSignature",children:"Type your name"}),s.jsx(B,{id:"typedSignature",value:o,onChange:w=>l(w.target.value),placeholder:"e.g. Jane Smith"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A styled signature image will be generated."})]})]}),s.jsx(xn,{children:s.jsxs(M,{onClick:b,disabled:e,children:[e&&s.jsx(ru,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign & Lock"]})})]})}function Bae(t){if(!t)return{category:"UNKNOWN",color:"gray"};const e=t.rawOb||"",n=e.match(/\s(\d{1,2})SM/),r=n?parseInt(n[1]):10,i=e.match(/(BKN|OVC)(\d{3})/),a=i?parseInt(i[2])*100:1e4;return a>=3e3&&r>5?{category:"VFR",color:"green"}:a>=1e3&&r>=3?{category:"MVFR",color:"blue"}:a>=500&&r>=1?{category:"IFR",color:"red"}:{category:"LIFR",color:"purple"}}function Vae(t){const n=Date.now()-t,r=Math.floor(n/6e4);return r<1?"just now":r<60?`${r} min ago`:`${Math.floor(r/60)}h ${r%60}m ago`}function zae(t){if(!(t!=null&&t.rawOb))return null;const e=t.rawOb,n=e.match(/\bINFO\s+([A-Z])\b/i);if(n)return`Information ${n[1].toUpperCase()}`;const r=e.match(/\bATIS\s+([A-Z])\b/i);if(r)return`Information ${r[1].toUpperCase()}`;const i=e.indexOf("RMK");if(i!==-1){const o=e.substring(i).match(/\s([A-Z])\s*$/);if(o)return`Information ${o[1]}`}return null}function qae(t){if(!(t!=null&&t.rawOb))return null;const e=t.rawOb,n=e.match(/\b(?:RWY|RUNWAY)\s+(\d{2}[LCR]?(?:\s*(?:AND|\/|&)\s*\d{2}[LCR]?)*)/i);if(n)return n[1].replace(/\s+/g," ").trim();const r=e.match(/\bARR\s+(?:RWY|RUNWAY)\s+(\d{2}[LCR]?)/i),i=e.match(/\bDEP\s+(?:RWY|RUNWAY)\s+(\d{2}[LCR]?)/i);if(r||i){const a=[];return r&&a.push(`${r[1]} (arr)`),i&&a.push(`${i[1]} (dep)`),a.join(", ")}return null}function Hae(){const{user:t}=Ds(),[e,n]=p.useState("KAUS"),[r,i]=p.useState("KAUS"),{data:a,isLoading:o,error:l,refetch:c}=We({queryKey:[`/api/aviation-weather/${r}`],queryFn:async()=>{const x=await fetch(Yt(`/api/aviation-weather/${r}`),{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch weather data");return x.json()},enabled:!!r}),d=()=>{e.trim().length>=3&&i(e.toUpperCase().trim())},u=Bae(a==null?void 0:a.metar),h=zae(a==null?void 0:a.metar),m=qae(a==null?void 0:a.metar);return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[s.jsx(cD,{className:"h-8 w-8"}),"Pilot Tools"]}),s.jsx("p",{className:"text-muted-foreground",children:"Aviation weather, NOTAMs, and airport information"})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Flight Planner (Logbook Pro)"]}),s.jsx(Ne,{children:"Save common routes, fuel notes, and timing."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(M,{asChild:!0,children:s.jsx(Je,{href:"/flight-planner",children:(t==null?void 0:t.logbookProStatus)==="active"?"Open Flight Planner":"Preview Flight Planner"})}),s.jsx(K,{variant:"outline",children:(t==null?void 0:t.logbookProStatus)==="active"?"Active":"Preview available"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs(Z,{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),"IFR Approach Plates"]}),s.jsx(Ne,{children:"Search and download current FAA approach plates."})]}),s.jsxs(U,{className:"flex flex-wrap items-center gap-3",children:[s.jsx(M,{asChild:!0,children:s.jsx(Je,{href:"/approach-plates",children:"Open Approach Plates"})}),s.jsx(K,{variant:"outline",children:"Hosted by ReadySetFly"})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Airport Weather"}),s.jsx(Ne,{children:"Enter an ICAO code (e.g., KAUS, KJFK, KDFW)"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ae,{htmlFor:"icao",className:"sr-only",children:"ICAO Code"}),s.jsx(B,{id:"icao",value:e,onChange:x=>n(x.target.value.toUpperCase()),onKeyDown:x=>x.key==="Enter"&&d(),placeholder:"ICAO (e.g., KAUS)",maxLength:4,className:"uppercase"})]}),s.jsxs(M,{onClick:d,disabled:o,children:[o?s.jsx(ru,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]}),l&&s.jsxs(Gs,{variant:"destructive",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx(Ys,{children:l instanceof Error&&l.message.includes("404")?`No weather data available for this airport. ${r} may not report METAR/TAF.`:"Failed to fetch weather data. Please check the ICAO code and try again."})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs(Z,{className:"flex items-center gap-2",children:[s.jsx(d2,{className:"h-5 w-5"}),a.icao," - Current Conditions"]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(K,{variant:"outline",className:`text-white ${u.color==="green"?"bg-green-600":u.color==="blue"?"bg-blue-600":u.color==="red"?"bg-red-600":"bg-purple-600"}`,children:u.category}),h&&s.jsx(K,{variant:"outline",className:"bg-sky-100 dark:bg-sky-900/30 text-sky-800 dark:text-sky-200",children:h})]})]}),s.jsxs(Ne,{className:"flex items-center gap-2 flex-wrap",children:[a.metar&&s.jsxs("span",{className:"text-xs",children:["Updated: ",Vae(new Date(a.metar.obsTime).getTime())]}),a.cached&&s.jsx(K,{variant:"secondary",className:"text-xs",children:"Cached"}),m&&s.jsxs(K,{variant:"outline",className:"text-xs bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200",children:["Runway ",m," in use"]})]})]}),s.jsxs(U,{className:"space-y-4",children:[a.metar?s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm font-semibold",children:"METAR"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1",children:a.metar.rawOb})]})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No METAR data available"}),s.jsx(nt,{}),a.taf?s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"font-mono text-sm bg-muted p-3 rounded-md mt-1 whitespace-pre-wrap",children:a.taf.rawTAF})]}):s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm font-semibold",children:"TAF (Forecast)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"No TAF data available"})]}),s.jsxs(Gs,{children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsxs(Ys,{className:"text-xs",children:[s.jsx("strong",{children:"Disclaimer:"})," This information is for planning purposes only and is not for official flight briefings. Always obtain an official weather briefing before flight."]})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Aviation Resources"}),s.jsx(Ne,{children:"Official sources for flight planning"})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsx(M,{variant:"outline",className:"justify-start",asChild:!0,children:s.jsxs("a",{href:`https://www.aviationweather.gov/metar/data?ids=${a.icao}&format=decoded`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(d2,{className:"h-4 w-4 mr-2"}),"View METAR/TAF",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]})}),s.jsxs(M,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://notams.aim.faa.gov/notamSearch/nsapp.html#/","_blank"),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"NOTAMs",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(M,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://tfr.faa.gov/tfr2/list.html","_blank"),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"TFRs",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(M,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.faa.gov/air_traffic/flight_info/aeronav/digital_products/dafd/","_blank"),children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Chart Supplement",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(M,{variant:"outline",className:"justify-start",onClick:()=>window.open("https://www.1800wxbrief.com/","_blank"),children:[s.jsx(qz,{className:"h-4 w-4 mr-2"}),"1800WXBRIEF",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]}),s.jsxs(M,{variant:"outline",className:"justify-start",onClick:()=>window.open(`https://skyvector.com/airport/${a.icao}`,"_blank"),children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"SkyVector",s.jsx(Zr,{className:"h-3 w-3 ml-auto"})]})]}),s.jsx(nt,{className:"my-4"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"METAR:"})," Current observed weather conditions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TAF:"})," Terminal Aerodrome Forecast (6-30 hour forecast)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"NOTAMs:"})," Notices to Airmen (runway closures, navaid outages, etc.)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"TFRs:"})," Temporary Flight Restrictions"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chart Supplement:"})," Airport/facility directory with frequencies and procedures"]})]})]})]})]})]})})}const ij={annualHours:100,hangar:3600,insurance:2e3,annualInspection:1800,loanPaymentAnnual:0,subscriptions:300,otherFixed:0,fuelPerHour:80,oilPerHour:3,maintenanceReservePerHour:20,engineReservePerHour:25,otherVariablePerHour:0};function Wae(t){const e=Number(t.replace(/[^0-9.\-]/g,""));return Number.isFinite(e)?e:0}function Kae(){const[t,e]=p.useState(()=>{try{const l=localStorage.getItem("ownership-cost-inputs");return l?{...ij,...JSON.parse(l)}:ij}catch{return ij}});p.useEffect(()=>{try{localStorage.setItem("ownership-cost-inputs",JSON.stringify(t))}catch{}},[t]);const n=p.useMemo(()=>{const{hangar:l,insurance:c,annualInspection:d,loanPaymentAnnual:u,subscriptions:h,otherFixed:m}=t;return l+c+d+u+h+m},[t]),r=p.useMemo(()=>{const{fuelPerHour:l,oilPerHour:c,maintenanceReservePerHour:d,engineReservePerHour:u,otherVariablePerHour:h}=t;return l+c+d+u+h},[t]),i=p.useMemo(()=>t.annualHours<=0?0:n/t.annualHours+r,[n,r,t.annualHours]),a=p.useMemo(()=>Math.round(i*1.15*100)/100,[i]),o=l=>c=>{e(d=>({...d,[l]:Wae(c.target.value)}))};return s.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[s.jsx(lD,{className:"h-8 w-8"}),"Ownership Cost per Hour"]}),s.jsx("p",{className:"text-muted-foreground",children:"Estimate aircraft ownership cost per flight hour and a suggested rental price (+15%)."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-base",children:"Ownership Cost/hr"}),s.jsx(Ne,{children:"Fixed/hrs + variable"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(xs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:i.toFixed(2)})]})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-base",children:"Recommended Rental/hr"}),s.jsx(Ne,{children:"+15% markup"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(K,{variant:"secondary",className:"text-xs",children:"Markup"}),s.jsx(xs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:a.toFixed(2)})]})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-base",children:"Annual Fixed Costs"}),s.jsx(Ne,{children:"Total per year"})]}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx(xs,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-semibold",children:n.toFixed(0)})]})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Inputs"}),s.jsx(Ne,{children:"Adjust assumptions to match your aircraft"})]}),s.jsxs(U,{className:"space-y-8",children:[s.jsxs("section",{className:"space-y-3",children:[s.jsx(ae,{htmlFor:"annualHours",children:"Expected Annual Utilization (hours)"}),s.jsx(B,{id:"annualHours",type:"number",min:0,step:"1",value:t.annualHours,onChange:o("annualHours")})]}),s.jsx(nt,{}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fixed Annual Costs"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"hangar",children:"Hangar/Tie-Down (annual)"}),s.jsx(B,{id:"hangar",type:"number",min:0,step:"1",value:t.hangar,onChange:o("hangar")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"insurance",children:"Insurance (annual)"}),s.jsx(B,{id:"insurance",type:"number",min:0,step:"1",value:t.insurance,onChange:o("insurance")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"annualInspection",children:"Annual/100-hr Inspection (annual)"}),s.jsx(B,{id:"annualInspection",type:"number",min:0,step:"1",value:t.annualInspection,onChange:o("annualInspection")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"loanPaymentAnnual",children:"Loan Payments (annual)"}),s.jsx(B,{id:"loanPaymentAnnual",type:"number",min:0,step:"1",value:t.loanPaymentAnnual,onChange:o("loanPaymentAnnual")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"subscriptions",children:"Subscriptions/Misc (annual)"}),s.jsx(B,{id:"subscriptions",type:"number",min:0,step:"1",value:t.subscriptions,onChange:o("subscriptions")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"otherFixed",children:"Other Fixed (annual)"}),s.jsx(B,{id:"otherFixed",type:"number",min:0,step:"1",value:t.otherFixed,onChange:o("otherFixed")})]})]})]}),s.jsx(nt,{}),s.jsxs("section",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Variable Costs (per flight hour)"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"fuelPerHour",children:"Fuel ($/hr)"}),s.jsx(B,{id:"fuelPerHour",type:"number",min:0,step:"1",value:t.fuelPerHour,onChange:o("fuelPerHour")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"oilPerHour",children:"Oil ($/hr)"}),s.jsx(B,{id:"oilPerHour",type:"number",min:0,step:"1",value:t.oilPerHour,onChange:o("oilPerHour")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"maintenanceReservePerHour",children:"Maintenance Reserve ($/hr)"}),s.jsx(B,{id:"maintenanceReservePerHour",type:"number",min:0,step:"1",value:t.maintenanceReservePerHour,onChange:o("maintenanceReservePerHour")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"engineReservePerHour",children:"Engine/Prop Reserve ($/hr)"}),s.jsx(B,{id:"engineReservePerHour",type:"number",min:0,step:"1",value:t.engineReservePerHour,onChange:o("engineReservePerHour")})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"otherVariablePerHour",children:"Other Variable ($/hr)"}),s.jsx(B,{id:"otherVariablePerHour",type:"number",min:0,step:"1",value:t.otherVariablePerHour,onChange:o("otherVariablePerHour")})]})]})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{className:"text-base",children:"How this works"}),s.jsx(Ne,{children:"Simple ownership math"})]}),s.jsxs(U,{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Ownership cost per hour = (annual fixed costs  annual hours) + variable per-hour costs."}),s.jsx("p",{children:"Recommended rental price is ownership cost per hour plus a 15% margin. Adjust the inputs to fit your aircraft and local prices."})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(M,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),variant:"outline",children:"Back to Top"})})]})})}const qk=.0825,Hk=[{key:"MONTHLY",label:"Monthly",price:5.99},{key:"BIANNUAL",label:"6 Months",price:34.99},{key:"YEARLY",label:"Yearly",price:49.99}];function yf(t){return t.toFixed(2)}function Gae(){const{user:t,isAuthenticated:e}=Ds(),{toast:n}=Ot(),[r,i]=p.useState("MONTHLY"),[a,o]=p.useState(!1);if(!e)return s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsx(L,{children:s.jsxs(G,{children:[s.jsx(Z,{children:"Logbook Pro"}),s.jsx(Ne,{children:"Please sign in to upgrade your logbook."})]})})});const l=Hk.find(j=>j.key===r),c=l.price*qk,d=l.price+c,u=async()=>{o(!0);try{const j=await Te("POST","/api/paypal/logbook/subscribe",{plan:r}),g=await j.json();if(!j.ok||!g.approveUrl)throw new Error(g.error||"Unable to start subscription");window.location.href=g.approveUrl}catch(j){n({title:"Subscription failed",description:j.message,variant:"destructive"})}finally{o(!1)}},h=async()=>{if(confirm("Cancel Logbook Pro? You can continue using the free logbook.")){o(!0);try{const j=await Te("POST","/api/paypal/logbook/cancel",{reason:"User cancellation"}),g=await j.json();if(!j.ok)throw new Error(g.error||"Unable to cancel subscription");n({title:"Subscription cancelled",description:"Logbook Pro is now cancelled."}),window.location.reload()}catch(j){n({title:"Cancellation failed",description:j.message,variant:"destructive"})}finally{o(!1)}}},m=(t==null?void 0:t.logbookProStatus)||"free",x=m==="active";return s.jsx("div",{className:"container mx-auto py-10 px-4 space-y-6",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Logbook Pro"}),s.jsx(Ne,{children:"Upgrade for advanced analytics, automation, and flight planning tools."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{children:" Advanced flight planning: aircraft performance profiles, wind-adjusted ETE, fuel planning, route risk flags, alternates, and plan-to-logbook."}),s.jsx("div",{children:" Pro currency tools, report exports, and priority support."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(K,{variant:x?"default":"outline",children:["Status: ",m]}),(t==null?void 0:t.logbookProPlan)&&s.jsxs(K,{variant:"secondary",children:["Plan: ",t.logbookProPlan]})]}),x?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Logbook Pro subscription is active."}),s.jsx(M,{variant:"destructive",onClick:h,disabled:a,children:"Cancel Logbook Pro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime. Your free logbook remains available."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Hk.map(j=>{const g=j.price*qk,v=j.price+g,f=j.key===r;return s.jsxs("button",{className:`rounded-xl border p-4 text-left transition-all ${f?"border-primary bg-primary/5":"border-border"}`,onClick:()=>i(j.key),children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:j.label}),s.jsxs("div",{className:"text-2xl font-semibold",children:["$",yf(j.price)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+ tax ($",yf(g),") = $",yf(v)]})]},j.key)})}),s.jsx(nt,{}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Selected plan"}),s.jsx("div",{className:"font-medium",children:l.label})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-muted-foreground",children:"Total today"}),s.jsxs("div",{className:"font-semibold",children:["$",yf(d)]})]})]}),s.jsx(M,{onClick:u,disabled:a,children:a?"Redirecting...":"Upgrade with PayPal"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"By subscribing you agree to recurring billing at the selected interval."})]})]})]})})}function Yae(){const[t,e]=p.useState("Processing..."),[n,r]=p.useState(null);return p.useEffect(()=>{const i=new URLSearchParams(window.location.search),a=i.get("subscription_id")||i.get("subscriptionId");if(!a){r("Missing subscription ID from PayPal."),e("Failed");return}Te("GET",`/api/paypal/logbook/confirm?subscriptionId=${a}`).then(o=>o.json()).then(o=>{o!=null&&o.status?e(`Subscription status: ${o.status}`):e("Subscription confirmed.")}).catch(o=>{r(o.message||"Failed to confirm subscription"),e("Failed")})},[]),s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Logbook Pro Activated"}),s.jsx(Ne,{children:"Thanks for upgrading!"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("div",{className:"text-sm",children:t}),n&&s.jsx("div",{className:"text-sm text-red-600",children:n}),s.jsx(M,{asChild:!0,children:s.jsx(Je,{href:"/logbook",children:"Go to Logbook"})})]})]})})}function Qae(){return s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Subscription Cancelled"}),s.jsx(Ne,{children:"You can continue using the free logbook anytime."})]}),s.jsx(U,{children:s.jsx(M,{asChild:!0,children:s.jsx(Je,{href:"/logbook",children:"Back to Logbook"})})})]})})}function nl(t,e){try{typeof window<"u"&&window.gtag&&window.gtag("event",t,e||{})}catch{}}function vf(t){return t*Math.PI/180}function Xae(t,e){const r=vf(e.lat-t.lat),i=vf(e.lon-t.lon),a=vf(t.lat),o=vf(e.lat),l=Math.sin(r/2)**2+Math.sin(i/2)**2*Math.cos(a)*Math.cos(o);return 3440.065*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function Zae(t){const e=[];for(let n=0;n<t.length-1;n+=1){const r=t[n],i=t[n+1];e.push({from:r,to:i,distanceNm:Xae(r,i)})}return e}function Jae(t){return t.reduce((e,n)=>e+n.distanceNm,0)}const eoe=p.lazy(()=>Ma(()=>import("./PlannerMap-Dbil5Y6C.js"),__vite__mapDeps([0,1]))),Mw=/^[A-Z0-9]{3,4}$/,bi={id:"fallback",make:"Generic",model:"Trainer",cruise_ktas_effective:110,fuel_burn_gph_effective:8,usable_fuel_gal_effective:40,max_gross_weight_lb_effective:2400};function Wk(t){if(!(t!=null&&t.rawOb))return"UNKNOWN";const e=t.rawOb||"",n=e.match(/\s(\d{1,2})SM/),r=n?parseInt(n[1],10):10,i=e.match(/(BKN|OVC)(\d{3})/),a=i?parseInt(i[2],10)*100:1e4;return a>=3e3&&r>5?"VFR":a>=1e3&&r>=3?"MVFR":a>=500&&r>=1?"IFR":"LIFR"}function toe(t){return((t==null?void 0:t.rawTAF)||"").includes("TS")}function soe(t){return t.split(/[,\s]+/).map(e=>e.trim().toUpperCase()).filter(Boolean).filter(e=>Mw.test(e))}const aj={weather:!1,fuel:!1,currency:!1,notams:!1};function noe(){const{user:t,isAuthenticated:e}=Ds(),{toast:n}=Ot(),r=La(),i=(t==null?void 0:t.logbookProStatus)==="active";p.useEffect(()=>{nl("planner_page_view",{page:"flight-planner"})},[]);const[a,o]=p.useState(null),[l,c]=p.useState({title:"",departure:"",destination:"",route:"",alternate:"",plannedDepartureAt:"",plannedArrivalAt:"",aircraftType:"",tailNumber:"",fuelOnBoard:"",notes:""}),[d,u]=p.useState(""),[h,m]=p.useState(""),[x,j]=p.useState(bi.id),[g,v]=p.useState("45"),[f,b]=p.useState("0"),[w,N]=p.useState({name:"",cruiseKtasOverride:"",fuelBurnOverrideGph:"",usableFuelOverrideGal:"",maxGrossWeightOverrideLb:""}),[P,S]=p.useState(aj);p.useEffect(()=>{const re=localStorage.getItem("flightPlannerChecklist");if(re)try{S({...aj,...JSON.parse(re)})}catch{S(aj)}},[]),p.useEffect(()=>{localStorage.setItem("flightPlannerChecklist",JSON.stringify(P))},[P]);const{data:C=[],isLoading:k}=We({queryKey:["/api/flight-plans"],enabled:i}),{data:I=[]}=We({queryKey:["/api/aircraft/profiles"],enabled:e}),{data:A=[]}=We({queryKey:["/api/aircraft/types"]});p.useEffect(()=>{!x&&A.length&&j(A[0].id)},[A,x]);const O=I.find(re=>re.id===h)||null,$=A.find(re=>re.id===x)||bi,J=(O==null?void 0:O.cruise_ktas_effective)??$.cruise_ktas_effective??bi.cruise_ktas_effective??110,Y=(O==null?void 0:O.fuel_burn_gph_effective)??$.fuel_burn_gph_effective??bi.fuel_burn_gph_effective??8,q=(O==null?void 0:O.usable_fuel_gal_effective)??$.usable_fuel_gal_effective??bi.usable_fuel_gal_effective??40,de=(O==null?void 0:O.max_gross_weight_lb_effective)??$.max_gross_weight_lb_effective??bi.max_gross_weight_lb_effective??2400,xe=p.useMemo(()=>soe(d),[d]),z=p.useMemo(()=>{const re=[l.departure.trim().toUpperCase(),...xe,l.destination.trim().toUpperCase()].filter(Boolean);return Array.from(new Set(re)).filter(D=>Mw.test(D))},[l.departure,l.destination,xe]),R=JC({queries:z.map(re=>({queryKey:["/api/airports",re],queryFn:async()=>{const D=await fetch(Yt(`/api/airports/${re}`),{credentials:"include"});if(!D.ok)throw new Error("Failed to fetch airport data");return D.json()},enabled:z.length>0,staleTime:1e3*60*60}))}),Q=p.useMemo(()=>{const re=new Map;return R.forEach((D,H)=>{const ee=z[H];D.data&&ee&&re.set(ee,D.data)}),re},[R,z]),ue=p.useMemo(()=>z.map(re=>{const D=Q.get(re);return!D||!Number.isFinite(D.lat)||!Number.isFinite(D.lon)?null:{icao:re,lat:Number(D.lat),lon:Number(D.lon)}}).filter(Boolean),[Q,z]),F=p.useMemo(()=>Zae(ue),[ue]),ve=p.useMemo(()=>Jae(F),[F]),Me=Number(f||0),et=Math.max(40,J-(i?Me:0)),se=ve?ve/et:0,je=Number(g)/60*Y,Oe=se*Y,ne=Oe+je,he=p.useMemo(()=>{const re=[l.departure.trim().toUpperCase(),...xe.slice(0,2),l.destination.trim().toUpperCase()].filter(Boolean);return Array.from(new Set(re)).filter(D=>Mw.test(D))},[l.departure,l.destination,xe]),ye=JC({queries:he.map(re=>({queryKey:["/api/aviation-weather",re],queryFn:async()=>{const D=await fetch(Yt(`/api/aviation-weather/${re}`),{credentials:"include"});if(!D.ok)throw new Error("Failed to fetch weather data");return D.json()},enabled:he.length>0,staleTime:1e3*60*5}))}).map((re,D)=>({icao:he[D],data:re.data})).filter(re=>re.icao),Ye=p.useMemo(()=>{let re="Normal",D=!1,H=!1;return ye.forEach(({data:ee})=>{const De=Wk(ee==null?void 0:ee.metar);(De==="IFR"||De==="LIFR")&&(D=!0),toe(ee==null?void 0:ee.taf)&&(H=!0)}),D&&(re="IFR Conditions"),H&&(re=D?"IFR + Thunderstorms":"Thunderstorms"),re},[ye]),st=()=>{o(null),c({title:"",departure:"",destination:"",route:"",alternate:"",plannedDepartureAt:"",plannedArrivalAt:"",aircraftType:"",tailNumber:"",fuelOnBoard:"",notes:""}),u("")},kt=Ie({mutationFn:async()=>{const re={...l,route:d,aircraftType:l.aircraftType||(O==null?void 0:O.name)||`${$.make} ${$.model}`,fuelRequired:ne?ne.toFixed(1):null,plannedDepartureAt:l.plannedDepartureAt?new Date(l.plannedDepartureAt).toISOString():null,plannedArrivalAt:l.plannedArrivalAt?new Date(l.plannedArrivalAt).toISOString():null};return(await Te("POST","/api/flight-plans",re)).json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/flight-plans"]}),n({title:"Flight plan saved"}),st()},onError:re=>{n({title:"Save failed",description:re.message,variant:"destructive"})}}),Lt=Ie({mutationFn:async()=>{if(!a)return null;const re={...l,route:d,aircraftType:l.aircraftType||(O==null?void 0:O.name)||`${$.make} ${$.model}`,fuelRequired:ne?ne.toFixed(1):null,plannedDepartureAt:l.plannedDepartureAt?new Date(l.plannedDepartureAt).toISOString():null,plannedArrivalAt:l.plannedArrivalAt?new Date(l.plannedArrivalAt).toISOString():null};return(await Te("PATCH",`/api/flight-plans/${a.id}`,re)).json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/flight-plans"]}),n({title:"Flight plan updated"}),st()},onError:re=>{n({title:"Update failed",description:re.message,variant:"destructive"})}}),Rt=Ie({mutationFn:async re=>(await Te("DELETE",`/api/flight-plans/${re}`)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/flight-plans"]}),n({title:"Flight plan deleted"})},onError:re=>{n({title:"Delete failed",description:re.message,variant:"destructive"})}}),Is=Ie({mutationFn:async()=>{const re={name:w.name.trim(),tailNumber:l.tailNumber||null,typeId:$!=null&&$.id&&$.id!==bi.id?$.id:null,cruiseKtasOverride:w.cruiseKtasOverride?Number(w.cruiseKtasOverride):null,fuelBurnOverrideGph:w.fuelBurnOverrideGph?Number(w.fuelBurnOverrideGph):null,usableFuelOverrideGal:w.usableFuelOverrideGal?Number(w.usableFuelOverrideGal):null,maxGrossWeightOverrideLb:w.maxGrossWeightOverrideLb?Number(w.maxGrossWeightOverrideLb):null};return(await Te("POST","/api/aircraft/profiles",re)).json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/aircraft/profiles"]}),n({title:"Aircraft profile saved"}),N({name:"",cruiseKtasOverride:"",fuelBurnOverrideGph:"",usableFuelOverrideGal:"",maxGrossWeightOverrideLb:""})},onError:re=>{n({title:"Save failed",description:re.message,variant:"destructive"})}}),Qt=Ie({mutationFn:async()=>{const re={flightDate:new Date().toISOString().slice(0,10),aircraftType:(O==null?void 0:O.name)||`${$.make} ${$.model}`,route:`${l.departure} ${d} ${l.destination}`.trim(),remarks:"Planned from Flight Planner"};return(await Te("POST","/api/logbook",re)).json()},onSuccess:()=>{n({title:"Logbook entry created"})},onError:re=>{n({title:"Logbook entry failed",description:re.message,variant:"destructive"})}});return p.useEffect(()=>{a&&(c({title:a.title||"",departure:a.departure||"",destination:a.destination||"",route:a.route||"",alternate:a.alternate||"",plannedDepartureAt:a.plannedDepartureAt?new Date(a.plannedDepartureAt).toISOString().slice(0,16):"",plannedArrivalAt:a.plannedArrivalAt?new Date(a.plannedArrivalAt).toISOString().slice(0,16):"",aircraftType:a.aircraftType||"",tailNumber:a.tailNumber||"",fuelOnBoard:a.fuelOnBoard?String(a.fuelOnBoard):"",notes:a.notes||""}),u(a.route||""))},[a]),s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-6xl space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Flight Planner"}),s.jsx("p",{className:"text-muted-foreground",children:"Build a route, estimate time and fuel, then save to Logbook Pro."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!i&&s.jsx(K,{variant:"outline",children:"Preview mode"}),s.jsx(M,{asChild:!0,variant:"outline",onClick:()=>nl("planner_upgrade_click",{target:"/logbook/pro"}),children:s.jsx(Je,{href:"/logbook/pro",children:"Upgrade to Logbook Pro"})})]})]}),s.jsx(Gs,{children:s.jsx(Ys,{children:"Planning estimates only. Always verify against the aircraft POH/AFM and current conditions."})}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Route Builder"}),s.jsx(Ne,{children:"Enter airports and optional waypoints to plot your route."})]}),s.jsxs(U,{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Departure (ICAO)"}),s.jsx(B,{value:l.departure,onChange:re=>c({...l,departure:re.target.value.toUpperCase()}),placeholder:"KJFK"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Destination (ICAO)"}),s.jsx(B,{value:l.destination,onChange:re=>c({...l,destination:re.target.value.toUpperCase()}),placeholder:"KBOS"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(ae,{children:"Waypoints (optional)"}),s.jsx(B,{value:d,onChange:re=>u(re.target.value.toUpperCase()),placeholder:"KISP KPVD (comma or space separated)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add ICAO codes separated by space or comma."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Alternate"}),s.jsx(B,{value:l.alternate,onChange:re=>c({...l,alternate:re.target.value}),placeholder:"KBDL"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Tail Number"}),s.jsx(B,{value:l.tailNumber,onChange:re=>c({...l,tailNumber:re.target.value}),placeholder:"N12345"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Route Map"}),s.jsx(Ne,{children:"Route draws once valid airport coordinates are found."})]}),s.jsx(U,{children:z.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter a departure and destination to preview the route."}):ue.length<2?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Waiting for airport coordinates..."}):s.jsx(p.Suspense,{fallback:s.jsx("div",{className:"h-[380px] rounded-xl border bg-muted animate-pulse"}),children:s.jsx(eoe,{points:ue.map(re=>({icao:re.icao,lat:re.lat,lon:re.lon}))})})})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Distance & Performance"}),s.jsx(Ne,{children:"Estimate time enroute and fuel required."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"RSF Aircraft Library"}),s.jsxs(gs,{value:x,onValueChange:re=>{j(re),m("")},children:[s.jsx(cs,{children:s.jsx(ys,{placeholder:"Select aircraft type"})}),s.jsxs(ds,{children:[s.jsxs(_e,{value:bi.id,children:[bi.make," ",bi.model]}),A.map(re=>s.jsxs(_e,{value:re.id,children:[re.make," ",re.model,re.icaoType?` (${re.icaoType})`:""]},re.id))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Planning estimates only. Verify POH/AFM."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Saved Profile"}),s.jsxs(gs,{value:h,onValueChange:m,children:[s.jsx(cs,{children:s.jsx(ys,{placeholder:"Select saved profile"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"",children:"None"}),I.map(re=>s.jsx(_e,{value:re.id,children:re.name},re.id))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overrides take priority when selected."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Reserve Fuel (minutes)"}),s.jsxs(gs,{value:g,onValueChange:v,children:[s.jsx(cs,{children:s.jsx(ys,{})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"30",children:"30 min"}),s.jsx(_e,{value:"45",children:"45 min"}),s.jsx(_e,{value:"60",children:"60 min"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Avg Headwind (kt)"}),s.jsx(B,{value:f,onChange:re=>b(re.target.value),disabled:!i,placeholder:"0"}),!i&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Logbook Pro unlocks wind-adjusted ETE."})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Distance"}),s.jsxs("div",{className:"text-lg font-semibold",children:[ve?ve.toFixed(1):"-"," NM"]})]}),s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"ETE"}),s.jsx("div",{className:"text-lg font-semibold",children:se?`${Math.round(se*60)} min`:"-"})]}),s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Trip Fuel"}),s.jsxs("div",{className:"text-lg font-semibold",children:[Oe?Oe.toFixed(1):"-"," gal"]})]}),s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Fuel + Reserve"}),s.jsxs("div",{className:"text-lg font-semibold",children:[ne?ne.toFixed(1):"-"," gal"]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Usable fuel: ",q?`${q} gal`:"-"," | Max gross weight: ",de?`${de} lb`:"-"]}),i&&F.length>0&&s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsx("div",{className:"font-semibold",children:"Per-Leg Breakdown (Pro)"}),s.jsx("div",{className:"grid gap-2 text-sm",children:F.map(re=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[re.from.icao," to ",re.to.icao]}),s.jsxs("span",{children:[re.distanceNm.toFixed(1)," NM"]})]},`${re.from.icao}-${re.to.icao}`))})]}),s.jsx(nt,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Custom Aircraft Name"}),s.jsx(B,{value:w.name,onChange:re=>N({...w,name:re.target.value}),placeholder:"My C172"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Cruise KTAS (override)"}),s.jsx(B,{value:w.cruiseKtasOverride,onChange:re=>N({...w,cruiseKtasOverride:re.target.value}),placeholder:"110",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Fuel Burn (gph override)"}),s.jsx(B,{value:w.fuelBurnOverrideGph,onChange:re=>N({...w,fuelBurnOverrideGph:re.target.value}),placeholder:"8.5",type:"number"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Usable Fuel (gal override)"}),s.jsx(B,{value:w.usableFuelOverrideGal,onChange:re=>N({...w,usableFuelOverrideGal:re.target.value}),placeholder:"40",type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Max Gross Weight (lb override)"}),s.jsx(B,{value:w.maxGrossWeightOverrideLb,onChange:re=>N({...w,maxGrossWeightOverrideLb:re.target.value}),placeholder:"2400",type:"number"})]})]}),s.jsx(M,{variant:"outline",disabled:!e||!w.name||Is.isPending,onClick:()=>Is.mutate(),children:"Save Aircraft Profile"}),!e&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign in to save custom aircraft profiles."})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Weather & ATIS Awareness"}),s.jsx(Ne,{children:"Quick look at departure, destination, and waypoint weather."})]}),s.jsxs(U,{className:"space-y-4",children:[ye.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Enter airports to load weather summaries."}):s.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:ye.map(({icao:re,data:D})=>{var ee,De;const H=Wk(D==null?void 0:D.metar);return s.jsxs("div",{className:"rounded-lg border p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold",children:re}),s.jsx(K,{variant:"outline",children:H})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2 line-clamp-3",children:((ee=D==null?void 0:D.metar)==null?void 0:ee.rawOb)||"No METAR data"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2 line-clamp-3",children:((De=D==null?void 0:D.taf)==null?void 0:De.rawTAF)||"No TAF data"})]},re)})}),s.jsx(Gs,{children:s.jsxs(Ys,{children:["Route Risk: ",s.jsx("strong",{children:Ye}),". Always obtain an official briefing and review NOTAMs before flight."]})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Go / No-Go Checklist"}),s.jsx(Ne,{children:"Quick preflight checklist (stored locally)."})]}),s.jsx(U,{className:"grid gap-3 text-sm",children:Object.entries(P).map(([re,D])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Ts,{checked:D,onCheckedChange:H=>S({...P,[re]:!!H})}),re==="weather"&&"Weather reviewed",re==="fuel"&&"Fuel planned",re==="currency"&&"Currency checked",re==="notams"&&"NOTAMs acknowledged"]},re))})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Flight Plan Summary (Preparation)"}),s.jsx(Ne,{children:"ReadySetFly does not file flight plans. Use this summary as a briefing aid."})]}),s.jsxs(U,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Route"}),s.jsxs("div",{children:[l.departure||"-"," ",d," ",l.destination||""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Alternate"}),s.jsx("div",{children:l.alternate||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Estimated Time"}),s.jsx("div",{children:se?`${Math.round(se*60)} min`:"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Fuel Required"}),s.jsx("div",{children:ne?`${ne.toFixed(1)} gal`:"-"})]})]}),s.jsx(Gs,{children:s.jsx(Ys,{children:"Filing guidance: VFR flight plans can be filed via Flight Service. IFR flight plans must be filed through an approved provider. Filing integration is coming soon."})})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Save & Sync"}),s.jsx(Ne,{children:"Save plans and send routes to your logbook (Logbook Pro only)."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Plan Title"}),s.jsx(B,{value:l.title,onChange:re=>c({...l,title:re.target.value}),placeholder:"Cross-country KAUS -> KDAL"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Planned Departure"}),s.jsx(B,{type:"datetime-local",value:l.plannedDepartureAt,onChange:re=>c({...l,plannedDepartureAt:re.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Aircraft Type (optional)"}),s.jsx(B,{value:l.aircraftType,onChange:re=>c({...l,aircraftType:re.target.value}),placeholder:O.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Planned Arrival"}),s.jsx(B,{type:"datetime-local",value:l.plannedArrivalAt,onChange:re=>c({...l,plannedArrivalAt:re.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Fuel On Board (gal)"}),s.jsx(B,{value:l.fuelOnBoard,onChange:re=>c({...l,fuelOnBoard:re.target.value}),placeholder:"35"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Notes"}),s.jsx(as,{value:l.notes,onChange:re=>c({...l,notes:re.target.value}),rows:3})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(M,{onClick:()=>{if(!i){n({title:"Upgrade to save",description:"Logbook Pro is required to save flight plans."}),nl("planner_upgrade_prompt",{action:"save_plan"}),window.location.href="/logbook/pro";return}a?(nl("planner_save_plan",{action:"update"}),Lt.mutate()):(nl("planner_save_plan",{action:"create"}),kt.mutate())},disabled:kt.isPending||Lt.isPending,children:a?"Save Changes":"Save Flight Plan"}),s.jsx(M,{variant:"outline",onClick:()=>{if(!i){n({title:"Upgrade to sync",description:"Logbook Pro is required to sync to logbook."}),nl("planner_upgrade_prompt",{action:"send_to_logbook"}),window.location.href="/logbook/pro";return}nl("planner_send_to_logbook",{action:"create_entry"}),Qt.mutate()},children:"Send Planned Flight to Logbook"}),s.jsx(M,{variant:"ghost",onClick:st,children:"Clear Form"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Saved Plans"}),s.jsx(Ne,{children:"Access saved routes and fuel notes (Pro)."})]}),s.jsxs(U,{className:"space-y-4",children:[!i&&s.jsx("div",{className:"rounded-lg border border-dashed p-4 text-sm text-muted-foreground",children:"Logbook Pro unlocks saved plans, per-leg breakdowns, and unlimited route storage."}),k?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading flight plans..."}):C.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No flight plans saved yet."}):C.map(re=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:re.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.departure," to ",re.destination]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{variant:"outline",children:"Planned"}),s.jsx(M,{size:"sm",variant:"outline",onClick:()=>o(re),children:"Edit"}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>Rt.mutate(re.id),children:"Delete"})]})]}),s.jsxs("div",{className:"grid gap-2 md:grid-cols-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Route"}),s.jsx("div",{children:re.route||"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Departure"}),s.jsx("div",{children:re.plannedDepartureAt?new Date(re.plannedDepartureAt).toLocaleString():"-"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Arrival"}),s.jsx("div",{children:re.plannedArrivalAt?new Date(re.plannedArrivalAt).toLocaleString():"-"})]})]}),re.notes&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Notes: ",re.notes]})]},re.id))]})]})]})}function roe(){const[t,e]=p.useState(""),[n,r]=p.useState(""),{data:i,isLoading:a}=We({queryKey:["/api/plates",n],queryFn:async()=>{if(!n)return{plates:[]};const l=Yt(`/api/plates/${encodeURIComponent(n)}`),c=await fetch(l);if(!c.ok)throw new Error("Failed to load approach plates");return c.json()}}),o=(i==null?void 0:i.plates)||[];return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-5xl space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Approach Plates"}),s.jsx("p",{className:"text-muted-foreground",children:"Search IFR approach plates by airport identifier. Charts are provided by FAA (AeroNav)."}),(i==null?void 0:i.icao)&&s.jsxs(K,{variant:"outline",children:["ICAO: ",i.icao]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Search"}),s.jsx(Ne,{children:"Enter an ICAO code (e.g., KJFK)."})]}),s.jsxs(U,{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(B,{value:t,onChange:l=>e(l.target.value),placeholder:"Search plates"}),s.jsxs(M,{onClick:()=>r(t),children:[s.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Search"]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Results"}),s.jsxs(Ne,{children:[o.length," plates found"]})]}),s.jsx(U,{className:"space-y-4",children:a?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading plates..."}):o.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No plates found. Try another airport code."}):o.map(l=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold",children:l.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:l.type})]}),s.jsx(M,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs("a",{href:Yt(`/api/plates/proxy?url=${encodeURIComponent(l.url)}`),target:"_blank",rel:"noreferrer",children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"View Plate"]})})]}),l.effectiveDate&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Effective: ",l.effectiveDate]}),s.jsx(nt,{}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Source: FAA AeroNav"})]},l.url))})]})]})}var gi="Accordion",ioe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[W1,aoe,ooe]=dp(gi),[xy]=Nn(gi,[ooe,c5]),K1=c5(),iU=Ge.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,a=r;return s.jsx(W1.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?s.jsx(uoe,{...a,ref:e}):s.jsx(doe,{...i,ref:e})})});iU.displayName=gi;var[aU,loe]=xy(gi),[oU,coe]=xy(gi,{collapsible:!1}),doe=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[l,c]=fr({prop:n,defaultProp:r??"",onChange:i,caller:gi});return s.jsx(aU,{scope:t.__scopeAccordion,value:Ge.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ge.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(oU,{scope:t.__scopeAccordion,collapsible:a,children:s.jsx(lU,{...o,ref:e})})})}),uoe=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=t,[o,l]=fr({prop:n,defaultProp:r??[],onChange:i,caller:gi}),c=Ge.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=Ge.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(aU,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(oU,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(lU,{...a,ref:e})})})}),[hoe,gy]=xy(gi),lU=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...o}=t,l=Ge.useRef(null),c=ut(l,e),d=aoe(n),h=Su(i)==="ltr",m=Ae(t.onKeyDown,x=>{var k;if(!ioe.includes(x.key))return;const j=x.target,g=d().filter(I=>{var A;return!((A=I.ref.current)!=null&&A.disabled)}),v=g.findIndex(I=>I.ref.current===j),f=g.length;if(v===-1)return;x.preventDefault();let b=v;const w=0,N=f-1,P=()=>{b=v+1,b>N&&(b=w)},S=()=>{b=v-1,b<w&&(b=N)};switch(x.key){case"Home":b=w;break;case"End":b=N;break;case"ArrowRight":a==="horizontal"&&(h?P():S());break;case"ArrowDown":a==="vertical"&&P();break;case"ArrowLeft":a==="horizontal"&&(h?S():P());break;case"ArrowUp":a==="vertical"&&S();break}const C=b%f;(k=g[C].ref.current)==null||k.focus()});return s.jsx(hoe,{scope:n,disabled:r,direction:i,orientation:a,children:s.jsx(W1.Slot,{scope:n,children:s.jsx(Xe.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:m})})})}),Qx="AccordionItem",[moe,G1]=xy(Qx),cU=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,a=gy(Qx,n),o=loe(Qx,n),l=K1(n),c=ur(),d=r&&o.value.includes(r)||!1,u=a.disabled||t.disabled;return s.jsx(moe,{scope:n,open:d,disabled:u,triggerId:c,children:s.jsx(h5,{"data-orientation":a.orientation,"data-state":fU(d),...l,...i,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});cU.displayName=Qx;var dU="AccordionHeader",uU=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=gy(gi,n),a=G1(dU,n);return s.jsx(Xe.h3,{"data-orientation":i.orientation,"data-state":fU(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});uU.displayName=dU;var Lw="AccordionTrigger",hU=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=gy(gi,n),a=G1(Lw,n),o=coe(Lw,n),l=K1(n);return s.jsx(W1.ItemSlot,{scope:n,children:s.jsx(nX,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...r,ref:e})})});hU.displayName=Lw;var mU="AccordionContent",pU=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=gy(gi,n),a=G1(mU,n),o=K1(n);return s.jsx(rX,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});pU.displayName=mU;function fU(t){return t?"open":"closed"}var poe=iU,foe=cU,xoe=uU,xU=hU,gU=pU;const goe=poe,yU=p.forwardRef(({className:t,...e},n)=>s.jsx(foe,{ref:n,className:Re("border-b",t),...e}));yU.displayName="AccordionItem";const vU=p.forwardRef(({className:t,children:e,...n},r)=>s.jsx(xoe,{className:"flex",children:s.jsxs(xU,{ref:r,className:Re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,s.jsx(nd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));vU.displayName=xU.displayName;const jU=p.forwardRef(({className:t,children:e,...n},r)=>s.jsx(gU,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:Re("pb-4 pt-0",t),children:e})}));jU.displayName=gU.displayName;const yoe=[{id:"why-subscription",question:"Why should I pay for a subscription?",answer:"Ready Set Fly stores and secures a large amount of data for your listings, logbook entries, documents, and messages so it is always accessible. That storage and availability creates ongoing infrastructure costs, and subscriptions keep the platform reliable and growing."},{id:"what-included",question:"What is included with a listing subscription?",answer:"Your subscription keeps your listings live in search, maintains message history, and preserves listing data, documents, and analytics."},{id:"cancel",question:"Can I cancel at any time?",answer:"Yes. You can cancel from your dashboard, and your existing data remains available to you."},{id:"verification",question:"Why do I need to verify my account?",answer:"Verification keeps the marketplace safe and compliant. It reduces fraud and helps owners trust renter profiles."},{id:"payments",question:"How are payments handled?",answer:"Payments are processed securely through PayPal. The platform records the transaction history for both owners and renters."},{id:"support",question:"How do I get support?",answer:"Use the Contact page or send a message through your dashboard. We respond as quickly as possible."}];function voe(){return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-4xl space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"FAQ"}),s.jsx("p",{className:"text-muted-foreground",children:"Quick answers to common questions about Ready Set Fly."})]}),s.jsx(goe,{type:"single",collapsible:!0,className:"space-y-3",children:yoe.map(t=>s.jsxs(yU,{value:t.id,className:"rounded-lg border",children:[s.jsx(vU,{className:"px-4 py-3 text-left",children:t.question}),s.jsx(jU,{className:"px-4 pb-4 text-sm text-muted-foreground",children:t.answer})]},t.id))})]})}const Kk={name:"",tailNumber:"",typeId:"",cruiseKtasOverride:"",fuelBurnOverrideGph:"",usableFuelOverrideGal:"",maxGrossWeightOverrideLb:""};function joe(){const{toast:t}=Ot(),e=La(),[n,r]=p.useState(Kk),[i,a]=p.useState(null),{data:o=[]}=We({queryKey:["/api/aircraft/types"]}),{data:l=[],isLoading:c}=We({queryKey:["/api/aircraft/profiles"]}),d=p.useMemo(()=>o,[o]),u=()=>{r(Kk),a(null)},h=Ie({mutationFn:async()=>{const x={name:n.name.trim(),tailNumber:n.tailNumber||null,typeId:n.typeId||null,cruiseKtasOverride:n.cruiseKtasOverride?Number(n.cruiseKtasOverride):null,fuelBurnOverrideGph:n.fuelBurnOverrideGph?Number(n.fuelBurnOverrideGph):null,usableFuelOverrideGal:n.usableFuelOverrideGal?Number(n.usableFuelOverrideGal):null,maxGrossWeightOverrideLb:n.maxGrossWeightOverrideLb?Number(n.maxGrossWeightOverrideLb):null};return i?(await Te("PUT",`/api/aircraft/profiles/${i}`,x)).json():(await Te("POST","/api/aircraft/profiles",x)).json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/aircraft/profiles"]}),t({title:i?"Profile updated":"Profile created"}),u()},onError:x=>{t({title:"Save failed",description:x.message,variant:"destructive"})}}),m=Ie({mutationFn:async x=>(await Te("DELETE",`/api/aircraft/profiles/${x}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/aircraft/profiles"]}),t({title:"Profile deleted"})},onError:x=>{t({title:"Delete failed",description:x.message,variant:"destructive"})}});return s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-5xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Aircraft"}),s.jsx("p",{className:"text-muted-foreground",children:"Save aircraft profiles for faster planning."})]}),s.jsx(Gs,{children:s.jsx(Ys,{children:"Planning estimates only. Always verify against the aircraft POH/AFM and current conditions."})}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:i?"Edit Profile":"New Profile"}),s.jsx(Ne,{children:"Create a profile and optionally override planning values."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Name"}),s.jsx(B,{value:n.name,onChange:x=>r({...n,name:x.target.value}),placeholder:"My 172 at KAUS"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Tail Number"}),s.jsx(B,{value:n.tailNumber,onChange:x=>r({...n,tailNumber:x.target.value}),placeholder:"N12345"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(ae,{children:"Aircraft Type (RSF library)"}),s.jsxs(gs,{value:n.typeId,onValueChange:x=>r({...n,typeId:x}),children:[s.jsx(cs,{children:s.jsx(ys,{placeholder:"Select an aircraft type"})}),s.jsxs(ds,{children:[s.jsx(_e,{value:"",children:"None"}),d.map(x=>s.jsxs(_e,{value:x.id,children:[x.make," ",x.model,x.icaoType?` (${x.icaoType})`:""]},x.id))]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Cruise KTAS (override)"}),s.jsx(B,{value:n.cruiseKtasOverride,onChange:x=>r({...n,cruiseKtasOverride:x.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Fuel Burn GPH (override)"}),s.jsx(B,{value:n.fuelBurnOverrideGph,onChange:x=>r({...n,fuelBurnOverrideGph:x.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Usable Fuel Gal (override)"}),s.jsx(B,{value:n.usableFuelOverrideGal,onChange:x=>r({...n,usableFuelOverrideGal:x.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Max Gross Weight LB (override)"}),s.jsx(B,{value:n.maxGrossWeightOverrideLb,onChange:x=>r({...n,maxGrossWeightOverrideLb:x.target.value}),type:"number"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:()=>h.mutate(),disabled:h.isPending||!n.name.trim(),children:i?"Save Changes":"Save Profile"}),s.jsx(M,{variant:"ghost",onClick:u,children:"Clear"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Saved Profiles"}),s.jsx(Ne,{children:"Profiles with effective planning values."})]}),s.jsx(U,{className:"space-y-4",children:c?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading profiles..."}):l.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No profiles yet."}):l.map(x=>s.jsxs("div",{className:"rounded-lg border p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:x.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Tail: ",x.tailNumber||"-"," | Cruise: ",x.cruise_ktas_effective||"-"," KTAS | Burn: ",x.fuel_burn_gph_effective||"-"," gph"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{a(x.id),r({name:x.name,tailNumber:x.tailNumber||"",typeId:x.typeId||"",cruiseKtasOverride:x.cruiseKtasOverride?String(x.cruiseKtasOverride):"",fuelBurnOverrideGph:x.fuelBurnOverrideGph?String(x.fuelBurnOverrideGph):"",usableFuelOverrideGal:x.usableFuelOverrideGal?String(x.usableFuelOverrideGal):"",maxGrossWeightOverrideLb:x.maxGrossWeightOverrideLb?String(x.maxGrossWeightOverrideLb):""})},children:"Edit"}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>m.mutate(x.id),children:"Delete"})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Usable fuel: ",x.usable_fuel_gal_effective||"-"," gal | Max gross: ",x.max_gross_weight_lb_effective||"-"," lb"]})]},x.id))})]})]})}const oj={make:"",model:"",icaoType:"",category:"trainer",engineType:"piston",cruiseKtas:"",fuelBurnGph:"",usableFuelGal:"",maxGrossWeightLb:"",defaultAltitudeFt:"",isVerified:!0,sourceNote:"Typical planning estimates; verify POH/AFM."};function boe(){const{user:t}=Ds(),{toast:e}=Ot(),n=La(),[r,i]=p.useState(oj),[a,o]=p.useState(null),[l,c]=p.useState(""),d=!!(t!=null&&t.isAdmin||t!=null&&t.isSuperAdmin),{data:u=[],isLoading:h}=We({queryKey:["/api/aircraft/types",l],queryFn:async()=>{const g=new URLSearchParams;l&&g.set("q",l);const v=await fetch(Yt(`/api/aircraft/types?${g.toString()}`),{credentials:"include"});if(!v.ok)throw new Error("Failed to load types");return v.json()},enabled:d}),m=Ie({mutationFn:async()=>{const g={make:r.make.trim(),model:r.model.trim(),icaoType:r.icaoType||null,category:r.category,engineType:r.engineType,cruiseKtas:Number(r.cruiseKtas),fuelBurnGph:Number(r.fuelBurnGph),usableFuelGal:Number(r.usableFuelGal),maxGrossWeightLb:Number(r.maxGrossWeightLb),defaultAltitudeFt:r.defaultAltitudeFt?Number(r.defaultAltitudeFt):null,isVerified:!!r.isVerified,sourceNote:r.sourceNote||null};return a?(await Te("PUT",`/api/aircraft/types/${a}`,g)).json():(await Te("POST","/api/aircraft/types",g)).json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/aircraft/types"]}),e({title:a?"Aircraft type updated":"Aircraft type added"}),o(null),i(oj)},onError:g=>{e({title:"Save failed",description:g.message,variant:"destructive"})}}),x=Ie({mutationFn:async g=>(await Te("DELETE",`/api/aircraft/types/${g}`)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/aircraft/types"]}),e({title:"Aircraft type deleted"})},onError:g=>{e({title:"Delete failed",description:g.message,variant:"destructive"})}}),j=p.useMemo(()=>u,[u]);return d?s.jsxs("div",{className:"container mx-auto py-10 px-4 max-w-6xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Aircraft Library (Admin)"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage RSF aircraft templates."})]}),s.jsx(Gs,{children:s.jsx(Ys,{children:"Planning estimates only. Always verify against the aircraft POH/AFM and current conditions."})}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:a?"Edit Aircraft Type":"Add Aircraft Type"}),s.jsx(Ne,{children:"Keep seed values conservative and verified."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Make"}),s.jsx(B,{value:r.make,onChange:g=>i({...r,make:g.target.value}),placeholder:"Cessna"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Model"}),s.jsx(B,{value:r.model,onChange:g=>i({...r,model:g.target.value}),placeholder:"172S"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"ICAO Type"}),s.jsx(B,{value:r.icaoType,onChange:g=>i({...r,icaoType:g.target.value}),placeholder:"C172"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Category"}),s.jsx(B,{value:r.category,onChange:g=>i({...r,category:g.target.value}),placeholder:"trainer"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Engine Type"}),s.jsx(B,{value:r.engineType,onChange:g=>i({...r,engineType:g.target.value}),placeholder:"piston"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Cruise KTAS"}),s.jsx(B,{value:r.cruiseKtas,onChange:g=>i({...r,cruiseKtas:g.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Fuel Burn GPH"}),s.jsx(B,{value:r.fuelBurnGph,onChange:g=>i({...r,fuelBurnGph:g.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Usable Fuel Gal"}),s.jsx(B,{value:r.usableFuelGal,onChange:g=>i({...r,usableFuelGal:g.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Max Gross Weight LB"}),s.jsx(B,{value:r.maxGrossWeightLb,onChange:g=>i({...r,maxGrossWeightLb:g.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Default Altitude FT"}),s.jsx(B,{value:r.defaultAltitudeFt,onChange:g=>i({...r,defaultAltitudeFt:g.target.value}),type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{children:"Source Note"}),s.jsx(B,{value:r.sourceNote,onChange:g=>i({...r,sourceNote:g.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(Ts,{checked:r.isVerified,onCheckedChange:g=>i({...r,isVerified:!!g})}),s.jsx("span",{className:"text-sm",children:"Verified"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{onClick:()=>m.mutate(),disabled:m.isPending||!r.make||!r.model,children:a?"Save Changes":"Add Aircraft Type"}),s.jsx(M,{variant:"ghost",onClick:()=>{o(null),i(oj)},children:"Clear"})]})]})]}),s.jsxs(L,{children:[s.jsxs(G,{children:[s.jsx(Z,{children:"Aircraft Types"}),s.jsx(Ne,{children:"Search and manage the library."})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx(B,{value:l,onChange:g=>c(g.target.value),placeholder:"Search make, model, ICAO"})}),h?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading types..."}):j.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"No aircraft types found."}):j.map(g=>s.jsx("div",{className:"rounded-lg border p-4 space-y-2",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[g.make," ",g.model," ",g.icaoType?`(${g.icaoType})`:""]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Cruise ",g.cruiseKtas," KTAS | Burn ",g.fuelBurnGph," gph | Fuel ",g.usableFuelGal," gal | MGW ",g.maxGrossWeightLb," lb"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(M,{size:"sm",variant:"outline",onClick:()=>{o(g.id),i({make:g.make,model:g.model,icaoType:g.icaoType||"",category:g.category,engineType:g.engineType,cruiseKtas:String(g.cruiseKtas),fuelBurnGph:String(g.fuelBurnGph),usableFuelGal:String(g.usableFuelGal),maxGrossWeightLb:String(g.maxGrossWeightLb),defaultAltitudeFt:g.defaultAltitudeFt?String(g.defaultAltitudeFt):"",isVerified:!!g.isVerified,sourceNote:g.sourceNote||"Typical planning estimates; verify POH/AFM."})},children:"Edit"}),s.jsx(M,{size:"sm",variant:"destructive",onClick:()=>x.mutate(g.id),children:"Delete"})]})]})},g.id))]})]})]}):s.jsx("div",{className:"container mx-auto py-10 px-4",children:s.jsx(L,{children:s.jsxs(G,{children:[s.jsx(Z,{children:"Admin Access Required"}),s.jsx(Ne,{children:"Only admins can manage the aircraft library."})]})})})}const Gk=p.lazy(()=>Ma(()=>import("./hub-B4PmKLF_.js"),__vite__mapDeps([2,3]))),woe=p.lazy(()=>Ma(()=>import("./wizard-MUHvFPbA.js"),__vite__mapDeps([4,5,3,6]))),Noe=p.lazy(()=>Ma(()=>import("./roadmap-CFH7eii8.js"),__vite__mapDeps([7,5,3,6]))),Soe=p.lazy(()=>Ma(()=>import("./cost-YmqdXJ5h.js"),__vite__mapDeps([8,5,3]))),Coe=p.lazy(()=>Ma(()=>import("./progress-BxMEbHp7.js"),__vite__mapDeps([9,5,3,6]))),_oe=p.lazy(()=>Ma(()=>import("./written-DN3zwS37.js"),__vite__mapDeps([10,5,3,6]))),koe=p.lazy(()=>Ma(()=>import("./checklists-BuUtM-s_.js"),__vite__mapDeps([11,5]))),Poe=p.lazy(()=>Ma(()=>import("./weather-BoNkwd0_.js"),__vite__mapDeps([12,5,3])));function ta({component:t}){return s.jsx(p.Suspense,{fallback:s.jsx("div",{className:"container mx-auto px-4 py-10 text-sm text-muted-foreground",children:"Loading..."}),children:s.jsx(t,{})})}function Eoe(){const[t]=an();try{typeof window<"u"&&window.gtag&&window.gtag("event","page_view",{page_path:t,page_title:document.title})}catch{}return null}function Toe(){const{isAuthenticated:t}=Ds();return s.jsxs(Z9,{children:[s.jsx(ze,{path:"/",component:hZ}),s.jsx(ze,{path:"/login",component:Rae}),s.jsx(ze,{path:"/register",component:Iae}),s.jsx(ze,{path:"/verify-email",component:Oae}),s.jsx(ze,{path:"/rentals",component:uZ}),s.jsx(ze,{path:"/marketplace",component:AZ}),s.jsx(ze,{path:"/faq",component:voe}),s.jsx(ze,{path:"/aircraft/:id",component:Nee}),s.jsx(ze,{path:"/pilot-tools",component:Hae}),s.jsx(ze,{path:"/approach-plates",component:roe}),s.jsx(ze,{path:"/ownership-cost-calculator",component:Kae}),s.jsx(ze,{path:"/student",component:()=>s.jsx(ta,{component:Gk})}),s.jsx(ze,{path:"/start-flying",component:()=>s.jsx(ta,{component:Gk})}),s.jsx(ze,{path:"/student/wizard",component:()=>s.jsx(ta,{component:woe})}),s.jsx(ze,{path:"/student/roadmap",component:()=>s.jsx(ta,{component:Noe})}),s.jsx(ze,{path:"/student/cost",component:()=>s.jsx(ta,{component:Soe})}),s.jsx(ze,{path:"/student/progress",component:()=>s.jsx(ta,{component:Coe})}),s.jsx(ze,{path:"/student/written",component:()=>s.jsx(ta,{component:_oe})}),s.jsx(ze,{path:"/student/checklists",component:()=>s.jsx(ta,{component:koe})}),s.jsx(ze,{path:"/student/weather",component:()=>s.jsx(ta,{component:Poe})}),s.jsx(ze,{path:"/privacy-policy",component:Pae}),s.jsx(ze,{path:"/terms-of-service",component:Eae}),s.jsx(ze,{path:"/delete-account",component:Aae}),s.jsx(ze,{path:"/404",component:Vk}),t?s.jsxs(s.Fragment,{children:[s.jsx(ze,{path:"/dashboard",component:MZ}),s.jsx(ze,{path:"/profile",component:mee}),s.jsx(ze,{path:"/my-listings",component:vee}),s.jsx(ze,{path:"/favorites",component:bee}),s.jsx(ze,{path:"/messages",component:jee}),s.jsx(ze,{path:"/list-aircraft",component:Mk}),s.jsx(ze,{path:"/edit-aircraft/:id",component:Mk}),s.jsx(ze,{path:"/create-marketplace-listing",component:Lk}),s.jsx(ze,{path:"/edit-marketplace-listing/:id",component:Lk}),s.jsx(ze,{path:"/marketplace/listing/checkout",component:oae}),s.jsx(ze,{path:"/rental-payment/:id",component:cae}),s.jsx(ze,{path:"/owner-payout-setup",component:_ae}),s.jsx(ze,{path:"/owner-withdrawals",component:kae}),s.jsx(ze,{path:"/admin",component:pae}),s.jsx(ze,{path:"/verify-identity",component:Cae}),s.jsx(ze,{path:"/settings",component:Tae}),s.jsx(ze,{path:"/logbook",component:$ae}),s.jsx(ze,{path:"/logbook/pro",component:Gae}),s.jsx(ze,{path:"/logbook/pro/success",component:Yae}),s.jsx(ze,{path:"/logbook/pro/cancel",component:Qae}),s.jsx(ze,{path:"/flight-planner",component:noe}),s.jsx(ze,{path:"/my-aircraft",component:joe}),s.jsx(ze,{path:"/admin/aircraft-library",component:boe})]}):s.jsxs(s.Fragment,{children:[s.jsx(ze,{path:"/dashboard",component:hs}),s.jsx(ze,{path:"/profile",component:hs}),s.jsx(ze,{path:"/my-listings",component:hs}),s.jsx(ze,{path:"/favorites",component:hs}),s.jsx(ze,{path:"/messages",component:hs}),s.jsx(ze,{path:"/list-aircraft",component:hs}),s.jsx(ze,{path:"/edit-aircraft/:id",component:hs}),s.jsx(ze,{path:"/create-marketplace-listing",component:hs}),s.jsx(ze,{path:"/edit-marketplace-listing/:id",component:hs}),s.jsx(ze,{path:"/marketplace/listing/checkout",component:hs}),s.jsx(ze,{path:"/rental-payment/:id",component:hs}),s.jsx(ze,{path:"/owner-payout-setup",component:hs}),s.jsx(ze,{path:"/owner-withdrawals",component:hs}),s.jsx(ze,{path:"/admin",component:hs}),s.jsx(ze,{path:"/verify-identity",component:hs}),s.jsx(ze,{path:"/settings",component:hs}),s.jsx(ze,{path:"/logbook",component:hs}),s.jsx(ze,{path:"/logbook/pro",component:hs}),s.jsx(ze,{path:"/logbook/pro/success",component:hs}),s.jsx(ze,{path:"/logbook/pro/cancel",component:hs}),s.jsx(ze,{path:"/flight-planner",component:hs}),s.jsx(ze,{path:"/my-aircraft",component:hs}),s.jsx(ze,{path:"/admin/aircraft-library",component:hs})]}),s.jsx(ze,{component:Vk})]})}function Aoe(){return s.jsx(SV,{client:Le,children:s.jsx(CH,{defaultTheme:"light",children:s.jsxs(SH,{children:[s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsx(fG,{}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Eoe,{}),s.jsx(Toe,{})]}),s.jsx(hQ,{})]}),s.jsx(O7,{})]})})})}iR(document.getElementById("root")).render(s.jsx(Aoe,{}));export{Le as A,M as B,L as C,Te as D,Gs as E,Ph as F,Ys as G,Yt as H,bI as I,an as J,Ge as K,Je as L,Ia as M,Ap as N,Xe as P,jI as R,gm as S,K as a,G as b,Z as c,Ne as d,U as e,Bg as f,fr as g,Nn as h,ut as i,s as j,Ae as k,mn as l,B0 as m,n0 as n,Re as o,Uz as p,ae as q,p as r,B as s,nl as t,Su as u,Ts as v,Ot as w,Ds as x,We as y,Ie as z};
